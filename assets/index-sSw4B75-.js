var ex=B=>{throw TypeError(B)};var Wg=(B,Z,me)=>Z.has(B)||ex("Cannot "+me);var Vn=(B,Z,me)=>(Wg(B,Z,"read from private field"),me?me.call(B):Z.get(B)),Jr=(B,Z,me)=>Z.has(B)?ex("Cannot add the same private member more than once"):Z instanceof WeakSet?Z.add(B):Z.set(B,me),Ur=(B,Z,me,Ne)=>(Wg(B,Z,"write to private field"),Ne?Ne.call(B,me):Z.set(B,me),me),mi=(B,Z,me)=>(Wg(B,Z,"access private method"),me);var Ud=(B,Z,me,Ne)=>({set _(Ze){Ur(B,Z,Ze,me)},get _(){return Vn(B,Z,Ne)}});(function(){const Z=document.createElement("link").relList;if(Z&&Z.supports&&Z.supports("modulepreload"))return;for(const Ze of document.querySelectorAll('link[rel="modulepreload"]'))Ne(Ze);new MutationObserver(Ze=>{for(const U of Ze)if(U.type==="childList")for(const C of U.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&Ne(C)}).observe(document,{childList:!0,subtree:!0});function me(Ze){const U={};return Ze.integrity&&(U.integrity=Ze.integrity),Ze.referrerPolicy&&(U.referrerPolicy=Ze.referrerPolicy),Ze.crossOrigin==="use-credentials"?U.credentials="include":Ze.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function Ne(Ze){if(Ze.ep)return;Ze.ep=!0;const U=me(Ze);fetch(Ze.href,U)}})();function S2(B){return B&&B.__esModule&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B}var E2={exports:{}},H0={},L2={exports:{}},fi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Zw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),tx=Symbol.iterator;function Jw(B){return B===null||typeof B!="object"?null:(B=tx&&B[tx]||B["@@iterator"],typeof B=="function"?B:null)}var C2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P2=Object.assign,O2={};function Eh(B,Z,me){this.props=B,this.context=Z,this.refs=O2,this.updater=me||C2}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")};Eh.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function I2(){}I2.prototype=Eh.prototype;function Av(B,Z,me){this.props=B,this.context=Z,this.refs=O2,this.updater=me||C2}var Mv=Av.prototype=new I2;Mv.constructor=Av;P2(Mv,Eh.prototype);Mv.isPureReactComponent=!0;var nx=Array.isArray,z2=Object.prototype.hasOwnProperty,Sv={current:null},D2={key:!0,ref:!0,__self:!0,__source:!0};function R2(B,Z,me){var Ne,Ze={},U=null,C=null;if(Z!=null)for(Ne in Z.ref!==void 0&&(C=Z.ref),Z.key!==void 0&&(U=""+Z.key),Z)z2.call(Z,Ne)&&!D2.hasOwnProperty(Ne)&&(Ze[Ne]=Z[Ne]);var e=arguments.length-2;if(e===1)Ze.children=me;else if(1<e){for(var T=Array(e),k=0;k<e;k++)T[k]=arguments[k+2];Ze.children=T}if(B&&B.defaultProps)for(Ne in e=B.defaultProps,e)Ze[Ne]===void 0&&(Ze[Ne]=e[Ne]);return{$$typeof:Zp,type:B,key:U,ref:C,props:Ze,_owner:Sv.current}}function $w(B,Z){return{$$typeof:Zp,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function Ev(B){return typeof B=="object"&&B!==null&&B.$$typeof===Zp}function Qw(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return Z[me]})}var rx=/\/+/g;function Yg(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?Qw(""+B.key):Z.toString(36)}function o0(B,Z,me,Ne,Ze){var U=typeof B;(U==="undefined"||U==="boolean")&&(B=null);var C=!1;if(B===null)C=!0;else switch(U){case"string":case"number":C=!0;break;case"object":switch(B.$$typeof){case Zp:case Uw:C=!0}}if(C)return C=B,Ze=Ze(C),B=Ne===""?"."+Yg(C,0):Ne,nx(Ze)?(me="",B!=null&&(me=B.replace(rx,"$&/")+"/"),o0(Ze,Z,me,"",function(k){return k})):Ze!=null&&(Ev(Ze)&&(Ze=$w(Ze,me+(!Ze.key||C&&C.key===Ze.key?"":(""+Ze.key).replace(rx,"$&/")+"/")+B)),Z.push(Ze)),1;if(C=0,Ne=Ne===""?".":Ne+":",nx(B))for(var e=0;e<B.length;e++){U=B[e];var T=Ne+Yg(U,e);C+=o0(U,Z,me,T,Ze)}else if(T=Jw(B),typeof T=="function")for(B=T.call(B),e=0;!(U=B.next()).done;)U=U.value,T=Ne+Yg(U,e++),C+=o0(U,Z,me,T,Ze);else if(U==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return C}function Vd(B,Z,me){if(B==null)return B;var Ne=[],Ze=0;return o0(B,Ne,"","",function(U){return Z.call(me,U,Ze++)}),Ne}function e4(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var gs={current:null},s0={transition:null},t4={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:s0,ReactCurrentOwner:Sv};function F2(){throw Error("act(...) is not supported in production builds of React.")}fi.Children={map:Vd,forEach:function(B,Z,me){Vd(B,function(){Z.apply(this,arguments)},me)},count:function(B){var Z=0;return Vd(B,function(){Z++}),Z},toArray:function(B){return Vd(B,function(Z){return Z})||[]},only:function(B){if(!Ev(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};fi.Component=Eh;fi.Fragment=Vw;fi.Profiler=qw;fi.PureComponent=Av;fi.StrictMode=Hw;fi.Suspense=Xw;fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t4;fi.act=F2;fi.cloneElement=function(B,Z,me){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ne=P2({},B.props),Ze=B.key,U=B.ref,C=B._owner;if(Z!=null){if(Z.ref!==void 0&&(U=Z.ref,C=Sv.current),Z.key!==void 0&&(Ze=""+Z.key),B.type&&B.type.defaultProps)var e=B.type.defaultProps;for(T in Z)z2.call(Z,T)&&!D2.hasOwnProperty(T)&&(Ne[T]=Z[T]===void 0&&e!==void 0?e[T]:Z[T])}var T=arguments.length-2;if(T===1)Ne.children=me;else if(1<T){e=Array(T);for(var k=0;k<T;k++)e[k]=arguments[k+2];Ne.children=e}return{$$typeof:Zp,type:B.type,key:Ze,ref:U,props:Ne,_owner:C}};fi.createContext=function(B){return B={$$typeof:Ww,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:Gw,_context:B},B.Consumer=B};fi.createElement=R2;fi.createFactory=function(B){var Z=R2.bind(null,B);return Z.type=B,Z};fi.createRef=function(){return{current:null}};fi.forwardRef=function(B){return{$$typeof:Yw,render:B}};fi.isValidElement=Ev;fi.lazy=function(B){return{$$typeof:Kw,_payload:{_status:-1,_result:B},_init:e4}};fi.memo=function(B,Z){return{$$typeof:Zw,type:B,compare:Z===void 0?null:Z}};fi.startTransition=function(B){var Z=s0.transition;s0.transition={};try{B()}finally{s0.transition=Z}};fi.unstable_act=F2;fi.useCallback=function(B,Z){return gs.current.useCallback(B,Z)};fi.useContext=function(B){return gs.current.useContext(B)};fi.useDebugValue=function(){};fi.useDeferredValue=function(B){return gs.current.useDeferredValue(B)};fi.useEffect=function(B,Z){return gs.current.useEffect(B,Z)};fi.useId=function(){return gs.current.useId()};fi.useImperativeHandle=function(B,Z,me){return gs.current.useImperativeHandle(B,Z,me)};fi.useInsertionEffect=function(B,Z){return gs.current.useInsertionEffect(B,Z)};fi.useLayoutEffect=function(B,Z){return gs.current.useLayoutEffect(B,Z)};fi.useMemo=function(B,Z){return gs.current.useMemo(B,Z)};fi.useReducer=function(B,Z,me){return gs.current.useReducer(B,Z,me)};fi.useRef=function(B){return gs.current.useRef(B)};fi.useState=function(B){return gs.current.useState(B)};fi.useSyncExternalStore=function(B,Z,me){return gs.current.useSyncExternalStore(B,Z,me)};fi.useTransition=function(){return gs.current.useTransition()};fi.version="18.3.1";L2.exports=fi;var ps=L2.exports;const n4=S2(ps);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4=ps,i4=Symbol.for("react.element"),a4=Symbol.for("react.fragment"),o4=Object.prototype.hasOwnProperty,s4=r4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l4={key:!0,ref:!0,__self:!0,__source:!0};function B2(B,Z,me){var Ne,Ze={},U=null,C=null;me!==void 0&&(U=""+me),Z.key!==void 0&&(U=""+Z.key),Z.ref!==void 0&&(C=Z.ref);for(Ne in Z)o4.call(Z,Ne)&&!l4.hasOwnProperty(Ne)&&(Ze[Ne]=Z[Ne]);if(B&&B.defaultProps)for(Ne in Z=B.defaultProps,Z)Ze[Ne]===void 0&&(Ze[Ne]=Z[Ne]);return{$$typeof:i4,type:B,key:U,ref:C,props:Ze,_owner:s4.current}}H0.Fragment=a4;H0.jsx=B2;H0.jsxs=B2;E2.exports=H0;var ju=E2.exports,b1={},N2={exports:{}},ll={},j2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(B){function Z(E,P){var O=E.length;E.push(P);e:for(;0<O;){var I=O-1>>>1,D=E[I];if(0<Ze(D,P))E[I]=P,E[O]=D,O=I;else break e}}function me(E){return E.length===0?null:E[0]}function Ne(E){if(E.length===0)return null;var P=E[0],O=E.pop();if(O!==P){E[0]=O;e:for(var I=0,D=E.length,V=D>>>1;I<V;){var z=2*(I+1)-1,j=E[z],X=z+1,F=E[X];if(0>Ze(j,O))X<D&&0>Ze(F,j)?(E[I]=F,E[X]=O,I=X):(E[I]=j,E[z]=O,I=z);else if(X<D&&0>Ze(F,O))E[I]=F,E[X]=O,I=X;else break e}}return P}function Ze(E,P){var O=E.sortIndex-P.sortIndex;return O!==0?O:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var U=performance;B.unstable_now=function(){return U.now()}}else{var C=Date,e=C.now();B.unstable_now=function(){return C.now()-e}}var T=[],k=[],o=1,_=null,b=3,f=!1,s=!1,t=!1,i=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,n=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(E){for(var P=me(k);P!==null;){if(P.callback===null)Ne(k);else if(P.startTime<=E)Ne(k),P.sortIndex=P.expirationTime,Z(T,P);else break;P=me(k)}}function l(E){if(t=!1,a(E),!s)if(me(T)!==null)s=!0,S(u);else{var P=me(k);P!==null&&A(l,P.startTime-E)}}function u(E,P){s=!1,t&&(t=!1,r(x),x=-1),f=!0;var O=b;try{for(a(P),_=me(T);_!==null&&(!(_.expirationTime>P)||E&&!g());){var I=_.callback;if(typeof I=="function"){_.callback=null,b=_.priorityLevel;var D=I(_.expirationTime<=P);P=B.unstable_now(),typeof D=="function"?_.callback=D:_===me(T)&&Ne(T),a(P)}else Ne(T);_=me(T)}if(_!==null)var V=!0;else{var z=me(k);z!==null&&A(l,z.startTime-P),V=!1}return V}finally{_=null,b=O,f=!1}}var h=!1,c=null,x=-1,p=5,v=-1;function g(){return!(B.unstable_now()-v<p)}function y(){if(c!==null){var E=B.unstable_now();v=E;var P=!0;try{P=c(!0,E)}finally{P?m():(h=!1,c=null)}}else h=!1}var m;if(typeof n=="function")m=function(){n(y)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,d=w.port2;w.port1.onmessage=y,m=function(){d.postMessage(null)}}else m=function(){i(y,0)};function S(E){c=E,h||(h=!0,m())}function A(E,P){x=i(function(){E(B.unstable_now())},P)}B.unstable_IdlePriority=5,B.unstable_ImmediatePriority=1,B.unstable_LowPriority=4,B.unstable_NormalPriority=3,B.unstable_Profiling=null,B.unstable_UserBlockingPriority=2,B.unstable_cancelCallback=function(E){E.callback=null},B.unstable_continueExecution=function(){s||f||(s=!0,S(u))},B.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<E?Math.floor(1e3/E):5},B.unstable_getCurrentPriorityLevel=function(){return b},B.unstable_getFirstCallbackNode=function(){return me(T)},B.unstable_next=function(E){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var O=b;b=P;try{return E()}finally{b=O}},B.unstable_pauseExecution=function(){},B.unstable_requestPaint=function(){},B.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=b;b=E;try{return P()}finally{b=O}},B.unstable_scheduleCallback=function(E,P,O){var I=B.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?I+O:I):O=I,E){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,E={id:o++,callback:P,priorityLevel:E,startTime:O,expirationTime:D,sortIndex:-1},O>I?(E.sortIndex=O,Z(k,E),me(T)===null&&E===me(k)&&(t?(r(x),x=-1):t=!0,A(l,O-I))):(E.sortIndex=D,Z(T,E),s||f||(s=!0,S(u))),E},B.unstable_shouldYield=g,B.unstable_wrapCallback=function(E){var P=b;return function(){var O=b;b=P;try{return E.apply(this,arguments)}finally{b=O}}}})(U2);j2.exports=U2;var u4=j2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=ps,sl=u4;function kr(B){for(var Z="https://reactjs.org/docs/error-decoder.html?invariant="+B,me=1;me<arguments.length;me++)Z+="&args[]="+encodeURIComponent(arguments[me]);return"Minified React error #"+B+"; visit "+Z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V2=new Set,Mp={};function mf(B,Z){bh(B,Z),bh(B+"Capture",Z)}function bh(B,Z){for(Mp[B]=Z,B=0;B<Z.length;B++)V2.add(Z[B])}var qu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_1=Object.prototype.hasOwnProperty,f4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ix={},ax={};function h4(B){return _1.call(ax,B)?!0:_1.call(ix,B)?!1:f4.test(B)?ax[B]=!0:(ix[B]=!0,!1)}function p4(B,Z,me,Ne){if(me!==null&&me.type===0)return!1;switch(typeof Z){case"function":case"symbol":return!0;case"boolean":return Ne?!1:me!==null?!me.acceptsBooleans:(B=B.toLowerCase().slice(0,5),B!=="data-"&&B!=="aria-");default:return!1}}function d4(B,Z,me,Ne){if(Z===null||typeof Z>"u"||p4(B,Z,me,Ne))return!0;if(Ne)return!1;if(me!==null)switch(me.type){case 3:return!Z;case 4:return Z===!1;case 5:return isNaN(Z);case 6:return isNaN(Z)||1>Z}return!1}function vs(B,Z,me,Ne,Ze,U,C){this.acceptsBooleans=Z===2||Z===3||Z===4,this.attributeName=Ne,this.attributeNamespace=Ze,this.mustUseProperty=me,this.propertyName=B,this.type=Z,this.sanitizeURL=U,this.removeEmptyString=C}var Po={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(B){Po[B]=new vs(B,0,!1,B,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(B){var Z=B[0];Po[Z]=new vs(Z,1,!1,B[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(B){Po[B]=new vs(B,2,!1,B.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(B){Po[B]=new vs(B,2,!1,B,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(B){Po[B]=new vs(B,3,!1,B.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(B){Po[B]=new vs(B,3,!0,B,null,!1,!1)});["capture","download"].forEach(function(B){Po[B]=new vs(B,4,!1,B,null,!1,!1)});["cols","rows","size","span"].forEach(function(B){Po[B]=new vs(B,6,!1,B,null,!1,!1)});["rowSpan","start"].forEach(function(B){Po[B]=new vs(B,5,!1,B.toLowerCase(),null,!1,!1)});var Lv=/[\-:]([a-z])/g;function Cv(B){return B[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(B){var Z=B.replace(Lv,Cv);Po[Z]=new vs(Z,1,!1,B,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(B){var Z=B.replace(Lv,Cv);Po[Z]=new vs(Z,1,!1,B,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(B){var Z=B.replace(Lv,Cv);Po[Z]=new vs(Z,1,!1,B,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(B){Po[B]=new vs(B,1,!1,B.toLowerCase(),null,!1,!1)});Po.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(B){Po[B]=new vs(B,1,!1,B.toLowerCase(),null,!0,!0)});function Pv(B,Z,me,Ne){var Ze=Po.hasOwnProperty(Z)?Po[Z]:null;(Ze!==null?Ze.type!==0:Ne||!(2<Z.length)||Z[0]!=="o"&&Z[0]!=="O"||Z[1]!=="n"&&Z[1]!=="N")&&(d4(Z,me,Ze,Ne)&&(me=null),Ne||Ze===null?h4(Z)&&(me===null?B.removeAttribute(Z):B.setAttribute(Z,""+me)):Ze.mustUseProperty?B[Ze.propertyName]=me===null?Ze.type===3?!1:"":me:(Z=Ze.attributeName,Ne=Ze.attributeNamespace,me===null?B.removeAttribute(Z):(Ze=Ze.type,me=Ze===3||Ze===4&&me===!0?"":""+me,Ne?B.setAttributeNS(Ne,Z,me):B.setAttribute(Z,me))))}var Xu=c4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),H2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),k1=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),cc=Symbol.for("react.lazy"),G2=Symbol.for("react.offscreen"),ox=Symbol.iterator;function ip(B){return B===null||typeof B!="object"?null:(B=ox&&B[ox]||B["@@iterator"],typeof B=="function"?B:null)}var Ta=Object.assign,Xg;function hp(B){if(Xg===void 0)try{throw Error()}catch(me){var Z=me.stack.trim().match(/\n( *(at )?)/);Xg=Z&&Z[1]||""}return`
`+Xg+B}var Zg=!1;function Kg(B,Z){if(!B||Zg)return"";Zg=!0;var me=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Z)if(Z=function(){throw Error()},Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(k){var Ne=k}Reflect.construct(B,[],Z)}else{try{Z.call()}catch(k){Ne=k}B.call(Z.prototype)}else{try{throw Error()}catch(k){Ne=k}B()}}catch(k){if(k&&Ne&&typeof k.stack=="string"){for(var Ze=k.stack.split(`
`),U=Ne.stack.split(`
`),C=Ze.length-1,e=U.length-1;1<=C&&0<=e&&Ze[C]!==U[e];)e--;for(;1<=C&&0<=e;C--,e--)if(Ze[C]!==U[e]){if(C!==1||e!==1)do if(C--,e--,0>e||Ze[C]!==U[e]){var T=`
`+Ze[C].replace(" at new "," at ");return B.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",B.displayName)),T}while(1<=C&&0<=e);break}}}finally{Zg=!1,Error.prepareStackTrace=me}return(B=B?B.displayName||B.name:"")?hp(B):""}function g4(B){switch(B.tag){case 5:return hp(B.type);case 16:return hp("Lazy");case 13:return hp("Suspense");case 19:return hp("SuspenseList");case 0:case 2:case 15:return B=Kg(B.type,!1),B;case 11:return B=Kg(B.type.render,!1),B;case 1:return B=Kg(B.type,!0),B;default:return""}}function A1(B){if(B==null)return null;if(typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case Hf:return"Fragment";case Vf:return"Portal";case w1:return"Profiler";case Ov:return"StrictMode";case T1:return"Suspense";case k1:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case q2:return(B.displayName||"Context")+".Consumer";case H2:return(B._context.displayName||"Context")+".Provider";case Iv:var Z=B.render;return B=B.displayName,B||(B=Z.displayName||Z.name||"",B=B!==""?"ForwardRef("+B+")":"ForwardRef"),B;case zv:return Z=B.displayName||null,Z!==null?Z:A1(B.type)||"Memo";case cc:Z=B._payload,B=B._init;try{return A1(B(Z))}catch{}}return null}function v4(B){var Z=B.type;switch(B.tag){case 24:return"Cache";case 9:return(Z.displayName||"Context")+".Consumer";case 10:return(Z._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return B=Z.render,B=B.displayName||B.name||"",Z.displayName||(B!==""?"ForwardRef("+B+")":"ForwardRef");case 7:return"Fragment";case 5:return Z;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(Z);case 8:return Z===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Z=="function")return Z.displayName||Z.name||null;if(typeof Z=="string")return Z}return null}function Cc(B){switch(typeof B){case"boolean":case"number":case"string":case"undefined":return B;case"object":return B;default:return""}}function W2(B){var Z=B.type;return(B=B.nodeName)&&B.toLowerCase()==="input"&&(Z==="checkbox"||Z==="radio")}function m4(B){var Z=W2(B)?"checked":"value",me=Object.getOwnPropertyDescriptor(B.constructor.prototype,Z),Ne=""+B[Z];if(!B.hasOwnProperty(Z)&&typeof me<"u"&&typeof me.get=="function"&&typeof me.set=="function"){var Ze=me.get,U=me.set;return Object.defineProperty(B,Z,{configurable:!0,get:function(){return Ze.call(this)},set:function(C){Ne=""+C,U.call(this,C)}}),Object.defineProperty(B,Z,{enumerable:me.enumerable}),{getValue:function(){return Ne},setValue:function(C){Ne=""+C},stopTracking:function(){B._valueTracker=null,delete B[Z]}}}}function qd(B){B._valueTracker||(B._valueTracker=m4(B))}function Y2(B){if(!B)return!1;var Z=B._valueTracker;if(!Z)return!0;var me=Z.getValue(),Ne="";return B&&(Ne=W2(B)?B.checked?"true":"false":B.value),B=Ne,B!==me?(Z.setValue(B),!0):!1}function y0(B){if(B=B||(typeof document<"u"?document:void 0),typeof B>"u")return null;try{return B.activeElement||B.body}catch{return B.body}}function M1(B,Z){var me=Z.checked;return Ta({},Z,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:me??B._wrapperState.initialChecked})}function sx(B,Z){var me=Z.defaultValue==null?"":Z.defaultValue,Ne=Z.checked!=null?Z.checked:Z.defaultChecked;me=Cc(Z.value!=null?Z.value:me),B._wrapperState={initialChecked:Ne,initialValue:me,controlled:Z.type==="checkbox"||Z.type==="radio"?Z.checked!=null:Z.value!=null}}function X2(B,Z){Z=Z.checked,Z!=null&&Pv(B,"checked",Z,!1)}function S1(B,Z){X2(B,Z);var me=Cc(Z.value),Ne=Z.type;if(me!=null)Ne==="number"?(me===0&&B.value===""||B.value!=me)&&(B.value=""+me):B.value!==""+me&&(B.value=""+me);else if(Ne==="submit"||Ne==="reset"){B.removeAttribute("value");return}Z.hasOwnProperty("value")?E1(B,Z.type,me):Z.hasOwnProperty("defaultValue")&&E1(B,Z.type,Cc(Z.defaultValue)),Z.checked==null&&Z.defaultChecked!=null&&(B.defaultChecked=!!Z.defaultChecked)}function lx(B,Z,me){if(Z.hasOwnProperty("value")||Z.hasOwnProperty("defaultValue")){var Ne=Z.type;if(!(Ne!=="submit"&&Ne!=="reset"||Z.value!==void 0&&Z.value!==null))return;Z=""+B._wrapperState.initialValue,me||Z===B.value||(B.value=Z),B.defaultValue=Z}me=B.name,me!==""&&(B.name=""),B.defaultChecked=!!B._wrapperState.initialChecked,me!==""&&(B.name=me)}function E1(B,Z,me){(Z!=="number"||y0(B.ownerDocument)!==B)&&(me==null?B.defaultValue=""+B._wrapperState.initialValue:B.defaultValue!==""+me&&(B.defaultValue=""+me))}var pp=Array.isArray;function eh(B,Z,me,Ne){if(B=B.options,Z){Z={};for(var Ze=0;Ze<me.length;Ze++)Z["$"+me[Ze]]=!0;for(me=0;me<B.length;me++)Ze=Z.hasOwnProperty("$"+B[me].value),B[me].selected!==Ze&&(B[me].selected=Ze),Ze&&Ne&&(B[me].defaultSelected=!0)}else{for(me=""+Cc(me),Z=null,Ze=0;Ze<B.length;Ze++){if(B[Ze].value===me){B[Ze].selected=!0,Ne&&(B[Ze].defaultSelected=!0);return}Z!==null||B[Ze].disabled||(Z=B[Ze])}Z!==null&&(Z.selected=!0)}}function L1(B,Z){if(Z.dangerouslySetInnerHTML!=null)throw Error(kr(91));return Ta({},Z,{value:void 0,defaultValue:void 0,children:""+B._wrapperState.initialValue})}function ux(B,Z){var me=Z.value;if(me==null){if(me=Z.children,Z=Z.defaultValue,me!=null){if(Z!=null)throw Error(kr(92));if(pp(me)){if(1<me.length)throw Error(kr(93));me=me[0]}Z=me}Z==null&&(Z=""),me=Z}B._wrapperState={initialValue:Cc(me)}}function Z2(B,Z){var me=Cc(Z.value),Ne=Cc(Z.defaultValue);me!=null&&(me=""+me,me!==B.value&&(B.value=me),Z.defaultValue==null&&B.defaultValue!==me&&(B.defaultValue=me)),Ne!=null&&(B.defaultValue=""+Ne)}function cx(B){var Z=B.textContent;Z===B._wrapperState.initialValue&&Z!==""&&Z!==null&&(B.value=Z)}function K2(B){switch(B){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C1(B,Z){return B==null||B==="http://www.w3.org/1999/xhtml"?K2(Z):B==="http://www.w3.org/2000/svg"&&Z==="foreignObject"?"http://www.w3.org/1999/xhtml":B}var Gd,J2=function(B){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Z,me,Ne,Ze){MSApp.execUnsafeLocalFunction(function(){return B(Z,me,Ne,Ze)})}:B}(function(B,Z){if(B.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in B)B.innerHTML=Z;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+Z.valueOf().toString()+"</svg>",Z=Gd.firstChild;B.firstChild;)B.removeChild(B.firstChild);for(;Z.firstChild;)B.appendChild(Z.firstChild)}});function Sp(B,Z){if(Z){var me=B.firstChild;if(me&&me===B.lastChild&&me.nodeType===3){me.nodeValue=Z;return}}B.textContent=Z}var mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y4=["Webkit","ms","Moz","O"];Object.keys(mp).forEach(function(B){y4.forEach(function(Z){Z=Z+B.charAt(0).toUpperCase()+B.substring(1),mp[Z]=mp[B]})});function $2(B,Z,me){return Z==null||typeof Z=="boolean"||Z===""?"":me||typeof Z!="number"||Z===0||mp.hasOwnProperty(B)&&mp[B]?(""+Z).trim():Z+"px"}function Q2(B,Z){B=B.style;for(var me in Z)if(Z.hasOwnProperty(me)){var Ne=me.indexOf("--")===0,Ze=$2(me,Z[me],Ne);me==="float"&&(me="cssFloat"),Ne?B.setProperty(me,Ze):B[me]=Ze}}var x4=Ta({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P1(B,Z){if(Z){if(x4[B]&&(Z.children!=null||Z.dangerouslySetInnerHTML!=null))throw Error(kr(137,B));if(Z.dangerouslySetInnerHTML!=null){if(Z.children!=null)throw Error(kr(60));if(typeof Z.dangerouslySetInnerHTML!="object"||!("__html"in Z.dangerouslySetInnerHTML))throw Error(kr(61))}if(Z.style!=null&&typeof Z.style!="object")throw Error(kr(62))}}function O1(B,Z){if(B.indexOf("-")===-1)return typeof Z.is=="string";switch(B){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I1=null;function Dv(B){return B=B.target||B.srcElement||window,B.correspondingUseElement&&(B=B.correspondingUseElement),B.nodeType===3?B.parentNode:B}var z1=null,th=null,nh=null;function fx(B){if(B=$p(B)){if(typeof z1!="function")throw Error(kr(280));var Z=B.stateNode;Z&&(Z=X0(Z),z1(B.stateNode,B.type,Z))}}function eb(B){th?nh?nh.push(B):nh=[B]:th=B}function tb(){if(th){var B=th,Z=nh;if(nh=th=null,fx(B),Z)for(B=0;B<Z.length;B++)fx(Z[B])}}function nb(B,Z){return B(Z)}function rb(){}var Jg=!1;function ib(B,Z,me){if(Jg)return B(Z,me);Jg=!0;try{return nb(B,Z,me)}finally{Jg=!1,(th!==null||nh!==null)&&(rb(),tb())}}function Ep(B,Z){var me=B.stateNode;if(me===null)return null;var Ne=X0(me);if(Ne===null)return null;me=Ne[Z];e:switch(Z){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ne=!Ne.disabled)||(B=B.type,Ne=!(B==="button"||B==="input"||B==="select"||B==="textarea")),B=!Ne;break e;default:B=!1}if(B)return null;if(me&&typeof me!="function")throw Error(kr(231,Z,typeof me));return me}var D1=!1;if(qu)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){D1=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{D1=!1}function b4(B,Z,me,Ne,Ze,U,C,e,T){var k=Array.prototype.slice.call(arguments,3);try{Z.apply(me,k)}catch(o){this.onError(o)}}var yp=!1,x0=null,b0=!1,R1=null,_4={onError:function(B){yp=!0,x0=B}};function w4(B,Z,me,Ne,Ze,U,C,e,T){yp=!1,x0=null,b4.apply(_4,arguments)}function T4(B,Z,me,Ne,Ze,U,C,e,T){if(w4.apply(this,arguments),yp){if(yp){var k=x0;yp=!1,x0=null}else throw Error(kr(198));b0||(b0=!0,R1=k)}}function yf(B){var Z=B,me=B;if(B.alternate)for(;Z.return;)Z=Z.return;else{B=Z;do Z=B,Z.flags&4098&&(me=Z.return),B=Z.return;while(B)}return Z.tag===3?me:null}function ab(B){if(B.tag===13){var Z=B.memoizedState;if(Z===null&&(B=B.alternate,B!==null&&(Z=B.memoizedState)),Z!==null)return Z.dehydrated}return null}function hx(B){if(yf(B)!==B)throw Error(kr(188))}function k4(B){var Z=B.alternate;if(!Z){if(Z=yf(B),Z===null)throw Error(kr(188));return Z!==B?null:B}for(var me=B,Ne=Z;;){var Ze=me.return;if(Ze===null)break;var U=Ze.alternate;if(U===null){if(Ne=Ze.return,Ne!==null){me=Ne;continue}break}if(Ze.child===U.child){for(U=Ze.child;U;){if(U===me)return hx(Ze),B;if(U===Ne)return hx(Ze),Z;U=U.sibling}throw Error(kr(188))}if(me.return!==Ne.return)me=Ze,Ne=U;else{for(var C=!1,e=Ze.child;e;){if(e===me){C=!0,me=Ze,Ne=U;break}if(e===Ne){C=!0,Ne=Ze,me=U;break}e=e.sibling}if(!C){for(e=U.child;e;){if(e===me){C=!0,me=U,Ne=Ze;break}if(e===Ne){C=!0,Ne=U,me=Ze;break}e=e.sibling}if(!C)throw Error(kr(189))}}if(me.alternate!==Ne)throw Error(kr(190))}if(me.tag!==3)throw Error(kr(188));return me.stateNode.current===me?B:Z}function ob(B){return B=k4(B),B!==null?sb(B):null}function sb(B){if(B.tag===5||B.tag===6)return B;for(B=B.child;B!==null;){var Z=sb(B);if(Z!==null)return Z;B=B.sibling}return null}var lb=sl.unstable_scheduleCallback,px=sl.unstable_cancelCallback,A4=sl.unstable_shouldYield,M4=sl.unstable_requestPaint,ja=sl.unstable_now,S4=sl.unstable_getCurrentPriorityLevel,Rv=sl.unstable_ImmediatePriority,ub=sl.unstable_UserBlockingPriority,_0=sl.unstable_NormalPriority,E4=sl.unstable_LowPriority,cb=sl.unstable_IdlePriority,q0=null,Mu=null;function L4(B){if(Mu&&typeof Mu.onCommitFiberRoot=="function")try{Mu.onCommitFiberRoot(q0,B,void 0,(B.current.flags&128)===128)}catch{}}var iu=Math.clz32?Math.clz32:O4,C4=Math.log,P4=Math.LN2;function O4(B){return B>>>=0,B===0?32:31-(C4(B)/P4|0)|0}var Wd=64,Yd=4194304;function dp(B){switch(B&-B){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return B&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return B&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return B}}function w0(B,Z){var me=B.pendingLanes;if(me===0)return 0;var Ne=0,Ze=B.suspendedLanes,U=B.pingedLanes,C=me&268435455;if(C!==0){var e=C&~Ze;e!==0?Ne=dp(e):(U&=C,U!==0&&(Ne=dp(U)))}else C=me&~Ze,C!==0?Ne=dp(C):U!==0&&(Ne=dp(U));if(Ne===0)return 0;if(Z!==0&&Z!==Ne&&!(Z&Ze)&&(Ze=Ne&-Ne,U=Z&-Z,Ze>=U||Ze===16&&(U&4194240)!==0))return Z;if(Ne&4&&(Ne|=me&16),Z=B.entangledLanes,Z!==0)for(B=B.entanglements,Z&=Ne;0<Z;)me=31-iu(Z),Ze=1<<me,Ne|=B[me],Z&=~Ze;return Ne}function I4(B,Z){switch(B){case 1:case 2:case 4:return Z+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Z+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z4(B,Z){for(var me=B.suspendedLanes,Ne=B.pingedLanes,Ze=B.expirationTimes,U=B.pendingLanes;0<U;){var C=31-iu(U),e=1<<C,T=Ze[C];T===-1?(!(e&me)||e&Ne)&&(Ze[C]=I4(e,Z)):T<=Z&&(B.expiredLanes|=e),U&=~e}}function F1(B){return B=B.pendingLanes&-1073741825,B!==0?B:B&1073741824?1073741824:0}function fb(){var B=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),B}function $g(B){for(var Z=[],me=0;31>me;me++)Z.push(B);return Z}function Kp(B,Z,me){B.pendingLanes|=Z,Z!==536870912&&(B.suspendedLanes=0,B.pingedLanes=0),B=B.eventTimes,Z=31-iu(Z),B[Z]=me}function D4(B,Z){var me=B.pendingLanes&~Z;B.pendingLanes=Z,B.suspendedLanes=0,B.pingedLanes=0,B.expiredLanes&=Z,B.mutableReadLanes&=Z,B.entangledLanes&=Z,Z=B.entanglements;var Ne=B.eventTimes;for(B=B.expirationTimes;0<me;){var Ze=31-iu(me),U=1<<Ze;Z[Ze]=0,Ne[Ze]=-1,B[Ze]=-1,me&=~U}}function Fv(B,Z){var me=B.entangledLanes|=Z;for(B=B.entanglements;me;){var Ne=31-iu(me),Ze=1<<Ne;Ze&Z|B[Ne]&Z&&(B[Ne]|=Z),me&=~Ze}}var Wi=0;function hb(B){return B&=-B,1<B?4<B?B&268435455?16:536870912:4:1}var pb,Bv,db,gb,vb,B1=!1,Xd=[],wc=null,Tc=null,kc=null,Lp=new Map,Cp=new Map,hc=[],R4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dx(B,Z){switch(B){case"focusin":case"focusout":wc=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":Lp.delete(Z.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(Z.pointerId)}}function op(B,Z,me,Ne,Ze,U){return B===null||B.nativeEvent!==U?(B={blockedOn:Z,domEventName:me,eventSystemFlags:Ne,nativeEvent:U,targetContainers:[Ze]},Z!==null&&(Z=$p(Z),Z!==null&&Bv(Z)),B):(B.eventSystemFlags|=Ne,Z=B.targetContainers,Ze!==null&&Z.indexOf(Ze)===-1&&Z.push(Ze),B)}function F4(B,Z,me,Ne,Ze){switch(Z){case"focusin":return wc=op(wc,B,Z,me,Ne,Ze),!0;case"dragenter":return Tc=op(Tc,B,Z,me,Ne,Ze),!0;case"mouseover":return kc=op(kc,B,Z,me,Ne,Ze),!0;case"pointerover":var U=Ze.pointerId;return Lp.set(U,op(Lp.get(U)||null,B,Z,me,Ne,Ze)),!0;case"gotpointercapture":return U=Ze.pointerId,Cp.set(U,op(Cp.get(U)||null,B,Z,me,Ne,Ze)),!0}return!1}function mb(B){var Z=Qc(B.target);if(Z!==null){var me=yf(Z);if(me!==null){if(Z=me.tag,Z===13){if(Z=ab(me),Z!==null){B.blockedOn=Z,vb(B.priority,function(){db(me)});return}}else if(Z===3&&me.stateNode.current.memoizedState.isDehydrated){B.blockedOn=me.tag===3?me.stateNode.containerInfo:null;return}}}B.blockedOn=null}function l0(B){if(B.blockedOn!==null)return!1;for(var Z=B.targetContainers;0<Z.length;){var me=N1(B.domEventName,B.eventSystemFlags,Z[0],B.nativeEvent);if(me===null){me=B.nativeEvent;var Ne=new me.constructor(me.type,me);I1=Ne,me.target.dispatchEvent(Ne),I1=null}else return Z=$p(me),Z!==null&&Bv(Z),B.blockedOn=me,!1;Z.shift()}return!0}function gx(B,Z,me){l0(B)&&me.delete(Z)}function B4(){B1=!1,wc!==null&&l0(wc)&&(wc=null),Tc!==null&&l0(Tc)&&(Tc=null),kc!==null&&l0(kc)&&(kc=null),Lp.forEach(gx),Cp.forEach(gx)}function sp(B,Z){B.blockedOn===Z&&(B.blockedOn=null,B1||(B1=!0,sl.unstable_scheduleCallback(sl.unstable_NormalPriority,B4)))}function Pp(B){function Z(Ze){return sp(Ze,B)}if(0<Xd.length){sp(Xd[0],B);for(var me=1;me<Xd.length;me++){var Ne=Xd[me];Ne.blockedOn===B&&(Ne.blockedOn=null)}}for(wc!==null&&sp(wc,B),Tc!==null&&sp(Tc,B),kc!==null&&sp(kc,B),Lp.forEach(Z),Cp.forEach(Z),me=0;me<hc.length;me++)Ne=hc[me],Ne.blockedOn===B&&(Ne.blockedOn=null);for(;0<hc.length&&(me=hc[0],me.blockedOn===null);)mb(me),me.blockedOn===null&&hc.shift()}var rh=Xu.ReactCurrentBatchConfig,T0=!0;function N4(B,Z,me,Ne){var Ze=Wi,U=rh.transition;rh.transition=null;try{Wi=1,Nv(B,Z,me,Ne)}finally{Wi=Ze,rh.transition=U}}function j4(B,Z,me,Ne){var Ze=Wi,U=rh.transition;rh.transition=null;try{Wi=4,Nv(B,Z,me,Ne)}finally{Wi=Ze,rh.transition=U}}function Nv(B,Z,me,Ne){if(T0){var Ze=N1(B,Z,me,Ne);if(Ze===null)l1(B,Z,Ne,k0,me),dx(B,Ne);else if(F4(Ze,B,Z,me,Ne))Ne.stopPropagation();else if(dx(B,Ne),Z&4&&-1<R4.indexOf(B)){for(;Ze!==null;){var U=$p(Ze);if(U!==null&&pb(U),U=N1(B,Z,me,Ne),U===null&&l1(B,Z,Ne,k0,me),U===Ze)break;Ze=U}Ze!==null&&Ne.stopPropagation()}else l1(B,Z,Ne,null,me)}}var k0=null;function N1(B,Z,me,Ne){if(k0=null,B=Dv(Ne),B=Qc(B),B!==null)if(Z=yf(B),Z===null)B=null;else if(me=Z.tag,me===13){if(B=ab(Z),B!==null)return B;B=null}else if(me===3){if(Z.stateNode.current.memoizedState.isDehydrated)return Z.tag===3?Z.stateNode.containerInfo:null;B=null}else Z!==B&&(B=null);return k0=B,null}function yb(B){switch(B){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case Rv:return 1;case ub:return 4;case _0:case E4:return 16;case cb:return 536870912;default:return 16}default:return 16}}var bc=null,jv=null,u0=null;function xb(){if(u0)return u0;var B,Z=jv,me=Z.length,Ne,Ze="value"in bc?bc.value:bc.textContent,U=Ze.length;for(B=0;B<me&&Z[B]===Ze[B];B++);var C=me-B;for(Ne=1;Ne<=C&&Z[me-Ne]===Ze[U-Ne];Ne++);return u0=Ze.slice(B,1<Ne?1-Ne:void 0)}function c0(B){var Z=B.keyCode;return"charCode"in B?(B=B.charCode,B===0&&Z===13&&(B=13)):B=Z,B===10&&(B=13),32<=B||B===13?B:0}function Zd(){return!0}function vx(){return!1}function ul(B){function Z(me,Ne,Ze,U,C){this._reactName=me,this._targetInst=Ze,this.type=Ne,this.nativeEvent=U,this.target=C,this.currentTarget=null;for(var e in B)B.hasOwnProperty(e)&&(me=B[e],this[e]=me?me(U):U[e]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Zd:vx,this.isPropagationStopped=vx,this}return Ta(Z.prototype,{preventDefault:function(){this.defaultPrevented=!0;var me=this.nativeEvent;me&&(me.preventDefault?me.preventDefault():typeof me.returnValue!="unknown"&&(me.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var me=this.nativeEvent;me&&(me.stopPropagation?me.stopPropagation():typeof me.cancelBubble!="unknown"&&(me.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),Z}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(B){return B.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=ul(Lh),Jp=Ta({},Lh,{view:0,detail:0}),U4=ul(Jp),Qg,e1,lp,G0=Ta({},Jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(B){return B.relatedTarget===void 0?B.fromElement===B.srcElement?B.toElement:B.fromElement:B.relatedTarget},movementX:function(B){return"movementX"in B?B.movementX:(B!==lp&&(lp&&B.type==="mousemove"?(Qg=B.screenX-lp.screenX,e1=B.screenY-lp.screenY):e1=Qg=0,lp=B),Qg)},movementY:function(B){return"movementY"in B?B.movementY:e1}}),mx=ul(G0),V4=Ta({},G0,{dataTransfer:0}),H4=ul(V4),q4=Ta({},Jp,{relatedTarget:0}),t1=ul(q4),G4=Ta({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),W4=ul(G4),Y4=Ta({},Lh,{clipboardData:function(B){return"clipboardData"in B?B.clipboardData:window.clipboardData}}),X4=ul(Y4),Z4=Ta({},Lh,{data:0}),yx=ul(Z4),K4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(B){var Z=this.nativeEvent;return Z.getModifierState?Z.getModifierState(B):(B=$4[B])?!!Z[B]:!1}function Vv(){return Q4}var e5=Ta({},Jp,{key:function(B){if(B.key){var Z=K4[B.key]||B.key;if(Z!=="Unidentified")return Z}return B.type==="keypress"?(B=c0(B),B===13?"Enter":String.fromCharCode(B)):B.type==="keydown"||B.type==="keyup"?J4[B.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(B){return B.type==="keypress"?c0(B):0},keyCode:function(B){return B.type==="keydown"||B.type==="keyup"?B.keyCode:0},which:function(B){return B.type==="keypress"?c0(B):B.type==="keydown"||B.type==="keyup"?B.keyCode:0}}),t5=ul(e5),n5=Ta({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=ul(n5),r5=Ta({},Jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),i5=ul(r5),a5=Ta({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),o5=ul(a5),s5=Ta({},G0,{deltaX:function(B){return"deltaX"in B?B.deltaX:"wheelDeltaX"in B?-B.wheelDeltaX:0},deltaY:function(B){return"deltaY"in B?B.deltaY:"wheelDeltaY"in B?-B.wheelDeltaY:"wheelDelta"in B?-B.wheelDelta:0},deltaZ:0,deltaMode:0}),l5=ul(s5),u5=[9,13,27,32],Hv=qu&&"CompositionEvent"in window,xp=null;qu&&"documentMode"in document&&(xp=document.documentMode);var c5=qu&&"TextEvent"in window&&!xp,bb=qu&&(!Hv||xp&&8<xp&&11>=xp),bx=" ",_x=!1;function _b(B,Z){switch(B){case"keyup":return u5.indexOf(Z.keyCode)!==-1;case"keydown":return Z.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wb(B){return B=B.detail,typeof B=="object"&&"data"in B?B.data:null}var qf=!1;function f5(B,Z){switch(B){case"compositionend":return wb(Z);case"keypress":return Z.which!==32?null:(_x=!0,bx);case"textInput":return B=Z.data,B===bx&&_x?null:B;default:return null}}function h5(B,Z){if(qf)return B==="compositionend"||!Hv&&_b(B,Z)?(B=xb(),u0=jv=bc=null,qf=!1,B):null;switch(B){case"paste":return null;case"keypress":if(!(Z.ctrlKey||Z.altKey||Z.metaKey)||Z.ctrlKey&&Z.altKey){if(Z.char&&1<Z.char.length)return Z.char;if(Z.which)return String.fromCharCode(Z.which)}return null;case"compositionend":return bb&&Z.locale!=="ko"?null:Z.data;default:return null}}var p5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(B){var Z=B&&B.nodeName&&B.nodeName.toLowerCase();return Z==="input"?!!p5[B.type]:Z==="textarea"}function Tb(B,Z,me,Ne){eb(Ne),Z=A0(Z,"onChange"),0<Z.length&&(me=new Uv("onChange","change",null,me,Ne),B.push({event:me,listeners:Z}))}var bp=null,Op=null;function d5(B){zb(B,0)}function W0(B){var Z=Yf(B);if(Y2(Z))return B}function g5(B,Z){if(B==="change")return Z}var kb=!1;if(qu){var n1;if(qu){var r1="oninput"in document;if(!r1){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),r1=typeof Tx.oninput=="function"}n1=r1}else n1=!1;kb=n1&&(!document.documentMode||9<document.documentMode)}function kx(){bp&&(bp.detachEvent("onpropertychange",Ab),Op=bp=null)}function Ab(B){if(B.propertyName==="value"&&W0(Op)){var Z=[];Tb(Z,Op,B,Dv(B)),ib(d5,Z)}}function v5(B,Z,me){B==="focusin"?(kx(),bp=Z,Op=me,bp.attachEvent("onpropertychange",Ab)):B==="focusout"&&kx()}function m5(B){if(B==="selectionchange"||B==="keyup"||B==="keydown")return W0(Op)}function y5(B,Z){if(B==="click")return W0(Z)}function x5(B,Z){if(B==="input"||B==="change")return W0(Z)}function b5(B,Z){return B===Z&&(B!==0||1/B===1/Z)||B!==B&&Z!==Z}var ou=typeof Object.is=="function"?Object.is:b5;function Ip(B,Z){if(ou(B,Z))return!0;if(typeof B!="object"||B===null||typeof Z!="object"||Z===null)return!1;var me=Object.keys(B),Ne=Object.keys(Z);if(me.length!==Ne.length)return!1;for(Ne=0;Ne<me.length;Ne++){var Ze=me[Ne];if(!_1.call(Z,Ze)||!ou(B[Ze],Z[Ze]))return!1}return!0}function Ax(B){for(;B&&B.firstChild;)B=B.firstChild;return B}function Mx(B,Z){var me=Ax(B);B=0;for(var Ne;me;){if(me.nodeType===3){if(Ne=B+me.textContent.length,B<=Z&&Ne>=Z)return{node:me,offset:Z-B};B=Ne}e:{for(;me;){if(me.nextSibling){me=me.nextSibling;break e}me=me.parentNode}me=void 0}me=Ax(me)}}function Mb(B,Z){return B&&Z?B===Z?!0:B&&B.nodeType===3?!1:Z&&Z.nodeType===3?Mb(B,Z.parentNode):"contains"in B?B.contains(Z):B.compareDocumentPosition?!!(B.compareDocumentPosition(Z)&16):!1:!1}function Sb(){for(var B=window,Z=y0();Z instanceof B.HTMLIFrameElement;){try{var me=typeof Z.contentWindow.location.href=="string"}catch{me=!1}if(me)B=Z.contentWindow;else break;Z=y0(B.document)}return Z}function qv(B){var Z=B&&B.nodeName&&B.nodeName.toLowerCase();return Z&&(Z==="input"&&(B.type==="text"||B.type==="search"||B.type==="tel"||B.type==="url"||B.type==="password")||Z==="textarea"||B.contentEditable==="true")}function _5(B){var Z=Sb(),me=B.focusedElem,Ne=B.selectionRange;if(Z!==me&&me&&me.ownerDocument&&Mb(me.ownerDocument.documentElement,me)){if(Ne!==null&&qv(me)){if(Z=Ne.start,B=Ne.end,B===void 0&&(B=Z),"selectionStart"in me)me.selectionStart=Z,me.selectionEnd=Math.min(B,me.value.length);else if(B=(Z=me.ownerDocument||document)&&Z.defaultView||window,B.getSelection){B=B.getSelection();var Ze=me.textContent.length,U=Math.min(Ne.start,Ze);Ne=Ne.end===void 0?U:Math.min(Ne.end,Ze),!B.extend&&U>Ne&&(Ze=Ne,Ne=U,U=Ze),Ze=Mx(me,U);var C=Mx(me,Ne);Ze&&C&&(B.rangeCount!==1||B.anchorNode!==Ze.node||B.anchorOffset!==Ze.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)&&(Z=Z.createRange(),Z.setStart(Ze.node,Ze.offset),B.removeAllRanges(),U>Ne?(B.addRange(Z),B.extend(C.node,C.offset)):(Z.setEnd(C.node,C.offset),B.addRange(Z)))}}for(Z=[],B=me;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<Z.length;me++)B=Z[me],B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}var w5=qu&&"documentMode"in document&&11>=document.documentMode,Gf=null,j1=null,_p=null,U1=!1;function Sx(B,Z,me){var Ne=me.window===me?me.document:me.nodeType===9?me:me.ownerDocument;U1||Gf==null||Gf!==y0(Ne)||(Ne=Gf,"selectionStart"in Ne&&qv(Ne)?Ne={start:Ne.selectionStart,end:Ne.selectionEnd}:(Ne=(Ne.ownerDocument&&Ne.ownerDocument.defaultView||window).getSelection(),Ne={anchorNode:Ne.anchorNode,anchorOffset:Ne.anchorOffset,focusNode:Ne.focusNode,focusOffset:Ne.focusOffset}),_p&&Ip(_p,Ne)||(_p=Ne,Ne=A0(j1,"onSelect"),0<Ne.length&&(Z=new Uv("onSelect","select",null,Z,me),B.push({event:Z,listeners:Ne}),Z.target=Gf)))}function Kd(B,Z){var me={};return me[B.toLowerCase()]=Z.toLowerCase(),me["Webkit"+B]="webkit"+Z,me["Moz"+B]="moz"+Z,me}var Wf={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},i1={},Eb={};qu&&(Eb=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function Y0(B){if(i1[B])return i1[B];if(!Wf[B])return B;var Z=Wf[B],me;for(me in Z)if(Z.hasOwnProperty(me)&&me in Eb)return i1[B]=Z[me];return B}var Lb=Y0("animationend"),Cb=Y0("animationiteration"),Pb=Y0("animationstart"),Ob=Y0("transitionend"),Ib=new Map,Ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oc(B,Z){Ib.set(B,Z),mf(Z,[B])}for(var a1=0;a1<Ex.length;a1++){var o1=Ex[a1],T5=o1.toLowerCase(),k5=o1[0].toUpperCase()+o1.slice(1);Oc(T5,"on"+k5)}Oc(Lb,"onAnimationEnd");Oc(Cb,"onAnimationIteration");Oc(Pb,"onAnimationStart");Oc("dblclick","onDoubleClick");Oc("focusin","onFocus");Oc("focusout","onBlur");Oc(Ob,"onTransitionEnd");bh("onMouseEnter",["mouseout","mouseover"]);bh("onMouseLeave",["mouseout","mouseover"]);bh("onPointerEnter",["pointerout","pointerover"]);bh("onPointerLeave",["pointerout","pointerover"]);mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A5=new Set("cancel close invalid load scroll toggle".split(" ").concat(gp));function Lx(B,Z,me){var Ne=B.type||"unknown-event";B.currentTarget=me,T4(Ne,Z,void 0,B),B.currentTarget=null}function zb(B,Z){Z=(Z&4)!==0;for(var me=0;me<B.length;me++){var Ne=B[me],Ze=Ne.event;Ne=Ne.listeners;e:{var U=void 0;if(Z)for(var C=Ne.length-1;0<=C;C--){var e=Ne[C],T=e.instance,k=e.currentTarget;if(e=e.listener,T!==U&&Ze.isPropagationStopped())break e;Lx(Ze,e,k),U=T}else for(C=0;C<Ne.length;C++){if(e=Ne[C],T=e.instance,k=e.currentTarget,e=e.listener,T!==U&&Ze.isPropagationStopped())break e;Lx(Ze,e,k),U=T}}}if(b0)throw B=R1,b0=!1,R1=null,B}function fa(B,Z){var me=Z[W1];me===void 0&&(me=Z[W1]=new Set);var Ne=B+"__bubble";me.has(Ne)||(Db(Z,B,2,!1),me.add(Ne))}function s1(B,Z,me){var Ne=0;Z&&(Ne|=4),Db(me,B,Ne,Z)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function zp(B){if(!B[Jd]){B[Jd]=!0,V2.forEach(function(me){me!=="selectionchange"&&(A5.has(me)||s1(me,!1,B),s1(me,!0,B))});var Z=B.nodeType===9?B:B.ownerDocument;Z===null||Z[Jd]||(Z[Jd]=!0,s1("selectionchange",!1,Z))}}function Db(B,Z,me,Ne){switch(yb(Z)){case 1:var Ze=N4;break;case 4:Ze=j4;break;default:Ze=Nv}me=Ze.bind(null,Z,me,B),Ze=void 0,!D1||Z!=="touchstart"&&Z!=="touchmove"&&Z!=="wheel"||(Ze=!0),Ne?Ze!==void 0?B.addEventListener(Z,me,{capture:!0,passive:Ze}):B.addEventListener(Z,me,!0):Ze!==void 0?B.addEventListener(Z,me,{passive:Ze}):B.addEventListener(Z,me,!1)}function l1(B,Z,me,Ne,Ze){var U=Ne;if(!(Z&1)&&!(Z&2)&&Ne!==null)e:for(;;){if(Ne===null)return;var C=Ne.tag;if(C===3||C===4){var e=Ne.stateNode.containerInfo;if(e===Ze||e.nodeType===8&&e.parentNode===Ze)break;if(C===4)for(C=Ne.return;C!==null;){var T=C.tag;if((T===3||T===4)&&(T=C.stateNode.containerInfo,T===Ze||T.nodeType===8&&T.parentNode===Ze))return;C=C.return}for(;e!==null;){if(C=Qc(e),C===null)return;if(T=C.tag,T===5||T===6){Ne=U=C;continue e}e=e.parentNode}}Ne=Ne.return}ib(function(){var k=U,o=Dv(me),_=[];e:{var b=Ib.get(B);if(b!==void 0){var f=Uv,s=B;switch(B){case"keypress":if(c0(me)===0)break e;case"keydown":case"keyup":f=t5;break;case"focusin":s="focus",f=t1;break;case"focusout":s="blur",f=t1;break;case"beforeblur":case"afterblur":f=t1;break;case"click":if(me.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=i5;break;case Lb:case Cb:case Pb:f=W4;break;case Ob:f=o5;break;case"scroll":f=U4;break;case"wheel":f=l5;break;case"copy":case"cut":case"paste":f=X4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xx}var t=(Z&4)!==0,i=!t&&B==="scroll",r=t?b!==null?b+"Capture":null:b;t=[];for(var n=k,a;n!==null;){a=n;var l=a.stateNode;if(a.tag===5&&l!==null&&(a=l,r!==null&&(l=Ep(n,r),l!=null&&t.push(Dp(n,l,a)))),i)break;n=n.return}0<t.length&&(b=new f(b,s,null,me,o),_.push({event:b,listeners:t}))}}if(!(Z&7)){e:{if(b=B==="mouseover"||B==="pointerover",f=B==="mouseout"||B==="pointerout",b&&me!==I1&&(s=me.relatedTarget||me.fromElement)&&(Qc(s)||s[Gu]))break e;if((f||b)&&(b=o.window===o?o:(b=o.ownerDocument)?b.defaultView||b.parentWindow:window,f?(s=me.relatedTarget||me.toElement,f=k,s=s?Qc(s):null,s!==null&&(i=yf(s),s!==i||s.tag!==5&&s.tag!==6)&&(s=null)):(f=null,s=k),f!==s)){if(t=mx,l="onMouseLeave",r="onMouseEnter",n="mouse",(B==="pointerout"||B==="pointerover")&&(t=xx,l="onPointerLeave",r="onPointerEnter",n="pointer"),i=f==null?b:Yf(f),a=s==null?b:Yf(s),b=new t(l,n+"leave",f,me,o),b.target=i,b.relatedTarget=a,l=null,Qc(o)===k&&(t=new t(r,n+"enter",s,me,o),t.target=a,t.relatedTarget=i,l=t),i=l,f&&s)t:{for(t=f,r=s,n=0,a=t;a;a=Uf(a))n++;for(a=0,l=r;l;l=Uf(l))a++;for(;0<n-a;)t=Uf(t),n--;for(;0<a-n;)r=Uf(r),a--;for(;n--;){if(t===r||r!==null&&t===r.alternate)break t;t=Uf(t),r=Uf(r)}t=null}else t=null;f!==null&&Cx(_,b,f,t,!1),s!==null&&i!==null&&Cx(_,i,s,t,!0)}}e:{if(b=k?Yf(k):window,f=b.nodeName&&b.nodeName.toLowerCase(),f==="select"||f==="input"&&b.type==="file")var u=g5;else if(wx(b))if(kb)u=x5;else{u=m5;var h=v5}else(f=b.nodeName)&&f.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(u=y5);if(u&&(u=u(B,k))){Tb(_,u,me,o);break e}h&&h(B,b,k),B==="focusout"&&(h=b._wrapperState)&&h.controlled&&b.type==="number"&&E1(b,"number",b.value)}switch(h=k?Yf(k):window,B){case"focusin":(wx(h)||h.contentEditable==="true")&&(Gf=h,j1=k,_p=null);break;case"focusout":_p=j1=Gf=null;break;case"mousedown":U1=!0;break;case"contextmenu":case"mouseup":case"dragend":U1=!1,Sx(_,me,o);break;case"selectionchange":if(w5)break;case"keydown":case"keyup":Sx(_,me,o)}var c;if(Hv)e:{switch(B){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else qf?_b(B,me)&&(x="onCompositionEnd"):B==="keydown"&&me.keyCode===229&&(x="onCompositionStart");x&&(bb&&me.locale!=="ko"&&(qf||x!=="onCompositionStart"?x==="onCompositionEnd"&&qf&&(c=xb()):(bc=o,jv="value"in bc?bc.value:bc.textContent,qf=!0)),h=A0(k,x),0<h.length&&(x=new yx(x,B,null,me,o),_.push({event:x,listeners:h}),c?x.data=c:(c=wb(me),c!==null&&(x.data=c)))),(c=c5?f5(B,me):h5(B,me))&&(k=A0(k,"onBeforeInput"),0<k.length&&(o=new yx("onBeforeInput","beforeinput",null,me,o),_.push({event:o,listeners:k}),o.data=c))}zb(_,Z)})}function Dp(B,Z,me){return{instance:B,listener:Z,currentTarget:me}}function A0(B,Z){for(var me=Z+"Capture",Ne=[];B!==null;){var Ze=B,U=Ze.stateNode;Ze.tag===5&&U!==null&&(Ze=U,U=Ep(B,me),U!=null&&Ne.unshift(Dp(B,U,Ze)),U=Ep(B,Z),U!=null&&Ne.push(Dp(B,U,Ze))),B=B.return}return Ne}function Uf(B){if(B===null)return null;do B=B.return;while(B&&B.tag!==5);return B||null}function Cx(B,Z,me,Ne,Ze){for(var U=Z._reactName,C=[];me!==null&&me!==Ne;){var e=me,T=e.alternate,k=e.stateNode;if(T!==null&&T===Ne)break;e.tag===5&&k!==null&&(e=k,Ze?(T=Ep(me,U),T!=null&&C.unshift(Dp(me,T,e))):Ze||(T=Ep(me,U),T!=null&&C.push(Dp(me,T,e)))),me=me.return}C.length!==0&&B.push({event:Z,listeners:C})}var M5=/\r\n?/g,S5=/\u0000|\uFFFD/g;function Px(B){return(typeof B=="string"?B:""+B).replace(M5,`
`).replace(S5,"")}function $d(B,Z,me){if(Z=Px(Z),Px(B)!==Z&&me)throw Error(kr(425))}function M0(){}var V1=null,H1=null;function q1(B,Z){return B==="textarea"||B==="noscript"||typeof Z.children=="string"||typeof Z.children=="number"||typeof Z.dangerouslySetInnerHTML=="object"&&Z.dangerouslySetInnerHTML!==null&&Z.dangerouslySetInnerHTML.__html!=null}var G1=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,L5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(B){return Ox.resolve(null).then(B).catch(C5)}:G1;function C5(B){setTimeout(function(){throw B})}function u1(B,Z){var me=Z,Ne=0;do{var Ze=me.nextSibling;if(B.removeChild(me),Ze&&Ze.nodeType===8)if(me=Ze.data,me==="/$"){if(Ne===0){B.removeChild(Ze),Pp(Z);return}Ne--}else me!=="$"&&me!=="$?"&&me!=="$!"||Ne++;me=Ze}while(me);Pp(Z)}function Ac(B){for(;B!=null;B=B.nextSibling){var Z=B.nodeType;if(Z===1||Z===3)break;if(Z===8){if(Z=B.data,Z==="$"||Z==="$!"||Z==="$?")break;if(Z==="/$")return null}}return B}function Ix(B){B=B.previousSibling;for(var Z=0;B;){if(B.nodeType===8){var me=B.data;if(me==="$"||me==="$!"||me==="$?"){if(Z===0)return B;Z--}else me==="/$"&&Z++}B=B.previousSibling}return null}var Ch=Math.random().toString(36).slice(2),Au="__reactFiber$"+Ch,Rp="__reactProps$"+Ch,Gu="__reactContainer$"+Ch,W1="__reactEvents$"+Ch,P5="__reactListeners$"+Ch,O5="__reactHandles$"+Ch;function Qc(B){var Z=B[Au];if(Z)return Z;for(var me=B.parentNode;me;){if(Z=me[Gu]||me[Au]){if(me=Z.alternate,Z.child!==null||me!==null&&me.child!==null)for(B=Ix(B);B!==null;){if(me=B[Au])return me;B=Ix(B)}return Z}B=me,me=B.parentNode}return null}function $p(B){return B=B[Au]||B[Gu],!B||B.tag!==5&&B.tag!==6&&B.tag!==13&&B.tag!==3?null:B}function Yf(B){if(B.tag===5||B.tag===6)return B.stateNode;throw Error(kr(33))}function X0(B){return B[Rp]||null}var Y1=[],Xf=-1;function Ic(B){return{current:B}}function ha(B){0>Xf||(B.current=Y1[Xf],Y1[Xf]=null,Xf--)}function aa(B,Z){Xf++,Y1[Xf]=B.current,B.current=Z}var Pc={},Zo=Ic(Pc),js=Ic(!1),hf=Pc;function _h(B,Z){var me=B.type.contextTypes;if(!me)return Pc;var Ne=B.stateNode;if(Ne&&Ne.__reactInternalMemoizedUnmaskedChildContext===Z)return Ne.__reactInternalMemoizedMaskedChildContext;var Ze={},U;for(U in me)Ze[U]=Z[U];return Ne&&(B=B.stateNode,B.__reactInternalMemoizedUnmaskedChildContext=Z,B.__reactInternalMemoizedMaskedChildContext=Ze),Ze}function Us(B){return B=B.childContextTypes,B!=null}function S0(){ha(js),ha(Zo)}function zx(B,Z,me){if(Zo.current!==Pc)throw Error(kr(168));aa(Zo,Z),aa(js,me)}function Rb(B,Z,me){var Ne=B.stateNode;if(Z=Z.childContextTypes,typeof Ne.getChildContext!="function")return me;Ne=Ne.getChildContext();for(var Ze in Ne)if(!(Ze in Z))throw Error(kr(108,v4(B)||"Unknown",Ze));return Ta({},me,Ne)}function E0(B){return B=(B=B.stateNode)&&B.__reactInternalMemoizedMergedChildContext||Pc,hf=Zo.current,aa(Zo,B),aa(js,js.current),!0}function Dx(B,Z,me){var Ne=B.stateNode;if(!Ne)throw Error(kr(169));me?(B=Rb(B,Z,hf),Ne.__reactInternalMemoizedMergedChildContext=B,ha(js),ha(Zo),aa(Zo,B)):ha(js),aa(js,me)}var Nu=null,Z0=!1,c1=!1;function Fb(B){Nu===null?Nu=[B]:Nu.push(B)}function I5(B){Z0=!0,Fb(B)}function zc(){if(!c1&&Nu!==null){c1=!0;var B=0,Z=Wi;try{var me=Nu;for(Wi=1;B<me.length;B++){var Ne=me[B];do Ne=Ne(!0);while(Ne!==null)}Nu=null,Z0=!1}catch(Ze){throw Nu!==null&&(Nu=Nu.slice(B+1)),lb(Rv,zc),Ze}finally{Wi=Z,c1=!1}}return null}var Zf=[],Kf=0,L0=null,C0=0,Ll=[],Cl=0,pf=null,Uu=1,Vu="";function Jc(B,Z){Zf[Kf++]=C0,Zf[Kf++]=L0,L0=B,C0=Z}function Bb(B,Z,me){Ll[Cl++]=Uu,Ll[Cl++]=Vu,Ll[Cl++]=pf,pf=B;var Ne=Uu;B=Vu;var Ze=32-iu(Ne)-1;Ne&=~(1<<Ze),me+=1;var U=32-iu(Z)+Ze;if(30<U){var C=Ze-Ze%5;U=(Ne&(1<<C)-1).toString(32),Ne>>=C,Ze-=C,Uu=1<<32-iu(Z)+Ze|me<<Ze|Ne,Vu=U+B}else Uu=1<<U|me<<Ze|Ne,Vu=B}function Gv(B){B.return!==null&&(Jc(B,1),Bb(B,1,0))}function Wv(B){for(;B===L0;)L0=Zf[--Kf],Zf[Kf]=null,C0=Zf[--Kf],Zf[Kf]=null;for(;B===pf;)pf=Ll[--Cl],Ll[Cl]=null,Vu=Ll[--Cl],Ll[Cl]=null,Uu=Ll[--Cl],Ll[Cl]=null}var ol=null,al=null,pa=!1,nu=null;function Nb(B,Z){var me=Pl(5,null,null,0);me.elementType="DELETED",me.stateNode=Z,me.return=B,Z=B.deletions,Z===null?(B.deletions=[me],B.flags|=16):Z.push(me)}function Rx(B,Z){switch(B.tag){case 5:var me=B.type;return Z=Z.nodeType!==1||me.toLowerCase()!==Z.nodeName.toLowerCase()?null:Z,Z!==null?(B.stateNode=Z,ol=B,al=Ac(Z.firstChild),!0):!1;case 6:return Z=B.pendingProps===""||Z.nodeType!==3?null:Z,Z!==null?(B.stateNode=Z,ol=B,al=null,!0):!1;case 13:return Z=Z.nodeType!==8?null:Z,Z!==null?(me=pf!==null?{id:Uu,overflow:Vu}:null,B.memoizedState={dehydrated:Z,treeContext:me,retryLane:1073741824},me=Pl(18,null,null,0),me.stateNode=Z,me.return=B,B.child=me,ol=B,al=null,!0):!1;default:return!1}}function X1(B){return(B.mode&1)!==0&&(B.flags&128)===0}function Z1(B){if(pa){var Z=al;if(Z){var me=Z;if(!Rx(B,Z)){if(X1(B))throw Error(kr(418));Z=Ac(me.nextSibling);var Ne=ol;Z&&Rx(B,Z)?Nb(Ne,me):(B.flags=B.flags&-4097|2,pa=!1,ol=B)}}else{if(X1(B))throw Error(kr(418));B.flags=B.flags&-4097|2,pa=!1,ol=B}}}function Fx(B){for(B=B.return;B!==null&&B.tag!==5&&B.tag!==3&&B.tag!==13;)B=B.return;ol=B}function Qd(B){if(B!==ol)return!1;if(!pa)return Fx(B),pa=!0,!1;var Z;if((Z=B.tag!==3)&&!(Z=B.tag!==5)&&(Z=B.type,Z=Z!=="head"&&Z!=="body"&&!q1(B.type,B.memoizedProps)),Z&&(Z=al)){if(X1(B))throw jb(),Error(kr(418));for(;Z;)Nb(B,Z),Z=Ac(Z.nextSibling)}if(Fx(B),B.tag===13){if(B=B.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(kr(317));e:{for(B=B.nextSibling,Z=0;B;){if(B.nodeType===8){var me=B.data;if(me==="/$"){if(Z===0){al=Ac(B.nextSibling);break e}Z--}else me!=="$"&&me!=="$!"&&me!=="$?"||Z++}B=B.nextSibling}al=null}}else al=ol?Ac(B.stateNode.nextSibling):null;return!0}function jb(){for(var B=al;B;)B=Ac(B.nextSibling)}function wh(){al=ol=null,pa=!1}function Yv(B){nu===null?nu=[B]:nu.push(B)}var z5=Xu.ReactCurrentBatchConfig;function up(B,Z,me){if(B=me.ref,B!==null&&typeof B!="function"&&typeof B!="object"){if(me._owner){if(me=me._owner,me){if(me.tag!==1)throw Error(kr(309));var Ne=me.stateNode}if(!Ne)throw Error(kr(147,B));var Ze=Ne,U=""+B;return Z!==null&&Z.ref!==null&&typeof Z.ref=="function"&&Z.ref._stringRef===U?Z.ref:(Z=function(C){var e=Ze.refs;C===null?delete e[U]:e[U]=C},Z._stringRef=U,Z)}if(typeof B!="string")throw Error(kr(284));if(!me._owner)throw Error(kr(290,B))}return B}function e0(B,Z){throw B=Object.prototype.toString.call(Z),Error(kr(31,B==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":B))}function Bx(B){var Z=B._init;return Z(B._payload)}function Ub(B){function Z(r,n){if(B){var a=r.deletions;a===null?(r.deletions=[n],r.flags|=16):a.push(n)}}function me(r,n){if(!B)return null;for(;n!==null;)Z(r,n),n=n.sibling;return null}function Ne(r,n){for(r=new Map;n!==null;)n.key!==null?r.set(n.key,n):r.set(n.index,n),n=n.sibling;return r}function Ze(r,n){return r=Lc(r,n),r.index=0,r.sibling=null,r}function U(r,n,a){return r.index=a,B?(a=r.alternate,a!==null?(a=a.index,a<n?(r.flags|=2,n):a):(r.flags|=2,n)):(r.flags|=1048576,n)}function C(r){return B&&r.alternate===null&&(r.flags|=2),r}function e(r,n,a,l){return n===null||n.tag!==6?(n=m1(a,r.mode,l),n.return=r,n):(n=Ze(n,a),n.return=r,n)}function T(r,n,a,l){var u=a.type;return u===Hf?o(r,n,a.props.children,l,a.key):n!==null&&(n.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===cc&&Bx(u)===n.type)?(l=Ze(n,a.props),l.ref=up(r,n,a),l.return=r,l):(l=m0(a.type,a.key,a.props,null,r.mode,l),l.ref=up(r,n,a),l.return=r,l)}function k(r,n,a,l){return n===null||n.tag!==4||n.stateNode.containerInfo!==a.containerInfo||n.stateNode.implementation!==a.implementation?(n=y1(a,r.mode,l),n.return=r,n):(n=Ze(n,a.children||[]),n.return=r,n)}function o(r,n,a,l,u){return n===null||n.tag!==7?(n=ff(a,r.mode,l,u),n.return=r,n):(n=Ze(n,a),n.return=r,n)}function _(r,n,a){if(typeof n=="string"&&n!==""||typeof n=="number")return n=m1(""+n,r.mode,a),n.return=r,n;if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Hd:return a=m0(n.type,n.key,n.props,null,r.mode,a),a.ref=up(r,null,n),a.return=r,a;case Vf:return n=y1(n,r.mode,a),n.return=r,n;case cc:var l=n._init;return _(r,l(n._payload),a)}if(pp(n)||ip(n))return n=ff(n,r.mode,a,null),n.return=r,n;e0(r,n)}return null}function b(r,n,a,l){var u=n!==null?n.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return u!==null?null:e(r,n,""+a,l);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Hd:return a.key===u?T(r,n,a,l):null;case Vf:return a.key===u?k(r,n,a,l):null;case cc:return u=a._init,b(r,n,u(a._payload),l)}if(pp(a)||ip(a))return u!==null?null:o(r,n,a,l,null);e0(r,a)}return null}function f(r,n,a,l,u){if(typeof l=="string"&&l!==""||typeof l=="number")return r=r.get(a)||null,e(n,r,""+l,u);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Hd:return r=r.get(l.key===null?a:l.key)||null,T(n,r,l,u);case Vf:return r=r.get(l.key===null?a:l.key)||null,k(n,r,l,u);case cc:var h=l._init;return f(r,n,a,h(l._payload),u)}if(pp(l)||ip(l))return r=r.get(a)||null,o(n,r,l,u,null);e0(n,l)}return null}function s(r,n,a,l){for(var u=null,h=null,c=n,x=n=0,p=null;c!==null&&x<a.length;x++){c.index>x?(p=c,c=null):p=c.sibling;var v=b(r,c,a[x],l);if(v===null){c===null&&(c=p);break}B&&c&&v.alternate===null&&Z(r,c),n=U(v,n,x),h===null?u=v:h.sibling=v,h=v,c=p}if(x===a.length)return me(r,c),pa&&Jc(r,x),u;if(c===null){for(;x<a.length;x++)c=_(r,a[x],l),c!==null&&(n=U(c,n,x),h===null?u=c:h.sibling=c,h=c);return pa&&Jc(r,x),u}for(c=Ne(r,c);x<a.length;x++)p=f(c,r,x,a[x],l),p!==null&&(B&&p.alternate!==null&&c.delete(p.key===null?x:p.key),n=U(p,n,x),h===null?u=p:h.sibling=p,h=p);return B&&c.forEach(function(g){return Z(r,g)}),pa&&Jc(r,x),u}function t(r,n,a,l){var u=ip(a);if(typeof u!="function")throw Error(kr(150));if(a=u.call(a),a==null)throw Error(kr(151));for(var h=u=null,c=n,x=n=0,p=null,v=a.next();c!==null&&!v.done;x++,v=a.next()){c.index>x?(p=c,c=null):p=c.sibling;var g=b(r,c,v.value,l);if(g===null){c===null&&(c=p);break}B&&c&&g.alternate===null&&Z(r,c),n=U(g,n,x),h===null?u=g:h.sibling=g,h=g,c=p}if(v.done)return me(r,c),pa&&Jc(r,x),u;if(c===null){for(;!v.done;x++,v=a.next())v=_(r,v.value,l),v!==null&&(n=U(v,n,x),h===null?u=v:h.sibling=v,h=v);return pa&&Jc(r,x),u}for(c=Ne(r,c);!v.done;x++,v=a.next())v=f(c,r,x,v.value,l),v!==null&&(B&&v.alternate!==null&&c.delete(v.key===null?x:v.key),n=U(v,n,x),h===null?u=v:h.sibling=v,h=v);return B&&c.forEach(function(y){return Z(r,y)}),pa&&Jc(r,x),u}function i(r,n,a,l){if(typeof a=="object"&&a!==null&&a.type===Hf&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case Hd:e:{for(var u=a.key,h=n;h!==null;){if(h.key===u){if(u=a.type,u===Hf){if(h.tag===7){me(r,h.sibling),n=Ze(h,a.props.children),n.return=r,r=n;break e}}else if(h.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===cc&&Bx(u)===h.type){me(r,h.sibling),n=Ze(h,a.props),n.ref=up(r,h,a),n.return=r,r=n;break e}me(r,h);break}else Z(r,h);h=h.sibling}a.type===Hf?(n=ff(a.props.children,r.mode,l,a.key),n.return=r,r=n):(l=m0(a.type,a.key,a.props,null,r.mode,l),l.ref=up(r,n,a),l.return=r,r=l)}return C(r);case Vf:e:{for(h=a.key;n!==null;){if(n.key===h)if(n.tag===4&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){me(r,n.sibling),n=Ze(n,a.children||[]),n.return=r,r=n;break e}else{me(r,n);break}else Z(r,n);n=n.sibling}n=y1(a,r.mode,l),n.return=r,r=n}return C(r);case cc:return h=a._init,i(r,n,h(a._payload),l)}if(pp(a))return s(r,n,a,l);if(ip(a))return t(r,n,a,l);e0(r,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,n!==null&&n.tag===6?(me(r,n.sibling),n=Ze(n,a),n.return=r,r=n):(me(r,n),n=m1(a,r.mode,l),n.return=r,r=n),C(r)):me(r,n)}return i}var Th=Ub(!0),Vb=Ub(!1),P0=Ic(null),O0=null,Jf=null,Xv=null;function Zv(){Xv=Jf=O0=null}function Kv(B){var Z=P0.current;ha(P0),B._currentValue=Z}function K1(B,Z,me){for(;B!==null;){var Ne=B.alternate;if((B.childLanes&Z)!==Z?(B.childLanes|=Z,Ne!==null&&(Ne.childLanes|=Z)):Ne!==null&&(Ne.childLanes&Z)!==Z&&(Ne.childLanes|=Z),B===me)break;B=B.return}}function ih(B,Z){O0=B,Xv=Jf=null,B=B.dependencies,B!==null&&B.firstContext!==null&&(B.lanes&Z&&(Ns=!0),B.firstContext=null)}function Il(B){var Z=B._currentValue;if(Xv!==B)if(B={context:B,memoizedValue:Z,next:null},Jf===null){if(O0===null)throw Error(kr(308));Jf=B,O0.dependencies={lanes:0,firstContext:B}}else Jf=Jf.next=B;return Z}var ef=null;function Jv(B){ef===null?ef=[B]:ef.push(B)}function Hb(B,Z,me,Ne){var Ze=Z.interleaved;return Ze===null?(me.next=me,Jv(Z)):(me.next=Ze.next,Ze.next=me),Z.interleaved=me,Wu(B,Ne)}function Wu(B,Z){B.lanes|=Z;var me=B.alternate;for(me!==null&&(me.lanes|=Z),me=B,B=B.return;B!==null;)B.childLanes|=Z,me=B.alternate,me!==null&&(me.childLanes|=Z),me=B,B=B.return;return me.tag===3?me.stateNode:null}var fc=!1;function $v(B){B.updateQueue={baseState:B.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qb(B,Z){B=B.updateQueue,Z.updateQueue===B&&(Z.updateQueue={baseState:B.baseState,firstBaseUpdate:B.firstBaseUpdate,lastBaseUpdate:B.lastBaseUpdate,shared:B.shared,effects:B.effects})}function Hu(B,Z){return{eventTime:B,lane:Z,tag:0,payload:null,callback:null,next:null}}function Mc(B,Z,me){var Ne=B.updateQueue;if(Ne===null)return null;if(Ne=Ne.shared,Ei&2){var Ze=Ne.pending;return Ze===null?Z.next=Z:(Z.next=Ze.next,Ze.next=Z),Ne.pending=Z,Wu(B,me)}return Ze=Ne.interleaved,Ze===null?(Z.next=Z,Jv(Ne)):(Z.next=Ze.next,Ze.next=Z),Ne.interleaved=Z,Wu(B,me)}function f0(B,Z,me){if(Z=Z.updateQueue,Z!==null&&(Z=Z.shared,(me&4194240)!==0)){var Ne=Z.lanes;Ne&=B.pendingLanes,me|=Ne,Z.lanes=me,Fv(B,me)}}function Nx(B,Z){var me=B.updateQueue,Ne=B.alternate;if(Ne!==null&&(Ne=Ne.updateQueue,me===Ne)){var Ze=null,U=null;if(me=me.firstBaseUpdate,me!==null){do{var C={eventTime:me.eventTime,lane:me.lane,tag:me.tag,payload:me.payload,callback:me.callback,next:null};U===null?Ze=U=C:U=U.next=C,me=me.next}while(me!==null);U===null?Ze=U=Z:U=U.next=Z}else Ze=U=Z;me={baseState:Ne.baseState,firstBaseUpdate:Ze,lastBaseUpdate:U,shared:Ne.shared,effects:Ne.effects},B.updateQueue=me;return}B=me.lastBaseUpdate,B===null?me.firstBaseUpdate=Z:B.next=Z,me.lastBaseUpdate=Z}function I0(B,Z,me,Ne){var Ze=B.updateQueue;fc=!1;var U=Ze.firstBaseUpdate,C=Ze.lastBaseUpdate,e=Ze.shared.pending;if(e!==null){Ze.shared.pending=null;var T=e,k=T.next;T.next=null,C===null?U=k:C.next=k,C=T;var o=B.alternate;o!==null&&(o=o.updateQueue,e=o.lastBaseUpdate,e!==C&&(e===null?o.firstBaseUpdate=k:e.next=k,o.lastBaseUpdate=T))}if(U!==null){var _=Ze.baseState;C=0,o=k=T=null,e=U;do{var b=e.lane,f=e.eventTime;if((Ne&b)===b){o!==null&&(o=o.next={eventTime:f,lane:0,tag:e.tag,payload:e.payload,callback:e.callback,next:null});e:{var s=B,t=e;switch(b=Z,f=me,t.tag){case 1:if(s=t.payload,typeof s=="function"){_=s.call(f,_,b);break e}_=s;break e;case 3:s.flags=s.flags&-65537|128;case 0:if(s=t.payload,b=typeof s=="function"?s.call(f,_,b):s,b==null)break e;_=Ta({},_,b);break e;case 2:fc=!0}}e.callback!==null&&e.lane!==0&&(B.flags|=64,b=Ze.effects,b===null?Ze.effects=[e]:b.push(e))}else f={eventTime:f,lane:b,tag:e.tag,payload:e.payload,callback:e.callback,next:null},o===null?(k=o=f,T=_):o=o.next=f,C|=b;if(e=e.next,e===null){if(e=Ze.shared.pending,e===null)break;b=e,e=b.next,b.next=null,Ze.lastBaseUpdate=b,Ze.shared.pending=null}}while(!0);if(o===null&&(T=_),Ze.baseState=T,Ze.firstBaseUpdate=k,Ze.lastBaseUpdate=o,Z=Ze.shared.interleaved,Z!==null){Ze=Z;do C|=Ze.lane,Ze=Ze.next;while(Ze!==Z)}else U===null&&(Ze.shared.lanes=0);gf|=C,B.lanes=C,B.memoizedState=_}}function jx(B,Z,me){if(B=Z.effects,Z.effects=null,B!==null)for(Z=0;Z<B.length;Z++){var Ne=B[Z],Ze=Ne.callback;if(Ze!==null){if(Ne.callback=null,Ne=me,typeof Ze!="function")throw Error(kr(191,Ze));Ze.call(Ne)}}}var Qp={},Su=Ic(Qp),Fp=Ic(Qp),Bp=Ic(Qp);function tf(B){if(B===Qp)throw Error(kr(174));return B}function Qv(B,Z){switch(aa(Bp,Z),aa(Fp,B),aa(Su,Qp),B=Z.nodeType,B){case 9:case 11:Z=(Z=Z.documentElement)?Z.namespaceURI:C1(null,"");break;default:B=B===8?Z.parentNode:Z,Z=B.namespaceURI||null,B=B.tagName,Z=C1(Z,B)}ha(Su),aa(Su,Z)}function kh(){ha(Su),ha(Fp),ha(Bp)}function Gb(B){tf(Bp.current);var Z=tf(Su.current),me=C1(Z,B.type);Z!==me&&(aa(Fp,B),aa(Su,me))}function em(B){Fp.current===B&&(ha(Su),ha(Fp))}var _a=Ic(0);function z0(B){for(var Z=B;Z!==null;){if(Z.tag===13){var me=Z.memoizedState;if(me!==null&&(me=me.dehydrated,me===null||me.data==="$?"||me.data==="$!"))return Z}else if(Z.tag===19&&Z.memoizedProps.revealOrder!==void 0){if(Z.flags&128)return Z}else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===B)break;for(;Z.sibling===null;){if(Z.return===null||Z.return===B)return null;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}return null}var f1=[];function tm(){for(var B=0;B<f1.length;B++)f1[B]._workInProgressVersionPrimary=null;f1.length=0}var h0=Xu.ReactCurrentDispatcher,h1=Xu.ReactCurrentBatchConfig,df=0,wa=null,Qa=null,fo=null,D0=!1,wp=!1,Np=0,D5=0;function Go(){throw Error(kr(321))}function nm(B,Z){if(Z===null)return!1;for(var me=0;me<Z.length&&me<B.length;me++)if(!ou(B[me],Z[me]))return!1;return!0}function rm(B,Z,me,Ne,Ze,U){if(df=U,wa=Z,Z.memoizedState=null,Z.updateQueue=null,Z.lanes=0,h0.current=B===null||B.memoizedState===null?N5:j5,B=me(Ne,Ze),wp){U=0;do{if(wp=!1,Np=0,25<=U)throw Error(kr(301));U+=1,fo=Qa=null,Z.updateQueue=null,h0.current=U5,B=me(Ne,Ze)}while(wp)}if(h0.current=R0,Z=Qa!==null&&Qa.next!==null,df=0,fo=Qa=wa=null,D0=!1,Z)throw Error(kr(300));return B}function im(){var B=Np!==0;return Np=0,B}function bu(){var B={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?wa.memoizedState=fo=B:fo=fo.next=B,fo}function zl(){if(Qa===null){var B=wa.alternate;B=B!==null?B.memoizedState:null}else B=Qa.next;var Z=fo===null?wa.memoizedState:fo.next;if(Z!==null)fo=Z,Qa=B;else{if(B===null)throw Error(kr(310));Qa=B,B={memoizedState:Qa.memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},fo===null?wa.memoizedState=fo=B:fo=fo.next=B}return fo}function jp(B,Z){return typeof Z=="function"?Z(B):Z}function p1(B){var Z=zl(),me=Z.queue;if(me===null)throw Error(kr(311));me.lastRenderedReducer=B;var Ne=Qa,Ze=Ne.baseQueue,U=me.pending;if(U!==null){if(Ze!==null){var C=Ze.next;Ze.next=U.next,U.next=C}Ne.baseQueue=Ze=U,me.pending=null}if(Ze!==null){U=Ze.next,Ne=Ne.baseState;var e=C=null,T=null,k=U;do{var o=k.lane;if((df&o)===o)T!==null&&(T=T.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Ne=k.hasEagerState?k.eagerState:B(Ne,k.action);else{var _={lane:o,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};T===null?(e=T=_,C=Ne):T=T.next=_,wa.lanes|=o,gf|=o}k=k.next}while(k!==null&&k!==U);T===null?C=Ne:T.next=e,ou(Ne,Z.memoizedState)||(Ns=!0),Z.memoizedState=Ne,Z.baseState=C,Z.baseQueue=T,me.lastRenderedState=Ne}if(B=me.interleaved,B!==null){Ze=B;do U=Ze.lane,wa.lanes|=U,gf|=U,Ze=Ze.next;while(Ze!==B)}else Ze===null&&(me.lanes=0);return[Z.memoizedState,me.dispatch]}function d1(B){var Z=zl(),me=Z.queue;if(me===null)throw Error(kr(311));me.lastRenderedReducer=B;var Ne=me.dispatch,Ze=me.pending,U=Z.memoizedState;if(Ze!==null){me.pending=null;var C=Ze=Ze.next;do U=B(U,C.action),C=C.next;while(C!==Ze);ou(U,Z.memoizedState)||(Ns=!0),Z.memoizedState=U,Z.baseQueue===null&&(Z.baseState=U),me.lastRenderedState=U}return[U,Ne]}function Wb(){}function Yb(B,Z){var me=wa,Ne=zl(),Ze=Z(),U=!ou(Ne.memoizedState,Ze);if(U&&(Ne.memoizedState=Ze,Ns=!0),Ne=Ne.queue,am(Kb.bind(null,me,Ne,B),[B]),Ne.getSnapshot!==Z||U||fo!==null&&fo.memoizedState.tag&1){if(me.flags|=2048,Up(9,Zb.bind(null,me,Ne,Ze,Z),void 0,null),ho===null)throw Error(kr(349));df&30||Xb(me,Z,Ze)}return Ze}function Xb(B,Z,me){B.flags|=16384,B={getSnapshot:Z,value:me},Z=wa.updateQueue,Z===null?(Z={lastEffect:null,stores:null},wa.updateQueue=Z,Z.stores=[B]):(me=Z.stores,me===null?Z.stores=[B]:me.push(B))}function Zb(B,Z,me,Ne){Z.value=me,Z.getSnapshot=Ne,Jb(Z)&&$b(B)}function Kb(B,Z,me){return me(function(){Jb(Z)&&$b(B)})}function Jb(B){var Z=B.getSnapshot;B=B.value;try{var me=Z();return!ou(B,me)}catch{return!0}}function $b(B){var Z=Wu(B,1);Z!==null&&au(Z,B,1,-1)}function Ux(B){var Z=bu();return typeof B=="function"&&(B=B()),Z.memoizedState=Z.baseState=B,B={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:B},Z.queue=B,B=B.dispatch=B5.bind(null,wa,B),[Z.memoizedState,B]}function Up(B,Z,me,Ne){return B={tag:B,create:Z,destroy:me,deps:Ne,next:null},Z=wa.updateQueue,Z===null?(Z={lastEffect:null,stores:null},wa.updateQueue=Z,Z.lastEffect=B.next=B):(me=Z.lastEffect,me===null?Z.lastEffect=B.next=B:(Ne=me.next,me.next=B,B.next=Ne,Z.lastEffect=B)),B}function Qb(){return zl().memoizedState}function p0(B,Z,me,Ne){var Ze=bu();wa.flags|=B,Ze.memoizedState=Up(1|Z,me,void 0,Ne===void 0?null:Ne)}function K0(B,Z,me,Ne){var Ze=zl();Ne=Ne===void 0?null:Ne;var U=void 0;if(Qa!==null){var C=Qa.memoizedState;if(U=C.destroy,Ne!==null&&nm(Ne,C.deps)){Ze.memoizedState=Up(Z,me,U,Ne);return}}wa.flags|=B,Ze.memoizedState=Up(1|Z,me,U,Ne)}function Vx(B,Z){return p0(8390656,8,B,Z)}function am(B,Z){return K0(2048,8,B,Z)}function e_(B,Z){return K0(4,2,B,Z)}function t_(B,Z){return K0(4,4,B,Z)}function n_(B,Z){if(typeof Z=="function")return B=B(),Z(B),function(){Z(null)};if(Z!=null)return B=B(),Z.current=B,function(){Z.current=null}}function r_(B,Z,me){return me=me!=null?me.concat([B]):null,K0(4,4,n_.bind(null,Z,B),me)}function om(){}function i_(B,Z){var me=zl();Z=Z===void 0?null:Z;var Ne=me.memoizedState;return Ne!==null&&Z!==null&&nm(Z,Ne[1])?Ne[0]:(me.memoizedState=[B,Z],B)}function a_(B,Z){var me=zl();Z=Z===void 0?null:Z;var Ne=me.memoizedState;return Ne!==null&&Z!==null&&nm(Z,Ne[1])?Ne[0]:(B=B(),me.memoizedState=[B,Z],B)}function o_(B,Z,me){return df&21?(ou(me,Z)||(me=fb(),wa.lanes|=me,gf|=me,B.baseState=!0),Z):(B.baseState&&(B.baseState=!1,Ns=!0),B.memoizedState=me)}function R5(B,Z){var me=Wi;Wi=me!==0&&4>me?me:4,B(!0);var Ne=h1.transition;h1.transition={};try{B(!1),Z()}finally{Wi=me,h1.transition=Ne}}function s_(){return zl().memoizedState}function F5(B,Z,me){var Ne=Ec(B);if(me={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null},l_(B))u_(Z,me);else if(me=Hb(B,Z,me,Ne),me!==null){var Ze=ds();au(me,B,Ne,Ze),c_(me,Z,Ne)}}function B5(B,Z,me){var Ne=Ec(B),Ze={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null};if(l_(B))u_(Z,Ze);else{var U=B.alternate;if(B.lanes===0&&(U===null||U.lanes===0)&&(U=Z.lastRenderedReducer,U!==null))try{var C=Z.lastRenderedState,e=U(C,me);if(Ze.hasEagerState=!0,Ze.eagerState=e,ou(e,C)){var T=Z.interleaved;T===null?(Ze.next=Ze,Jv(Z)):(Ze.next=T.next,T.next=Ze),Z.interleaved=Ze;return}}catch{}finally{}me=Hb(B,Z,Ze,Ne),me!==null&&(Ze=ds(),au(me,B,Ne,Ze),c_(me,Z,Ne))}}function l_(B){var Z=B.alternate;return B===wa||Z!==null&&Z===wa}function u_(B,Z){wp=D0=!0;var me=B.pending;me===null?Z.next=Z:(Z.next=me.next,me.next=Z),B.pending=Z}function c_(B,Z,me){if(me&4194240){var Ne=Z.lanes;Ne&=B.pendingLanes,me|=Ne,Z.lanes=me,Fv(B,me)}}var R0={readContext:Il,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useInsertionEffect:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useDeferredValue:Go,useTransition:Go,useMutableSource:Go,useSyncExternalStore:Go,useId:Go,unstable_isNewReconciler:!1},N5={readContext:Il,useCallback:function(B,Z){return bu().memoizedState=[B,Z===void 0?null:Z],B},useContext:Il,useEffect:Vx,useImperativeHandle:function(B,Z,me){return me=me!=null?me.concat([B]):null,p0(4194308,4,n_.bind(null,Z,B),me)},useLayoutEffect:function(B,Z){return p0(4194308,4,B,Z)},useInsertionEffect:function(B,Z){return p0(4,2,B,Z)},useMemo:function(B,Z){var me=bu();return Z=Z===void 0?null:Z,B=B(),me.memoizedState=[B,Z],B},useReducer:function(B,Z,me){var Ne=bu();return Z=me!==void 0?me(Z):Z,Ne.memoizedState=Ne.baseState=Z,B={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:B,lastRenderedState:Z},Ne.queue=B,B=B.dispatch=F5.bind(null,wa,B),[Ne.memoizedState,B]},useRef:function(B){var Z=bu();return B={current:B},Z.memoizedState=B},useState:Ux,useDebugValue:om,useDeferredValue:function(B){return bu().memoizedState=B},useTransition:function(){var B=Ux(!1),Z=B[0];return B=R5.bind(null,B[1]),bu().memoizedState=B,[Z,B]},useMutableSource:function(){},useSyncExternalStore:function(B,Z,me){var Ne=wa,Ze=bu();if(pa){if(me===void 0)throw Error(kr(407));me=me()}else{if(me=Z(),ho===null)throw Error(kr(349));df&30||Xb(Ne,Z,me)}Ze.memoizedState=me;var U={value:me,getSnapshot:Z};return Ze.queue=U,Vx(Kb.bind(null,Ne,U,B),[B]),Ne.flags|=2048,Up(9,Zb.bind(null,Ne,U,me,Z),void 0,null),me},useId:function(){var B=bu(),Z=ho.identifierPrefix;if(pa){var me=Vu,Ne=Uu;me=(Ne&~(1<<32-iu(Ne)-1)).toString(32)+me,Z=":"+Z+"R"+me,me=Np++,0<me&&(Z+="H"+me.toString(32)),Z+=":"}else me=D5++,Z=":"+Z+"r"+me.toString(32)+":";return B.memoizedState=Z},unstable_isNewReconciler:!1},j5={readContext:Il,useCallback:i_,useContext:Il,useEffect:am,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:p1,useRef:Qb,useState:function(){return p1(jp)},useDebugValue:om,useDeferredValue:function(B){var Z=zl();return o_(Z,Qa.memoizedState,B)},useTransition:function(){var B=p1(jp)[0],Z=zl().memoizedState;return[B,Z]},useMutableSource:Wb,useSyncExternalStore:Yb,useId:s_,unstable_isNewReconciler:!1},U5={readContext:Il,useCallback:i_,useContext:Il,useEffect:am,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:a_,useReducer:d1,useRef:Qb,useState:function(){return d1(jp)},useDebugValue:om,useDeferredValue:function(B){var Z=zl();return Qa===null?Z.memoizedState=B:o_(Z,Qa.memoizedState,B)},useTransition:function(){var B=d1(jp)[0],Z=zl().memoizedState;return[B,Z]},useMutableSource:Wb,useSyncExternalStore:Yb,useId:s_,unstable_isNewReconciler:!1};function Ql(B,Z){if(B&&B.defaultProps){Z=Ta({},Z),B=B.defaultProps;for(var me in B)Z[me]===void 0&&(Z[me]=B[me]);return Z}return Z}function J1(B,Z,me,Ne){Z=B.memoizedState,me=me(Ne,Z),me=me==null?Z:Ta({},Z,me),B.memoizedState=me,B.lanes===0&&(B.updateQueue.baseState=me)}var J0={isMounted:function(B){return(B=B._reactInternals)?yf(B)===B:!1},enqueueSetState:function(B,Z,me){B=B._reactInternals;var Ne=ds(),Ze=Ec(B),U=Hu(Ne,Ze);U.payload=Z,me!=null&&(U.callback=me),Z=Mc(B,U,Ze),Z!==null&&(au(Z,B,Ze,Ne),f0(Z,B,Ze))},enqueueReplaceState:function(B,Z,me){B=B._reactInternals;var Ne=ds(),Ze=Ec(B),U=Hu(Ne,Ze);U.tag=1,U.payload=Z,me!=null&&(U.callback=me),Z=Mc(B,U,Ze),Z!==null&&(au(Z,B,Ze,Ne),f0(Z,B,Ze))},enqueueForceUpdate:function(B,Z){B=B._reactInternals;var me=ds(),Ne=Ec(B),Ze=Hu(me,Ne);Ze.tag=2,Z!=null&&(Ze.callback=Z),Z=Mc(B,Ze,Ne),Z!==null&&(au(Z,B,Ne,me),f0(Z,B,Ne))}};function Hx(B,Z,me,Ne,Ze,U,C){return B=B.stateNode,typeof B.shouldComponentUpdate=="function"?B.shouldComponentUpdate(Ne,U,C):Z.prototype&&Z.prototype.isPureReactComponent?!Ip(me,Ne)||!Ip(Ze,U):!0}function f_(B,Z,me){var Ne=!1,Ze=Pc,U=Z.contextType;return typeof U=="object"&&U!==null?U=Il(U):(Ze=Us(Z)?hf:Zo.current,Ne=Z.contextTypes,U=(Ne=Ne!=null)?_h(B,Ze):Pc),Z=new Z(me,U),B.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=J0,B.stateNode=Z,Z._reactInternals=B,Ne&&(B=B.stateNode,B.__reactInternalMemoizedUnmaskedChildContext=Ze,B.__reactInternalMemoizedMaskedChildContext=U),Z}function qx(B,Z,me,Ne){B=Z.state,typeof Z.componentWillReceiveProps=="function"&&Z.componentWillReceiveProps(me,Ne),typeof Z.UNSAFE_componentWillReceiveProps=="function"&&Z.UNSAFE_componentWillReceiveProps(me,Ne),Z.state!==B&&J0.enqueueReplaceState(Z,Z.state,null)}function $1(B,Z,me,Ne){var Ze=B.stateNode;Ze.props=me,Ze.state=B.memoizedState,Ze.refs={},$v(B);var U=Z.contextType;typeof U=="object"&&U!==null?Ze.context=Il(U):(U=Us(Z)?hf:Zo.current,Ze.context=_h(B,U)),Ze.state=B.memoizedState,U=Z.getDerivedStateFromProps,typeof U=="function"&&(J1(B,Z,U,me),Ze.state=B.memoizedState),typeof Z.getDerivedStateFromProps=="function"||typeof Ze.getSnapshotBeforeUpdate=="function"||typeof Ze.UNSAFE_componentWillMount!="function"&&typeof Ze.componentWillMount!="function"||(Z=Ze.state,typeof Ze.componentWillMount=="function"&&Ze.componentWillMount(),typeof Ze.UNSAFE_componentWillMount=="function"&&Ze.UNSAFE_componentWillMount(),Z!==Ze.state&&J0.enqueueReplaceState(Ze,Ze.state,null),I0(B,me,Ze,Ne),Ze.state=B.memoizedState),typeof Ze.componentDidMount=="function"&&(B.flags|=4194308)}function Ah(B,Z){try{var me="",Ne=Z;do me+=g4(Ne),Ne=Ne.return;while(Ne);var Ze=me}catch(U){Ze=`
Error generating stack: `+U.message+`
`+U.stack}return{value:B,source:Z,stack:Ze,digest:null}}function g1(B,Z,me){return{value:B,source:null,stack:me??null,digest:Z??null}}function Q1(B,Z){try{console.error(Z.value)}catch(me){setTimeout(function(){throw me})}}var V5=typeof WeakMap=="function"?WeakMap:Map;function h_(B,Z,me){me=Hu(-1,me),me.tag=3,me.payload={element:null};var Ne=Z.value;return me.callback=function(){B0||(B0=!0,uv=Ne),Q1(B,Z)},me}function p_(B,Z,me){me=Hu(-1,me),me.tag=3;var Ne=B.type.getDerivedStateFromError;if(typeof Ne=="function"){var Ze=Z.value;me.payload=function(){return Ne(Ze)},me.callback=function(){Q1(B,Z)}}var U=B.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(me.callback=function(){Q1(B,Z),typeof Ne!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var C=Z.stack;this.componentDidCatch(Z.value,{componentStack:C!==null?C:""})}),me}function Gx(B,Z,me){var Ne=B.pingCache;if(Ne===null){Ne=B.pingCache=new V5;var Ze=new Set;Ne.set(Z,Ze)}else Ze=Ne.get(Z),Ze===void 0&&(Ze=new Set,Ne.set(Z,Ze));Ze.has(me)||(Ze.add(me),B=n6.bind(null,B,Z,me),Z.then(B,B))}function Wx(B){do{var Z;if((Z=B.tag===13)&&(Z=B.memoizedState,Z=Z!==null?Z.dehydrated!==null:!0),Z)return B;B=B.return}while(B!==null);return null}function Yx(B,Z,me,Ne,Ze){return B.mode&1?(B.flags|=65536,B.lanes=Ze,B):(B===Z?B.flags|=65536:(B.flags|=128,me.flags|=131072,me.flags&=-52805,me.tag===1&&(me.alternate===null?me.tag=17:(Z=Hu(-1,1),Z.tag=2,Mc(me,Z,1))),me.lanes|=1),B)}var H5=Xu.ReactCurrentOwner,Ns=!1;function hs(B,Z,me,Ne){Z.child=B===null?Vb(Z,null,me,Ne):Th(Z,B.child,me,Ne)}function Xx(B,Z,me,Ne,Ze){me=me.render;var U=Z.ref;return ih(Z,Ze),Ne=rm(B,Z,me,Ne,U,Ze),me=im(),B!==null&&!Ns?(Z.updateQueue=B.updateQueue,Z.flags&=-2053,B.lanes&=~Ze,Yu(B,Z,Ze)):(pa&&me&&Gv(Z),Z.flags|=1,hs(B,Z,Ne,Ze),Z.child)}function Zx(B,Z,me,Ne,Ze){if(B===null){var U=me.type;return typeof U=="function"&&!dm(U)&&U.defaultProps===void 0&&me.compare===null&&me.defaultProps===void 0?(Z.tag=15,Z.type=U,d_(B,Z,U,Ne,Ze)):(B=m0(me.type,null,Ne,Z,Z.mode,Ze),B.ref=Z.ref,B.return=Z,Z.child=B)}if(U=B.child,!(B.lanes&Ze)){var C=U.memoizedProps;if(me=me.compare,me=me!==null?me:Ip,me(C,Ne)&&B.ref===Z.ref)return Yu(B,Z,Ze)}return Z.flags|=1,B=Lc(U,Ne),B.ref=Z.ref,B.return=Z,Z.child=B}function d_(B,Z,me,Ne,Ze){if(B!==null){var U=B.memoizedProps;if(Ip(U,Ne)&&B.ref===Z.ref)if(Ns=!1,Z.pendingProps=Ne=U,(B.lanes&Ze)!==0)B.flags&131072&&(Ns=!0);else return Z.lanes=B.lanes,Yu(B,Z,Ze)}return ev(B,Z,me,Ne,Ze)}function g_(B,Z,me){var Ne=Z.pendingProps,Ze=Ne.children,U=B!==null?B.memoizedState:null;if(Ne.mode==="hidden")if(!(Z.mode&1))Z.memoizedState={baseLanes:0,cachePool:null,transitions:null},aa(Qf,il),il|=me;else{if(!(me&1073741824))return B=U!==null?U.baseLanes|me:me,Z.lanes=Z.childLanes=1073741824,Z.memoizedState={baseLanes:B,cachePool:null,transitions:null},Z.updateQueue=null,aa(Qf,il),il|=B,null;Z.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne=U!==null?U.baseLanes:me,aa(Qf,il),il|=Ne}else U!==null?(Ne=U.baseLanes|me,Z.memoizedState=null):Ne=me,aa(Qf,il),il|=Ne;return hs(B,Z,Ze,me),Z.child}function v_(B,Z){var me=Z.ref;(B===null&&me!==null||B!==null&&B.ref!==me)&&(Z.flags|=512,Z.flags|=2097152)}function ev(B,Z,me,Ne,Ze){var U=Us(me)?hf:Zo.current;return U=_h(Z,U),ih(Z,Ze),me=rm(B,Z,me,Ne,U,Ze),Ne=im(),B!==null&&!Ns?(Z.updateQueue=B.updateQueue,Z.flags&=-2053,B.lanes&=~Ze,Yu(B,Z,Ze)):(pa&&Ne&&Gv(Z),Z.flags|=1,hs(B,Z,me,Ze),Z.child)}function Kx(B,Z,me,Ne,Ze){if(Us(me)){var U=!0;E0(Z)}else U=!1;if(ih(Z,Ze),Z.stateNode===null)d0(B,Z),f_(Z,me,Ne),$1(Z,me,Ne,Ze),Ne=!0;else if(B===null){var C=Z.stateNode,e=Z.memoizedProps;C.props=e;var T=C.context,k=me.contextType;typeof k=="object"&&k!==null?k=Il(k):(k=Us(me)?hf:Zo.current,k=_h(Z,k));var o=me.getDerivedStateFromProps,_=typeof o=="function"||typeof C.getSnapshotBeforeUpdate=="function";_||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(e!==Ne||T!==k)&&qx(Z,C,Ne,k),fc=!1;var b=Z.memoizedState;C.state=b,I0(Z,Ne,C,Ze),T=Z.memoizedState,e!==Ne||b!==T||js.current||fc?(typeof o=="function"&&(J1(Z,me,o,Ne),T=Z.memoizedState),(e=fc||Hx(Z,me,e,Ne,b,T,k))?(_||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(Z.flags|=4194308)):(typeof C.componentDidMount=="function"&&(Z.flags|=4194308),Z.memoizedProps=Ne,Z.memoizedState=T),C.props=Ne,C.state=T,C.context=k,Ne=e):(typeof C.componentDidMount=="function"&&(Z.flags|=4194308),Ne=!1)}else{C=Z.stateNode,qb(B,Z),e=Z.memoizedProps,k=Z.type===Z.elementType?e:Ql(Z.type,e),C.props=k,_=Z.pendingProps,b=C.context,T=me.contextType,typeof T=="object"&&T!==null?T=Il(T):(T=Us(me)?hf:Zo.current,T=_h(Z,T));var f=me.getDerivedStateFromProps;(o=typeof f=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(e!==_||b!==T)&&qx(Z,C,Ne,T),fc=!1,b=Z.memoizedState,C.state=b,I0(Z,Ne,C,Ze);var s=Z.memoizedState;e!==_||b!==s||js.current||fc?(typeof f=="function"&&(J1(Z,me,f,Ne),s=Z.memoizedState),(k=fc||Hx(Z,me,k,Ne,b,s,T)||!1)?(o||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(Ne,s,T),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(Ne,s,T)),typeof C.componentDidUpdate=="function"&&(Z.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(Z.flags|=1024)):(typeof C.componentDidUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(Z.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(Z.flags|=1024),Z.memoizedProps=Ne,Z.memoizedState=s),C.props=Ne,C.state=s,C.context=T,Ne=k):(typeof C.componentDidUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(Z.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||e===B.memoizedProps&&b===B.memoizedState||(Z.flags|=1024),Ne=!1)}return tv(B,Z,me,Ne,U,Ze)}function tv(B,Z,me,Ne,Ze,U){v_(B,Z);var C=(Z.flags&128)!==0;if(!Ne&&!C)return Ze&&Dx(Z,me,!1),Yu(B,Z,U);Ne=Z.stateNode,H5.current=Z;var e=C&&typeof me.getDerivedStateFromError!="function"?null:Ne.render();return Z.flags|=1,B!==null&&C?(Z.child=Th(Z,B.child,null,U),Z.child=Th(Z,null,e,U)):hs(B,Z,e,U),Z.memoizedState=Ne.state,Ze&&Dx(Z,me,!0),Z.child}function m_(B){var Z=B.stateNode;Z.pendingContext?zx(B,Z.pendingContext,Z.pendingContext!==Z.context):Z.context&&zx(B,Z.context,!1),Qv(B,Z.containerInfo)}function Jx(B,Z,me,Ne,Ze){return wh(),Yv(Ze),Z.flags|=256,hs(B,Z,me,Ne),Z.child}var nv={dehydrated:null,treeContext:null,retryLane:0};function rv(B){return{baseLanes:B,cachePool:null,transitions:null}}function y_(B,Z,me){var Ne=Z.pendingProps,Ze=_a.current,U=!1,C=(Z.flags&128)!==0,e;if((e=C)||(e=B!==null&&B.memoizedState===null?!1:(Ze&2)!==0),e?(U=!0,Z.flags&=-129):(B===null||B.memoizedState!==null)&&(Ze|=1),aa(_a,Ze&1),B===null)return Z1(Z),B=Z.memoizedState,B!==null&&(B=B.dehydrated,B!==null)?(Z.mode&1?B.data==="$!"?Z.lanes=8:Z.lanes=1073741824:Z.lanes=1,null):(C=Ne.children,B=Ne.fallback,U?(Ne=Z.mode,U=Z.child,C={mode:"hidden",children:C},!(Ne&1)&&U!==null?(U.childLanes=0,U.pendingProps=C):U=eg(C,Ne,0,null),B=ff(B,Ne,me,null),U.return=Z,B.return=Z,U.sibling=B,Z.child=U,Z.child.memoizedState=rv(me),Z.memoizedState=nv,B):sm(Z,C));if(Ze=B.memoizedState,Ze!==null&&(e=Ze.dehydrated,e!==null))return q5(B,Z,C,Ne,e,Ze,me);if(U){U=Ne.fallback,C=Z.mode,Ze=B.child,e=Ze.sibling;var T={mode:"hidden",children:Ne.children};return!(C&1)&&Z.child!==Ze?(Ne=Z.child,Ne.childLanes=0,Ne.pendingProps=T,Z.deletions=null):(Ne=Lc(Ze,T),Ne.subtreeFlags=Ze.subtreeFlags&14680064),e!==null?U=Lc(e,U):(U=ff(U,C,me,null),U.flags|=2),U.return=Z,Ne.return=Z,Ne.sibling=U,Z.child=Ne,Ne=U,U=Z.child,C=B.child.memoizedState,C=C===null?rv(me):{baseLanes:C.baseLanes|me,cachePool:null,transitions:C.transitions},U.memoizedState=C,U.childLanes=B.childLanes&~me,Z.memoizedState=nv,Ne}return U=B.child,B=U.sibling,Ne=Lc(U,{mode:"visible",children:Ne.children}),!(Z.mode&1)&&(Ne.lanes=me),Ne.return=Z,Ne.sibling=null,B!==null&&(me=Z.deletions,me===null?(Z.deletions=[B],Z.flags|=16):me.push(B)),Z.child=Ne,Z.memoizedState=null,Ne}function sm(B,Z){return Z=eg({mode:"visible",children:Z},B.mode,0,null),Z.return=B,B.child=Z}function t0(B,Z,me,Ne){return Ne!==null&&Yv(Ne),Th(Z,B.child,null,me),B=sm(Z,Z.pendingProps.children),B.flags|=2,Z.memoizedState=null,B}function q5(B,Z,me,Ne,Ze,U,C){if(me)return Z.flags&256?(Z.flags&=-257,Ne=g1(Error(kr(422))),t0(B,Z,C,Ne)):Z.memoizedState!==null?(Z.child=B.child,Z.flags|=128,null):(U=Ne.fallback,Ze=Z.mode,Ne=eg({mode:"visible",children:Ne.children},Ze,0,null),U=ff(U,Ze,C,null),U.flags|=2,Ne.return=Z,U.return=Z,Ne.sibling=U,Z.child=Ne,Z.mode&1&&Th(Z,B.child,null,C),Z.child.memoizedState=rv(C),Z.memoizedState=nv,U);if(!(Z.mode&1))return t0(B,Z,C,null);if(Ze.data==="$!"){if(Ne=Ze.nextSibling&&Ze.nextSibling.dataset,Ne)var e=Ne.dgst;return Ne=e,U=Error(kr(419)),Ne=g1(U,Ne,void 0),t0(B,Z,C,Ne)}if(e=(C&B.childLanes)!==0,Ns||e){if(Ne=ho,Ne!==null){switch(C&-C){case 4:Ze=2;break;case 16:Ze=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ze=32;break;case 536870912:Ze=268435456;break;default:Ze=0}Ze=Ze&(Ne.suspendedLanes|C)?0:Ze,Ze!==0&&Ze!==U.retryLane&&(U.retryLane=Ze,Wu(B,Ze),au(Ne,B,Ze,-1))}return pm(),Ne=g1(Error(kr(421))),t0(B,Z,C,Ne)}return Ze.data==="$?"?(Z.flags|=128,Z.child=B.child,Z=r6.bind(null,B),Ze._reactRetry=Z,null):(B=U.treeContext,al=Ac(Ze.nextSibling),ol=Z,pa=!0,nu=null,B!==null&&(Ll[Cl++]=Uu,Ll[Cl++]=Vu,Ll[Cl++]=pf,Uu=B.id,Vu=B.overflow,pf=Z),Z=sm(Z,Ne.children),Z.flags|=4096,Z)}function $x(B,Z,me){B.lanes|=Z;var Ne=B.alternate;Ne!==null&&(Ne.lanes|=Z),K1(B.return,Z,me)}function v1(B,Z,me,Ne,Ze){var U=B.memoizedState;U===null?B.memoizedState={isBackwards:Z,rendering:null,renderingStartTime:0,last:Ne,tail:me,tailMode:Ze}:(U.isBackwards=Z,U.rendering=null,U.renderingStartTime=0,U.last=Ne,U.tail=me,U.tailMode=Ze)}function x_(B,Z,me){var Ne=Z.pendingProps,Ze=Ne.revealOrder,U=Ne.tail;if(hs(B,Z,Ne.children,me),Ne=_a.current,Ne&2)Ne=Ne&1|2,Z.flags|=128;else{if(B!==null&&B.flags&128)e:for(B=Z.child;B!==null;){if(B.tag===13)B.memoizedState!==null&&$x(B,me,Z);else if(B.tag===19)$x(B,me,Z);else if(B.child!==null){B.child.return=B,B=B.child;continue}if(B===Z)break e;for(;B.sibling===null;){if(B.return===null||B.return===Z)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}Ne&=1}if(aa(_a,Ne),!(Z.mode&1))Z.memoizedState=null;else switch(Ze){case"forwards":for(me=Z.child,Ze=null;me!==null;)B=me.alternate,B!==null&&z0(B)===null&&(Ze=me),me=me.sibling;me=Ze,me===null?(Ze=Z.child,Z.child=null):(Ze=me.sibling,me.sibling=null),v1(Z,!1,Ze,me,U);break;case"backwards":for(me=null,Ze=Z.child,Z.child=null;Ze!==null;){if(B=Ze.alternate,B!==null&&z0(B)===null){Z.child=Ze;break}B=Ze.sibling,Ze.sibling=me,me=Ze,Ze=B}v1(Z,!0,me,null,U);break;case"together":v1(Z,!1,null,null,void 0);break;default:Z.memoizedState=null}return Z.child}function d0(B,Z){!(Z.mode&1)&&B!==null&&(B.alternate=null,Z.alternate=null,Z.flags|=2)}function Yu(B,Z,me){if(B!==null&&(Z.dependencies=B.dependencies),gf|=Z.lanes,!(me&Z.childLanes))return null;if(B!==null&&Z.child!==B.child)throw Error(kr(153));if(Z.child!==null){for(B=Z.child,me=Lc(B,B.pendingProps),Z.child=me,me.return=Z;B.sibling!==null;)B=B.sibling,me=me.sibling=Lc(B,B.pendingProps),me.return=Z;me.sibling=null}return Z.child}function G5(B,Z,me){switch(Z.tag){case 3:m_(Z),wh();break;case 5:Gb(Z);break;case 1:Us(Z.type)&&E0(Z);break;case 4:Qv(Z,Z.stateNode.containerInfo);break;case 10:var Ne=Z.type._context,Ze=Z.memoizedProps.value;aa(P0,Ne._currentValue),Ne._currentValue=Ze;break;case 13:if(Ne=Z.memoizedState,Ne!==null)return Ne.dehydrated!==null?(aa(_a,_a.current&1),Z.flags|=128,null):me&Z.child.childLanes?y_(B,Z,me):(aa(_a,_a.current&1),B=Yu(B,Z,me),B!==null?B.sibling:null);aa(_a,_a.current&1);break;case 19:if(Ne=(me&Z.childLanes)!==0,B.flags&128){if(Ne)return x_(B,Z,me);Z.flags|=128}if(Ze=Z.memoizedState,Ze!==null&&(Ze.rendering=null,Ze.tail=null,Ze.lastEffect=null),aa(_a,_a.current),Ne)break;return null;case 22:case 23:return Z.lanes=0,g_(B,Z,me)}return Yu(B,Z,me)}var b_,iv,__,w_;b_=function(B,Z){for(var me=Z.child;me!==null;){if(me.tag===5||me.tag===6)B.appendChild(me.stateNode);else if(me.tag!==4&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===Z)break;for(;me.sibling===null;){if(me.return===null||me.return===Z)return;me=me.return}me.sibling.return=me.return,me=me.sibling}};iv=function(){};__=function(B,Z,me,Ne){var Ze=B.memoizedProps;if(Ze!==Ne){B=Z.stateNode,tf(Su.current);var U=null;switch(me){case"input":Ze=M1(B,Ze),Ne=M1(B,Ne),U=[];break;case"select":Ze=Ta({},Ze,{value:void 0}),Ne=Ta({},Ne,{value:void 0}),U=[];break;case"textarea":Ze=L1(B,Ze),Ne=L1(B,Ne),U=[];break;default:typeof Ze.onClick!="function"&&typeof Ne.onClick=="function"&&(B.onclick=M0)}P1(me,Ne);var C;me=null;for(k in Ze)if(!Ne.hasOwnProperty(k)&&Ze.hasOwnProperty(k)&&Ze[k]!=null)if(k==="style"){var e=Ze[k];for(C in e)e.hasOwnProperty(C)&&(me||(me={}),me[C]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(Mp.hasOwnProperty(k)?U||(U=[]):(U=U||[]).push(k,null));for(k in Ne){var T=Ne[k];if(e=Ze!=null?Ze[k]:void 0,Ne.hasOwnProperty(k)&&T!==e&&(T!=null||e!=null))if(k==="style")if(e){for(C in e)!e.hasOwnProperty(C)||T&&T.hasOwnProperty(C)||(me||(me={}),me[C]="");for(C in T)T.hasOwnProperty(C)&&e[C]!==T[C]&&(me||(me={}),me[C]=T[C])}else me||(U||(U=[]),U.push(k,me)),me=T;else k==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,e=e?e.__html:void 0,T!=null&&e!==T&&(U=U||[]).push(k,T)):k==="children"?typeof T!="string"&&typeof T!="number"||(U=U||[]).push(k,""+T):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(k)?(T!=null&&k==="onScroll"&&fa("scroll",B),U||e===T||(U=[])):(U=U||[]).push(k,T))}me&&(U=U||[]).push("style",me);var k=U;(Z.updateQueue=k)&&(Z.flags|=4)}};w_=function(B,Z,me,Ne){me!==Ne&&(Z.flags|=4)};function cp(B,Z){if(!pa)switch(B.tailMode){case"hidden":Z=B.tail;for(var me=null;Z!==null;)Z.alternate!==null&&(me=Z),Z=Z.sibling;me===null?B.tail=null:me.sibling=null;break;case"collapsed":me=B.tail;for(var Ne=null;me!==null;)me.alternate!==null&&(Ne=me),me=me.sibling;Ne===null?Z||B.tail===null?B.tail=null:B.tail.sibling=null:Ne.sibling=null}}function Wo(B){var Z=B.alternate!==null&&B.alternate.child===B.child,me=0,Ne=0;if(Z)for(var Ze=B.child;Ze!==null;)me|=Ze.lanes|Ze.childLanes,Ne|=Ze.subtreeFlags&14680064,Ne|=Ze.flags&14680064,Ze.return=B,Ze=Ze.sibling;else for(Ze=B.child;Ze!==null;)me|=Ze.lanes|Ze.childLanes,Ne|=Ze.subtreeFlags,Ne|=Ze.flags,Ze.return=B,Ze=Ze.sibling;return B.subtreeFlags|=Ne,B.childLanes=me,Z}function W5(B,Z,me){var Ne=Z.pendingProps;switch(Wv(Z),Z.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(Z),null;case 1:return Us(Z.type)&&S0(),Wo(Z),null;case 3:return Ne=Z.stateNode,kh(),ha(js),ha(Zo),tm(),Ne.pendingContext&&(Ne.context=Ne.pendingContext,Ne.pendingContext=null),(B===null||B.child===null)&&(Qd(Z)?Z.flags|=4:B===null||B.memoizedState.isDehydrated&&!(Z.flags&256)||(Z.flags|=1024,nu!==null&&(hv(nu),nu=null))),iv(B,Z),Wo(Z),null;case 5:em(Z);var Ze=tf(Bp.current);if(me=Z.type,B!==null&&Z.stateNode!=null)__(B,Z,me,Ne,Ze),B.ref!==Z.ref&&(Z.flags|=512,Z.flags|=2097152);else{if(!Ne){if(Z.stateNode===null)throw Error(kr(166));return Wo(Z),null}if(B=tf(Su.current),Qd(Z)){Ne=Z.stateNode,me=Z.type;var U=Z.memoizedProps;switch(Ne[Au]=Z,Ne[Rp]=U,B=(Z.mode&1)!==0,me){case"dialog":fa("cancel",Ne),fa("close",Ne);break;case"iframe":case"object":case"embed":fa("load",Ne);break;case"video":case"audio":for(Ze=0;Ze<gp.length;Ze++)fa(gp[Ze],Ne);break;case"source":fa("error",Ne);break;case"img":case"image":case"link":fa("error",Ne),fa("load",Ne);break;case"details":fa("toggle",Ne);break;case"input":sx(Ne,U),fa("invalid",Ne);break;case"select":Ne._wrapperState={wasMultiple:!!U.multiple},fa("invalid",Ne);break;case"textarea":ux(Ne,U),fa("invalid",Ne)}P1(me,U),Ze=null;for(var C in U)if(U.hasOwnProperty(C)){var e=U[C];C==="children"?typeof e=="string"?Ne.textContent!==e&&(U.suppressHydrationWarning!==!0&&$d(Ne.textContent,e,B),Ze=["children",e]):typeof e=="number"&&Ne.textContent!==""+e&&(U.suppressHydrationWarning!==!0&&$d(Ne.textContent,e,B),Ze=["children",""+e]):Mp.hasOwnProperty(C)&&e!=null&&C==="onScroll"&&fa("scroll",Ne)}switch(me){case"input":qd(Ne),lx(Ne,U,!0);break;case"textarea":qd(Ne),cx(Ne);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(Ne.onclick=M0)}Ne=Ze,Z.updateQueue=Ne,Ne!==null&&(Z.flags|=4)}else{C=Ze.nodeType===9?Ze:Ze.ownerDocument,B==="http://www.w3.org/1999/xhtml"&&(B=K2(me)),B==="http://www.w3.org/1999/xhtml"?me==="script"?(B=C.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild)):typeof Ne.is=="string"?B=C.createElement(me,{is:Ne.is}):(B=C.createElement(me),me==="select"&&(C=B,Ne.multiple?C.multiple=!0:Ne.size&&(C.size=Ne.size))):B=C.createElementNS(B,me),B[Au]=Z,B[Rp]=Ne,b_(B,Z,!1,!1),Z.stateNode=B;e:{switch(C=O1(me,Ne),me){case"dialog":fa("cancel",B),fa("close",B),Ze=Ne;break;case"iframe":case"object":case"embed":fa("load",B),Ze=Ne;break;case"video":case"audio":for(Ze=0;Ze<gp.length;Ze++)fa(gp[Ze],B);Ze=Ne;break;case"source":fa("error",B),Ze=Ne;break;case"img":case"image":case"link":fa("error",B),fa("load",B),Ze=Ne;break;case"details":fa("toggle",B),Ze=Ne;break;case"input":sx(B,Ne),Ze=M1(B,Ne),fa("invalid",B);break;case"option":Ze=Ne;break;case"select":B._wrapperState={wasMultiple:!!Ne.multiple},Ze=Ta({},Ne,{value:void 0}),fa("invalid",B);break;case"textarea":ux(B,Ne),Ze=L1(B,Ne),fa("invalid",B);break;default:Ze=Ne}P1(me,Ze),e=Ze;for(U in e)if(e.hasOwnProperty(U)){var T=e[U];U==="style"?Q2(B,T):U==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&J2(B,T)):U==="children"?typeof T=="string"?(me!=="textarea"||T!=="")&&Sp(B,T):typeof T=="number"&&Sp(B,""+T):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(Mp.hasOwnProperty(U)?T!=null&&U==="onScroll"&&fa("scroll",B):T!=null&&Pv(B,U,T,C))}switch(me){case"input":qd(B),lx(B,Ne,!1);break;case"textarea":qd(B),cx(B);break;case"option":Ne.value!=null&&B.setAttribute("value",""+Cc(Ne.value));break;case"select":B.multiple=!!Ne.multiple,U=Ne.value,U!=null?eh(B,!!Ne.multiple,U,!1):Ne.defaultValue!=null&&eh(B,!!Ne.multiple,Ne.defaultValue,!0);break;default:typeof Ze.onClick=="function"&&(B.onclick=M0)}switch(me){case"button":case"input":case"select":case"textarea":Ne=!!Ne.autoFocus;break e;case"img":Ne=!0;break e;default:Ne=!1}}Ne&&(Z.flags|=4)}Z.ref!==null&&(Z.flags|=512,Z.flags|=2097152)}return Wo(Z),null;case 6:if(B&&Z.stateNode!=null)w_(B,Z,B.memoizedProps,Ne);else{if(typeof Ne!="string"&&Z.stateNode===null)throw Error(kr(166));if(me=tf(Bp.current),tf(Su.current),Qd(Z)){if(Ne=Z.stateNode,me=Z.memoizedProps,Ne[Au]=Z,(U=Ne.nodeValue!==me)&&(B=ol,B!==null))switch(B.tag){case 3:$d(Ne.nodeValue,me,(B.mode&1)!==0);break;case 5:B.memoizedProps.suppressHydrationWarning!==!0&&$d(Ne.nodeValue,me,(B.mode&1)!==0)}U&&(Z.flags|=4)}else Ne=(me.nodeType===9?me:me.ownerDocument).createTextNode(Ne),Ne[Au]=Z,Z.stateNode=Ne}return Wo(Z),null;case 13:if(ha(_a),Ne=Z.memoizedState,B===null||B.memoizedState!==null&&B.memoizedState.dehydrated!==null){if(pa&&al!==null&&Z.mode&1&&!(Z.flags&128))jb(),wh(),Z.flags|=98560,U=!1;else if(U=Qd(Z),Ne!==null&&Ne.dehydrated!==null){if(B===null){if(!U)throw Error(kr(318));if(U=Z.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(kr(317));U[Au]=Z}else wh(),!(Z.flags&128)&&(Z.memoizedState=null),Z.flags|=4;Wo(Z),U=!1}else nu!==null&&(hv(nu),nu=null),U=!0;if(!U)return Z.flags&65536?Z:null}return Z.flags&128?(Z.lanes=me,Z):(Ne=Ne!==null,Ne!==(B!==null&&B.memoizedState!==null)&&Ne&&(Z.child.flags|=8192,Z.mode&1&&(B===null||_a.current&1?eo===0&&(eo=3):pm())),Z.updateQueue!==null&&(Z.flags|=4),Wo(Z),null);case 4:return kh(),iv(B,Z),B===null&&zp(Z.stateNode.containerInfo),Wo(Z),null;case 10:return Kv(Z.type._context),Wo(Z),null;case 17:return Us(Z.type)&&S0(),Wo(Z),null;case 19:if(ha(_a),U=Z.memoizedState,U===null)return Wo(Z),null;if(Ne=(Z.flags&128)!==0,C=U.rendering,C===null)if(Ne)cp(U,!1);else{if(eo!==0||B!==null&&B.flags&128)for(B=Z.child;B!==null;){if(C=z0(B),C!==null){for(Z.flags|=128,cp(U,!1),Ne=C.updateQueue,Ne!==null&&(Z.updateQueue=Ne,Z.flags|=4),Z.subtreeFlags=0,Ne=me,me=Z.child;me!==null;)U=me,B=Ne,U.flags&=14680066,C=U.alternate,C===null?(U.childLanes=0,U.lanes=B,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=C.childLanes,U.lanes=C.lanes,U.child=C.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=C.memoizedProps,U.memoizedState=C.memoizedState,U.updateQueue=C.updateQueue,U.type=C.type,B=C.dependencies,U.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),me=me.sibling;return aa(_a,_a.current&1|2),Z.child}B=B.sibling}U.tail!==null&&ja()>Mh&&(Z.flags|=128,Ne=!0,cp(U,!1),Z.lanes=4194304)}else{if(!Ne)if(B=z0(C),B!==null){if(Z.flags|=128,Ne=!0,me=B.updateQueue,me!==null&&(Z.updateQueue=me,Z.flags|=4),cp(U,!0),U.tail===null&&U.tailMode==="hidden"&&!C.alternate&&!pa)return Wo(Z),null}else 2*ja()-U.renderingStartTime>Mh&&me!==1073741824&&(Z.flags|=128,Ne=!0,cp(U,!1),Z.lanes=4194304);U.isBackwards?(C.sibling=Z.child,Z.child=C):(me=U.last,me!==null?me.sibling=C:Z.child=C,U.last=C)}return U.tail!==null?(Z=U.tail,U.rendering=Z,U.tail=Z.sibling,U.renderingStartTime=ja(),Z.sibling=null,me=_a.current,aa(_a,Ne?me&1|2:me&1),Z):(Wo(Z),null);case 22:case 23:return hm(),Ne=Z.memoizedState!==null,B!==null&&B.memoizedState!==null!==Ne&&(Z.flags|=8192),Ne&&Z.mode&1?il&1073741824&&(Wo(Z),Z.subtreeFlags&6&&(Z.flags|=8192)):Wo(Z),null;case 24:return null;case 25:return null}throw Error(kr(156,Z.tag))}function Y5(B,Z){switch(Wv(Z),Z.tag){case 1:return Us(Z.type)&&S0(),B=Z.flags,B&65536?(Z.flags=B&-65537|128,Z):null;case 3:return kh(),ha(js),ha(Zo),tm(),B=Z.flags,B&65536&&!(B&128)?(Z.flags=B&-65537|128,Z):null;case 5:return em(Z),null;case 13:if(ha(_a),B=Z.memoizedState,B!==null&&B.dehydrated!==null){if(Z.alternate===null)throw Error(kr(340));wh()}return B=Z.flags,B&65536?(Z.flags=B&-65537|128,Z):null;case 19:return ha(_a),null;case 4:return kh(),null;case 10:return Kv(Z.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var n0=!1,Xo=!1,X5=typeof WeakSet=="function"?WeakSet:Set,Br=null;function $f(B,Z){var me=B.ref;if(me!==null)if(typeof me=="function")try{me(null)}catch(Ne){Ca(B,Z,Ne)}else me.current=null}function av(B,Z,me){try{me()}catch(Ne){Ca(B,Z,Ne)}}var Qx=!1;function Z5(B,Z){if(V1=T0,B=Sb(),qv(B)){if("selectionStart"in B)var me={start:B.selectionStart,end:B.selectionEnd};else e:{me=(me=B.ownerDocument)&&me.defaultView||window;var Ne=me.getSelection&&me.getSelection();if(Ne&&Ne.rangeCount!==0){me=Ne.anchorNode;var Ze=Ne.anchorOffset,U=Ne.focusNode;Ne=Ne.focusOffset;try{me.nodeType,U.nodeType}catch{me=null;break e}var C=0,e=-1,T=-1,k=0,o=0,_=B,b=null;t:for(;;){for(var f;_!==me||Ze!==0&&_.nodeType!==3||(e=C+Ze),_!==U||Ne!==0&&_.nodeType!==3||(T=C+Ne),_.nodeType===3&&(C+=_.nodeValue.length),(f=_.firstChild)!==null;)b=_,_=f;for(;;){if(_===B)break t;if(b===me&&++k===Ze&&(e=C),b===U&&++o===Ne&&(T=C),(f=_.nextSibling)!==null)break;_=b,b=_.parentNode}_=f}me=e===-1||T===-1?null:{start:e,end:T}}else me=null}me=me||{start:0,end:0}}else me=null;for(H1={focusedElem:B,selectionRange:me},T0=!1,Br=Z;Br!==null;)if(Z=Br,B=Z.child,(Z.subtreeFlags&1028)!==0&&B!==null)B.return=Z,Br=B;else for(;Br!==null;){Z=Br;try{var s=Z.alternate;if(Z.flags&1024)switch(Z.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var t=s.memoizedProps,i=s.memoizedState,r=Z.stateNode,n=r.getSnapshotBeforeUpdate(Z.elementType===Z.type?t:Ql(Z.type,t),i);r.__reactInternalSnapshotBeforeUpdate=n}break;case 3:var a=Z.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(kr(163))}}catch(l){Ca(Z,Z.return,l)}if(B=Z.sibling,B!==null){B.return=Z.return,Br=B;break}Br=Z.return}return s=Qx,Qx=!1,s}function Tp(B,Z,me){var Ne=Z.updateQueue;if(Ne=Ne!==null?Ne.lastEffect:null,Ne!==null){var Ze=Ne=Ne.next;do{if((Ze.tag&B)===B){var U=Ze.destroy;Ze.destroy=void 0,U!==void 0&&av(Z,me,U)}Ze=Ze.next}while(Ze!==Ne)}}function $0(B,Z){if(Z=Z.updateQueue,Z=Z!==null?Z.lastEffect:null,Z!==null){var me=Z=Z.next;do{if((me.tag&B)===B){var Ne=me.create;me.destroy=Ne()}me=me.next}while(me!==Z)}}function ov(B){var Z=B.ref;if(Z!==null){var me=B.stateNode;switch(B.tag){case 5:B=me;break;default:B=me}typeof Z=="function"?Z(B):Z.current=B}}function T_(B){var Z=B.alternate;Z!==null&&(B.alternate=null,T_(Z)),B.child=null,B.deletions=null,B.sibling=null,B.tag===5&&(Z=B.stateNode,Z!==null&&(delete Z[Au],delete Z[Rp],delete Z[W1],delete Z[P5],delete Z[O5])),B.stateNode=null,B.return=null,B.dependencies=null,B.memoizedProps=null,B.memoizedState=null,B.pendingProps=null,B.stateNode=null,B.updateQueue=null}function k_(B){return B.tag===5||B.tag===3||B.tag===4}function e2(B){e:for(;;){for(;B.sibling===null;){if(B.return===null||k_(B.return))return null;B=B.return}for(B.sibling.return=B.return,B=B.sibling;B.tag!==5&&B.tag!==6&&B.tag!==18;){if(B.flags&2||B.child===null||B.tag===4)continue e;B.child.return=B,B=B.child}if(!(B.flags&2))return B.stateNode}}function sv(B,Z,me){var Ne=B.tag;if(Ne===5||Ne===6)B=B.stateNode,Z?me.nodeType===8?me.parentNode.insertBefore(B,Z):me.insertBefore(B,Z):(me.nodeType===8?(Z=me.parentNode,Z.insertBefore(B,me)):(Z=me,Z.appendChild(B)),me=me._reactRootContainer,me!=null||Z.onclick!==null||(Z.onclick=M0));else if(Ne!==4&&(B=B.child,B!==null))for(sv(B,Z,me),B=B.sibling;B!==null;)sv(B,Z,me),B=B.sibling}function lv(B,Z,me){var Ne=B.tag;if(Ne===5||Ne===6)B=B.stateNode,Z?me.insertBefore(B,Z):me.appendChild(B);else if(Ne!==4&&(B=B.child,B!==null))for(lv(B,Z,me),B=B.sibling;B!==null;)lv(B,Z,me),B=B.sibling}var Eo=null,tu=!1;function lc(B,Z,me){for(me=me.child;me!==null;)A_(B,Z,me),me=me.sibling}function A_(B,Z,me){if(Mu&&typeof Mu.onCommitFiberUnmount=="function")try{Mu.onCommitFiberUnmount(q0,me)}catch{}switch(me.tag){case 5:Xo||$f(me,Z);case 6:var Ne=Eo,Ze=tu;Eo=null,lc(B,Z,me),Eo=Ne,tu=Ze,Eo!==null&&(tu?(B=Eo,me=me.stateNode,B.nodeType===8?B.parentNode.removeChild(me):B.removeChild(me)):Eo.removeChild(me.stateNode));break;case 18:Eo!==null&&(tu?(B=Eo,me=me.stateNode,B.nodeType===8?u1(B.parentNode,me):B.nodeType===1&&u1(B,me),Pp(B)):u1(Eo,me.stateNode));break;case 4:Ne=Eo,Ze=tu,Eo=me.stateNode.containerInfo,tu=!0,lc(B,Z,me),Eo=Ne,tu=Ze;break;case 0:case 11:case 14:case 15:if(!Xo&&(Ne=me.updateQueue,Ne!==null&&(Ne=Ne.lastEffect,Ne!==null))){Ze=Ne=Ne.next;do{var U=Ze,C=U.destroy;U=U.tag,C!==void 0&&(U&2||U&4)&&av(me,Z,C),Ze=Ze.next}while(Ze!==Ne)}lc(B,Z,me);break;case 1:if(!Xo&&($f(me,Z),Ne=me.stateNode,typeof Ne.componentWillUnmount=="function"))try{Ne.props=me.memoizedProps,Ne.state=me.memoizedState,Ne.componentWillUnmount()}catch(e){Ca(me,Z,e)}lc(B,Z,me);break;case 21:lc(B,Z,me);break;case 22:me.mode&1?(Xo=(Ne=Xo)||me.memoizedState!==null,lc(B,Z,me),Xo=Ne):lc(B,Z,me);break;default:lc(B,Z,me)}}function t2(B){var Z=B.updateQueue;if(Z!==null){B.updateQueue=null;var me=B.stateNode;me===null&&(me=B.stateNode=new X5),Z.forEach(function(Ne){var Ze=i6.bind(null,B,Ne);me.has(Ne)||(me.add(Ne),Ne.then(Ze,Ze))})}}function $l(B,Z){var me=Z.deletions;if(me!==null)for(var Ne=0;Ne<me.length;Ne++){var Ze=me[Ne];try{var U=B,C=Z,e=C;e:for(;e!==null;){switch(e.tag){case 5:Eo=e.stateNode,tu=!1;break e;case 3:Eo=e.stateNode.containerInfo,tu=!0;break e;case 4:Eo=e.stateNode.containerInfo,tu=!0;break e}e=e.return}if(Eo===null)throw Error(kr(160));A_(U,C,Ze),Eo=null,tu=!1;var T=Ze.alternate;T!==null&&(T.return=null),Ze.return=null}catch(k){Ca(Ze,Z,k)}}if(Z.subtreeFlags&12854)for(Z=Z.child;Z!==null;)M_(Z,B),Z=Z.sibling}function M_(B,Z){var me=B.alternate,Ne=B.flags;switch(B.tag){case 0:case 11:case 14:case 15:if($l(Z,B),xu(B),Ne&4){try{Tp(3,B,B.return),$0(3,B)}catch(t){Ca(B,B.return,t)}try{Tp(5,B,B.return)}catch(t){Ca(B,B.return,t)}}break;case 1:$l(Z,B),xu(B),Ne&512&&me!==null&&$f(me,me.return);break;case 5:if($l(Z,B),xu(B),Ne&512&&me!==null&&$f(me,me.return),B.flags&32){var Ze=B.stateNode;try{Sp(Ze,"")}catch(t){Ca(B,B.return,t)}}if(Ne&4&&(Ze=B.stateNode,Ze!=null)){var U=B.memoizedProps,C=me!==null?me.memoizedProps:U,e=B.type,T=B.updateQueue;if(B.updateQueue=null,T!==null)try{e==="input"&&U.type==="radio"&&U.name!=null&&X2(Ze,U),O1(e,C);var k=O1(e,U);for(C=0;C<T.length;C+=2){var o=T[C],_=T[C+1];o==="style"?Q2(Ze,_):o==="dangerouslySetInnerHTML"?J2(Ze,_):o==="children"?Sp(Ze,_):Pv(Ze,o,_,k)}switch(e){case"input":S1(Ze,U);break;case"textarea":Z2(Ze,U);break;case"select":var b=Ze._wrapperState.wasMultiple;Ze._wrapperState.wasMultiple=!!U.multiple;var f=U.value;f!=null?eh(Ze,!!U.multiple,f,!1):b!==!!U.multiple&&(U.defaultValue!=null?eh(Ze,!!U.multiple,U.defaultValue,!0):eh(Ze,!!U.multiple,U.multiple?[]:"",!1))}Ze[Rp]=U}catch(t){Ca(B,B.return,t)}}break;case 6:if($l(Z,B),xu(B),Ne&4){if(B.stateNode===null)throw Error(kr(162));Ze=B.stateNode,U=B.memoizedProps;try{Ze.nodeValue=U}catch(t){Ca(B,B.return,t)}}break;case 3:if($l(Z,B),xu(B),Ne&4&&me!==null&&me.memoizedState.isDehydrated)try{Pp(Z.containerInfo)}catch(t){Ca(B,B.return,t)}break;case 4:$l(Z,B),xu(B);break;case 13:$l(Z,B),xu(B),Ze=B.child,Ze.flags&8192&&(U=Ze.memoizedState!==null,Ze.stateNode.isHidden=U,!U||Ze.alternate!==null&&Ze.alternate.memoizedState!==null||(cm=ja())),Ne&4&&t2(B);break;case 22:if(o=me!==null&&me.memoizedState!==null,B.mode&1?(Xo=(k=Xo)||o,$l(Z,B),Xo=k):$l(Z,B),xu(B),Ne&8192){if(k=B.memoizedState!==null,(B.stateNode.isHidden=k)&&!o&&B.mode&1)for(Br=B,o=B.child;o!==null;){for(_=Br=o;Br!==null;){switch(b=Br,f=b.child,b.tag){case 0:case 11:case 14:case 15:Tp(4,b,b.return);break;case 1:$f(b,b.return);var s=b.stateNode;if(typeof s.componentWillUnmount=="function"){Ne=b,me=b.return;try{Z=Ne,s.props=Z.memoizedProps,s.state=Z.memoizedState,s.componentWillUnmount()}catch(t){Ca(Ne,me,t)}}break;case 5:$f(b,b.return);break;case 22:if(b.memoizedState!==null){r2(_);continue}}f!==null?(f.return=b,Br=f):r2(_)}o=o.sibling}e:for(o=null,_=B;;){if(_.tag===5){if(o===null){o=_;try{Ze=_.stateNode,k?(U=Ze.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(e=_.stateNode,T=_.memoizedProps.style,C=T!=null&&T.hasOwnProperty("display")?T.display:null,e.style.display=$2("display",C))}catch(t){Ca(B,B.return,t)}}}else if(_.tag===6){if(o===null)try{_.stateNode.nodeValue=k?"":_.memoizedProps}catch(t){Ca(B,B.return,t)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===B)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===B)break e;for(;_.sibling===null;){if(_.return===null||_.return===B)break e;o===_&&(o=null),_=_.return}o===_&&(o=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:$l(Z,B),xu(B),Ne&4&&t2(B);break;case 21:break;default:$l(Z,B),xu(B)}}function xu(B){var Z=B.flags;if(Z&2){try{e:{for(var me=B.return;me!==null;){if(k_(me)){var Ne=me;break e}me=me.return}throw Error(kr(160))}switch(Ne.tag){case 5:var Ze=Ne.stateNode;Ne.flags&32&&(Sp(Ze,""),Ne.flags&=-33);var U=e2(B);lv(B,U,Ze);break;case 3:case 4:var C=Ne.stateNode.containerInfo,e=e2(B);sv(B,e,C);break;default:throw Error(kr(161))}}catch(T){Ca(B,B.return,T)}B.flags&=-3}Z&4096&&(B.flags&=-4097)}function K5(B,Z,me){Br=B,S_(B)}function S_(B,Z,me){for(var Ne=(B.mode&1)!==0;Br!==null;){var Ze=Br,U=Ze.child;if(Ze.tag===22&&Ne){var C=Ze.memoizedState!==null||n0;if(!C){var e=Ze.alternate,T=e!==null&&e.memoizedState!==null||Xo;e=n0;var k=Xo;if(n0=C,(Xo=T)&&!k)for(Br=Ze;Br!==null;)C=Br,T=C.child,C.tag===22&&C.memoizedState!==null?i2(Ze):T!==null?(T.return=C,Br=T):i2(Ze);for(;U!==null;)Br=U,S_(U),U=U.sibling;Br=Ze,n0=e,Xo=k}n2(B)}else Ze.subtreeFlags&8772&&U!==null?(U.return=Ze,Br=U):n2(B)}}function n2(B){for(;Br!==null;){var Z=Br;if(Z.flags&8772){var me=Z.alternate;try{if(Z.flags&8772)switch(Z.tag){case 0:case 11:case 15:Xo||$0(5,Z);break;case 1:var Ne=Z.stateNode;if(Z.flags&4&&!Xo)if(me===null)Ne.componentDidMount();else{var Ze=Z.elementType===Z.type?me.memoizedProps:Ql(Z.type,me.memoizedProps);Ne.componentDidUpdate(Ze,me.memoizedState,Ne.__reactInternalSnapshotBeforeUpdate)}var U=Z.updateQueue;U!==null&&jx(Z,U,Ne);break;case 3:var C=Z.updateQueue;if(C!==null){if(me=null,Z.child!==null)switch(Z.child.tag){case 5:me=Z.child.stateNode;break;case 1:me=Z.child.stateNode}jx(Z,C,me)}break;case 5:var e=Z.stateNode;if(me===null&&Z.flags&4){me=e;var T=Z.memoizedProps;switch(Z.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&me.focus();break;case"img":T.src&&(me.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Z.memoizedState===null){var k=Z.alternate;if(k!==null){var o=k.memoizedState;if(o!==null){var _=o.dehydrated;_!==null&&Pp(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(kr(163))}Xo||Z.flags&512&&ov(Z)}catch(b){Ca(Z,Z.return,b)}}if(Z===B){Br=null;break}if(me=Z.sibling,me!==null){me.return=Z.return,Br=me;break}Br=Z.return}}function r2(B){for(;Br!==null;){var Z=Br;if(Z===B){Br=null;break}var me=Z.sibling;if(me!==null){me.return=Z.return,Br=me;break}Br=Z.return}}function i2(B){for(;Br!==null;){var Z=Br;try{switch(Z.tag){case 0:case 11:case 15:var me=Z.return;try{$0(4,Z)}catch(T){Ca(Z,me,T)}break;case 1:var Ne=Z.stateNode;if(typeof Ne.componentDidMount=="function"){var Ze=Z.return;try{Ne.componentDidMount()}catch(T){Ca(Z,Ze,T)}}var U=Z.return;try{ov(Z)}catch(T){Ca(Z,U,T)}break;case 5:var C=Z.return;try{ov(Z)}catch(T){Ca(Z,C,T)}}}catch(T){Ca(Z,Z.return,T)}if(Z===B){Br=null;break}var e=Z.sibling;if(e!==null){e.return=Z.return,Br=e;break}Br=Z.return}}var J5=Math.ceil,F0=Xu.ReactCurrentDispatcher,lm=Xu.ReactCurrentOwner,Ol=Xu.ReactCurrentBatchConfig,Ei=0,ho=null,Wa=null,Co=0,il=0,Qf=Ic(0),eo=0,Vp=null,gf=0,Q0=0,um=0,kp=null,Bs=null,cm=0,Mh=1/0,Bu=null,B0=!1,uv=null,Sc=null,r0=!1,_c=null,N0=0,Ap=0,cv=null,g0=-1,v0=0;function ds(){return Ei&6?ja():g0!==-1?g0:g0=ja()}function Ec(B){return B.mode&1?Ei&2&&Co!==0?Co&-Co:z5.transition!==null?(v0===0&&(v0=fb()),v0):(B=Wi,B!==0||(B=window.event,B=B===void 0?16:yb(B.type)),B):1}function au(B,Z,me,Ne){if(50<Ap)throw Ap=0,cv=null,Error(kr(185));Kp(B,me,Ne),(!(Ei&2)||B!==ho)&&(B===ho&&(!(Ei&2)&&(Q0|=me),eo===4&&pc(B,Co)),Vs(B,Ne),me===1&&Ei===0&&!(Z.mode&1)&&(Mh=ja()+500,Z0&&zc()))}function Vs(B,Z){var me=B.callbackNode;z4(B,Z);var Ne=w0(B,B===ho?Co:0);if(Ne===0)me!==null&&px(me),B.callbackNode=null,B.callbackPriority=0;else if(Z=Ne&-Ne,B.callbackPriority!==Z){if(me!=null&&px(me),Z===1)B.tag===0?I5(a2.bind(null,B)):Fb(a2.bind(null,B)),L5(function(){!(Ei&6)&&zc()}),me=null;else{switch(hb(Ne)){case 1:me=Rv;break;case 4:me=ub;break;case 16:me=_0;break;case 536870912:me=cb;break;default:me=_0}me=D_(me,E_.bind(null,B))}B.callbackPriority=Z,B.callbackNode=me}}function E_(B,Z){if(g0=-1,v0=0,Ei&6)throw Error(kr(327));var me=B.callbackNode;if(ah()&&B.callbackNode!==me)return null;var Ne=w0(B,B===ho?Co:0);if(Ne===0)return null;if(Ne&30||Ne&B.expiredLanes||Z)Z=j0(B,Ne);else{Z=Ne;var Ze=Ei;Ei|=2;var U=C_();(ho!==B||Co!==Z)&&(Bu=null,Mh=ja()+500,cf(B,Z));do try{e6();break}catch(e){L_(B,e)}while(!0);Zv(),F0.current=U,Ei=Ze,Wa!==null?Z=0:(ho=null,Co=0,Z=eo)}if(Z!==0){if(Z===2&&(Ze=F1(B),Ze!==0&&(Ne=Ze,Z=fv(B,Ze))),Z===1)throw me=Vp,cf(B,0),pc(B,Ne),Vs(B,ja()),me;if(Z===6)pc(B,Ne);else{if(Ze=B.current.alternate,!(Ne&30)&&!$5(Ze)&&(Z=j0(B,Ne),Z===2&&(U=F1(B),U!==0&&(Ne=U,Z=fv(B,U))),Z===1))throw me=Vp,cf(B,0),pc(B,Ne),Vs(B,ja()),me;switch(B.finishedWork=Ze,B.finishedLanes=Ne,Z){case 0:case 1:throw Error(kr(345));case 2:$c(B,Bs,Bu);break;case 3:if(pc(B,Ne),(Ne&130023424)===Ne&&(Z=cm+500-ja(),10<Z)){if(w0(B,0)!==0)break;if(Ze=B.suspendedLanes,(Ze&Ne)!==Ne){ds(),B.pingedLanes|=B.suspendedLanes&Ze;break}B.timeoutHandle=G1($c.bind(null,B,Bs,Bu),Z);break}$c(B,Bs,Bu);break;case 4:if(pc(B,Ne),(Ne&4194240)===Ne)break;for(Z=B.eventTimes,Ze=-1;0<Ne;){var C=31-iu(Ne);U=1<<C,C=Z[C],C>Ze&&(Ze=C),Ne&=~U}if(Ne=Ze,Ne=ja()-Ne,Ne=(120>Ne?120:480>Ne?480:1080>Ne?1080:1920>Ne?1920:3e3>Ne?3e3:4320>Ne?4320:1960*J5(Ne/1960))-Ne,10<Ne){B.timeoutHandle=G1($c.bind(null,B,Bs,Bu),Ne);break}$c(B,Bs,Bu);break;case 5:$c(B,Bs,Bu);break;default:throw Error(kr(329))}}}return Vs(B,ja()),B.callbackNode===me?E_.bind(null,B):null}function fv(B,Z){var me=kp;return B.current.memoizedState.isDehydrated&&(cf(B,Z).flags|=256),B=j0(B,Z),B!==2&&(Z=Bs,Bs=me,Z!==null&&hv(Z)),B}function hv(B){Bs===null?Bs=B:Bs.push.apply(Bs,B)}function $5(B){for(var Z=B;;){if(Z.flags&16384){var me=Z.updateQueue;if(me!==null&&(me=me.stores,me!==null))for(var Ne=0;Ne<me.length;Ne++){var Ze=me[Ne],U=Ze.getSnapshot;Ze=Ze.value;try{if(!ou(U(),Ze))return!1}catch{return!1}}}if(me=Z.child,Z.subtreeFlags&16384&&me!==null)me.return=Z,Z=me;else{if(Z===B)break;for(;Z.sibling===null;){if(Z.return===null||Z.return===B)return!0;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}}return!0}function pc(B,Z){for(Z&=~um,Z&=~Q0,B.suspendedLanes|=Z,B.pingedLanes&=~Z,B=B.expirationTimes;0<Z;){var me=31-iu(Z),Ne=1<<me;B[me]=-1,Z&=~Ne}}function a2(B){if(Ei&6)throw Error(kr(327));ah();var Z=w0(B,0);if(!(Z&1))return Vs(B,ja()),null;var me=j0(B,Z);if(B.tag!==0&&me===2){var Ne=F1(B);Ne!==0&&(Z=Ne,me=fv(B,Ne))}if(me===1)throw me=Vp,cf(B,0),pc(B,Z),Vs(B,ja()),me;if(me===6)throw Error(kr(345));return B.finishedWork=B.current.alternate,B.finishedLanes=Z,$c(B,Bs,Bu),Vs(B,ja()),null}function fm(B,Z){var me=Ei;Ei|=1;try{return B(Z)}finally{Ei=me,Ei===0&&(Mh=ja()+500,Z0&&zc())}}function vf(B){_c!==null&&_c.tag===0&&!(Ei&6)&&ah();var Z=Ei;Ei|=1;var me=Ol.transition,Ne=Wi;try{if(Ol.transition=null,Wi=1,B)return B()}finally{Wi=Ne,Ol.transition=me,Ei=Z,!(Ei&6)&&zc()}}function hm(){il=Qf.current,ha(Qf)}function cf(B,Z){B.finishedWork=null,B.finishedLanes=0;var me=B.timeoutHandle;if(me!==-1&&(B.timeoutHandle=-1,E5(me)),Wa!==null)for(me=Wa.return;me!==null;){var Ne=me;switch(Wv(Ne),Ne.tag){case 1:Ne=Ne.type.childContextTypes,Ne!=null&&S0();break;case 3:kh(),ha(js),ha(Zo),tm();break;case 5:em(Ne);break;case 4:kh();break;case 13:ha(_a);break;case 19:ha(_a);break;case 10:Kv(Ne.type._context);break;case 22:case 23:hm()}me=me.return}if(ho=B,Wa=B=Lc(B.current,null),Co=il=Z,eo=0,Vp=null,um=Q0=gf=0,Bs=kp=null,ef!==null){for(Z=0;Z<ef.length;Z++)if(me=ef[Z],Ne=me.interleaved,Ne!==null){me.interleaved=null;var Ze=Ne.next,U=me.pending;if(U!==null){var C=U.next;U.next=Ze,Ne.next=C}me.pending=Ne}ef=null}return B}function L_(B,Z){do{var me=Wa;try{if(Zv(),h0.current=R0,D0){for(var Ne=wa.memoizedState;Ne!==null;){var Ze=Ne.queue;Ze!==null&&(Ze.pending=null),Ne=Ne.next}D0=!1}if(df=0,fo=Qa=wa=null,wp=!1,Np=0,lm.current=null,me===null||me.return===null){eo=1,Vp=Z,Wa=null;break}e:{var U=B,C=me.return,e=me,T=Z;if(Z=Co,e.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var k=T,o=e,_=o.tag;if(!(o.mode&1)&&(_===0||_===11||_===15)){var b=o.alternate;b?(o.updateQueue=b.updateQueue,o.memoizedState=b.memoizedState,o.lanes=b.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=Wx(C);if(f!==null){f.flags&=-257,Yx(f,C,e,U,Z),f.mode&1&&Gx(U,k,Z),Z=f,T=k;var s=Z.updateQueue;if(s===null){var t=new Set;t.add(T),Z.updateQueue=t}else s.add(T);break e}else{if(!(Z&1)){Gx(U,k,Z),pm();break e}T=Error(kr(426))}}else if(pa&&e.mode&1){var i=Wx(C);if(i!==null){!(i.flags&65536)&&(i.flags|=256),Yx(i,C,e,U,Z),Yv(Ah(T,e));break e}}U=T=Ah(T,e),eo!==4&&(eo=2),kp===null?kp=[U]:kp.push(U),U=C;do{switch(U.tag){case 3:U.flags|=65536,Z&=-Z,U.lanes|=Z;var r=h_(U,T,Z);Nx(U,r);break e;case 1:e=T;var n=U.type,a=U.stateNode;if(!(U.flags&128)&&(typeof n.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Sc===null||!Sc.has(a)))){U.flags|=65536,Z&=-Z,U.lanes|=Z;var l=p_(U,e,Z);Nx(U,l);break e}}U=U.return}while(U!==null)}O_(me)}catch(u){Z=u,Wa===me&&me!==null&&(Wa=me=me.return);continue}break}while(!0)}function C_(){var B=F0.current;return F0.current=R0,B===null?R0:B}function pm(){(eo===0||eo===3||eo===2)&&(eo=4),ho===null||!(gf&268435455)&&!(Q0&268435455)||pc(ho,Co)}function j0(B,Z){var me=Ei;Ei|=2;var Ne=C_();(ho!==B||Co!==Z)&&(Bu=null,cf(B,Z));do try{Q5();break}catch(Ze){L_(B,Ze)}while(!0);if(Zv(),Ei=me,F0.current=Ne,Wa!==null)throw Error(kr(261));return ho=null,Co=0,eo}function Q5(){for(;Wa!==null;)P_(Wa)}function e6(){for(;Wa!==null&&!A4();)P_(Wa)}function P_(B){var Z=z_(B.alternate,B,il);B.memoizedProps=B.pendingProps,Z===null?O_(B):Wa=Z,lm.current=null}function O_(B){var Z=B;do{var me=Z.alternate;if(B=Z.return,Z.flags&32768){if(me=Y5(me,Z),me!==null){me.flags&=32767,Wa=me;return}if(B!==null)B.flags|=32768,B.subtreeFlags=0,B.deletions=null;else{eo=6,Wa=null;return}}else if(me=W5(me,Z,il),me!==null){Wa=me;return}if(Z=Z.sibling,Z!==null){Wa=Z;return}Wa=Z=B}while(Z!==null);eo===0&&(eo=5)}function $c(B,Z,me){var Ne=Wi,Ze=Ol.transition;try{Ol.transition=null,Wi=1,t6(B,Z,me,Ne)}finally{Ol.transition=Ze,Wi=Ne}return null}function t6(B,Z,me,Ne){do ah();while(_c!==null);if(Ei&6)throw Error(kr(327));me=B.finishedWork;var Ze=B.finishedLanes;if(me===null)return null;if(B.finishedWork=null,B.finishedLanes=0,me===B.current)throw Error(kr(177));B.callbackNode=null,B.callbackPriority=0;var U=me.lanes|me.childLanes;if(D4(B,U),B===ho&&(Wa=ho=null,Co=0),!(me.subtreeFlags&2064)&&!(me.flags&2064)||r0||(r0=!0,D_(_0,function(){return ah(),null})),U=(me.flags&15990)!==0,me.subtreeFlags&15990||U){U=Ol.transition,Ol.transition=null;var C=Wi;Wi=1;var e=Ei;Ei|=4,lm.current=null,Z5(B,me),M_(me,B),_5(H1),T0=!!V1,H1=V1=null,B.current=me,K5(me),M4(),Ei=e,Wi=C,Ol.transition=U}else B.current=me;if(r0&&(r0=!1,_c=B,N0=Ze),U=B.pendingLanes,U===0&&(Sc=null),L4(me.stateNode),Vs(B,ja()),Z!==null)for(Ne=B.onRecoverableError,me=0;me<Z.length;me++)Ze=Z[me],Ne(Ze.value,{componentStack:Ze.stack,digest:Ze.digest});if(B0)throw B0=!1,B=uv,uv=null,B;return N0&1&&B.tag!==0&&ah(),U=B.pendingLanes,U&1?B===cv?Ap++:(Ap=0,cv=B):Ap=0,zc(),null}function ah(){if(_c!==null){var B=hb(N0),Z=Ol.transition,me=Wi;try{if(Ol.transition=null,Wi=16>B?16:B,_c===null)var Ne=!1;else{if(B=_c,_c=null,N0=0,Ei&6)throw Error(kr(331));var Ze=Ei;for(Ei|=4,Br=B.current;Br!==null;){var U=Br,C=U.child;if(Br.flags&16){var e=U.deletions;if(e!==null){for(var T=0;T<e.length;T++){var k=e[T];for(Br=k;Br!==null;){var o=Br;switch(o.tag){case 0:case 11:case 15:Tp(8,o,U)}var _=o.child;if(_!==null)_.return=o,Br=_;else for(;Br!==null;){o=Br;var b=o.sibling,f=o.return;if(T_(o),o===k){Br=null;break}if(b!==null){b.return=f,Br=b;break}Br=f}}}var s=U.alternate;if(s!==null){var t=s.child;if(t!==null){s.child=null;do{var i=t.sibling;t.sibling=null,t=i}while(t!==null)}}Br=U}}if(U.subtreeFlags&2064&&C!==null)C.return=U,Br=C;else e:for(;Br!==null;){if(U=Br,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Tp(9,U,U.return)}var r=U.sibling;if(r!==null){r.return=U.return,Br=r;break e}Br=U.return}}var n=B.current;for(Br=n;Br!==null;){C=Br;var a=C.child;if(C.subtreeFlags&2064&&a!==null)a.return=C,Br=a;else e:for(C=n;Br!==null;){if(e=Br,e.flags&2048)try{switch(e.tag){case 0:case 11:case 15:$0(9,e)}}catch(u){Ca(e,e.return,u)}if(e===C){Br=null;break e}var l=e.sibling;if(l!==null){l.return=e.return,Br=l;break e}Br=e.return}}if(Ei=Ze,zc(),Mu&&typeof Mu.onPostCommitFiberRoot=="function")try{Mu.onPostCommitFiberRoot(q0,B)}catch{}Ne=!0}return Ne}finally{Wi=me,Ol.transition=Z}}return!1}function o2(B,Z,me){Z=Ah(me,Z),Z=h_(B,Z,1),B=Mc(B,Z,1),Z=ds(),B!==null&&(Kp(B,1,Z),Vs(B,Z))}function Ca(B,Z,me){if(B.tag===3)o2(B,B,me);else for(;Z!==null;){if(Z.tag===3){o2(Z,B,me);break}else if(Z.tag===1){var Ne=Z.stateNode;if(typeof Z.type.getDerivedStateFromError=="function"||typeof Ne.componentDidCatch=="function"&&(Sc===null||!Sc.has(Ne))){B=Ah(me,B),B=p_(Z,B,1),Z=Mc(Z,B,1),B=ds(),Z!==null&&(Kp(Z,1,B),Vs(Z,B));break}}Z=Z.return}}function n6(B,Z,me){var Ne=B.pingCache;Ne!==null&&Ne.delete(Z),Z=ds(),B.pingedLanes|=B.suspendedLanes&me,ho===B&&(Co&me)===me&&(eo===4||eo===3&&(Co&130023424)===Co&&500>ja()-cm?cf(B,0):um|=me),Vs(B,Z)}function I_(B,Z){Z===0&&(B.mode&1?(Z=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):Z=1);var me=ds();B=Wu(B,Z),B!==null&&(Kp(B,Z,me),Vs(B,me))}function r6(B){var Z=B.memoizedState,me=0;Z!==null&&(me=Z.retryLane),I_(B,me)}function i6(B,Z){var me=0;switch(B.tag){case 13:var Ne=B.stateNode,Ze=B.memoizedState;Ze!==null&&(me=Ze.retryLane);break;case 19:Ne=B.stateNode;break;default:throw Error(kr(314))}Ne!==null&&Ne.delete(Z),I_(B,me)}var z_;z_=function(B,Z,me){if(B!==null)if(B.memoizedProps!==Z.pendingProps||js.current)Ns=!0;else{if(!(B.lanes&me)&&!(Z.flags&128))return Ns=!1,G5(B,Z,me);Ns=!!(B.flags&131072)}else Ns=!1,pa&&Z.flags&1048576&&Bb(Z,C0,Z.index);switch(Z.lanes=0,Z.tag){case 2:var Ne=Z.type;d0(B,Z),B=Z.pendingProps;var Ze=_h(Z,Zo.current);ih(Z,me),Ze=rm(null,Z,Ne,B,Ze,me);var U=im();return Z.flags|=1,typeof Ze=="object"&&Ze!==null&&typeof Ze.render=="function"&&Ze.$$typeof===void 0?(Z.tag=1,Z.memoizedState=null,Z.updateQueue=null,Us(Ne)?(U=!0,E0(Z)):U=!1,Z.memoizedState=Ze.state!==null&&Ze.state!==void 0?Ze.state:null,$v(Z),Ze.updater=J0,Z.stateNode=Ze,Ze._reactInternals=Z,$1(Z,Ne,B,me),Z=tv(null,Z,Ne,!0,U,me)):(Z.tag=0,pa&&U&&Gv(Z),hs(null,Z,Ze,me),Z=Z.child),Z;case 16:Ne=Z.elementType;e:{switch(d0(B,Z),B=Z.pendingProps,Ze=Ne._init,Ne=Ze(Ne._payload),Z.type=Ne,Ze=Z.tag=o6(Ne),B=Ql(Ne,B),Ze){case 0:Z=ev(null,Z,Ne,B,me);break e;case 1:Z=Kx(null,Z,Ne,B,me);break e;case 11:Z=Xx(null,Z,Ne,B,me);break e;case 14:Z=Zx(null,Z,Ne,Ql(Ne.type,B),me);break e}throw Error(kr(306,Ne,""))}return Z;case 0:return Ne=Z.type,Ze=Z.pendingProps,Ze=Z.elementType===Ne?Ze:Ql(Ne,Ze),ev(B,Z,Ne,Ze,me);case 1:return Ne=Z.type,Ze=Z.pendingProps,Ze=Z.elementType===Ne?Ze:Ql(Ne,Ze),Kx(B,Z,Ne,Ze,me);case 3:e:{if(m_(Z),B===null)throw Error(kr(387));Ne=Z.pendingProps,U=Z.memoizedState,Ze=U.element,qb(B,Z),I0(Z,Ne,null,me);var C=Z.memoizedState;if(Ne=C.element,U.isDehydrated)if(U={element:Ne,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},Z.updateQueue.baseState=U,Z.memoizedState=U,Z.flags&256){Ze=Ah(Error(kr(423)),Z),Z=Jx(B,Z,Ne,me,Ze);break e}else if(Ne!==Ze){Ze=Ah(Error(kr(424)),Z),Z=Jx(B,Z,Ne,me,Ze);break e}else for(al=Ac(Z.stateNode.containerInfo.firstChild),ol=Z,pa=!0,nu=null,me=Vb(Z,null,Ne,me),Z.child=me;me;)me.flags=me.flags&-3|4096,me=me.sibling;else{if(wh(),Ne===Ze){Z=Yu(B,Z,me);break e}hs(B,Z,Ne,me)}Z=Z.child}return Z;case 5:return Gb(Z),B===null&&Z1(Z),Ne=Z.type,Ze=Z.pendingProps,U=B!==null?B.memoizedProps:null,C=Ze.children,q1(Ne,Ze)?C=null:U!==null&&q1(Ne,U)&&(Z.flags|=32),v_(B,Z),hs(B,Z,C,me),Z.child;case 6:return B===null&&Z1(Z),null;case 13:return y_(B,Z,me);case 4:return Qv(Z,Z.stateNode.containerInfo),Ne=Z.pendingProps,B===null?Z.child=Th(Z,null,Ne,me):hs(B,Z,Ne,me),Z.child;case 11:return Ne=Z.type,Ze=Z.pendingProps,Ze=Z.elementType===Ne?Ze:Ql(Ne,Ze),Xx(B,Z,Ne,Ze,me);case 7:return hs(B,Z,Z.pendingProps,me),Z.child;case 8:return hs(B,Z,Z.pendingProps.children,me),Z.child;case 12:return hs(B,Z,Z.pendingProps.children,me),Z.child;case 10:e:{if(Ne=Z.type._context,Ze=Z.pendingProps,U=Z.memoizedProps,C=Ze.value,aa(P0,Ne._currentValue),Ne._currentValue=C,U!==null)if(ou(U.value,C)){if(U.children===Ze.children&&!js.current){Z=Yu(B,Z,me);break e}}else for(U=Z.child,U!==null&&(U.return=Z);U!==null;){var e=U.dependencies;if(e!==null){C=U.child;for(var T=e.firstContext;T!==null;){if(T.context===Ne){if(U.tag===1){T=Hu(-1,me&-me),T.tag=2;var k=U.updateQueue;if(k!==null){k=k.shared;var o=k.pending;o===null?T.next=T:(T.next=o.next,o.next=T),k.pending=T}}U.lanes|=me,T=U.alternate,T!==null&&(T.lanes|=me),K1(U.return,me,Z),e.lanes|=me;break}T=T.next}}else if(U.tag===10)C=U.type===Z.type?null:U.child;else if(U.tag===18){if(C=U.return,C===null)throw Error(kr(341));C.lanes|=me,e=C.alternate,e!==null&&(e.lanes|=me),K1(C,me,Z),C=U.sibling}else C=U.child;if(C!==null)C.return=U;else for(C=U;C!==null;){if(C===Z){C=null;break}if(U=C.sibling,U!==null){U.return=C.return,C=U;break}C=C.return}U=C}hs(B,Z,Ze.children,me),Z=Z.child}return Z;case 9:return Ze=Z.type,Ne=Z.pendingProps.children,ih(Z,me),Ze=Il(Ze),Ne=Ne(Ze),Z.flags|=1,hs(B,Z,Ne,me),Z.child;case 14:return Ne=Z.type,Ze=Ql(Ne,Z.pendingProps),Ze=Ql(Ne.type,Ze),Zx(B,Z,Ne,Ze,me);case 15:return d_(B,Z,Z.type,Z.pendingProps,me);case 17:return Ne=Z.type,Ze=Z.pendingProps,Ze=Z.elementType===Ne?Ze:Ql(Ne,Ze),d0(B,Z),Z.tag=1,Us(Ne)?(B=!0,E0(Z)):B=!1,ih(Z,me),f_(Z,Ne,Ze),$1(Z,Ne,Ze,me),tv(null,Z,Ne,!0,B,me);case 19:return x_(B,Z,me);case 22:return g_(B,Z,me)}throw Error(kr(156,Z.tag))};function D_(B,Z){return lb(B,Z)}function a6(B,Z,me,Ne){this.tag=B,this.key=me,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Z,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ne,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(B,Z,me,Ne){return new a6(B,Z,me,Ne)}function dm(B){return B=B.prototype,!(!B||!B.isReactComponent)}function o6(B){if(typeof B=="function")return dm(B)?1:0;if(B!=null){if(B=B.$$typeof,B===Iv)return 11;if(B===zv)return 14}return 2}function Lc(B,Z){var me=B.alternate;return me===null?(me=Pl(B.tag,Z,B.key,B.mode),me.elementType=B.elementType,me.type=B.type,me.stateNode=B.stateNode,me.alternate=B,B.alternate=me):(me.pendingProps=Z,me.type=B.type,me.flags=0,me.subtreeFlags=0,me.deletions=null),me.flags=B.flags&14680064,me.childLanes=B.childLanes,me.lanes=B.lanes,me.child=B.child,me.memoizedProps=B.memoizedProps,me.memoizedState=B.memoizedState,me.updateQueue=B.updateQueue,Z=B.dependencies,me.dependencies=Z===null?null:{lanes:Z.lanes,firstContext:Z.firstContext},me.sibling=B.sibling,me.index=B.index,me.ref=B.ref,me}function m0(B,Z,me,Ne,Ze,U){var C=2;if(Ne=B,typeof B=="function")dm(B)&&(C=1);else if(typeof B=="string")C=5;else e:switch(B){case Hf:return ff(me.children,Ze,U,Z);case Ov:C=8,Ze|=8;break;case w1:return B=Pl(12,me,Z,Ze|2),B.elementType=w1,B.lanes=U,B;case T1:return B=Pl(13,me,Z,Ze),B.elementType=T1,B.lanes=U,B;case k1:return B=Pl(19,me,Z,Ze),B.elementType=k1,B.lanes=U,B;case G2:return eg(me,Ze,U,Z);default:if(typeof B=="object"&&B!==null)switch(B.$$typeof){case H2:C=10;break e;case q2:C=9;break e;case Iv:C=11;break e;case zv:C=14;break e;case cc:C=16,Ne=null;break e}throw Error(kr(130,B==null?B:typeof B,""))}return Z=Pl(C,me,Z,Ze),Z.elementType=B,Z.type=Ne,Z.lanes=U,Z}function ff(B,Z,me,Ne){return B=Pl(7,B,Ne,Z),B.lanes=me,B}function eg(B,Z,me,Ne){return B=Pl(22,B,Ne,Z),B.elementType=G2,B.lanes=me,B.stateNode={isHidden:!1},B}function m1(B,Z,me){return B=Pl(6,B,null,Z),B.lanes=me,B}function y1(B,Z,me){return Z=Pl(4,B.children!==null?B.children:[],B.key,Z),Z.lanes=me,Z.stateNode={containerInfo:B.containerInfo,pendingChildren:null,implementation:B.implementation},Z}function s6(B,Z,me,Ne,Ze){this.tag=Z,this.containerInfo=B,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=Ne,this.onRecoverableError=Ze,this.mutableSourceEagerHydrationData=null}function gm(B,Z,me,Ne,Ze,U,C,e,T){return B=new s6(B,Z,me,e,T),Z===1?(Z=1,U===!0&&(Z|=8)):Z=0,U=Pl(3,null,null,Z),B.current=U,U.stateNode=B,U.memoizedState={element:Ne,isDehydrated:me,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(U),B}function l6(B,Z,me){var Ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vf,key:Ne==null?null:""+Ne,children:B,containerInfo:Z,implementation:me}}function R_(B){if(!B)return Pc;B=B._reactInternals;e:{if(yf(B)!==B||B.tag!==1)throw Error(kr(170));var Z=B;do{switch(Z.tag){case 3:Z=Z.stateNode.context;break e;case 1:if(Us(Z.type)){Z=Z.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Z=Z.return}while(Z!==null);throw Error(kr(171))}if(B.tag===1){var me=B.type;if(Us(me))return Rb(B,me,Z)}return Z}function F_(B,Z,me,Ne,Ze,U,C,e,T){return B=gm(me,Ne,!0,B,Ze,U,C,e,T),B.context=R_(null),me=B.current,Ne=ds(),Ze=Ec(me),U=Hu(Ne,Ze),U.callback=Z??null,Mc(me,U,Ze),B.current.lanes=Ze,Kp(B,Ze,Ne),Vs(B,Ne),B}function tg(B,Z,me,Ne){var Ze=Z.current,U=ds(),C=Ec(Ze);return me=R_(me),Z.context===null?Z.context=me:Z.pendingContext=me,Z=Hu(U,C),Z.payload={element:B},Ne=Ne===void 0?null:Ne,Ne!==null&&(Z.callback=Ne),B=Mc(Ze,Z,C),B!==null&&(au(B,Ze,C,U),f0(B,Ze,C)),C}function U0(B){if(B=B.current,!B.child)return null;switch(B.child.tag){case 5:return B.child.stateNode;default:return B.child.stateNode}}function s2(B,Z){if(B=B.memoizedState,B!==null&&B.dehydrated!==null){var me=B.retryLane;B.retryLane=me!==0&&me<Z?me:Z}}function vm(B,Z){s2(B,Z),(B=B.alternate)&&s2(B,Z)}function u6(){return null}var B_=typeof reportError=="function"?reportError:function(B){console.error(B)};function mm(B){this._internalRoot=B}ng.prototype.render=mm.prototype.render=function(B){var Z=this._internalRoot;if(Z===null)throw Error(kr(409));tg(B,Z,null,null)};ng.prototype.unmount=mm.prototype.unmount=function(){var B=this._internalRoot;if(B!==null){this._internalRoot=null;var Z=B.containerInfo;vf(function(){tg(null,B,null,null)}),Z[Gu]=null}};function ng(B){this._internalRoot=B}ng.prototype.unstable_scheduleHydration=function(B){if(B){var Z=gb();B={blockedOn:null,target:B,priority:Z};for(var me=0;me<hc.length&&Z!==0&&Z<hc[me].priority;me++);hc.splice(me,0,B),me===0&&mb(B)}};function ym(B){return!(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11)}function rg(B){return!(!B||B.nodeType!==1&&B.nodeType!==9&&B.nodeType!==11&&(B.nodeType!==8||B.nodeValue!==" react-mount-point-unstable "))}function l2(){}function c6(B,Z,me,Ne,Ze){if(Ze){if(typeof Ne=="function"){var U=Ne;Ne=function(){var k=U0(C);U.call(k)}}var C=F_(Z,Ne,B,0,null,!1,!1,"",l2);return B._reactRootContainer=C,B[Gu]=C.current,zp(B.nodeType===8?B.parentNode:B),vf(),C}for(;Ze=B.lastChild;)B.removeChild(Ze);if(typeof Ne=="function"){var e=Ne;Ne=function(){var k=U0(T);e.call(k)}}var T=gm(B,0,!1,null,null,!1,!1,"",l2);return B._reactRootContainer=T,B[Gu]=T.current,zp(B.nodeType===8?B.parentNode:B),vf(function(){tg(Z,T,me,Ne)}),T}function ig(B,Z,me,Ne,Ze){var U=me._reactRootContainer;if(U){var C=U;if(typeof Ze=="function"){var e=Ze;Ze=function(){var T=U0(C);e.call(T)}}tg(Z,C,B,Ze)}else C=c6(me,Z,B,Ze,Ne);return U0(C)}pb=function(B){switch(B.tag){case 3:var Z=B.stateNode;if(Z.current.memoizedState.isDehydrated){var me=dp(Z.pendingLanes);me!==0&&(Fv(Z,me|1),Vs(Z,ja()),!(Ei&6)&&(Mh=ja()+500,zc()))}break;case 13:vf(function(){var Ne=Wu(B,1);if(Ne!==null){var Ze=ds();au(Ne,B,1,Ze)}}),vm(B,1)}};Bv=function(B){if(B.tag===13){var Z=Wu(B,134217728);if(Z!==null){var me=ds();au(Z,B,134217728,me)}vm(B,134217728)}};db=function(B){if(B.tag===13){var Z=Ec(B),me=Wu(B,Z);if(me!==null){var Ne=ds();au(me,B,Z,Ne)}vm(B,Z)}};gb=function(){return Wi};vb=function(B,Z){var me=Wi;try{return Wi=B,Z()}finally{Wi=me}};z1=function(B,Z,me){switch(Z){case"input":if(S1(B,me),Z=me.name,me.type==="radio"&&Z!=null){for(me=B;me.parentNode;)me=me.parentNode;for(me=me.querySelectorAll("input[name="+JSON.stringify(""+Z)+'][type="radio"]'),Z=0;Z<me.length;Z++){var Ne=me[Z];if(Ne!==B&&Ne.form===B.form){var Ze=X0(Ne);if(!Ze)throw Error(kr(90));Y2(Ne),S1(Ne,Ze)}}}break;case"textarea":Z2(B,me);break;case"select":Z=me.value,Z!=null&&eh(B,!!me.multiple,Z,!1)}};nb=fm;rb=vf;var f6={usingClientEntryPoint:!1,Events:[$p,Yf,X0,eb,tb,fm]},fp={findFiberByHostInstance:Qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h6={bundleType:fp.bundleType,version:fp.version,rendererPackageName:fp.rendererPackageName,rendererConfig:fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xu.ReactCurrentDispatcher,findHostInstanceByFiber:function(B){return B=ob(B),B===null?null:B.stateNode},findFiberByHostInstance:fp.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{q0=i0.inject(h6),Mu=i0}catch{}}ll.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f6;ll.createPortal=function(B,Z){var me=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(Z))throw Error(kr(200));return l6(B,Z,null,me)};ll.createRoot=function(B,Z){if(!ym(B))throw Error(kr(299));var me=!1,Ne="",Ze=B_;return Z!=null&&(Z.unstable_strictMode===!0&&(me=!0),Z.identifierPrefix!==void 0&&(Ne=Z.identifierPrefix),Z.onRecoverableError!==void 0&&(Ze=Z.onRecoverableError)),Z=gm(B,1,!1,null,null,me,!1,Ne,Ze),B[Gu]=Z.current,zp(B.nodeType===8?B.parentNode:B),new mm(Z)};ll.findDOMNode=function(B){if(B==null)return null;if(B.nodeType===1)return B;var Z=B._reactInternals;if(Z===void 0)throw typeof B.render=="function"?Error(kr(188)):(B=Object.keys(B).join(","),Error(kr(268,B)));return B=ob(Z),B=B===null?null:B.stateNode,B};ll.flushSync=function(B){return vf(B)};ll.hydrate=function(B,Z,me){if(!rg(Z))throw Error(kr(200));return ig(null,B,Z,!0,me)};ll.hydrateRoot=function(B,Z,me){if(!ym(B))throw Error(kr(405));var Ne=me!=null&&me.hydratedSources||null,Ze=!1,U="",C=B_;if(me!=null&&(me.unstable_strictMode===!0&&(Ze=!0),me.identifierPrefix!==void 0&&(U=me.identifierPrefix),me.onRecoverableError!==void 0&&(C=me.onRecoverableError)),Z=F_(Z,null,B,1,me??null,Ze,!1,U,C),B[Gu]=Z.current,zp(B),Ne)for(B=0;B<Ne.length;B++)me=Ne[B],Ze=me._getVersion,Ze=Ze(me._source),Z.mutableSourceEagerHydrationData==null?Z.mutableSourceEagerHydrationData=[me,Ze]:Z.mutableSourceEagerHydrationData.push(me,Ze);return new ng(Z)};ll.render=function(B,Z,me){if(!rg(Z))throw Error(kr(200));return ig(null,B,Z,!1,me)};ll.unmountComponentAtNode=function(B){if(!rg(B))throw Error(kr(40));return B._reactRootContainer?(vf(function(){ig(null,null,B,!1,function(){B._reactRootContainer=null,B[Gu]=null})}),!0):!1};ll.unstable_batchedUpdates=fm;ll.unstable_renderSubtreeIntoContainer=function(B,Z,me,Ne){if(!rg(me))throw Error(kr(200));if(B==null||B._reactInternals===void 0)throw Error(kr(38));return ig(B,Z,me,!1,Ne)};ll.version="18.3.1-next-f1338f8080-20240426";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(B){console.error(B)}}N_(),N2.exports=ll;var p6=N2.exports,u2=p6;b1.createRoot=u2.createRoot,b1.hydrateRoot=u2.hydrateRoot;var j_={exports:{}};(function(B,Z){/*! For license information please see plotly.min.js.LICENSE.txt */(function(me,Ne){B.exports=Ne()})(self,function(){return function(){var me={79288:function(U,C,e){var T=e(3400),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in k){var _=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");T.addStyleRule(_,k[o])}},86712:function(U,C,e){U.exports=e(84224)},37240:function(U,C,e){U.exports=e(51132)},29744:function(U,C,e){U.exports=e(94456)},29352:function(U,C,e){U.exports=e(67244)},96144:function(U,C,e){U.exports=e(97776)},53219:function(U,C,e){U.exports=e(61712)},4624:function(U,C,e){U.exports=e(95856)},54543:function(U,C,e){U.exports=e(54272)},45e3:function(U,C,e){U.exports=e(85404)},62300:function(U,C,e){U.exports=e(26048)},6920:function(U,C,e){U.exports=e(66240)},10264:function(U,C,e){U.exports=e(40448)},32016:function(U,C,e){U.exports=e(64884)},27528:function(U,C,e){U.exports=e(15088)},75556:function(U,C,e){U.exports=e(76744)},39204:function(U,C,e){U.exports=e(94704)},73996:function(U,C,e){U.exports=e(62396)},16489:function(U,C,e){U.exports=e(32028)},5e3:function(U,C,e){U.exports=e(81932)},77280:function(U,C,e){U.exports=e(45536)},33992:function(U,C,e){U.exports=e(42600)},17600:function(U,C,e){U.exports=e(21536)},49116:function(U,C,e){U.exports=e(65664)},46808:function(U,C,e){U.exports=e(29044)},36168:function(U,C,e){U.exports=e(48928)},13792:function(U,C,e){var T=e(32016);T.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),U.exports=T},3920:function(U,C,e){U.exports=e(43480)},25120:function(U,C,e){U.exports=e(6296)},4340:function(U,C,e){U.exports=e(7404)},86152:function(U,C,e){U.exports=e(65456)},56816:function(U,C,e){U.exports=e(22020)},89296:function(U,C,e){U.exports=e(29928)},20260:function(U,C,e){U.exports=e(75792)},32140:function(U,C,e){U.exports=e(156)},84764:function(U,C,e){U.exports=e(45499)},48824:function(U,C,e){U.exports=e(3296)},69967:function(U,C,e){U.exports=e(4184)},8363:function(U,C,e){U.exports=e(36952)},86636:function(U,C,e){U.exports=e(38983)},70192:function(U,C,e){U.exports=e(11572)},81604:function(U,C,e){U.exports=e(76924)},63796:function(U,C,e){U.exports=e(62944)},89336:function(U,C,e){U.exports=e(95443)},67484:function(U,C,e){U.exports=e(34864)},97312:function(U,C,e){U.exports=e(76272)},42192:function(U,C,e){U.exports=e(97924)},29800:function(U,C,e){U.exports=e(15436)},63560:function(U,C,e){U.exports=e(5621)},89904:function(U,C,e){U.exports=e(91304)},50248:function(U,C,e){U.exports=e(41724)},65832:function(U,C,e){U.exports=e(31991)},79440:function(U,C,e){U.exports=e(22869)},13752:function(U,C,e){U.exports=e(67776)},83096:function(U,C,e){U.exports=e(95952)},72196:function(U){U.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(U,C,e){var T=e(72196),k=e(25376),o=e(33816),_=e(31780).templatedArray;e(36208),U.exports=_("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:T.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:T.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(U,C,e){var T=e(3400),k=e(54460),o=e(23816).draw;function _(f){var s=f._fullLayout;T.filterVisible(s.annotations).forEach(function(t){var i=k.getFromId(f,t.xref),r=k.getFromId(f,t.yref),n=k.getRefType(t.xref),a=k.getRefType(t.yref);t._extremes={},n==="range"&&b(t,i),a==="range"&&b(t,r)})}function b(f,s){var t,i=s._id,r=i.charAt(0),n=f[r],a=f["a"+r],l=f[r+"ref"],u=f["a"+r+"ref"],h=f["_"+r+"padplus"],c=f["_"+r+"padminus"],x={x:1,y:-1}[r]*f[r+"shift"],p=3*f.arrowsize*f.arrowwidth||0,v=p+x,g=p-x,y=3*f.startarrowsize*f.arrowwidth||0,m=y+x,w=y-x;if(u===l){var d=k.findExtremes(s,[s.r2c(n)],{ppadplus:v,ppadminus:g}),S=k.findExtremes(s,[s.r2c(a)],{ppadplus:Math.max(h,m),ppadminus:Math.max(c,w)});t={min:[d.min[0],S.min[0]],max:[d.max[0],S.max[0]]}}else m=a?m+a:m,w=a?w-a:w,t=k.findExtremes(s,[s.r2c(n)],{ppadplus:Math.max(h,v,m),ppadminus:Math.max(c,g,w)});f._extremes[i]=t}U.exports=function(f){var s=f._fullLayout;if(T.filterVisible(s.annotations).length&&f._fullData.length)return T.syncOrAsync([o,_],f)}},42300:function(U,C,e){var T=e(3400),k=e(24040),o=e(31780).arrayEditor;function _(f,s){var t,i,r,n,a,l,u,h=f._fullLayout.annotations,c=[],x=[],p=[],v=(s||[]).length;for(t=0;t<h.length;t++)if(n=(r=h[t]).clicktoshow){for(i=0;i<v;i++)if(l=(a=s[i]).xaxis,u=a.yaxis,l._id===r.xref&&u._id===r.yref&&l.d2r(a.x)===b(r._xclick,l)&&u.d2r(a.y)===b(r._yclick,u)){(r.visible?n==="onout"?x:p:c).push(t);break}i===v&&r.visible&&n==="onout"&&x.push(t)}return{on:c,off:x,explicitOff:p}}function b(f,s){return s.type==="log"?s.l2r(f):s.d2r(f)}U.exports={hasClickToShow:function(f,s){var t=_(f,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(f,s){var t,i,r=_(f,s),n=r.on,a=r.off.concat(r.explicitOff),l={},u=f._fullLayout.annotations;if(n.length||a.length){for(t=0;t<n.length;t++)(i=o(f.layout,"annotations",u[n[t]])).modifyItem("visible",!0),T.extendFlat(l,i.getUpdateObj());for(t=0;t<a.length;t++)(i=o(f.layout,"annotations",u[a[t]])).modifyItem("visible",!1),T.extendFlat(l,i.getUpdateObj());return k.call("update",f,{},l)}}}},87192:function(U,C,e){var T=e(3400),k=e(76308);U.exports=function(o,_,b,f){f("opacity");var s=f("bgcolor"),t=f("bordercolor"),i=k.opacity(t);f("borderpad");var r=f("borderwidth"),n=f("showarrow");if(f("text",n?" ":b._dfltTitle.annotation),f("textangle"),T.coerceFont(f,"font",b.font),f("width"),f("align"),f("height")&&f("valign"),n){var a,l,u=f("arrowside");u.indexOf("end")!==-1&&(a=f("arrowhead"),l=f("arrowsize")),u.indexOf("start")!==-1&&(f("startarrowhead",a),f("startarrowsize",l)),f("arrowcolor",i?_.bordercolor:k.defaultLine),f("arrowwidth",2*(i&&r||1)),f("standoff"),f("startstandoff")}var h=f("hovertext"),c=b.hoverlabel||{};if(h){var x=f("hoverlabel.bgcolor",c.bgcolor||(k.opacity(s)?k.rgb(s):k.defaultLine)),p=f("hoverlabel.bordercolor",c.bordercolor||k.contrast(x)),v=T.extendFlat({},c.font);v.color||(v.color=p),T.coerceFont(f,"hoverlabel.font",v)}f("captureevents",!!h)}},26828:function(U,C,e){var T=e(38248),k=e(36896);U.exports=function(o,_,b,f){_=_||{};var s=b==="log"&&_.type==="linear",t=b==="linear"&&_.type==="log";if(s||t)for(var i,r,n=o._fullLayout.annotations,a=_._id.charAt(0),l=0;l<n.length;l++)i=n[l],r="annotations["+l+"].",i[a+"ref"]===_._id&&u(a),i["a"+a+"ref"]===_._id&&u("a"+a);function u(h){var c=i[h],x=null;x=s?k(c,_.range):Math.pow(10,c),T(x)||(x=null),f(r+h,x)}}},45216:function(U,C,e){var T=e(3400),k=e(54460),o=e(51272),_=e(87192),b=e(13916);function f(s,t,i){function r(S,A){return T.coerce(s,t,b,S,A)}var n=r("visible"),a=r("clicktoshow");if(n||a){_(s,t,i,r);for(var l=t.showarrow,u=["x","y"],h=[-10,-30],c={_fullLayout:i},x=0;x<2;x++){var p=u[x],v=k.coerceRef(s,t,c,p,"","paper");if(v!=="paper"&&k.getFromId(c,v)._annIndices.push(t._index),k.coercePosition(t,c,r,v,p,.5),l){var g="a"+p,y=k.coerceRef(s,t,c,g,"pixel",["pixel","paper"]);y!=="pixel"&&y!==v&&(y=t[g]="pixel");var m=y==="pixel"?h[x]:.4;k.coercePosition(t,c,r,y,g,m)}r(p+"anchor"),r(p+"shift")}if(T.noneOrAll(s,t,["x","y"]),l&&T.noneOrAll(s,t,["ax","ay"]),a){var w=r("xclick"),d=r("yclick");t._xclick=w===void 0?t.x:k.cleanPosition(w,c,t.xref),t._yclick=d===void 0?t.y:k.cleanPosition(d,c,t.yref)}}}U.exports=function(s,t){o(s,t,{name:"annotations",handleItemDefaults:f})}},23816:function(U,C,e){var T=e(33428),k=e(24040),o=e(7316),_=e(3400),b=_.strTranslate,f=e(54460),s=e(76308),t=e(43616),i=e(93024),r=e(72736),n=e(93972),a=e(86476),l=e(31780).arrayEditor,u=e(33652);function h(p,v){var g=p._fullLayout.annotations[v]||{},y=f.getFromId(p,g.xref),m=f.getFromId(p,g.yref);y&&y.setScale(),m&&m.setScale(),x(p,g,v,!1,y,m)}function c(p,v,g,y,m){var w=m[g],d=m[g+"ref"],S=g.indexOf("y")!==-1,A=f.getRefType(d)==="domain",E=S?y.h:y.w;return p?A?w+(S?-v:v)/p._length:p.p2r(p.r2p(w)+v):w+(S?-v:v)/E}function x(p,v,g,y,m,w){var d,S,A=p._fullLayout,E=p._fullLayout._size,P=p._context.edits;y?(d="annotation-"+y,S=y+".annotations"):(d="annotation",S="annotations");var O=l(p.layout,S,v),I=O.modifyBase,D=O.modifyItem,V=O.getUpdateObj;A._infolayer.selectAll("."+d+'[data-index="'+g+'"]').remove();var z="clip"+A._uid+"_ann"+g;if(v._input&&v.visible!==!1){var j={x:{},y:{}},X=+v.textangle||0,F=A._infolayer.append("g").classed(d,!0).attr("data-index",String(g)).style("opacity",v.opacity),H=F.append("g").classed("annotation-text-g",!0),W=P[v.showarrow?"annotationTail":"annotationPosition"],ie=v.captureevents||P.annotationText||W,te=H.append("g").style("pointer-events",ie?"all":null).call(n,"pointer").on("click",function(){p._dragging=!1,p.emit("plotly_clickannotation",ge(T.event))});v.hovertext&&te.on("mouseover",function(){var Te=v.hoverlabel,Se=Te.font,Fe=this.getBoundingClientRect(),xe=p.getBoundingClientRect();i.loneHover({x0:Fe.left-xe.left,x1:Fe.right-xe.left,y:(Fe.top+Fe.bottom)/2-xe.top,text:v.hovertext,color:Te.bgcolor,borderColor:Te.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color,fontWeight:Se.weight,fontStyle:Se.style,fontVariant:Se.variant,fontShadow:Se.fontShadow,fontLineposition:Se.fontLineposition,fontTextcase:Se.fontTextcase},{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:p})}).on("mouseout",function(){i.loneUnhover(A._hoverlayer.node())});var Q=v.borderwidth,ne=v.borderpad,$=Q+ne,J=te.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(s.stroke,v.bordercolor).call(s.fill,v.bgcolor),re=v.width||v.height,se=A._topclips.selectAll("#"+z).data(re?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),se.exit().remove();var ue=v.font,he=A._meta?_.templateString(v.text,A._meta):v.text,pe=te.append("text").classed("annotation-text",!0).text(he);P.annotationText?pe.call(r.makeEditable,{delegate:te,gd:p}).call(ye).on("edit",function(Te){v.text=Te,this.call(ye),D("text",Te),m&&m.autorange&&I(m._name+".autorange",!0),w&&w.autorange&&I(w._name+".autorange",!0),k.call("_guiRelayout",p,V())}):pe.call(ye)}else T.selectAll("#"+z).remove();function ge(Te){var Se={index:g,annotation:v._input,fullAnnotation:v,event:Te};return y&&(Se.subplotId=y),Se}function ye(Te){return Te.call(t.font,ue).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),r.convertToTspans(Te,p,be),Te}function be(){var Te=pe.selectAll("a");Te.size()===1&&Te.text()===pe.text()&&te.insert("a",":first-child").attr({"xlink:xlink:href":Te.attr("xlink:href"),"xlink:xlink:show":Te.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(J.node());var Se=te.select(".annotation-text-math-group"),Fe=!Se.empty(),xe=t.bBox((Fe?Se:pe).node()),le=xe.width,oe=xe.height,de=v.width||le,Ce=v.height||oe,_e=Math.round(de+2*$),Ae=Math.round(Ce+2*$);function Le(dt,at){return at==="auto"&&(at=dt<.3333333333333333?"left":dt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[at]}for(var ze=!1,Re=["x","y"],ve=0;ve<Re.length;ve++){var ke,Ee,De,Pe,Ue,We=Re[ve],$e=v[We+"ref"]||We,ot=v["a"+We+"ref"],st={x:m,y:w}[We],mt=(X+(We==="x"?0:-90))*Math.PI/180,_t=_e*Math.cos(mt),yt=Ae*Math.sin(mt),it=Math.abs(_t)+Math.abs(yt),tt=v[We+"anchor"],Pt=v[We+"shift"]*(We==="x"?1:-1),Rt=j[We],Ft=f.getRefType($e);if(st&&Ft!=="domain"){var Ot=st.r2fraction(v[We]);(Ot<0||Ot>1)&&(ot===$e?((Ot=st.r2fraction(v["a"+We]))<0||Ot>1)&&(ze=!0):ze=!0),ke=st._offset+st.r2p(v[We]),Pe=.5}else{var Xe=Ft==="domain";We==="x"?(De=v[We],ke=Xe?st._offset+st._length*De:ke=E.l+E.w*De):(De=1-v[We],ke=Xe?st._offset+st._length*De:ke=E.t+E.h*De),Pe=v.showarrow?.5:De}if(v.showarrow){Rt.head=ke;var Je=v["a"+We];if(Ue=_t*Le(.5,v.xanchor)-yt*Le(.5,v.yanchor),ot===$e){var Ve=f.getRefType(ot);Ve==="domain"?(We==="y"&&(Je=1-Je),Rt.tail=st._offset+st._length*Je):Ve==="paper"?We==="y"?(Je=1-Je,Rt.tail=E.t+E.h*Je):Rt.tail=E.l+E.w*Je:Rt.tail=st._offset+st.r2p(Je),Ee=Ue}else Rt.tail=ke+Je,Ee=Ue+Je;Rt.text=Rt.tail+Ue;var Ke=A[We==="x"?"width":"height"];if($e==="paper"&&(Rt.head=_.constrain(Rt.head,1,Ke-1)),ot==="pixel"){var ft=-Math.max(Rt.tail-3,Rt.text),ut=Math.min(Rt.tail+3,Rt.text)-Ke;ft>0?(Rt.tail+=ft,Rt.text+=ft):ut>0&&(Rt.tail-=ut,Rt.text-=ut)}Rt.tail+=Pt,Rt.head+=Pt}else Ee=Ue=it*Le(Pe,tt),Rt.text=ke+Ue;Rt.text+=Pt,Ue+=Pt,Ee+=Pt,v["_"+We+"padplus"]=it/2+Ee,v["_"+We+"padminus"]=it/2-Ee,v["_"+We+"size"]=it,v["_"+We+"shift"]=Ue}if(ze)te.remove();else{var xt=0,bt=0;if(v.align!=="left"&&(xt=(de-le)*(v.align==="center"?.5:1)),v.valign!=="top"&&(bt=(Ce-oe)*(v.valign==="middle"?.5:1)),Fe)Se.select("svg").attr({x:$+xt-1,y:$+bt}).call(t.setClipUrl,re?z:null,p);else{var qe=$+bt-xe.top,je=$+xt-xe.left;pe.call(r.positionText,je,qe).call(t.setClipUrl,re?z:null,p)}se.select("rect").call(t.setRect,$,$,de,Ce),J.call(t.setRect,Q/2,Q/2,_e-Q,Ae-Q),te.call(t.setTranslate,Math.round(j.x.text-_e/2),Math.round(j.y.text-Ae/2)),H.attr({transform:"rotate("+X+","+j.x.text+","+j.y.text+")"});var lt,gt=function(dt,at){F.selectAll(".annotation-arrow-g").remove();var kt=j.x.head,wt=j.y.head,Et=j.x.tail+dt,Tt=j.y.tail+at,At=j.x.text+dt,Nt=j.y.text+at,Wt=_.rotationXYMatrix(X,At,Nt),on=_.apply2DTransform(Wt),cn=_.apply2DTransform2(Wt),un=+J.attr("width"),Xt=+J.attr("height"),tn=At-.5*un,kn=tn+un,fn=Nt-.5*Xt,Qt=fn+Xt,pn=[[tn,fn,tn,Qt],[tn,Qt,kn,Qt],[kn,Qt,kn,fn],[kn,fn,tn,fn]].map(cn);if(!pn.reduce(function(Qn,er){return Qn^!!_.segmentsIntersect(kt,wt,kt+1e6,wt+1e6,er[0],er[1],er[2],er[3])},!1)){pn.forEach(function(Qn){var er=_.segmentsIntersect(Et,Tt,kt,wt,Qn[0],Qn[1],Qn[2],Qn[3]);er&&(Et=er.x,Tt=er.y)});var nn=v.arrowwidth,sn=v.arrowcolor,Sn=v.arrowside,wn=F.append("g").style({opacity:s.opacity(sn)}).classed("annotation-arrow-g",!0),Dn=wn.append("path").attr("d","M"+Et+","+Tt+"L"+kt+","+wt).style("stroke-width",nn+"px").call(s.stroke,s.rgb(sn));if(u(Dn,Sn,v),P.annotationPosition&&Dn.node().parentNode&&!y){var Tn=kt,Pn=wt;if(v.standoff){var Nn=Math.sqrt(Math.pow(kt-Et,2)+Math.pow(wt-Tt,2));Tn+=v.standoff*(Et-kt)/Nn,Pn+=v.standoff*(Tt-wt)/Nn}var $n,pr,Hn=wn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Et-Tn)+","+(Tt-Pn),transform:b(Tn,Pn)}).style("stroke-width",nn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");a.init({element:Hn.node(),gd:p,prepFn:function(){var Qn=t.getTranslate(te);$n=Qn.x,pr=Qn.y,m&&m.autorange&&I(m._name+".autorange",!0),w&&w.autorange&&I(w._name+".autorange",!0)},moveFn:function(Qn,er){var ur=on($n,pr),$t=ur[0]+Qn,rn=ur[1]+er;te.call(t.setTranslate,$t,rn),D("x",c(m,Qn,"x",E,v)),D("y",c(w,er,"y",E,v)),v.axref===v.xref&&D("ax",c(m,Qn,"ax",E,v)),v.ayref===v.yref&&D("ay",c(w,er,"ay",E,v)),wn.attr("transform",b(Qn,er)),H.attr({transform:"rotate("+X+","+$t+","+rn+")"})},doneFn:function(){k.call("_guiRelayout",p,V());var Qn=document.querySelector(".js-notes-box-panel");Qn&&Qn.redraw(Qn.selectedObj)}})}}};v.showarrow&&gt(0,0),W&&a.init({element:te.node(),gd:p,prepFn:function(){lt=H.attr("transform")},moveFn:function(dt,at){var kt="pointer";if(v.showarrow)v.axref===v.xref?D("ax",c(m,dt,"ax",E,v)):D("ax",v.ax+dt),v.ayref===v.yref?D("ay",c(w,at,"ay",E.w,v)):D("ay",v.ay+at),gt(dt,at);else{if(y)return;var wt,Et;if(m)wt=c(m,dt,"x",E,v);else{var Tt=v._xsize/E.w,At=v.x+(v._xshift-v.xshift)/E.w-Tt/2;wt=a.align(At+dt/E.w,Tt,0,1,v.xanchor)}if(w)Et=c(w,at,"y",E,v);else{var Nt=v._ysize/E.h,Wt=v.y-(v._yshift+v.yshift)/E.h-Nt/2;Et=a.align(Wt-at/E.h,Nt,0,1,v.yanchor)}D("x",wt),D("y",Et),m&&w||(kt=a.getCursor(m?.5:wt,w?.5:Et,v.xanchor,v.yanchor))}H.attr({transform:b(dt,at)+lt}),n(te,kt)},clickFn:function(dt,at){v.captureevents&&p.emit("plotly_clickannotation",ge(at))},doneFn:function(){n(te),k.call("_guiRelayout",p,V());var dt=document.querySelector(".js-notes-box-panel");dt&&dt.redraw(dt.selectedObj)}})}}}U.exports={draw:function(p){var v=p._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var g=0;g<v.annotations.length;g++)v.annotations[g].visible&&h(p,g);return o.previousPromises(p)},drawOne:h,drawRaw:x}},33652:function(U,C,e){var T=e(33428),k=e(76308),o=e(72196),_=e(3400),b=_.strScale,f=_.strRotate,s=_.strTranslate;U.exports=function(t,i,r){var n,a,l,u,h=t.node(),c=o[r.arrowhead||0],x=o[r.startarrowhead||0],p=(r.arrowwidth||1)*(r.arrowsize||1),v=(r.arrowwidth||1)*(r.startarrowsize||1),g=i.indexOf("start")>=0,y=i.indexOf("end")>=0,m=c.backoff*p+r.standoff,w=x.backoff*v+r.startstandoff;if(h.nodeName==="line"){n={x:+t.attr("x1"),y:+t.attr("y1")},a={x:+t.attr("x2"),y:+t.attr("y2")};var d=n.x-a.x,S=n.y-a.y;if(u=(l=Math.atan2(S,d))+Math.PI,m&&w&&m+w>Math.sqrt(d*d+S*S))return void F();if(m){if(m*m>d*d+S*S)return void F();var A=m*Math.cos(l),E=m*Math.sin(l);a.x+=A,a.y+=E,t.attr({x2:a.x,y2:a.y})}if(w){if(w*w>d*d+S*S)return void F();var P=w*Math.cos(l),O=w*Math.sin(l);n.x-=P,n.y-=O,t.attr({x1:n.x,y1:n.y})}}else if(h.nodeName==="path"){var I=h.getTotalLength(),D="";if(I<m+w)return void F();var V=h.getPointAtLength(0),z=h.getPointAtLength(.1);l=Math.atan2(V.y-z.y,V.x-z.x),n=h.getPointAtLength(Math.min(w,I)),D="0px,"+w+"px,";var j=h.getPointAtLength(I),X=h.getPointAtLength(I-.1);u=Math.atan2(j.y-X.y,j.x-X.x),a=h.getPointAtLength(Math.max(0,I-m)),D+=I-(D?w+m:m)+"px,"+I+"px",t.style("stroke-dasharray",D)}function F(){t.style("stroke-dasharray","0px,100px")}function H(W,ie,te,Q){W.path&&(W.noRotate&&(te=0),T.select(h.parentNode).append("path").attr({class:t.attr("class"),d:W.path,transform:s(ie.x,ie.y)+f(180*te/Math.PI)+b(Q)}).style({fill:k.rgb(r.arrowcolor),"stroke-width":0}))}g&&H(x,n,l,v),y&&H(c,a,u,p)}},79180:function(U,C,e){var T=e(23816),k=e(42300);U.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:T.draw,drawOne:T.drawOne,drawRaw:T.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(26828)}},45899:function(U,C,e){var T=e(13916),k=e(67824).overrideAll,o=e(31780).templatedArray;U.exports=k(o("annotation",{visible:T.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:T.xanchor,xshift:T.xshift,yanchor:T.yanchor,yshift:T.yshift,text:T.text,textangle:T.textangle,font:T.font,width:T.width,height:T.height,opacity:T.opacity,align:T.align,valign:T.valign,bgcolor:T.bgcolor,bordercolor:T.bordercolor,borderpad:T.borderpad,borderwidth:T.borderwidth,showarrow:T.showarrow,arrowcolor:T.arrowcolor,arrowhead:T.arrowhead,startarrowhead:T.startarrowhead,arrowside:T.arrowside,arrowsize:T.arrowsize,startarrowsize:T.startarrowsize,arrowwidth:T.arrowwidth,standoff:T.standoff,startstandoff:T.startstandoff,hovertext:T.hovertext,hoverlabel:T.hoverlabel,captureevents:T.captureevents}),"calc","from-root")},42456:function(U,C,e){var T=e(3400),k=e(54460);function o(_,b){var f=b.fullSceneLayout.domain,s=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};_._xa={},T.extendFlat(_._xa,t),k.setConvert(_._xa),_._xa._offset=s.l+f.x[0]*s.w,_._xa.l2p=function(){return .5*(1+_._pdata[0]/_._pdata[3])*s.w*(f.x[1]-f.x[0])},_._ya={},T.extendFlat(_._ya,t),k.setConvert(_._ya),_._ya._offset=s.t+(1-f.y[1])*s.h,_._ya.l2p=function(){return .5*(1-_._pdata[1]/_._pdata[3])*s.h*(f.y[1]-f.y[0])}}U.exports=function(_){for(var b=_.fullSceneLayout.annotations,f=0;f<b.length;f++)o(b[f],_);_.fullLayout._infolayer.selectAll(".annotation-"+_.id).remove()}},52808:function(U,C,e){var T=e(3400),k=e(54460),o=e(51272),_=e(87192),b=e(45899);function f(s,t,i,r){function n(l,u){return T.coerce(s,t,b,l,u)}function a(l){var u=l+"axis",h={_fullLayout:{}};return h._fullLayout[u]=i[u],k.coercePosition(t,h,n,l,l,.5)}n("visible")&&(_(s,t,r.fullLayout,n),a("x"),a("y"),a("z"),T.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),T.noneOrAll(s,t,["ax","ay"])))}U.exports=function(s,t,i){o(s,t,{name:"annotations",handleItemDefaults:f,fullLayout:i.fullLayout})}},71836:function(U,C,e){var T=e(23816).drawRaw,k=e(94424),o=["x","y","z"];U.exports=function(_){for(var b=_.fullSceneLayout,f=_.dataScale,s=b.annotations,t=0;t<s.length;t++){for(var i=s[t],r=!1,n=0;n<3;n++){var a=o[n],l=i[a],u=b[a+"axis"].r2fraction(l);if(u<0||u>1){r=!0;break}}r?_.fullLayout._infolayer.select(".annotation-"+_.id+'[data-index="'+t+'"]').remove():(i._pdata=k(_.glplot.cameraParams,[b.xaxis.r2l(i.x)*f[0],b.yaxis.r2l(i.y)*f[1],b.zaxis.r2l(i.z)*f[2]]),T(_.graphDiv,i,t,_.id,i._xa,i._ya))}}},56864:function(U,C,e){var T=e(24040),k=e(3400);U.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(o,_){var b=T.subplotsRegistry.gl3d;if(b)for(var f=b.attrRegex,s=Object.keys(o),t=0;t<s.length;t++){var i=s[t];f.test(i)&&(o[i].annotations||[]).length&&(k.pushUnique(_._basePlotModules,b),k.pushUnique(_._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(U,C,e){U.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(U,C,e){var T=e(54976),k=e(3400),o=e(39032),_=o.EPOCHJD,b=o.ONEDAY,f={valType:"enumerated",values:k.sortObjectKeys(T.calendars),editType:"calc",dflt:"gregorian"},s=function(p,v,g,y){var m={};return m[g]=f,k.coerce(p,v,m,g,y)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function n(p){var v=r[p];return v||(r[p]=T.instance(p))}function a(p){return k.extendFlat({},f,{description:p})}function l(p){return"Sets the calendar system to use with `"+p+"` date data."}var u={xcalendar:a(l("x"))},h=k.extendFlat({},u,{ycalendar:a(l("y"))}),c=k.extendFlat({},h,{zcalendar:a(l("z"))}),x=a(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));U.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:c,surface:c,mesh3d:c,scattergl:h,ohlc:u,candlestick:u},layout:{calendar:a(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:s,handleTraceDefaults:function(p,v,g,y){for(var m=0;m<g.length;m++)s(p,v,g[m]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(p,v,g){for(var y,m,w,d,S,A=Math.floor((v+.05)/b)+_,E=n(g).fromJD(A),P=0;(P=p.indexOf("%",P))!==-1;)(y=p.charAt(P+1))==="0"||y==="-"||y==="_"?(w=3,m=p.charAt(P+2),y==="_"&&(y="-")):(m=y,y="0",w=2),(d=i[m])?(S=d===t?t:E.formatDate(d[y]),p=p.substr(0,P)+S+p.substr(P+w),P+=S.length):P+=w;return p}}},22548:function(U,C){C.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],C.defaultLine="#444",C.lightLine="#eee",C.background="#fff",C.borderLine="#BEC8D9",C.lightFraction=90.9090909090909},76308:function(U,C,e){var T=e(49760),k=e(38248),o=e(38116).isTypedArray,_=U.exports={},b=e(22548);_.defaults=b.defaults;var f=_.defaultLine=b.defaultLine;_.lightLine=b.lightLine;var s=_.background=b.background;function t(i){if(k(i)||typeof i!="string")return i;var r=i.trim();if(r.substr(0,3)!=="rgb")return i;var n=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return i;var a=n[1].trim().split(/\s*[\s,]\s*/),l=r.charAt(3)==="a"&&a.length===4;if(!l&&a.length!==3)return i;for(var u=0;u<a.length;u++){if(!a[u].length||(a[u]=Number(a[u]),!(a[u]>=0)))return i;if(u===3)a[u]>1&&(a[u]=1);else if(a[u]>=1)return i}var h=Math.round(255*a[0])+", "+Math.round(255*a[1])+", "+Math.round(255*a[2]);return l?"rgba("+h+", "+a[3]+")":"rgb("+h+")"}_.tinyRGB=function(i){var r=i.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},_.rgb=function(i){return _.tinyRGB(T(i))},_.opacity=function(i){return i?T(i).getAlpha():0},_.addOpacity=function(i,r){var n=T(i).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+r+")"},_.combine=function(i,r){var n=T(i).toRgb();if(n.a===1)return T(i).toRgbString();var a=T(r||s).toRgb(),l=a.a===1?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},u={r:l.r*(1-n.a)+n.r*n.a,g:l.g*(1-n.a)+n.g*n.a,b:l.b*(1-n.a)+n.b*n.a};return T(u).toRgbString()},_.interpolate=function(i,r,n){var a=T(i).toRgb(),l=T(r).toRgb(),u={r:n*a.r+(1-n)*l.r,g:n*a.g+(1-n)*l.g,b:n*a.b+(1-n)*l.b};return T(u).toRgbString()},_.contrast=function(i,r,n){var a=T(i);return a.getAlpha()!==1&&(a=T(_.combine(i,s))),(a.isDark()?r?a.lighten(r):s:n?a.darken(n):f).toString()},_.stroke=function(i,r){var n=T(r);i.style({stroke:_.tinyRGB(n),"stroke-opacity":n.getAlpha()})},_.fill=function(i,r){var n=T(r);i.style({fill:_.tinyRGB(n),"fill-opacity":n.getAlpha()})},_.clean=function(i){if(i&&typeof i=="object"){var r,n,a,l,u=Object.keys(i);for(r=0;r<u.length;r++)if(l=i[a=u[r]],a.substr(a.length-5)==="color")if(Array.isArray(l))for(n=0;n<l.length;n++)l[n]=t(l[n]);else i[a]=t(l);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(l))for(n=0;n<l.length;n++)Array.isArray(l[n])&&(l[n][1]=t(l[n][1]));else if(Array.isArray(l)){var h=l[0];if(!Array.isArray(h)&&h&&typeof h=="object")for(n=0;n<l.length;n++)_.clean(l[n])}else l&&typeof l=="object"&&!o(l)&&_.clean(l)}}},42996:function(U,C,e){var T=e(94724),k=e(25376),o=e(92880).extendFlat,_=e(67824).overrideAll;U.exports=_({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:T.linecolor,outlinewidth:T.linewidth,bordercolor:T.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:T.minor.tickmode,nticks:T.nticks,tick0:T.tick0,dtick:T.dtick,tickvals:T.tickvals,ticktext:T.ticktext,ticks:o({},T.ticks,{dflt:""}),ticklabeloverflow:o({},T.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:T.ticklen,tickwidth:T.tickwidth,tickcolor:T.tickcolor,ticklabelstep:T.ticklabelstep,showticklabels:T.showticklabels,labelalias:T.labelalias,tickfont:k({}),tickangle:T.tickangle,tickformat:T.tickformat,tickformatstops:T.tickformatstops,tickprefix:T.tickprefix,showtickprefix:T.showtickprefix,ticksuffix:T.ticksuffix,showticksuffix:T.showticksuffix,separatethousands:T.separatethousands,exponentformat:T.exponentformat,minexponent:T.minexponent,showexponent:T.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(U){U.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(U,C,e){var T=e(3400),k=e(31780),o=e(26332),_=e(25404),b=e(95936),f=e(42568),s=e(42996);U.exports=function(t,i,r){var n=k.newContainer(i,"colorbar"),a=t.colorbar||{};function l(D,V){return T.coerce(a,n,s,D,V)}var u=r.margin||{t:0,b:0,l:0,r:0},h=r.width-u.l-u.r,c=r.height-u.t-u.b,x=l("orientation")==="v",p=l("thicknessmode");l("thickness",p==="fraction"?30/(x?h:c):30);var v=l("lenmode");l("len",v==="fraction"?1:x?c:h);var g,y,m,w=l("yref")==="paper",d=l("xref")==="paper",S="left";x?(m="middle",S=d?"left":"right",g=d?1.02:1,y=.5):(m=w?"bottom":"top",S="center",g=.5,y=w?1.02:1),T.coerce(a,n,{x:{valType:"number",min:d?-2:0,max:d?3:1,dflt:g}},"x"),T.coerce(a,n,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:y}},"y"),l("xanchor",S),l("xpad"),l("yanchor",m),l("ypad"),T.noneOrAll(a,n,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var A=T.coerce(a,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:x?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",A.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(a,n,l,"linear");var E=r.font,P={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:E};A.indexOf("inside")!==-1&&(P.bgColor="black"),f(a,n,l,"linear",P),b(a,n,l,"linear",P),_(a,n,l,"linear",P),l("title.text",r._dfltTitle.colorbar);var O=n.showticklabels?n.tickfont:E,I=T.extendFlat({},E,{family:O.family,size:T.bigFont(O.size)});T.coerceFont(l,"title.font",I),l("title.side",x?"top":"right")}},37848:function(U,C,e){var T=e(33428),k=e(49760),o=e(7316),_=e(24040),b=e(54460),f=e(86476),s=e(3400),t=s.strTranslate,i=e(92880).extendFlat,r=e(93972),n=e(43616),a=e(76308),l=e(81668),u=e(72736),h=e(94288).flipScale,c=e(28336),x=e(37668),p=e(94724),v=e(84284),g=v.LINE_SPACING,y=v.FROM_TL,m=v.FROM_BR,w=e(63964).cn;U.exports={draw:function(d){var S=d._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(A){var E,P,O,I,D=A._fullLayout,V=A.calcdata,z=[];function j(re){return i(re,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function X(){typeof I.calc=="function"?I.calc(A,O,E):(E._fillgradient=P.reversescale?h(P.colorscale):P.colorscale,E._zrange=[P[I.min],P[I.max]])}for(var F=0;F<V.length;F++){var H=V[F];if((O=H[0].trace)._module){var W=O._module.colorbar;if(O.visible===!0&&W)for(var ie=Array.isArray(W),te=ie?W:[W],Q=0;Q<te.length;Q++){var ne=(I=te[Q]).container;(P=ne?O[ne]:O)&&P.showscale&&((E=j(P.colorbar))._id="cb"+O.uid+(ie&&ne?"-"+ne:""),E._traceIndex=O.index,E._propPrefix=(ne?ne+".":"")+"colorbar.",E._meta=O._meta,X(),z.push(E))}}}for(var $ in D._colorAxes)if((P=D[$]).showscale){var J=D._colorAxes[$];(E=j(P.colorbar))._id="cb"+$,E._propPrefix=$+".colorbar.",E._meta=D._meta,I={min:"cmin",max:"cmax"},J[0]!=="heatmap"&&(O=J[1],I.calc=O._module.colorbar.calc),X(),z.push(E)}return z}(d),function(A){return A._id});S.enter().append("g").attr("class",function(A){return A._id}).classed(w.colorbar,!0),S.each(function(A){var E=T.select(this);s.ensureSingle(E,"rect",w.cbbg),s.ensureSingle(E,"g",w.cbfills),s.ensureSingle(E,"g",w.cblines),s.ensureSingle(E,"g",w.cbaxis,function(O){O.classed(w.crisp,!0)}),s.ensureSingle(E,"g",w.cbtitleunshift,function(O){O.append("g").classed(w.cbtitle,!0)}),s.ensureSingle(E,"rect",w.cboutline);var P=function(O,I,D){var V=I.orientation==="v",z=I.len,j=I.lenmode,X=I.thickness,F=I.thicknessmode,H=I.outlinewidth,W=I.borderwidth,ie=I.bgcolor,te=I.xanchor,Q=I.yanchor,ne=I.xpad,$=I.ypad,J=I.x,re=V?I.y:1-I.y,se=I.yref==="paper",ue=I.xref==="paper",he=D._fullLayout,pe=he._size,ge=I._fillcolor,ye=I._line,be=I.title,Te=be.side,Se=I._zrange||T.extent((typeof ge=="function"?ge:ye.color).domain()),Fe=typeof ye.color=="function"?ye.color:function(){return ye.color},xe=typeof ge=="function"?ge:function(){return ge},le=I._levels,oe=function(Ve,Ke,ft){var ut,xt,bt=Ke._levels,qe=[],je=[],lt=bt.end+bt.size/100,gt=bt.size,dt=1.001*ft[0]-.001*ft[1],at=1.001*ft[1]-.001*ft[0];for(xt=0;xt<1e5&&(ut=bt.start+xt*gt,!(gt>0?ut>=lt:ut<=lt));xt++)ut>dt&&ut<at&&qe.push(ut);if(Ke._fillgradient)je=[0];else if(typeof Ke._fillcolor=="function"){var kt=Ke._filllevels;if(kt)for(lt=kt.end+kt.size/100,gt=kt.size,xt=0;xt<1e5&&(ut=kt.start+xt*gt,!(gt>0?ut>=lt:ut<=lt));xt++)ut>ft[0]&&ut<ft[1]&&je.push(ut);else(je=qe.map(function(wt){return wt-bt.size/2})).push(je[je.length-1]+bt.size)}else Ke._fillcolor&&typeof Ke._fillcolor=="string"&&(je=[0]);return bt.size<0&&(qe.reverse(),je.reverse()),{line:qe,fill:je}}(0,I,Se),de=oe.fill,Ce=oe.line,_e=Math.round(X*(F==="fraction"?V?pe.w:pe.h:1)),Ae=_e/(V?pe.w:pe.h),Le=Math.round(z*(j==="fraction"?V?pe.h:pe.w:1)),ze=Le/(V?pe.h:pe.w),Re=ue?pe.w:D._fullLayout.width,ve=se?pe.h:D._fullLayout.height,ke=Math.round(V?J*Re+ne:re*ve+$),Ee={center:.5,right:1}[te]||0,De={top:1,middle:.5}[Q]||0,Pe=V?J-Ee*Ae:re-De*Ae,Ue=V?re-De*ze:J-Ee*ze,We=Math.round(V?ve*(1-Ue):Re*Ue);I._lenFrac=ze,I._thickFrac=Ae,I._uFrac=Pe,I._vFrac=Ue;var $e=I._axis=function(Ve,Ke,ft){var ut=Ve._fullLayout,xt=Ke.orientation==="v",bt={type:"linear",range:ft,tickmode:Ke.tickmode,nticks:Ke.nticks,tick0:Ke.tick0,dtick:Ke.dtick,tickvals:Ke.tickvals,ticktext:Ke.ticktext,ticks:Ke.ticks,ticklen:Ke.ticklen,tickwidth:Ke.tickwidth,tickcolor:Ke.tickcolor,showticklabels:Ke.showticklabels,labelalias:Ke.labelalias,ticklabelposition:Ke.ticklabelposition,ticklabeloverflow:Ke.ticklabeloverflow,ticklabelstep:Ke.ticklabelstep,tickfont:Ke.tickfont,tickangle:Ke.tickangle,tickformat:Ke.tickformat,exponentformat:Ke.exponentformat,minexponent:Ke.minexponent,separatethousands:Ke.separatethousands,showexponent:Ke.showexponent,showtickprefix:Ke.showtickprefix,tickprefix:Ke.tickprefix,showticksuffix:Ke.showticksuffix,ticksuffix:Ke.ticksuffix,title:Ke.title,showline:!0,anchor:"free",side:xt?"right":"bottom",position:1},qe=xt?"y":"x",je={type:"linear",_id:qe+Ke._id},lt={letter:qe,font:ut.font,noAutotickangles:qe==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ut.calendar};function gt(dt,at){return s.coerce(bt,je,p,dt,at)}return c(bt,je,gt,lt,ut),x(bt,je,gt,lt),je}(D,I,Se);$e.position=Ae+(V?J+ne/pe.w:re+$/pe.h);var ot=["top","bottom"].indexOf(Te)!==-1;if(V&&ot&&($e.title.side=Te,$e.titlex=J+ne/pe.w,$e.titley=Ue+(be.side==="top"?ze-$/pe.h:$/pe.h)),V||ot||($e.title.side=Te,$e.titley=re+$/pe.h,$e.titlex=Ue+ne/pe.w),ye.color&&I.tickmode==="auto"){$e.tickmode="linear",$e.tick0=le.start;var st=le.size,mt=s.constrain(Le/50,4,15)+1,_t=(Se[1]-Se[0])/((I.nticks||mt)*st);if(_t>1){var yt=Math.pow(10,Math.floor(Math.log(_t)/Math.LN10));st*=yt*s.roundUp(_t/yt,[2,5,10]),(Math.abs(le.start)/le.size+1e-6)%1<2e-6&&($e.tick0=0)}$e.dtick=st}$e.domain=V?[Ue+$/pe.h,Ue+ze-$/pe.h]:[Ue+ne/pe.w,Ue+ze-ne/pe.w],$e.setScale(),O.attr("transform",t(Math.round(pe.l),Math.round(pe.t)));var it,tt=O.select("."+w.cbtitleunshift).attr("transform",t(-Math.round(pe.l),-Math.round(pe.t))),Pt=$e.ticklabelposition,Rt=$e.title.font.size,Ft=O.select("."+w.cbaxis),Ot=0,Xe=0;function Je(Ve,Ke){var ft={propContainer:$e,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:he._dfltTitle.colorbar,containerGroup:O.select("."+w.cbtitle)},ut=Ve.charAt(0)==="h"?Ve.substr(1):"h"+Ve;O.selectAll("."+ut+",."+ut+"-math-group").remove(),l.draw(D,Ve,i(ft,Ke||{}))}return s.syncOrAsync([o.previousPromises,function(){var Ve,Ke;(V&&ot||!V&&!ot)&&(Te==="top"&&(Ve=ne+pe.l+Re*J,Ke=$+pe.t+ve*(1-Ue-ze)+3+.75*Rt),Te==="bottom"&&(Ve=ne+pe.l+Re*J,Ke=$+pe.t+ve*(1-Ue)-3-.25*Rt),Te==="right"&&(Ke=$+pe.t+ve*re+3+.75*Rt,Ve=ne+pe.l+Re*Ue),Je($e._id+"title",{attributes:{x:Ve,y:Ke,"text-anchor":V?"start":"middle"}}))},function(){if(!V&&!ot||V&&ot){var Ve,Ke=O.select("."+w.cbtitle),ft=Ke.select("text"),ut=[-H/2,H/2],xt=Ke.select(".h"+$e._id+"title-math-group").node(),bt=15.6;if(ft.node()&&(bt=parseInt(ft.node().style.fontSize,10)*g),xt?(Ve=n.bBox(xt),Xe=Ve.width,(Ot=Ve.height)>bt&&(ut[1]-=(Ot-bt)/2)):ft.node()&&!ft.classed(w.jsPlaceholder)&&(Ve=n.bBox(ft.node()),Xe=Ve.width,Ot=Ve.height),V){if(Ot){if(Ot+=5,Te==="top")$e.domain[1]-=Ot/pe.h,ut[1]*=-1;else{$e.domain[0]+=Ot/pe.h;var qe=u.lineCount(ft);ut[1]+=(1-qe)*bt}Ke.attr("transform",t(ut[0],ut[1])),$e.setScale()}}else Xe&&(Te==="right"&&($e.domain[0]+=(Xe+Rt/2)/pe.w),Ke.attr("transform",t(ut[0],ut[1])),$e.setScale())}O.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",V?t(0,Math.round(pe.h*(1-$e.domain[1]))):t(Math.round(pe.w*$e.domain[0]),0)),Ft.attr("transform",V?t(0,Math.round(-pe.t)):t(Math.round(-pe.l),0));var je=O.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(de);je.enter().append("rect").classed(w.cbfill,!0).attr("style",""),je.exit().remove();var lt=Se.map($e.c2p).map(Math.round).sort(function(wt,Et){return wt-Et});je.each(function(wt,Et){var Tt=[Et===0?Se[0]:(de[Et]+de[Et-1])/2,Et===de.length-1?Se[1]:(de[Et]+de[Et+1])/2].map($e.c2p).map(Math.round);V&&(Tt[1]=s.constrain(Tt[1]+(Tt[1]>Tt[0])?1:-1,lt[0],lt[1]));var At=T.select(this).attr(V?"x":"y",ke).attr(V?"y":"x",T.min(Tt)).attr(V?"width":"height",Math.max(_e,2)).attr(V?"height":"width",Math.max(T.max(Tt)-T.min(Tt),2));if(I._fillgradient)n.gradient(At,D,I._id,V?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Nt=xe(wt).replace("e-","");At.attr("fill",k(Nt).toHexString())}});var gt=O.select("."+w.cblines).selectAll("path."+w.cbline).data(ye.color&&ye.width?Ce:[]);gt.enter().append("path").classed(w.cbline,!0),gt.exit().remove(),gt.each(function(wt){var Et=ke,Tt=Math.round($e.c2p(wt))+ye.width/2%1;T.select(this).attr("d","M"+(V?Et+","+Tt:Tt+","+Et)+(V?"h":"v")+_e).call(n.lineGroupStyle,ye.width,Fe(wt),ye.dash)}),Ft.selectAll("g."+$e._id+"tick,path").remove();var dt=ke+_e+(H||0)/2-(I.ticks==="outside"?1:0),at=b.calcTicks($e),kt=b.getTickSigns($e)[2];return b.drawTicks(D,$e,{vals:$e.ticks==="inside"?b.clipEnds($e,at):at,layer:Ft,path:b.makeTickPath($e,dt,kt),transFn:b.makeTransTickFn($e)}),b.drawLabels(D,$e,{vals:at,layer:Ft,transFn:b.makeTransTickLabelFn($e),labelFns:b.makeLabelFns($e,dt)})},function(){if(V&&!ot||!V&&ot){var Ve,Ke,ft=$e.position||0,ut=$e._offset+$e._length/2;if(Te==="right")Ke=ut,Ve=pe.l+Re*ft+10+Rt*($e.showticklabels?1:.5);else if(Ve=ut,Te==="bottom"&&(Ke=pe.t+ve*ft+10+(Pt.indexOf("inside")===-1?$e.tickfont.size:0)+($e.ticks!=="intside"&&I.ticklen||0)),Te==="top"){var xt=be.text.split("<br>").length;Ke=pe.t+ve*ft+10-_e-g*Rt*xt}Je((V?"h":"v")+$e._id+"title",{avoid:{selection:T.select(D).selectAll("g."+$e._id+"tick"),side:Te,offsetTop:V?0:pe.t,offsetLeft:V?pe.l:0,maxShift:V?he.width:he.height},attributes:{x:Ve,y:Ke,"text-anchor":"middle"},transform:{rotate:V?-90:0,offset:0}})}},o.previousPromises,function(){var Ve,Ke=_e+H/2;Pt.indexOf("inside")===-1&&(Ve=n.bBox(Ft.node()),Ke+=V?Ve.width:Ve.height),it=tt.select("text");var ft=0,ut=V&&Te==="top",xt=!V&&Te==="right",bt=0;if(it.node()&&!it.classed(w.jsPlaceholder)){var qe,je=tt.select(".h"+$e._id+"title-math-group").node();je&&(V&&ot||!V&&!ot)?(ft=(Ve=n.bBox(je)).width,qe=Ve.height):(ft=(Ve=n.bBox(tt.node())).right-pe.l-(V?ke:We),qe=Ve.bottom-pe.t-(V?We:ke),V||Te!=="top"||(Ke+=Ve.height,bt=Ve.height)),xt&&(it.attr("transform",t(ft/2+Rt/2,0)),ft*=2),Ke=Math.max(Ke,V?ft:qe)}var lt=2*(V?ne:$)+Ke+W+H/2,gt=0;!V&&be.text&&Q==="bottom"&&re<=0&&(lt+=gt=lt/2,bt+=gt),he._hColorbarMoveTitle=gt,he._hColorbarMoveCBTitle=bt;var dt=W+H,at=(V?ke:We)-dt/2-(V?ne:0),kt=(V?We:ke)-(V?Le:$+bt-gt);O.select("."+w.cbbg).attr("x",at).attr("y",kt).attr(V?"width":"height",Math.max(lt-gt,2)).attr(V?"height":"width",Math.max(Le+dt,2)).call(a.fill,ie).call(a.stroke,I.bordercolor).style("stroke-width",W);var wt=xt?Math.max(ft-10,0):0;O.selectAll("."+w.cboutline).attr("x",(V?ke:We+ne)+wt).attr("y",(V?We+$-Le:ke)+(ut?Ot:0)).attr(V?"width":"height",Math.max(_e,2)).attr(V?"height":"width",Math.max(Le-(V?2*$+Ot:2*ne+wt),2)).call(a.stroke,I.outlinecolor).style({fill:"none","stroke-width":H});var Et=V?Ee*lt:0,Tt=V?0:(1-De)*lt-bt;if(Et=ue?pe.l-Et:-Et,Tt=se?pe.t-Tt:-Tt,O.attr("transform",t(Et,Tt)),!V&&(W||k(ie).getAlpha()&&!k.equals(he.paper_bgcolor,ie))){var At=Ft.selectAll("text"),Nt=At[0].length,Wt=O.select("."+w.cbbg).node(),on=n.bBox(Wt),cn=n.getTranslate(O);At.each(function(Sn,wn){var Dn=Nt-1;if(wn===0||wn===Dn){var Tn,Pn=n.bBox(this),Nn=n.getTranslate(this);if(wn===Dn){var $n=Pn.right+Nn.x;(Tn=on.right+cn.x+We-W-2+J-$n)>0&&(Tn=0)}else if(wn===0){var pr=Pn.left+Nn.x;(Tn=on.left+cn.x+We+W+2-pr)<0&&(Tn=0)}Tn&&(Nt<3?this.setAttribute("transform","translate("+Tn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var un={},Xt=y[te],tn=m[te],kn=y[Q],fn=m[Q],Qt=lt-_e;V?(j==="pixels"?(un.y=re,un.t=Le*kn,un.b=Le*fn):(un.t=un.b=0,un.yt=re+z*kn,un.yb=re-z*fn),F==="pixels"?(un.x=J,un.l=lt*Xt,un.r=lt*tn):(un.l=Qt*Xt,un.r=Qt*tn,un.xl=J-X*Xt,un.xr=J+X*tn)):(j==="pixels"?(un.x=J,un.l=Le*Xt,un.r=Le*tn):(un.l=un.r=0,un.xl=J+z*Xt,un.xr=J-z*tn),F==="pixels"?(un.y=1-re,un.t=lt*kn,un.b=lt*fn):(un.t=Qt*kn,un.b=Qt*fn,un.yt=re-X*kn,un.yb=re+X*fn));var pn=I.y<.5?"b":"t",nn=I.x<.5?"l":"r";D._fullLayout._reservedMargin[I._id]={};var sn={r:he.width-at-Et,l:at+un.r,b:he.height-kt-Tt,t:kt+un.b};ue&&se?o.autoMargin(D,I._id,un):ue?D._fullLayout._reservedMargin[I._id][pn]=sn[pn]:se||V?D._fullLayout._reservedMargin[I._id][nn]=sn[nn]:D._fullLayout._reservedMargin[I._id][pn]=sn[pn]}],D)}(E,A,d);P&&P.then&&(d._promises||[]).push(P),d._context.edits.colorbarPosition&&function(O,I,D){var V,z,j,X=I.orientation==="v",F=D._fullLayout._size;f.init({element:O.node(),gd:D,prepFn:function(){V=O.attr("transform"),r(O)},moveFn:function(H,W){O.attr("transform",V+t(H,W)),z=f.align((X?I._uFrac:I._vFrac)+H/F.w,X?I._thickFrac:I._lenFrac,0,1,I.xanchor),j=f.align((X?I._vFrac:1-I._uFrac)-W/F.h,X?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ie=f.getCursor(z,j,I.xanchor,I.yanchor);r(O,ie)},doneFn:function(){if(r(O),z!==void 0&&j!==void 0){var H={};H[I._propPrefix+"x"]=z,H[I._propPrefix+"y"]=j,I._traceIndex!==void 0?_.call("_guiRestyle",D,H,I._traceIndex):_.call("_guiRelayout",D,H)}}})}(E,A,d)}),S.exit().each(function(A){o.autoMargin(d,A._id)}).remove(),S.order()}}},90553:function(U,C,e){var T=e(3400);U.exports=function(k){return T.isPlainObject(k.colorbar)}},55080:function(U,C,e){U.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(U,C,e){var T=e(42996),k=e(53756).counter,o=e(95376),_=e(88304).scales;function b(f){return"`"+f+"`"}o(_),U.exports=function(f,s){f=f||"";var t,i=(s=s||{}).cLetter||"c",r=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:f==="marker.line"),n="showScaleDflt"in s?s.showScaleDflt:i==="z",a=typeof s.colorscaleDflt=="string"?_[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=f?f+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):b(u+(t={z:"z",c:"color"}[i]));var h=i+"auto",c=i+"min",x=i+"max",p=i+"mid",v={};v[c]=v[x]=void 0;var g={};g[h]=!1;var y={};return t==="color"&&(y.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(y.color.anim=!0)),y[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},y[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:g},y[x]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:g},y[p]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},y.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(y.showscale={valType:"boolean",dflt:n,editType:"calc"},y.colorbar=T),s.noColorAxis||(y.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),y}},47128:function(U,C,e){var T=e(38248),k=e(3400),o=e(94288).extractOpts;U.exports=function(_,b,f){var s,t=_._fullLayout,i=f.vals,r=f.containerStr,n=r?k.nestedProperty(b,r).get():b,a=o(n),l=a.auto!==!1,u=a.min,h=a.max,c=a.mid,x=function(){return k.aggNums(Math.min,null,i)},p=function(){return k.aggNums(Math.max,null,i)};u===void 0?u=x():l&&(u=n._colorAx&&T(u)?Math.min(u,x()):x()),h===void 0?h=p():l&&(h=n._colorAx&&T(h)?Math.max(h,p()):p()),l&&c!==void 0&&(h-c>c-u?u=c-(h-c):h-c<c-u&&(h=c+(c-u))),u===h&&(u-=.5,h+=.5),a._sync("min",u),a._sync("max",h),a.autocolorscale&&(s=u*h<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,a._sync("colorscale",s))}},95504:function(U,C,e){var T=e(3400),k=e(94288).hasColorscale,o=e(94288).extractOpts;U.exports=function(_,b){function f(l,u){var h=l["_"+u];h!==void 0&&(l[u]=h)}function s(l,u){var h=u.container?T.nestedProperty(l,u.container).get():l;if(h)if(h.coloraxis)h._colorAx=b[h.coloraxis];else{var c=o(h),x=c.auto;(x||c.min===void 0)&&f(h,u.min),(x||c.max===void 0)&&f(h,u.max),c.autocolorscale&&f(h,"colorscale")}}for(var t=0;t<_.length;t++){var i=_[t],r=i._module.colorbar;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++)s(i,r[n]);else s(i,r);k(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var a in b._colorAxes)s(b[a],{min:"cmin",max:"cmax"})}},27260:function(U,C,e){var T=e(38248),k=e(3400),o=e(90553),_=e(64013),b=e(88304).isValid,f=e(24040).traceIs;function s(t,i){var r=i.slice(0,i.length-1);return i?k.nestedProperty(t,r).get()||{}:t}U.exports=function t(i,r,n,a,l){var u=l.prefix,h=l.cLetter,c="_module"in r,x=s(i,u),p=s(r,u),v=s(r._template||{},u)||{},g=function(){return delete i.coloraxis,delete r.coloraxis,t(i,r,n,a,l)};if(c){var y=n._colorAxes||{},m=a(u+"coloraxis");if(m){var w=f(r,"contour")&&k.nestedProperty(r,"contours.coloring").get()||"heatmap",d=y[m];return void(d?(d[2].push(g),d[0]!==w&&(d[0]=!1,k.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[m]=[w,r,[g]])}}var S=x[h+"min"],A=x[h+"max"],E=T(S)&&T(A)&&S<A;a(u+h+"auto",!E)?a(u+h+"mid"):(a(u+h+"min"),a(u+h+"max"));var P,O,I=x.colorscale,D=v.colorscale;I!==void 0&&(P=!b(I)),D!==void 0&&(P=!b(D)),a(u+"autocolorscale",P),a(u+"colorscale"),a(u+"reversescale"),u!=="marker.line."&&(u&&c&&(O=o(x)),a(u+"showscale",O)&&(u&&v&&(p._template=v),_(x,p,n)))}},94288:function(U,C,e){var T=e(33428),k=e(49760),o=e(38248),_=e(3400),b=e(76308),f=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var h,c,x,p=u._colorAx,v=p||u,g={};for(c=0;c<s.length;c++)g[x=s[c]]=v[x];if(p)for(h="c",c=0;c<t.length;c++)g[x=t[c]]=v["c"+x];else{var y;for(c=0;c<t.length;c++)((y="c"+(x=t[c]))in v||(y="z"+x)in v)&&(g[x]=v[y]);h=y.charAt(0)}return g._sync=function(m,w){var d=t.indexOf(m)!==-1?h+m:m;v[d]=v["_"+d]=w},g}function r(u){for(var h=i(u),c=h.min,x=h.max,p=h.reversescale?n(h.colorscale):h.colorscale,v=p.length,g=new Array(v),y=new Array(v),m=0;m<v;m++){var w=p[m];g[m]=c+w[0]*(x-c),y[m]=w[1]}return{domain:g,range:y}}function n(u){for(var h=u.length,c=new Array(h),x=h-1,p=0;x>=0;x--,p++){var v=u[x];c[p]=[1-v[0],v[1]]}return c}function a(u,h){h=h||{};for(var c=u.domain,x=u.range,p=x.length,v=new Array(p),g=0;g<p;g++){var y=k(x[g]).toRgb();v[g]=[y.r,y.g,y.b,y.a]}var m,w=T.scale.linear().domain(c).range(v).clamp(!0),d=h.noNumericCheck,S=h.returnArray;return(m=d&&S?w:d?function(A){return l(w(A))}:S?function(A){return o(A)?w(A):k(A).isValid()?A:b.defaultLine}:function(A){return o(A)?l(w(A)):k(A).isValid()?A:b.defaultLine}).domain=w.domain,m.range=function(){return x},m}function l(u){var h={r:u[0],g:u[1],b:u[2],a:u[3]};return k(h).toRgbString()}U.exports={hasColorscale:function(u,h,c){var x=h?_.nestedProperty(u,h).get()||{}:u,p=x[c||"color"];p&&p._inputArray&&(p=p._inputArray);var v=!1;if(_.isArrayOrTypedArray(p)){for(var g=0;g<p.length;g++)if(o(p[g])){v=!0;break}}return _.isPlainObject(x)&&(v||x.showscale===!0||o(x.cmin)&&o(x.cmax)||f(x.colorscale)||_.isPlainObject(x.colorbar))},extractOpts:i,extractScale:r,flipScale:n,makeColorScaleFunc:a,makeColorScaleFuncFromTrace:function(u,h){return a(r(u),h)}}},8932:function(U,C,e){var T=e(88304),k=e(94288);U.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:T.scales,defaultScale:T.defaultScale,getScale:T.get,isValidScale:T.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},92332:function(U,C,e){var T=e(92880).extendFlat,k=e(49084),o=e(88304).scales;U.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:T({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(U,C,e){var T=e(3400),k=e(31780),o=e(92332),_=e(27260);U.exports=function(b,f){function s(h,c){return T.coerce(b,f,o,h,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,i,r=f._colorAxes;function n(h,c){return T.coerce(t,i,o.coloraxis,h,c)}for(var a in r){var l=r[a];if(l[0])t=b[a]||{},(i=k.newContainer(f,a,"coloraxis"))._name=a,_(t,i,f,n,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete f._colorAxes[a]}}}},88304:function(U,C,e){var T=e(49760),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=k.RdBu;function _(b){var f=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var s=0;s<b.length;s++){var t=b[s];if(t.length!==2||+t[0]<f||!T(t[1]).isValid())return!1;f=+t[0]}return!0}U.exports={scales:k,defaultScale:o,get:function(b,f){if(f||(f=o),!b)return f;function s(){try{b=k[b]||JSON.parse(b)}catch{b=f}}return typeof b=="string"&&(s(),typeof b=="string"&&s()),_(b)?b:f},isValid:function(b){return k[b]!==void 0||_(b)}}},78316:function(U){U.exports=function(C,e,T,k,o){var _=(C-T)/(k-T),b=_+e/(k-T),f=(_+b)/2;return o==="left"||o==="bottom"?_:o==="center"||o==="middle"?f:o==="right"||o==="top"?b:_<.6666666666666666-f?_:b>1.3333333333333333-f?b:f}},67416:function(U,C,e){var T=e(3400),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];U.exports=function(o,_,b,f){return o=b==="left"?0:b==="center"?1:b==="right"?2:T.constrain(Math.floor(3*o),0,2),_=f==="bottom"?0:f==="middle"?1:f==="top"?2:T.constrain(Math.floor(3*_),0,2),k[_][o]}},72760:function(U,C){C.selectMode=function(e){return e==="lasso"||e==="select"},C.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.openMode=function(e){return e==="drawline"||e==="drawopenpath"},C.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},C.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},C.selectingOrDrawing=function(e){return C.freeMode(e)||C.rectMode(e)}},86476:function(U,C,e){var T=e(29128),k=e(52264),o=e(89184),_=e(3400).removeElement,b=e(33816),f=U.exports={};f.align=e(78316),f.getCursor=e(67416);var s=e(2616);function t(){var r=document.createElement("div");r.className="dragcover";var n=r.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(r),r}function i(r){return T(r.changedTouches?r.changedTouches[0]:r,document.body)}f.unhover=s.wrapped,f.unhoverRaw=s.raw,f.init=function(r){var n,a,l,u,h,c,x,p,v=r.gd,g=1,y=v._context.doubleClickDelay,m=r.element;v._mouseDownTime||(v._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=d,o?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=d,m.addEventListener("touchstart",d,{passive:!1})):m.ontouchstart=d;var w=r.clampFn||function(E,P,O){return Math.abs(E)<O&&(E=0),Math.abs(P)<O&&(P=0),[E,P]};function d(E){v._dragged=!1,v._dragging=!0;var P=i(E);n=P[0],a=P[1],x=E.target,c=E,p=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=n,E.clientY=a),(l=new Date().getTime())-v._mouseDownTime<y?g+=1:(g=1,v._mouseDownTime=l),r.prepFn&&r.prepFn(E,n,a),k&&!p?(h=t()).style.cursor=window.getComputedStyle(m).cursor:k||(h=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",A),document.addEventListener("touchend",A),r.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var P=i(E),O=r.minDrag||b.MINDRAG,I=w(P[0]-n,P[1]-a,O),D=I[0],V=I[1];(D||V)&&(v._dragged=!0,f.unhover(v,E)),v._dragged&&r.moveFn&&!p&&(v._dragdata={element:m,dx:D,dy:V},r.moveFn(D,V))}function A(E){if(delete v._dragdata,r.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A),k?_(h):u&&(h.documentElement.style.cursor=u,u=null),v._dragging){if(v._dragging=!1,new Date().getTime()-v._mouseDownTime>y&&(g=Math.max(g-1,1)),v._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(g,c),!p){var P;try{P=new MouseEvent("click",E)}catch{var O=i(E);(P=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,O[0],O[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}x.dispatchEvent(P)}v._dragging=!1,v._dragged=!1}else v._dragged=!1}},f.coverSlip=t},2616:function(U,C,e){var T=e(95924),k=e(91200),o=e(52200).getGraphDiv,_=e(92456),b=U.exports={};b.wrapped=function(f,s,t){(f=o(f))._fullLayout&&k.clear(f._fullLayout._uid+_.HOVERID),b.raw(f,s,t)},b.raw=function(f,s){var t=f._fullLayout,i=f._hoverdata;s||(s={}),s.target&&!f._dragged&&T.triggerHandler(f,"plotly_beforehover",s)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),f._hoverdata=void 0,s.target&&i&&f.emit("plotly_unhover",{event:s,points:i}))}},98192:function(U,C){C.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},C.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(U,C,e){var T=e(33428),k=e(3400),o=k.numberFormat,_=e(38248),b=e(49760),f=e(24040),s=e(76308),t=e(8932),i=k.strTranslate,r=e(72736),n=e(9616),a=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),h=e(7152),c=e(10624).appendArrayPointValue,x=U.exports={};function p(xe){return xe==="none"?void 0:xe}x.font=function(xe,le){var oe=le.variant,de=le.style,Ce=le.weight,_e=le.color,Ae=le.size,Le=le.family,ze=le.shadow,Re=le.lineposition,ve=le.textcase;Le&&xe.style("font-family",Le),Ae+1&&xe.style("font-size",Ae+"px"),_e&&xe.call(s.fill,_e),Ce&&xe.style("font-weight",Ce),de&&xe.style("font-style",de),oe&&xe.style("font-variant",oe),ve&&xe.style("text-transform",p(function(ke){return v[ke]}(ve))),ze&&xe.style("text-shadow",ze==="auto"?r.makeTextShadow(s.contrast(_e)):p(ze)),Re&&xe.style("text-decoration-line",p(function(ke){return ke.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(Re)))};var v={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function g(xe,le,oe,de){var Ce=le.fillpattern,_e=le.fillgradient,Ae=Ce&&x.getPatternAttr(Ce.shape,0,"");if(Ae){var Le=x.getPatternAttr(Ce.bgcolor,0,null),ze=x.getPatternAttr(Ce.fgcolor,0,null),Re=Ce.fgopacity,ve=x.getPatternAttr(Ce.size,0,8),ke=x.getPatternAttr(Ce.solidity,0,.3),Ee=le.uid;x.pattern(xe,"point",oe,Ee,Ae,ve,ke,void 0,Ce.fillmode,Le,ze,Re)}else if(_e&&_e.type!=="none"){var De,Pe,Ue=_e.type,We="scatterfill-"+le.uid;de&&(We="legendfill-"+le.uid),de||_e.start===void 0&&_e.stop===void 0?(Ue==="horizontal"&&(Ue+="reversed"),xe.call(x.gradient,oe,We,Ue,_e.colorscale,"fill")):(Ue==="horizontal"?(De={x:_e.start,y:0},Pe={x:_e.stop,y:0}):Ue==="vertical"&&(De={x:0,y:_e.start},Pe={x:0,y:_e.stop}),De.x=le._xA.c2p(De.x===void 0?le._extremes.x.min[0].val:De.x,!0),De.y=le._yA.c2p(De.y===void 0?le._extremes.y.min[0].val:De.y,!0),Pe.x=le._xA.c2p(Pe.x===void 0?le._extremes.x.max[0].val:Pe.x,!0),Pe.y=le._yA.c2p(Pe.y===void 0?le._extremes.y.max[0].val:Pe.y,!0),xe.call(A,oe,We,"linear",_e.colorscale,"fill",De,Pe,!0,!1))}else le.fillcolor&&xe.call(s.fill,le.fillcolor)}x.setPosition=function(xe,le,oe){xe.attr("x",le).attr("y",oe)},x.setSize=function(xe,le,oe){xe.attr("width",le).attr("height",oe)},x.setRect=function(xe,le,oe,de,Ce){xe.call(x.setPosition,le,oe).call(x.setSize,de,Ce)},x.translatePoint=function(xe,le,oe,de){var Ce=oe.c2p(xe.x),_e=de.c2p(xe.y);return!!(_(Ce)&&_(_e)&&le.node())&&(le.node().nodeName==="text"?le.attr("x",Ce).attr("y",_e):le.attr("transform",i(Ce,_e)),!0)},x.translatePoints=function(xe,le,oe){xe.each(function(de){var Ce=T.select(this);x.translatePoint(de,Ce,le,oe)})},x.hideOutsideRangePoint=function(xe,le,oe,de,Ce,_e){le.attr("display",oe.isPtWithinRange(xe,Ce)&&de.isPtWithinRange(xe,_e)?null:"none")},x.hideOutsideRangePoints=function(xe,le){if(le._hasClipOnAxisFalse){var oe=le.xaxis,de=le.yaxis;xe.each(function(Ce){var _e=Ce[0].trace,Ae=_e.xcalendar,Le=_e.ycalendar,ze=f.traceIs(_e,"bar-like")?".bartext":".point,.textpoint";xe.selectAll(ze).each(function(Re){x.hideOutsideRangePoint(Re,T.select(this),oe,de,Ae,Le)})})}},x.crispRound=function(xe,le,oe){return le&&_(le)?xe._context.staticPlot?le:le<1?1:Math.round(le):oe||0},x.singleLineStyle=function(xe,le,oe,de,Ce){le.style("fill","none");var _e=(((xe||[])[0]||{}).trace||{}).line||{},Ae=oe||_e.width||0,Le=Ce||_e.dash||"";s.stroke(le,de||_e.color),x.dashLine(le,Le,Ae)},x.lineGroupStyle=function(xe,le,oe,de){xe.style("fill","none").each(function(Ce){var _e=(((Ce||[])[0]||{}).trace||{}).line||{},Ae=le||_e.width||0,Le=de||_e.dash||"";T.select(this).call(s.stroke,oe||_e.color).call(x.dashLine,Le,Ae)})},x.dashLine=function(xe,le,oe){oe=+oe||0,le=x.dashStyle(le,oe),xe.style({"stroke-dasharray":le,"stroke-width":oe+"px"})},x.dashStyle=function(xe,le){le=+le||1;var oe=Math.max(le,3);return xe==="solid"?xe="":xe==="dot"?xe=oe+"px,"+oe+"px":xe==="dash"?xe=3*oe+"px,"+3*oe+"px":xe==="longdash"?xe=5*oe+"px,"+5*oe+"px":xe==="dashdot"?xe=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":xe==="longdashdot"&&(xe=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),xe},x.singleFillStyle=function(xe,le){var oe=T.select(xe.node());g(xe,((oe.data()[0]||[])[0]||{}).trace||{},le,!1)},x.fillGroupStyle=function(xe,le,oe){xe.style("stroke-width",0).each(function(de){var Ce=T.select(this);de[0].trace&&g(Ce,de[0].trace,le,oe)})};var y=e(71984);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(y).forEach(function(xe){var le=y[xe],oe=le.n;x.symbolList.push(oe,String(oe),xe,oe+100,String(oe+100),xe+"-open"),x.symbolNames[oe]=xe,x.symbolFuncs[oe]=le.f,x.symbolBackOffs[oe]=le.backoff||0,le.needLine&&(x.symbolNeedLines[oe]=!0),le.noDot?x.symbolNoDot[oe]=!0:x.symbolList.push(oe+200,String(oe+200),xe+"-dot",oe+300,String(oe+300),xe+"-open-dot"),le.noFill&&(x.symbolNoFill[oe]=!0)});var m=x.symbolNames.length;function w(xe,le,oe,de){var Ce=xe%100;return x.symbolFuncs[Ce](le,oe,de)+(xe>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(xe){if(_(xe))xe=+xe;else if(typeof xe=="string"){var le=0;xe.indexOf("-open")>0&&(le=100,xe=xe.replace("-open","")),xe.indexOf("-dot")>0&&(le+=200,xe=xe.replace("-dot","")),(xe=x.symbolNames.indexOf(xe))>=0&&(xe+=le)}return xe%100>=m||xe>=400?0:Math.floor(Math.max(xe,0))};var d=o("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function A(xe,le,oe,de,Ce,_e,Ae,Le,ze,Re){var ve,ke=Ce.length;de==="linear"?ve={node:"linearGradient",attrs:{x1:Ae.x,y1:Ae.y,x2:Le.x,y2:Le.y,gradientUnits:ze?"userSpaceOnUse":"objectBoundingBox"},reversed:Re}:de==="radial"&&(ve={node:"radialGradient",reversed:Re});for(var Ee=new Array(ke),De=0;De<ke;De++)ve.reversed?Ee[ke-1-De]=[d(100*(1-Ce[De][0])),Ce[De][1]]:Ee[De]=[d(100*Ce[De][0]),Ce[De][1]];var Pe=le._fullLayout,Ue="g"+Pe._uid+"-"+oe,We=Pe._defs.select(".gradients").selectAll("#"+Ue).data([de+Ee.join(";")],k.identity);We.exit().remove(),We.enter().append(ve.node).each(function(){var $e=T.select(this);ve.attrs&&$e.attr(ve.attrs),$e.attr("id",Ue);var ot=$e.selectAll("stop").data(Ee);ot.exit().remove(),ot.enter().append("stop"),ot.each(function(st){var mt=b(st[1]);T.select(this).attr({offset:st[0]+"%","stop-color":s.tinyRGB(mt),"stop-opacity":mt.getAlpha()})})}),xe.style(_e,Q(Ue,le)).style(_e+"-opacity",null),xe.classed("gradient_filled",!0)}x.gradient=function(xe,le,oe,de,Ce,_e){var Ae=S[de];return A(xe,le,oe,Ae.type,Ce,_e,Ae.start,Ae.stop,!1,Ae.reversed)},x.pattern=function(xe,le,oe,de,Ce,_e,Ae,Le,ze,Re,ve,ke){var Ee=le==="legend";Le&&(ze==="overlay"?(Re=Le,ve=s.contrast(Re)):(Re=void 0,ve=Le));var De,Pe,Ue,We,$e,ot,st,mt,_t,yt=oe._fullLayout,it="p"+yt._uid+"-"+de,tt={},Pt=b(ve),Rt=s.tinyRGB(Pt),Ft=ke*Pt.getAlpha();switch(Ce){case"/":De=_e*Math.sqrt(2),Pe=_e*Math.sqrt(2),ot="path",tt={d:Ue="M-"+De/4+","+Pe/4+"l"+De/2+",-"+Pe/2+"M0,"+Pe+"L"+De+",0M"+De/4*3+","+Pe/4*5+"l"+De/2+",-"+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*_e)+"px"};break;case"\\":De=_e*Math.sqrt(2),Pe=_e*Math.sqrt(2),ot="path",tt={d:Ue="M"+De/4*3+",-"+Pe/4+"l"+De/2+","+Pe/2+"M0,0L"+De+","+Pe+"M-"+De/4+","+Pe/4*3+"l"+De/2+","+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*_e)+"px"};break;case"x":De=_e*Math.sqrt(2),Pe=_e*Math.sqrt(2),Ue="M-"+De/4+","+Pe/4+"l"+De/2+",-"+Pe/2+"M0,"+Pe+"L"+De+",0M"+De/4*3+","+Pe/4*5+"l"+De/2+",-"+Pe/2+"M"+De/4*3+",-"+Pe/4+"l"+De/2+","+Pe/2+"M0,0L"+De+","+Pe+"M-"+De/4+","+Pe/4*3+"l"+De/2+","+Pe/2,We=_e-_e*Math.sqrt(1-Ae),ot="path",tt={d:Ue,opacity:Ft,stroke:Rt,"stroke-width":We+"px"};break;case"|":ot="path",ot="path",tt={d:Ue="M"+(De=_e)/2+",0L"+De/2+","+(Pe=_e),opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*_e)+"px"};break;case"-":ot="path",ot="path",tt={d:Ue="M0,"+(Pe=_e)/2+"L"+(De=_e)+","+Pe/2,opacity:Ft,stroke:Rt,"stroke-width":(We=Ae*_e)+"px"};break;case"+":ot="path",Ue="M"+(De=_e)/2+",0L"+De/2+","+(Pe=_e)+"M0,"+Pe/2+"L"+De+","+Pe/2,We=_e-_e*Math.sqrt(1-Ae),ot="path",tt={d:Ue,opacity:Ft,stroke:Rt,"stroke-width":We+"px"};break;case".":De=_e,Pe=_e,Ae<Math.PI/4?$e=Math.sqrt(Ae*_e*_e/Math.PI):(st=Ae,mt=Math.PI/4,$e=(_t=_e/2)+(_e/Math.sqrt(2)-_t)*(st-mt)/(1-mt)),ot="circle",tt={cx:De/2,cy:Pe/2,r:$e,opacity:Ft,fill:Rt}}var Ot=[Ce||"noSh",Re||"noBg",ve||"noFg",_e,Ae].join(";"),Xe=yt._defs.select(".patterns").selectAll("#"+it).data([Ot],k.identity);Xe.exit().remove(),Xe.enter().append("pattern").each(function(){var Je=T.select(this);if(Je.attr({id:it,width:De+"px",height:Pe+"px",patternUnits:"userSpaceOnUse",patternTransform:Ee?"scale(0.8)":""}),Re){var Ve=b(Re),Ke=s.tinyRGB(Ve),ft=Ve.getAlpha(),ut=Je.selectAll("rect").data([0]);ut.exit().remove(),ut.enter().append("rect").attr({width:De+"px",height:Pe+"px",fill:Ke,"fill-opacity":ft})}var xt=Je.selectAll(ot).data([0]);xt.exit().remove(),xt.enter().append(ot).attr(tt)}),xe.style("fill",Q(it,oe)).style("fill-opacity",null),xe.classed("pattern_filled",!0)},x.initGradients=function(xe){var le=xe._fullLayout;k.ensureSingle(le._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),T.select(xe).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(xe){var le=xe._fullLayout;k.ensureSingle(le._defs,"g","patterns").selectAll("pattern").remove(),T.select(xe).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(xe,le,oe){return xe&&k.isArrayOrTypedArray(xe)?le<xe.length?xe[le]:oe:xe},x.pointStyle=function(xe,le,oe,de){if(xe.size()){var Ce=x.makePointStyleFns(le);xe.each(function(_e){x.singlePointStyle(_e,T.select(this),le,Ce,oe,de)})}},x.singlePointStyle=function(xe,le,oe,de,Ce,_e){var Ae=oe.marker,Le=Ae.line;if(_e&&_e.i>=0&&xe.i===void 0&&(xe.i=_e.i),le.style("opacity",de.selectedOpacityFn?de.selectedOpacityFn(xe):xe.mo===void 0?Ae.opacity:xe.mo),de.ms2mrc){var ze;ze=xe.ms==="various"||Ae.size==="various"?3:de.ms2mrc(xe.ms),xe.mrc=ze,de.selectedSizeFn&&(ze=xe.mrc=de.selectedSizeFn(xe));var Re=x.symbolNumber(xe.mx||Ae.symbol)||0;xe.om=Re%200>=100;var ve=Fe(xe,oe),ke=J(xe,oe);le.attr("d",w(Re,ze,ve,ke))}var Ee,De,Pe,Ue=!1;if(xe.so)Pe=Le.outlierwidth,De=Le.outliercolor,Ee=Ae.outliercolor;else{var We=(Le||{}).width;Pe=(xe.mlw+1||We+1||(xe.trace?(xe.trace.marker.line||{}).width:0)+1)-1||0,De="mlc"in xe?xe.mlcc=de.lineScale(xe.mlc):k.isArrayOrTypedArray(Le.color)?s.defaultLine:Le.color,k.isArrayOrTypedArray(Ae.color)&&(Ee=s.defaultLine,Ue=!0),Ee="mc"in xe?xe.mcc=de.markerScale(xe.mc):Ae.color||Ae.colors||"rgba(0,0,0,0)",de.selectedColorFn&&(Ee=de.selectedColorFn(xe))}if(xe.om)le.call(s.stroke,Ee).style({"stroke-width":(Pe||1)+"px",fill:"none"});else{le.style("stroke-width",(xe.isBlank?0:Pe)+"px");var $e=Ae.gradient,ot=xe.mgt;ot?Ue=!0:ot=$e&&$e.type,k.isArrayOrTypedArray(ot)&&(ot=ot[0],S[ot]||(ot=0));var st=Ae.pattern,mt=st&&x.getPatternAttr(st.shape,xe.i,"");if(ot&&ot!=="none"){var _t=xe.mgc;_t?Ue=!0:_t=$e.color;var yt=oe.uid;Ue&&(yt+="-"+xe.i),x.gradient(le,Ce,yt,ot,[[0,_t],[1,Ee]],"fill")}else if(mt){var it=!1,tt=st.fgcolor;!tt&&_e&&_e.color&&(tt=_e.color,it=!0);var Pt=x.getPatternAttr(tt,xe.i,_e&&_e.color||null),Rt=x.getPatternAttr(st.bgcolor,xe.i,null),Ft=st.fgopacity,Ot=x.getPatternAttr(st.size,xe.i,8),Xe=x.getPatternAttr(st.solidity,xe.i,.3);it=it||xe.mcc||k.isArrayOrTypedArray(st.shape)||k.isArrayOrTypedArray(st.bgcolor)||k.isArrayOrTypedArray(st.fgcolor)||k.isArrayOrTypedArray(st.size)||k.isArrayOrTypedArray(st.solidity);var Je=oe.uid;it&&(Je+="-"+xe.i),x.pattern(le,"point",Ce,Je,mt,Ot,Xe,xe.mcc,st.fillmode,Rt,Pt,Ft)}else k.isArrayOrTypedArray(Ee)?s.fill(le,Ee[xe.i]):s.fill(le,Ee);Pe&&s.stroke(le,De)}},x.makePointStyleFns=function(xe){var le={},oe=xe.marker;return le.markerScale=x.tryColorscale(oe,""),le.lineScale=x.tryColorscale(oe,"line"),f.traceIs(xe,"symbols")&&(le.ms2mrc=u.isBubble(xe)?h(xe):function(){return(oe.size||6)/2}),xe.selectedpoints&&k.extendFlat(le,x.makeSelectedPointStyleFns(xe)),le},x.makeSelectedPointStyleFns=function(xe){var le={},oe=xe.selected||{},de=xe.unselected||{},Ce=xe.marker||{},_e=oe.marker||{},Ae=de.marker||{},Le=Ce.opacity,ze=_e.opacity,Re=Ae.opacity,ve=ze!==void 0,ke=Re!==void 0;(k.isArrayOrTypedArray(Le)||ve||ke)&&(le.selectedOpacityFn=function(mt){var _t=mt.mo===void 0?Ce.opacity:mt.mo;return mt.selected?ve?ze:_t:ke?Re:l*_t});var Ee=Ce.color,De=_e.color,Pe=Ae.color;(De||Pe)&&(le.selectedColorFn=function(mt){var _t=mt.mcc||Ee;return mt.selected?De||_t:Pe||_t});var Ue=Ce.size,We=_e.size,$e=Ae.size,ot=We!==void 0,st=$e!==void 0;return f.traceIs(xe,"symbols")&&(ot||st)&&(le.selectedSizeFn=function(mt){var _t=mt.mrc||Ue/2;return mt.selected?ot?We/2:_t:st?$e/2:_t}),le},x.makeSelectedTextStyleFns=function(xe){var le={},oe=xe.selected||{},de=xe.unselected||{},Ce=xe.textfont||{},_e=oe.textfont||{},Ae=de.textfont||{},Le=Ce.color,ze=_e.color,Re=Ae.color;return le.selectedTextColorFn=function(ve){var ke=ve.tc||Le;return ve.selected?ze||ke:Re||(ze?ke:s.addOpacity(ke,l))},le},x.selectedPointStyle=function(xe,le){if(xe.size()&&le.selectedpoints){var oe=x.makeSelectedPointStyleFns(le),de=le.marker||{},Ce=[];oe.selectedOpacityFn&&Ce.push(function(_e,Ae){_e.style("opacity",oe.selectedOpacityFn(Ae))}),oe.selectedColorFn&&Ce.push(function(_e,Ae){s.fill(_e,oe.selectedColorFn(Ae))}),oe.selectedSizeFn&&Ce.push(function(_e,Ae){var Le=Ae.mx||de.symbol||0,ze=oe.selectedSizeFn(Ae);_e.attr("d",w(x.symbolNumber(Le),ze,Fe(Ae,le),J(Ae,le))),Ae.mrc2=ze}),Ce.length&&xe.each(function(_e){for(var Ae=T.select(this),Le=0;Le<Ce.length;Le++)Ce[Le](Ae,_e)})}},x.tryColorscale=function(xe,le){var oe=le?k.nestedProperty(xe,le).get():xe;if(oe){var de=oe.color;if((oe.colorscale||oe._colorAx)&&k.isArrayOrTypedArray(de))return t.makeColorScaleFuncFromTrace(oe)}return k.identity};var E,P,O={start:1,end:-1,middle:0,bottom:1,top:-1};function I(xe,le,oe,de,Ce){var _e=T.select(xe.node().parentNode),Ae=le.indexOf("top")!==-1?"top":le.indexOf("bottom")!==-1?"bottom":"middle",Le=le.indexOf("left")!==-1?"end":le.indexOf("right")!==-1?"start":"middle",ze=de?de/.8+1:0,Re=(r.lineCount(xe)-1)*a+1,ve=O[Le]*ze,ke=.75*oe+O[Ae]*ze+(O[Ae]-1)*Re*oe/2;xe.attr("text-anchor",Le),Ce||_e.attr("transform",i(ve,ke))}function D(xe,le){var oe=xe.ts||le.textfont.size;return _(oe)&&oe>0?oe:0}function V(xe,le,oe){return oe&&(xe=W(xe)),le?j(xe[1]):z(xe[0])}function z(xe){var le=T.round(xe,2);return E=le,le}function j(xe){var le=T.round(xe,2);return P=le,le}function X(xe,le,oe,de){var Ce=xe[0]-le[0],_e=xe[1]-le[1],Ae=oe[0]-le[0],Le=oe[1]-le[1],ze=Math.pow(Ce*Ce+_e*_e,.25),Re=Math.pow(Ae*Ae+Le*Le,.25),ve=(Re*Re*Ce-ze*ze*Ae)*de,ke=(Re*Re*_e-ze*ze*Le)*de,Ee=3*Re*(ze+Re),De=3*ze*(ze+Re);return[[z(le[0]+(Ee&&ve/Ee)),j(le[1]+(Ee&&ke/Ee))],[z(le[0]-(De&&ve/De)),j(le[1]-(De&&ke/De))]]}x.textPointStyle=function(xe,le,oe){if(xe.size()){var de;if(le.selectedpoints){var Ce=x.makeSelectedTextStyleFns(le);de=Ce.selectedTextColorFn}var _e=le.texttemplate,Ae=oe._fullLayout;xe.each(function(Le){var ze=T.select(this),Re=_e?k.extractOption(Le,le,"txt","texttemplate"):k.extractOption(Le,le,"tx","text");if(Re||Re===0){if(_e){var ve=le._module.formatLabels,ke=ve?ve(Le,le,Ae):{},Ee={};c(Ee,le,Le.i);var De=le._meta||{};Re=k.texttemplateString(Re,ke,Ae._d3locale,Ee,Le,De)}var Pe=Le.tp||le.textposition,Ue=D(Le,le),We=de?de(Le):Le.tc||le.textfont.color;ze.call(x.font,{family:Le.tf||le.textfont.family,weight:Le.tw||le.textfont.weight,style:Le.ty||le.textfont.style,variant:Le.tv||le.textfont.variant,textcase:Le.tC||le.textfont.textcase,lineposition:Le.tE||le.textfont.lineposition,shadow:Le.tS||le.textfont.shadow,size:Ue,color:We}).text(Re).call(r.convertToTspans,oe).call(I,Pe,Ue,Le.mrc)}else ze.remove()})}},x.selectedTextStyle=function(xe,le){if(xe.size()&&le.selectedpoints){var oe=x.makeSelectedTextStyleFns(le);xe.each(function(de){var Ce=T.select(this),_e=oe.selectedTextColorFn(de),Ae=de.tp||le.textposition,Le=D(de,le);s.fill(Ce,_e);var ze=f.traceIs(le,"bar-like");I(Ce,Ae,Le,de.mrc2||de.mrc,ze)})}},x.smoothopen=function(xe,le){if(xe.length<3)return"M"+xe.join("L");var oe,de="M"+xe[0],Ce=[];for(oe=1;oe<xe.length-1;oe++)Ce.push(X(xe[oe-1],xe[oe],xe[oe+1],le));for(de+="Q"+Ce[0][0]+" "+xe[1],oe=2;oe<xe.length-1;oe++)de+="C"+Ce[oe-2][1]+" "+Ce[oe-1][0]+" "+xe[oe];return de+"Q"+Ce[xe.length-3][1]+" "+xe[xe.length-1]},x.smoothclosed=function(xe,le){if(xe.length<3)return"M"+xe.join("L")+"Z";var oe,de="M"+xe[0],Ce=xe.length-1,_e=[X(xe[Ce],xe[0],xe[1],le)];for(oe=1;oe<Ce;oe++)_e.push(X(xe[oe-1],xe[oe],xe[oe+1],le));for(_e.push(X(xe[Ce-1],xe[Ce],xe[0],le)),oe=1;oe<=Ce;oe++)de+="C"+_e[oe-1][1]+" "+_e[oe][0]+" "+xe[oe];return de+"C"+_e[Ce][1]+" "+_e[0][0]+" "+xe[0]+"Z"};var F={hv:function(xe,le,oe){return"H"+z(le[0])+"V"+V(le,1,oe)},vh:function(xe,le,oe){return"V"+j(le[1])+"H"+V(le,0,oe)},hvh:function(xe,le,oe){return"H"+z((xe[0]+le[0])/2)+"V"+j(le[1])+"H"+V(le,0,oe)},vhv:function(xe,le,oe){return"V"+j((xe[1]+le[1])/2)+"H"+z(le[0])+"V"+V(le,1,oe)}},H=function(xe,le,oe){return"L"+V(le,0,oe)+","+V(le,1,oe)};function W(xe,le){var oe=xe.backoff,de=xe.trace,Ce=xe.d,_e=xe.i;if(oe&&de&&de.marker&&de.marker.angle%360==0&&de.line&&de.line.shape!=="spline"){var Ae=k.isArrayOrTypedArray(oe),Le=xe,ze=le?le[0]:E||0,Re=le?le[1]:P||0,ve=Le[0],ke=Le[1],Ee=ve-ze,De=ke-Re,Pe=Math.atan2(De,Ee),Ue=Ae?oe[_e]:oe;if(Ue==="auto"){var We=Le.i;de.type==="scatter"&&We--;var $e=Le.marker,ot=$e.symbol;k.isArrayOrTypedArray(ot)&&(ot=ot[We]);var st=$e.size;k.isArrayOrTypedArray(st)&&(st=st[We]),Ue=$e?x.symbolBackOffs[x.symbolNumber(ot)]*st:0,Ue+=x.getMarkerStandoff(Ce[We],de)||0}var mt=ve-Ue*Math.cos(Pe),_t=ke-Ue*Math.sin(Pe);(mt<=ve&&mt>=ze||mt>=ve&&mt<=ze)&&(_t<=ke&&_t>=Re||_t>=ke&&_t<=Re)&&(xe=[mt,_t])}return xe}x.steps=function(xe){var le=F[xe]||H;return function(oe){for(var de="M"+z(oe[0][0])+","+j(oe[0][1]),Ce=oe.length,_e=1;_e<Ce;_e++)de+=le(oe[_e-1],oe[_e],_e===Ce-1);return de}},x.applyBackoff=W,x.makeTester=function(){var xe=k.ensureSingleById(T.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),le=k.ensureSingle(xe,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=xe,x.testref=le},x.savedBBoxes={};var ie=0;function te(xe){var le=xe.getAttribute("data-unformatted");if(le!==null)return le+xe.getAttribute("data-math")+xe.getAttribute("text-anchor")+xe.getAttribute("style")}function Q(xe,le){if(!xe)return null;var oe=le._context,de=oe._exportedPlot?"":oe._baseUrl||"";return de?"url('"+de+"#"+xe+"')":"url(#"+xe+")"}x.bBox=function(xe,le,oe){var de,Ce,_e;if(oe||(oe=te(xe)),oe){if(de=x.savedBBoxes[oe])return k.extendFlat({},de)}else if(xe.childNodes.length===1){var Ae=xe.childNodes[0];if(oe=te(Ae)){var Le=+Ae.getAttribute("x")||0,ze=+Ae.getAttribute("y")||0,Re=Ae.getAttribute("transform");if(!Re){var ve=x.bBox(Ae,!1,oe);return Le&&(ve.left+=Le,ve.right+=Le),ze&&(ve.top+=ze,ve.bottom+=ze),ve}if(oe+="~"+Le+"~"+ze+"~"+Re,de=x.savedBBoxes[oe])return k.extendFlat({},de)}}le?Ce=xe:(_e=x.tester.node(),Ce=xe.cloneNode(!0),_e.appendChild(Ce)),T.select(Ce).attr("transform",null).call(r.positionText,0,0);var ke=Ce.getBoundingClientRect(),Ee=x.testref.node().getBoundingClientRect();le||_e.removeChild(Ce);var De={height:ke.height,width:ke.width,left:ke.left-Ee.left,top:ke.top-Ee.top,right:ke.right-Ee.left,bottom:ke.bottom-Ee.top};return ie>=1e4&&(x.savedBBoxes={},ie=0),oe&&(x.savedBBoxes[oe]=De),ie++,k.extendFlat({},De)},x.setClipUrl=function(xe,le,oe){xe.attr("clip-path",Q(le,oe))},x.getTranslate=function(xe){var le=(xe[xe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,de,Ce){return[de,Ce].join(" ")}).split(" ");return{x:+le[0]||0,y:+le[1]||0}},x.setTranslate=function(xe,le,oe){var de=xe.attr?"attr":"getAttribute",Ce=xe.attr?"attr":"setAttribute",_e=xe[de]("transform")||"";return le=le||0,oe=oe||0,_e=_e.replace(/(\btranslate\(.*?\);?)/,"").trim(),_e=(_e+=i(le,oe)).trim(),xe[Ce]("transform",_e),_e},x.getScale=function(xe){var le=(xe[xe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,de,Ce){return[de,Ce].join(" ")}).split(" ");return{x:+le[0]||1,y:+le[1]||1}},x.setScale=function(xe,le,oe){var de=xe.attr?"attr":"getAttribute",Ce=xe.attr?"attr":"setAttribute",_e=xe[de]("transform")||"";return le=le||1,oe=oe||1,_e=_e.replace(/(\bscale\(.*?\);?)/,"").trim(),_e=(_e+="scale("+le+","+oe+")").trim(),xe[Ce]("transform",_e),_e};var ne=/\s*sc.*/;x.setPointGroupScale=function(xe,le,oe){if(le=le||1,oe=oe||1,xe){var de=le===1&&oe===1?"":"scale("+le+","+oe+")";xe.each(function(){var Ce=(this.getAttribute("transform")||"").replace(ne,"");Ce=(Ce+=de).trim(),this.setAttribute("transform",Ce)})}};var $=/translate\([^)]*\)\s*$/;function J(xe,le){var oe;return xe&&(oe=xe.mf),oe===void 0&&(oe=le.marker&&le.marker.standoff||0),le._geo||le._xA?oe:-oe}x.setTextPointsScale=function(xe,le,oe){xe&&xe.each(function(){var de,Ce=T.select(this),_e=Ce.select("text");if(_e.node()){var Ae=parseFloat(_e.attr("x")||0),Le=parseFloat(_e.attr("y")||0),ze=(Ce.attr("transform")||"").match($);de=le===1&&oe===1?[]:[i(Ae,Le),"scale("+le+","+oe+")",i(-Ae,-Le)],ze&&de.push(ze),Ce.attr("transform",de.join(""))}})},x.getMarkerStandoff=J;var re,se,ue,he,pe,ge,ye=Math.atan2,be=Math.cos,Te=Math.sin;function Se(xe,le){var oe=le[0],de=le[1];return[oe*be(xe)-de*Te(xe),oe*Te(xe)+de*be(xe)]}function Fe(xe,le){var oe,de,Ce=xe.ma;Ce===void 0&&((Ce=le.marker.angle)&&!k.isArrayOrTypedArray(Ce)||(Ce=0));var _e=le.marker.angleref;if(_e==="previous"||_e==="north"){if(le._geo){var Ae=le._geo.project(xe.lonlat);oe=Ae[0],de=Ae[1]}else{var Le=le._xA,ze=le._yA;if(!Le||!ze)return 90;oe=Le.c2p(xe.x),de=ze.c2p(xe.y)}if(le._geo){var Re,ve=xe.lonlat[0],ke=xe.lonlat[1],Ee=le._geo.project([ve,ke+1e-5]),De=le._geo.project([ve+1e-5,ke]),Pe=ye(De[1]-de,De[0]-oe),Ue=ye(Ee[1]-de,Ee[0]-oe);if(_e==="north")Re=Ce/180*Math.PI;else if(_e==="previous"){var We=ve/180*Math.PI,$e=ke/180*Math.PI,ot=re/180*Math.PI,st=se/180*Math.PI,mt=ot-We,_t=be(st)*Te(mt),yt=Te(st)*be($e)-be(st)*Te($e)*be(mt);Re=-ye(_t,yt)-Math.PI,re=ve,se=ke}var it=Se(Pe,[be(Re),0]),tt=Se(Ue,[Te(Re),0]);Ce=ye(it[1]+tt[1],it[0]+tt[0])/Math.PI*180,_e!=="previous"||ge===le.uid&&xe.i===pe+1||(Ce=null)}if(_e==="previous"&&!le._geo)if(ge===le.uid&&xe.i===pe+1&&_(oe)&&_(de)){var Pt=oe-ue,Rt=de-he,Ft=le.line&&le.line.shape||"",Ot=Ft.slice(Ft.length-1);Ot==="h"&&(Rt=0),Ot==="v"&&(Pt=0),Ce+=ye(Rt,Pt)/Math.PI*180+90}else Ce=null}return ue=oe,he=de,pe=xe.i,ge=le.uid,Ce}x.getMarkerAngle=Fe},71984:function(U,C,e){var T,k,o,_,b=e(21984),f=e(33428).round,s="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),r=Math.PI,n=Math.cos,a=Math.sin;function l(h){return h===null}function u(h,c,x){if(!(h&&h%360!=0||c))return x;if(o===h&&_===c&&T===x)return k;function p(D,V){var z=n(D),j=a(D),X=V[0],F=V[1]+(c||0);return[X*z-F*j,X*j+F*z]}o=h,_=c,T=x;for(var v=h/180*r,g=0,y=0,m=b(x),w="",d=0;d<m.length;d++){var S=m[d],A=S[0],E=g,P=y;if(A==="M"||A==="L")g=+S[1],y=+S[2];else if(A==="m"||A==="l")g+=+S[1],y+=+S[2];else if(A==="H")g=+S[1];else if(A==="h")g+=+S[1];else if(A==="V")y=+S[1];else if(A==="v")y+=+S[1];else if(A==="A"){g=+S[1],y=+S[2];var O=p(v,[+S[6],+S[7]]);S[6]=O[0],S[7]=O[1],S[3]=+S[3]+h}A!=="H"&&A!=="V"||(A="L"),A!=="h"&&A!=="v"||(A="l"),A!=="m"&&A!=="l"||(g-=E,y-=P);var I=p(v,[g,y]);A!=="H"&&A!=="V"||(A="L"),A!=="M"&&A!=="L"&&A!=="m"&&A!=="l"||(S[1]=I[0],S[2]=I[1]),S[0]=A,w+=S[0]+S.slice(1).join(",")}return k=w,w}U.exports={circle:{n:0,f:function(h,c,x){if(l(c))return s;var p=f(h,2),v="M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z";return x?u(c,x,v):v}},square:{n:1,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")}},diamond:{n:2,f:function(h,c,x){if(l(c))return s;var p=f(1.3*h,2);return u(c,x,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z")}},cross:{n:3,f:function(h,c,x){if(l(c))return s;var p=f(.4*h,2),v=f(1.2*h,2);return u(c,x,"M"+v+","+p+"H"+p+"V"+v+"H-"+p+"V"+p+"H-"+v+"V-"+p+"H-"+p+"V-"+v+"H"+p+"V-"+p+"H"+v+"Z")}},x:{n:4,f:function(h,c,x){if(l(c))return s;var p=f(.8*h/t,2),v="l"+p+","+p,g="l"+p+",-"+p,y="l-"+p+",-"+p,m="l-"+p+","+p;return u(c,x,"M0,"+p+v+g+y+g+y+m+y+m+v+m+v+"Z")}},"triangle-up":{n:5,f:function(h,c,x){if(l(c))return s;var p=f(2*h/i,2);return u(c,x,"M-"+p+","+f(h/2,2)+"H"+p+"L0,-"+f(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,c,x){if(l(c))return s;var p=f(2*h/i,2);return u(c,x,"M-"+p+",-"+f(h/2,2)+"H"+p+"L0,"+f(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,c,x){if(l(c))return s;var p=f(2*h/i,2);return u(c,x,"M"+f(h/2,2)+",-"+p+"V"+p+"L-"+f(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,c,x){if(l(c))return s;var p=f(2*h/i,2);return u(c,x,"M-"+f(h/2,2)+",-"+p+"V"+p+"L"+f(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,c,x){if(l(c))return s;var p=f(.6*h,2),v=f(1.2*h,2);return u(c,x,"M-"+v+",-"+p+"H"+p+"V"+v+"Z")}},"triangle-se":{n:10,f:function(h,c,x){if(l(c))return s;var p=f(.6*h,2),v=f(1.2*h,2);return u(c,x,"M"+p+",-"+v+"V"+p+"H-"+v+"Z")}},"triangle-sw":{n:11,f:function(h,c,x){if(l(c))return s;var p=f(.6*h,2),v=f(1.2*h,2);return u(c,x,"M"+v+","+p+"H-"+p+"V-"+v+"Z")}},"triangle-nw":{n:12,f:function(h,c,x){if(l(c))return s;var p=f(.6*h,2),v=f(1.2*h,2);return u(c,x,"M-"+p+","+v+"V-"+p+"H"+v+"Z")}},pentagon:{n:13,f:function(h,c,x){if(l(c))return s;var p=f(.951*h,2),v=f(.588*h,2),g=f(-h,2),y=f(-.309*h,2);return u(c,x,"M"+p+","+y+"L"+v+","+f(.809*h,2)+"H-"+v+"L-"+p+","+y+"L0,"+g+"Z")}},hexagon:{n:14,f:function(h,c,x){if(l(c))return s;var p=f(h,2),v=f(h/2,2),g=f(h*i/2,2);return u(c,x,"M"+g+",-"+v+"V"+v+"L0,"+p+"L-"+g+","+v+"V-"+v+"L0,-"+p+"Z")}},hexagon2:{n:15,f:function(h,c,x){if(l(c))return s;var p=f(h,2),v=f(h/2,2),g=f(h*i/2,2);return u(c,x,"M-"+v+","+g+"H"+v+"L"+p+",0L"+v+",-"+g+"H-"+v+"L-"+p+",0Z")}},octagon:{n:16,f:function(h,c,x){if(l(c))return s;var p=f(.924*h,2),v=f(.383*h,2);return u(c,x,"M-"+v+",-"+p+"H"+v+"L"+p+",-"+v+"V"+v+"L"+v+","+p+"H-"+v+"L-"+p+","+v+"V-"+v+"Z")}},star:{n:17,f:function(h,c,x){if(l(c))return s;var p=1.4*h,v=f(.225*p,2),g=f(.951*p,2),y=f(.363*p,2),m=f(.588*p,2),w=f(-p,2),d=f(-.309*p,2),S=f(.118*p,2),A=f(.809*p,2);return u(c,x,"M"+v+","+d+"H"+g+"L"+y+","+S+"L"+m+","+A+"L0,"+f(.382*p,2)+"L-"+m+","+A+"L-"+y+","+S+"L-"+g+","+d+"H-"+v+"L0,"+w+"Z")}},hexagram:{n:18,f:function(h,c,x){if(l(c))return s;var p=f(.66*h,2),v=f(.38*h,2),g=f(.76*h,2);return u(c,x,"M-"+g+",0l-"+v+",-"+p+"h"+g+"l"+v+",-"+p+"l"+v+","+p+"h"+g+"l-"+v+","+p+"l"+v+","+p+"h-"+g+"l-"+v+","+p+"l-"+v+",-"+p+"h-"+g+"Z")}},"star-triangle-up":{n:19,f:function(h,c,x){if(l(c))return s;var p=f(h*i*.8,2),v=f(.8*h,2),g=f(1.6*h,2),y=f(4*h,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M-"+p+","+v+m+p+","+v+m+"0,-"+g+m+"-"+p+","+v+"Z")}},"star-triangle-down":{n:20,f:function(h,c,x){if(l(c))return s;var p=f(h*i*.8,2),v=f(.8*h,2),g=f(1.6*h,2),y=f(4*h,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M"+p+",-"+v+m+"-"+p+",-"+v+m+"0,"+g+m+p+",-"+v+"Z")}},"star-square":{n:21,f:function(h,c,x){if(l(c))return s;var p=f(1.1*h,2),v=f(2*h,2),g="A "+v+","+v+" 0 0 1 ";return u(c,x,"M-"+p+",-"+p+g+"-"+p+","+p+g+p+","+p+g+p+",-"+p+g+"-"+p+",-"+p+"Z")}},"star-diamond":{n:22,f:function(h,c,x){if(l(c))return s;var p=f(1.4*h,2),v=f(1.9*h,2),g="A "+v+","+v+" 0 0 1 ";return u(c,x,"M-"+p+",0"+g+"0,"+p+g+p+",0"+g+"0,-"+p+g+"-"+p+",0Z")}},"diamond-tall":{n:23,f:function(h,c,x){if(l(c))return s;var p=f(.7*h,2),v=f(1.4*h,2);return u(c,x,"M0,"+v+"L"+p+",0L0,-"+v+"L-"+p+",0Z")}},"diamond-wide":{n:24,f:function(h,c,x){if(l(c))return s;var p=f(1.4*h,2),v=f(.7*h,2);return u(c,x,"M0,"+v+"L"+p+",0L0,-"+v+"L-"+p+",0Z")}},hourglass:{n:25,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z")},noDot:!0},bowtie:{n:26,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,c,x){if(l(c))return s;var p=f(h,2),v=f(h/t,2);return u(c,x,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,c,x){if(l(c))return s;var p=f(1.3*h,2);return u(c,x,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,c,x){if(l(c))return s;var p=f(1.3*h,2),v=f(.65*h,2);return u(c,x,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+v+",-"+v+"L"+v+","+v+"M-"+v+","+v+"L"+v+",-"+v)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,c,x){if(l(c))return s;var p=f(1.4*h,2);return u(c,x,"M0,"+p+"V-"+p+"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,c,x){if(l(c))return s;var p=f(1.2*h,2),v=f(.85*h,2);return u(c,x,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,c,x){if(l(c))return s;var p=f(h/2,2),v=f(h,2);return u(c,x,"M"+p+","+v+"V-"+v+"M"+(p-v)+",-"+v+"V"+v+"M"+v+","+p+"H-"+v+"M-"+v+","+(p-v)+"H"+v)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,c,x){if(l(c))return s;var p=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,x,"M-"+p+","+g+"L0,0M"+p+","+g+"L0,0M0,-"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,c,x){if(l(c))return s;var p=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,x,"M-"+p+",-"+g+"L0,0M"+p+",-"+g+"L0,0M0,"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,c,x){if(l(c))return s;var p=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,x,"M"+g+","+p+"L0,0M"+g+",-"+p+"L0,0M-"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,c,x){if(l(c))return s;var p=f(1.2*h,2),v=f(1.6*h,2),g=f(.8*h,2);return u(c,x,"M-"+g+","+p+"L0,0M-"+g+",-"+p+"L0,0M"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,c,x){if(l(c))return s;var p=f(1.4*h,2);return u(c,x,"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,c,x){if(l(c))return s;var p=f(1.4*h,2);return u(c,x,"M0,"+p+"V-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M"+p+","+p+"L-"+p+",-"+p)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M0,0L-"+p+","+f(2*h,2)+"H"+p+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M0,0L-"+p+",-"+f(2*h,2)+"H"+p+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,c,x){if(l(c))return s;var p=f(2*h,2),v=f(h,2);return u(c,x,"M0,0L"+p+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,c,x){if(l(c))return s;var p=f(2*h,2),v=f(h,2);return u(c,x,"M0,0L-"+p+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M-"+p+",0H"+p+"M0,0L-"+p+","+f(2*h,2)+"H"+p+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,c,x){if(l(c))return s;var p=f(h,2);return u(c,x,"M-"+p+",0H"+p+"M0,0L-"+p+",-"+f(2*h,2)+"H"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,c,x){if(l(c))return s;var p=f(2*h,2),v=f(h,2);return u(c,x,"M0,-"+v+"V"+v+"M0,0L"+p+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,c,x){if(l(c))return s;var p=f(2*h,2),v=f(h,2);return u(c,x,"M0,-"+v+"V"+v+"M0,0L-"+p+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,c,x){if(l(c))return s;var p=r/2.5,v=2*h*n(p),g=2*h*a(p);return u(c,x,"M0,0L"+-v+","+g+"L"+v+","+g+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,c,x){if(l(c))return s;var p=r/4,v=2*h*n(p),g=2*h*a(p);return u(c,x,"M0,0L"+-v+","+g+"A "+2*h+","+2*h+" 0 0 1 "+v+","+g+"Z")},backoff:.4,noDot:!0}}},97644:function(U){U.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(U,C,e){var T=e(38248),k=e(24040),o=e(54460),_=e(3400),b=e(93792);function f(s,t,i,r){var n=t["error_"+r]||{},a=[];if(n.visible&&["linear","log"].indexOf(i.type)!==-1){for(var l=b(n),u=0;u<s.length;u++){var h=s[u],c=h.i;if(c===void 0)c=u;else if(c===null)continue;var x=h[r];if(T(i.c2l(x))){var p=l(x,c);if(T(p[0])&&T(p[1])){var v=h[r+"s"]=x-p[0],g=h[r+"h"]=x+p[1];a.push(v,g)}}}var y=i._id,m=t._extremes[y],w=o.findExtremes(i,a,_.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(w.min),m.max=m.max.concat(w.max)}}U.exports=function(s){for(var t=s.calcdata,i=0;i<t.length;i++){var r=t[i],n=r[0].trace;if(n.visible===!0&&k.traceIs(n,"errorBarsOK")){var a=o.getFromId(s,n.xaxis),l=o.getFromId(s,n.yaxis);f(r,n,a,"x"),f(r,n,l,"y")}}}},93792:function(U){function C(e,T){return e==="percent"?function(k){return Math.abs(k*T/100)}:e==="constant"?function(){return Math.abs(T)}:e==="sqrt"?function(k){return Math.sqrt(Math.abs(k))}:void 0}U.exports=function(e){var T=e.type,k=e.symmetric;if(T==="data"){var o=e.array||[];if(k)return function(s,t){var i=+o[t];return[i,i]};var _=e.arrayminus||[];return function(s,t){var i=+o[t],r=+_[t];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var b=C(T,e.value),f=C(T,e.valueminus);return k||e.valueminus===void 0?function(s){var t=b(s);return[t,t]}:function(s){return[f(s),b(s)]}}},65200:function(U,C,e){var T=e(38248),k=e(24040),o=e(3400),_=e(31780),b=e(97644);U.exports=function(f,s,t,i){var r="error_"+i.axis,n=_.newContainer(s,r),a=f[r]||{};function l(x,p){return o.coerce(a,n,b,x,p)}if(l("visible",a.array!==void 0||a.value!==void 0||a.type==="sqrt")!==!1){var u=l("type","array"in a?"data":"percent"),h=!0;u!=="sqrt"&&(h=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in a))),u==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),h||l("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&l(c,!(a.color||T(a.thickness)||T(a.width))),i.inherit&&n[c]||(l("color",t),l("thickness"),l("width",k.traceIs(s,"gl3d")?0:4))}}},64968:function(U,C,e){var T=e(3400),k=e(67824).overrideAll,o=e(97644),_={error_x:T.extendFlat({},o),error_y:T.extendFlat({},o)};delete _.error_x.copy_zstyle,delete _.error_y.copy_zstyle,delete _.error_y.copy_ystyle;var b={error_x:T.extendFlat({},o),error_y:T.extendFlat({},o),error_z:T.extendFlat({},o)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,U.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:_,bar:_,histogram:_,scatter3d:k(b,"calc","nested"),scattergl:k(_,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(f,s,t){(s.error_y||{}).visible&&(t.yerr=f.yh-f.y,s.error_y.symmetric||(t.yerrneg=f.y-f.ys)),(s.error_x||{}).visible&&(t.xerr=f.xh-f.x,s.error_x.symmetric||(t.xerrneg=f.x-f.xs))}}},78512:function(U,C,e){var T=e(33428),k=e(38248),o=e(43616),_=e(43028);U.exports=function(b,f,s,t){var i=s.xaxis,r=s.yaxis,n=t&&t.duration>0,a=b._context.staticPlot;f.each(function(l){var u,h=l[0].trace,c=h.error_x||{},x=h.error_y||{};h.ids&&(u=function(y){return y.id});var p=_.hasMarkers(h)&&h.marker.maxdisplayed>0;x.visible||c.visible||(l=[]);var v=T.select(this).selectAll("g.errorbar").data(l,u);if(v.exit().remove(),l.length){c.visible||v.selectAll("path.xerror").remove(),x.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var g=v.enter().append("g").classed("errorbar",!0);n&&g.style("opacity",0).transition().duration(t.duration).style("opacity",1),o.setClipUrl(v,s.layerClipId,b),v.each(function(y){var m=T.select(this),w=function(O,I,D){var V={x:I.c2p(O.x),y:D.c2p(O.y)};return O.yh!==void 0&&(V.yh=D.c2p(O.yh),V.ys=D.c2p(O.ys),k(V.ys)||(V.noYS=!0,V.ys=D.c2p(O.ys,!0))),O.xh!==void 0&&(V.xh=I.c2p(O.xh),V.xs=I.c2p(O.xs),k(V.xs)||(V.noXS=!0,V.xs=I.c2p(O.xs,!0))),V}(y,i,r);if(!p||y.vis){var d,S=m.select("path.yerror");if(x.visible&&k(w.x)&&k(w.yh)&&k(w.ys)){var A=x.width;d="M"+(w.x-A)+","+w.yh+"h"+2*A+"m-"+A+",0V"+w.ys,w.noYS||(d+="m-"+A+",0h"+2*A),S.size()?n&&(S=S.transition().duration(t.duration).ease(t.easing)):S=m.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",d)}else S.remove();var E=m.select("path.xerror");if(c.visible&&k(w.y)&&k(w.xh)&&k(w.xs)){var P=(c.copy_ystyle?x:c).width;d="M"+w.xh+","+(w.y-P)+"v"+2*P+"m0,-"+P+"H"+w.xs,w.noXS||(d+="m0,-"+P+"v"+2*P),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=m.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",d)}else E.remove()}})}})}},92036:function(U,C,e){var T=e(33428),k=e(76308);U.exports=function(o){o.each(function(_){var b=_[0].trace,f=b.error_y||{},s=b.error_x||{},t=T.select(this);t.selectAll("path.yerror").style("stroke-width",f.thickness+"px").call(k.stroke,f.color),s.copy_ystyle&&(s=f),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(k.stroke,s.color)})}},55756:function(U,C,e){var T=e(25376),k=e(65460).hoverlabel,o=e(92880).extendFlat;U.exports={hoverlabel:{bgcolor:o({},k.bgcolor,{arrayOk:!0}),bordercolor:o({},k.bordercolor,{arrayOk:!0}),font:T({arrayOk:!0,editType:"none"}),align:o({},k.align,{arrayOk:!0}),namelength:o({},k.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(U,C,e){var T=e(3400),k=e(24040);function o(_,b,f,s){s=s||T.identity,Array.isArray(_)&&(b[0][f]=s(_))}U.exports=function(_){var b=_.calcdata,f=_._fullLayout;function s(a){return function(l){return T.coerceHoverinfo({hoverinfo:l},{_module:a._module},f)}}for(var t=0;t<b.length;t++){var i=b[t],r=i[0].trace;if(!k.traceIs(r,"pie-like")){var n=k.traceIs(r,"2dMap")?o:T.fillArray;n(r.hoverinfo,i,"hi",s(r)),r.hovertemplate&&n(r.hovertemplate,i,"ht"),r.hoverlabel&&(n(r.hoverlabel.bgcolor,i,"hbg"),n(r.hoverlabel.bordercolor,i,"hbc"),n(r.hoverlabel.font.size,i,"hts"),n(r.hoverlabel.font.color,i,"htc"),n(r.hoverlabel.font.family,i,"htf"),n(r.hoverlabel.font.weight,i,"htw"),n(r.hoverlabel.font.style,i,"hty"),n(r.hoverlabel.font.variant,i,"htv"),n(r.hoverlabel.namelength,i,"hnl"),n(r.hoverlabel.align,i,"hta"))}}}},62376:function(U,C,e){var T=e(24040),k=e(83292).hover;U.exports=function(o,_,b){var f=T.getComponentMethod("annotations","onClick")(o,o._hoverdata);function s(){o.emit("plotly_click",{points:o._hoverdata,event:_})}b!==void 0&&k(o,_,b,!0),o._hoverdata&&_&&_.target&&(f&&f.then?f.then(s):s(),_.stopImmediatePropagation&&_.stopImmediatePropagation())}},92456:function(U){U.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(U,C,e){var T=e(3400),k=e(55756),o=e(16132);U.exports=function(_,b,f,s){var t=T.extendFlat({},s.hoverlabel);b.hovertemplate&&(t.namelength=-1),o(_,b,function(i,r){return T.coerce(_,b,k,i,r)},t)}},10624:function(U,C,e){var T=e(3400);C.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},C.isTraceInSubplots=function(s,t){if(s.type==="splom"){for(var i=s.xaxes||[],r=s.yaxes||[],n=0;n<i.length;n++)for(var a=0;a<r.length;a++)if(t.indexOf(i[n]+r[a])!==-1)return!0;return!1}return t.indexOf(C.getSubplot(s))!==-1},C.flat=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=t;return i},C.p2c=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=s[r].p2c(t);return i},C.getDistanceFunction=function(s,t,i,r){return s==="closest"?r||C.quadrature(t,i):s.charAt(0)==="x"?t:i},C.getClosest=function(s,t,i){if(i.index!==!1)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var r=0;r<s.length;r++){var n=t(s[r]);n<=i.distance&&(i.index=r,i.distance=n)}return i},C.inbox=function(s,t,i){return s*t<0||s===0?i:1/0},C.quadrature=function(s,t){return function(i){var r=s(i),n=t(i);return Math.sqrt(r*r+n*n)}},C.makeEventData=function(s,t,i){var r="index"in s?s.index:s.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var a=t._indexToPoints[r];a.length===1?n.pointIndex=a[0]:n.pointIndices=a}else n.pointIndex=r;return t._module.eventData?n=t._module.eventData(n,s,t,i,r):("xVal"in s?n.x=s.xVal:"x"in s&&(n.x=s.x),"yVal"in s?n.y=s.yVal:"y"in s&&(n.y=s.y),s.xa&&(n.xaxis=s.xa),s.ya&&(n.yaxis=s.ya),s.zLabelVal!==void 0&&(n.z=s.zLabelVal)),C.appendArrayPointValue(n,t,r),n},C.appendArrayPointValue=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var a=r[n],l=o(a);if(s[l]===void 0){var u=_(T.nestedProperty(t,a).get(),i);u!==void 0&&(s[l]=u)}}},C.appendArrayMultiPointValues=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var a=r[n],l=o(a);if(s[l]===void 0){for(var u=T.nestedProperty(t,a).get(),h=new Array(i.length),c=0;c<i.length;c++)h[c]=_(u,i[c]);s[l]=h}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(s){return k[s]||s}function _(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var b={x:!0,y:!0},f={"x unified":!0,"y unified":!0};C.isUnifiedHover=function(s){return typeof s=="string"&&!!f[s]},C.isXYhover=function(s){return typeof s=="string"&&!!b[s]}},83292:function(U,C,e){var T=e(33428),k=e(38248),o=e(49760),_=e(3400),b=_.pushUnique,f=_.strTranslate,s=_.strRotate,t=e(95924),i=e(72736),r=e(72213),n=e(43616),a=e(76308),l=e(86476),u=e(54460),h=e(33816).zindexSeparator,c=e(24040),x=e(10624),p=e(92456),v=e(77864),g=e(31140),y=p.YANGLE,m=Math.PI*y/180,w=1/Math.sin(m),d=Math.cos(m),S=Math.sin(m),A=p.HOVERARROWSIZE,E=p.HOVERTEXTPAD,P={box:!0,ohlc:!0,violin:!0,candlestick:!0},O={scatter:!0,scattergl:!0,splom:!0};function I(re,se){return re.distance-se.distance}function D(re){return[re.trace.index,re.index,re.x0,re.y0,re.name,re.attr,re.xa?re.xa._id:"",re.ya?re.ya._id:""].join(",")}C.hover=function(re,se,ue,he){re=_.getGraphDiv(re);var pe=se.target;_.throttle(re._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){(function(ge,ye,be,Te,Se){be||(be="xy"),typeof be=="string"&&(be=be.split(h)[0]);var Fe,xe,le,oe=Array.isArray(be)?be:[be],de=ge._fullLayout,Ce=de.hoversubplots,_e=de._plots||[],Ae=_e[be],Le=de._has("cartesian"),ze=ye.hovermode||de.hovermode,Re=(ze||"").charAt(0)==="x",ve=(ze||"").charAt(0)==="y";if(Le&&(Re||ve)&&Ce==="axis"){for(var ke=oe.length,Ee=0;Ee<ke;Ee++)if(_e[Fe=oe[Ee]]){xe=u.getFromId(ge,Fe,"x"),le=u.getFromId(ge,Fe,"y");var De=(Re?xe:le)._subplotsWith;if(De&&De.length)for(var Pe=0;Pe<De.length;Pe++)b(oe,De[Pe])}}if(Ae&&Ce!=="single"){var Ue=Ae.overlays.map(function(Ut){return Ut.id});oe=oe.concat(Ue)}for(var We=oe.length,$e=new Array(We),ot=new Array(We),st=!1,mt=0;mt<We;mt++)if(_e[Fe=oe[mt]])st=!0,$e[mt]=_e[Fe].xaxis,ot[mt]=_e[Fe].yaxis;else{if(!de[Fe]||!de[Fe]._subplot)return void _.warn("Unrecognized subplot: "+Fe);var _t=de[Fe]._subplot;$e[mt]=_t.xaxis,ot[mt]=_t.yaxis}if(ze&&!st&&(ze="closest"),["x","y","closest","x unified","y unified"].indexOf(ze)===-1||!ge.calcdata||ge.querySelector(".zoombox")||ge._dragging)return l.unhoverRaw(ge,ye);var yt=de.hoverdistance;yt===-1&&(yt=1/0);var it=de.spikedistance;it===-1&&(it=1/0);var tt,Pt,Rt,Ft,Ot,Xe,Je,Ve,Ke,ft,ut,xt,bt,qe=[],je=[],lt={hLinePoint:null,vLinePoint:null},gt=!1;if(Array.isArray(ye))for(ze="array",Rt=0;Rt<ye.length;Rt++)(Ot=ge.calcdata[ye[Rt].curveNumber||0])&&(Xe=Ot[0].trace,Ot[0].trace.hoverinfo!=="skip"&&(je.push(Ot),Xe.orientation==="h"&&(gt=!0)));else{var dt,at,kt=ge.calcdata.slice();for(kt.sort(function(Ut,en){return(Ut[0].trace.zorder||0)-(en[0].trace.zorder||0)}),Ft=0;Ft<kt.length;Ft++)Ot=kt[Ft],(Xe=Ot[0].trace).hoverinfo!=="skip"&&x.isTraceInSubplots(Xe,oe)&&(je.push(Ot),Xe.orientation==="h"&&(gt=!0));if(Se){if(t.triggerHandler(ge,"plotly_beforehover",ye)===!1)return;var wt=Se.getBoundingClientRect();dt=ye.clientX-wt.left,at=ye.clientY-wt.top,de._calcInverseTransform(ge);var Et=_.apply3DTransform(de._invTransform)(dt,at);if(dt=Et[0],at=Et[1],dt<0||dt>$e[0]._length||at<0||at>ot[0]._length)return l.unhoverRaw(ge,ye)}else dt="xpx"in ye?ye.xpx:$e[0]._length/2,at="ypx"in ye?ye.ypx:ot[0]._length/2;if(ye.pointerX=dt+$e[0]._offset,ye.pointerY=at+ot[0]._offset,tt="xval"in ye?x.flat(oe,ye.xval):x.p2c($e,dt),Pt="yval"in ye?x.flat(oe,ye.yval):x.p2c(ot,at),!k(tt[0])||!k(Pt[0]))return _.warn("Fx.hover failed",ye,ge),l.unhoverRaw(ge,ye)}var Tt=1/0;function At(Ut,en){for(Ft=0;Ft<je.length;Ft++)if((Ot=je[Ft])&&Ot[0]&&Ot[0].trace&&(Xe=Ot[0].trace).visible===!0&&Xe._length!==0&&["carpet","contourcarpet"].indexOf(Xe._module.name)===-1){if(Ke=ze,x.isUnifiedHover(Ke)&&(Ke=Ke.charAt(0)),Xe.type==="splom"?Je=oe[Ve=0]:(Je=x.getSubplot(Xe),Ve=oe.indexOf(Je)),xt={cd:Ot,trace:Xe,xa:$e[Ve],ya:ot[Ve],maxHoverDistance:yt,maxSpikeDistance:it,index:!1,distance:Math.min(Tt,yt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Xe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},de[Je]&&(xt.subplot=de[Je]._subplot),de._splomScenes&&de._splomScenes[Xe.uid]&&(xt.scene=de._splomScenes[Xe.uid]),Ke==="array"){var gn=ye[Ft];"pointNumber"in gn?(xt.index=gn.pointNumber,Ke="closest"):(Ke="","xval"in gn&&(ft=gn.xval,Ke="x"),"yval"in gn&&(ut=gn.yval,Ke=Ke?"closest":"y"))}else Ut!==void 0&&en!==void 0?(ft=Ut,ut=en):(ft=tt[Ve],ut=Pt[Ve]);if(bt=qe.length,yt!==0)if(Xe._module&&Xe._module.hoverPoints){var vn=Xe._module.hoverPoints(xt,ft,ut,Ke,{finiteRange:!0,hoverLayer:de._hoverlayer,hoversubplots:Ce,gd:ge});if(vn)for(var Mn,yn=0;yn<vn.length;yn++)Mn=vn[yn],k(Mn.x0)&&k(Mn.y0)&&qe.push(H(Mn,ze))}else _.log("Unrecognized trace type in hover:",Xe);if(ze==="closest"&&qe.length>bt&&(qe.splice(0,bt),Tt=qe[0].distance),Le&&it!==0&&qe.length===0){xt.distance=it,xt.index=!1;var hn=Xe._module.hoverPoints(xt,ft,ut,"closest",{hoverLayer:de._hoverlayer});if(hn&&(hn=hn.filter(function(Rn){return Rn.spikeDistance<=it})),hn&&hn.length){var qt,Vt=hn.filter(function(Rn){return Rn.xa.showspikes&&Rn.xa.spikesnap!=="hovered data"});if(Vt.length){var an=Vt[0];k(an.x0)&&k(an.y0)&&(qt=Wt(an),(!lt.vLinePoint||lt.vLinePoint.spikeDistance>qt.spikeDistance)&&(lt.vLinePoint=qt))}var En=hn.filter(function(Rn){return Rn.ya.showspikes&&Rn.ya.spikesnap!=="hovered data"});if(En.length){var Fn=En[0];k(Fn.x0)&&k(Fn.y0)&&(qt=Wt(Fn),(!lt.hLinePoint||lt.hLinePoint.spikeDistance>qt.spikeDistance)&&(lt.hLinePoint=qt))}}}}}function Nt(Ut,en,gn){for(var vn,Mn=null,yn=1/0,hn=0;hn<Ut.length;hn++)xe&&xe._id!==Ut[hn].xa._id||le&&le._id!==Ut[hn].ya._id||(vn=Ut[hn].spikeDistance,gn&&hn===0&&(vn=-1/0),vn<=yn&&vn<=en&&(Mn=Ut[hn],yn=vn));return Mn}function Wt(Ut){return Ut?{xa:Ut.xa,ya:Ut.ya,x:Ut.xSpike!==void 0?Ut.xSpike:(Ut.x0+Ut.x1)/2,y:Ut.ySpike!==void 0?Ut.ySpike:(Ut.y0+Ut.y1)/2,distance:Ut.distance,spikeDistance:Ut.spikeDistance,curveNumber:Ut.trace.index,color:Ut.color,pointNumber:Ut.index}:null}At();var on={fullLayout:de,container:de._hoverlayer,event:ye};ge._spikepoints;var cn={vLinePoint:lt.vLinePoint,hLinePoint:lt.hLinePoint};ge._spikepoints=cn;var un=function(){var Ut=qe.filter(function(gn){return xe&&xe._id===gn.xa._id&&le&&le._id===gn.ya._id}),en=qe.filter(function(gn){return!(xe&&xe._id===gn.xa._id&&le&&le._id===gn.ya._id)});Ut.sort(I),en.sort(I),qe=function(gn,vn){for(var Mn=vn.charAt(0),yn=[],hn=[],qt=[],Vt=0;Vt<gn.length;Vt++){var an=gn[Vt];c.traceIs(an.trace,"bar-like")||c.traceIs(an.trace,"box-violin")?qt.push(an):an.trace[Mn+"period"]?hn.push(an):yn.push(an)}return yn.concat(hn).concat(qt)}(qe=Ut.concat(en),ze)};un();var Xt=ze.charAt(0),tn=(Xt==="x"||Xt==="y")&&qe[0]&&O[qe[0].trace.type];if(Le&&it!==0&&qe.length!==0){var kn=Nt(qe.filter(function(Ut){return Ut.ya.showspikes}),it,tn);lt.hLinePoint=Wt(kn);var fn=Nt(qe.filter(function(Ut){return Ut.xa.showspikes}),it,tn);lt.vLinePoint=Wt(fn)}if(qe.length===0){var Qt=l.unhoverRaw(ge,ye);return!Le||lt.hLinePoint===null&&lt.vLinePoint===null||W(ge,lt,on),Qt}if(Le&&ie()&&W(ge,lt,on),x.isXYhover(Ke)&&qe[0].length!==0&&qe[0].trace.type!=="splom"){var pn=qe[0],nn=(qe=P[pn.trace.type]?qe.filter(function(Ut){return Ut.trace.index===pn.trace.index}):[pn]).length;At(Q("x",pn,de),Q("y",pn,de));var sn,Sn=[],wn={},Dn=0,Tn=function(Ut){var en=P[Ut.trace.type]?D(Ut):Ut.trace.index;if(wn[en]){var gn=wn[en]-1,vn=Sn[gn];gn>0&&Math.abs(Ut.distance)<Math.abs(vn.distance)&&(Sn[gn]=Ut)}else Dn++,wn[en]=Dn,Sn.push(Ut)};for(sn=0;sn<nn;sn++)Tn(qe[sn]);for(sn=qe.length-1;sn>nn-1;sn--)Tn(qe[sn]);qe=Sn,un()}var Pn=ge._hoverdata,Nn=[],$n=ne(ge),pr=$(ge);for(Rt=0;Rt<qe.length;Rt++){var Hn=qe[Rt],Qn=x.makeEventData(Hn,Hn.trace,Hn.cd);if(Hn.hovertemplate!==!1){var er=!1;Hn.cd[Hn.index]&&Hn.cd[Hn.index].ht&&(er=Hn.cd[Hn.index].ht),Hn.hovertemplate=er||Hn.trace.hovertemplate||!1}if(Hn.xa&&Hn.ya){var ur=Hn.x0+Hn.xa._offset,$t=Hn.x1+Hn.xa._offset,rn=Hn.y0+Hn.ya._offset,On=Hn.y1+Hn.ya._offset,xn=Math.min(ur,$t),In=Math.max(ur,$t),Gn=Math.min(rn,On),qn=Math.max(rn,On);Qn.bbox={x0:xn+pr,x1:In+pr,y0:Gn+$n,y1:qn+$n}}Hn.eventData=[Qn],Nn.push(Qn)}ge._hoverdata=Nn;var ir=ze==="y"&&(je.length>1||qe.length>1)||ze==="closest"&&gt&&qe.length>1,dr=a.combine(de.plot_bgcolor||a.background,de.paper_bgcolor),Kt=z(qe,{gd:ge,hovermode:ze,rotateLabels:ir,bgColor:dr,container:de._hoverlayer,outerContainer:de._paper.node(),commonLabelOpts:de.hoverlabel,hoverdistance:de.hoverdistance}),bn=Kt.hoverLabels;if(x.isUnifiedHover(ze)||(function(Ut,en,gn,vn){var Mn,yn,hn,qt,Vt,an,En,Fn=en?"xa":"ya",Rn=en?"ya":"xa",jn=0,tr=1,Zn=Ut.size(),nr=new Array(Zn),Yn=0,Jn=vn.minX,cr=vn.maxX,Tr=vn.minY,gr=vn.maxY,ar=function(jr){return jr*gn._invScaleX},xr=function(jr){return jr*gn._invScaleY};function Cr(jr){var $i=jr[0],to=jr[jr.length-1];if(yn=$i.pmin-$i.pos-$i.dp+$i.size,hn=to.pos+to.dp+to.size-$i.pmax,yn>.01){for(Vt=jr.length-1;Vt>=0;Vt--)jr[Vt].dp+=yn;Mn=!1}if(!(hn<.01)){if(yn<-.01){for(Vt=jr.length-1;Vt>=0;Vt--)jr[Vt].dp-=hn;Mn=!1}if(Mn){var Xi=0;for(qt=0;qt<jr.length;qt++)(an=jr[qt]).pos+an.dp+an.size>$i.pmax&&Xi++;for(qt=jr.length-1;qt>=0&&!(Xi<=0);qt--)(an=jr[qt]).pos>$i.pmax-1&&(an.del=!0,Xi--);for(qt=0;qt<jr.length&&!(Xi<=0);qt++)if((an=jr[qt]).pos<$i.pmin+1)for(an.del=!0,Xi--,hn=2*an.size,Vt=jr.length-1;Vt>=0;Vt--)jr[Vt].dp-=hn;for(qt=jr.length-1;qt>=0&&!(Xi<=0);qt--)(an=jr[qt]).pos+an.dp+an.size>$i.pmax&&(an.del=!0,Xi--)}}}for(Ut.each(function(jr){var $i=jr[Fn],to=jr[Rn],Xi=$i._id.charAt(0)==="x",Ko=$i.range;Yn===0&&Ko&&Ko[0]>Ko[1]!==Xi&&(tr=-1);var ms=0,da=Xi?gn.width:gn.height;if(gn.hovermode==="x"||gn.hovermode==="y"){var Oo,Io,ys=X(jr,en),no=jr.anchor,po=no==="end"?-1:1;if(no==="middle")Io=(Oo=jr.crossPos+(Xi?xr(ys.y-jr.by/2):ar(jr.bx/2+jr.tx2width/2)))+(Xi?xr(jr.by):ar(jr.bx));else if(Xi)Io=(Oo=jr.crossPos+xr(A+ys.y)-xr(jr.by/2-A))+xr(jr.by);else{var go=ar(po*A+ys.x),hi=go+ar(po*jr.bx);Oo=jr.crossPos+Math.min(go,hi),Io=jr.crossPos+Math.max(go,hi)}Xi?Tr!==void 0&&gr!==void 0&&Math.min(Io,gr)-Math.max(Oo,Tr)>1&&(to.side==="left"?(ms=to._mainLinePosition,da=gn.width):da=to._mainLinePosition):Jn!==void 0&&cr!==void 0&&Math.min(Io,cr)-Math.max(Oo,Jn)>1&&(to.side==="top"?(ms=to._mainLinePosition,da=gn.height):da=to._mainLinePosition)}nr[Yn++]=[{datum:jr,traceIndex:jr.trace.index,dp:0,pos:jr.pos,posref:jr.posref,size:jr.by*(Xi?w:1)/2,pmin:ms,pmax:da}]}),nr.sort(function(jr,$i){return jr[0].posref-$i[0].posref||tr*($i[0].traceIndex-jr[0].traceIndex)});!Mn&&jn<=Zn;){for(jn++,Mn=!0,qt=0;qt<nr.length-1;){var Nr=nr[qt],xi=nr[qt+1],Li=Nr[Nr.length-1],Ji=xi[0];if((yn=Li.pos+Li.dp+Li.size-Ji.pos-Ji.dp+Ji.size)>.01){for(Vt=xi.length-1;Vt>=0;Vt--)xi[Vt].dp+=yn;for(Nr.push.apply(Nr,xi),nr.splice(qt+1,1),En=0,Vt=Nr.length-1;Vt>=0;Vt--)En+=Nr[Vt].dp;for(hn=En/Nr.length,Vt=Nr.length-1;Vt>=0;Vt--)Nr[Vt].dp-=hn;Mn=!1}else qt++}nr.forEach(Cr)}for(qt=nr.length-1;qt>=0;qt--){var gi=nr[qt];for(Vt=gi.length-1;Vt>=0;Vt--){var Oi=gi[Vt],Pa=Oi.datum;Pa.offset=Oi.dp,Pa.del=Oi.del}}}(bn,ir,de,Kt.commonLabelBoundingBox),F(bn,ir,de._invScaleX,de._invScaleY)),Se&&Se.tagName){var Dt=c.getComponentMethod("annotations","hasClickToShow")(ge,Nn);r(T.select(Se),Dt?"pointer":"")}Se&&!Te&&function(Ut,en,gn){if(!gn||gn.length!==Ut._hoverdata.length)return!0;for(var vn=gn.length-1;vn>=0;vn--){var Mn=gn[vn],yn=Ut._hoverdata[vn];if(Mn.curveNumber!==yn.curveNumber||String(Mn.pointNumber)!==String(yn.pointNumber)||String(Mn.pointNumbers)!==String(yn.pointNumbers))return!0}return!1}(ge,0,Pn)&&(Pn&&ge.emit("plotly_unhover",{event:ye,points:Pn}),ge.emit("plotly_hover",{event:ye,points:ge._hoverdata,xaxes:$e,yaxes:ot,xvals:tt,yvals:Pt}))})(re,se,ue,he,pe)})},C.loneHover=function(re,se){var ue=!0;Array.isArray(re)||(ue=!1,re=[re]);var he=se.gd,pe=ne(he),ge=$(he),ye=z(re.map(function(Se){var Fe=Se._x0||Se.x0||Se.x||0,xe=Se._x1||Se.x1||Se.x||0,le=Se._y0||Se.y0||Se.y||0,oe=Se._y1||Se.y1||Se.y||0,de=Se.eventData;if(de){var Ce=Math.min(Fe,xe),_e=Math.max(Fe,xe),Ae=Math.min(le,oe),Le=Math.max(le,oe),ze=Se.trace;if(c.traceIs(ze,"gl3d")){var Re=he._fullLayout[ze.scene]._scene.container,ve=Re.offsetLeft,ke=Re.offsetTop;Ce+=ve,_e+=ve,Ae+=ke,Le+=ke}de.bbox={x0:Ce+ge,x1:_e+ge,y0:Ae+pe,y1:Le+pe},se.inOut_bbox&&se.inOut_bbox.push(de.bbox)}else de=!1;return{color:Se.color||a.defaultLine,x0:Se.x0||Se.x||0,x1:Se.x1||Se.x||0,y0:Se.y0||Se.y||0,y1:Se.y1||Se.y||0,xLabel:Se.xLabel,yLabel:Se.yLabel,zLabel:Se.zLabel,text:Se.text,name:Se.name,idealAlign:Se.idealAlign,borderColor:Se.borderColor,fontFamily:Se.fontFamily,fontSize:Se.fontSize,fontColor:Se.fontColor,fontWeight:Se.fontWeight,fontStyle:Se.fontStyle,fontVariant:Se.fontVariant,nameLength:Se.nameLength,textAlign:Se.textAlign,trace:Se.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Se.hovertemplate||!1,hovertemplateLabels:Se.hovertemplateLabels||!1,eventData:de}}),{gd:he,hovermode:"closest",rotateLabels:!1,bgColor:se.bgColor||a.background,container:T.select(se.container),outerContainer:se.outerContainer||se.container}).hoverLabels,be=0,Te=0;return ye.sort(function(Se,Fe){return Se.y0-Fe.y0}).each(function(Se,Fe){var xe=Se.y0-Se.by/2;Se.offset=xe-5<be?be-xe+5:0,be=xe+Se.by+Se.offset,Fe===se.anchorIndex&&(Te=Se.offset)}).each(function(Se){Se.offset-=Te}),F(ye,!1,he._fullLayout._invScaleX,he._fullLayout._invScaleY),ue?ye:ye.node()};var V=/<extra>([\s\S]*)<\/extra>/;function z(re,se){var ue=se.gd,he=ue._fullLayout,pe=se.hovermode,ge=se.rotateLabels,ye=se.bgColor,be=se.container,Te=se.outerContainer,Se=se.commonLabelOpts||{};if(re.length===0)return[[]];var Fe=se.fontFamily||p.HOVERFONT,xe=se.fontSize||p.HOVERFONTSIZE,le=se.fontWeight||he.font.weight,oe=se.fontStyle||he.font.style,de=se.fontVariant||he.font.variant,Ce=se.fontTextcase||he.font.textcase,_e=se.fontLineposition||he.font.lineposition,Ae=se.fontShadow||he.font.shadow,Le=re[0],ze=Le.xa,Re=Le.ya,ve=pe.charAt(0),ke=ve+"Label",Ee=Le[ke];if(Ee===void 0&&ze.type==="multicategory")for(var De=0;De<re.length&&(Ee=re[De][ke])===void 0;De++);var Pe=J(ue,Te),Ue=Pe.top,We=Pe.width,$e=Pe.height,ot=Ee!==void 0&&Le.distance<=se.hoverdistance&&(pe==="x"||pe==="y");if(ot){var st,mt,_t=!0;for(st=0;st<re.length;st++)if(_t&&re[st].zLabel===void 0&&(_t=!1),mt=re[st].hoverinfo||re[st].trace.hoverinfo){var yt=Array.isArray(mt)?mt:mt.split("+");if(yt.indexOf("all")===-1&&yt.indexOf(pe)===-1){ot=!1;break}}_t&&(ot=!1)}var it=be.selectAll("g.axistext").data(ot?[0]:[]);it.enter().append("g").classed("axistext",!0),it.exit().remove();var tt={minX:0,maxX:0,minY:0,maxY:0};if(it.each(function(){var tn=T.select(this),kn=_.ensureSingle(tn,"path","",function(In){In.style({"stroke-width":"1px"})}),fn=_.ensureSingle(tn,"text","",function(In){In.attr("data-notex",1)}),Qt=Se.bgcolor||a.defaultLine,pn=Se.bordercolor||a.contrast(Qt),nn=a.contrast(Qt),sn=Se.font,Sn={weight:sn.weight||le,style:sn.style||oe,variant:sn.variant||de,textcase:sn.textcase||Ce,lineposition:sn.lineposition||_e,shadow:sn.shadow||Ae,family:sn.family||Fe,size:sn.size||xe,color:sn.color||nn};kn.style({fill:Qt,stroke:pn}),fn.text(Ee).call(n.font,Sn).call(i.positionText,0,0).call(i.convertToTspans,ue),tn.attr("transform","");var wn,Dn,Tn=J(ue,fn.node());if(pe==="x"){var Pn=ze.side==="top"?"-":"";fn.attr("text-anchor","middle").call(i.positionText,0,ze.side==="top"?Ue-Tn.bottom-A-E:Ue-Tn.top+A+E),wn=ze._offset+(Le.x0+Le.x1)/2,Dn=Re._offset+(ze.side==="top"?0:Re._length);var Nn=Tn.width/2+E,$n=wn;wn<Nn?$n=Nn:wn>he.width-Nn&&($n=he.width-Nn),kn.attr("d","M"+(wn-$n)+",0L"+(wn-$n+A)+","+Pn+A+"H"+Nn+"v"+Pn+(2*E+Tn.height)+"H"+-Nn+"V"+Pn+A+"H"+(wn-$n-A)+"Z"),wn=$n,tt.minX=wn-Nn,tt.maxX=wn+Nn,ze.side==="top"?(tt.minY=Dn-(2*E+Tn.height),tt.maxY=Dn-E):(tt.minY=Dn+E,tt.maxY=Dn+(2*E+Tn.height))}else{var pr,Hn,Qn;Re.side==="right"?(pr="start",Hn=1,Qn="",wn=ze._offset+ze._length):(pr="end",Hn=-1,Qn="-",wn=ze._offset),Dn=Re._offset+(Le.y0+Le.y1)/2,fn.attr("text-anchor",pr),kn.attr("d","M0,0L"+Qn+A+","+A+"V"+(E+Tn.height/2)+"h"+Qn+(2*E+Tn.width)+"V-"+(E+Tn.height/2)+"H"+Qn+A+"V-"+A+"Z"),tt.minY=Dn-(E+Tn.height/2),tt.maxY=Dn+(E+Tn.height/2),Re.side==="right"?(tt.minX=wn+A,tt.maxX=wn+A+(2*E+Tn.width)):(tt.minX=wn-A-(2*E+Tn.width),tt.maxX=wn-A);var er,ur=Tn.height/2,$t=Ue-Tn.top-ur,rn="clip"+he._uid+"commonlabel"+Re._id;if(wn<Tn.width+2*E+A){er="M-"+(A+E)+"-"+ur+"h-"+(Tn.width-E)+"V"+ur+"h"+(Tn.width-E)+"Z";var On=Tn.width-wn+E;i.positionText(fn,On,$t),pr==="end"&&fn.selectAll("tspan").each(function(){var In=T.select(this),Gn=n.tester.append("text").text(In.text()).call(n.font,Sn),qn=J(ue,Gn.node());Math.round(qn.width)<Math.round(Tn.width)&&In.attr("x",On-qn.width),Gn.remove()})}else i.positionText(fn,Hn*(E+A),$t),er=null;var xn=he._topclips.selectAll("#"+rn).data(er?[0]:[]);xn.enter().append("clipPath").attr("id",rn).append("path"),xn.exit().remove(),xn.select("path").attr("d",er),n.setClipUrl(fn,er?rn:null,ue)}tn.attr("transform",f(wn,Dn))}),x.isUnifiedHover(pe)){be.selectAll("g.hovertext").remove();var Pt=re.filter(function(tn){return tn.hoverinfo!=="none"});if(Pt.length===0)return[];var Rt=he.hoverlabel,Ft=Rt.font,Ot={showlegend:!0,legend:{title:{text:Ee,font:Ft},font:Ft,bgcolor:Rt.bgcolor,bordercolor:Rt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:he.legend?he.legend.traceorder:void 0,orientation:"v"}},Xe={font:Ft};v(Ot,Xe,ue._fullData);var Je=Xe.legend;Je.entries=[];for(var Ve=0;Ve<Pt.length;Ve++){var Ke=Pt[Ve];if(Ke.hoverinfo!=="none"){var ft=j(Ke,!0,pe,he,Ee),ut=ft[0],xt=ft[1];Ke.name=xt,Ke.text=xt!==""?xt+" : "+ut:ut;var bt=Ke.cd[Ke.index];bt&&(bt.mc&&(Ke.mc=bt.mc),bt.mcc&&(Ke.mc=bt.mcc),bt.mlc&&(Ke.mlc=bt.mlc),bt.mlcc&&(Ke.mlc=bt.mlcc),bt.mlw&&(Ke.mlw=bt.mlw),bt.mrc&&(Ke.mrc=bt.mrc),bt.dir&&(Ke.dir=bt.dir)),Ke._distinct=!0,Je.entries.push([Ke])}}Je.entries.sort(function(tn,kn){return tn[0].trace.index-kn[0].trace.index}),Je.layer=be,Je._inHover=!0,Je._groupTitleFont=Rt.grouptitlefont,g(ue,Je);var qe,je,lt,gt,dt=be.select("g.legend"),at=J(ue,dt.node()),kt=at.width+2*E,wt=at.height+2*E,Et=Pt[0],Tt=(Et.x0+Et.x1)/2,At=(Et.y0+Et.y1)/2,Nt=!(c.traceIs(Et.trace,"bar-like")||c.traceIs(Et.trace,"box-violin"));ve==="y"?Nt?(je=At-E,qe=At+E):(je=Math.min.apply(null,Pt.map(function(tn){return Math.min(tn.y0,tn.y1)})),qe=Math.max.apply(null,Pt.map(function(tn){return Math.max(tn.y0,tn.y1)}))):je=qe=_.mean(Pt.map(function(tn){return(tn.y0+tn.y1)/2}))-wt/2,ve==="x"?Nt?(lt=Tt+E,gt=Tt-E):(lt=Math.max.apply(null,Pt.map(function(tn){return Math.max(tn.x0,tn.x1)})),gt=Math.min.apply(null,Pt.map(function(tn){return Math.min(tn.x0,tn.x1)}))):lt=gt=_.mean(Pt.map(function(tn){return(tn.x0+tn.x1)/2}))-kt/2;var Wt,on,cn=ze._offset,un=Re._offset;return gt+=cn-kt,je+=un-wt,Wt=(lt+=cn)+kt<We&&lt>=0?lt:gt+kt<We&&gt>=0?gt:cn+kt<We?cn:lt-Tt<Tt-gt+kt?We-kt:0,Wt+=E,on=(qe+=un)+wt<$e&&qe>=0?qe:je+wt<$e&&je>=0?je:un+wt<$e?un:qe-At<At-je+wt?$e-wt:0,on+=E,dt.attr("transform",f(Wt-1,on-1)),dt}var Xt=be.selectAll("g.hovertext").data(re,function(tn){return D(tn)});return Xt.enter().append("g").classed("hovertext",!0).each(function(){var tn=T.select(this);tn.append("rect").call(a.fill,a.addOpacity(ye,.8)),tn.append("text").classed("name",!0),tn.append("path").style("stroke-width","1px"),tn.append("text").classed("nums",!0).call(n.font,{weight:le,style:oe,variant:de,textcase:Ce,lineposition:_e,shadow:Ae,family:Fe,size:xe})}),Xt.exit().remove(),Xt.each(function(tn){var kn=T.select(this).attr("transform",""),fn=tn.color;Array.isArray(fn)&&(fn=fn[tn.eventData[0].pointNumber]);var Qt=tn.bgcolor||fn,pn=a.combine(a.opacity(Qt)?Qt:a.defaultLine,ye),nn=a.combine(a.opacity(fn)?fn:a.defaultLine,ye),sn=tn.borderColor||a.contrast(pn),Sn=j(tn,ot,pe,he,Ee,kn),wn=Sn[0],Dn=Sn[1],Tn=kn.select("text.nums").call(n.font,{family:tn.fontFamily||Fe,size:tn.fontSize||xe,color:tn.fontColor||sn,weight:tn.fontWeight||le,style:tn.fontStyle||oe,variant:tn.fontVariant||de,textcase:tn.fontTextcase||Ce,lineposition:tn.fontLineposition||_e,shadow:tn.fontShadow||Ae}).text(wn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue),Pn=kn.select("text.name"),Nn=0,$n=0;if(Dn&&Dn!==wn){Pn.call(n.font,{family:tn.fontFamily||Fe,size:tn.fontSize||xe,color:nn,weight:tn.fontWeight||le,style:tn.fontStyle||oe,variant:tn.fontVariant||de,textcase:tn.fontTextcase||Ce,lineposition:tn.fontLineposition||_e,shadow:tn.fontShadow||Ae}).text(Dn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue);var pr=J(ue,Pn.node());Nn=pr.width+2*E,$n=pr.height+2*E}else Pn.remove(),kn.select("rect").remove();kn.select("path").style({fill:pn,stroke:sn});var Hn=tn.xa._offset+(tn.x0+tn.x1)/2,Qn=tn.ya._offset+(tn.y0+tn.y1)/2,er=Math.abs(tn.x1-tn.x0),ur=Math.abs(tn.y1-tn.y0),$t=J(ue,Tn.node()),rn=$t.width/he._invScaleX,On=$t.height/he._invScaleY;tn.ty0=(Ue-$t.top)/he._invScaleY,tn.bx=rn+2*E,tn.by=Math.max(On+2*E,$n),tn.anchor="start",tn.txwidth=rn,tn.tx2width=Nn,tn.offset=0;var xn,In,Gn=(rn+A+E+Nn)*he._invScaleX;if(ge)tn.pos=Hn,xn=Qn+ur/2+Gn<=$e,In=Qn-ur/2-Gn>=0,tn.idealAlign!=="top"&&xn||!In?xn?(Qn+=ur/2,tn.anchor="start"):tn.anchor="middle":(Qn-=ur/2,tn.anchor="end"),tn.crossPos=Qn;else{if(tn.pos=Qn,xn=Hn+er/2+Gn<=We,In=Hn-er/2-Gn>=0,tn.idealAlign!=="left"&&xn||!In)if(xn)Hn+=er/2,tn.anchor="start";else{tn.anchor="middle";var qn=Gn/2,ir=Hn+qn-We,dr=Hn-qn;ir>0&&(Hn-=ir),dr<0&&(Hn+=-dr)}else Hn-=er/2,tn.anchor="end";tn.crossPos=Hn}Tn.attr("text-anchor",tn.anchor),Nn&&Pn.attr("text-anchor",tn.anchor),kn.attr("transform",f(Hn,Qn)+(ge?s(y):""))}),{hoverLabels:Xt,commonLabelBoundingBox:tt}}function j(re,se,ue,he,pe,ge){var ye="",be="";re.nameOverride!==void 0&&(re.name=re.nameOverride),re.name&&(re.trace._meta&&(re.name=_.templateString(re.name,re.trace._meta)),ye=te(re.name,re.nameLength));var Te=ue.charAt(0),Se=Te==="x"?"y":"x";re.zLabel!==void 0?(re.xLabel!==void 0&&(be+="x: "+re.xLabel+"<br>"),re.yLabel!==void 0&&(be+="y: "+re.yLabel+"<br>"),re.trace.type!=="choropleth"&&re.trace.type!=="choroplethmapbox"&&(be+=(be?"z: ":"")+re.zLabel)):se&&re[Te+"Label"]===pe?be=re[Se+"Label"]||"":re.xLabel===void 0?re.yLabel!==void 0&&re.trace.type!=="scattercarpet"&&(be=re.yLabel):be=re.yLabel===void 0?re.xLabel:"("+re.xLabel+", "+re.yLabel+")",!re.text&&re.text!==0||Array.isArray(re.text)||(be+=(be?"<br>":"")+re.text),re.extraText!==void 0&&(be+=(be?"<br>":"")+re.extraText),ge&&be===""&&!re.hovertemplate&&(ye===""&&ge.remove(),be=ye);var Fe=re.hovertemplate||!1;if(Fe){var xe=re.hovertemplateLabels||re;re[Te+"Label"]!==pe&&(xe[Te+"other"]=xe[Te+"Val"],xe[Te+"otherLabel"]=xe[Te+"Label"]),be=(be=_.hovertemplateString(Fe,xe,he._d3locale,re.eventData[0]||{},re.trace._meta)).replace(V,function(le,oe){return ye=te(oe,re.nameLength),""})}return[be,ye]}function X(re,se){var ue=0,he=re.offset;return se&&(he*=-S,ue=re.offset*d),{x:ue,y:he}}function F(re,se,ue,he){var pe=function(ye){return ye*ue},ge=function(ye){return ye*he};re.each(function(ye){var be=T.select(this);if(ye.del)return be.remove();var Te,Se,Fe,xe,le=be.select("text.nums"),oe=ye.anchor,de=oe==="end"?-1:1,Ce=(xe=(Fe=(Se={start:1,end:-1,middle:0}[(Te=ye).anchor])*(A+E))+Se*(Te.txwidth+E),Te.anchor==="middle"&&(Fe-=Te.tx2width/2,xe+=Te.txwidth/2+E),{alignShift:Se,textShiftX:Fe,text2ShiftX:xe}),_e=X(ye,se),Ae=_e.x,Le=_e.y,ze=oe==="middle";be.select("path").attr("d",ze?"M-"+pe(ye.bx/2+ye.tx2width/2)+","+ge(Le-ye.by/2)+"h"+pe(ye.bx)+"v"+ge(ye.by)+"h-"+pe(ye.bx)+"Z":"M0,0L"+pe(de*A+Ae)+","+ge(A+Le)+"v"+ge(ye.by/2-A)+"h"+pe(de*ye.bx)+"v-"+ge(ye.by)+"H"+pe(de*A+Ae)+"V"+ge(Le-A)+"Z");var Re=Ae+Ce.textShiftX,ve=Le+ye.ty0-ye.by/2+E,ke=ye.textAlign||"auto";ke!=="auto"&&(ke==="left"&&oe!=="start"?(le.attr("text-anchor","start"),Re=ze?-ye.bx/2-ye.tx2width/2+E:-ye.bx-E):ke==="right"&&oe!=="end"&&(le.attr("text-anchor","end"),Re=ze?ye.bx/2-ye.tx2width/2-E:ye.bx+E)),le.call(i.positionText,pe(Re),ge(ve)),ye.tx2width&&(be.select("text.name").call(i.positionText,pe(Ce.text2ShiftX+Ce.alignShift*E+Ae),ge(Le+ye.ty0-ye.by/2+E)),be.select("rect").call(n.setRect,pe(Ce.text2ShiftX+(Ce.alignShift-1)*ye.tx2width/2+Ae),ge(Le-ye.by/2-1),pe(ye.tx2width),ge(ye.by+2)))})}function H(re,se){var ue=re.index,he=re.trace||{},pe=re.cd[0],ge=re.cd[ue]||{};function ye(le){return le||k(le)&&le===0}var be=Array.isArray(ue)?function(le,oe){var de=_.castOption(pe,ue,le);return ye(de)?de:_.extractOption({},he,"",oe)}:function(le,oe){return _.extractOption(ge,he,le,oe)};function Te(le,oe,de){var Ce=be(oe,de);ye(Ce)&&(re[le]=Ce)}if(Te("hoverinfo","hi","hoverinfo"),Te("bgcolor","hbg","hoverlabel.bgcolor"),Te("borderColor","hbc","hoverlabel.bordercolor"),Te("fontFamily","htf","hoverlabel.font.family"),Te("fontSize","hts","hoverlabel.font.size"),Te("fontColor","htc","hoverlabel.font.color"),Te("fontWeight","htw","hoverlabel.font.weight"),Te("fontStyle","hty","hoverlabel.font.style"),Te("fontVariant","htv","hoverlabel.font.variant"),Te("nameLength","hnl","hoverlabel.namelength"),Te("textAlign","hta","hoverlabel.align"),re.posref=se==="y"||se==="closest"&&he.orientation==="h"?re.xa._offset+(re.x0+re.x1)/2:re.ya._offset+(re.y0+re.y1)/2,re.x0=_.constrain(re.x0,0,re.xa._length),re.x1=_.constrain(re.x1,0,re.xa._length),re.y0=_.constrain(re.y0,0,re.ya._length),re.y1=_.constrain(re.y1,0,re.ya._length),re.xLabelVal!==void 0&&(re.xLabel="xLabel"in re?re.xLabel:u.hoverLabelText(re.xa,re.xLabelVal,he.xhoverformat),re.xVal=re.xa.c2d(re.xLabelVal)),re.yLabelVal!==void 0&&(re.yLabel="yLabel"in re?re.yLabel:u.hoverLabelText(re.ya,re.yLabelVal,he.yhoverformat),re.yVal=re.ya.c2d(re.yLabelVal)),re.zLabelVal!==void 0&&re.zLabel===void 0&&(re.zLabel=String(re.zLabelVal)),!(isNaN(re.xerr)||re.xa.type==="log"&&re.xerr<=0)){var Se=u.tickText(re.xa,re.xa.c2l(re.xerr),"hover").text;re.xerrneg!==void 0?re.xLabel+=" +"+Se+" / -"+u.tickText(re.xa,re.xa.c2l(re.xerrneg),"hover").text:re.xLabel+="  "+Se,se==="x"&&(re.distance+=1)}if(!(isNaN(re.yerr)||re.ya.type==="log"&&re.yerr<=0)){var Fe=u.tickText(re.ya,re.ya.c2l(re.yerr),"hover").text;re.yerrneg!==void 0?re.yLabel+=" +"+Fe+" / -"+u.tickText(re.ya,re.ya.c2l(re.yerrneg),"hover").text:re.yLabel+="  "+Fe,se==="y"&&(re.distance+=1)}var xe=re.hoverinfo||re.trace.hoverinfo;return xe&&xe!=="all"&&((xe=Array.isArray(xe)?xe:xe.split("+")).indexOf("x")===-1&&(re.xLabel=void 0),xe.indexOf("y")===-1&&(re.yLabel=void 0),xe.indexOf("z")===-1&&(re.zLabel=void 0),xe.indexOf("text")===-1&&(re.text=void 0),xe.indexOf("name")===-1&&(re.name=void 0)),re}function W(re,se,ue){var he,pe,ge=ue.container,ye=ue.fullLayout,be=ye._size,Te=ue.event,Se=!!se.hLinePoint,Fe=!!se.vLinePoint;if(ge.selectAll(".spikeline").remove(),Fe||Se){var xe=a.combine(ye.plot_bgcolor,ye.paper_bgcolor);if(Se){var le,oe,de=se.hLinePoint;he=de&&de.xa,(pe=de&&de.ya).spikesnap==="cursor"?(le=Te.pointerX,oe=Te.pointerY):(le=he._offset+de.x,oe=pe._offset+de.y);var Ce,_e,Ae=o.readability(de.color,xe)<1.5?a.contrast(xe):de.color,Le=pe.spikemode,ze=pe.spikethickness,Re=pe.spikecolor||Ae,ve=u.getPxPosition(re,pe);if(Le.indexOf("toaxis")!==-1||Le.indexOf("across")!==-1){if(Le.indexOf("toaxis")!==-1&&(Ce=ve,_e=le),Le.indexOf("across")!==-1){var ke=pe._counterDomainMin,Ee=pe._counterDomainMax;pe.anchor==="free"&&(ke=Math.min(ke,pe.position),Ee=Math.max(Ee,pe.position)),Ce=be.l+ke*be.w,_e=be.l+Ee*be.w}ge.insert("line",":first-child").attr({x1:Ce,x2:_e,y1:oe,y2:oe,"stroke-width":ze,stroke:Re,"stroke-dasharray":n.dashStyle(pe.spikedash,ze)}).classed("spikeline",!0).classed("crisp",!0),ge.insert("line",":first-child").attr({x1:Ce,x2:_e,y1:oe,y2:oe,"stroke-width":ze+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}Le.indexOf("marker")!==-1&&ge.insert("circle",":first-child").attr({cx:ve+(pe.side!=="right"?ze:-ze),cy:oe,r:ze,fill:Re}).classed("spikeline",!0)}if(Fe){var De,Pe,Ue=se.vLinePoint;he=Ue&&Ue.xa,pe=Ue&&Ue.ya,he.spikesnap==="cursor"?(De=Te.pointerX,Pe=Te.pointerY):(De=he._offset+Ue.x,Pe=pe._offset+Ue.y);var We,$e,ot=o.readability(Ue.color,xe)<1.5?a.contrast(xe):Ue.color,st=he.spikemode,mt=he.spikethickness,_t=he.spikecolor||ot,yt=u.getPxPosition(re,he);if(st.indexOf("toaxis")!==-1||st.indexOf("across")!==-1){if(st.indexOf("toaxis")!==-1&&(We=yt,$e=Pe),st.indexOf("across")!==-1){var it=he._counterDomainMin,tt=he._counterDomainMax;he.anchor==="free"&&(it=Math.min(it,he.position),tt=Math.max(tt,he.position)),We=be.t+(1-tt)*be.h,$e=be.t+(1-it)*be.h}ge.insert("line",":first-child").attr({x1:De,x2:De,y1:We,y2:$e,"stroke-width":mt,stroke:_t,"stroke-dasharray":n.dashStyle(he.spikedash,mt)}).classed("spikeline",!0).classed("crisp",!0),ge.insert("line",":first-child").attr({x1:De,x2:De,y1:We,y2:$e,"stroke-width":mt+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}st.indexOf("marker")!==-1&&ge.insert("circle",":first-child").attr({cx:De,cy:yt-(he.side!=="top"?mt:-mt),r:mt,fill:_t}).classed("spikeline",!0)}}}function ie(re,se){return!se}function te(re,se){return i.plainText(re||"",{len:se,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Q(re,se,ue){var he=se[re+"a"],pe=se[re+"Val"],ge=se.cd[0];if(he.type==="category"||he.type==="multicategory")pe=he._categoriesMap[pe];else if(he.type==="date"){var ye=se.trace[re+"periodalignment"];if(ye){var be=se.cd[se.index],Te=be[re+"Start"];Te===void 0&&(Te=be[re]);var Se=be[re+"End"];Se===void 0&&(Se=be[re]);var Fe=Se-Te;ye==="end"?pe+=Fe:ye==="middle"&&(pe+=Fe/2)}pe=he.d2c(pe)}return ge&&ge.t&&ge.t.posLetter===he._id&&(ue.boxmode!=="group"&&ue.violinmode!=="group"||(pe+=ge.t.dPos)),pe}function ne(re){return re.offsetTop+re.clientTop}function $(re){return re.offsetLeft+re.clientLeft}function J(re,se){var ue=re._fullLayout,he=se.getBoundingClientRect(),pe=he.left,ge=he.top,ye=pe+he.width,be=ge+he.height,Te=_.apply3DTransform(ue._invTransform)(pe,ge),Se=_.apply3DTransform(ue._invTransform)(ye,be),Fe=Te[0],xe=Te[1],le=Se[0],oe=Se[1];return{x:Fe,y:xe,width:le-Fe,height:oe-xe,top:Math.min(xe,oe),left:Math.min(Fe,le),right:Math.max(Fe,le),bottom:Math.max(xe,oe)}}},16132:function(U,C,e){var T=e(3400),k=e(76308),o=e(10624).isUnifiedHover;U.exports=function(_,b,f,s){s=s||{};var t=b.legend;function i(r){s.font[r]||(s.font[r]=t?b.legend.font[r]:b.font[r])}b&&o(b.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),t?(s.bgcolor||(s.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),s.bordercolor||(s.bordercolor=b.legend.bordercolor)):s.bgcolor||(s.bgcolor=b.paper_bgcolor)),f("hoverlabel.bgcolor",s.bgcolor),f("hoverlabel.bordercolor",s.bordercolor),f("hoverlabel.namelength",s.namelength),T.coerceFont(f,"hoverlabel.font",s.font),f("hoverlabel.align",s.align)}},41008:function(U,C,e){var T=e(3400),k=e(65460);U.exports=function(o,_){function b(f,s){return _[f]!==void 0?_[f]:T.coerce(o,_,k,f,s)}return b("clickmode"),b("hoversubplots"),b("hovermode")}},93024:function(U,C,e){var T=e(33428),k=e(3400),o=e(86476),_=e(10624),b=e(65460),f=e(83292);U.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:_.getDistanceFunction,getClosest:_.getClosest,inbox:_.inbox,quadrature:_.quadrature,appendArrayPointValue:_.appendArrayPointValue,castHoverOption:function(s,t,i){return k.castOption(s,t,"hoverlabel."+i)},castHoverinfo:function(s,t,i){return k.castOption(s,i,"hoverinfo",function(r){return k.coerceHoverinfo({hoverinfo:r},{_module:s._module},t)})},hover:f.hover,unhover:o.unhover,loneHover:f.loneHover,loneUnhover:function(s){var t=k.isD3Selection(s)?s:T.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(U,C,e){var T=e(92456),k=e(25376),o=k({editType:"none"});o.family.dflt=T.HOVERFONT,o.size.dflt=T.HOVERFONTSIZE,U.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(U,C,e){var T=e(3400),k=e(65460),o=e(41008),_=e(16132);U.exports=function(b,f){function s(n,a){return T.coerce(b,f,k,n,a)}o(b,f)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var t=f._has("mapbox"),i=f._has("geo"),r=f._basePlotModules.length;f.dragmode==="zoom"&&((t||i)&&r===1||t&&i&&r===2)&&(f.dragmode="pan"),_(b,f,s),T.coerceFont(s,"hoverlabel.grouptitlefont",f.hoverlabel.font)}},81976:function(U,C,e){var T=e(3400),k=e(16132),o=e(65460);U.exports=function(_,b){k(_,b,function(f,s){return T.coerce(_,b,o,f,s)})}},12704:function(U,C,e){var T=e(3400),k=e(53756).counter,o=e(86968).u,_=e(33816).idRegex,b=e(31780),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(r,n,a){var l=n[a+"axes"],u=Object.keys((r._splomAxes||{})[a]||{});return Array.isArray(l)?l:u.length?u:void 0}function t(r,n,a,l,u,h){var c=n(r+"gap",a),x=n("domain."+r);n(r+"side",l);for(var p=new Array(u),v=x[0],g=(x[1]-v)/(u-c),y=g*(1-c),m=0;m<u;m++){var w=v+g*m;p[h?u-1-m:m]=[w,w+y]}return p}function i(r,n,a,l,u){var h,c=new Array(a);function x(p,v){n.indexOf(v)!==-1&&l[v]===void 0?(c[p]=v,l[v]=p):c[p]=""}if(Array.isArray(r))for(h=0;h<a;h++)x(h,r[h]);else for(x(0,u),h=1;h<a;h++)x(h,u+(h+1));return c}U.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:function(r,n){var a=r.grid||{},l=s(n,a,"x"),u=s(n,a,"y");if(r.grid||l||u){var h,c,x=Array.isArray(a.subplots)&&Array.isArray(a.subplots[0]),p=Array.isArray(l),v=Array.isArray(u),g=p&&l!==a.xaxes&&v&&u!==a.yaxes;x?(h=a.subplots.length,c=a.subplots[0].length):(v&&(h=u.length),p&&(c=l.length));var y=b.newContainer(n,"grid"),m=O("rows",h),w=O("columns",c);if(m*w>1){x||p||v||O("pattern")==="independent"&&(x=!0),y._hasSubplotGrid=x;var d,S,A=O("roworder")==="top to bottom",E=x?.2:.1,P=x?.3:.1;g&&n._splomGridDflt&&(d=n._splomGridDflt.xside,S=n._splomGridDflt.yside),y._domains={x:t("x",O,E,d,w),y:t("y",O,P,S,m,A)}}else delete n.grid}function O(I,D){return T.coerce(a,y,f,I,D)}},contentDefaults:function(r,n){var a=n.grid;if(a&&a._domains){var l,u,h,c,x,p,v,g=r.grid||{},y=n._subplots,m=a._hasSubplotGrid,w=a.rows,d=a.columns,S=a.pattern==="independent",A=a._axisMap={};if(m){var E=g.subplots||[];p=a.subplots=new Array(w);var P=1;for(l=0;l<w;l++){var O=p[l]=new Array(d),I=E[l]||[];for(u=0;u<d;u++)if(S?(x=P===1?"xy":"x"+P+"y"+P,P++):x=I[u],O[u]="",y.cartesian.indexOf(x)!==-1){if(v=x.indexOf("y"),h=x.slice(0,v),c=x.slice(v),A[h]!==void 0&&A[h]!==u||A[c]!==void 0&&A[c]!==l)continue;O[u]=x,A[h]=u,A[c]=l}}}else{var D=s(n,g,"x"),V=s(n,g,"y");a.xaxes=i(D,y.xaxis,d,A,"x"),a.yaxes=i(V,y.yaxis,w,A,"y")}var z=a._anchors={},j=a.roworder==="top to bottom";for(var X in A){var F,H,W,ie=X.charAt(0),te=a[ie+"side"];if(te.length<8)z[X]="free";else if(ie==="x"){if(te.charAt(0)==="t"===j?(F=0,H=1,W=w):(F=w-1,H=-1,W=-1),m){var Q=A[X];for(l=F;l!==W;l+=H)if((x=p[l][Q])&&(v=x.indexOf("y"),x.slice(0,v)===X)){z[X]=x.slice(v);break}}else for(l=F;l!==W;l+=H)if(c=a.yaxes[l],y.cartesian.indexOf(X+c)!==-1){z[X]=c;break}}else if(te.charAt(0)==="l"?(F=0,H=1,W=d):(F=d-1,H=-1,W=-1),m){var ne=A[X];for(l=F;l!==W;l+=H)if((x=p[ne][l])&&(v=x.indexOf("y"),x.slice(v)===X)){z[X]=x.slice(0,v);break}}else for(l=F;l!==W;l+=H)if(h=a.xaxes[l],y.cartesian.indexOf(h+X)!==-1){z[X]=h;break}}}}}},65760:function(U,C,e){var T=e(33816),k=e(31780).templatedArray;e(36208),U.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",T.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",T.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(U,C,e){var T=e(38248),k=e(36896);U.exports=function(o,_,b,f){_=_||{};var s=b==="log"&&_.type==="linear",t=b==="linear"&&_.type==="log";if(s||t){for(var i,r,n=o._fullLayout.images,a=_._id.charAt(0),l=0;l<n.length;l++)if(r="images["+l+"].",(i=n[l])[a+"ref"]===_._id){var u=i[a],h=i["size"+a],c=null,x=null;if(s){c=k(u,_.range);var p=h/Math.pow(10,c)/2;x=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else x=(c=Math.pow(10,u))*(Math.pow(10,h/2)-Math.pow(10,-h/2));T(c)?T(x)||(x=null):(c=null,x=null),f(r+a,c),f(r+"size"+a,x)}}}},25024:function(U,C,e){var T=e(3400),k=e(54460),o=e(51272),_=e(65760);function b(f,s,t){function i(c,x){return T.coerce(f,s,_,c,x)}var r=i("source");if(!i("visible",!!r))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var n={_fullLayout:t},a=["x","y"],l=0;l<2;l++){var u=a[l],h=k.coerceRef(f,s,n,u,"paper",void 0);h!=="paper"&&k.getFromId(n,h)._imgIndices.push(s._index),k.coercePosition(s,n,i,h,u,0)}return s}U.exports=function(f,s){o(f,s,{name:"images",handleItemDefaults:b})}},60963:function(U,C,e){var T=e(33428),k=e(43616),o=e(54460),_=e(79811),b=e(9616);U.exports=function(f){var s,t,i=f._fullLayout,r=[],n={},a=[];for(t=0;t<i.images.length;t++){var l=i.images[t];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=_.ref2id(l.xref)+_.ref2id(l.yref);var u=i._plots[s];if(!u){a.push(l);continue}u.mainplot&&(s=u.mainplot.id),n[s]||(n[s]=[]),n[s].push(l)}else l.layer==="above"?r.push(l):a.push(l)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function x(d){var S=T.select(this);if(this._imgSrc!==d.source)if(S.attr("xmlns",b.svg),d.source&&d.source.slice(0,5)==="data:")S.attr("xlink:href",d.source),this._imgSrc=d.source;else{var A=new Promise((function(E){var P=new Image;function O(){S.remove(),E()}this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=O,P.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var D=I.toDataURL("image/png");S.attr("xlink:href",D),E()},S.on("error",O),P.src=d.source,this._imgSrc=d.source}).bind(this));f._promises.push(A)}}function p(d){var S,A,E=T.select(this),P=o.getFromId(f,d.xref),O=o.getFromId(f,d.yref),I=o.getRefType(d.xref)==="domain",D=o.getRefType(d.yref)==="domain",V=i._size;S=P!==void 0?typeof d.xref=="string"&&I?P._length*d.sizex:Math.abs(P.l2p(d.sizex)-P.l2p(0)):d.sizex*V.w,A=O!==void 0?typeof d.yref=="string"&&D?O._length*d.sizey:Math.abs(O.l2p(d.sizey)-O.l2p(0)):d.sizey*V.h;var z,j,X=S*h[d.xanchor].offset,F=A*c[d.yanchor].offset,H=h[d.xanchor].sizing+c[d.yanchor].sizing;switch(z=P!==void 0?typeof d.xref=="string"&&I?P._length*d.x+P._offset:P.r2p(d.x)+P._offset:d.x*V.w+V.l,z+=X,j=O!==void 0?typeof d.yref=="string"&&D?O._length*(1-d.y)+O._offset:O.r2p(d.y)+O._offset:V.h-d.y*V.h+V.t,j+=F,d.sizing){case"fill":H+=" slice";break;case"stretch":H="none"}E.attr({x:z,y:j,width:S,height:A,preserveAspectRatio:H,opacity:d.opacity});var W=(P&&o.getRefType(d.xref)!=="domain"?P._id:"")+(O&&o.getRefType(d.yref)!=="domain"?O._id:"");k.setClipUrl(E,W?"clip"+i._uid+W:null,f)}var v=i._imageLowerLayer.selectAll("image").data(a),g=i._imageUpperLayer.selectAll("image").data(r);v.enter().append("image"),g.enter().append("image"),v.exit().remove(),g.exit().remove(),v.each(function(d){x.bind(this)(d),p.bind(this)(d)}),g.each(function(d){x.bind(this)(d),p.bind(this)(d)});var y=Object.keys(i._plots);for(t=0;t<y.length;t++){s=y[t];var m=i._plots[s];if(m.imagelayer){var w=m.imagelayer.selectAll("image").data(n[s]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(d){x.bind(this)(d),p.bind(this)(d)})}}}},7402:function(U,C,e){U.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(U,C,e){var T=e(25376),k=e(22548);U.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:T({editType:"legend"}),grouptitlefont:T({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:T({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(U){U.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(U,C,e){var T=e(24040),k=e(3400),o=e(31780),_=e(45464),b=e(3800),f=e(64859),s=e(42451);function t(i,r,n,a){var l=r[i]||{},u=o.newContainer(n,i);function h(H,W){return k.coerce(l,u,b,H,W)}var c=k.coerceFont(h,"font",n.font);if(h("bgcolor",n.paper_bgcolor),h("bordercolor"),h("visible")){for(var x,p=function(H,W){var ie=x._input,te=x;return k.coerce(ie,te,_,H,W)},v=n.font||{},g=k.coerceFont(h,"grouptitlefont",v,{overrideDflt:{size:Math.round(1.1*v.size)}}),y=0,m=!1,w="normal",d=(n.shapes||[]).filter(function(H){return H.showlegend}),S=a.concat(d).filter(function(H){return i===(H.legend||"legend")}),A=0;A<S.length;A++)if((x=S[A]).visible){var E=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&x._module.attributes.showlegend.dflt===!1))&&(y++,x.showlegend&&(m=!0,(!E&&T.traceIs(x,"pie-like")||x._input.showlegend===!0)&&y++),k.coerceFont(p,"legendgrouptitle.font",g)),(!E&&T.traceIs(x,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(x.fill)!==-1)&&(w=s.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),x.legendgroup!==void 0&&x.legendgroup!==""&&(w=s.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var P=k.coerce(r,n,f,"showlegend",m&&y>(i==="legend"?1:0));if(P===!1&&(n[i]=void 0),(P!==!1||l.uirevision)&&(h("uirevision",n.uirevision),P!==!1)){h("borderwidth");var O,I,D,V=h("orientation")==="h",z=h("yref")==="paper",j=h("xref")==="paper",X="left";if(V?(O=0,T.getComponentMethod("rangeslider","isVisible")(r.xaxis)?z?(I=1.1,D="bottom"):(I=1,D="top"):z?(I=-.1,D="top"):(I=0,D="bottom")):(I=1,D="auto",j?O=1.02:(O=1,X="right")),k.coerce(l,u,{x:{valType:"number",editType:"legend",min:j?-2:0,max:j?3:1,dflt:O}},"x"),k.coerce(l,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:I}},"y"),h("traceorder",w),s.isGrouped(n[i])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",X),h("yanchor",D),h("valign"),k.noneOrAll(l,u,["x","y"]),h("title.text")){h("title.side",V?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(h,"title.font",F)}}}}U.exports=function(i,r,n){var a,l=n.slice(),u=r.shapes;if(u)for(a=0;a<u.length;a++){var h=u[a];if(h.showlegend){var c={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(c)}}var x=["legend"];for(a=0;a<l.length;a++)k.pushUnique(x,l[a].legend);for(r._legends=[],a=0;a<x.length;a++){var p=x[a];t(p,i,r,l),r[p]&&r[p].visible&&(r[p]._id=p),r._legends.push(p)}}},31140:function(U,C,e){var T=e(33428),k=e(3400),o=e(7316),_=e(24040),b=e(95924),f=e(86476),s=e(43616),t=e(76308),i=e(72736),r=e(33048),n=e(65196),a=e(84284),l=a.LINE_SPACING,u=a.FROM_TL,h=a.FROM_BR,c=e(35456),x=e(2012),p=e(42451),v=1,g=/^legend[0-9]*$/;function y(D,V){var z,j,X=V||{},F=D._fullLayout,H=I(X),W=X._inHover;if(W?(j=X.layer,z="hover"):(j=F._infolayer,z=H),j){var ie;if(z+=F._uid,D._legendMouseDownTime||(D._legendMouseDownTime=0),W){if(!X.entries)return;ie=c(X.entries,X)}else{for(var te=(D.calcdata||[]).slice(),Q=F.shapes,ne=0;ne<Q.length;ne++){var $=Q[ne];if($.showlegend){var J={_isShape:!0,_fullInput:$,index:$._index,name:$.name||$.label.text||"shape "+$._index,legend:$.legend,legendgroup:$.legendgroup,legendgrouptitle:$.legendgrouptitle,legendrank:$.legendrank,legendwidth:$.legendwidth,showlegend:$.showlegend,visible:$.visible,opacity:$.opacity,mode:$.type==="line"?"lines":"markers",line:$.line,marker:{line:$.line,color:$.fillcolor,size:12,symbol:$.type==="rect"?"square":$.type==="circle"?"circle":"hexagon2"}};te.push([{trace:J}])}}ie=F.showlegend&&c(te,X,F._legends.length>1)}var re=F.hiddenlabels||[];if(!(W||F.showlegend&&ie.length))return j.selectAll("."+H).remove(),F._topdefs.select("#"+z).remove(),o.autoMargin(D,H);var se=k.ensureSingle(j,"g",H,function(Fe){W||Fe.attr("pointer-events","all")}),ue=k.ensureSingleById(F._topdefs,"clipPath",z,function(Fe){Fe.append("rect")}),he=k.ensureSingle(se,"rect","bg",function(Fe){Fe.attr("shape-rendering","crispEdges")});he.call(t.stroke,X.bordercolor).call(t.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px");var pe,ge=k.ensureSingle(se,"g","scrollbox"),ye=X.title;X._titleWidth=0,X._titleHeight=0,ye.text?((pe=k.ensureSingle(ge,"text",H+"titletext")).attr("text-anchor","start").call(s.font,ye.font).text(ye.text),E(pe,ge,D,X,v)):ge.selectAll("."+H+"titletext").remove();var be=k.ensureSingle(se,"rect","scrollbar",function(Fe){Fe.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Te=ge.selectAll("g.groups").data(ie);Te.enter().append("g").attr("class","groups"),Te.exit().remove();var Se=Te.selectAll("g.traces").data(k.identity);Se.enter().append("g").attr("class","traces"),Se.exit().remove(),Se.style("opacity",function(Fe){var xe=Fe[0].trace;return _.traceIs(xe,"pie-like")?re.indexOf(Fe[0].label)!==-1?.5:1:xe.visible==="legendonly"?.5:1}).each(function(){T.select(this).call(d,D,X)}).call(x,D,X).each(function(){W||T.select(this).call(A,D,H)}),k.syncOrAsync([o.previousPromises,function(){return function(Fe,xe,le,oe){var de=Fe._fullLayout,Ce=I(oe);oe||(oe=de[Ce]);var _e=de._size,Ae=p.isVertical(oe),Le=p.isGrouped(oe),ze=oe.entrywidthmode==="fraction",Re=oe.borderwidth,ve=2*Re,ke=n.itemGap,Ee=oe.indentation+oe.itemwidth+2*ke,De=2*(Re+ke),Pe=O(oe),Ue=oe.y<0||oe.y===0&&Pe==="top",We=oe.y>1||oe.y===1&&Pe==="bottom",$e=oe.tracegroupgap,ot={};oe._maxHeight=Math.max(Ue||We?de.height/2:_e.h,30);var st=0;oe._width=0,oe._height=0;var mt=function(gt){var dt=0,at=0,kt=gt.title.side;return kt&&(kt.indexOf("left")!==-1&&(dt=gt._titleWidth),kt.indexOf("top")!==-1&&(at=gt._titleHeight)),[dt,at]}(oe);if(Ae)le.each(function(gt){var dt=gt[0].height;s.setTranslate(this,Re+mt[0],Re+mt[1]+oe._height+dt/2+ke),oe._height+=dt,oe._width=Math.max(oe._width,gt[0].width)}),st=Ee+oe._width,oe._width+=ke+Ee+ve,oe._height+=De,Le&&(xe.each(function(gt,dt){s.setTranslate(this,0,dt*oe.tracegroupgap)}),oe._height+=(oe._lgroupsLength-1)*oe.tracegroupgap);else{var _t=P(oe),yt=oe.x<0||oe.x===0&&_t==="right",it=oe.x>1||oe.x===1&&_t==="left",tt=We||Ue,Pt=de.width/2;oe._maxWidth=Math.max(yt?tt&&_t==="left"?_e.l+_e.w:Pt:it?tt&&_t==="right"?_e.r+_e.w:Pt:_e.w,2*Ee);var Rt=0,Ft=0;le.each(function(gt){var dt=m(gt,oe,Ee);Rt=Math.max(Rt,dt),Ft+=dt}),st=null;var Ot=0;if(Le){var Xe=0,Je=0,Ve=0;xe.each(function(){var gt=0,dt=0;T.select(this).selectAll("g.traces").each(function(kt){var wt=m(kt,oe,Ee),Et=kt[0].height;s.setTranslate(this,mt[0],mt[1]+Re+ke+Et/2+dt),dt+=Et,gt=Math.max(gt,wt),ot[kt[0].trace.legendgroup]=gt});var at=gt+ke;Je>0&&at+Re+Je>oe._maxWidth?(Ot=Math.max(Ot,Je),Je=0,Ve+=Xe+$e,Xe=dt):Xe=Math.max(Xe,dt),s.setTranslate(this,Je,Ve),Je+=at}),oe._width=Math.max(Ot,Je)+Re,oe._height=Ve+Xe+De}else{var Ke=le.size(),ft=Ft+ve+(Ke-1)*ke<oe._maxWidth,ut=0,xt=0,bt=0,qe=0;le.each(function(gt){var dt=gt[0].height,at=m(gt,oe,Ee),kt=ft?at:Rt;ze||(kt+=ke),kt+Re+xt-ke>=oe._maxWidth&&(Ot=Math.max(Ot,qe),xt=0,bt+=ut,oe._height+=ut,ut=0),s.setTranslate(this,mt[0]+Re+xt,mt[1]+Re+bt+dt/2+ke),qe=xt+at+ke,xt+=kt,ut=Math.max(ut,dt)}),ft?(oe._width=xt+ve,oe._height=ut+De):(oe._width=Math.max(Ot,qe)+ve,oe._height+=ut+De)}}oe._width=Math.ceil(Math.max(oe._width+mt[0],oe._titleWidth+2*(Re+n.titlePad))),oe._height=Math.ceil(Math.max(oe._height+mt[1],oe._titleHeight+2*(Re+n.itemGap))),oe._effHeight=Math.min(oe._height,oe._maxHeight);var je=Fe._context.edits,lt=je.legendText||je.legendPosition;le.each(function(gt){var dt=T.select(this).select("."+Ce+"toggle"),at=gt[0].height,kt=gt[0].trace.legendgroup,wt=m(gt,oe,Ee);Le&&kt!==""&&(wt=ot[kt]);var Et=lt?Ee:st||wt;Ae||ze||(Et+=ke/2),s.setRect(dt,0,-at/2,Et,at)})}(D,Te,Se,X)},function(){var Fe,xe,le,oe,de=F._size,Ce=X.borderwidth,_e=X.xref==="paper",Ae=X.yref==="paper";if(ye.text&&function(tt,Pt,Rt){if(Pt.title.side==="top center"||Pt.title.side==="top right"){var Ft=Pt.title.font.size*l,Ot=0,Xe=tt.node(),Je=s.bBox(Xe).width;Pt.title.side==="top center"?Ot=.5*(Pt._width-2*Rt-2*n.titlePad-Je):Pt.title.side==="top right"&&(Ot=Pt._width-2*Rt-2*n.titlePad-Je),i.positionText(tt,Rt+n.titlePad+Ot,Rt+Ft)}}(pe,X,Ce),!W){var Le,ze;Le=_e?de.l+de.w*X.x-u[P(X)]*X._width:F.width*X.x-u[P(X)]*X._width,ze=Ae?de.t+de.h*(1-X.y)-u[O(X)]*X._effHeight:F.height*(1-X.y)-u[O(X)]*X._effHeight;var Re=function(tt,Pt,Rt,Ft){var Ot=tt._fullLayout,Xe=Ot[Pt],Je=P(Xe),Ve=O(Xe),Ke=Xe.xref==="paper",ft=Xe.yref==="paper";tt._fullLayout._reservedMargin[Pt]={};var ut=Xe.y<.5?"b":"t",xt=Xe.x<.5?"l":"r",bt={r:Ot.width-Rt,l:Rt+Xe._width,b:Ot.height-Ft,t:Ft+Xe._effHeight};if(Ke&&ft)return o.autoMargin(tt,Pt,{x:Xe.x,y:Xe.y,l:Xe._width*u[Je],r:Xe._width*h[Je],b:Xe._effHeight*h[Ve],t:Xe._effHeight*u[Ve]});Ke?tt._fullLayout._reservedMargin[Pt][ut]=bt[ut]:ft||Xe.orientation==="v"?tt._fullLayout._reservedMargin[Pt][xt]=bt[xt]:tt._fullLayout._reservedMargin[Pt][ut]=bt[ut]}(D,H,Le,ze);if(Re)return;if(F.margin.autoexpand){var ve=Le,ke=ze;Le=_e?k.constrain(Le,0,F.width-X._width):ve,ze=Ae?k.constrain(ze,0,F.height-X._effHeight):ke,Le!==ve&&k.log("Constrain "+H+".x to make legend fit inside graph"),ze!==ke&&k.log("Constrain "+H+".y to make legend fit inside graph")}s.setTranslate(se,Le,ze)}if(be.on(".drag",null),se.on("wheel",null),W||X._height<=X._maxHeight||D._context.staticPlot){var Ee=X._effHeight;W&&(Ee=X._height),he.attr({width:X._width-Ce,height:Ee-Ce,x:Ce/2,y:Ce/2}),s.setTranslate(ge,0,0),ue.select("rect").attr({width:X._width-2*Ce,height:Ee-2*Ce,x:Ce,y:Ce}),s.setClipUrl(ge,z,D),s.setRect(be,0,0,0,0),delete X._scrollY}else{var De,Pe,Ue,We=Math.max(n.scrollBarMinHeight,X._effHeight*X._effHeight/X._height),$e=X._effHeight-We-2*n.scrollBarMargin,ot=X._height-X._effHeight,st=$e/ot,mt=Math.min(X._scrollY||0,ot);he.attr({width:X._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-Ce,x:Ce/2,y:Ce/2}),ue.select("rect").attr({width:X._width-2*Ce+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-2*Ce,x:Ce,y:Ce+mt}),s.setClipUrl(ge,z,D),it(mt,We,st),se.on("wheel",function(){it(mt=k.constrain(X._scrollY+T.event.deltaY/$e*ot,0,ot),We,st),mt!==0&&mt!==ot&&T.event.preventDefault()});var _t=T.behavior.drag().on("dragstart",function(){var tt=T.event.sourceEvent;De=tt.type==="touchstart"?tt.changedTouches[0].clientY:tt.clientY,Ue=mt}).on("drag",function(){var tt=T.event.sourceEvent;tt.buttons===2||tt.ctrlKey||(Pe=tt.type==="touchmove"?tt.changedTouches[0].clientY:tt.clientY,mt=function(Pt,Rt,Ft){var Ot=(Ft-Rt)/st+Pt;return k.constrain(Ot,0,ot)}(Ue,De,Pe),it(mt,We,st))});be.call(_t);var yt=T.behavior.drag().on("dragstart",function(){var tt=T.event.sourceEvent;tt.type==="touchstart"&&(De=tt.changedTouches[0].clientY,Ue=mt)}).on("drag",function(){var tt=T.event.sourceEvent;tt.type==="touchmove"&&(Pe=tt.changedTouches[0].clientY,mt=function(Pt,Rt,Ft){var Ot=(Rt-Ft)/st+Pt;return k.constrain(Ot,0,ot)}(Ue,De,Pe),it(mt,We,st))});ge.call(yt)}function it(tt,Pt,Rt){X._scrollY=D._fullLayout[H]._scrollY=tt,s.setTranslate(ge,0,-tt),s.setRect(be,X._width,n.scrollBarMargin+tt*Rt,n.scrollBarWidth,Pt),ue.select("rect").attr("y",Ce+tt)}D._context.edits.legendPosition&&(se.classed("cursor-move",!0),f.init({element:se.node(),gd:D,prepFn:function(tt){if(tt.target!==be.node()){var Pt=s.getTranslate(se);le=Pt.x,oe=Pt.y}},moveFn:function(tt,Pt){if(le!==void 0&&oe!==void 0){var Rt=le+tt,Ft=oe+Pt;s.setTranslate(se,Rt,Ft),Fe=f.align(Rt,X._width,de.l,de.l+de.w,X.xanchor),xe=f.align(Ft+X._height,-X._height,de.t+de.h,de.t,X.yanchor)}},doneFn:function(){if(Fe!==void 0&&xe!==void 0){var tt={};tt[H+".x"]=Fe,tt[H+".y"]=xe,_.call("_guiRelayout",D,tt)}},clickFn:function(tt,Pt){var Rt=j.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return Pt.clientX>=Ft.left&&Pt.clientX<=Ft.right&&Pt.clientY>=Ft.top&&Pt.clientY<=Ft.bottom});Rt.size()>0&&w(D,se,Rt,tt,Pt)}}))}],D)}}function m(D,V,z){var j=D[0],X=j.width,F=V.entrywidthmode,H=j.trace.legendwidth||V.entrywidth;return F==="fraction"?V._maxWidth*H:z+(H||X)}function w(D,V,z,j,X){var F=z.data()[0][0].trace,H={event:X,node:z.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:D.data,layout:D.layout,frames:D._transitionData._frames,config:D._context,fullData:D._fullData,fullLayout:D._fullLayout};F._group&&(H.group=F._group),_.traceIs(F,"pie-like")&&(H.label=z.datum()[0].label);var W=b.triggerHandler(D,"plotly_legendclick",H);if(j===1){if(W===!1)return;V._clickTimeout=setTimeout(function(){D._fullLayout&&r(z,D,j)},D._context.doubleClickDelay)}else j===2&&(V._clickTimeout&&clearTimeout(V._clickTimeout),D._legendMouseDownTime=0,b.triggerHandler(D,"plotly_legenddoubleclick",H)!==!1&&W!==!1&&r(z,D,j))}function d(D,V,z){var j,X,F=I(z),H=D.data()[0][0],W=H.trace,ie=_.traceIs(W,"pie-like"),te=!z._inHover&&V._context.edits.legendText&&!ie,Q=z._maxNameLength;H.groupTitle?(j=H.groupTitle.text,X=H.groupTitle.font):(X=z.font,z.entries?j=H.text:(j=ie?H.label:W.name,W._meta&&(j=k.templateString(j,W._meta))));var ne=k.ensureSingle(D,"text",F+"text");ne.attr("text-anchor","start").call(s.font,X).text(te?S(j,Q):j);var $=z.indentation+z.itemwidth+2*n.itemGap;i.positionText(ne,$,0),te?ne.call(i.makeEditable,{gd:V,text:j}).call(E,D,V,z).on("edit",function(J){this.text(S(J,Q)).call(E,D,V,z);var re=H.trace._fullInput||{},se={};if(_.hasTransform(re,"groupby")){var ue=_.getTransformIndices(re,"groupby"),he=ue[ue.length-1],pe=k.keyedContainer(re,"transforms["+he+"].styles","target","value.name");pe.set(H.trace._group,J),se=pe.constructUpdate()}else se.name=J;return re._isShape?_.call("_guiRelayout",V,"shapes["+W.index+"].name",se.name):_.call("_guiRestyle",V,se,W.index)}):E(ne,D,V,z)}function S(D,V){var z=Math.max(4,V);if(D&&D.trim().length>=z/2)return D;for(var j=z-(D=D||"").length;j>0;j--)D+=" ";return D}function A(D,V,z){var j,X=V._context.doubleClickDelay,F=1,H=k.ensureSingle(D,"rect",z+"toggle",function(W){V._context.staticPlot||W.style("cursor","pointer").attr("pointer-events","all"),W.call(t.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(H.on("mousedown",function(){(j=new Date().getTime())-V._legendMouseDownTime<X?F+=1:(F=1,V._legendMouseDownTime=j)}),H.on("mouseup",function(){if(!V._dragged&&!V._editing){var W=V._fullLayout[z];new Date().getTime()-V._legendMouseDownTime>X&&(F=Math.max(F-1,1)),w(V,W,D,F,T.event)}}))}function E(D,V,z,j,X){j._inHover&&D.attr("data-notex",!0),i.convertToTspans(D,z,function(){(function(F,H,W,ie){var te=F.data()[0][0];if(W._inHover||!te||te.trace.showlegend){var Q=F.select("g[class*=math-group]"),ne=Q.node(),$=I(W);W||(W=H._fullLayout[$]);var J,re,se=W.borderwidth,ue=(ie===v?W.title.font:te.groupTitle?te.groupTitle.font:W.font).size*l;if(ne){var he=s.bBox(ne);J=he.height,re=he.width,ie===v?s.setTranslate(Q,se,se+.75*J):s.setTranslate(Q,0,.25*J)}else{var pe="."+$+(ie===v?"title":"")+"text",ge=F.select(pe),ye=i.lineCount(ge),be=ge.node();if(J=ue*ye,re=be?s.bBox(be).width:0,ie===v)W.title.side==="left"&&(re+=2*n.itemGap),i.positionText(ge,se+n.titlePad,se+ue);else{var Te=2*n.itemGap+W.indentation+W.itemwidth;te.groupTitle&&(Te=n.itemGap,re-=W.indentation+W.itemwidth),i.positionText(ge,Te,-ue*((ye-1)/2-.3))}}ie===v?(W._titleWidth=re,W._titleHeight=J):(te.lineHeight=ue,te.height=Math.max(J,16)+3,te.width=re)}else F.remove()})(V,z,j,X)})}function P(D){return k.isRightAnchor(D)?"right":k.isCenterAnchor(D)?"center":"left"}function O(D){return k.isBottomAnchor(D)?"bottom":k.isMiddleAnchor(D)?"middle":"top"}function I(D){return D._id||"legend"}U.exports=function(D,V){if(V)y(D,V);else{var z=D._fullLayout,j=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var H=T.select(this),W=H.attr("class").split(" ")[0];W.match(g)&&j.indexOf(W)===-1&&H.remove()});for(var X=0;X<j.length;X++){var F=j[X];y(D,D._fullLayout[F])}}}},35456:function(U,C,e){var T=e(24040),k=e(42451);U.exports=function(o,_,b){var f,s,t=_._inHover,i=k.isGrouped(_),r=k.isReversed(_),n={},a=[],l=!1,u={},h=0,c=0;function x(j,X,F){if(_.visible!==!1&&(!b||j===_._id))if(X!==""&&k.isGrouped(_))a.indexOf(X)===-1?(a.push(X),l=!0,n[X]=[F]):n[X].push(F);else{var H="~~i"+h;a.push(H),n[H]=[F],h++}}for(f=0;f<o.length;f++){var p=o[f],v=p[0],g=v.trace,y=g.legend,m=g.legendgroup;if(t||g.visible&&g.showlegend)if(T.traceIs(g,"pie-like"))for(u[m]||(u[m]={}),s=0;s<p.length;s++){var w=p[s].label;u[m][w]||(x(y,m,{label:w,color:p[s].color,i:p[s].i,trace:g,pts:p[s].pts}),u[m][w]=!0,c=Math.max(c,(w||"").length))}else x(y,m,v),c=Math.max(c,(g.name||"").length)}if(!a.length)return[];var d=!l||!i,S=[];for(f=0;f<a.length;f++){var A=n[a[f]];d?S.push(A[0]):S.push(A)}for(d&&(S=[S]),f=0;f<S.length;f++){var E=1/0;for(s=0;s<S[f].length;s++){var P=S[f][s].trace.legendrank;E>P&&(E=P)}S[f][0]._groupMinRank=E,S[f][0]._preGroupSort=f}var O=function(j,X){return j.trace.legendrank-X.trace.legendrank||j._preSort-X._preSort};for(S.forEach(function(j,X){j[0]._preGroupSort=X}),S.sort(function(j,X){return j[0]._groupMinRank-X[0]._groupMinRank||j[0]._preGroupSort-X[0]._preGroupSort}),f=0;f<S.length;f++){S[f].forEach(function(j,X){j._preSort=X}),S[f].sort(O);var I=S[f][0].trace,D=null;for(s=0;s<S[f].length;s++){var V=S[f][s].trace.legendgrouptitle;if(V&&V.text){D=V,t&&(V.font=_._groupTitleFont);break}}if(r&&S[f].reverse(),D){var z=!1;for(s=0;s<S[f].length;s++)if(T.traceIs(S[f][s].trace,"pie-like")){z=!0;break}S[f].unshift({i:-1,groupTitle:D,noClick:z,trace:{showlegend:I.showlegend,legendgroup:I.legendgroup,visible:_.groupclick==="toggleitem"||I.visible}})}for(s=0;s<S[f].length;s++)S[f][s]=[S[f][s]]}return _._lgroupsLength=S.length,_._maxNameLength=c,S}},33048:function(U,C,e){var T=e(24040),k=e(3400),o=k.pushUnique,_=!0;U.exports=function(b,f,s){var t=f._fullLayout;if(!f._dragged&&!f._editing){var i,r=t.legend.itemclick,n=t.legend.itemdoubleclick,a=t.legend.groupclick;if(s===1&&r==="toggle"&&n==="toggleothers"&&_&&f.data&&f._context.showTips&&k.notifier(k._(f,"Double-click on legend to isolate one trace"),"long"),_=!1,s===1?i=r:s===2&&(i=n),i){var l=a==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],h=b.data()[0][0];if(!h.groupTitle||!h.noClick){var c=f._fullData,x=(t.shapes||[]).filter(function(xe){return xe.showlegend}),p=c.concat(x),v=h.trace;v._isShape&&(v=v._fullInput);var g,y,m,w,d,S=v.legendgroup,A={},E=[],P=[],O=[],I=(t.shapes||[]).map(function(xe){return xe._input}),D=!1,V=v.legend,z=v._fullInput;if(z&&z._isShape||!T.traceIs(v,"pie-like")){var j,X=S&&S.length,F=[];if(X)for(g=0;g<p.length;g++)(j=p[g]).visible&&j.legendgroup===S&&F.push(g);if(i==="toggle"){var H;switch(v.visible){case!0:H="legendonly";break;case!1:H=!1;break;case"legendonly":H=!0}if(X)if(l)for(g=0;g<p.length;g++){var W=p[g];W.visible!==!1&&W.legendgroup===S&&Fe(W,H)}else Fe(v,H);else Fe(v,H)}else if(i==="toggleothers"){var ie,te,Q,ne,$=!0;for(g=0;g<p.length;g++)if(ie=(ne=p[g])===v,te=ne.showlegend!==!0,!(ie||te||X&&ne.legendgroup===S||ne.legend!==V||ne.visible!==!0||T.traceIs(ne,"notLegendIsolatable"))){$=!1;break}for(g=0;g<p.length;g++)if((ne=p[g]).visible!==!1&&ne.legend===V&&!T.traceIs(ne,"notLegendIsolatable"))switch(v.visible){case"legendonly":Fe(ne,!0);break;case!0:Q=!!$||"legendonly",ie=ne===v,te=ne.showlegend!==!0&&!ne.legendgroup,Fe(ne,!!(ie||X&&ne.legendgroup===S||te)||Q)}}for(g=0;g<P.length;g++)if(m=P[g]){var J=m.constructUpdate(),re=Object.keys(J);for(y=0;y<re.length;y++)w=re[y],(A[w]=A[w]||[])[O[g]]=J[w]}for(d=Object.keys(A),g=0;g<d.length;g++)for(w=d[g],y=0;y<E.length;y++)A[w].hasOwnProperty(y)||(A[w][y]=void 0);D?T.call("_guiUpdate",f,A,{shapes:I},E):T.call("_guiRestyle",f,A,E)}else{var se=h.label,ue=u.indexOf(se);if(i==="toggle")ue===-1?u.push(se):u.splice(ue,1);else if(i==="toggleothers"){var he=ue!==-1,pe=[];for(g=0;g<f.calcdata.length;g++){var ge=f.calcdata[g];for(y=0;y<ge.length;y++){var ye=ge[y].label;V===ge[0].trace.legend&&se!==ye&&(u.indexOf(ye)===-1&&(he=!0),o(u,ye),pe.push(ye))}}if(!he)for(var be=0;be<pe.length;be++){var Te=u.indexOf(pe[be]);Te!==-1&&u.splice(Te,1)}}T.call("_guiRelayout",f,"hiddenlabels",u)}}}}function Se(xe,le){var oe=E.indexOf(xe),de=A.visible;return de||(de=A.visible=[]),E.indexOf(xe)===-1&&(E.push(xe),oe=E.length-1),de[oe]=le,oe}function Fe(xe,le){if(!h.groupTitle||l){var oe,de=xe._fullInput||xe,Ce=de._isShape,_e=de.index;if(_e===void 0&&(_e=de._index),T.hasTransform(de,"groupby")){var Ae=P[_e];if(!Ae){var Le=T.getTransformIndices(de,"groupby"),ze=Le[Le.length-1];Ae=k.keyedContainer(de,"transforms["+ze+"].styles","target","value.visible"),P[_e]=Ae}var Re=Ae.get(xe._group);Re===void 0&&(Re=!0),Re!==!1&&Ae.set(xe._group,le),O[_e]=Se(_e,de.visible!==!1)}else{var ve=de.visible!==!1&&le;Ce?(oe=ve,I[_e].visible=oe,D=!0):Se(_e,ve)}}}}},42451:function(U,C){C.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},C.isVertical=function(e){return e.orientation!=="h"},C.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(U,C,e){U.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(U,C,e){var T=e(33428),k=e(24040),o=e(3400),_=o.strTranslate,b=e(43616),f=e(76308),s=e(94288).extractOpts,t=e(43028),i=e(10528),r=e(69656).castOption,n=e(65196);function a(h,c){return(c?"radial":"horizontal")+(h?"":"reversed")}function l(h){var c=h[0].trace,x=c.contours,p=t.hasLines(c),v=t.hasMarkers(c),g=c.visible&&c.fill&&c.fill!=="none",y=!1,m=!1;if(x){var w=x.coloring;w==="lines"?y=!0:p=w==="none"||w==="heatmap"||x.showlines,x.type==="constraint"?g=x._operation!=="=":w!=="fill"&&w!=="heatmap"||(m=!0)}return{showMarker:v,showLine:p,showFill:g,showGradientLine:y,showGradientFill:m,anyLine:p||y,anyFill:g||m}}function u(h,c,x){return h&&o.isArrayOrTypedArray(h)?c:h>x?x:h}U.exports=function(h,c,x){var p=c._fullLayout;x||(x=p.legend);var v=x.itemsizing==="constant",g=x.itemwidth,y=(g+2*n.itemGap)/2,m=_(y,0),w=function(A,E,P,O){var I;if(A+1)I=A;else{if(!(E&&E.width>0))return 0;I=E.width}return v?O:Math.min(I,P)};function d(A,E,P){var O=A[0].trace,I=O.marker||{},D=I.line||{},V=I.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",z=P?O.visible&&O.type===P:k.traceIs(O,"bar"),j=T.select(E).select("g.legendpoints").selectAll("path.legend"+P).data(z?[A]:[]);j.enter().append("path").classed("legend"+P,!0).attr("d",V).attr("transform",m),j.exit().remove(),j.each(function(X){var F=T.select(this),H=X[0],W=w(H.mlw,I.line,5,2);F.style("stroke-width",W+"px");var ie=H.mcc;if(!x._inHover&&"mc"in H){var te=s(I),Q=te.mid;Q===void 0&&(Q=(te.max+te.min)/2),ie=b.tryColorscale(I,"")(Q)}var ne=ie||H.mc||I.color,$=I.pattern,J=$&&b.getPatternAttr($.shape,0,"");if(J){var re=b.getPatternAttr($.bgcolor,0,null),se=b.getPatternAttr($.fgcolor,0,null),ue=$.fgopacity,he=u($.size,8,10),pe=u($.solidity,.5,1),ge="legend-"+O.uid;F.call(b.pattern,"legend",c,ge,J,he,pe,ie,$.fillmode,re,se,ue)}else F.call(f.fill,ne);W&&f.stroke(F,H.mlc||D.color)})}function S(A,E,P){var O=A[0],I=O.trace,D=P?I.visible&&I.type===P:k.traceIs(I,P),V=T.select(E).select("g.legendpoints").selectAll("path.legend"+P).data(D?[A]:[]);if(V.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),V.exit().remove(),V.size()){var z=I.marker||{},j=w(r(z.line.width,O.pts),z.line,5,2),X="pieLike",F=o.minExtend(I,{marker:{line:{width:j}}},X),H=o.minExtend(O,{trace:F},X);i(V,H,F,c)}}h.each(function(A){var E=T.select(this),P=o.ensureSingle(E,"g","layers");P.style("opacity",A[0].trace.opacity);var O=x.indentation,I=x.valign,D=A[0].lineHeight,V=A[0].height;if(I==="middle"&&O===0||!D||!V)P.attr("transform",null);else{var z={top:1,bottom:-1}[I]*(.5*(D-V+3))||0,j=x.indentation;P.attr("transform",_(j,z))}P.selectAll("g.legendfill").data([A]).enter().append("g").classed("legendfill",!0),P.selectAll("g.legendlines").data([A]).enter().append("g").classed("legendlines",!0);var X=P.selectAll("g.legendsymbols").data([A]);X.enter().append("g").classed("legendsymbols",!0),X.selectAll("g.legendpoints").data([A]).enter().append("g").classed("legendpoints",!0)}).each(function(A){var E,P=A[0].trace,O=[];if(P.visible)switch(P.type){case"histogram2d":case"heatmap":O=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":O=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":O=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":O=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":O=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":O=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var I=T.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(O);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(D,V){var z,j=T.select(this),X=s(P),F=X.colorscale,H=X.reversescale;if(F){if(!E){var W=F.length;z=V===0?F[H?W-1:0][1]:V===1?F[H?0:W-1][1]:F[Math.floor((W-1)/2)][1]}}else{var ie=P.vertexcolor||P.facecolor||P.color;z=o.isArrayOrTypedArray(ie)?ie[V]||ie[0]:ie}j.attr("d",D[0]),z?j.call(f.fill,z):j.call(function(te){if(te.size()){var Q="legendfill-"+P.uid;b.gradient(te,c,Q,a(H,E==="radial"),F,"fill")}})})}).each(function(A){var E=A[0].trace,P=E.type==="waterfall";if(A[0]._distinct&&P){var O=A[0].trace[A[0].dir].marker;return A[0].mc=O.color,A[0].mlw=O.line.width,A[0].mlc=O.line.color,d(A,this,"waterfall")}var I=[];E.visible&&P&&(I=A[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var D=T.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);D.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),D.exit().remove(),D.each(function(V){var z=T.select(this),j=E[V[0]].marker,X=w(void 0,j.line,5,2);z.attr("d",V[1]).style("stroke-width",X+"px").call(f.fill,j.color),X&&z.call(f.stroke,j.line.color)})}).each(function(A){d(A,this,"funnel")}).each(function(A){d(A,this)}).each(function(A){var E=A[0].trace,P=T.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[A]:[]);P.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),P.exit().remove(),P.each(function(){var O=T.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||f.opacity(E.fillcolor)!==0||f.opacity((E.line||{}).color)!==0){var I=w(void 0,E.line,5,2);O.style("stroke-width",I+"px").call(f.fill,E.fillcolor),I&&f.stroke(O,E.line.color)}else{var D=o.minExtend(E,{marker:{size:v?12:o.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});P.call(b.pointStyle,D,c)}})}).each(function(A){S(A,this,"funnelarea")}).each(function(A){S(A,this,"pie")}).each(function(A){var E,P,O=l(A),I=O.showFill,D=O.showLine,V=O.showGradientLine,z=O.showGradientFill,j=O.anyFill,X=O.anyLine,F=A[0],H=F.trace,W=s(H),ie=W.colorscale,te=W.reversescale,Q=t.hasMarkers(H)||!j?"M5,0":X?"M5,-2":"M5,-3",ne=T.select(this),$=ne.select(".legendfill").selectAll("path").data(I||z?[A]:[]);if($.enter().append("path").classed("js-fill",!0),$.exit().remove(),$.attr("d",Q+"h"+g+"v6h-"+g+"z").call(function(se){if(se.size())if(I)b.fillGroupStyle(se,c,!0);else{var ue="legendfill-"+H.uid;b.gradient(se,c,ue,a(te),ie,"fill")}}),D||V){var J=w(void 0,H.line,10,5);P=o.minExtend(H,{line:{width:J}}),E=[o.minExtend(F,{trace:P})]}var re=ne.select(".legendlines").selectAll("path").data(D||V?[E]:[]);re.enter().append("path").classed("js-line",!0),re.exit().remove(),re.attr("d",Q+(V?"l"+g+",0.0001":"h"+g)).call(D?b.lineGroupStyle:function(se){if(se.size()){var ue="legendline-"+H.uid;b.lineGroupStyle(se),b.gradient(se,c,ue,a(te),ie,"stroke")}})}).each(function(A){var E,P,O=l(A),I=O.anyFill,D=O.anyLine,V=O.showLine,z=O.showMarker,j=A[0],X=j.trace,F=!z&&!D&&!I&&t.hasText(X);function H(re,se,ue,he){var pe=o.nestedProperty(X,re).get(),ge=o.isArrayOrTypedArray(pe)&&se?se(pe):pe;if(v&&ge&&he!==void 0&&(ge=he),ue){if(ge<ue[0])return ue[0];if(ge>ue[1])return ue[1]}return ge}function W(re){return j._distinct&&j.index&&re[j.index]?re[j.index]:re[0]}if(z||F||V){var ie={},te={};if(z){ie.mc=H("marker.color",W),ie.mx=H("marker.symbol",W),ie.mo=H("marker.opacity",o.mean,[.2,1]),ie.mlc=H("marker.line.color",W),ie.mlw=H("marker.line.width",o.mean,[0,5],2),te.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Q=H("marker.size",o.mean,[2,16],12);ie.ms=Q,te.marker.size=Q}V&&(te.line={width:H("line.width",W,[0,10],5)}),F&&(ie.tx="Aa",ie.tp=H("textposition",W),ie.ts=10,ie.tc=H("textfont.color",W),ie.tf=H("textfont.family",W),ie.tw=H("textfont.weight",W),ie.ty=H("textfont.style",W),ie.tv=H("textfont.variant",W),ie.tC=H("textfont.textcase",W),ie.tE=H("textfont.lineposition",W),ie.tS=H("textfont.shadow",W)),E=[o.minExtend(j,ie)],(P=o.minExtend(X,te)).selectedpoints=null,P.texttemplate=null}var ne=T.select(this).select("g.legendpoints"),$=ne.selectAll("path.scatterpts").data(z?E:[]);$.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),$.exit().remove(),$.call(b.pointStyle,P,c),z&&(E[0].mrc=3);var J=ne.selectAll("g.pointtext").data(F?E:[]);J.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),J.exit().remove(),J.selectAll("text").call(b.textPointStyle,P,c)}).each(function(A){var E=A[0].trace,P=T.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[A,A]:[]);P.enter().append("path").classed("legendcandle",!0).attr("d",function(O,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(O,I){var D=T.select(this),V=E[I?"increasing":"decreasing"],z=w(void 0,V.line,5,2);D.style("stroke-width",z+"px").call(f.fill,V.fillcolor),z&&f.stroke(D,V.line.color)})}).each(function(A){var E=A[0].trace,P=T.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[A,A]:[]);P.enter().append("path").classed("legendohlc",!0).attr("d",function(O,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(O,I){var D=T.select(this),V=E[I?"increasing":"decreasing"],z=w(void 0,V.line,5,2);D.style("fill","none").call(b.dashLine,V.line.dash,z),z&&f.stroke(D,V.line.color)})})}},66540:function(U,C,e){e(76052),U.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(U,C,e){var T=e(24040),k=e(7316),o=e(79811),_=e(9224),b=e(4016).eraseActiveShape,f=e(3400),s=f._,t=U.exports={};function i(p,v){var g,y,m=v.currentTarget,w=m.getAttribute("data-attr"),d=m.getAttribute("data-val")||!0,S=p._fullLayout,A={},E=o.list(p,null,!0),P=S._cartesianSpikesEnabled;if(w==="zoom"){var O,I=d==="in"?.5:2,D=(1+I)/2,V=(1-I)/2;for(y=0;y<E.length;y++)if(!(g=E[y]).fixedrange)if(O=g._name,d==="auto")A[O+".autorange"]=!0;else if(d==="reset")g._rangeInitial0===void 0&&g._rangeInitial1===void 0?A[O+".autorange"]=!0:g._rangeInitial0===void 0?(A[O+".autorange"]=g._autorangeInitial,A[O+".range"]=[null,g._rangeInitial1]):g._rangeInitial1===void 0?(A[O+".range"]=[g._rangeInitial0,null],A[O+".autorange"]=g._autorangeInitial):A[O+".range"]=[g._rangeInitial0,g._rangeInitial1],g._showSpikeInitial!==void 0&&(A[O+".showspikes"]=g._showSpikeInitial,P!=="on"||g._showSpikeInitial||(P="off"));else{var z=[g.r2l(g.range[0]),g.r2l(g.range[1])],j=[D*z[0]+V*z[1],D*z[1]+V*z[0]];A[O+".range[0]"]=g.l2r(j[0]),A[O+".range[1]"]=g.l2r(j[1])}}else w!=="hovermode"||d!=="x"&&d!=="y"||(d=S._isHoriz?"y":"x",m.setAttribute("data-val",d)),A[w]=d;S._cartesianSpikesEnabled=P,T.call("_guiRelayout",p,A)}function r(p,v){for(var g=v.currentTarget,y=g.getAttribute("data-attr"),m=g.getAttribute("data-val")||!0,w=p._fullLayout._subplots.gl3d||[],d={},S=y.split("."),A=0;A<w.length;A++)d[w[A]+"."+S[1]]=m;var E=m==="pan"?m:"zoom";d.dragmode=E,T.call("_guiRelayout",p,d)}function n(p,v){for(var g=v.currentTarget.getAttribute("data-attr"),y=g==="resetLastSave",m=g==="resetDefault",w=p._fullLayout,d=w._subplots.gl3d||[],S={},A=0;A<d.length;A++){var E,P=d[A],O=P+".camera",I=P+".aspectratio",D=P+".aspectmode",V=w[P]._scene;y?(S[O+".up"]=V.viewInitial.up,S[O+".eye"]=V.viewInitial.eye,S[O+".center"]=V.viewInitial.center,E=!0):m&&(S[O+".up"]=null,S[O+".eye"]=null,S[O+".center"]=null,E=!0),E&&(S[I+".x"]=V.viewInitial.aspectratio.x,S[I+".y"]=V.viewInitial.aspectratio.y,S[I+".z"]=V.viewInitial.aspectratio.z,S[D]=V.viewInitial.aspectmode)}T.call("_guiRelayout",p,S)}function a(p,v){var g=v.currentTarget,y=g._previousVal,m=p._fullLayout,w=m._subplots.gl3d||[],d=["xaxis","yaxis","zaxis"],S={},A={};if(y)A=y,g._previousVal=null;else{for(var E=0;E<w.length;E++){var P=w[E],O=m[P],I=P+".hovermode";S[I]=O.hovermode,A[I]=!1;for(var D=0;D<3;D++){var V=d[D],z=P+"."+V+".showspikes";A[z]=!1,S[z]=O[V].showspikes}}g._previousVal=S}return A}function l(p,v){for(var g=v.currentTarget,y=g.getAttribute("data-attr"),m=g.getAttribute("data-val")||!0,w=p._fullLayout,d=w._subplots.geo||[],S=0;S<d.length;S++){var A=d[S],E=w[A];if(y==="zoom"){var P=E.projection.scale,O=m==="in"?2*P:.5*P;T.call("_guiRelayout",p,A+".projection.scale",O)}}y==="reset"&&x(p,"geo")}function u(p){var v=p._fullLayout;return!v.hovermode&&(v._has("cartesian")?v._isHoriz?"y":"x":"closest")}function h(p){var v=u(p);T.call("_guiRelayout",p,"hovermode",v)}function c(p,v){for(var g=v.currentTarget.getAttribute("data-val"),y=p._fullLayout,m=y._subplots.mapbox||[],w={},d=0;d<m.length;d++){var S=m[d],A=y[S].zoom,E=g==="in"?1.05*A:A/1.05;w[S+".zoom"]=E}T.call("_guiRelayout",p,w)}function x(p,v){for(var g=p._fullLayout,y=g._subplots[v]||[],m={},w=0;w<y.length;w++)for(var d=y[w],S=g[d]._subplot.viewInitial,A=Object.keys(S),E=0;E<A.length;E++){var P=A[E];m[d+"."+P]=S[P]}T.call("_guiRelayout",p,m)}t.toImage={name:"toImage",title:function(p){var v=(p._context.toImageButtonOptions||{}).format||"png";return s(p,v==="png"?"Download plot as a png":"Download plot")},icon:_.camera,click:function(p){var v=p._context.toImageButtonOptions,g={format:v.format||"png"};f.notifier(s(p,"Taking snapshot - this may take a few seconds"),"long"),g.format!=="svg"&&f.isIE()&&(f.notifier(s(p,"IE only supports svg.  Changing format to svg."),"long"),g.format="svg"),["filename","width","height","scale"].forEach(function(y){y in v&&(g[y]=v[y])}),T.call("downloadImage",p,g).then(function(y){f.notifier(s(p,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){f.notifier(s(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(p){return s(p,"Edit in Chart Studio")},icon:_.disk,click:function(p){k.sendDataToCloud(p)}},t.editInChartStudio={name:"editInChartStudio",title:function(p){return s(p,"Edit in Chart Studio")},icon:_.pencil,click:function(p){k.sendDataToCloud(p)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return s(p,"Zoom")},attr:"dragmode",val:"zoom",icon:_.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(p){return s(p,"Pan")},attr:"dragmode",val:"pan",icon:_.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(p){return s(p,"Box Select")},attr:"dragmode",val:"select",icon:_.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return s(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:_.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(p){return s(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:_.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(p){return s(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:_.drawopenpath,click:i},t.drawline={name:"drawline",title:function(p){return s(p,"Draw line")},attr:"dragmode",val:"drawline",icon:_.drawline,click:i},t.drawrect={name:"drawrect",title:function(p){return s(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:_.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(p){return s(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:_.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(p){return s(p,"Erase active shape")},icon:_.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return s(p,"Autoscale")},attr:"zoom",val:"auto",icon:_.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return s(p,"Reset axes")},attr:"zoom",val:"reset",icon:_.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return s(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return s(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:_.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return s(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:_.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(p){return s(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:_.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(p){return s(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:_["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(p){return s(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:_["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return s(p,"Reset camera to default")},attr:"resetDefault",icon:_.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return s(p,"Reset camera to last save")},attr:"resetLastSave",icon:_.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(p,v){var g=a(p,v);T.call("_guiRelayout",p,g)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return s(p,"Reset")},attr:"reset",val:null,icon:_.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:h},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:h},t.resetViewSankey={name:"resetSankeyGroup",title:function(p){return s(p,"Reset view")},icon:_.home,click:function(p){for(var v={"node.groups":[],"node.x":[],"node.y":[]},g=0;g<p._fullData.length;g++){var y=p._fullData[g]._viewInitial;v["node.groups"].push(y.node.groups.slice()),v["node.x"].push(y.node.x.slice()),v["node.y"].push(y.node.y.slice())}T.call("restyle",p,v)}},t.toggleHover={name:"toggleHover",title:function(p){return s(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(p,v){var g=a(p,v);g.hovermode=u(p),T.call("_guiRelayout",p,g)}},t.resetViews={name:"resetViews",title:function(p){return s(p,"Reset views")},icon:_.home,click:function(p,v){var g=v.currentTarget;g.setAttribute("data-attr","zoom"),g.setAttribute("data-val","reset"),i(p,v),g.setAttribute("data-attr","resetLastSave"),n(p,v),x(p,"geo"),x(p,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(p){return s(p,"Toggle Spike Lines")},icon:_.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var v=p._fullLayout,g=v._cartesianSpikesEnabled;v._cartesianSpikesEnabled=g==="on"?"off":"on",T.call("_guiRelayout",p,function(y){for(var m=y._fullLayout._cartesianSpikesEnabled==="on",w=o.list(y,null,!0),d={},S=0;S<w.length;S++){var A=w[S];d[A._name+".showspikes"]=!!m||A._showSpikeInitial}return d}(p))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return s(p,"Reset view")},attr:"reset",icon:_.home,click:function(p){x(p,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return s(p,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return s(p,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:c}},76052:function(U,C,e){var T=e(44248),k=Object.keys(T),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],_=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),b=[];k.forEach(function(f){(function(s){if(_.indexOf(s._cat||s.name)===-1){var t=s.name,i=(s._cat||s.name).toLowerCase();b.indexOf(t)===-1&&b.push(t),b.indexOf(i)===-1&&b.push(i)}})(T[f])}),b.sort(),U.exports={DRAW_MODES:o,backButtons:_,foreButtons:b}},90824:function(U,C,e){var T=e(3400),k=e(76308),o=e(31780),_=e(66540);U.exports=function(b,f){var s=b.modebar||{},t=o.newContainer(f,"modebar");function i(n,a){return T.coerce(s,t,_,n,a)}i("orientation"),i("bgcolor",k.addOpacity(f.paper_bgcolor,.5));var r=k.contrast(k.rgb(f.modebar.bgcolor));i("color",k.addOpacity(r,.3)),i("activecolor",k.addOpacity(r,.7)),i("uirevision",f.uirevision),i("add"),i("remove")}},45460:function(U,C,e){U.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(U,C,e){var T=e(79811),k=e(43028),o=e(24040),_=e(10624).isUnifiedHover,b=e(66400),f=e(44248),s=e(76052).DRAW_MODES,t=e(3400).extendDeep;U.exports=function(i){var r=i._fullLayout,n=i._context,a=r._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=n.modeBarButtons;l=Array.isArray(u)&&u.length?function(h){for(var c=t([],h),x=0;x<c.length;x++)for(var p=c[x],v=0;v<p.length;v++){var g=p[v];if(typeof g=="string"){if(f[g]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[x][v]=f[g]}}return c}(u):!n.displayModeBar&&n.watermark?[]:function(h){var c=h._fullLayout,x=h._fullData,p=h._context;function v(pe,ge){if(typeof ge=="string"){if(ge.toLowerCase()===pe.toLowerCase())return!0}else{var ye=ge.name,be=ge._cat||ge.name;if(ye===pe||be===pe.toLowerCase())return!0}return!1}var g=c.modebar.add;typeof g=="string"&&(g=[g]);var y=c.modebar.remove;typeof y=="string"&&(y=[y]);var m=p.modeBarButtonsToAdd.concat(g.filter(function(pe){for(var ge=0;ge<p.modeBarButtonsToRemove.length;ge++)if(v(pe,p.modeBarButtonsToRemove[ge]))return!1;return!0})),w=p.modeBarButtonsToRemove.concat(y.filter(function(pe){for(var ge=0;ge<p.modeBarButtonsToAdd.length;ge++)if(v(pe,p.modeBarButtonsToAdd[ge]))return!1;return!0})),d=c._has("cartesian"),S=c._has("gl3d"),A=c._has("geo"),E=c._has("pie"),P=c._has("funnelarea"),O=c._has("gl2d"),I=c._has("ternary"),D=c._has("mapbox"),V=c._has("polar"),z=c._has("smith"),j=c._has("sankey"),X=function(pe){for(var ge=T.list({_fullLayout:pe},null,!0),ye=0;ye<ge.length;ye++)if(!ge[ye].fixedrange)return!1;return!0}(c),F=_(c.hovermode),H=[];function W(pe){if(pe.length){for(var ge=[],ye=0;ye<pe.length;ye++){for(var be=pe[ye],Te=f[be],Se=Te.name.toLowerCase(),Fe=(Te._cat||Te.name).toLowerCase(),xe=!1,le=0;le<w.length;le++){var oe=w[le].toLowerCase();if(oe===Se||oe===Fe){xe=!0;break}}xe||ge.push(f[be])}H.push(ge)}}var ie=["toImage"];p.showEditInChartStudio?ie.push("editInChartStudio"):p.showSendToCloud&&ie.push("sendDataToCloud"),W(ie);var te=[],Q=[],ne=[],$=[];(d||O||E||P||I)+A+S+D+V+z>1?(Q=["toggleHover"],ne=["resetViews"]):A?(te=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],ne=["resetGeo"]):S?(Q=["hoverClosest3d"],ne=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(te=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],ne=["resetViewMapbox"]):O?Q=["hoverClosestGl2d"]:E?Q=["hoverClosestPie"]:j?(Q=["hoverClosestCartesian","hoverCompareCartesian"],ne=["resetViewSankey"]):Q=["toggleHover"],d&&Q.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(function(pe){for(var ge=0;ge<pe.length;ge++)if(!o.traceIs(pe[ge],"noHover"))return!1;return!0}(x)||F)&&(Q=[]),!d&&!O||X||(te=["zoomIn2d","zoomOut2d","autoScale2d"],ne[0]!=="resetViews"&&(ne=["resetScale2d"])),S?$=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||O)&&!X||I?$=["zoom2d","pan2d"]:D||A?$=["pan2d"]:V&&($=["zoom2d"]),function(pe){for(var ge=!1,ye=0;ye<pe.length&&!ge;ye++){var be=pe[ye];be._module&&be._module.selectPoints&&(o.traceIs(be,"scatter-like")?(k.hasMarkers(be)||k.hasText(be))&&(ge=!0):o.traceIs(be,"box-violin")&&be.boxpoints!=="all"&&be.points!=="all"||(ge=!0))}return ge}(x)&&$.push("select2d","lasso2d");var J=[],re=function(pe){J.indexOf(pe)===-1&&Q.indexOf(pe)!==-1&&J.push(pe)};if(Array.isArray(m)){for(var se=[],ue=0;ue<m.length;ue++){var he=m[ue];typeof he=="string"?(he=he.toLowerCase(),s.indexOf(he)!==-1?(c._has("mapbox")||c._has("cartesian"))&&$.push(he):he==="togglespikelines"?re("toggleSpikelines"):he==="togglehover"?re("toggleHover"):he==="hovercompare"?re("hoverCompareCartesian"):he==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):he==="v1hovermode"&&(re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):se.push(he)}m=se}return W($),W(te.concat(ne)),W(J),function(pe,ge){if(ge.length)if(Array.isArray(ge[0]))for(var ye=0;ye<ge.length;ye++)pe.push(ge[ye]);else pe.push(ge);return pe}(H,m)}(i),a?a.update(i,l):r._modeBar=b(i,l)}else a&&(a.destroy(),delete r._modeBar)}},66400:function(U,C,e){var T=e(33428),k=e(38248),o=e(3400),_=e(9224),b=e(25788).version,f=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(i,r){this.graphInfo=i;var n=this.graphInfo._context,a=this.graphInfo._fullLayout,l="modebar-"+a._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",n.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),a.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var u=a.modebar,h=n.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(l),o.addRelatedStyleRule(l,h+"#"+l+" .modebar-group","background-color: "+u.bgcolor),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),o.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),x=this.hasLogo!==n.displaylogo,p=this.locale!==n.locale;if(this.locale=n.locale,(c||x||p)&&(this.removeAllButtons(),this.updateButtons(r),n.watermark||n.displaylogo)){var v=this.getLogo();n.watermark&&(v.className=v.className+" watermark"),a.modebar.orientation==="v"?this.element.insertBefore(v,this.element.childNodes[0]):this.element.appendChild(v),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var r=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var a=r.createGroup();n.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var h=r.createButton(l);r.buttonElements.push(h),a.appendChild(h)}),r.element.appendChild(a)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var r=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var a=i.title;a===void 0?a=i.name:typeof a=="function"&&(a=a(this.graphInfo)),(a||a===0)&&n.setAttribute("data-title",a),i.attr!==void 0&&n.setAttribute("data-attr",i.attr);var l=i.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),n.setAttribute("data-val",l)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(h){i.click(r.graphInfo,h),r.updateActiveButton(h.currentTarget)}),n.setAttribute("data-toggle",i.toggle||!1),i.toggle&&T.select(n).classed("active",!0);var u=i.icon;return typeof u=="function"?n.appendChild(u()):n.appendChild(this.createIcon(u||_.question)),n.setAttribute("data-gravity",i.gravity||"n"),n},t.createIcon=function(i){var r,n=k(i.height)?Number(i.height):i.ascent-i.descent,a="http://www.w3.org/2000/svg";if(i.path){(r=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,i.width,n].join(" ")),r.setAttribute("class","icon");var l=document.createElementNS(a,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):i.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),r.appendChild(l)}return i.svg&&(r=f.parseFromString(i.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(i){var r=this.graphInfo._fullLayout,n=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var l=a.getAttribute("data-val")||!0,u=a.getAttribute("data-attr"),h=a.getAttribute("data-toggle")==="true",c=T.select(a);if(h)u===n&&c.classed("active",!c.classed("active"));else{var x=u===null?u:o.nestedProperty(r,u).get();c.classed("active",x===l)}})},t.hasButtons=function(i){var r=this.buttons;if(!r||i.length!==r.length)return!1;for(var n=0;n<i.length;++n){if(i[n].length!==r[n].length)return!1;for(var a=0;a<i[n].length;a++)if(i[n][a].name!==r[n][a].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(_.newplotlylogo)),i.appendChild(r),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},U.exports=function(i,r){var n=i._fullLayout,a=new s({graphInfo:i,container:n._modebardiv.node(),buttons:r});return n._privateplot&&T.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},26680:function(U,C,e){var T=e(25376),k=e(22548),o=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});U.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:T({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(U){U.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(U,C,e){var T=e(3400),k=e(76308),o=e(31780),_=e(51272),b=e(26680),f=e(85984);function s(t,i,r,n){var a=n.calendar;function l(h,c){return T.coerce(t,i,b.buttons,h,c)}if(l("visible")){var u=l("step");u!=="all"&&(!a||a==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}U.exports=function(t,i,r,n,a){var l=t.rangeselector||{},u=o.newContainer(i,"rangeselector");function h(p,v){return T.coerce(l,u,b,p,v)}if(h("visible",_(l,u,{name:"buttons",handleItemDefaults:s,calendar:a}).length>0)){var c=function(p,v,g){for(var y=g.filter(function(S){return v[S].anchor===p._id}),m=0,w=0;w<y.length;w++){var d=v[y[w]].domain;d&&(m=Math.max(d[1],m))}return[p.domain[0],m+f.yPad]}(i,r,n);h("x",c[0]),h("y",c[1]),T.noneOrAll(t,i,["x","y"]),h("xanchor"),h("yanchor"),T.coerceFont(h,"font",r.font);var x=h("bgcolor");h("activecolor",k.contrast(x,f.lightAmount,f.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(U,C,e){var T=e(33428),k=e(24040),o=e(7316),_=e(76308),b=e(43616),f=e(3400),s=f.strTranslate,t=e(72736),i=e(79811),r=e(84284),n=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR,u=e(85984),h=e(48040);function c(v){return v._id}function x(v,g,y){var m=f.ensureSingle(v,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(_.stroke,g.bordercolor).call(_.fill,function(w,d){return d._isActive||d._isHovered?w.activecolor:w.bgcolor}(g,y)).style("stroke-width",g.borderwidth+"px")}function p(v,g,y,m){var w,d;f.ensureSingle(v,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,g.font).text((w=y,d=m._fullLayout._meta,w.label?d?f.templateString(w.label,d):w.label:w.step==="all"?"all":w.count+w.step.charAt(0))).call(function(S){t.convertToTspans(S,m)})}U.exports=function(v){var g=v._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var m=i.list(y,"x",!0),w=[],d=0;d<m.length;d++){var S=m[d];S.rangeselector&&S.rangeselector.visible&&w.push(S)}return w}(v),c);g.enter().append("g").classed("rangeselector",!0),g.exit().remove(),g.style({cursor:"pointer","pointer-events":"all"}),g.each(function(y){var m=T.select(this),w=y,d=w.rangeselector,S=m.selectAll("g.button").data(f.filterVisible(d.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(A){var E=T.select(this),P=h(w,A);A._isActive=function(O,I,D){if(I.step==="all")return O.autorange===!0;var V=Object.keys(D);return O.range[0]===D[V[0]]&&O.range[1]===D[V[1]]}(w,A,P),E.call(x,d,A),E.call(p,d,A,v),E.on("click",function(){v._dragged||k.call("_guiRelayout",v,P)}),E.on("mouseover",function(){A._isHovered=!0,E.call(x,d,A)}),E.on("mouseout",function(){A._isHovered=!1,E.call(x,d,A)})}),function(A,E,P,O,I){var D=0,V=0,z=P.borderwidth;E.each(function(){var ie=T.select(this).select(".selector-text"),te=P.font.size*n,Q=Math.max(te*t.lineCount(ie),16)+3;V=Math.max(V,Q)}),E.each(function(){var ie=T.select(this),te=ie.select(".selector-rect"),Q=ie.select(".selector-text"),ne=Q.node()&&b.bBox(Q.node()).width,$=P.font.size*n,J=t.lineCount(Q),re=Math.max(ne+10,u.minButtonWidth);ie.attr("transform",s(z+D,z)),te.attr({x:0,y:0,width:re,height:V}),t.positionText(Q,re/2,V/2-(J-1)*$/2+3),D+=re+5});var j=A._fullLayout._size,X=j.l+j.w*P.x,F=j.t+j.h*(1-P.y),H="left";f.isRightAnchor(P)&&(X-=D,H="right"),f.isCenterAnchor(P)&&(X-=D/2,H="center");var W="top";f.isBottomAnchor(P)&&(F-=V,W="bottom"),f.isMiddleAnchor(P)&&(F-=V/2,W="middle"),D=Math.ceil(D),V=Math.ceil(V),X=Math.round(X),F=Math.round(F),o.autoMargin(A,O+"-range-selector",{x:P.x,y:P.y,l:D*a[H],r:D*l[H],b:V*l[W],t:V*a[W]}),I.attr("transform",s(X,F))}(v,S,d,w._name,m)})}},48040:function(U,C,e){var T=e(73220),k=e(3400).titleCase;U.exports=function(o,_){var b=o._name,f={};if(_.step==="all")f[b+".autorange"]=!0;else{var s=function(t,i){var r,n=t.range,a=new Date(t.r2l(n[1])),l=i.step,u=T["utc"+k(l)],h=i.count;switch(i.stepmode){case"backward":r=t.l2r(+u.offset(a,-h));break;case"todate":var c=u.offset(a,-h);r=t.l2r(+u.ceil(c))}return[r,n[1]]}(o,_);f[b+".range[0]"]=s[0],f[b+".range[1]"]=s[1]}return f}},41152:function(U,C,e){U.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(U,C,e){var T=e(22548);U.exports={bgcolor:{valType:"color",dflt:T.background,editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(U,C,e){var T=e(79811).list,k=e(19280).getAutoRange,o=e(74636);U.exports=function(_){for(var b=T(_,"x",!0),f=0;f<b.length;f++){var s=b[f],t=s[o.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(_,s))}}},74636:function(U){U.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(U,C,e){var T=e(3400),k=e(31780),o=e(79811),_=e(11200),b=e(10936);U.exports=function(f,s,t){var i=f[t],r=s[t];if(i.rangeslider||s._requestRangeslider[r._id]){T.isPlainObject(i.rangeslider)||(i.rangeslider={});var n,a,l=i.rangeslider,u=k.newContainer(r,"rangeslider");if(m("visible")){m("bgcolor",s.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!r.isValidRange(l.range)),m("range");var h=s._subplots;if(h)for(var c=h.cartesian.filter(function(d){return d.substr(0,d.indexOf("y"))===o.name2id(t)}).map(function(d){return d.substr(d.indexOf("y"),d.length)}),x=T.simpleMap(c,o.id2name),p=0;p<x.length;p++){var v=x[p];n=l[v]||{},a=k.newContainer(u,v,"yaxis");var g,y=s[v];n.range&&y.isValidRange(n.range)&&(g="fixed"),w("rangemode",g)!=="match"&&w("range",y.range.slice())}u._input=l}}function m(d,S){return T.coerce(l,u,_,d,S)}function w(d,S){return T.coerce(n,a,b,d,S)}}},20060:function(U,C,e){var T=e(33428),k=e(24040),o=e(7316),_=e(3400),b=_.strTranslate,f=e(43616),s=e(76308),t=e(81668),i=e(57952),r=e(79811),n=e(86476),a=e(93972),l=e(74636);function u(y){return typeof y.clientX=="number"?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function h(y,m,w,d){var S=_.ensureSingle(y,"rect",l.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),A=d.borderwidth%2==0?d.borderwidth:d.borderwidth-1,E=-d._offsetShift,P=f.crispRound(m,d.borderwidth);S.attr({width:d._width+A,height:d._height+A,transform:b(E,E),"stroke-width":P}).call(s.stroke,d.bordercolor).call(s.fill,d.bgcolor)}function c(y,m,w,d){var S=m._fullLayout;_.ensureSingleById(S._topdefs,"clipPath",d._clipId,function(A){A.append("rect").attr({x:0,y:0})}).select("rect").attr({width:d._width,height:d._height})}function x(y,m,w,d){var S,A=m.calcdata,E=y.selectAll("g."+l.rangePlotClassName).data(w._subplotsWith,_.identity);E.enter().append("g").attr("class",function(P){return l.rangePlotClassName+" "+P}).call(f.setClipUrl,d._clipId,m),E.order(),E.exit().remove(),E.each(function(P,O){var I=T.select(this),D=O===0,V=r.getFromId(m,P,"y"),z=V._name,j=d[z],X={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:d.range.slice(),calendar:w.calendar},width:d._width,height:d._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};w.rangebreaks&&(X.layout.xaxis.rangebreaks=w.rangebreaks),X.layout[z]={type:V.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():V.range.slice(),calendar:V.calendar},V.rangebreaks&&(X.layout[z].rangebreaks=V.rangebreaks),o.supplyDefaults(X);var F=X._fullLayout.xaxis,H=X._fullLayout[z];F.clearCalc(),F.setScale(),H.clearCalc(),H.setScale();var W={id:P,plotgroup:I,xaxis:F,yaxis:H,isRangePlot:!0};D?S=W:(W.mainplot="xy",W.mainplotinfo=S),i.rangePlot(m,W,function(ie,te){for(var Q=[],ne=0;ne<ie.length;ne++){var $=ie[ne],J=$[0].trace;J.xaxis+J.yaxis===te&&Q.push($)}return Q}(A,P))})}function p(y,m,w,d,S){_.ensureSingle(y,"rect",l.maskMinClassName,function(A){A.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",d._height).call(s.fill,l.maskColor),_.ensureSingle(y,"rect",l.maskMaxClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",d._height).call(s.fill,l.maskColor),S.rangemode!=="match"&&(_.ensureSingle(y,"rect",l.maskMinOppAxisClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",d._width).call(s.fill,l.maskOppAxisColor),_.ensureSingle(y,"rect",l.maskMaxOppAxisClassName,function(A){A.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",d._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function v(y,m,w,d){m._context.staticPlot||_.ensureSingle(y,"rect",l.slideBoxClassName,function(S){S.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:d._height,fill:l.slideBoxFill})}function g(y,m,w,d){var S=_.ensureSingle(y,"g",l.grabberMinClassName),A=_.ensureSingle(y,"g",l.grabberMaxClassName),E={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},P={y:Math.round(d._height/4),height:Math.round(d._height/2)};_.ensureSingle(S,"rect",l.handleMinClassName,function(I){I.attr(E)}).attr(P),_.ensureSingle(A,"rect",l.handleMaxClassName,function(I){I.attr(E)}).attr(P);var O={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:m._context.staticPlot?void 0:l.grabAreaCursor};_.ensureSingle(S,"rect",l.grabAreaMinClassName,function(I){I.attr(O)}).attr("height",d._height),_.ensureSingle(A,"rect",l.grabAreaMaxClassName,function(I){I.attr(O)}).attr("height",d._height)}U.exports=function(y){for(var m=y._fullLayout,w=m._rangeSliderData,d=0;d<w.length;d++){var S=w[d][l.name];S._clipId=S._id+"-"+m._uid}var A=m._infolayer.selectAll("g."+l.containerClassName).data(w,function(E){return E._name});A.exit().each(function(E){var P=E[l.name];m._topdefs.select("#"+P._clipId).remove()}).remove(),w.length!==0&&(A.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),A.each(function(E){var P=T.select(this),O=E[l.name],I=m[r.id2name(E.anchor)],D=O[r.id2name(E.anchor)];if(O.range){var V,z=_.simpleMap(O.range,E.r2l),j=_.simpleMap(E.range,E.r2l);V=j[0]<j[1]?[Math.min(z[0],j[0]),Math.max(z[1],j[1])]:[Math.max(z[0],j[0]),Math.min(z[1],j[1])],O.range=O._input.range=_.simpleMap(V,E.l2r)}E.cleanRange("rangeslider.range");var X=m._size,F=E.domain;O._width=X.w*(F[1]-F[0]);var H=Math.round(X.l+X.w*F[0]),W=Math.round(X.t+X.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+O._offsetShift+l.extraPad);P.attr("transform",b(H,W)),O._rl=_.simpleMap(O.range,E.r2l);var ie=O._rl[0],te=O._rl[1],Q=te-ie;if(O.p2d=function(ge){return ge/O._width*Q+ie},O.d2p=function(ge){return(ge-ie)/Q*O._width},E.rangebreaks){var ne=E.locateBreaks(ie,te);if(ne.length){var $,J,re=0;for($=0;$<ne.length;$++)re+=(J=ne[$]).max-J.min;var se=O._width/(te-ie-re),ue=[-se*ie];for($=0;$<ne.length;$++)J=ne[$],ue.push(ue[ue.length-1]-se*(J.max-J.min));for(O.d2p=function(ge){for(var ye=ue[0],be=0;be<ne.length;be++){var Te=ne[be];if(ge>=Te.max)ye=ue[be+1];else if(ge<Te.min)break}return ye+se*ge},$=0;$<ne.length;$++)(J=ne[$]).pmin=O.d2p(J.min),J.pmax=O.d2p(J.max);O.p2d=function(ge){for(var ye=ue[0],be=0;be<ne.length;be++){var Te=ne[be];if(ge>=Te.pmax)ye=ue[be+1];else if(ge<Te.pmin)break}return(ge-ye)/se}}}if(D.rangemode!=="match"){var he=I.r2l(D.range[0]),pe=I.r2l(D.range[1])-he;O.d2pOppAxis=function(ge){return(ge-he)/pe*O._height}}P.call(h,y,E,O).call(c,y,E,O).call(x,y,E,O).call(p,y,E,O,D).call(v,y,E,O).call(g,y,E,O),function(ge,ye,be,Te){if(!ye._context.staticPlot){var Se=ge.select("rect."+l.slideBoxClassName).node(),Fe=ge.select("rect."+l.grabAreaMinClassName).node(),xe=ge.select("rect."+l.grabAreaMaxClassName).node();ge.on("mousedown",le),ge.on("touchstart",le)}function le(){var oe=T.event,de=oe.target,Ce=u(oe),_e=Ce-ge.node().getBoundingClientRect().left,Ae=Te.d2p(be._rl[0]),Le=Te.d2p(be._rl[1]),ze=n.coverSlip();function Re(ke){var Ee,De,Pe,Ue=+u(ke)-Ce;switch(de){case Se:if(Pe="ew-resize",Ae+Ue>be._length||Le+Ue<0)return;Ee=Ae+Ue,De=Le+Ue;break;case Fe:if(Pe="col-resize",Ae+Ue>be._length)return;Ee=Ae+Ue,De=Le;break;case xe:if(Pe="col-resize",Le+Ue<0)return;Ee=Ae,De=Le+Ue;break;default:Pe="ew-resize",Ee=_e,De=_e+Ue}if(De<Ee){var We=De;De=Ee,Ee=We}Te._pixelMin=Ee,Te._pixelMax=De,a(T.select(ze),Pe),function($e,ot,st,mt){function _t(tt){return st.l2r(_.constrain(tt,mt._rl[0],mt._rl[1]))}var yt=_t(mt.p2d(mt._pixelMin)),it=_t(mt.p2d(mt._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",ot,st._name+".range",[yt,it])})}(0,ye,be,Te)}function ve(){ze.removeEventListener("mousemove",Re),ze.removeEventListener("mouseup",ve),this.removeEventListener("touchmove",Re),this.removeEventListener("touchend",ve),_.removeElement(ze)}this.addEventListener("touchmove",Re),this.addEventListener("touchend",ve),ze.addEventListener("mousemove",Re),ze.addEventListener("mouseup",ve)}}(P,y,E,O),function(ge,ye,be,Te,Se,Fe){var xe=l.handleWidth/2;function le(ke){return _.constrain(ke,0,Te._width)}function oe(ke){return _.constrain(ke,0,Te._height)}function de(ke){return _.constrain(ke,-xe,Te._width+xe)}var Ce=le(Te.d2p(be._rl[0])),_e=le(Te.d2p(be._rl[1]));if(ge.select("rect."+l.slideBoxClassName).attr("x",Ce).attr("width",_e-Ce),ge.select("rect."+l.maskMinClassName).attr("width",Ce),ge.select("rect."+l.maskMaxClassName).attr("x",_e).attr("width",Te._width-_e),Fe.rangemode!=="match"){var Ae=Te._height-oe(Te.d2pOppAxis(Se._rl[1])),Le=Te._height-oe(Te.d2pOppAxis(Se._rl[0]));ge.select("rect."+l.maskMinOppAxisClassName).attr("x",Ce).attr("height",Ae).attr("width",_e-Ce),ge.select("rect."+l.maskMaxOppAxisClassName).attr("x",Ce).attr("y",Le).attr("height",Te._height-Le).attr("width",_e-Ce),ge.select("rect."+l.slideBoxClassName).attr("y",Ae).attr("height",Le-Ae)}var ze=.5,Re=Math.round(de(Ce-xe))-ze,ve=Math.round(de(_e-xe))+ze;ge.select("g."+l.grabberMinClassName).attr("transform",b(Re,ze)),ge.select("g."+l.grabberMaxClassName).attr("transform",b(ve,ze))}(P,0,E,O,I,D),E.side==="bottom"&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:m._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:W+O._height+O._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},97944:function(U,C,e){var T=e(79811),k=e(72736),o=e(74636),_=e(84284).LINE_SPACING,b=o.name;function f(s){var t=s&&s[b];return t&&t.visible}C.isVisible=f,C.makeData=function(s){var t=T.list({_fullLayout:s},"x",!0),i=s.margin,r=[];if(!s._has("gl2d"))for(var n=0;n<t.length;n++){var a=t[n];if(f(a)){r.push(a);var l=a[b];l._id=b+a._id,l._height=(s.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=r},C.autoMarginOpts=function(s,t){var i=s._fullLayout,r=t[b],n=t._id.charAt(0),a=0,l=0;return t.side==="bottom"&&(a=t._depth,t.title.text!==i._dfltTitle[n]&&(l=1.5*t.title.font.size+10+r._offsetShift,l+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*_)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(i.margin.b,l),pad:o.extraPad+2*r._offsetShift}}},49692:function(U,C,e){var T=e(3400),k=e(11200),o=e(10936),_=e(97944);U.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:T.extendFlat({},k,{yaxis:o})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:_.isVisible,makeData:_.makeData,autoMarginOpts:_.autoMarginOpts}},10936:function(U){U.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(U,C,e){var T=e(13916),k=e(52904).line,o=e(98192).u,_=e(92880).extendFlat,b=e(67824).overrideAll,f=e(31780).templatedArray;e(36208),U.exports=b(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:_({},T.xref,{}),yref:_({},T.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:_({},k.width,{min:1,dflt:1}),dash:_({},o,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(U){U.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(U,C,e){var T=e(3400),k=e(54460),o=e(51272),_=e(93956),b=e(65152);function f(s,t,i){function r(E,P){return T.coerce(s,t,_,E,P)}var n=r("path"),a=r("type",n?"path":"rect")!=="path";a&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var l=["x","y"],u=0;u<2;u++){var h,c,x,p=l[u],v={_fullLayout:i},g=k.coerceRef(s,t,v,p);if((h=k.getFromId(v,g))._selectionIndices.push(t._index),x=b.rangeToShapePosition(h),c=b.shapePositionToRange(h),a){var y=p+"0",m=p+"1",w=s[y],d=s[m];s[y]=c(s[y],!0),s[m]=c(s[m],!0),k.coercePosition(t,v,r,g,y),k.coercePosition(t,v,r,g,m);var S=t[y],A=t[m];S!==void 0&&A!==void 0&&(t[y]=x(S),t[m]=x(A),s[y]=w,s[m]=d)}}a&&T.noneOrAll(s,t,["x0","x1","y0","y1"])}U.exports=function(s,t){o(s,t,{name:"selections",handleItemDefaults:f});for(var i=t.selections,r=0;r<i.length;r++){var n=i[r];n&&n.path===void 0&&(n.x0!==void 0&&n.x1!==void 0&&n.y0!==void 0&&n.y1!==void 0||(t.selections[r]=null))}}},23640:function(U,C,e){var T=e(9856).readPaths,k=e(55496),o=e(1936).clearOutlineControllers,_=e(76308),b=e(43616),f=e(31780).arrayEditor,s=e(65152),t=s.getPathString;function i(u){var h=u._fullLayout;for(var c in o(u),h._selectionLayer.selectAll("path").remove(),h._plots){var x=h._plots[c].selectionLayer;x&&x.selectAll("path").remove()}for(var p=0;p<h.selections.length;p++)n(u,p)}function r(u){return u._context.editSelection}function n(u,h){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,h),x=c.options,p=c.plotinfo;x._input&&function(v){var g=t(u,x),y={"data-index":h,"fill-rule":"evenodd",d:g},m=x.opacity,w="rgba(0,0,0,0)",d=x.line.color||_.contrast(u._fullLayout.plot_bgcolor),S=x.line.width,A=x.line.dash;S||(S=5,A="solid");var E=r(u)&&u._fullLayout._activeSelectionIndex===h;E&&(w=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var P=[],O=1;O>=0;O--){var I=v.append("path").attr(y).style("opacity",O?.1:m).call(_.stroke,d).call(_.fill,w).call(b.dashLine,O?"solid":A,O?4+S:S);if(a(I,u,x),E){var D=f(u.layout,"selections",x);I.style({cursor:"move"});var V={element:I.node(),plotinfo:p,gd:u,editHelpers:D,isActiveSelection:!0},z=T(g,u);k(z,I,V)}else I.style("pointer-events",O?"all":"none");P[O]=I}var j=P[0];P[1].node().addEventListener("click",function(){return function(X,F){if(r(X)){var H=+F.node().getAttribute("data-index");if(H>=0){if(H===X._fullLayout._activeSelectionIndex)return void l(X);X._fullLayout._activeSelectionIndex=H,X._fullLayout._deactivateSelection=l,i(X)}}}(u,j)})}(u._fullLayout._selectionLayer)}function a(u,h,c){var x=c.xref+c.yref;b.setClipUrl(u,"clip"+h._fullLayout._uid+x,h)}function l(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(o(u),delete u._fullLayout._activeSelectionIndex,i(u))}U.exports={draw:i,drawOne:n,activateLastSelection:function(u){if(r(u)){var h=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=h,u._fullLayout._deactivateSelection=l,i(u)}}}},34200:function(U,C,e){var T=e(98192).u,k=e(92880).extendFlat;U.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},T,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(U){U.exports=function(C,e,T){T("newselection.mode"),T("newselection.line.width")&&(T("newselection.line.color"),T("newselection.line.dash")),T("activeselection.fillcolor"),T("activeselection.opacity")}},5968:function(U,C,e){var T=e(72760).selectMode,k=e(1936).clearOutline,o=e(9856),_=o.readPaths,b=o.writePaths,f=o.fixDatesForPaths;U.exports=function(s,t){if(s.length){var i=s[0][0];if(i){var r=i.getAttribute("d"),n=t.gd,a=n._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,h=l.yaxis,c=t.isActiveSelection,x=t.dragmode,p=(n.layout||{}).selections||[];if(!T(x)&&c!==void 0){var v=n._fullLayout._activeSelectionIndex;if(v<p.length)switch(n._fullLayout.selections[v].type){case"rect":x="select";break;case"path":x="lasso"}}var g,y=_(r,n,l,c),m={xref:u._id,yref:h._id,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};y.length===1&&(g=y[0]),g&&g.length===5&&x==="select"?(m.type="rect",m.x0=g[0][1],m.y0=g[0][2],m.x1=g[2][1],m.y1=g[2][2]):(m.type="path",u&&h&&f(y,u,h),m.path=b(y),g=null),k(n);for(var w=t.editHelpers,d=(w||{}).modifyItem,S=[],A=0;A<p.length;A++){var E=n._fullLayout.selections[A];if(E){if(S[A]=E._input,c!==void 0&&A===n._fullLayout._activeSelectionIndex){var P=m;switch(E.type){case"rect":d("x0",P.x0),d("x1",P.x1),d("y0",P.y0),d("y1",P.y1);break;case"path":d("path",P.path)}}}else S[A]=E}return c===void 0?(S.push(m),S):w?w.getUpdateObj():{}}}}},5840:function(U,C,e){var T=e(3400).strTranslate;function k(o,_){switch(o.type){case"log":return o.p2d(_);case"date":return o.p2r(_,0,o.calendar);default:return o.p2r(_)}}U.exports={p2r:k,r2p:function(o,_){switch(o.type){case"log":return o.d2p(_);case"date":return o.r2p(_,0,o.calendar);default:return o.r2p(_)}},axValue:function(o){var _=o._id.charAt(0)==="y"?1:0;return function(b){return k(o,b[_])}},getTransform:function(o){return T(o.xaxis._offset,o.yaxis._offset)}}},22676:function(U,C,e){var T=e(23640),k=e(43156);U.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:T.draw,drawOne:T.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},43156:function(U,C,e){var T=e(14756),k=e(61456),o=e(24040),_=e(43616).dashStyle,b=e(76308),f=e(93024),s=e(10624).makeEventData,t=e(72760),i=t.freeMode,r=t.rectMode,n=t.drawMode,a=t.openMode,l=t.selectMode,u=e(65152),h=e(85448),c=e(55496),x=e(1936).clearOutline,p=e(9856),v=p.handleEllipse,g=p.readPaths,y=e(93940).newShapes,m=e(5968),w=e(23640).activateLastSelection,d=e(3400),S=d.sorterAsc,A=e(92065),E=e(91200),P=e(79811).getFromId,O=e(73696),I=e(39172).redrawReglTraces,D=e(83280),V=D.MINSELECT,z=A.filter,j=A.tester,X=e(5840),F=X.p2r,H=X.axValue,W=X.getTransform;function ie(Re){return Re.subplot!==void 0}function te(Re,ve,ke,Ee,De,Pe,Ue){var We,$e,ot,st,mt,_t,yt,it,tt,Pt=ve._hoverdata,Rt=ve._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Ke){return Ke&&Array.isArray(Ke)&&Ke[0].hoverOnBox!==!0}(Pt)){J(Re,ve,Pe);var Ot=function(Ke,ft){var ut,xt,bt=Ke[0],qe=-1,je=[];for(xt=0;xt<ft.length;xt++)if(ut=ft[xt],bt.fullData._expandedIndex===ut.cd[0].trace._expandedIndex){if(bt.hoverOnBox===!0)break;bt.pointNumber!==void 0?qe=bt.pointNumber:bt.binNumber!==void 0&&(qe=bt.binNumber,je=bt.pointNumbers);break}return{pointNumber:qe,pointNumbers:je,searchInfo:ut}}(Pt,We=ue(ve,ke,Ee,De));if(Ot.pointNumbers.length>0?function(Ke,ft){var ut,xt,bt,qe=[];for(bt=0;bt<Ke.length;bt++)(ut=Ke[bt]).cd[0].trace.selectedpoints&&ut.cd[0].trace.selectedpoints.length>0&&qe.push(ut);if(qe.length===1&&qe[0]===ft.searchInfo&&(xt=ft.searchInfo.cd[0].trace).selectedpoints.length===ft.pointNumbers.length){for(bt=0;bt<ft.pointNumbers.length;bt++)if(xt.selectedpoints.indexOf(ft.pointNumbers[bt])<0)return!1;return!0}return!1}(We,Ot):function(Ke){var ft,ut,xt=0;for(ut=0;ut<Ke.length;ut++)if((ft=Ke[ut].cd[0].trace).selectedpoints&&(ft.selectedpoints.length>1||(xt+=ft.selectedpoints.length)>1))return!1;return xt===1}(We)&&(_t=pe(Ot))){for(Ue&&Ue.remove(),tt=0;tt<We.length;tt++)($e=We[tt])._module.selectPoints($e,!1);ge(ve,We),re(Pe),Rt&&ze(ve)}else{for(yt=Re.shiftKey&&(_t!==void 0?_t:pe(Ot)),ot=function(Ke,ft,ut){return{pointNumber:Ke,searchInfo:ft,subtract:!!ut}}(Ot.pointNumber,Ot.searchInfo,yt),st=$(Pe.selectionDefs.concat([ot])),tt=0;tt<We.length;tt++)if(mt=be(We[tt]._module.selectPoints(We[tt],st),We[tt]),Ft.length)for(var Xe=0;Xe<mt.length;Xe++)Ft.push(mt[Xe]);else Ft=mt;if(ge(ve,We,it={points:Ft}),ot&&Pe&&Pe.selectionDefs.push(ot),Ue){var Je=Pe.mergedPolygons,Ve=a(Pe.dragmode);c(Te(Je,Ve),Ue,Pe)}Rt&&Le(ve,it)}}}function Q(Re){return"pointNumber"in Re&&"searchInfo"in Re}function ne(Re){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ve,ke,Ee,De){var Pe=Re.searchInfo.cd[0].trace._expandedIndex;return De.cd[0].trace._expandedIndex===Pe&&Ee===Re.pointNumber},isRect:!1,degenerate:!1,subtract:!!Re.subtract}}function $(Re){if(Re.length){for(var ve=[],ke=Q(Re[0])?0:Re[0][0][0],Ee=ke,De=Q(Re[0])?0:Re[0][0][1],Pe=De,Ue=0;Ue<Re.length;Ue++)if(Q(Re[Ue]))ve.push(ne(Re[Ue]));else{var We=j(Re[Ue]);We.subtract=!!Re[Ue].subtract,ve.push(We),ke=Math.min(ke,We.xmin),Ee=Math.max(Ee,We.xmax),De=Math.min(De,We.ymin),Pe=Math.max(Pe,We.ymax)}return{xmin:ke,xmax:Ee,ymin:De,ymax:Pe,pts:[],contains:function($e,ot,st,mt){for(var _t=!1,yt=0;yt<ve.length;yt++)ve[yt].contains($e,ot,st,mt)&&(_t=!ve[yt].subtract);return _t},isRect:!1,degenerate:!1}}}function J(Re,ve,ke){var Ee=ve._fullLayout,De=ke.plotinfo,Pe=ke.dragmode,Ue=Ee._lastSelectedSubplot&&Ee._lastSelectedSubplot===De.id,We=(Re.shiftKey||Re.altKey)&&!(n(Pe)&&a(Pe));Ue&&We&&De.selection&&De.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=De.selection.selectionDefs,ke.mergedPolygons=De.selection.mergedPolygons):We&&De.selection||re(ke),Ue||(x(ve),Ee._lastSelectedSubplot=De.id)}function re(Re,ve){var ke=Re.dragmode,Ee=Re.plotinfo,De=Re.gd;(function(mt){return mt._fullLayout._activeShapeIndex>=0})(De)&&De._fullLayout._deactivateShape(De),function(mt){return mt._fullLayout._activeSelectionIndex>=0}(De)&&De._fullLayout._deactivateSelection(De);var Pe=De._fullLayout._zoomlayer,Ue=n(ke),We=l(ke);if(Ue||We){var $e,ot,st=Pe.selectAll(".select-outline-"+Ee.id);st&&De._fullLayout._outlining&&(Ue&&($e=y(st,Re)),$e&&o.call("_guiRelayout",De,{shapes:$e}),We&&!ie(Re)&&(ot=m(st,Re)),ot&&(De._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",De,{selections:ot}).then(function(){ve&&w(De)})),De._fullLayout._outlining=!1)}Ee.selection={},Ee.selection.selectionDefs=Re.selectionDefs=[],Ee.selection.mergedPolygons=Re.mergedPolygons=[]}function se(Re){return Re._id}function ue(Re,ve,ke,Ee){if(!Re.calcdata)return[];var De,Pe,Ue,We=[],$e=ve.map(se),ot=ke.map(se);for(Ue=0;Ue<Re.calcdata.length;Ue++)if((Pe=(De=Re.calcdata[Ue])[0].trace).visible===!0&&Pe._module&&Pe._module.selectPoints)if(!ie({subplot:Ee})||Pe.subplot!==Ee&&Pe.geo!==Ee)if(Pe.type==="splom"){if(Pe._xaxes[$e[0]]&&Pe._yaxes[ot[0]]){var st=he(Pe._module,De,ve[0],ke[0]);st.scene=Re._fullLayout._splomScenes[Pe.uid],We.push(st)}}else if(Pe.type==="sankey"){var mt=he(Pe._module,De,ve[0],ke[0]);We.push(mt)}else{if(!($e.indexOf(Pe.xaxis)!==-1||Pe._xA&&Pe._xA.overlaying)||!(ot.indexOf(Pe.yaxis)!==-1||Pe._yA&&Pe._yA.overlaying))continue;We.push(he(Pe._module,De,P(Re,Pe.xaxis),P(Re,Pe.yaxis)))}else We.push(he(Pe._module,De,ve[0],ke[0]));return We}function he(Re,ve,ke,Ee){return{_module:Re,cd:ve,xaxis:ke,yaxis:Ee}}function pe(Re){var ve=Re.searchInfo.cd[0].trace,ke=Re.pointNumber,Ee=Re.pointNumbers,De=Ee.length>0?Ee[0]:ke;return!!ve.selectedpoints&&ve.selectedpoints.indexOf(De)>-1}function ge(Re,ve,ke){var Ee,De;for(Ee=0;Ee<ve.length;Ee++){var Pe=ve[Ee].cd[0].trace._fullInput,Ue=Re._fullLayout._tracePreGUI[Pe.uid]||{};Ue.selectedpoints===void 0&&(Ue.selectedpoints=Pe._input.selectedpoints||null)}if(ke){var We=ke.points||[];for(Ee=0;Ee<ve.length;Ee++)(De=ve[Ee].cd[0].trace)._input.selectedpoints=De._fullInput.selectedpoints=[],De._fullInput!==De&&(De.selectedpoints=[]);for(var $e=0;$e<We.length;$e++){var ot=We[$e],st=ot.data,mt=ot.fullData,_t=ot.pointIndex,yt=ot.pointIndices;yt?([].push.apply(st.selectedpoints,yt),De._fullInput!==De&&[].push.apply(mt.selectedpoints,yt)):(st.selectedpoints.push(_t),De._fullInput!==De&&mt.selectedpoints.push(_t))}}else for(Ee=0;Ee<ve.length;Ee++)delete(De=ve[Ee].cd[0].trace).selectedpoints,delete De._input.selectedpoints,De._fullInput!==De&&delete De._fullInput.selectedpoints;(function(it,tt){for(var Pt=!1,Rt=0;Rt<tt.length;Rt++){var Ft=tt[Rt],Ot=Ft.cd;o.traceIs(Ot[0].trace,"regl")&&(Pt=!0);var Xe=Ft._module,Je=Xe.styleOnSelect||Xe.style;Je&&(Je(it,Ot,Ot[0].node3),Ot[0].nodeRangePlot3&&Je(it,Ot,Ot[0].nodeRangePlot3))}Pt&&(O(it),I(it))})(Re,ve)}function ye(Re,ve,ke){for(var Ee=(ke?T.difference:T.union)({regions:Re},{regions:[ve]}).regions.reverse(),De=0;De<Ee.length;De++){var Pe=Ee[De];Pe.subtract=de(Pe,Ee.slice(0,De))}return Ee}function be(Re,ve){if(Array.isArray(Re))for(var ke=ve.cd,Ee=ve.cd[0].trace,De=0;De<Re.length;De++)Re[De]=s(Re[De],Ee,ke);return Re}function Te(Re,ve){for(var ke=[],Ee=0;Ee<Re.length;Ee++){ke[Ee]=[];for(var De=0;De<Re[Ee].length;De++){ke[Ee][De]=[],ke[Ee][De][0]=De?"L":"M";for(var Pe=0;Pe<Re[Ee][De].length;Pe++)ke[Ee][De].push(Re[Ee][De][Pe])}ve||ke[Ee].push(["Z",ke[Ee][0][1],ke[Ee][0][2]])}return ke}function Se(Re,ve){for(var ke,Ee,De=[],Pe=[],Ue=0;Ue<ve.length;Ue++){var We=ve[Ue];Ee=We._module.selectPoints(We,Re),Pe.push(Ee),ke=be(Ee,We),De=De.concat(ke)}return De}function Fe(Re,ve,ke,Ee,De){var Pe,Ue,We,$e=!!Ee;De&&(Pe=De.plotinfo,Ue=De.xaxes[0]._id,We=De.yaxes[0]._id);var ot=[],st=[],mt=oe(Re),_t=Re._fullLayout;if(Pe){var yt=_t._zoomlayer,it=_t.dragmode,tt=n(it),Pt=l(it);if(tt||Pt){var Rt=P(Re,Ue,"x"),Ft=P(Re,We,"y");if(Rt&&Ft){var Ot=yt.selectAll(".select-outline-"+Pe.id);if(Ot&&Re._fullLayout._outlining&&Ot.length){for(var Xe=Ot[0][0].getAttribute("d"),Je=g(Xe,Re,Pe),Ve=[],Ke=0;Ke<Je.length;Ke++){for(var ft=Je[Ke],ut=[],xt=0;xt<ft.length;xt++)ut.push([Ce(Rt,ft[xt][1]),Ce(Ft,ft[xt][2])]);ut.xref=Ue,ut.yref=We,ut.subtract=de(ut,Ve),Ve.push(ut)}mt=mt.concat(Ve)}}}}var bt=Ue&&We?[Ue+We]:_t._subplots.cartesian;(function(Dn){var Tn=Dn.calcdata;if(Tn)for(var Pn=0;Pn<Tn.length;Pn++){var Nn=Tn[Pn][0].trace,$n=Dn._fullLayout._splomScenes;if($n){var pr=$n[Nn.uid];pr&&(pr.selectBatch=[])}}})(Re);for(var qe={},je=0;je<bt.length;je++){var lt=bt[je],gt=lt.indexOf("y"),dt=lt.slice(0,gt),at=lt.slice(gt),kt=Ue&&We?ke:void 0;if(kt=le(mt,dt,at,kt)){var wt=Ee;if(!$e){var Et=P(Re,dt,"x"),Tt=P(Re,at,"y");wt=ue(Re,[Et],[Tt],lt);for(var At=0;At<wt.length;At++){var Nt=wt[At],Wt=Nt.cd[0],on=Wt.trace;if(Nt._module.name==="scattergl"&&!Wt.t.xpx){var cn=on.x,un=on.y,Xt=on._length;Wt.t.xpx=[],Wt.t.ypx=[];for(var tn=0;tn<Xt;tn++)Wt.t.xpx[tn]=Et.c2p(cn[tn]),Wt.t.ypx[tn]=Tt.c2p(un[tn])}Nt._module.name==="splom"&&(qe[on.uid]||(qe[on.uid]=!0))}}var kn=Se(kt,wt);ot=ot.concat(kn),st=st.concat(wt)}}var fn={points:ot};ge(Re,st,fn);var Qt=_t.clickmode.indexOf("event")>-1&&ve;if(!Pe&&ve){var pn=oe(Re,!0);if(pn.length){var nn=pn[0].xref,sn=pn[0].yref;if(nn&&sn){var Sn=_e(pn);Ae([P(Re,nn,"x"),P(Re,sn,"y")])(fn,Sn)}}Re._fullLayout._noEmitSelectedAtStart?Re._fullLayout._noEmitSelectedAtStart=!1:Qt&&Le(Re,fn),_t._reselect=!1}if(!Pe&&_t._deselect){var wn=_t._deselect;(function(Dn,Tn,Pn){for(var Nn=0;Nn<Pn.length;Nn++){var $n=Pn[Nn];if($n.xaxis&&$n.xaxis._id===Dn&&$n.yaxis&&$n.yaxis._id===Tn)return!0}return!1})(Ue=wn.xref,We=wn.yref,st)||xe(Re,Ue,We,Ee),Qt&&(fn.points.length?Le(Re,fn):ze(Re)),_t._deselect=!1}return{eventData:fn,selectionTesters:ke}}function xe(Re,ve,ke,Ee){Ee=ue(Re,[P(Re,ve,"x")],[P(Re,ke,"y")],ve+ke);for(var De=0;De<Ee.length;De++){var Pe=Ee[De];Pe._module.selectPoints(Pe,!1)}ge(Re,Ee)}function le(Re,ve,ke,Ee){for(var De,Pe=0;Pe<Re.length;Pe++){var Ue=Re[Pe];ve===Ue.xref&&ke===Ue.yref&&(De?Ee=$(De=ye(De,Ue,!!Ue.subtract)):(De=[Ue],Ee=j(Ue)))}return Ee}function oe(Re,ve){for(var ke=[],Ee=Re._fullLayout,De=Ee.selections,Pe=De.length,Ue=0;Ue<Pe;Ue++)if(!ve||Ue===Ee._activeSelectionIndex){var We=De[Ue];if(We){var $e,ot,st,mt,_t,yt=We.xref,it=We.yref,tt=P(Re,yt,"x"),Pt=P(Re,it,"y");if(We.type==="rect"){_t=[];var Rt=Ce(tt,We.x0),Ft=Ce(tt,We.x1),Ot=Ce(Pt,We.y0),Xe=Ce(Pt,We.y1);_t=[[Rt,Ot],[Rt,Xe],[Ft,Xe],[Ft,Ot]],$e=Math.min(Rt,Ft),ot=Math.max(Rt,Ft),st=Math.min(Ot,Xe),mt=Math.max(Ot,Xe),_t.xmin=$e,_t.xmax=ot,_t.ymin=st,_t.ymax=mt,_t.xref=yt,_t.yref=it,_t.subtract=!1,_t.isRect=!0,ke.push(_t)}else if(We.type==="path")for(var Je=We.path.split("Z"),Ve=[],Ke=0;Ke<Je.length;Ke++){var ft=Je[Ke];if(ft){ft+="Z";var ut=u.extractPathCoords(ft,h.paramIsX,"raw"),xt=u.extractPathCoords(ft,h.paramIsY,"raw");$e=1/0,ot=-1/0,st=1/0,mt=-1/0,_t=[];for(var bt=0;bt<ut.length;bt++){var qe=Ce(tt,ut[bt]),je=Ce(Pt,xt[bt]);_t.push([qe,je]),$e=Math.min(qe,$e),ot=Math.max(qe,ot),st=Math.min(je,st),mt=Math.max(je,mt)}_t.xmin=$e,_t.xmax=ot,_t.ymin=st,_t.ymax=mt,_t.xref=yt,_t.yref=it,_t.subtract=de(_t,Ve),Ve.push(_t),ke.push(_t)}}}}return ke}function de(Re,ve){for(var ke=!1,Ee=0;Ee<ve.length;Ee++)for(var De=ve[Ee],Pe=0;Pe<Re.length;Pe++)if(k(Re[Pe],De)){ke=!ke;break}return ke}function Ce(Re,ve){return Re.type==="date"&&(ve=ve.replace("_"," ")),Re.type==="log"?Re.c2p(ve):Re.r2p(ve,null,Re.calendar)}function _e(Re){for(var ve=Re.length,ke=[],Ee=0;Ee<ve;Ee++){var De=Re[Ee];ke=(ke=ke.concat(De)).concat([De[0]])}return(Pe=ke).isRect=Pe.length===5&&Pe[0][0]===Pe[4][0]&&Pe[0][1]===Pe[4][1]&&Pe[0][0]===Pe[1][0]&&Pe[2][0]===Pe[3][0]&&Pe[0][1]===Pe[3][1]&&Pe[1][1]===Pe[2][1]||Pe[0][1]===Pe[1][1]&&Pe[2][1]===Pe[3][1]&&Pe[0][0]===Pe[3][0]&&Pe[1][0]===Pe[2][0],Pe.isRect&&(Pe.xmin=Math.min(Pe[0][0],Pe[2][0]),Pe.xmax=Math.max(Pe[0][0],Pe[2][0]),Pe.ymin=Math.min(Pe[0][1],Pe[2][1]),Pe.ymax=Math.max(Pe[0][1],Pe[2][1])),Pe;var Pe}function Ae(Re){return function(ve,ke){for(var Ee,De,Pe=0;Pe<Re.length;Pe++){var Ue=Re[Pe],We=Ue._id,$e=We.charAt(0);if(ke.isRect){Ee||(Ee={});var ot=ke[$e+"min"],st=ke[$e+"max"];ot!==void 0&&st!==void 0&&(Ee[We]=[F(Ue,ot),F(Ue,st)].sort(S))}else De||(De={}),De[We]=ke.map(H(Ue))}Ee&&(ve.range=Ee),De&&(ve.lassoPoints=De)}}function Le(Re,ve){ve&&(ve.selections=(Re.layout||{}).selections||[]),Re.emit("plotly_selected",ve)}function ze(Re){Re.emit("plotly_deselect",null)}U.exports={reselect:Fe,prepSelect:function(Re,ve,ke,Ee,De){var Pe=!ie(Ee),Ue=i(De),We=r(De),$e=a(De),ot=n(De),st=l(De),mt=De==="drawcircle",_t=De==="drawline"||mt,yt=Ee.gd,it=yt._fullLayout,tt=st&&it.newselection.mode==="immediate"&&Pe,Pt=it._zoomlayer,Rt=Ee.element.getBoundingClientRect(),Ft=Ee.plotinfo,Ot=W(Ft),Xe=ve-Rt.left,Je=ke-Rt.top;it._calcInverseTransform(yt);var Ve=d.apply3DTransform(it._invTransform)(Xe,Je);Xe=Ve[0],Je=Ve[1];var Ke,ft,ut,xt,bt,qe,je,lt=it._invScaleX,gt=it._invScaleY,dt=Xe,at=Je,kt="M"+Xe+","+Je,wt=Ee.xaxes[0],Et=Ee.yaxes[0],Tt=wt._length,At=Et._length,Nt=Re.altKey&&!(n(De)&&$e);J(Re,yt,Ee),Ue&&(Ke=z([[Xe,Je]],D.BENDPX));var Wt=Pt.selectAll("path.select-outline-"+Ft.id).data([1]),on=ot?it.newshape:it.newselection;ot&&(Ee.hasText=on.label.text||on.label.texttemplate);var cn=ot&&!$e?on.fillcolor:"rgba(0,0,0,0)",un=on.line.color||(Pe?b.contrast(yt._fullLayout.plot_bgcolor):"#7f7f7f");Wt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:ot?on.opacity/2:1,"stroke-dasharray":_(on.line.dash,on.line.width),"stroke-width":on.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,un).call(b.fill,cn).attr("fill-rule","evenodd").classed("cursor-move",!!ot).attr("transform",Ot).attr("d",kt+"Z");var Xt=Pt.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Ot).attr("d","M0,0Z");if(ot&&Ee.hasText){var tn=Pt.select(".label-temp");tn.empty()&&(tn=Pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var kn=it._uid+D.SELECTID,fn=[],Qt=ue(yt,Ee.xaxes,Ee.yaxes,Ee.subplot);tt&&!Re.shiftKey&&(Ee._clearSubplotSelections=function(){if(Pe){var nn=wt._id,sn=Et._id;xe(yt,nn,sn,Qt);for(var Sn=(yt.layout||{}).selections||[],wn=[],Dn=!1,Tn=0;Tn<Sn.length;Tn++){var Pn=it.selections[Tn];Pn.xref!==nn||Pn.yref!==sn?wn.push(Sn[Tn]):Dn=!0}Dn&&(yt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",yt,{selections:wn}))}});var pn=function(nn){return nn.plotinfo.fillRangeItems||Ae(nn.xaxes.concat(nn.yaxes))}(Ee);Ee.moveFn=function(nn,sn){Ee._clearSubplotSelections&&(Ee._clearSubplotSelections(),Ee._clearSubplotSelections=void 0),dt=Math.max(0,Math.min(Tt,lt*nn+Xe)),at=Math.max(0,Math.min(At,gt*sn+Je));var Sn=Math.abs(dt-Xe),wn=Math.abs(at-Je);if(We){var Dn,Tn,Pn;if(st){var Nn=it.selectdirection;switch(Dn=Nn==="any"?wn<Math.min(.6*Sn,V)?"h":Sn<Math.min(.6*wn,V)?"v":"d":Nn){case"h":Tn=mt?At/2:0,Pn=At;break;case"v":Tn=mt?Tt/2:0,Pn=Tt}}if(ot)switch(it.newshape.drawdirection){case"vertical":Dn="h",Tn=mt?At/2:0,Pn=At;break;case"horizontal":Dn="v",Tn=mt?Tt/2:0,Pn=Tt;break;case"ortho":Sn<wn?(Dn="h",Tn=Je,Pn=at):(Dn="v",Tn=Xe,Pn=dt);break;default:Dn="d"}Dn==="h"?((xt=_t?v(mt,[dt,Tn],[dt,Pn]):[[Xe,Tn],[Xe,Pn],[dt,Pn],[dt,Tn]]).xmin=_t?dt:Math.min(Xe,dt),xt.xmax=_t?dt:Math.max(Xe,dt),xt.ymin=Math.min(Tn,Pn),xt.ymax=Math.max(Tn,Pn),Xt.attr("d","M"+xt.xmin+","+(Je-V)+"h-4v"+2*V+"h4ZM"+(xt.xmax-1)+","+(Je-V)+"h4v"+2*V+"h-4Z")):Dn==="v"?((xt=_t?v(mt,[Tn,at],[Pn,at]):[[Tn,Je],[Tn,at],[Pn,at],[Pn,Je]]).xmin=Math.min(Tn,Pn),xt.xmax=Math.max(Tn,Pn),xt.ymin=_t?at:Math.min(Je,at),xt.ymax=_t?at:Math.max(Je,at),Xt.attr("d","M"+(Xe-V)+","+xt.ymin+"v-4h"+2*V+"v4ZM"+(Xe-V)+","+(xt.ymax-1)+"v4h"+2*V+"v-4Z")):Dn==="d"&&((xt=_t?v(mt,[Xe,Je],[dt,at]):[[Xe,Je],[Xe,at],[dt,at],[dt,Je]]).xmin=Math.min(Xe,dt),xt.xmax=Math.max(Xe,dt),xt.ymin=Math.min(Je,at),xt.ymax=Math.max(Je,at),Xt.attr("d","M0,0Z"))}else Ue&&(Ke.addPt([dt,at]),xt=Ke.filtered);if(Ee.selectionDefs&&Ee.selectionDefs.length?(ut=ye(Ee.mergedPolygons,xt,Nt),xt.subtract=Nt,ft=$(Ee.selectionDefs.concat([xt]))):(ut=[xt],ft=j(xt)),c(Te(ut,$e),Wt,Ee),st){var $n,pr=Fe(yt,!1),Hn=pr.eventData?pr.eventData.points.slice():[];pr=Fe(yt,!1,ft,Qt,Ee),ft=pr.selectionTesters,je=pr.eventData,$n=Ke?Ke.filtered:_e(ut),E.throttle(kn,D.SELECTDELAY,function(){for(var Qn=(fn=Se(ft,Qt)).slice(),er=0;er<Hn.length;er++){for(var ur=Hn[er],$t=!1,rn=0;rn<Qn.length;rn++)if(Qn[rn].curveNumber===ur.curveNumber&&Qn[rn].pointNumber===ur.pointNumber){$t=!0;break}$t||Qn.push(ur)}Qn.length&&(je||(je={}),je.points=Qn),pn(je,$n),function(On,xn){On.emit("plotly_selecting",xn)}(yt,je)})}},Ee.clickFn=function(nn,sn){if(Xt.remove(),yt._fullLayout._activeShapeIndex>=0)yt._fullLayout._deactivateShape(yt);else if(!ot){var Sn=it.clickmode;E.done(kn).then(function(){if(E.clear(kn),nn===2){for(Wt.remove(),bt=0;bt<Qt.length;bt++)(qe=Qt[bt])._module.selectPoints(qe,!1);if(ge(yt,Qt),re(Ee),ze(yt),Qt.length){var wn=Qt[0].xaxis,Dn=Qt[0].yaxis;if(wn&&Dn){for(var Tn=[],Pn=yt._fullLayout.selections,Nn=0;Nn<Pn.length;Nn++){var $n=Pn[Nn];$n&&($n.xref===wn._id&&$n.yref===Dn._id||Tn.push($n))}Tn.length<Pn.length&&(yt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",yt,{selections:Tn}))}}}else Sn.indexOf("select")>-1&&te(sn,yt,Ee.xaxes,Ee.yaxes,Ee.subplot,Ee,Wt),Sn==="event"&&Le(yt,void 0);f.click(yt,sn,Ft.id)}).catch(d.error)}},Ee.doneFn=function(){Xt.remove(),E.done(kn).then(function(){E.clear(kn),!tt&&xt&&Ee.selectionDefs&&(xt.subtract=Nt,Ee.selectionDefs.push(xt),Ee.mergedPolygons.length=0,[].push.apply(Ee.mergedPolygons,ut)),(tt||ot)&&re(Ee,tt),Ee.doneFnCompleted&&Ee.doneFnCompleted(fn),st&&Le(yt,je)}).catch(d.error)}},clearOutline:x,clearSelectionsCache:re,selectOnClick:te}},46056:function(U,C,e){var T=e(13916),k=e(25376),o=e(52904).line,_=e(98192).u,b=e(92880).extendFlat,f=e(31780).templatedArray,s=(e(36208),e(45464)),t=e(21776).ye,i=e(97728);U.exports=f("shape",{visible:b({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},s.legend,{editType:"calc+arraydraw"}),legendgroup:b({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:b({},T.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:b({},T.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},o.color,{editType:"arraydraw"}),width:b({},o.width,{editType:"calc+arraydraw"}),dash:b({},_,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(U,C,e){var T=e(3400),k=e(54460),o=e(85448),_=e(65152);function b(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function f(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,r,n,a,l,u){var h=i/2,c=u;if(r==="pixel"){var x=l?_.extractPathCoords(l,u?o.paramIsY:o.paramIsX):[n,a],p=T.aggNums(Math.max,null,x),v=T.aggNums(Math.min,null,x),g=v<0?Math.abs(v)+h:h,y=p>0?p+h:h;return{ppad:h,ppadplus:c?g:y,ppadminus:c?y:g}}return{ppad:h}}function t(i,r,n){var a,l,u=i._id.charAt(0)==="x"?"x":"y",h=i.type==="category"||i.type==="multicategory",c=0,x=0,p=h?i.r2c:i.d2c;if(r[u+"sizemode"]==="scaled"?(a=r[u+"0"],l=r[u+"1"],h&&(c=r[u+"0shift"],x=r[u+"1shift"])):(a=r[u+"anchor"],l=r[u+"anchor"]),a!==void 0)return[p(a)+c,p(l)+x];if(r.path){var v,g,y,m,w=1/0,d=-1/0,S=r.path.match(o.segmentRE);for(i.type==="date"&&(p=_.decodeDate(p)),v=0;v<S.length;v++)(g=n[S[v].charAt(0)].drawn)!==void 0&&(!(y=S[v].substr(1).match(o.paramRE))||y.length<g||((m=p(y[g]))<w&&(w=m),m>d&&(d=m)));return d>=w?[w,d]:void 0}}U.exports=function(i){var r=i._fullLayout,n=T.filterVisible(r.shapes);if(n.length&&i._fullData.length)for(var a=0;a<n.length;a++){var l,u,h=n[a];h._extremes={};var c=k.getRefType(h.xref),x=k.getRefType(h.yref);h.xref!=="paper"&&c!=="domain"&&(u=t(l=k.getFromId(i,h.xref),h,o.paramIsX))&&(h._extremes[l._id]=k.findExtremes(l,u,b(h))),h.yref!=="paper"&&x!=="domain"&&(u=t(l=k.getFromId(i,h.yref),h,o.paramIsY))&&(h._extremes[l._id]=k.findExtremes(l,u,f(h)))}}},85448:function(U){U.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(U,C,e){var T=e(3400),k=e(54460),o=e(51272),_=e(46056),b=e(65152);function f(s,t,i){function r(X,F){return T.coerce(s,t,_,X,F)}if(t._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),T.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var n=r("path"),a=r("type",n?"path":"rect"),l=a!=="path";l&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),h=r("ysizemode"),c=["x","y"],x=0;x<2;x++){var p,v,g,y=c[x],m=y+"anchor",w=y==="x"?u:h,d={_fullLayout:i},S=k.coerceRef(s,t,d,y,void 0,"paper");if(k.getRefType(S)==="range"?((p=k.getFromId(d,S))._shapeIndices.push(t._index),g=b.rangeToShapePosition(p),v=b.shapePositionToRange(p),p.type!=="category"&&p.type!=="multicategory"||(r(y+"0shift"),r(y+"1shift"))):v=g=T.identity,l){var A=y+"0",E=y+"1",P=s[A],O=s[E];s[A]=v(s[A],!0),s[E]=v(s[E],!0),w==="pixel"?(r(A,0),r(E,10)):(k.coercePosition(t,d,r,S,A,.25),k.coercePosition(t,d,r,S,E,.75)),t[A]=g(t[A]),t[E]=g(t[E]),s[A]=P,s[E]=O}if(w==="pixel"){var I=s[m];s[m]=v(s[m],!0),k.coercePosition(t,d,r,S,m,.25),t[m]=g(t[m]),s[m]=I}}l&&T.noneOrAll(s,t,["x0","x1","y0","y1"]);var D,V,z=a==="line";if(l&&(D=r("label.texttemplate")),D||(V=r("label.text")),V||D){r("label.textangle");var j=r("label.textposition",z?"middle":"middle center");r("label.xanchor"),r("label.yanchor",function(X,F){return X?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(z,j)),r("label.padding"),T.coerceFont(r,"label.font",i.font)}}}U.exports=function(s,t){o(s,t,{name:"shapes",handleItemDefaults:f})}},60728:function(U,C,e){var T=e(3400),k=e(54460),o=e(72736),_=e(43616),b=e(9856).readPaths,f=e(65152),s=f.getPathString,t=e(97728),i=e(84284).FROM_TL;U.exports=function(r,n,a,l){if(l.selectAll(".shape-label").remove(),a.label.text||a.label.texttemplate){var u;if(a.label.texttemplate){var h={};if(a.type!=="path"){var c=k.getFromId(r,a.xref),x=k.getFromId(r,a.yref);for(var p in t){var v=t[p](a,c,x);v!==void 0&&(h[p]=v)}}u=T.texttemplateStringForShapes(a.label.texttemplate,{},r._fullLayout._d3locale,h)}else u=a.label.text;var g,y,m,w,d={"data-index":n},S=a.label.font,A=l.append("g").attr(d).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(a.path){var E=s(r,a),P=b(E,r);g=1/0,m=1/0,y=-1/0,w=-1/0;for(var O=0;O<P.length;O++)for(var I=0;I<P[O].length;I++)for(var D=P[O][I],V=1;V<D.length;V+=2){var z=D[V],j=D[V+1];g=Math.min(g,z),y=Math.max(y,z),m=Math.min(m,j),w=Math.max(w,j)}}else{var X=k.getFromId(r,a.xref),F=a.x0shift,H=a.x1shift,W=k.getRefType(a.xref),ie=k.getFromId(r,a.yref),te=a.y0shift,Q=a.y1shift,ne=k.getRefType(a.yref),$=function(ge,ye){return f.getDataToPixel(r,X,ye,!1,W)(ge)},J=function(ge,ye){return f.getDataToPixel(r,ie,ye,!0,ne)(ge)};g=$(a.x0,F),y=$(a.x1,H),m=J(a.y0,te),w=J(a.y1,Q)}var re=a.label.textangle;re==="auto"&&(re=a.type==="line"?function(ge,ye,be,Te){var Se,Fe;return Fe=Math.abs(be-ge),Se=be>=ge?ye-Te:Te-ye,-180/Math.PI*Math.atan2(Se,Fe)}(g,m,y,w):0),A.call(function(ge){return ge.call(_.font,S).attr({}),o.convertToTspans(ge,r),ge});var se=function(ge,ye,be,Te,Se,Fe,xe){var le,oe,de,Ce,_e=Se.label.textposition,Ae=Se.label.textangle,Le=Se.label.padding,ze=Se.type,Re=Math.PI/180*Fe,ve=Math.sin(Re),ke=Math.cos(Re),Ee=Se.label.xanchor,De=Se.label.yanchor;if(ze==="line"){_e==="start"?(le=ge,oe=ye):_e==="end"?(le=be,oe=Te):(le=(ge+be)/2,oe=(ye+Te)/2),Ee==="auto"&&(Ee=_e==="start"?Ae==="auto"?be>ge?"left":be<ge?"right":"center":be>ge?"right":be<ge?"left":"center":_e==="end"?Ae==="auto"?be>ge?"right":be<ge?"left":"center":be>ge?"left":be<ge?"right":"center":"center");var Pe={bottom:-1,middle:0,top:1};if(Ae==="auto"){var Ue=Pe[De];de=-Le*ve*Ue,Ce=Le*ke*Ue}else de=Le*{left:1,center:0,right:-1}[Ee],Ce=Le*Pe[De];le+=de,oe+=Ce}else de=Le+3,_e.indexOf("right")!==-1?(le=Math.max(ge,be)-de,Ee==="auto"&&(Ee="right")):_e.indexOf("left")!==-1?(le=Math.min(ge,be)+de,Ee==="auto"&&(Ee="left")):(le=(ge+be)/2,Ee==="auto"&&(Ee="center")),oe=_e.indexOf("top")!==-1?Math.min(ye,Te):_e.indexOf("bottom")!==-1?Math.max(ye,Te):(ye+Te)/2,Ce=Le,De==="bottom"?oe-=Ce:De==="top"&&(oe+=Ce);var We=i[De],$e=Se.label.font.size,ot=xe.height;return{textx:le+(ot*We-$e)*ve,texty:oe+-(ot*We-$e)*ke,xanchor:Ee}}(g,m,y,w,a,re,_.bBox(A.node())),ue=se.textx,he=se.texty,pe=se.xanchor;A.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[pe],y:he,x:ue,transform:"rotate("+re+","+ue+","+he+")"}).call(o.positionText,ue,he)}}},55496:function(U,C,e){var T=e(3400).strTranslate,k=e(86476),o=e(72760),_=o.drawMode,b=o.selectMode,f=e(24040),s=e(76308),t=e(7e3),i=t.i000,r=t.i090,n=t.i180,a=t.i270,l=e(1936).clearOutlineControllers,u=e(9856),h=u.pointsOnRectangle,c=u.pointsOnEllipse,x=u.writePaths,p=e(93940).newShapes,v=e(93940).createShapeObj,g=e(5968),y=e(60728);function m(w,d){var S,A,E,P=w[d][1],O=w[d][2],I=w.length;return A=w[S=(d+1)%I][1],E=w[S][2],A===P&&E===O&&(A=w[S=(d+2)%I][1],E=w[S][2]),[S,A,E]}U.exports=function w(d,S,A,E){E||(E=0);var P=A.gd;function O(){w(d,S,A,E++),(c(d[0])||A.hasText)&&I({redrawing:!0})}function I(ge){var ye={};A.isActiveShape!==void 0&&(A.isActiveShape=!1,ye=p(S,A)),A.isActiveSelection!==void 0&&(A.isActiveSelection=!1,ye=g(S,A),P._fullLayout._reselect=!0),Object.keys(ye).length&&f.call((ge||{}).redrawing?"relayout":"_guiRelayout",P,ye)}var D,V,z,j,X,F=P._fullLayout._zoomlayer,H=A.dragmode,W=_(H),ie=b(H);if((W||ie)&&(P._fullLayout._outlining=!0),l(P),S.attr("d",x(d)),E||!A.isActiveShape&&!A.isActiveSelection||(X=function(ge,ye){for(var be=0;be<ye.length;be++){var Te=ye[be];ge[be]=[];for(var Se=0;Se<Te.length;Se++){ge[be][Se]=[];for(var Fe=0;Fe<Te[Se].length;Fe++)ge[be][Se][Fe]=Te[Se][Fe]}}return ge}([],d),function(ge){D=[];for(var ye=0;ye<d.length;ye++){var be=d[ye],Te=h(be),Se=!Te&&c(be);D[ye]=[];for(var Fe=be.length,xe=0;xe<Fe;xe++)if(be[xe][0]!=="Z"&&(!Se||xe===i||xe===r||xe===n||xe===a)){var le,oe=Te&&A.isActiveSelection;oe&&(le=m(be,xe));var de=be[xe][1],Ce=be[xe][2],_e=ge.append(oe?"rect":"circle").attr("data-i",ye).attr("data-j",xe).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(oe){var Ae=le[1]-de,Le=le[2]-Ce,ze=Le?5:Math.max(Math.min(25,Math.abs(Ae)-5),5),Re=Ae?5:Math.max(Math.min(25,Math.abs(Le)-5),5);_e.classed(Le?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ze).attr("height",Re).attr("x",de-ze/2).attr("y",Ce-Re/2).attr("transform",T(Ae/2,Le/2))}else _e.classed("cursor-grab",!0).attr("r",5).attr("cx",de).attr("cy",Ce);D[ye][xe]={element:_e.node(),gd:P,prepFn:ne,doneFn:J,clickFn:re},k.init(D[ye][xe])}}}(F.append("g").attr("class","outline-controllers")),function(){V=[],d.length&&(V[0]={element:S[0][0],gd:P,prepFn:ue,doneFn:he,clickFn:pe},k.init(V[0]))}()),W&&A.hasText){var te=F.select(".label-temp"),Q=v(S,A,A.dragmode);y(P,"label-temp",Q,te)}function ne(ge){z=+ge.srcElement.getAttribute("data-i"),j=+ge.srcElement.getAttribute("data-j"),D[z][j].moveFn=$}function $(ge,ye){if(d.length){var be=X[z][j][1],Te=X[z][j][2],Se=d[z],Fe=Se.length;if(h(Se)){var xe=ge,le=ye;A.isActiveSelection&&(m(Se,j)[1]===Se[j][1]?le=0:xe=0);for(var oe=0;oe<Fe;oe++)if(oe!==j){var de=Se[oe];de[1]===Se[j][1]&&(de[1]=be+xe),de[2]===Se[j][2]&&(de[2]=Te+le)}if(Se[j][1]=be+xe,Se[j][2]=Te+le,!h(Se))for(var Ce=0;Ce<Fe;Ce++)for(var _e=0;_e<Se[Ce].length;_e++)Se[Ce][_e]=X[z][Ce][_e]}else Se[j][1]=be+ge,Se[j][2]=Te+ye;O()}}function J(){I()}function re(ge,ye){if(ge===2){z=+ye.srcElement.getAttribute("data-i"),j=+ye.srcElement.getAttribute("data-j");var be=d[z];h(be)||c(be)||function(){if(d.length&&d[z]&&d[z].length){for(var Te=[],Se=0;Se<d[z].length;Se++)Se!==j&&Te.push(d[z][Se]);Te.length>1&&(Te.length!==2||Te[1][0]!=="Z")&&(j===0&&(Te[0][0]="M"),d[z]=Te,O(),I())}}()}}function se(ge,ye){(function(be,Te){if(d.length)for(var Se=0;Se<d.length;Se++)for(var Fe=0;Fe<d[Se].length;Fe++)for(var xe=0;xe+2<d[Se][Fe].length;xe+=2)d[Se][Fe][xe+1]=X[Se][Fe][xe+1]+be,d[Se][Fe][xe+2]=X[Se][Fe][xe+2]+Te})(ge,ye),O()}function ue(ge){(z=+ge.srcElement.getAttribute("data-i"))||(z=0),V[z].moveFn=se}function he(){I()}function pe(ge){ge===2&&function(ye){if(b(ye._fullLayout.dragmode)){l(ye);var be=ye._fullLayout._activeSelectionIndex,Te=(ye.layout||{}).selections||[];if(be<Te.length){for(var Se=[],Fe=0;Fe<Te.length;Fe++)Fe!==be&&Se.push(Te[Fe]);delete ye._fullLayout._activeSelectionIndex;var xe=ye._fullLayout.selections[be];ye._fullLayout._deselect={xref:xe.xref,yref:xe.yref},f.call("_guiRelayout",ye,{selections:Se})}}}(P)}}},4016:function(U,C,e){var T=e(33428),k=e(24040),o=e(3400),_=e(54460),b=e(9856).readPaths,f=e(55496),s=e(60728),t=e(1936).clearOutlineControllers,i=e(76308),r=e(43616),n=e(31780).arrayEditor,a=e(86476),l=e(93972),u=e(85448),h=e(65152),c=h.getPathString;function x(d){var S=d._fullLayout;for(var A in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[A].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var P=0;P<S.shapes.length;P++)S.shapes[P].visible===!0&&g(d,P)}function p(d){return!!d._fullLayout._outlining}function v(d){return!d._context.edits.shapePosition}function g(d,S){d._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var A=h.makeShapesOptionsAndPlotinfo(d,S),E=A.options,P=A.plotinfo;function O(I){var D=c(d,E),V={"data-index":S,"fill-rule":E.fillrule,d:D},z=E.opacity,j=E.fillcolor,X=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,H=E.line.dash;F||E.editable!==!0||(F=5,H="solid");var W=D[D.length-1]!=="Z",ie=v(d)&&E.editable&&d._fullLayout._activeShapeIndex===S;ie&&(j=W?"rgba(0,0,0,0)":d._fullLayout.activeshape.fillcolor,z=d._fullLayout.activeshape.opacity);var te,Q=I.append("g").classed("shape-group",!0).attr({"data-index":S}),ne=Q.append("path").attr(V).style("opacity",z).call(i.stroke,X).call(i.fill,j).call(r.dashLine,H,F);if(y(Q,d,E),s(d,S,E,Q),(ie||d._context.edits.shapePosition)&&(te=n(d.layout,"shapes",E)),ie){ne.style({cursor:"move"});var $={element:ne.node(),plotinfo:P,gd:d,editHelpers:te,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},J=b(D,d);f(J,ne,$)}else d._context.edits.shapePosition?function(re,se,ue,he,pe,ge){var ye,be,Te,Se,Fe,xe,le,oe,de,Ce,_e,Ae,Le,ze,Re,ve,ke=10,Ee=10,De=ue.xsizemode==="pixel",Pe=ue.ysizemode==="pixel",Ue=ue.type==="line",We=ue.type==="path",$e=ge.modifyItem,ot=T.select(se.node().parentNode),st=_.getFromId(re,ue.xref),mt=_.getRefType(ue.xref),_t=_.getFromId(re,ue.yref),yt=_.getRefType(ue.yref),it=ue.x0shift,tt=ue.x1shift,Pt=ue.y0shift,Rt=ue.y1shift,Ft=function(je,lt){return h.getDataToPixel(re,st,lt,!1,mt)(je)},Ot=function(je,lt){return h.getDataToPixel(re,_t,lt,!0,yt)(je)},Xe=h.getPixelToData(re,st,!1,mt),Je=h.getPixelToData(re,_t,!0,yt),Ve=Ue?function(){var je=10,lt=Math.max(ue.line.width,je),gt=pe.append("g").attr("data-index",he).attr("drag-helper",!0);gt.append("path").attr("d",se.attr("d")).style({cursor:"move","stroke-width":lt,"stroke-opacity":"0"});var dt={"fill-opacity":"0"},at=Math.max(lt/2,je);return gt.append("circle").attr({"data-line-point":"start-point",cx:De?Ft(ue.xanchor)+ue.x0:Ft(ue.x0,it),cy:Pe?Ot(ue.yanchor)-ue.y0:Ot(ue.y0,Pt),r:at}).style(dt).classed("cursor-grab",!0),gt.append("circle").attr({"data-line-point":"end-point",cx:De?Ft(ue.xanchor)+ue.x1:Ft(ue.x1,tt),cy:Pe?Ot(ue.yanchor)-ue.y1:Ot(ue.y1,Rt),r:at}).style(dt).classed("cursor-grab",!0),gt}():se,Ke={element:Ve.node(),gd:re,prepFn:function(je){p(re)||(De&&(Fe=Ft(ue.xanchor)),Pe&&(xe=Ot(ue.yanchor)),ue.type==="path"?Re=ue.path:(ye=De?ue.x0:Ft(ue.x0),be=Pe?ue.y0:Ot(ue.y0),Te=De?ue.x1:Ft(ue.x1),Se=Pe?ue.y1:Ot(ue.y1)),ye<Te?(de=ye,Le="x0",Ce=Te,ze="x1"):(de=Te,Le="x1",Ce=ye,ze="x0"),!Pe&&be<Se||Pe&&be>Se?(le=be,_e="y0",oe=Se,Ae="y1"):(le=Se,_e="y1",oe=be,Ae="y0"),ft(je),bt(pe,ue),function(lt,gt,dt){var at=gt.xref,kt=gt.yref,wt=_.getFromId(dt,at),Et=_.getFromId(dt,kt),Tt="";at==="paper"||wt.autorange||(Tt+=at),kt==="paper"||Et.autorange||(Tt+=kt),r.setClipUrl(lt,Tt?"clip"+dt._fullLayout._uid+Tt:null,dt)}(se,ue,re),Ke.moveFn=ve==="move"?ut:xt,Ke.altKey=je.altKey)},doneFn:function(){p(re)||(l(se),qe(pe),y(se,re,ue),k.call("_guiRelayout",re,ge.getUpdateObj()))},clickFn:function(){p(re)||qe(pe)}};function ft(je){if(p(re))ve=null;else if(Ue)ve=je.target.tagName==="path"?"move":je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var lt=Ke.element.getBoundingClientRect(),gt=lt.right-lt.left,dt=lt.bottom-lt.top,at=je.clientX-lt.left,kt=je.clientY-lt.top,wt=!We&&gt>ke&&dt>Ee&&!je.shiftKey?a.getCursor(at/gt,1-kt/dt):"move";l(se,wt),ve=wt.split("-")[0]}}function ut(je,lt){if(ue.type==="path"){var gt=function(kt){return kt},dt=gt,at=gt;De?$e("xanchor",ue.xanchor=Xe(Fe+je)):(dt=function(kt){return Xe(Ft(kt)+je)},st&&st.type==="date"&&(dt=h.encodeDate(dt))),Pe?$e("yanchor",ue.yanchor=Je(xe+lt)):(at=function(kt){return Je(Ot(kt)+lt)},_t&&_t.type==="date"&&(at=h.encodeDate(at))),$e("path",ue.path=m(Re,dt,at))}else De?$e("xanchor",ue.xanchor=Xe(Fe+je)):($e("x0",ue.x0=Xe(ye+je)),$e("x1",ue.x1=Xe(Te+je))),Pe?$e("yanchor",ue.yanchor=Je(xe+lt)):($e("y0",ue.y0=Je(be+lt)),$e("y1",ue.y1=Je(Se+lt)));se.attr("d",c(re,ue)),bt(pe,ue),s(re,he,ue,ot)}function xt(je,lt){if(We){var gt=function(fn){return fn},dt=gt,at=gt;De?$e("xanchor",ue.xanchor=Xe(Fe+je)):(dt=function(fn){return Xe(Ft(fn)+je)},st&&st.type==="date"&&(dt=h.encodeDate(dt))),Pe?$e("yanchor",ue.yanchor=Je(xe+lt)):(at=function(fn){return Je(Ot(fn)+lt)},_t&&_t.type==="date"&&(at=h.encodeDate(at))),$e("path",ue.path=m(Re,dt,at))}else if(Ue){if(ve==="resize-over-start-point"){var kt=ye+je,wt=Pe?be-lt:be+lt;$e("x0",ue.x0=De?kt:Xe(kt)),$e("y0",ue.y0=Pe?wt:Je(wt))}else if(ve==="resize-over-end-point"){var Et=Te+je,Tt=Pe?Se-lt:Se+lt;$e("x1",ue.x1=De?Et:Xe(Et)),$e("y1",ue.y1=Pe?Tt:Je(Tt))}}else{var At=function(fn){return ve.indexOf(fn)!==-1},Nt=At("n"),Wt=At("s"),on=At("w"),cn=At("e"),un=Nt?le+lt:le,Xt=Wt?oe+lt:oe,tn=on?de+je:de,kn=cn?Ce+je:Ce;Pe&&(Nt&&(un=le-lt),Wt&&(Xt=oe-lt)),(!Pe&&Xt-un>Ee||Pe&&un-Xt>Ee)&&($e(_e,ue[_e]=Pe?un:Je(un)),$e(Ae,ue[Ae]=Pe?Xt:Je(Xt))),kn-tn>ke&&($e(Le,ue[Le]=De?tn:Xe(tn)),$e(ze,ue[ze]=De?kn:Xe(kn)))}se.attr("d",c(re,ue)),bt(pe,ue),s(re,he,ue,ot)}function bt(je,lt){(De||Pe)&&function(){var gt=lt.type!=="path",dt=je.selectAll(".visual-cue").data([0]);dt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var at=Ft(De?lt.xanchor:o.midRange(gt?[lt.x0,lt.x1]:h.extractPathCoords(lt.path,u.paramIsX))),kt=Ot(Pe?lt.yanchor:o.midRange(gt?[lt.y0,lt.y1]:h.extractPathCoords(lt.path,u.paramIsY)));if(at=h.roundPositionForSharpStrokeRendering(at,1),kt=h.roundPositionForSharpStrokeRendering(kt,1),De&&Pe){var wt="M"+(at-1-1)+","+(kt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";dt.attr("d",wt)}else if(De){var Et="M"+(at-1-1)+","+(kt-9-1)+"v18 h2 v-18 Z";dt.attr("d",Et)}else{var Tt="M"+(at-9-1)+","+(kt-1-1)+"h18 v2 h-18 Z";dt.attr("d",Tt)}}()}function qe(je){je.selectAll(".visual-cue").remove()}a.init(Ke),Ve.node().onmousemove=ft}(d,ne,E,S,I,te):E.editable===!0&&ne.style("pointer-events",W||i.opacity(j)*z<=.5?"stroke":"all");ne.node().addEventListener("click",function(){return function(re,se){if(v(re)){var ue=+se.node().getAttribute("data-index");if(ue>=0){if(ue===re._fullLayout._activeShapeIndex)return void w(re);re._fullLayout._activeShapeIndex=ue,re._fullLayout._deactivateShape=w,x(re)}}}(d,ne)})}E._input&&E.visible===!0&&(E.layer==="above"?O(d._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?O(d._fullLayout._shapeLowerLayer):E.layer==="between"?O(P.shapelayerBetween):P._hadPlotinfo?O((P.mainplotinfo||P).shapelayer):O(d._fullLayout._shapeLowerLayer))}function y(d,S,A){var E=(A.xref+A.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(d,E?"clip"+S._fullLayout._uid+E:null,S)}function m(d,S,A){return d.replace(u.segmentRE,function(E){var P=0,O=E.charAt(0),I=u.paramIsX[O],D=u.paramIsY[O],V=u.numParams[O];return O+E.substr(1).replace(u.paramRE,function(z){return P>=V||(I[P]?z=S(z):D[P]&&(z=A(z)),P++),z})})}function w(d){v(d)&&d._fullLayout._activeShapeIndex>=0&&(t(d),delete d._fullLayout._activeShapeIndex,x(d))}U.exports={draw:x,drawOne:g,eraseActiveShape:function(d){if(v(d)){t(d);var S=d._fullLayout._activeShapeIndex,A=(d.layout||{}).shapes||[];if(S<A.length){for(var E=[],P=0;P<A.length;P++)P!==S&&E.push(A[P]);return delete d._fullLayout._activeShapeIndex,k.call("_guiRelayout",d,{shapes:E})}}},drawLabel:s}},92872:function(U,C,e){var T=e(67824).overrideAll,k=e(45464),o=e(25376),_=e(98192).u,b=e(92880).extendFlat,f=e(21776).ye,s=e(97728);U.exports=T({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:o({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},_,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(s)}),font:o({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(U){U.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(U,C,e){var T=e(76308),k=e(3400);U.exports=function(o,_,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var f=(o||{}).plot_bgcolor||"#FFF";b("newshape.line.color",T.contrast(f)),b("newshape.line.dash")}var s=o.dragmode==="drawline",t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var r=b("newshape.label.textposition",s?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(n,a){return n?"bottom":a.indexOf("top")!==-1?"top":a.indexOf("bottom")!==-1?"bottom":"middle"}(s,r)),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",_.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},9856:function(U,C,e){var T=e(21984),k=e(7e3),o=k.CIRCLE_SIDES,_=k.SQRT2,b=e(5840),f=b.p2r,s=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function r(a,l){return Math.abs(a-l)<=1e-6}function n(a,l){var u=l[1]-a[1],h=l[2]-a[2];return Math.sqrt(u*u+h*h)}C.writePaths=function(a){var l=a.length;if(!l)return"M0,0Z";for(var u="",h=0;h<l;h++)for(var c=a[h].length,x=0;x<c;x++){var p=a[h][x][0];if(p==="Z")u+="Z";else for(var v=a[h][x].length,g=0;g<v;g++){var y=g;p==="Q"||p==="S"?y=i[g]:p==="C"&&(y=t[g]),u+=a[h][x][y],g>0&&g<v-1&&(u+=",")}}return u},C.readPaths=function(a,l,u,h){var c,x,p,v=T(a),g=[],y=-1,m=0,w=0,d=function(){x=m,p=w};d();for(var S=0;S<v.length;S++){var A,E,P,O,I=[],D=v[S][0],V=D;switch(D){case"M":g[++y]=[],m=+v[S][1],w=+v[S][2],I.push([V,m,w]),d();break;case"Q":case"S":A=+v[S][1],P=+v[S][2],m=+v[S][3],w=+v[S][4],I.push([V,m,w,A,P]);break;case"C":A=+v[S][1],P=+v[S][2],E=+v[S][3],O=+v[S][4],m=+v[S][5],w=+v[S][6],I.push([V,m,w,A,P,E,O]);break;case"T":case"L":m=+v[S][1],w=+v[S][2],I.push([V,m,w]);break;case"H":V="L",m=+v[S][1],I.push([V,m,w]);break;case"V":V="L",w=+v[S][1],I.push([V,m,w]);break;case"A":V="L";var z=+v[S][1],j=+v[S][2];+v[S][4]||(z=-z,j=-j);var X=m-z,F=w;for(c=1;c<=o/2;c++){var H=2*Math.PI*c/o;I.push([V,X+z*Math.cos(H),F+j*Math.sin(H)])}break;case"Z":m===x&&w===p||(m=x,w=p,I.push([V,m,w]))}for(var W=(u||{}).domain,ie=l._fullLayout._size,te=u&&u.xsizemode==="pixel",Q=u&&u.ysizemode==="pixel",ne=h===!1,$=0;$<I.length;$++){for(c=0;c+2<7;c+=2){var J=I[$][c+1],re=I[$][c+2];J!==void 0&&re!==void 0&&(m=J,w=re,u&&(u.xaxis&&u.xaxis.p2r?(ne&&(J-=u.xaxis._offset),J=te?s(u.xaxis,u.xanchor)+J:f(u.xaxis,J)):(ne&&(J-=ie.l),W?J=W.x[0]+J/ie.w:J/=ie.w),u.yaxis&&u.yaxis.p2r?(ne&&(re-=u.yaxis._offset),re=Q?s(u.yaxis,u.yanchor)-re:f(u.yaxis,re)):(ne&&(re-=ie.t),re=W?W.y[1]-re/ie.h:1-re/ie.h)),I[$][c+1]=J,I[$][c+2]=re)}g[y].push(I[$].slice())}}return g},C.pointsOnRectangle=function(a){if(a.length!==5)return!1;for(var l=1;l<3;l++)if(!r(a[0][l]-a[1][l],a[3][l]-a[2][l])||!r(a[0][l]-a[3][l],a[1][l]-a[2][l]))return!1;return!(!r(a[0][1],a[1][1])&&!r(a[0][1],a[3][1])||!(n(a[0],a[1])*n(a[0],a[3])))},C.pointsOnEllipse=function(a){var l=a.length;if(l!==o+1)return!1;l=o;for(var u=0;u<l;u++){var h=(2*l-u)%l,c=(l/2+h)%l,x=(l/2+u)%l;if(!r(n(a[u],a[x]),n(a[h],a[c])))return!1}return!0},C.handleEllipse=function(a,l,u){if(!a)return[l,u];var h=C.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(h.x1+h.x0)/2,x=(h.y1+h.y0)/2,p=(h.x1-h.x0)/2,v=(h.y1-h.y0)/2;p||(p=v/=_),v||(v=p/=_);for(var g=[],y=0;y<o;y++){var m=2*y*Math.PI/o;g.push([c+p*Math.cos(m),x+v*Math.sin(m)])}return g},C.ellipseOver=function(a){var l=a.x0,u=a.y0,h=a.x1,c=a.y1,x=h-l,p=c-u,v=((l-=x)+h)/2,g=((u-=p)+c)/2;return{x0:v-(x*=_),y0:g-(p*=_),x1:v+x,y1:g+p}},C.fixDatesForPaths=function(a,l,u){var h=l.type==="date",c=u.type==="date";if(!h&&!c)return a;for(var x=0;x<a.length;x++)for(var p=0;p<a[x].length;p++)for(var v=0;v+2<a[x][p].length;v+=2)h&&(a[x][p][v+1]=a[x][p][v+1].replace(" ","_")),c&&(a[x][p][v+2]=a[x][p][v+2].replace(" ","_"));return a}},93940:function(U,C,e){var T=e(72760),k=T.drawMode,o=T.openMode,_=e(7e3),b=_.i000,f=_.i090,s=_.i180,t=_.i270,i=_.cos45,r=_.sin45,n=e(5840),a=n.p2r,l=n.r2p,u=e(1936).clearOutline,h=e(9856),c=h.readPaths,x=h.writePaths,p=h.ellipseOver,v=h.fixDatesForPaths;function g(y,m,w){var d,S=y[0][0],A=m.gd,E=S.getAttribute("d"),P=A._fullLayout.newshape,O=m.plotinfo,I=m.isActiveShape,D=O.xaxis,V=O.yaxis,z=!!O.domain||!O.xaxis,j=!!O.domain||!O.yaxis,X=o(w),F=c(E,A,O,I),H={editable:!0,visible:P.visible,name:P.name,showlegend:P.showlegend,legend:P.legend,legendwidth:P.legendwidth,legendgroup:P.legendgroup,legendgrouptitle:{text:P.legendgrouptitle.text,font:P.legendgrouptitle.font},legendrank:P.legendrank,label:P.label,xref:z?"paper":D._id,yref:j?"paper":V._id,layer:P.layer,opacity:P.opacity,line:{color:P.line.color,width:P.line.width,dash:P.line.dash}};if(X||(H.fillcolor=P.fillcolor,H.fillrule=P.fillrule),F.length===1&&(d=F[0]),d&&d.length===5&&w==="drawrect")H.type="rect",H.x0=d[0][1],H.y0=d[0][2],H.x1=d[2][1],H.y1=d[2][2];else if(d&&w==="drawline")H.type="line",H.x0=d[0][1],H.y0=d[0][2],H.x1=d[1][1],H.y1=d[1][2];else if(d&&w==="drawcircle"){H.type="circle";var W=d[b][1],ie=d[f][1],te=d[s][1],Q=d[t][1],ne=d[b][2],$=d[f][2],J=d[s][2],re=d[t][2],se=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),ue=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");se&&(W=l(O.xaxis,W),ie=l(O.xaxis,ie),te=l(O.xaxis,te),Q=l(O.xaxis,Q)),ue&&(ne=l(O.yaxis,ne),$=l(O.yaxis,$),J=l(O.yaxis,J),re=l(O.yaxis,re));var he=(ie+Q)/2,pe=(ne+J)/2,ge=p({x0:he,y0:pe,x1:he+(Q-ie+te-W)/2*i,y1:pe+(re-$+J-ne)/2*r});se&&(ge.x0=a(O.xaxis,ge.x0),ge.x1=a(O.xaxis,ge.x1)),ue&&(ge.y0=a(O.yaxis,ge.y0),ge.y1=a(O.yaxis,ge.y1)),H.x0=ge.x0,H.y0=ge.y0,H.x1=ge.x1,H.y1=ge.y1}else H.type="path",D&&V&&v(F,D,V),H.path=x(F),d=null;return H}U.exports={newShapes:function(y,m){if(y.length&&y[0][0]){var w=m.gd,d=m.isActiveShape,S=m.dragmode,A=(w.layout||{}).shapes||[];if(!k(S)&&d!==void 0){var E=w._fullLayout._activeShapeIndex;if(E<A.length)switch(w._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var P=A[E].path||"";S=P[P.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var O=g(y,m,S);u(w);for(var I=m.editHelpers,D=(I||{}).modifyItem,V=[],z=0;z<A.length;z++){var j=w._fullLayout.shapes[z];if(V[z]=j._input,d!==void 0&&z===w._fullLayout._activeShapeIndex){var X=O;switch(j.type){case"line":case"rect":case"circle":D("x0",X.x0-(j.x0shift||0)),D("x1",X.x1-(j.x1shift||0)),D("y0",X.y0-(j.y0shift||0)),D("y1",X.y1-(j.y1shift||0));break;case"path":D("path",X.path)}}}return d===void 0?(V.push(O),V):I?I.getUpdateObj():{}}},createShapeObj:g}},1936:function(U){U.exports={clearOutlineControllers:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(C){var e=C._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),C._fullLayout._outlining=!1}}},65152:function(U,C,e){var T=e(85448),k=e(3400),o=e(54460);function _(b,f){var s=0;return(f=f||0)&&b&&(b.type==="category"||b.type==="multicategory")&&(s=(b.r2p(1)-b.r2p(0))*f),s}C.rangeToShapePosition=function(b){return b.type==="log"?b.r2d:function(f){return f}},C.shapePositionToRange=function(b){return b.type==="log"?b.d2r:function(f){return f}},C.decodeDate=function(b){return function(f){return f.replace&&(f=f.replace("_"," ")),b(f)}},C.encodeDate=function(b){return function(f){return b(f).replace(" ","_")}},C.extractPathCoords=function(b,f,s){var t=[];return b.match(T.segmentRE).forEach(function(i){var r=f[i.charAt(0)].drawn;if(r!==void 0){var n=i.substr(1).match(T.paramRE);if(n&&!(n.length<r)){var a=n[r],l=s?a:k.cleanNumber(a);t.push(l)}}}),t},C.getDataToPixel=function(b,f,s,t,i){var r,n=b._fullLayout._size;if(f)if(i==="domain")r=function(l){return f._length*(t?1-l:l)+f._offset};else{var a=C.shapePositionToRange(f);r=function(l){var u=_(f,s);return f._offset+f.r2p(a(l,!0))+u},f.type==="date"&&(r=C.decodeDate(r))}else r=t?function(l){return n.t+n.h*(1-l)}:function(l){return n.l+n.w*l};return r},C.getPixelToData=function(b,f,s,t){var i,r=b._fullLayout._size;if(f)if(t==="domain")i=function(a){var l=(a-f._offset)/f._length;return s?1-l:l};else{var n=C.rangeToShapePosition(f);i=function(a){return n(f.p2r(a-f._offset))}}else i=s?function(a){return 1-(a-r.t)/r.h}:function(a){return(a-r.l)/r.w};return i},C.roundPositionForSharpStrokeRendering=function(b,f){var s=Math.round(f%2)===1,t=Math.round(b);return s?t+.5:t},C.makeShapesOptionsAndPlotinfo=function(b,f){var s=b._fullLayout.shapes[f]||{},t=b._fullLayout._plots[s.xref+s.yref];return t?t._hadPlotinfo=!0:(t={},s.xref&&s.xref!=="paper"&&(t.xaxis=b._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(t.yaxis=b._fullLayout[s.yref+"axis"])),t.xsizemode=s.xsizemode,t.ysizemode=s.ysizemode,t.xanchor=s.xanchor,t.yanchor=s.yanchor,{options:s,plotinfo:t}},C.makeSelectionsOptionsAndPlotinfo=function(b,f){var s=b._fullLayout.selections[f]||{},t=b._fullLayout._plots[s.xref+s.yref];return t?t._hadPlotinfo=!0:(t={},s.xref&&(t.xaxis=b._fullLayout[s.xref+"axis"]),s.yref&&(t.yaxis=b._fullLayout[s.yref+"axis"])),{options:s,plotinfo:t}},C.getPathString=function(b,f){var s,t,i,r,n,a,l,u,h=f.type,c=o.getRefType(f.xref),x=o.getRefType(f.yref),p=o.getFromId(b,f.xref),v=o.getFromId(b,f.yref),g=b._fullLayout._size,y=_(p,f.x0shift),m=_(p,f.x1shift),w=_(v,f.y0shift),d=_(v,f.y1shift);if(p?c==="domain"?t=function(z){return p._offset+p._length*z}:(s=C.shapePositionToRange(p),t=function(z){return p._offset+p.r2p(s(z,!0))}):t=function(z){return g.l+g.w*z},v?x==="domain"?r=function(z){return v._offset+v._length*(1-z)}:(i=C.shapePositionToRange(v),r=function(z){return v._offset+v.r2p(i(z,!0))}):r=function(z){return g.t+g.h*(1-z)},h==="path")return p&&p.type==="date"&&(t=C.decodeDate(t)),v&&v.type==="date"&&(r=C.decodeDate(r)),function(z,j,X){var F=z.path,H=z.xsizemode,W=z.ysizemode,ie=z.xanchor,te=z.yanchor;return F.replace(T.segmentRE,function(Q){var ne=0,$=Q.charAt(0),J=T.paramIsX[$],re=T.paramIsY[$],se=T.numParams[$],ue=Q.substr(1).replace(T.paramRE,function(he){return J[ne]?he=H==="pixel"?j(ie)+Number(he):j(he):re[ne]&&(he=W==="pixel"?X(te)-Number(he):X(he)),++ne>se&&(he="X"),he});return ne>se&&(ue=ue.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+Q)),$+ue})}(f,t,r);if(f.xsizemode==="pixel"){var S=t(f.xanchor);n=S+f.x0+y,a=S+f.x1+m}else n=t(f.x0)+y,a=t(f.x1)+m;if(f.ysizemode==="pixel"){var A=r(f.yanchor);l=A-f.y0+w,u=A-f.y1+d}else l=r(f.y0)+w,u=r(f.y1)+d;if(h==="line")return"M"+n+","+l+"L"+a+","+u;if(h==="rect")return"M"+n+","+l+"H"+a+"V"+u+"H"+n+"Z";var E=(n+a)/2,P=(l+u)/2,O=Math.abs(E-n),I=Math.abs(P-l),D="A"+O+","+I,V=E+O+","+P;return"M"+V+D+" 0 1,1 "+E+","+(P-I)+D+" 0 0,1 "+V+"Z"}},41592:function(U,C,e){var T=e(4016);U.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:T.draw,drawOne:T.drawOne}},97728:function(U){function C(s,t){return t?t.d2l(s):s}function e(s,t){return t?t.l2d(s):s}function T(s){return s.x0shift||0}function k(s){return s.x1shift||0}function o(s){return s.y0shift||0}function _(s){return s.y1shift||0}function b(s,t){return C(s.x1,t)+k(s)-C(s.x0,t)-T(s)}function f(s,t,i){return C(s.y1,i)+_(s)-C(s.y0,i)-o(s)}U.exports={x0:function(s){return s.x0},x1:function(s){return s.x1},y0:function(s){return s.y0},y1:function(s){return s.y1},slope:function(s,t,i){return s.type!=="line"?void 0:f(s,0,i)/b(s,t)},dx:b,dy:f,width:function(s,t){return Math.abs(b(s,t))},height:function(s,t,i){return Math.abs(f(s,0,i))},length:function(s,t,i){return s.type!=="line"?void 0:Math.sqrt(Math.pow(b(s,t),2)+Math.pow(f(s,0,i),2))},xcenter:function(s,t){return e((C(s.x1,t)+k(s)+C(s.x0,t)+T(s))/2,t)},ycenter:function(s,t,i){return e((C(s.y1,i)+_(s)+C(s.y0,i)+o(s))/2,i)}}},89861:function(U,C,e){var T=e(25376),k=e(66741),o=e(92880).extendDeepAll,_=e(67824).overrideAll,b=e(85656),f=e(31780).templatedArray,s=e(60876),t=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});U.exports=_(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:T({})},font:T({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(U){U.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(U,C,e){var T=e(3400),k=e(51272),o=e(89861),_=e(60876).name,b=o.steps;function f(t,i,r){function n(c,x){return T.coerce(t,i,o,c,x)}for(var a=k(t,i,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<a.length;u++)a[u].visible&&l++;if(l<2?i.visible=!1:n("visible")){i._stepCount=l;var h=i._visibleSteps=T.filterVisible(a);(a[n("active")]||{}).visible||(i.active=h[0]._index),n("x"),n("y"),T.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),T.coerceFont(n,"font",r.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),T.coerceFont(n,"currentvalue.font",i.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function s(t,i){function r(a,l){return T.coerce(t,i,b,a,l)}if(t.method==="skip"||Array.isArray(t.args)?r("visible"):i.visible=!1){r("method"),r("args");var n=r("label","step-"+i._index);r("value",n),r("execute")}}U.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:f})}},79664:function(U,C,e){var T=e(33428),k=e(7316),o=e(76308),_=e(43616),b=e(3400),f=b.strTranslate,s=e(72736),t=e(31780).arrayEditor,i=e(60876),r=e(84284),n=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR;function u(I){return i.autoMarginIdRoot+I._index}function h(I){return I._index}function c(I,D){var V=_.tester.selectAll("g."+i.labelGroupClass).data(D._visibleSteps);V.enter().append("g").classed(i.labelGroupClass,!0);var z=0,j=0;V.each(function($){var J=v(T.select(this),{step:$},D).node();if(J){var re=_.bBox(J);j=Math.max(j,re.height),z=Math.max(z,re.width)}}),V.remove();var X=D._dims={};X.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=I._fullLayout._size;X.lx=F.l+F.w*D.x,X.ly=F.t+F.h*(1-D.y),D.lenmode==="fraction"?X.outerLength=Math.round(F.w*D.len):X.outerLength=D.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-D.pad.l-D.pad.r);var H=(X.inputAreaLength-2*i.stepInset)/(D._stepCount-1),W=z+i.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(W/H)),X.labelHeight=j,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,D.currentvalue.visible){var ie=_.tester.append("g");V.each(function($){var J=x(ie,D,$.label),re=J.node()&&_.bBox(J.node())||{width:0,height:0},se=s.lineCount(J);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(re.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(re.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,se)}),X.currentValueTotalHeight=X.currentValueHeight+D.currentvalue.offset,ie.remove()}X.height=X.currentValueTotalHeight+i.tickOffset+D.ticklen+i.labelOffset+X.labelHeight+D.pad.t+D.pad.b;var te="left";b.isRightAnchor(D)&&(X.lx-=X.outerLength,te="right"),b.isCenterAnchor(D)&&(X.lx-=X.outerLength/2,te="center");var Q="top";b.isBottomAnchor(D)&&(X.ly-=X.height,Q="bottom"),b.isMiddleAnchor(D)&&(X.ly-=X.height/2,Q="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var ne={y:D.y,b:X.height*l[Q],t:X.height*a[Q]};D.lenmode==="fraction"?(ne.l=0,ne.xl=D.x-D.len*a[te],ne.r=0,ne.xr=D.x+D.len*l[te]):(ne.x=D.x,ne.l=X.outerLength*a[te],ne.r=X.outerLength*l[te]),k.autoMargin(I,u(D),ne)}function x(I,D,V){if(D.currentvalue.visible){var z,j,X=D._dims;switch(D.currentvalue.xanchor){case"right":z=X.inputAreaLength-i.currentValueInset-X.currentValueMaxWidth,j="left";break;case"center":z=.5*X.inputAreaLength,j="middle";break;default:z=i.currentValueInset,j="left"}var F=b.ensureSingle(I,"text",i.labelClass,function(ne){ne.attr({"text-anchor":j,"data-notex":1})}),H=D.currentvalue.prefix?D.currentvalue.prefix:"";if(typeof V=="string")H+=V;else{var W=D.steps[D.active].label,ie=D._gd._fullLayout._meta;ie&&(W=b.templateString(W,ie)),H+=W}D.currentvalue.suffix&&(H+=D.currentvalue.suffix),F.call(_.font,D.currentvalue.font).text(H).call(s.convertToTspans,D._gd);var te=s.lineCount(F),Q=(X.currentValueMaxLines+1-te)*D.currentvalue.font.size*n;return s.positionText(F,z,Q),F}}function p(I,D,V){b.ensureSingle(I,"rect",i.gripRectClass,function(z){z.call(w,D,I,V).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(o.stroke,V.bordercolor).call(o.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px")}function v(I,D,V){var z=b.ensureSingle(I,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),j=D.step.label,X=V._gd._fullLayout._meta;return X&&(j=b.templateString(j,X)),z.call(_.font,V.font).text(j).call(s.convertToTspans,V._gd),z}function g(I,D){var V=b.ensureSingle(I,"g",i.labelsClass),z=D._dims,j=V.selectAll("g."+i.labelGroupClass).data(z.labelSteps);j.enter().append("g").classed(i.labelGroupClass,!0),j.exit().remove(),j.each(function(X){var F=T.select(this);F.call(v,X,D),_.setTranslate(F,A(D,X.fraction),i.tickOffset+D.ticklen+D.font.size*n+i.labelOffset+z.currentValueTotalHeight)})}function y(I,D,V,z,j){var X=Math.round(z*(V._stepCount-1)),F=V._visibleSteps[X]._index;F!==V.active&&m(I,D,V,F,!0,j)}function m(I,D,V,z,j,X){var F=V.active;V.active=z,t(I.layout,i.name,V).applyUpdate("active",z);var H=V.steps[V.active];D.call(S,V,X),D.call(x,V),I.emit("plotly_sliderchange",{slider:V,step:V.steps[V.active],interaction:j,previousActive:F}),H&&H.method&&j&&(D._nextMethod?(D._nextMethod.step=H,D._nextMethod.doCallback=j,D._nextMethod.doTransition=X):(D._nextMethod={step:H,doCallback:j,doTransition:X},D._nextMethodRaf=window.requestAnimationFrame(function(){var W=D._nextMethod.step;W.method&&(W.execute&&k.executeAPICommand(I,W.method,W.args),D._nextMethod=null,D._nextMethodRaf=null)})))}function w(I,D,V){if(!D._context.staticPlot){var z=V.node(),j=T.select(D);I.on("mousedown",F),I.on("touchstart",F)}function X(){return V.data()[0]}function F(){var H=X();D.emit("plotly_sliderstart",{slider:H});var W=V.select("."+i.gripRectClass);T.event.stopPropagation(),T.event.preventDefault(),W.call(o.fill,H.activebgcolor);var ie=E(H,T.mouse(z)[0]);function te(){var ne=X(),$=E(ne,T.mouse(z)[0]);y(D,V,ne,$,!1)}function Q(){var ne=X();ne._dragging=!1,W.call(o.fill,ne.bgcolor),j.on("mouseup",null),j.on("mousemove",null),j.on("touchend",null),j.on("touchmove",null),D.emit("plotly_sliderend",{slider:ne,step:ne.steps[ne.active]})}y(D,V,H,ie,!0),H._dragging=!0,j.on("mousemove",te),j.on("touchmove",te),j.on("mouseup",Q),j.on("touchend",Q)}}function d(I,D){var V=I.selectAll("rect."+i.tickRectClass).data(D._visibleSteps),z=D._dims;V.enter().append("rect").classed(i.tickRectClass,!0),V.exit().remove(),V.attr({width:D.tickwidth+"px","shape-rendering":"crispEdges"}),V.each(function(j,X){var F=X%z.labelStride==0,H=T.select(this);H.attr({height:F?D.ticklen:D.minorticklen}).call(o.fill,D.tickcolor),_.setTranslate(H,A(D,X/(D._stepCount-1))-.5*D.tickwidth,(F?i.tickOffset:i.minorTickOffset)+z.currentValueTotalHeight)})}function S(I,D,V){for(var z=I.select("rect."+i.gripRectClass),j=0,X=0;X<D._stepCount;X++)if(D._visibleSteps[X]._index===D.active){j=X;break}var F=A(D,j/(D._stepCount-1));if(!D._invokingCommand){var H=z;V&&D.transition.duration>0&&(H=H.transition().duration(D.transition.duration).ease(D.transition.easing)),H.attr("transform",f(F-.5*i.gripWidth,D._dims.currentValueTotalHeight))}}function A(I,D){var V=I._dims;return V.inputAreaStart+i.stepInset+(V.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,D))}function E(I,D){var V=I._dims;return Math.min(1,Math.max(0,(D-i.stepInset-V.inputAreaStart)/(V.inputAreaLength-2*i.stepInset-2*V.inputAreaStart)))}function P(I,D,V){var z=V._dims,j=b.ensureSingle(I,"rect",i.railTouchRectClass,function(X){X.call(w,D,I,V).style("pointer-events","all")});j.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,i.tickOffset+V.ticklen+z.labelHeight)}).call(o.fill,V.bgcolor).attr("opacity",0),_.setTranslate(j,0,z.currentValueTotalHeight)}function O(I,D){var V=D._dims,z=V.inputAreaLength-2*i.railInset,j=b.ensureSingle(I,"rect",i.railRectClass);j.attr({width:z,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,D.bordercolor).call(o.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px"),_.setTranslate(j,i.railInset,.5*(V.inputAreaWidth-i.railWidth)+V.currentValueTotalHeight)}U.exports=function(I){var D=I._context.staticPlot,V=I._fullLayout,z=function(ie,te){for(var Q=ie[i.name],ne=[],$=0;$<Q.length;$++){var J=Q[$];J.visible&&(J._gd=te,ne.push(J))}return ne}(V,I),j=V._infolayer.selectAll("g."+i.containerClassName).data(z.length>0?[0]:[]);function X(ie){ie._commandObserver&&(ie._commandObserver.remove(),delete ie._commandObserver),k.autoMargin(I,u(ie))}if(j.enter().append("g").classed(i.containerClassName,!0).style("cursor",D?null:"ew-resize"),j.exit().each(function(){T.select(this).selectAll("g."+i.groupClassName).each(X)}).remove(),z.length!==0){var F=j.selectAll("g."+i.groupClassName).data(z,h);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(X).remove();for(var H=0;H<z.length;H++){var W=z[H];c(I,W)}F.each(function(ie){var te=T.select(this);(function(Q){var ne=Q._dims;ne.labelSteps=[];for(var $=Q._stepCount,J=0;J<$;J+=ne.labelStride)ne.labelSteps.push({fraction:J/($-1),step:Q._visibleSteps[J]})})(ie),k.manageCommandObserver(I,ie,ie._visibleSteps,function(Q){var ne=te.data()[0];ne.active!==Q.index&&(ne._dragging||m(I,te,ne,Q.index,!1,!0))}),function(Q,ne,$){($.steps[$.active]||{}).visible||($.active=$._visibleSteps[0]._index),ne.call(x,$).call(O,$).call(g,$).call(d,$).call(P,Q,$).call(p,Q,$);var J=$._dims;_.setTranslate(ne,J.lx+$.pad.l,J.ly+$.pad.t),ne.call(S,$,!1),ne.call(x,$)}(I,T.select(this),ie)})}}},97544:function(U,C,e){var T=e(60876);U.exports={moduleType:"component",name:T.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(U,C,e){var T=e(33428),k=e(38248),o=e(7316),_=e(24040),b=e(3400),f=b.strTranslate,s=e(43616),t=e(76308),i=e(72736),r=e(13448),n=e(84284).OPPOSITE_SIDE,a=/ [XY][0-9]* /;U.exports={draw:function(l,u,h){var c,x=l._fullLayout,p=h.propContainer,v=h.propName,g=h.placeholder,y=h.traceIndex,m=h.avoid||{},w=h.attributes,d=h.transform,S=h.containerGroup,A=1,E=p.title,P=(E&&E.text?E.text:"").trim(),O=!1,I=E&&E.font?E.font:{},D=I.family,V=I.size,z=I.color,j=I.weight,X=I.style,F=I.variant,H=I.textcase,W=I.lineposition,ie=I.shadow,te=!!h.subtitlePropName,Q=h.subtitlePlaceholder,ne=(p.title||{}).subtitle||{text:"",font:{}},$=ne.text.trim(),J=!1,re=1,se=ne.font,ue=se.family,he=se.size,pe=se.color,ge=se.weight,ye=se.style,be=se.variant,Te=se.textcase,Se=se.lineposition,Fe=se.shadow;v==="title.text"?c="titleText":v.indexOf("axis")!==-1?c="axisTitleText":v.indexOf(!0)&&(c="colorbarTitleText");var xe=l._context.edits[c];function le(Pe,Ue){return Pe!==void 0&&Ue!==void 0&&Pe.replace(a," % ")===Ue.replace(a," % ")}P===""?A=0:le(P,g)&&(xe||(P=""),A=.2,O=!0),te&&($===""?re=0:le($,Q)&&(xe||($=""),re=.2,J=!0)),h._meta?P=b.templateString(P,h._meta):x._meta&&(P=b.templateString(P,x._meta));var oe,de=P||$||xe;S||(S=b.ensureSingle(x._infolayer,"g","g-"+u),oe=x._hColorbarMoveTitle);var Ce=S.selectAll("text."+u).data(de?[0]:[]);Ce.enter().append("text"),Ce.text(P).attr("class",u),Ce.exit().remove();var _e=null,Ae=u+"-subtitle",Le=$||xe;if(te&&Le&&((_e=S.selectAll("text."+Ae).data(Le?[0]:[])).enter().append("text"),_e.text($).attr("class",Ae),_e.exit().remove()),!de)return S;function ze(Pe,Ue){b.syncOrAsync([Re,ve],{title:Pe,subtitle:Ue})}function Re(Pe){var Ue,We=Pe.title,$e=Pe.subtitle;if(!d&&oe&&(d={}),d?(Ue="",d.rotate&&(Ue+="rotate("+[d.rotate,w.x,w.y]+")"),(d.offset||oe)&&(Ue+=f(0,(d.offset||0)-(oe||0)))):Ue=null,We.attr("transform",Ue),We.style("opacity",A*t.opacity(z)).call(s.font,{color:t.rgb(z),size:T.round(V,2),family:D,weight:j,style:X,variant:F,textcase:H,shadow:ie,lineposition:W}).attr(w).call(i.convertToTspans,l,function(it){if(it){var tt=T.select(it.node().parentNode).select("."+Ae);if(!tt.empty()){var Pt=it.node().getBBox();if(Pt.height){var Rt=Pt.y+Pt.height+1.6*he;tt.attr("y",Rt)}}}}),$e){var ot=S.select("."+u+"-math-group"),st=We.node().getBBox(),mt=ot.node()?ot.node().getBBox():void 0,_t=mt?mt.y+mt.height+1.6*he:st.y+st.height+1.6*he,yt=b.extendFlat({},w,{y:_t});$e.attr("transform",Ue),$e.style("opacity",re*t.opacity(pe)).call(s.font,{color:t.rgb(pe),size:T.round(he,2),family:ue,weight:ge,style:ye,variant:be,textcase:Te,shadow:Fe,lineposition:Se}).attr(yt).call(i.convertToTspans,l)}return o.previousPromises(l)}function ve(Pe){var Ue=Pe.title,We=T.select(Ue.node().parentNode);if(m&&m.selection&&m.side&&P){We.attr("transform",null);var $e=n[m.side],ot=m.side==="left"||m.side==="top"?-1:1,st=k(m.pad)?m.pad:2,mt=s.bBox(We.node()),_t={t:0,b:0,l:0,r:0},yt=l._fullLayout._reservedMargin;for(var it in yt)for(var tt in yt[it]){var Pt=yt[it][tt];_t[tt]=Math.max(_t[tt],Pt)}var Rt={left:_t.l,top:_t.t,right:x.width-_t.r,bottom:x.height-_t.b},Ft=m.maxShift||ot*(Rt[m.side]-mt[m.side]),Ot=0;if(Ft<0)Ot=Ft;else{var Xe=m.offsetLeft||0,Je=m.offsetTop||0;mt.left-=Xe,mt.right-=Xe,mt.top-=Je,mt.bottom-=Je,m.selection.each(function(){var Ke=s.bBox(this);b.bBoxIntersect(mt,Ke,st)&&(Ot=Math.max(Ot,ot*(Ke[m.side]-mt[$e])+st))}),Ot=Math.min(Ft,Ot),p._titleScoot=Math.abs(Ot)}if(Ot>0||Ft<0){var Ve={left:[-Ot,0],right:[Ot,0],top:[0,-Ot],bottom:[0,Ot]}[m.side];We.attr("transform",f(Ve[0],Ve[1]))}}}function ke(Pe,Ue){Pe.text(Ue).on("mouseover.opacity",function(){T.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){T.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})}if(Ce.call(ze,_e),xe&&(P?Ce.on(".opacity",null):(ke(Ce,g),O=!0),Ce.call(i.makeEditable,{gd:l}).on("edit",function(Pe){y!==void 0?_.call("_guiRestyle",l,v,Pe,y):_.call("_guiRelayout",l,v,Pe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ze)}).on("input",function(Pe){this.text(Pe||" ").call(i.positionText,w.x,w.y)}),te)){if(te&&!P){var Ee=Ce.node().getBBox(),De=Ee.y+Ee.height+1.6*he;_e.attr("y",De)}$?_e.on(".opacity",null):(ke(_e,Q),J=!0),_e.call(i.makeEditable,{gd:l}).on("edit",function(Pe){_.call("_guiRelayout",l,"title.subtitle.text",Pe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ze)}).on("input",function(Pe){this.text(Pe||" ").call(i.positionText,_e.attr("x"),_e.attr("y"))})}return Ce.classed("js-placeholder",O),_e&&_e.classed("js-placeholder",J),S},SUBTITLE_PADDING_EM:1.6,SUBTITLE_PADDING_MATHJAX_EM:1.6}},88444:function(U,C,e){var T=e(25376),k=e(22548),o=e(92880).extendFlat,_=e(67824).overrideAll,b=e(66741),f=e(31780).templatedArray,s=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});U.exports=_(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(b({editType:"arraydraw"}),{}),font:T({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(U){U.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(U,C,e){var T=e(3400),k=e(51272),o=e(88444),_=e(73712).name,b=o.buttons;function f(t,i,r){function n(a,l){return T.coerce(t,i,o,a,l)}n("visible",k(t,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),T.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),T.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function s(t,i){function r(n,a){return T.coerce(t,i,b,n,a)}r("visible",t.method==="skip"||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}U.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:f})}},14420:function(U,C,e){var T=e(33428),k=e(7316),o=e(76308),_=e(43616),b=e(3400),f=e(72736),s=e(31780).arrayEditor,t=e(84284).LINE_SPACING,i=e(73712),r=e(37400);function n(A){return A._index}function a(A,E){return+A.attr(i.menuIndexAttrName)===E._index}function l(A,E,P,O,I,D,V,z){E.active=V,s(A.layout,i.name,E).applyUpdate("active",V),E.type==="buttons"?h(A,O,null,null,E):E.type==="dropdown"&&(I.attr(i.menuIndexAttrName,"-1"),u(A,O,I,D,E),z||h(A,O,I,D,E))}function u(A,E,P,O,I){var D=b.ensureSingle(E,"g",i.headerClassName,function(H){H.style("pointer-events","all")}),V=I._dims,z=I.active,j=I.buttons[z]||i.blankHeaderOpts,X={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},F={width:V.headerWidth,height:V.headerHeight};D.call(c,I,j,A).call(d,I,X,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(H){H.attr("text-anchor","end").call(_.font,I.font).text(i.arrowSymbol[I.direction])}).attr({x:V.headerWidth-i.arrowOffsetX+I.pad.l,y:V.headerHeight/2+i.textOffsetY+I.pad.t}),D.on("click",function(){P.call(S,String(a(P,I)?-1:I._index)),h(A,E,P,O,I)}),D.on("mouseover",function(){D.call(g)}),D.on("mouseout",function(){D.call(y,I)}),_.setTranslate(E,V.lx,V.ly)}function h(A,E,P,O,I){P||(P=E).attr("pointer-events","all");var D=function(ne){return+ne.attr(i.menuIndexAttrName)==-1}(P)&&I.type!=="buttons"?[]:I.buttons,V=I.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,z=P.selectAll("g."+V).data(b.filterVisible(D)),j=z.enter().append("g").classed(V,!0),X=z.exit();I.type==="dropdown"?(j.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var F=0,H=0,W=I._dims,ie=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(ie?H=W.headerHeight+i.gapButtonHeader:F=W.headerWidth+i.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(H=-i.gapButtonHeader+i.gapButton-W.openHeight),I.type==="dropdown"&&I.direction==="left"&&(F=-i.gapButtonHeader+i.gapButton-W.openWidth);var te={x:W.lx+F+I.pad.l,y:W.ly+H+I.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},Q={l:te.x+I.borderwidth,t:te.y+I.borderwidth};z.each(function(ne,$){var J=T.select(this);J.call(c,I,ne,A).call(d,I,te),J.on("click",function(){T.event.defaultPrevented||(ne.execute&&(ne.args2&&I.active===$?(l(A,I,0,E,P,O,-1),k.executeAPICommand(A,ne.method,ne.args2)):(l(A,I,0,E,P,O,$),k.executeAPICommand(A,ne.method,ne.args))),A.emit("plotly_buttonclicked",{menu:I,button:ne,active:I.active}))}),J.on("mouseover",function(){J.call(g)}),J.on("mouseout",function(){J.call(y,I),z.call(v,I)})}),z.call(v,I),ie?(Q.w=Math.max(W.openWidth,W.headerWidth),Q.h=te.y-Q.t):(Q.w=te.x-Q.l,Q.h=Math.max(W.openHeight,W.headerHeight)),Q.direction=I.direction,O&&(z.size()?function(ne,$,J,re,se,ue){var he,pe,ge,ye=se.direction,be=ye==="up"||ye==="down",Te=se._dims,Se=se.active;if(be)for(pe=0,ge=0;ge<Se;ge++)pe+=Te.heights[ge]+i.gapButton;else for(he=0,ge=0;ge<Se;ge++)he+=Te.widths[ge]+i.gapButton;re.enable(ue,he,pe),re.hbar&&re.hbar.attr("opacity","0").transition().attr("opacity","1"),re.vbar&&re.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,O,I,Q):function(ne){var $=!!ne.hbar,J=!!ne.vbar;$&&ne.hbar.transition().attr("opacity","0").each("end",function(){$=!1,J||ne.disable()}),J&&ne.vbar.transition().attr("opacity","0").each("end",function(){J=!1,$||ne.disable()})}(O))}function c(A,E,P,O){A.call(x,E).call(p,E,P,O)}function x(A,E){b.ensureSingle(A,"rect",i.itemRectClassName,function(P){P.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,E.bordercolor).call(o.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function p(A,E,P,O){var I=b.ensureSingle(A,"text",i.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),D=P.label,V=O._fullLayout._meta;V&&(D=b.templateString(D,V)),I.call(_.font,E.font).text(D).call(f.convertToTspans,O)}function v(A,E){var P=E.active;A.each(function(O,I){var D=T.select(this);I===P&&E.showactive&&D.select("rect."+i.itemRectClassName).call(o.fill,i.activeColor)})}function g(A){A.select("rect."+i.itemRectClassName).call(o.fill,i.hoverColor)}function y(A,E){A.select("rect."+i.itemRectClassName).call(o.fill,E.bgcolor)}function m(A,E){var P=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},O=_.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));O.enter().append("g").classed(i.dropdownButtonClassName,!0);var I=["up","down"].indexOf(E.direction)!==-1;O.each(function(F,H){var W=T.select(this);W.call(c,E,F,A);var ie=W.select("."+i.itemTextClassName),te=ie.node()&&_.bBox(ie.node()).width,Q=Math.max(te+i.textPadX,i.minWidth),ne=E.font.size*t,$=f.lineCount(ie),J=Math.max(ne*$,i.minHeight)+i.textOffsetY;J=Math.ceil(J),Q=Math.ceil(Q),P.widths[H]=Q,P.heights[H]=J,P.height1=Math.max(P.height1,J),P.width1=Math.max(P.width1,Q),I?(P.totalWidth=Math.max(P.totalWidth,Q),P.openWidth=P.totalWidth,P.totalHeight+=J+i.gapButton,P.openHeight+=J+i.gapButton):(P.totalWidth+=Q+i.gapButton,P.openWidth+=Q+i.gapButton,P.totalHeight=Math.max(P.totalHeight,J),P.openHeight=P.totalHeight)}),I?P.totalHeight-=i.gapButton:P.totalWidth-=i.gapButton,P.headerWidth=P.width1+i.arrowPadX,P.headerHeight=P.height1,E.type==="dropdown"&&(I?(P.width1+=i.arrowPadX,P.totalHeight=P.height1):P.totalWidth=P.width1,P.totalWidth+=i.arrowPadX),O.remove();var D=P.totalWidth+E.pad.l+E.pad.r,V=P.totalHeight+E.pad.t+E.pad.b,z=A._fullLayout._size;P.lx=z.l+z.w*E.x,P.ly=z.t+z.h*(1-E.y);var j="left";b.isRightAnchor(E)&&(P.lx-=D,j="right"),b.isCenterAnchor(E)&&(P.lx-=D/2,j="center");var X="top";b.isBottomAnchor(E)&&(P.ly-=V,X="bottom"),b.isMiddleAnchor(E)&&(P.ly-=V/2,X="middle"),P.totalWidth=Math.ceil(P.totalWidth),P.totalHeight=Math.ceil(P.totalHeight),P.lx=Math.round(P.lx),P.ly=Math.round(P.ly),k.autoMargin(A,w(E),{x:E.x,y:E.y,l:D*({right:1,center:.5}[j]||0),r:D*({left:1,center:.5}[j]||0),b:V*({top:1,middle:.5}[X]||0),t:V*({bottom:1,middle:.5}[X]||0)})}function w(A){return i.autoMarginIdRoot+A._index}function d(A,E,P,O){O=O||{};var I=A.select("."+i.itemRectClassName),D=A.select("."+i.itemTextClassName),V=E.borderwidth,z=P.index,j=E._dims;_.setTranslate(A,V+P.x,V+P.y);var X=["up","down"].indexOf(E.direction)!==-1,F=O.height||(X?j.heights[z]:j.height1);I.attr({x:0,y:0,width:O.width||(X?j.width1:j.widths[z]),height:F});var H=E.font.size*t,W=(f.lineCount(D)-1)*H/2;f.positionText(D,i.textOffsetX,F/2-W+i.textOffsetY),X?P.y+=j.heights[z]+P.yPad:P.x+=j.widths[z]+P.xPad,P.index++}function S(A,E){A.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}U.exports=function(A){var E=A._fullLayout,P=b.filterVisible(E[i.name]);function O(H){k.autoMargin(A,w(H))}var I=E._menulayer.selectAll("g."+i.containerClassName).data(P.length>0?[0]:[]);if(I.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),I.exit().each(function(){T.select(this).selectAll("g."+i.headerGroupClassName).each(O)}).remove(),P.length!==0){var D=I.selectAll("g."+i.headerGroupClassName).data(P,n);D.enter().append("g").classed(i.headerGroupClassName,!0);for(var V=b.ensureSingle(I,"g",i.dropdownButtonGroupClassName,function(H){H.style("pointer-events","all")}),z=0;z<P.length;z++){var j=P[z];m(A,j)}var X="updatemenus"+E._uid,F=new r(A,V,X);D.enter().size()&&(V.node().parentNode.appendChild(V.node()),V.call(S)),D.exit().each(function(H){V.call(S),O(H)}).remove(),D.each(function(H){var W=T.select(this),ie=H.type==="dropdown"?V:null;k.manageCommandObserver(A,H,H.buttons,function(te){l(A,H,H.buttons[te.index],W,ie,F,te.index,!0)}),H.type==="dropdown"?(u(A,W,V,F,H),a(V,H)&&h(A,W,V,F,H)):h(A,W,null,null,H)})}}},76908:function(U,C,e){var T=e(73712);U.exports={moduleType:"component",name:T.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(U,C,e){U.exports=b;var T=e(33428),k=e(76308),o=e(43616),_=e(3400);function b(f,s,t){this.gd=f,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(f,s,t){var i=this.gd._fullLayout,r=i.width,n=i.height;this.position=f;var a,l,u,h,c=this.position.l,x=this.position.w,p=this.position.t,v=this.position.h,g=this.position.direction,y=g==="down",m=g==="left",w=g==="up",d=x,S=v;y||m||g==="right"||w||(this.position.direction="down",y=!0),y||w?(l=(a=c)+d,y?(u=p,S=(h=Math.min(u+S,n))-u):S=(h=p+S)-(u=Math.max(h-S,0))):(h=(u=p)+S,m?d=(l=c+d)-(a=Math.max(l-d,0)):(a=c,d=(l=Math.min(a+d,r))-a)),this._box={l:a,t:u,w:d,h:S};var A=x>d,E=b.barLength+2*b.barPad,P=b.barWidth+2*b.barPad,O=c,I=p+v;I+P>n&&(I=n-P);var D=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),A?(this.hbar=D.attr({rx:b.barRadius,ry:b.barRadius,x:O,y:I,width:E,height:P}),this._hbarXMin=O+E/2,this._hbarTranslateMax=d-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var V=v>S,z=b.barWidth+2*b.barPad,j=b.barLength+2*b.barPad,X=c+x,F=p;X+z>r&&(X=r-z);var H=this.container.selectAll("rect.scrollbar-vertical").data(V?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),V?(this.vbar=H.attr({rx:b.barRadius,ry:b.barRadius,x:X,y:F,width:z,height:j}),this._vbarYMin=F+j/2,this._vbarTranslateMax=S-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var W=this.id,ie=a-.5,te=V?l+z+.5:l+.5,Q=u-.5,ne=A?h+P+.5:h+.5,$=i._topdefs.selectAll("#"+W).data(A||V?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",W).append("rect"),A||V?(this._clipRect=$.select("rect").attr({x:Math.floor(ie),y:Math.floor(Q),width:Math.ceil(te)-Math.floor(ie),height:Math.ceil(ne)-Math.floor(Q)}),this.container.call(o.setClipUrl,W,this.gd),this.bg.attr({x:c,y:p,width:x,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),A||V){var J=T.behavior.drag().on("dragstart",function(){T.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(J);var re=T.behavior.drag().on("dragstart",function(){T.event.sourceEvent.preventDefault(),T.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(re),V&&this.vbar.on(".drag",null).call(re)}this.setTranslate(s,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f-=T.event.dx),this.vbar&&(s-=T.event.dy),this.setTranslate(f,s)},b.prototype._onBoxWheel=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f+=T.event.deltaY),this.vbar&&(s+=T.event.deltaY),this.setTranslate(f,s)},b.prototype._onBarDrag=function(){var f=this.translateX,s=this.translateY;if(this.hbar){var t=f+this._hbarXMin,i=t+this._hbarTranslateMax;f=(_.constrain(T.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var r=s+this._vbarYMin,n=r+this._vbarTranslateMax;s=(_.constrain(T.event.y,r,n)-r)/(n-r)*(this.position.h-this._box.h)}this.setTranslate(f,s)},b.prototype.setTranslate=function(f,s){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(f=_.constrain(f||0,0,t),s=_.constrain(s||0,0,i),this.translateX=f,this.translateY=s,this.container.call(o.setTranslate,this._box.l-this.position.l-f,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+f-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var r=f/t;this.hbar.call(o.setTranslate,f+r*this._hbarTranslateMax,s)}if(this.vbar){var n=s/i;this.vbar.call(o.setTranslate,f,s+n*this._vbarTranslateMax)}}},84284:function(U){U.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(U){U.exports={axisRefDescription:function(C,e,T){return["If set to a",C,"axis id (e.g. *"+C+"* or","*"+C+"2*), the `"+C+"` position refers to a",C,"coordinate. If set to *paper*, the `"+C+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+T+"). If set to a",C,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+C+"2 domain* refers to the domain of the second",C," axis and a",C,"position of 0.5 refers to the","point between the",e,"and the",T,"of the domain of the","second",C,"axis."].join(" ")}}},48164:function(U){U.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(U){U.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(U){U.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(U){U.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(U){U.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(U){U.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(U){U.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(U,C){C.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],C.STYLE=C.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(U,C){C.xmlns="http://www.w3.org/2000/xmlns/",C.svg="http://www.w3.org/2000/svg",C.xlink="http://www.w3.org/1999/xlink",C.svgAttrs={xmlns:C.svg,"xmlns:xlink":C.xlink}},64884:function(U,C,e){C.version=e(25788).version,e(88324),e(79288);for(var T=e(24040),k=C.register=T.register,o=e(22448),_=Object.keys(o),b=0;b<_.length;b++){var f=_[b];f.charAt(0)!=="_"&&(C[f]=o[f]),k({moduleType:"apiMethod",name:f,fn:o[f]})}k(e(65875)),k([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),k([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),C.Icons=e(9224);var s=e(93024),t=e(7316);C.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},C.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},C.Snapshot=e(78904),C.PlotSchema=e(73060)},9224:function(U){U.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(U,C){C.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},C.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},C.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},C.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},C.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},C.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(U,C,e){var T=e(20435),k=T.mod,o=T.modHalf,_=Math.PI,b=2*_;function f(r){return Math.abs(r[1]-r[0])>b-1e-14}function s(r,n){return o(n-r,b)}function t(r,n){if(f(n))return!0;var a,l;n[0]<n[1]?(a=n[0],l=n[1]):(a=n[1],l=n[0]),(a=k(a,b))>(l=k(l,b))&&(l+=b);var u=k(r,b),h=u+b;return u>=a&&u<=l||h>=a&&h<=l}function i(r,n,a,l,u,h,c){u=u||0,h=h||0;var x,p,v,g,y,m=f([a,l]);function w(E,P){return[E*Math.cos(P)+u,h-E*Math.sin(P)]}m?(x=0,p=_,v=b):a<l?(x=a,v=l):(x=l,v=a),r<n?(g=r,y=n):(g=n,y=r);var d,S=Math.abs(v-x)<=_?0:1;function A(E,P,O){return"A"+[E,E]+" "+[0,S,O]+" "+w(E,P)}return m?d=g===null?"M"+w(y,x)+A(y,p,0)+A(y,v,0)+"Z":"M"+w(g,x)+A(g,p,0)+A(g,v,0)+"ZM"+w(y,x)+A(y,p,1)+A(y,v,1)+"Z":g===null?(d="M"+w(y,x)+A(y,v,0),c&&(d+="L0,0Z")):d="M"+w(g,x)+"L"+w(y,x)+A(y,v,0)+"L"+w(g,v)+A(g,x,1)+"Z",d}U.exports={deg2rad:function(r){return r/180*_},rad2deg:function(r){return r/_*180},angleDelta:s,angleDist:function(r,n){return Math.abs(s(r,n))},isFullCircle:f,isAngleInsideSector:t,isPtInsideSector:function(r,n,a,l){return!!t(n,l)&&(a[0]<a[1]?(u=a[0],h=a[1]):(u=a[1],h=a[0]),r>=u&&r<=h);var u,h},pathArc:function(r,n,a,l,u){return i(null,r,n,a,l,u,0)},pathSector:function(r,n,a,l,u){return i(null,r,n,a,l,u,1)},pathAnnulus:function(r,n,a,l,u,h){return i(r,n,a,l,u,h,1)}}},38116:function(U,C,e){var T=e(83160).decode,k=e(63620),o=Array.isArray,_=ArrayBuffer,b=DataView;function f(n){return _.isView(n)&&!(n instanceof b)}function s(n){return o(n)||f(n)}C.isTypedArray=f,C.isArrayOrTypedArray=s,C.isArray1D=function(n){return!s(n[0])},C.ensureArray=function(n,a){return o(n)||(n=[]),n.length=a,n};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(n){return n.constructor===ArrayBuffer}function r(n,a,l){if(s(n)){if(s(n[0])){for(var u=l,h=0;h<n.length;h++)u=a(u,n[h].length);return u}return n.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,C.isArrayBuffer=i,C.decodeTypedArraySpec=function(n){var a=[],l=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(n),u=l.dtype,h=t[u];if(!h)throw new Error('Error in dtype: "'+u+'"');var c=h.BYTES_PER_ELEMENT,x=l.bdata;i(x)||(x=T(x));var p=l.shape===void 0?[x.byteLength/c]:(""+l.shape).split(",");p.reverse();var v,g,y=p.length,m=+p[0],w=c*m,d=0;if(y===1)a=new h(x);else if(y===2)for(v=+p[1],g=0;g<v;g++)a[g]=new h(x,d,m),d+=w;else{if(y!==3)throw new Error("ndim: "+y+'is not supported with the shape:"'+l.shape+'"');v=+p[1];for(var S=+p[2],A=0;A<S;A++)for(a[A]=[],g=0;g<v;g++)a[A][g]=new h(x,d,m),d+=w}return a.bdata=l.bdata,a.dtype=l.dtype,a.shape=p.reverse().join(","),n._inputArray=a,a},C.isTypedArraySpec=function(n){return k(n)&&n.hasOwnProperty("dtype")&&typeof n.dtype=="string"&&n.hasOwnProperty("bdata")&&(typeof n.bdata=="string"||i(n.bdata))&&(n.shape===void 0||n.hasOwnProperty("shape")&&(typeof n.shape=="string"||typeof n.shape=="number"))},C.concat=function(){var n,a,l,u,h,c,x,p,v=[],g=!0,y=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(a?v.push(u):(a=u,h=c),o(u)?n=!1:(g=!1,y?n!==u.constructor&&(n=!1):n=u.constructor),y+=c);if(!y)return[];if(!v.length)return a;if(g)return a.concat.apply(a,v);if(n){for((x=new n(y)).set(a),l=0;l<v.length;l++)u=v[l],x.set(u,h),h+=u.length;return x}for(x=new Array(y),p=0;p<a.length;p++)x[p]=a[p];for(l=0;l<v.length;l++){for(u=v[l],p=0;p<u.length;p++)x[h+p]=u[p];h+=p}return x},C.maxRowLength=function(n){return r(n,Math.max,0)},C.minRowLength=function(n){return r(n,Math.min,1/0)}},54037:function(U,C,e){var T=e(38248),k=e(39032).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;U.exports=function(_){return typeof _=="string"&&(_=_.replace(o,"")),T(_)?Number(_):k}},73696:function(U){U.exports=function(C){var e=C._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(T){T.regl&&T.regl.clear({color:!0,depth:!0})})}},75352:function(U){U.exports=function(C){C._responsiveChartHandler&&(window.removeEventListener("resize",C._responsiveChartHandler),delete C._responsiveChartHandler)}},63064:function(U,C,e){var T=e(38248),k=e(49760),o=e(92880).extendFlat,_=e(45464),b=e(88304),f=e(76308),s=e(13448).DESELECTDIM,t=e(22296),i=e(53756).counter,r=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;function u(h,c){var x=C.valObjectMeta[c.valType];if(c.arrayOk&&n(h))return!0;if(x.validateFunction)return x.validateFunction(h,c);var p={},v=p,g={set:function(y){v=y}};return x.coerceFunction(h,g,p,c),v!==p}C.valObjectMeta={data_array:{coerceFunction:function(h,c,x){c.set(n(h)?h:a(h)?l(h):x)}},enumerated:{coerceFunction:function(h,c,x,p){p.coerceNumber&&(h=+h),p.values.indexOf(h)===-1?c.set(x):c.set(h)},validateFunction:function(h,c){c.coerceNumber&&(h=+h);for(var x=c.values,p=0;p<x.length;p++){var v=String(x[p]);if(v.charAt(0)==="/"&&v.charAt(v.length-1)==="/"){if(new RegExp(v.substr(1,v.length-2)).test(h))return!0}else if(h===x[p])return!0}return!1}},boolean:{coerceFunction:function(h,c,x){h===!0||h===!1?c.set(h):c.set(x)}},number:{coerceFunction:function(h,c,x,p){a(h)&&(h=l(h)),!T(h)||p.min!==void 0&&h<p.min||p.max!==void 0&&h>p.max?c.set(x):c.set(+h)}},integer:{coerceFunction:function(h,c,x,p){(p.extras||[]).indexOf(h)===-1?(a(h)&&(h=l(h)),h%1||!T(h)||p.min!==void 0&&h<p.min||p.max!==void 0&&h>p.max?c.set(x):c.set(+h)):c.set(h)}},string:{coerceFunction:function(h,c,x,p){if(typeof h!="string"){var v=typeof h=="number";p.strict!==!0&&v?c.set(String(h)):c.set(x)}else p.noBlank&&!h?c.set(x):c.set(h)}},color:{coerceFunction:function(h,c,x){a(h)&&(h=l(h)),k(h).isValid()?c.set(h):c.set(x)}},colorlist:{coerceFunction:function(h,c,x){Array.isArray(h)&&h.length&&h.every(function(p){return k(p).isValid()})?c.set(h):c.set(x)}},colorscale:{coerceFunction:function(h,c,x){c.set(b.get(h,x))}},angle:{coerceFunction:function(h,c,x){a(h)&&(h=l(h)),h==="auto"?c.set("auto"):T(h)?c.set(r(+h,360)):c.set(x)}},subplotid:{coerceFunction:function(h,c,x,p){var v=p.regex||i(x);typeof h=="string"&&v.test(h)?c.set(h):c.set(x)},validateFunction:function(h,c){var x=c.dflt;return h===x||typeof h=="string"&&!!i(x).test(h)}},flaglist:{coerceFunction:function(h,c,x,p){if((p.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var v=h.split("+"),g=0;g<v.length;){var y=v[g];p.flags.indexOf(y)===-1||v.indexOf(y)<g?v.splice(g,1):g++}v.length?c.set(v.join("+")):c.set(x)}else c.set(x);else c.set(h)}},any:{coerceFunction:function(h,c,x){h===void 0?c.set(x):c.set(a(h)?l(h):h)}},info_array:{coerceFunction:function(h,c,x,p){function v(z,j,X){var F,H={set:function(W){F=W}};return X===void 0&&(X=j.dflt),C.valObjectMeta[j.valType].coerceFunction(z,H,X,j),F}if(a(h)&&(h=l(h)),n(h)){var g,y,m,w,d,S,A=p.dimensions===2||p.dimensions==="1-2"&&Array.isArray(h)&&n(h[0]),E=p.items,P=[],O=Array.isArray(E),I=O&&A&&n(E[0]),D=A&&O&&!I,V=O&&!D?E.length:h.length;if(x=Array.isArray(x)?x:[],A)for(g=0;g<V;g++)for(P[g]=[],m=n(h[g])?h[g]:[],d=D?E.length:O?E[g].length:m.length,y=0;y<d;y++)w=D?E[y]:O?E[g][y]:E,(S=v(m[y],w,(x[g]||[])[y]))!==void 0&&(P[g][y]=S);else for(g=0;g<V;g++)(S=v(h[g],O?E[g]:E,x[g]))!==void 0&&(P[g]=S);c.set(P)}else c.set(x)},validateFunction:function(h,c){if(!n(h))return!1;var x=c.items,p=Array.isArray(x),v=c.dimensions===2;if(!c.freeLength&&h.length!==x.length)return!1;for(var g=0;g<h.length;g++)if(v){if(!n(h[g])||!c.freeLength&&h[g].length!==x[g].length)return!1;for(var y=0;y<h[g].length;y++)if(!u(h[g][y],p?x[g][y]:x))return!1}else if(!u(h[g],p?x[g]:x))return!1;return!0}}},C.coerce=function(h,c,x,p,v){var g=t(x,p).get(),y=t(h,p),m=t(c,p),w=y.get(),d=c._template;if(w===void 0&&d&&(w=t(d,p).get(),d=0),v===void 0&&(v=g.dflt),g.arrayOk){if(n(w))return m.set(w),w;if(a(w))return w=l(w),m.set(w),w}var S=C.valObjectMeta[g.valType].coerceFunction;S(w,m,v,g);var A=m.get();return d&&A===v&&!u(w,g)&&(S(w=t(d,p).get(),m,v,g),A=m.get()),A},C.coerce2=function(h,c,x,p,v){var g=t(h,p),y=C.coerce(h,c,x,p,v);return g.get()!=null&&y},C.coerceFont=function(h,c,x,p){p||(p={}),x=o({},x);var v={family:h(c+".family",(x=o(x,p.overrideDflt||{})).family),size:h(c+".size",x.size),color:h(c+".color",x.color),weight:h(c+".weight",x.weight),style:h(c+".style",x.style)};if(p.noFontVariant||(v.variant=h(c+".variant",x.variant)),p.noFontLineposition||(v.lineposition=h(c+".lineposition",x.lineposition)),p.noFontTextcase||(v.textcase=h(c+".textcase",x.textcase)),!p.noFontShadow){var g=x.shadow;g==="none"&&p.autoShadowDflt&&(g="auto"),v.shadow=h(c+".shadow",g)}return v},C.coercePattern=function(h,c,x,p){if(h(c+".shape")){h(c+".solidity"),h(c+".size");var v=h(c+".fillmode")==="overlay";if(!p){var g=h(c+".bgcolor",v?x:void 0);h(c+".fgcolor",v?f.contrast(g):x)}h(c+".fgopacity",v?.5:1)}},C.coerceHoverinfo=function(h,c,x){var p,v=c._module.attributes,g=v.hoverinfo?v:_,y=g.hoverinfo;if(x._dataLength===1){var m=y.dflt==="all"?y.flags.slice():y.dflt.split("+");m.splice(m.indexOf("name"),1),p=m.join("+")}return C.coerce(h,c,g,"hoverinfo",p)},C.coerceSelectionMarkerOpacity=function(h,c){if(h.marker){var x,p,v=h.marker.opacity;v!==void 0&&(n(v)||h.selected||h.unselected||(x=v,p=s*v),c("selected.marker.opacity",x),c("unselected.marker.opacity",p))}},C.validate=u},67555:function(U,C,e){var T,k,o=e(94336).Yn,_=e(38248),b=e(24248),f=e(20435).mod,s=e(39032),t=s.BADNUM,i=s.ONEDAY,r=s.ONEHOUR,n=s.ONEMIN,a=s.ONESEC,l=s.EPOCHJD,u=e(24040),h=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,p=new Date().getFullYear()-70;function v(D){return D&&u.componentsRegistry.calendars&&typeof D=="string"&&D!=="gregorian"}function g(D,V){return String(D+Math.pow(10,V)).substr(1)}C.dateTick0=function(D,V){var z=function(X,F){return v(X)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[X]:u.getComponentMethod("calendars","CANONICAL_TICK")[X]:F?"2000-01-02":"2000-01-01"}(D,!!V);if(V<2)return z;var j=C.dateTime2ms(z,D);return j+=i*(V-1),C.ms2DateTime(j,0,D)},C.dfltRange=function(D){return v(D)?u.getComponentMethod("calendars","DFLTRANGE")[D]:["2000-01-01","2001-01-01"]},C.isJSDate=function(D){return typeof D=="object"&&D!==null&&typeof D.getTime=="function"},C.dateTime2ms=function(D,V){if(C.isJSDate(D)){var z=D.getTimezoneOffset()*n,j=(D.getUTCMinutes()-D.getMinutes())*n+(D.getUTCSeconds()-D.getSeconds())*a+(D.getUTCMilliseconds()-D.getMilliseconds());if(j){var X=3*n;z=z-X/2+f(j-z+X/2,X)}return(D=Number(D)-z)>=T&&D<=k?D:t}if(typeof D!="string"&&typeof D!="number")return t;D=String(D);var F=v(V),H=D.charAt(0);!F||H!=="G"&&H!=="g"||(D=D.substr(1),V="");var W=F&&V.substr(0,7)==="chinese",ie=D.match(W?x:c);if(!ie)return t;var te=ie[1],Q=ie[3]||"1",ne=Number(ie[5]||1),$=Number(ie[7]||0),J=Number(ie[9]||0),re=Number(ie[11]||0);if(F){if(te.length===2)return t;var se;te=Number(te);try{var ue=u.getComponentMethod("calendars","getCal")(V);if(W){var he=Q.charAt(Q.length-1)==="i";Q=parseInt(Q,10),se=ue.newDate(te,ue.toMonthIndex(te,Q,he),ne)}else se=ue.newDate(te,Number(Q),ne)}catch{return t}return se?(se.toJD()-l)*i+$*r+J*n+re*a:t}te=te.length===2?(Number(te)+2e3-p)%100+p:Number(te),Q-=1;var pe=new Date(Date.UTC(2e3,Q,ne,$,J));return pe.setUTCFullYear(te),pe.getUTCMonth()!==Q||pe.getUTCDate()!==ne?t:pe.getTime()+re*a},T=C.MIN_MS=C.dateTime2ms("-9999"),k=C.MAX_MS=C.dateTime2ms("9999-12-31 23:59:59.9999"),C.isDateTime=function(D,V){return C.dateTime2ms(D,V)!==t};var y=90*i,m=3*r,w=5*n;function d(D,V,z,j,X){if((V||z||j||X)&&(D+=" "+g(V,2)+":"+g(z,2),(j||X)&&(D+=":"+g(j,2),X))){for(var F=4;X%10==0;)F-=1,X/=10;D+="."+g(X,F)}return D}C.ms2DateTime=function(D,V,z){if(typeof D!="number"||!(D>=T&&D<=k))return t;V||(V=0);var j,X,F,H,W,ie,te=Math.floor(10*f(D+.05,1)),Q=Math.round(D-te/10);if(v(z)){var ne=Math.floor(Q/i)+l,$=Math.floor(f(D,i));try{j=u.getComponentMethod("calendars","getCal")(z).fromJD(ne).formatDate("yyyy-mm-dd")}catch{j=h("G%Y-%m-%d")(new Date(Q))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;X=V<y?Math.floor($/r):0,F=V<y?Math.floor($%r/n):0,H=V<m?Math.floor($%n/a):0,W=V<w?$%a*10+te:0}else ie=new Date(Q),j=h("%Y-%m-%d")(ie),X=V<y?ie.getUTCHours():0,F=V<y?ie.getUTCMinutes():0,H=V<m?ie.getUTCSeconds():0,W=V<w?10*ie.getUTCMilliseconds()+te:0;return d(j,X,F,H,W)},C.ms2DateTimeLocal=function(D){if(!(D>=T+i&&D<=k-i))return t;var V=Math.floor(10*f(D+.05,1)),z=new Date(Math.round(D-V/10));return d(o("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+V)},C.cleanDate=function(D,V,z){if(D===t)return V;if(C.isJSDate(D)||typeof D=="number"&&isFinite(D)){if(v(z))return b.error("JS Dates and milliseconds are incompatible with world calendars",D),V;if(!(D=C.ms2DateTimeLocal(+D))&&V!==void 0)return V}else if(!C.isDateTime(D,z))return b.error("unrecognized date",D),V;return D};var S=/%\d?f/g,A=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function P(D,V,z,j){D=D.replace(S,function(F){var H=Math.min(+F.charAt(1)||6,6);return(V/1e3%1+2).toFixed(H).substr(2).replace(/0+$/,"")||"0"});var X=new Date(Math.floor(V+.05));if(D=D.replace(A,function(){return E[z("%q")(X)]}),v(j))try{D=u.getComponentMethod("calendars","worldCalFmt")(D,V,j)}catch{return"Invalid"}return z(D)(X)}var O=[59,59.9,59.99,59.999,59.9999];C.formatDate=function(D,V,z,j,X,F){if(X=v(X)&&X,!V)if(z==="y")V=F.year;else if(z==="m")V=F.month;else{if(z!=="d")return function(H,W){var ie=f(H+.05,i),te=g(Math.floor(ie/r),2)+":"+g(f(Math.floor(ie/n),60),2);if(W!=="M"){_(W)||(W=0);var Q=(100+Math.min(f(H/a,60),O[W])).toFixed(W).substr(1);W>0&&(Q=Q.replace(/0+$/,"").replace(/[\.]$/,"")),te+=":"+Q}return te}(D,z)+`
`+P(F.dayMonthYear,D,j,X);V=F.dayMonth+`
`+F.year}return P(V,D,j,X)};var I=3*i;C.incrementMonth=function(D,V,z){z=v(z)&&z;var j=f(D,i);if(D=Math.round(D-j),z)try{var X=Math.round(D/i)+l,F=u.getComponentMethod("calendars","getCal")(z),H=F.fromJD(X);return V%12?F.add(H,V,"m"):F.add(H,V/12,"y"),(H.toJD()-l)*i+j}catch{b.error("invalid ms "+D+" in calendar "+z)}var W=new Date(D+I);return W.setUTCMonth(W.getUTCMonth()+V)+j-I},C.findExactDates=function(D,V){for(var z,j,X=0,F=0,H=0,W=0,ie=v(V)&&u.getComponentMethod("calendars","getCal")(V),te=0;te<D.length;te++)if(j=D[te],_(j)){if(!(j%i))if(ie)try{(z=ie.fromJD(j/i+l)).day()===1?z.month()===1?X++:F++:H++}catch{}else(z=new Date(j)).getUTCDate()===1?z.getUTCMonth()===0?X++:F++:H++}else W++;H+=F+=X;var Q=D.length-W;return{exactYears:X/Q,exactMonths:F/Q,exactDays:H/Q}}},52200:function(U,C,e){var T=e(33428),k=e(24248),o=e(52248),_=e(36524);function b(r){var n=r&&r.parentNode;n&&n.removeChild(r)}function f(r,n,a){var l="plotly.js-style-"+r,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var h=u.sheet;h.insertRule?h.insertRule(n+"{"+a+"}",0):h.addRule?h.addRule(n,a,0):k.warn("addStyleRule failed")}function s(r){var n=window.getComputedStyle(r,null),a=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return a==="none"?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function t(r){for(var n=[];i(r);)n.push(r),r=r.parentNode,typeof ShadowRoot=="function"&&r instanceof ShadowRoot&&(r=r.host);return n}function i(r){return r&&(r instanceof Element||r instanceof HTMLElement)}U.exports={getGraphDiv:function(r){var n;if(typeof r=="string"){if((n=document.getElementById(r))===null)throw new Error("No DOM element with id '"+r+"' exists on the page.");return n}if(r==null)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var n=T.select(r);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(r,n){f("global",r,n)},addRelatedStyleRule:f,deleteRelatedStyleRule:function(r){var n="plotly.js-style-"+r,a=document.getElementById(n);a&&b(a)},getFullTransformMatrix:function(r){var n=t(r),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(l){var u=s(l);if(u){var h=o.convertCssMatrix(u);a=_.multiply(a,a,h)}}),a},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(r,n){return r&&n&&r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom}}},95924:function(U,C,e){var T=e(61252).EventEmitter,k={init:function(o){if(o._ev instanceof T)return o;var _=new T,b=new T;return o._ev=_,o._internalEv=b,o.on=_.on.bind(_),o.once=_.once.bind(_),o.removeListener=_.removeListener.bind(_),o.removeAllListeners=_.removeAllListeners.bind(_),o._internalOn=b.on.bind(b),o._internalOnce=b.once.bind(b),o._removeInternalListener=b.removeListener.bind(b),o._removeAllInternalListeners=b.removeAllListeners.bind(b),o.emit=function(f,s){typeof jQuery<"u"&&jQuery(o).trigger(f,s),_.emit(f,s),b.emit(f,s)},o},triggerHandler:function(o,_,b){var f,s;typeof jQuery<"u"&&(f=jQuery(o).triggerHandler(_,b));var t=o._ev;if(!t)return f;var i,r=t._events[_];if(!r)return f;function n(a){return a.listener?(t.removeListener(_,a.listener),a.fired?void 0:(a.fired=!0,a.listener.apply(t,[b]))):a.apply(t,[b])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)n(r[i]);return s=n(r[i]),f!==void 0?f:s},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};U.exports=k},92880:function(U,C,e){var T=e(63620),k=Array.isArray;function o(_,b,f,s){var t,i,r,n,a,l,u,h=_[0],c=_.length;if(c===2&&k(h)&&k(_[1])&&h.length===0){if(u=function(p,v){var g,y;for(g=0;g<p.length;g++){if((y=p[g])!==null&&typeof y=="object")return!1;y!==void 0&&(v[g]=y)}return!0}(_[1],h),u)return h;h.splice(0,h.length)}for(var x=1;x<c;x++)for(i in t=_[x])r=h[i],n=t[i],s&&k(n)?h[i]=n:b&&n&&(T(n)||(a=k(n)))?(a?(a=!1,l=r&&k(r)?r:[]):l=r&&T(r)?r:{},h[i]=o([l,n],b,f,s)):(n!==void 0||f)&&(h[i]=n);return h}C.extendFlat=function(){return o(arguments,!1,!1,!1)},C.extendDeep=function(){return o(arguments,!0,!1,!1)},C.extendDeepAll=function(){return o(arguments,!0,!0,!1)},C.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},68944:function(U){U.exports=function(C){for(var e={},T=[],k=0,o=0;o<C.length;o++){var _=C[o];e[_]!==1&&(e[_]=1,T[k++]=_)}return T}},43880:function(U){function C(T){return T.visible===!0}function e(T){var k=T[0].trace;return k.visible===!0&&k._length!==0}U.exports=function(T){for(var k,o=(k=T,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:C),_=[],b=0;b<T.length;b++){var f=T[b];o(f)&&_.push(f)}return _}},27144:function(U,C,e){var T=e(33428),k=e(36116),o=e(40440),_=e(77844),b=e(42428),f=e(35536),s=e(24248),t=e(63620),i=e(22296),r=e(92065),n=Object.keys(k),a={"ISO-3":f,"USA-states":f,"country names":function(u){for(var h=0;h<n.length;h++){var c=n[h];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var h=u.geojson,c=window.PlotlyGeoAssets||{},x=typeof h=="string"?c[h]:h;return t(x)?x:(s.error("Oops ... something went wrong when fetching "+h),!1)}U.exports={locationToFeature:function(u,h,c){if(!h||typeof h!="string")return!1;var x,p,v,g=a[u](h);if(g){if(u==="USA-states")for(x=[],v=0;v<c.length;v++)(p=c[v]).properties&&p.properties.gu&&p.properties.gu==="USA"&&x.push(p);else x=c;for(v=0;v<x.length;v++)if((p=x[v]).id===g)return p;s.log(["Location with id",g,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var h,c,x,p,v=u.geometry,g=v.coordinates,y=u.id,m=[];function w(d){for(var S=0;S<d.length-1;S++)if(d[S][0]>0&&d[S+1][0]<0)return S;return null}switch(h=y==="RUS"||y==="FJI"?function(d){var S;if(w(d)===null)S=d;else for(S=new Array(d.length),p=0;p<d.length;p++)S[p]=[d[p][0]<0?d[p][0]+360:d[p][0],d[p][1]];m.push(r.tester(S))}:y==="ATA"?function(d){var S=w(d);if(S===null)return m.push(r.tester(d));var A=new Array(d.length+1),E=0;for(p=0;p<d.length;p++)p>S?A[E++]=[d[p][0]+360,d[p][1]]:p===S?(A[E++]=d[p],A[E++]=[d[p][0],-90]):A[E++]=d[p];var P=r.tester(A);P.pts.pop(),m.push(P)}:function(d){m.push(r.tester(d))},v.type){case"MultiPolygon":for(c=0;c<g.length;c++)for(x=0;x<g[c].length;x++)h(g[c][x]);break;case"Polygon":for(c=0;c<g.length;c++)h(g[c])}return m},getTraceGeojson:l,extractTraceFeature:function(u){var h=u[0].trace,c=l(h);if(!c)return!1;var x,p={},v=[];for(x=0;x<h._length;x++){var g=u[x];(g.loc||g.loc===0)&&(p[g.loc]=g)}function y(d){var S=i(d,h.featureidkey||"id").get(),A=p[S];if(A){var E=d.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var P={type:"Feature",id:S,geometry:E,properties:{}};P.properties.ct=function(O){var I,D=O.geometry;if(D.type==="MultiPolygon")for(var V=D.coordinates,z=0,j=0;j<V.length;j++){var X={type:"Polygon",coordinates:V[j]},F=o.default(X);F>z&&(z=F,I=X)}else I=D;return _.default(I).geometry.coordinates}(P),A.fIn=d,A.fOut=P,v.push(P)}else s.log(["Location",A.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete p[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(x=0;x<m.length;x++)y(m[x]);break;case"Feature":y(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var w in p)s.log(["Location *"+w+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return v},fetchTraceGeoData:function(u){var h=window.PlotlyGeoAssets||{},c=[];function x(y){return new Promise(function(m,w){T.json(y,function(d,S){if(d){delete h[y];var A=d.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return w(new Error(A))}return h[y]=S,m(S)})})}function p(y){return new Promise(function(m,w){var d=0,S=setInterval(function(){return h[y]&&h[y]!=="pending"?(clearInterval(S),m(h[y])):d>100?(clearInterval(S),w("Unexpected error while fetching from "+y)):void d++},50)})}for(var v=0;v<u.length;v++){var g=u[v][0].trace.geojson;typeof g=="string"&&(h[g]?h[g]==="pending"&&c.push(p(g)):(h[g]="pending",c.push(x(g))))}return c},computeBbox:function(u){return b.default(u)}}},44808:function(U,C,e){var T=e(39032).BADNUM;C.calcTraceToLineCoords=function(k){for(var o=k[0].trace.connectgaps,_=[],b=[],f=0;f<k.length;f++){var s=k[f].lonlat;s[0]!==T?b.push(s):!o&&b.length>0&&(_.push(b),b=[])}return b.length>0&&_.push(b),_},C.makeLine=function(k){return k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},C.makePolygon=function(k){if(k.length===1)return{type:"Polygon",coordinates:k};for(var o=new Array(k.length),_=0;_<k.length;_++)o[_]=[k[_]];return{type:"MultiPolygon",coordinates:o}},C.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(U,C,e){var T,k,o,_=e(20435).mod;function b(s,t,i,r,n,a,l,u){var h=i-s,c=n-s,x=l-n,p=r-t,v=a-t,g=u-a,y=h*g-x*p;if(y===0)return null;var m=(c*g-x*v)/y,w=(c*p-h*v)/y;return w<0||w>1||m<0||m>1?null:{x:s+h*m,y:t+p*m}}function f(s,t,i,r,n){var a=r*s+n*t;if(a<0)return r*r+n*n;if(a>i){var l=r-s,u=n-t;return l*l+u*u}var h=r*t-n*s;return h*h/i}C.segmentsIntersect=b,C.segmentDistance=function(s,t,i,r,n,a,l,u){if(b(s,t,i,r,n,a,l,u))return 0;var h=i-s,c=r-t,x=l-n,p=u-a,v=h*h+c*c,g=x*x+p*p,y=Math.min(f(h,c,v,n-s,a-t),f(h,c,v,l-s,u-t),f(x,p,g,s-n,t-a),f(x,p,g,i-n,r-a));return Math.sqrt(y)},C.getTextLocation=function(s,t,i,r){if(s===k&&r===o||(T={},k=s,o=r),T[i])return T[i];var n=s.getPointAtLength(_(i-r/2,t)),a=s.getPointAtLength(_(i+r/2,t)),l=Math.atan((a.y-n.y)/(a.x-n.x)),u=s.getPointAtLength(_(i,t)),h={x:(4*u.x+n.x+a.x)/6,y:(4*u.y+n.y+a.y)/6,theta:l};return T[i]=h,h},C.clearLocationCache=function(){k=null},C.getVisibleSegment=function(s,t,i){var r,n,a=t.left,l=t.right,u=t.top,h=t.bottom,c=0,x=s.getTotalLength(),p=x;function v(y){var m=s.getPointAtLength(y);y===0?r=m:y===x&&(n=m);var w=m.x<a?a-m.x:m.x>l?m.x-l:0,d=m.y<u?u-m.y:m.y>h?m.y-h:0;return Math.sqrt(w*w+d*d)}for(var g=v(c);g;){if((c+=g+i)>p)return;g=v(c)}for(g=v(p);g;){if(c>(p-=g+i))return;g=v(p)}return{min:c,max:p,len:p-c,total:x,isClosed:c===0&&p===x&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},C.findPointOnPath=function(s,t,i,r){for(var n,a,l,u=(r=r||{}).pathLength||s.getTotalLength(),h=r.tolerance||.001,c=r.iterationLimit||30,x=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,p=0,v=0,g=u;p<c;){if(n=(v+g)/2,l=(a=s.getPointAtLength(n))[i]-t,Math.abs(l)<h)return a;x*l>0?g=n:v=n,p++}return a}},33040:function(U,C,e){var T=e(38248),k=e(49760),o=e(72160),_=e(8932),b=e(22548).defaultLine,f=e(38116).isArrayOrTypedArray,s=o(b);function t(n,a){var l=n;return l[3]*=a,l}function i(n){if(T(n))return s;var a=o(n);return a.length?a:s}function r(n){return T(n)?n:1}U.exports={formatColor:function(n,a,l){var u=n.color;u&&u._inputArray&&(u=u._inputArray);var h,c,x,p,v,g=f(u),y=f(a),m=_.extractOpts(n),w=[];if(h=m.colorscale!==void 0?_.makeColorScaleFuncFromTrace(n):i,c=g?function(S,A){return S[A]===void 0?s:o(h(S[A]))}:i,x=y?function(S,A){return S[A]===void 0?1:r(S[A])}:r,g||y)for(var d=0;d<l;d++)p=c(u,d),v=x(a,d),w[d]=t(p,v);else w=t(o(u),a);return w},parseColorScale:function(n){var a=_.extractOpts(n),l=a.colorscale;return a.reversescale&&(l=_.flipScale(a.colorscale)),l.map(function(u){var h=u[0],c=k(u[1]).toRgb();return{index:h,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(U,C,e){var T=e(35536);function k(o){return[o]}U.exports={keyFun:function(o){return o.key},repeat:k,descend:T,wrap:k,unwrap:function(o){return o[0]}}},35536:function(U){U.exports=function(C){return C}},1396:function(U){U.exports=function(C,e){if(!e)return C;var T=1/Math.abs(e),k=T>1?(T*C+T*e)/T:C+e,o=String(k).length;if(o>16){var _=String(e).length;if(o>=String(C).length+_){var b=parseFloat(k).toPrecision(12);b.indexOf("e+")===-1&&(k=+b)}}return k}},3400:function(U,C,e){var T=e(33428),k=e(94336).E9,o=e(57624).E9,_=e(38248),b=e(39032),f=b.FP_SAFE,s=-f,t=b.BADNUM,i=U.exports={};i.adjustFormat=function($){return!$||/^\d[.]\df/.test($)||/[.]\d%/.test($)?$:$==="0.f"?"~f":/^\d%/.test($)?"~%":/^\ds/.test($)?"~s":!/^[~,.0$]/.test($)&&/[&fps]/.test($)?"~"+$:$};var r={};i.warnBadFormat=function($){var J=String($);r[J]||(r[J]=1,i.warn('encountered bad format: "'+J+'"'))},i.noFormat=function($){return String($)},i.numberFormat=function($){var J;try{J=o(i.adjustFormat($))}catch{return i.warnBadFormat($),i.noFormat}return J},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var n=e(38116);i.isArrayBuffer=n.isArrayBuffer,i.isTypedArray=n.isTypedArray,i.isArrayOrTypedArray=n.isArrayOrTypedArray,i.isArray1D=n.isArray1D,i.ensureArray=n.ensureArray,i.concat=n.concat,i.maxRowLength=n.maxRowLength,i.minRowLength=n.minRowLength;var a=e(20435);i.mod=a.mod,i.modHalf=a.modHalf;var l=e(63064);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(67555);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var h=e(14952);i.findBin=h.findBin,i.sorterAsc=h.sorterAsc,i.sorterDes=h.sorterDes,i.distinctVals=h.distinctVals,i.roundUp=h.roundUp,i.sort=h.sort,i.findIndexOfMin=h.findIndexOfMin,i.sortObjectKeys=e(95376);var c=e(63084);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.geometricMean=c.geometricMean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var x=e(52248);i.init2dArray=x.init2dArray,i.transposeRagged=x.transposeRagged,i.dot=x.dot,i.translationMatrix=x.translationMatrix,i.rotationMatrix=x.rotationMatrix,i.rotationXYMatrix=x.rotationXYMatrix,i.apply3DTransform=x.apply3DTransform,i.apply2DTransform=x.apply2DTransform,i.apply2DTransform2=x.apply2DTransform2,i.convertCssMatrix=x.convertCssMatrix,i.inverseTransformMatrix=x.inverseTransformMatrix;var p=e(11864);i.deg2rad=p.deg2rad,i.rad2deg=p.rad2deg,i.angleDelta=p.angleDelta,i.angleDist=p.angleDist,i.isFullCircle=p.isFullCircle,i.isAngleInsideSector=p.isAngleInsideSector,i.isPtInsideSector=p.isPtInsideSector,i.pathArc=p.pathArc,i.pathSector=p.pathSector,i.pathAnnulus=p.pathAnnulus;var v=e(98308);i.isLeftAnchor=v.isLeftAnchor,i.isCenterAnchor=v.isCenterAnchor,i.isRightAnchor=v.isRightAnchor,i.isTopAnchor=v.isTopAnchor,i.isMiddleAnchor=v.isMiddleAnchor,i.isBottomAnchor=v.isBottomAnchor;var g=e(92348);i.segmentsIntersect=g.segmentsIntersect,i.segmentDistance=g.segmentDistance,i.getTextLocation=g.getTextLocation,i.clearLocationCache=g.clearLocationCache,i.getVisibleSegment=g.getVisibleSegment,i.findPointOnPath=g.findPointOnPath;var y=e(92880);i.extendFlat=y.extendFlat,i.extendDeep=y.extendDeep,i.extendDeepAll=y.extendDeepAll,i.extendDeepNoArrays=y.extendDeepNoArrays;var m=e(24248);i.log=m.log,i.warn=m.warn,i.error=m.error;var w=e(53756);i.counterRegex=w.counter;var d=e(91200);i.throttle=d.throttle,i.throttleDone=d.done,i.clearThrottle=d.clear;var S=e(52200);function A($){var J={};for(var re in $)for(var se=$[re],ue=0;ue<se.length;ue++)J[se[ue]]=+re;return J}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function($){return _($)?($=Number($))>f||$<s?t:$:t},i.isIndex=function($,J){return!(J!==void 0&&$>=J)&&_($)&&$>=0&&$%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function($,J){for(var re=new Array(J),se=0;se<J;se++)re[se]=$;return re},i.swapAttrs=function($,J,re,se){re||(re="x"),se||(se="y");for(var ue=0;ue<J.length;ue++){var he=J[ue],pe=i.nestedProperty($,he.replace("?",re)),ge=i.nestedProperty($,he.replace("?",se)),ye=pe.get();pe.set(ge.get()),ge.set(ye)}},i.raiseToTop=function($){$.parentNode.appendChild($)},i.cancelTransition=function($){return $.transition().duration(0)},i.constrain=function($,J,re){return J>re?Math.max(re,Math.min(J,$)):Math.max(J,Math.min(re,$))},i.bBoxIntersect=function($,J,re){return re=re||0,$.left<=J.right+re&&J.left<=$.right+re&&$.top<=J.bottom+re&&J.top<=$.bottom+re},i.simpleMap=function($,J,re,se,ue){for(var he=$.length,pe=new Array(he),ge=0;ge<he;ge++)pe[ge]=J($[ge],re,se,ue);return pe},i.randstr=function $(J,re,se,ue){if(se||(se=16),re===void 0&&(re=24),re<=0)return"0";var he,pe,ge=Math.log(Math.pow(2,re))/Math.log(se),ye="";for(he=2;ge===1/0;he*=2)ge=Math.log(Math.pow(2,re/he))/Math.log(se)*he;var be=ge-Math.floor(ge);for(he=0;he<Math.floor(ge);he++)ye=Math.floor(Math.random()*se).toString(se)+ye;be&&(pe=Math.pow(se,be),ye=Math.floor(Math.random()*pe).toString(se)+ye);var Te=parseInt(ye,se);return J&&J[ye]||Te!==1/0&&Te>=Math.pow(2,re)?ue>10?(i.warn("randstr failed uniqueness"),ye):$(J,re,se,(ue||0)+1):ye},i.OptionControl=function($,J){$||($={}),J||(J="opt");var re={optionList:[],_newoption:function(se){se[J]=$,re[se.name]=se,re.optionList.push(se)}};return re["_"+J]=$,re},i.smooth=function($,J){if((J=Math.round(J)||0)<2)return $;var re,se,ue,he,pe=$.length,ge=2*pe,ye=2*J-1,be=new Array(ye),Te=new Array(pe);for(re=0;re<ye;re++)be[re]=(1-Math.cos(Math.PI*(re+1)/J))/(2*J);for(re=0;re<pe;re++){for(he=0,se=0;se<ye;se++)(ue=re+se+1-J)<-pe?ue-=ge*Math.round(ue/ge):ue>=ge&&(ue-=ge*Math.floor(ue/ge)),ue<0?ue=-1-ue:ue>=pe&&(ue=ge-1-ue),he+=$[ue]*be[se];Te[re]=he}return Te},i.syncOrAsync=function($,J,re){var se;function ue(){return i.syncOrAsync($,J,re)}for(;$.length;)if((se=(0,$.splice(0,1)[0])(J))&&se.then)return se.then(ue);return re&&re(J)},i.stripTrailingSlash=function($){return $.substr(-1)==="/"?$.substr(0,$.length-1):$},i.noneOrAll=function($,J,re){if($){var se,ue=!1,he=!0;for(se=0;se<re.length;se++)$[re[se]]!=null?ue=!0:he=!1;if(ue&&!he)for(se=0;se<re.length;se++)$[re[se]]=J[re[se]]}},i.mergeArray=function($,J,re,se){var ue=typeof se=="function";if(i.isArrayOrTypedArray($))for(var he=Math.min($.length,J.length),pe=0;pe<he;pe++){var ge=$[pe];J[pe][re]=ue?se(ge):ge}},i.mergeArrayCastPositive=function($,J,re){return i.mergeArray($,J,re,function(se){var ue=+se;return isFinite(ue)&&ue>0?ue:0})},i.fillArray=function($,J,re,se){if(se=se||i.identity,i.isArrayOrTypedArray($))for(var ue=0;ue<J.length;ue++)J[ue][re]=se($[ue])},i.castOption=function($,J,re,se){se=se||i.identity;var ue=i.nestedProperty($,re).get();return i.isArrayOrTypedArray(ue)?Array.isArray(J)&&i.isArrayOrTypedArray(ue[J[0]])?se(ue[J[0]][J[1]]):se(ue[J]):ue},i.extractOption=function($,J,re,se){if(re in $)return $[re];var ue=i.nestedProperty(J,se).get();return Array.isArray(ue)?void 0:ue},i.tagSelected=function($,J,re){var se,ue,he=J.selectedpoints,pe=J._indexToPoints;pe&&(se=A(pe));for(var ge=0;ge<he.length;ge++){var ye=he[ge];if(i.isIndex(ye)||i.isArrayOrTypedArray(ye)&&i.isIndex(ye[0])&&i.isIndex(ye[1])){var be=se?se[ye]:ye,Te=re?re[be]:be;(ue=Te)!==void 0&&ue<$.length&&($[Te].selected=1)}}},i.selIndices2selPoints=function($){var J=$.selectedpoints,re=$._indexToPoints;if(re){for(var se=A(re),ue=[],he=0;he<J.length;he++){var pe=J[he];if(i.isIndex(pe)){var ge=se[pe];i.isIndex(ge)&&ue.push(ge)}}return ue}return J},i.getTargetArray=function($,J){var re=J.target;if(typeof re=="string"&&re){var se=i.nestedProperty($,re).get();return!!i.isArrayOrTypedArray(se)&&se}return!!i.isArrayOrTypedArray(re)&&re},i.minExtend=function $(J,re,se){var ue={};typeof re!="object"&&(re={});var he,pe,ge,ye=se==="pieLike"?-1:3,be=Object.keys(J);for(he=0;he<be.length;he++)ge=J[pe=be[he]],pe.charAt(0)!=="_"&&typeof ge!="function"&&(pe==="module"?ue[pe]=ge:Array.isArray(ge)?ue[pe]=pe==="colorscale"||ye===-1?ge.slice():ge.slice(0,ye):i.isTypedArray(ge)?ue[pe]=ye===-1?ge.subarray():ge.subarray(0,ye):ue[pe]=ge&&typeof ge=="object"?$(J[pe],re[pe],se):ge);for(be=Object.keys(re),he=0;he<be.length;he++)typeof(ge=re[pe=be[he]])=="object"&&pe in ue&&typeof ue[pe]=="object"||(ue[pe]=ge);return ue},i.titleCase=function($){return $.charAt(0).toUpperCase()+$.substr(1)},i.containsAny=function($,J){for(var re=0;re<J.length;re++)if($.indexOf(J[re])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var P=/iPad|iPhone|iPod/;i.isIOS=function(){return P.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var $=O.exec(window.navigator.userAgent);if($&&$.length===2){var J=parseInt($[1]);if(!isNaN(J))return J}return null},i.isD3Selection=function($){return $ instanceof T.selection},i.ensureSingle=function($,J,re,se){var ue=$.select(J+(re?"."+re:""));if(ue.size())return ue;var he=$.append(J);return re&&he.classed(re,!0),se&&he.call(se),he},i.ensureSingleById=function($,J,re,se){var ue=$.select(J+"#"+re);if(ue.size())return ue;var he=$.append(J).attr("id",re);return se&&he.call(se),he},i.objectFromPath=function($,J){for(var re,se=$.split("."),ue=re={},he=0;he<se.length;he++){var pe=se[he],ge=null,ye=se[he].match(/(.*)\[([0-9]+)\]/);ye?(pe=ye[1],ge=ye[2],re=re[pe]=[],he===se.length-1?re[ge]=J:re[ge]={},re=re[ge]):(he===se.length-1?re[pe]=J:re[pe]={},re=re[pe])}return ue};var I=/^([^\[\.]+)\.(.+)?/,D=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function V($){return $.slice(0,2)==="__"}i.expandObjectPaths=function($){var J,re,se,ue,he,pe,ge;if(typeof $=="object"&&!Array.isArray($)){for(re in $)if($.hasOwnProperty(re))if(J=re.match(I)){if(ue=$[re],V(se=J[1]))continue;delete $[re],$[se]=i.extendDeepNoArrays($[se]||{},i.objectFromPath(re,i.expandObjectPaths(ue))[se])}else if(J=re.match(D)){if(ue=$[re],V(se=J[1]))continue;if(he=parseInt(J[2]),delete $[re],$[se]=$[se]||[],J[3]===".")ge=J[4],pe=$[se][he]=$[se][he]||{},i.extendDeepNoArrays(pe,i.objectFromPath(ge,i.expandObjectPaths(ue)));else{if(V(se))continue;$[se][he]=i.expandObjectPaths(ue)}}else{if(V(re))continue;$[re]=i.expandObjectPaths($[re])}}return $},i.numSeparate=function($,J,re){if(re||(re=!1),typeof J!="string"||J.length===0)throw new Error("Separator string required for formatting!");typeof $=="number"&&($=String($));var se=/(\d+)(\d{3})/,ue=J.charAt(0),he=J.charAt(1),pe=$.split("."),ge=pe[0],ye=pe.length>1?ue+pe[1]:"";if(he&&(pe.length>1||ge.length>4||re))for(;se.test(ge);)ge=ge.replace(se,"$1"+he+"$2");return ge+ye},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;i.templateString=function($,J){var re={};return $.replace(i.TEMPLATE_STRING_REGEX,function(se,ue){var he;return z.test(ue)?he=J[ue]:(re[ue]=re[ue]||i.nestedProperty(J,ue).get,he=re[ue]()),i.isValidTextValue(he)?he:""})};var j={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return ie.apply(j,arguments)};var X={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return ie.apply(X,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,H={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return ie.apply(H,arguments)};var W=/^[:|\|]/;function ie($,J,re){var se=this,ue=arguments;J||(J={});var he={};return $.replace(i.TEMPLATE_STRING_REGEX,function(pe,ge,ye){var be=ge==="_xother"||ge==="_yother",Te=ge==="_xother_"||ge==="_yother_",Se=ge==="xother_"||ge==="yother_",Fe=ge==="xother"||ge==="yother"||be||Se||Te,xe=ge;(be||Te)&&(xe=xe.substring(1)),(Se||Te)&&(xe=xe.substring(0,xe.length-1));var le,oe,de,Ce=null,_e=null;if(se.parseMultDiv){var Ae=function(ve){var ke=ve.match(F);return ke?{key:ke[1],op:ke[2],number:Number(ke[3])}:{key:ve,op:null,number:null}}(xe);xe=Ae.key,Ce=Ae.op,_e=Ae.number}if(Fe){if((le=J[xe])===void 0)return""}else for(de=3;de<ue.length;de++)if(oe=ue[de]){if(oe.hasOwnProperty(xe)){le=oe[xe];break}if(z.test(xe)||(le=i.nestedProperty(oe,xe).get(),(le=he[xe]||i.nestedProperty(oe,xe).get())&&(he[xe]=le)),le!==void 0)break}if(le!==void 0&&(Ce==="*"&&(le*=_e),Ce==="/"&&(le/=_e)),le===void 0&&se)return se.count<se.max&&(i.warn("Variable '"+xe+"' in "+se.name+" could not be found!"),le=pe),se.count===se.max&&i.warn("Too many "+se.name+" warnings - additional warnings will be suppressed"),se.count++,pe;if(ye){var Le;if(ye[0]===":"&&(Le=re?re.numberFormat:i.numberFormat,le!==""&&(le=Le(ye.replace(W,""))(le))),ye[0]==="|"){Le=re?re.timeFormat:k;var ze=i.dateTime2ms(le);le=i.formatDate(ze,ye.replace(W,""),!1,Le)}}else{var Re=xe+"Label";J.hasOwnProperty(Re)&&(le=J[Re])}return Fe&&(le="("+le+")",(be||Te)&&(le=" "+le),(Se||Te)&&(le+=" ")),le})}i.subplotSort=function($,J){for(var re=Math.min($.length,J.length)+1,se=0,ue=0,he=0;he<re;he++){var pe=$.charCodeAt(he)||0,ge=J.charCodeAt(he)||0,ye=pe>=48&&pe<=57,be=ge>=48&&ge<=57;if(ye&&(se=10*se+pe-48),be&&(ue=10*ue+ge-48),!ye||!be){if(se!==ue)return se-ue;if(pe!==ge)return pe-ge}}return ue-se};var te=2e9;i.seedPseudoRandom=function(){te=2e9},i.pseudoRandom=function(){var $=te;return te=(69069*te+1)%4294967296,Math.abs(te-$)<429496729?i.pseudoRandom():te/4294967296},i.fillText=function($,J,re){var se=Array.isArray(re)?function(pe){re.push(pe)}:function(pe){re.text=pe},ue=i.extractOption($,J,"htx","hovertext");if(i.isValidTextValue(ue))return se(ue);var he=i.extractOption($,J,"tx","text");return i.isValidTextValue(he)?se(he):void 0},i.isValidTextValue=function($){return $||$===0},i.formatPercent=function($,J){J=J||0;for(var re=(Math.round(100*$*Math.pow(10,J))*Math.pow(.1,J)).toFixed(J)+"%",se=0;se<J;se++)re.indexOf(".")!==-1&&(re=(re=re.replace("0%","%")).replace(".%","%"));return re},i.isHidden=function($){var J=window.getComputedStyle($).display;return!J||J==="none"},i.strTranslate=function($,J){return $||J?"translate("+$+","+J+")":""},i.strRotate=function($){return $?"rotate("+$+")":""},i.strScale=function($){return $!==1?"scale("+$+")":""},i.getTextTransform=function($){var J=$.noCenter,re=$.textX,se=$.textY,ue=$.targetX,he=$.targetY,pe=$.anchorX||0,ge=$.anchorY||0,ye=$.rotate,be=$.scale;return be?be>1&&(be=1):be=0,i.strTranslate(ue-be*(re+pe),he-be*(se+ge))+i.strScale(be)+(ye?"rotate("+ye+(J?"":" "+re+" "+se)+")":"")},i.setTransormAndDisplay=function($,J){$.attr("transform",i.getTextTransform(J)),$.style("display",J.scale?null:"none")},i.ensureUniformFontSize=function($,J){var re=i.extendFlat({},J);return re.size=Math.max(J.size,$._fullLayout.uniformtext.minsize||0),re},i.join2=function($,J,re){var se=$.length;return se>1?$.slice(0,-1).join(J)+re+$[se-1]:$.join(J)},i.bigFont=function($){return Math.round(1.2*$)};var Q=i.getFirefoxVersion(),ne=Q!==null&&Q<86;i.getPositionFromD3Event=function(){return ne?[T.event.layerX,T.event.layerY]:[T.event.offsetX,T.event.offsetY]}},63620:function(U){U.exports=function(C){return window&&window.process&&window.process.versions?Object.prototype.toString.call(C)==="[object Object]":Object.prototype.toString.call(C)==="[object Object]"&&Object.getPrototypeOf(C).hasOwnProperty("hasOwnProperty")}},37804:function(U,C,e){var T=e(22296),k=/^\w*$/;U.exports=function(o,_,b,f){var s,t,i;b=b||"name",f=f||"value";var r={};_&&_.length?(i=T(o,_),t=i.get()):t=o,_=_||"";var n={};if(t)for(s=0;s<t.length;s++)n[t[s][b]]=s;var a=k.test(f),l={set:function(u,h){var c=h===null?4:0;if(!t){if(!i||c===4)return;t=[],i.set(t)}var x=n[u];if(x===void 0){if(c===4)return;c|=3,x=t.length,n[u]=x}else h!==(a?t[x][f]:T(t[x],f).get())&&(c|=2);var p=t[x]=t[x]||{};return p[b]=u,a?p[f]=h:T(p,f).set(h),h!==null&&(c&=-5),r[x]=r[x]|c,l},get:function(u){if(t){var h=n[u];return h===void 0?void 0:a?t[h][f]:T(t[h],f).get()}},rename:function(u,h){var c=n[u];return c===void 0||(r[c]=1|r[c],n[h]=c,delete n[u],t[c][b]=h),l},remove:function(u){var h=n[u];if(h===void 0)return l;var c=t[h];if(Object.keys(c).length>2)return r[h]=2|r[h],l.set(u,null);if(a){for(s=h;s<t.length;s++)r[s]=3|r[s];for(s=h;s<t.length;s++)n[t[s][b]]--;t.splice(h,1),delete n[u]}else T(c,f).set(null),r[h]=6|r[h];return l},constructUpdate:function(){for(var u,h,c={},x=Object.keys(r),p=0;p<x.length;p++)h=x[p],u=_+"["+h+"]",t[h]?(1&r[h]&&(c[u+"."+b]=t[h][b]),2&r[h]&&(c[u+"."+f]=a?4&r[h]?null:t[h][f]:4&r[h]?null:T(t[h],f).get())):c[u]=null;return c}};return l}},98356:function(U,C,e){var T=e(24040);U.exports=function(k,o){for(var _=k._context.locale,b=0;b<2;b++){for(var f=k._context.locales,s=0;s<2;s++){var t=(f[_]||{}).dictionary;if(t){var i=t[o];if(i)return i}f=T.localeRegistry}var r=_.split("-")[0];if(r===_)break;_=r}return o}},24248:function(U,C,e){var T=e(20556).dfltConfig,k=e(41792),o=U.exports={};o.log=function(){var _;if(T.logging>1){var b=["LOG:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.trace.apply(console,b)}if(T.notifyOnLogging>1){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);k(f.join("<br>"),"long")}},o.warn=function(){var _;if(T.logging>0){var b=["WARN:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.trace.apply(console,b)}if(T.notifyOnLogging>0){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);k(f.join("<br>"),"stick")}},o.error=function(){var _;if(T.logging>0){var b=["ERROR:"];for(_=0;_<arguments.length;_++)b.push(arguments[_]);console.error.apply(console,b)}if(T.notifyOnLogging>0){var f=[];for(_=0;_<arguments.length;_++)f.push(arguments[_]);k(f.join("<br>"),"stick")}}},30988:function(U,C,e){var T=e(33428);U.exports=function(k,o,_){var b=k.selectAll("g."+_.replace(/\s/g,".")).data(o,function(s){return s[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",_),b.order();var f=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(s){s[0][f]=T.select(this)}),b}},52248:function(U,C,e){var T=e(36524);C.init2dArray=function(k,o){for(var _=new Array(k),b=0;b<k;b++)_[b]=new Array(o);return _},C.transposeRagged=function(k){var o,_,b=0,f=k.length;for(o=0;o<f;o++)b=Math.max(b,k[o].length);var s=new Array(b);for(o=0;o<b;o++)for(s[o]=new Array(f),_=0;_<f;_++)s[o][_]=k[_][o];return s},C.dot=function(k,o){if(!k.length||!o.length||k.length!==o.length)return null;var _,b,f=k.length;if(k[0].length)for(_=new Array(f),b=0;b<f;b++)_[b]=C.dot(k[b],o);else if(o[0].length){var s=C.transposeRagged(o);for(_=new Array(s.length),b=0;b<s.length;b++)_[b]=C.dot(k,s[b])}else for(_=0,b=0;b<f;b++)_+=k[b]*o[b];return _},C.translationMatrix=function(k,o){return[[1,0,k],[0,1,o],[0,0,1]]},C.rotationMatrix=function(k){var o=k*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},C.rotationXYMatrix=function(k,o,_){return C.dot(C.dot(C.translationMatrix(o,_),C.rotationMatrix(k)),C.translationMatrix(-o,-_))},C.apply3DTransform=function(k){return function(){var o=arguments,_=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return C.dot(k,[_[0],_[1],_[2],1]).slice(0,3)}},C.apply2DTransform=function(k){return function(){var o=arguments;o.length===3&&(o=o[0]);var _=arguments.length===1?o[0]:[o[0],o[1]];return C.dot(k,[_[0],_[1],1]).slice(0,2)}},C.apply2DTransform2=function(k){var o=C.apply2DTransform(k);return function(_){return o(_.slice(0,2)).concat(o(_.slice(2,4)))}},C.convertCssMatrix=function(k){if(k){var o=k.length;if(o===16)return k;if(o===6)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},C.inverseTransformMatrix=function(k){var o=[];return T.invert(o,k),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},20435:function(U){U.exports={mod:function(C,e){var T=C%e;return T<0?T+e:T},modHalf:function(C,e){return Math.abs(C)>e/2?C-Math.round(C/e)*e:C}}},22296:function(U,C,e){var T=e(38248),k=e(38116).isArrayOrTypedArray;function o(r,n){return function(){var a,l,u,h,c,x=r;for(h=0;h<n.length-1;h++){if((a=n[h])===-1){for(l=!0,u=[],c=0;c<x.length;c++)u[c]=o(x[c],n.slice(h+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof a=="number"&&!k(x)||typeof(x=x[a])!="object"||x===null)return}if(typeof x=="object"&&x!==null&&(u=x[n[h]])!==null)return u}}U.exports=function(r,n){if(T(n))n=String(n);else if(typeof n!="string"||n.substr(n.length-4)==="[-1]")throw"bad property string";var a,l,u,h,c=n.split(".");for(h=0;h<c.length;h++)if(String(c[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<c.length;){if(a=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(a[1])c[h]=a[1];else{if(h!==0)throw"bad property string";c.splice(0,1)}for(l=a[2].substr(1,a[2].length-2).split("]["),u=0;u<l.length;u++)h++,c.splice(h,0,Number(l[u]))}h++}return typeof r!="object"?function(x,p,v){return{set:function(){throw"bad container"},get:function(){},astr:p,parts:v,obj:x}}(r,n,c):{set:f(r,c,n),get:o(r,c),astr:n,parts:c,obj:r}};var _=/(^|\.)args\[/;function b(r,n){return r===void 0||r===null&&!n.match(_)}function f(r,n,a){return function(l){var u,h,c=r,x="",p=b(l,a);for(h=0;h<n.length-1;h++){if(typeof(u=n[h])=="number"&&!k(c))throw"array index but container is not an array";if(u===-1){if(p=!t(c,n.slice(h+1),l,a))break;return}if(!i(c,u,n[h+1],p))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";x=s(x,u)}if(p){if(h===n.length-1&&(delete c[n[h]],Array.isArray(c)&&+n[h]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[n[h]]=l}}function s(r,n){var a=n;return T(n)?a="["+n+"]":r&&(a="."+n),r+a}function t(r,n,a,l){var u,h=k(a),c=!0,x=a,p=l.replace("-1",0),v=!h&&b(a,p),g=n[0];for(u=0;u<r.length;u++)p=l.replace("-1",u),h&&(v=b(x=a[u%a.length],p)),v&&(c=!1),i(r,u,g,v)&&f(r[u],n,l.replace("-1",u))(x);return c}function i(r,n,a,l){if(r[n]===void 0){if(l)return!1;r[n]=typeof a=="number"?[]:{}}return!0}},16628:function(U){U.exports=function(){}},41792:function(U,C,e){var T=e(33428),k=e(38248),o=[];U.exports=function(_,b){if(o.indexOf(_)===-1){o.push(_);var f=1e3;k(b)?f=b:b==="long"&&(f=3e3);var s=T.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var r=T.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var n=r.append("p"),a=i.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&n.append("br"),n.append("span").text(a[l]);b==="stick"?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(r){var n=o.indexOf(r);n!==-1&&o.splice(n,1),T.select(this).remove()})}}},72213:function(U,C,e){var T=e(93972),k="data-savedcursor";U.exports=function(o,_){var b=o.attr(k);if(_){if(!b){for(var f=(o.attr("class")||"").split(" "),s=0;s<f.length;s++){var t=f[s];t.indexOf("cursor-")===0&&o.attr(k,t.substr(7)).classed(t,!1)}o.attr(k)||o.attr(k,"!!")}T(o,_)}else b&&(o.attr(k,null),b==="!!"?T(o):T(o,b))}},92065:function(U,C,e){var T=e(52248).dot,k=e(39032).BADNUM,o=U.exports={};o.tester=function(_){var b,f=_.slice(),s=f[0][0],t=s,i=f[0][1],r=i;for(f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),b=1;b<f.length;b++)s=Math.min(s,f[b][0]),t=Math.max(t,f[b][0]),i=Math.min(i,f[b][1]),r=Math.max(r,f[b][1]);var n,a=!1;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(a=!0,n=function(h){return h[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(a=!0,n=function(h){return h[1]===f[0][1]}));var l=!0,u=f[0];for(b=1;b<f.length;b++)if(u[0]!==f[b][0]||u[1]!==f[b][1]){l=!1;break}return{xmin:s,xmax:t,ymin:i,ymax:r,pts:f,contains:a?function(h,c){var x=h[0],p=h[1];return!(x===k||x<s||x>t||p===k||p<i||p>r||c&&n(h))}:function(h,c){var x=h[0],p=h[1];if(x===k||x<s||x>t||p===k||p<i||p>r)return!1;var v,g,y,m,w,d=f.length,S=f[0][0],A=f[0][1],E=0;for(v=1;v<d;v++)if(g=S,y=A,S=f[v][0],A=f[v][1],!(x<(m=Math.min(g,S))||x>Math.max(g,S)||p>Math.max(y,A)))if(p<Math.min(y,A))x!==m&&E++;else{if(p===(w=S===g?p:y+(x-g)*(A-y)/(S-g)))return v!==1||!c;p<=w&&x!==m&&E++}return E%2==1},isRect:a,degenerate:l}},o.isSegmentBent=function(_,b,f,s){var t,i,r,n=_[b],a=[_[f][0]-n[0],_[f][1]-n[1]],l=T(a,a),u=Math.sqrt(l),h=[-a[1]/u,a[0]/u];for(t=b+1;t<f;t++)if(i=[_[t][0]-n[0],_[t][1]-n[1]],(r=T(i,a))<0||r>l||Math.abs(T(i,h))>s)return!0;return!1},o.filter=function(_,b){var f=[_[0]],s=0,t=0;function i(r){_.push(r);var n=f.length,a=s;f.splice(t+1);for(var l=a+1;l<_.length;l++)(l===_.length-1||o.isSegmentBent(_,a,l+1,b))&&(f.push(_[l]),f.length<n-2&&(s=l,t=f.length-1),a=l)}return _.length>1&&i(_.pop()),{addPt:i,raw:_,filtered:f}}},5048:function(U,C,e){var T=e(16576),k=e(28624);U.exports=function(o,_,b){var f=o._fullLayout,s=!0;return f._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||f._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:o._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:_||[],cachedCode:b||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){o&&o.emit&&o.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),s||T({container:f._glcontainer.node()}),s}},34296:function(U,C,e){var T=e(38248),k=e(25928);U.exports=function(o){var _;if(typeof(_=o&&o.hasOwnProperty("userAgent")?o.userAgent:function(){var n;return typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}())!="string")return!0;var b=k({ua:{headers:{"user-agent":_}},tablet:!0,featureDetect:!1});if(!b){for(var f=_.split(" "),s=1;s<f.length;s++)if(f[s].indexOf("Safari")!==-1)for(var t=s-1;t>-1;t--){var i=f[t];if(i.substr(0,8)==="Version/"){var r=i.substr(8).split(".")[0];if(T(r)&&(r=+r),r>=13)return!0}}}return b}},52416:function(U){U.exports=function(C,e){if(e instanceof RegExp){for(var T=e.toString(),k=0;k<C.length;k++)if(C[k]instanceof RegExp&&C[k].toString()===T)return C;C.push(e)}else!e&&e!==0||C.indexOf(e)!==-1||C.push(e);return C}},94552:function(U,C,e){var T=e(3400),k=e(20556).dfltConfig,o={add:function(_,b,f,s,t){var i,r;_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},r=_.undoQueue.index,_.autoplay?_.undoQueue.inSequence||(_.autoplay=!1):(!_.undoQueue.sequence||_.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},_.undoQueue.queue.splice(r,_.undoQueue.queue.length-r,i),_.undoQueue.index+=1):i=_.undoQueue.queue[r-1],_.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(f),i.redo.calls.push(s),i.redo.args.push(t)),_.undoQueue.queue.length>k.queueLength&&(_.undoQueue.queue.shift(),_.undoQueue.index--))},startSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!0,_.undoQueue.beginSequence=!0},stopSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!1,_.undoQueue.beginSequence=!1},undo:function(_){var b,f;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index<=0)){for(_.undoQueue.index--,b=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,f=0;f<b.undo.calls.length;f++)o.plotDo(_,b.undo.calls[f],b.undo.args[f]);_.undoQueue.inSequence=!1,_.autoplay=!1}},redo:function(_){var b,f;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index>=_.undoQueue.queue.length)){for(b=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,f=0;f<b.redo.calls.length;f++)o.plotDo(_,b.redo.calls[f],b.redo.args[f]);_.undoQueue.inSequence=!1,_.autoplay=!1,_.undoQueue.index++}},plotDo:function(_,b,f){_.autoplay=!0,f=function(s,t){for(var i,r=[],n=0;n<t.length;n++)i=t[n],r[n]=i===s?i:typeof i=="object"?Array.isArray(i)?T.extendDeep([],i):T.extendDeepAll({},i):i;return r}(_,f),b.apply(null,f)}};U.exports=o},53756:function(U,C){C.counter=function(e,T,k,o){var _=(T||"")+(k?"":"$"),b=o===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+_):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+_)}},23193:function(U){var C=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;U.exports=function(T,k){for(;k;){var o=T.match(C);if(o)T=o[1];else{if(!T.match(e))throw new Error("bad relativeAttr call:"+[T,k]);T=""}if(k.charAt(0)!=="^")break;k=k.slice(1)}return T&&k.charAt(0)!=="["?T+"."+k:T+k}},51528:function(U,C,e){var T=e(38116).isArrayOrTypedArray,k=e(63620);U.exports=function o(_,b){for(var f in b){var s=b[f],t=_[f];if(t!==s)if(f.charAt(0)==="_"||typeof s=="function"){if(f in _)continue;_[f]=s}else if(T(s)&&T(t)&&k(s[0])){if(f==="customdata"||f==="ids")continue;for(var i=Math.min(s.length,t.length),r=0;r<i;r++)t[r]!==s[r]&&k(s[r])&&k(t[r])&&o(t[r],s[r])}else k(s)&&k(t)&&(o(t,s),Object.keys(t).length||delete _[f])}}},14952:function(U,C,e){var T=e(38248),k=e(24248),o=e(35536),_=e(39032).BADNUM,b=1e-9;function f(r,n){return r<n}function s(r,n){return r<=n}function t(r,n){return r>n}function i(r,n){return r>=n}C.findBin=function(r,n,a){if(T(n.start))return a?Math.ceil((r-n.start)/n.size-b)-1:Math.floor((r-n.start)/n.size+b);var l,u,h=0,c=n.length,x=0,p=c>1?(n[c-1]-n[0])/(c-1):1;for(u=p>=0?a?f:s:a?i:t,r+=p*b*(a?-1:1)*(p>=0?1:-1);h<c&&x++<100;)u(n[l=Math.floor((h+c)/2)],r)?h=l+1:c=l;return x>90&&k.log("Long binary search..."),h-1},C.sorterAsc=function(r,n){return r-n},C.sorterDes=function(r,n){return n-r},C.distinctVals=function(r){var n,a=r.slice();for(a.sort(C.sorterAsc),n=a.length-1;n>-1&&a[n]===_;n--);for(var l,u=a[n]-a[0]||1,h=u/(n||1)/1e4,c=[],x=0;x<=n;x++){var p=a[x],v=p-l;l===void 0?(c.push(p),l=p):v>h&&(u=Math.min(u,v),c.push(p),l=p)}return{vals:c,minDiff:u}},C.roundUp=function(r,n,a){for(var l,u=0,h=n.length-1,c=0,x=a?0:1,p=a?1:0,v=a?Math.ceil:Math.floor;u<h&&c++<100;)n[l=v((u+h)/2)]<=r?u=l+x:h=l-p;return n[u]},C.sort=function(r,n){for(var a=0,l=0,u=1;u<r.length;u++){var h=n(r[u],r[u-1]);if(h<0?a=1:h>0&&(l=1),a&&l)return r.sort(n)}return l?r:r.reverse()},C.findIndexOfMin=function(r,n){n=n||o;for(var a,l=1/0,u=0;u<r.length;u++){var h=n(r[u]);h<l&&(l=h,a=u)}return a}},93972:function(U){U.exports=function(C,e){(C.attr("class")||"").split(" ").forEach(function(T){T.indexOf("cursor-")===0&&C.classed(T,!1)}),e&&C.classed("cursor-"+e,!0)}},16576:function(U,C,e){var T=e(76308),k=function(){};U.exports=function(o){for(var _ in o)typeof o[_]=="function"&&(o[_]=k);o.destroy=function(){o.container.parentNode.removeChild(o.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=T.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=T.lightLine,b.style["z-index"]=30;var f=document.createElement("p");return f.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",f.style.position="relative",f.style.top="50%",f.style.left="50%",f.style.height="30%",f.style.width="50%",f.style.margin="-15% 0 0 -25%",b.appendChild(f),o.container.appendChild(b),o.container.style.background="#FFFFFF",o.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(U){U.exports=function(C){return Object.keys(C).sort()}},63084:function(U,C,e){var T=e(38248),k=e(38116).isArrayOrTypedArray;C.aggNums=function(o,_,b,f){var s,t;if((!f||f>b.length)&&(f=b.length),T(_)||(_=!1),k(b[0])){for(t=new Array(f),s=0;s<f;s++)t[s]=C.aggNums(o,_,b[s]);b=t}for(s=0;s<f;s++)T(_)?T(b[s])&&(_=o(+_,+b[s])):_=b[s];return _},C.len=function(o){return C.aggNums(function(_){return _+1},0,o)},C.mean=function(o,_){return _||(_=C.len(o)),C.aggNums(function(b,f){return b+f},0,o)/_},C.geometricMean=function(o,_){return _||(_=C.len(o)),Math.pow(C.aggNums(function(b,f){return b*f},1,o),1/_)},C.midRange=function(o){if(o!==void 0&&o.length!==0)return(C.aggNums(Math.max,null,o)+C.aggNums(Math.min,null,o))/2},C.variance=function(o,_,b){return _||(_=C.len(o)),T(b)||(b=C.mean(o,_)),C.aggNums(function(f,s){return f+Math.pow(s-b,2)},0,o)/_},C.stdev=function(o,_,b){return Math.sqrt(C.variance(o,_,b))},C.median=function(o){var _=o.slice().sort();return C.interp(_,.5)},C.interp=function(o,_){if(!T(_))throw"n should be a finite number";if((_=_*o.length-.5)<0)return o[0];if(_>o.length-1)return o[o.length-1];var b=_%1;return b*o[Math.ceil(_)]+(1-b)*o[Math.floor(_)]}},43080:function(U,C,e){var T=e(72160);U.exports=function(k){return k?T(k):[0,0,0,1]}},9188:function(U,C,e){var T=e(2264),k=e(43616),o=e(3400),_=null;U.exports=function(){if(_!==null)return _;_=!1;var b=o.isIE()||o.isSafari()||o.isIOS();if(window.navigator.userAgent&&!b){var f=Array.from(T.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")_=f.some(function(r){return s.apply(null,r)});else{var t=k.tester.append("image").attr("style",T.STYLE),i=window.getComputedStyle(t.node()).imageRendering;_=f.some(function(r){var n=r[1];return i===n||i===n.toLowerCase()}),t.remove()}}return _}},72736:function(U,C,e){var T=e(33428),k=e(3400),o=k.strTranslate,_=e(9616),b=e(84284).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;C.convertToTspans=function(D,V,z){var j=D.text(),X=!D.attr("data-notex")&&V&&V._context.typesetMath&&typeof MathJax<"u"&&j.match(f),F=T.select(D.node().parentNode);if(!F.empty()){var H=D.attr("class")?D.attr("class").split(" ")[0]:"text";return H+="-math",F.selectAll("svg."+H).remove(),F.selectAll("g."+H+"-group").remove(),D.style("display",null).attr({"data-unformatted":j,"data-math":"N"}),X?(V&&V._promises||[]).push(new Promise(function(ie){D.style("display","none");var te=parseInt(D.node().style.fontSize,10),Q={fontSize:te};(function(ne,$,J){var re,se,ue,he,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var ge=function(){var be="math-output-"+k.randstr({},64),Te=(he=T.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":$.fontSize+"px"}).text(ne.replace(s,"\\lt ").replace(t,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(Te):MathJax.typeset([Te])},ye=function(){var be=he.select(pe===2?".MathJax_SVG":".MathJax"),Te=!be.empty()&&he.select("svg").node();if(Te){var Se,Fe=Te.getBoundingClientRect();Se=pe===2?T.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),J(be,Se,Fe)}else k.log("There was an error in the tex syntax.",ne),J();he.remove()};pe===2?MathJax.Hub.Queue(function(){return se=k.extendDeepAll({},MathJax.Hub.config),ue=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((re=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ge,ye,function(){if(re!=="SVG")return MathJax.Hub.setRenderer(re)},function(){return ue!==void 0&&(MathJax.Hub.processSectionDelay=ue),MathJax.Hub.Config(se)}):pe===3&&(se=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(re=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ge(),ye(),re!=="svg"&&(MathJax.config.startup.output=re),MathJax.config=se}))}else k.warn("No MathJax version:",MathJax.version)})(X[2],Q,function(ne,$,J){F.selectAll("svg."+H).remove(),F.selectAll("g."+H+"-group").remove();var re=ne&&ne.select("svg");if(!re||!re.node())return W(),void ie();var se=F.append("g").classed(H+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});se.node().appendChild(re.node()),$&&$.node()&&re.node().insertBefore($.node().cloneNode(!0),re.node().firstChild);var ue=J.width,he=J.height;re.attr({class:H,height:he,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=D.node().style.fill||"black",ge=re.select("g");ge.attr({fill:pe,stroke:pe});var ye=ge.node().getBoundingClientRect(),be=ye.width,Te=ye.height;(be>ue||Te>he)&&(re.style("overflow","hidden"),be=(ye=re.node().getBoundingClientRect()).width,Te=ye.height);var Se=+D.attr("x"),Fe=+D.attr("y"),xe=-(te||D.node().getBoundingClientRect().height)/4;if(H[0]==="y")se.attr({transform:"rotate("+[-90,Se,Fe]+")"+o(-be/2,xe-Te/2)});else if(H[0]==="l")Fe=xe-Te/2;else if(H[0]==="a"&&H.indexOf("atitle")!==0)Se=0,Fe=xe;else{var le=D.attr("text-anchor");Se-=be*(le==="middle"?.5:le==="end"?1:0),Fe=Fe+xe-Te/2}re.attr({x:Se,y:Fe}),z&&z.call(D,se),ie(se)})})):W(),D}function W(){F.empty()||(H=D.attr("class")+"-math",F.select("svg."+H).remove()),D.text("").style("white-space","pre");var ie=function(te,Q){Q=Q.replace(h," ");var ne,$=!1,J=[],re=-1;function se(){re++;var _e=document.createElementNS(_.svg,"tspan");T.select(_e).attr({class:"line",dy:re*b+"em"}),te.appendChild(_e),ne=_e;var Ae=J;if(J=[{node:_e}],Ae.length>1)for(var Le=1;Le<Ae.length;Le++)ue(Ae[Le])}function ue(_e){var Ae,Le=_e.type,ze={};if(Le==="a"){Ae="a";var Re=_e.target,ve=_e.href,ke=_e.popup;ve&&(ze={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":ve},ke&&(ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Ae="tspan";_e.style&&(ze.style=_e.style);var Ee=document.createElementNS(_.svg,Ae);if(Le==="sup"||Le==="sub"){he(ne,l),ne.appendChild(Ee);var De=document.createElementNS(_.svg,"tspan");he(De,l),T.select(De).attr("dy",a[Le]),ze.dy=n[Le],ne.appendChild(Ee),ne.appendChild(De)}else ne.appendChild(Ee);T.select(Ee).attr(ze),ne=_e.node=Ee,J.push(_e)}function he(_e,Ae){_e.appendChild(document.createTextNode(Ae))}function pe(_e){if(J.length!==1){var Ae=J.pop();_e!==Ae.type&&k.log("Start tag <"+Ae.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",Q),ne=J[J.length-1].node}else k.log("Ignoring unexpected end tag </"+_e+">.",Q)}p.test(Q)?se():(ne=te,J=[{node:te}]);for(var ge=Q.split(c),ye=0;ye<ge.length;ye++){var be=ge[ye],Te=be.match(x),Se=Te&&Te[2].toLowerCase(),Fe=r[Se];if(Se==="br")se();else if(Fe===void 0)he(ne,E(be));else if(Te[1])pe(Se);else{var xe=Te[4],le={type:Se},oe=w(xe,v);if(oe?(oe=oe.replace(d,"$1 fill:"),Fe&&(oe+=";"+Fe)):Fe&&(oe=Fe),oe&&(le.style=oe),Se==="a"){$=!0;var de=w(xe,g);if(de){var Ce=P(de);Ce&&(le.href=Ce,le.target=w(xe,y)||"_blank",le.popup=w(xe,m))}}ue(le)}}return $}(D.node(),j);ie&&D.style("pointer-events","all"),C.positionText(D),z&&z.call(D)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},a={sub:"-0.21em",sup:"0.42em"},l="",u=["http:","https:","mailto:","",void 0,":"],h=C.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;C.BR_TAG_ALL=/<br(\s+.*)?>/gi;var v=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,g=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function w(D,V){if(!D)return null;var z=D.match(V),j=z&&(z[3]||z[4]);return j&&E(j)}var d=/(^|;)\s*color:/;C.plainText=function(D,V){for(var z=(V=V||{}).len!==void 0&&V.len!==-1?V.len:1/0,j=V.allowedTags!==void 0?V.allowedTags:["br"],X=D.split(c),F=[],H="",W=0,ie=0;ie<X.length;ie++){var te=X[ie],Q=te.match(x),ne=Q&&Q[2].toLowerCase();if(ne)j.indexOf(ne)!==-1&&(F.push(te),H=ne);else{var $=te.length;if(W+$<z)F.push(te),W+=$;else if(W<z){var J=z-W;H&&(H!=="br"||J<=3||$<=3)&&F.pop(),z>3?F.push(te.substr(0,J-3)+"..."):F.push(te.substr(0,J));break}H=""}}return F.join("")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(D){return D.replace(A,function(V,z){return(z.charAt(0)==="#"?function(j){if(!(j>1114111)){var X=String.fromCodePoint;if(X)return X(j);var F=String.fromCharCode;return j<=65535?F(j):F(55232+(j>>10),j%1024+56320)}}(z.charAt(1)==="x"?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):S[z])||V})}function P(D){var V=encodeURI(decodeURI(D)),z=document.createElement("a"),j=document.createElement("a");z.href=D,j.href=V;var X=z.protocol,F=j.protocol;return u.indexOf(X)!==-1&&u.indexOf(F)!==-1?V:""}function O(D,V,z){var j,X,F,H=z.horizontalAlign,W=z.verticalAlign||"top",ie=D.node().getBoundingClientRect(),te=V.node().getBoundingClientRect();return X=W==="bottom"?function(){return ie.bottom-j.height}:W==="middle"?function(){return ie.top+(ie.height-j.height)/2}:function(){return ie.top},F=H==="right"?function(){return ie.right-j.width}:H==="center"?function(){return ie.left+(ie.width-j.width)/2}:function(){return ie.left},function(){j=this.node().getBoundingClientRect();var Q=F()-te.left,ne=X()-te.top,$=z.gd||{};if(z.gd){$._fullLayout._calcInverseTransform($);var J=k.apply3DTransform($._fullLayout._invTransform)(Q,ne);Q=J[0],ne=J[1]}return this.style({top:ne+"px",left:Q+"px","z-index":1e3}),this}}C.convertEntities=E,C.sanitizeHTML=function(D){D=D.replace(h," ");for(var V=document.createElement("p"),z=V,j=[],X=D.split(c),F=0;F<X.length;F++){var H=X[F],W=H.match(x),ie=W&&W[2].toLowerCase();if(ie in r)if(W[1])j.length&&(z=j.pop());else{var te=W[4],Q=w(te,v),ne=Q?{style:Q}:{};if(ie==="a"){var $=w(te,g);if($){var J=P($);if(J){ne.href=J;var re=w(te,y);re&&(ne.target=re)}}}var se=document.createElement(ie);z.appendChild(se),T.select(se).attr(ne),z=se,j.push(se)}else z.appendChild(document.createTextNode(E(H)))}return V.innerHTML},C.lineCount=function(D){return D.selectAll("tspan.line").size()||1},C.positionText=function(D,V,z){return D.each(function(){var j=T.select(this);function X(W,ie){return ie===void 0?(ie=j.attr(W))===null&&(j.attr(W,0),ie=0):j.attr(W,ie),ie}var F=X("x",V),H=X("y",z);this.nodeName==="text"&&j.selectAll("tspan.line").attr({x:F,y:H})})};var I="1px ";C.makeTextShadow=function(D){return I+I+I+D+", -"+I+"-"+I+I+D+", "+I+"-"+I+I+D+", -"+I+I+I+D},C.makeEditable=function(D,V){var z=V.gd,j=V.delegate,X=T.dispatch("edit","input","cancel"),F=j||D;if(D.style({"pointer-events":j?"none":"all"}),D.size()!==1)throw new Error("boo");function H(){var ie,te,Q,ne,$;ie=T.select(z).select(".svg-container"),te=ie.append("div"),Q=D.node().style,ne=parseFloat(Q.fontSize||12),($=V.text)===void 0&&($=D.attr("data-unformatted")),te.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":ne,color:V.fill||Q.fill||"black",opacity:1,"background-color":V.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ne/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(O(D,ie,V)).on("blur",function(){z._editing=!1,D.text(this.textContent).style({opacity:1});var se,ue=T.select(this).attr("class");(se=ue?"."+ue.split(" ")[0]+"-math-group":"[class*=-math-group]")&&T.select(D.node().parentNode).select(se).style({opacity:0});var he=this.textContent;T.select(this).transition().duration(0).remove(),T.select(document).on("mouseup",null),X.edit.call(D,he)}).on("focus",function(){var se=this;z._editing=!0,T.select(document).on("mouseup",function(){if(T.event.target===se)return!1;document.activeElement===te.node()&&te.node().blur()})}).on("keyup",function(){T.event.which===27?(z._editing=!1,D.style({opacity:1}),T.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),X.cancel.call(D,this.textContent)):(X.input.call(D,this.textContent),T.select(this).call(O(D,ie,V)))}).on("keydown",function(){T.event.which===13&&this.blur()}).call(W),D.style({opacity:0});var J,re=F.attr("class");(J=re?"."+re.split(" ")[0]+"-math-group":"[class*=-math-group]")&&T.select(D.node().parentNode).select(J).style({opacity:0})}function W(ie){var te=ie.node(),Q=document.createRange();Q.selectNodeContents(te);var ne=window.getSelection();ne.removeAllRanges(),ne.addRange(Q),te.focus()}return V.immediate?H():F.on("click",H),T.rebind(D,X,"on")}},91200:function(U,C){var e={};function T(k){k&&k.timer!==null&&(clearTimeout(k.timer),k.timer=null)}C.throttle=function(k,o,_){var b=e[k],f=Date.now();if(!b){for(var s in e)e[s].ts<f-6e4&&delete e[s];b=e[k]={ts:0,timer:null}}function t(){_(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}T(b),f>b.ts+o?t():b.timer=setTimeout(function(){t(),b.timer=null},o)},C.done=function(k){var o=e[k];return o&&o.timer?new Promise(function(_){var b=o.onDone;o.onDone=function(){b&&b(),_(),o.onDone=null}}):Promise.resolve()},C.clear=function(k){if(k)T(e[k]),delete e[k];else for(var o in e)C.clear(o)}},36896:function(U,C,e){var T=e(38248);U.exports=function(k,o){if(k>0)return Math.log(k)/Math.LN10;var _=Math.log(Math.min(o[0],o[1]))/Math.LN10;return T(_)||(_=Math.log(Math.max(o[0],o[1]))/Math.LN10-6),_}},59972:function(U,C,e){var T=U.exports={},k=e(79552).locationmodeToLayer,o=e(55712).NO;T.getTopojsonName=function(_){return[_.scope.replace(/ /g,"-"),"_",_.resolution.toString(),"m"].join("")},T.getTopojsonPath=function(_,b){return _+b+".json"},T.getTopojsonFeatures=function(_,b){var f=k[_.locationmode],s=b.objects[f];return o(b,s).features}},11680:function(U){U.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(U){U.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(U,C,e){var T=e(24040);U.exports=function(k){for(var o,_,b=T.layoutArrayContainers,f=T.layoutArrayRegexes,s=k.split("[")[0],t=0;t<f.length;t++)if((_=k.match(f[t]))&&_.index===0){o=_[0];break}if(o||(o=b[b.indexOf(s)]),!o)return!1;var i=k.substr(o.length);return i?!!(_=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:o,index:Number(_[1]),property:_[3]||""}:{array:o,index:"",property:""}}},67824:function(U,C,e){var T=e(92880).extendFlat,k=e(63620),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=o.flags.slice().concat(["fullReplot"]),f=_.flags.slice().concat("layoutReplot");function s(r){for(var n={},a=0;a<r.length;a++)n[r[a]]=!1;return n}function t(r,n,a){var l=T({},r);for(var u in l){var h=l[u];k(h)&&(l[u]=i(h,n,0,u))}return a==="from-root"&&(l.editType=n),l}function i(r,n,a,l){if(r.valType){var u=T({},r);if(u.editType=n,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var h=0;h<r.items.length;h++)u.items[h]=i(r.items[h],n)}return u}return t(r,n,l.charAt(0)==="_"?"nested":"from-root")}U.exports={traces:o,layout:_,traceFlags:function(){return s(b)},layoutFlags:function(){return s(f)},update:function(r,n){var a=n.editType;if(a&&a!=="none")for(var l=a.split("+"),u=0;u<l.length;u++)r[l[u]]=!0},overrideAll:t}},93404:function(U,C,e){var T=e(38248),k=e(61784),o=e(24040),_=e(3400),b=e(7316),f=e(79811),s=e(76308),t=f.cleanId,i=f.getFromTrace,r=o.traceIs;function n(g,y){var m=g[y],w=y.charAt(0);m&&m!=="paper"&&(g[y]=t(m,w,!0))}function a(g){function y(m,w){var d=g[m],S=g.title&&g.title[w];d&&!S&&(g.title||(g.title={}),g.title[w]=g[m],delete g[m])}g&&(typeof g.title!="string"&&typeof g.title!="number"||(g.title={text:g.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function l(g){if(!_.isPlainObject(g))return!1;var y=g.name;return delete g.name,delete g.showlegend,(typeof y=="string"||typeof y=="number")&&String(y)}function u(g,y,m,w){if(m&&!w)return g;if(w&&!m||!g.trim())return y;if(!y.trim())return g;var d,S=Math.min(g.length,y.length);for(d=0;d<S&&g.charAt(d)===y.charAt(d);d++);return g.substr(0,d).trim()}function h(g){var y="middle",m="center";return typeof g=="string"&&(g.indexOf("top")!==-1?y="top":g.indexOf("bottom")!==-1&&(y="bottom"),g.indexOf("left")!==-1?m="left":g.indexOf("right")!==-1&&(m="right")),y+" "+m}function c(g,y){return y in g&&typeof g[y]=="object"&&Object.keys(g[y]).length===0}C.clearPromiseQueue=function(g){Array.isArray(g._promises)&&g._promises.length>0&&_.log("Clearing previous rejected promises from queue."),g._promises=[]},C.cleanLayout=function(g){var y,m;g||(g={}),g.xaxis1&&(g.xaxis||(g.xaxis=g.xaxis1),delete g.xaxis1),g.yaxis1&&(g.yaxis||(g.yaxis=g.yaxis1),delete g.yaxis1),g.scene1&&(g.scene||(g.scene=g.scene1),delete g.scene1);var w=(b.subplotsRegistry.cartesian||{}).attrRegex,d=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,A=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(g);for(y=0;y<E.length;y++){var P=E[y];if(w&&w.test(P)){var O=g[P];O.anchor&&O.anchor!=="free"&&(O.anchor=t(O.anchor)),O.overlaying&&(O.overlaying=t(O.overlaying)),O.type||(O.isdate?O.type="date":O.islog?O.type="log":O.isdate===!1&&O.islog===!1&&(O.type="linear")),O.autorange!=="withzero"&&O.autorange!=="tozero"||(O.autorange=!0,O.rangemode="tozero"),O.insiderange&&delete O.range,delete O.islog,delete O.isdate,delete O.categories,c(O,"domain")&&delete O.domain,O.autotick!==void 0&&(O.tickmode===void 0&&(O.tickmode=O.autotick?"auto":"linear"),delete O.autotick),a(O)}else if(d&&d.test(P))a(g[P].radialaxis);else if(S&&S.test(P)){var I=g[P];a(I.aaxis),a(I.baxis),a(I.caxis)}else if(A&&A.test(P)){var D=g[P],V=D.cameraposition;if(Array.isArray(V)&&V[0].length===4){var z=V[0],j=V[1],X=V[2],F=k([],z),H=[];for(m=0;m<3;++m)H[m]=j[m]+X*F[2+4*m];D.camera={eye:{x:H[0],y:H[1],z:H[2]},center:{x:j[0],y:j[1],z:j[2]},up:{x:0,y:0,z:1}},delete D.cameraposition}a(D.xaxis),a(D.yaxis),a(D.zaxis)}}var W=Array.isArray(g.annotations)?g.annotations.length:0;for(y=0;y<W;y++){var ie=g.annotations[y];_.isPlainObject(ie)&&(ie.ref&&(ie.ref==="paper"?(ie.xref="paper",ie.yref="paper"):ie.ref==="data"&&(ie.xref="x",ie.yref="y"),delete ie.ref),n(ie,"xref"),n(ie,"yref"))}var te=Array.isArray(g.shapes)?g.shapes.length:0;for(y=0;y<te;y++){var Q=g.shapes[y];_.isPlainObject(Q)&&(n(Q,"xref"),n(Q,"yref"))}var ne=Array.isArray(g.images)?g.images.length:0;for(y=0;y<ne;y++){var $=g.images[y];_.isPlainObject($)&&(n($,"xref"),n($,"yref"))}var J=g.legend;return J&&(J.x>3?(J.x=1.02,J.xanchor="left"):J.x<-2&&(J.x=-.02,J.xanchor="right"),J.y>3?(J.y=1.02,J.yanchor="bottom"):J.y<-2&&(J.y=-.02,J.yanchor="top")),a(g),g.dragmode==="rotate"&&(g.dragmode="orbit"),s.clean(g),g.template&&g.template.layout&&C.cleanLayout(g.template.layout),g},C.cleanData=function(g){for(var y=0;y<g.length;y++){var m,w=g[y];if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var d=s.defaults,S=w.error_y.color||(r(w,"bar")?s.defaultLine:d[y%d.length]);w.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir!=="h"||!r(w,"bar")&&w.type.substr(0,9)!=="histogram"||(w.orientation="h",C.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&C.swapXYData(w),w.type!=="histogramx"&&w.type!=="histogramy"||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=t(w.xaxis,"x")),w.yaxis&&(w.yaxis=t(w.yaxis,"y")),r(w,"gl3d")&&w.scene&&(w.scene=b.subplotsRegistry.gl3d.cleanId(w.scene)),!r(w,"pie-like")&&!r(w,"bar-like"))if(Array.isArray(w.textposition))for(m=0;m<w.textposition.length;m++)w.textposition[m]=h(w.textposition[m]);else w.textposition&&(w.textposition=h(w.textposition));var A=o.getModule(w);if(A&&A.colorbar){var E=A.colorbar.container,P=E?w[E]:w;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(w.type==="surface"&&_.isPlainObject(w.contours)){var O=["x","y","z"];for(m=0;m<O.length;m++){var I=w.contours[O[m]];_.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var D=(w.increasing||{}).showlegend!==!1,V=(w.decreasing||{}).showlegend!==!1,z=l(w.increasing),j=l(w.decreasing);if(z!==!1&&j!==!1){var X=u(z,j,D,V);X&&(w.name=X)}else!z&&!j||w.name||(w.name=z||j)}if(Array.isArray(w.transforms)){var F=w.transforms;for(m=0;m<F.length;m++){var H=F[m];if(_.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var W=H.styles,ie=Object.keys(W);H.styles=[];for(var te=0;te<ie.length;te++)H.styles.push({target:ie[te],value:W[ie[te]]})}}}}c(w,"line")&&delete w.line,"marker"in w&&(c(w.marker,"line")&&delete w.marker.line,c(w,"marker")&&delete w.marker),s.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),a(w),w.colorbar&&a(w.colorbar),w.marker&&w.marker.colorbar&&a(w.marker.colorbar),w.line&&w.line.colorbar&&a(w.line.colorbar),w.aaxis&&a(w.aaxis),w.baxis&&a(w.baxis)}},C.swapXYData=function(g){var y;if(_.swapAttrs(g,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(g.z)&&Array.isArray(g.z[0])&&(g.transpose?delete g.transpose:g.transpose=!0),g.error_x&&g.error_y){var m=g.error_y,w="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);_.swapAttrs(g,["error_?.copy_ystyle"]),w&&_.swapAttrs(g,["error_?.color","error_?.thickness","error_?.width"])}if(typeof g.hoverinfo=="string"){var d=g.hoverinfo.split("+");for(y=0;y<d.length;y++)d[y]==="x"?d[y]="y":d[y]==="y"&&(d[y]="x");g.hoverinfo=d.join("+")}},C.coerceTraceIndices=function(g,y){if(T(y))return[y];if(!Array.isArray(y)||!y.length)return g.data.map(function(d,S){return S});if(Array.isArray(y)){for(var m=[],w=0;w<y.length;w++)_.isIndex(y[w],g.data.length)?m.push(y[w]):_.warn("trace index (",y[w],") is not a number or is out of bounds");return m}return y},C.manageArrayContainers=function(g,y,m){var w=g.obj,d=g.parts,S=d.length,A=d[S-1],E=T(A);if(E&&y===null){var P=d.slice(0,S-1).join(".");_.nestedProperty(w,P).get().splice(A,1)}else E&&g.get()===void 0&&g.get()===void 0&&(m[g.astr]=null),g.set(y)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function p(g){var y=g.search(x);if(y>0)return g.substr(0,y)}C.hasParent=function(g,y){for(var m=p(y);m;){if(m in g)return!0;m=p(m)}return!1};var v=["x","y","z"];C.clearAxisTypes=function(g,y,m){for(var w=0;w<y.length;w++)for(var d=g._fullData[w],S=0;S<3;S++){var A=i(g,d,v[S]);if(A&&A.type!=="log"){var E=A._name,P=A._id.substr(1);if(P.substr(0,5)==="scene"){if(m[P]!==void 0)continue;E=P+"."+E}var O=E+".type";m[E]===void 0&&m[O]===void 0&&_.nestedProperty(g.layout,O).set(null)}}}},22448:function(U,C,e){var T=e(36424);C._doPlot=T._doPlot,C.newPlot=T.newPlot,C.restyle=T.restyle,C.relayout=T.relayout,C.redraw=T.redraw,C.update=T.update,C._guiRestyle=T._guiRestyle,C._guiRelayout=T._guiRelayout,C._guiUpdate=T._guiUpdate,C._storeDirectGUIEdit=T._storeDirectGUIEdit,C.react=T.react,C.extendTraces=T.extendTraces,C.prependTraces=T.prependTraces,C.addTraces=T.addTraces,C.deleteTraces=T.deleteTraces,C.moveTraces=T.moveTraces,C.purge=T.purge,C.addFrames=T.addFrames,C.deleteFrames=T.deleteFrames,C.animate=T.animate,C.setPlotConfig=T.setPlotConfig;var k=e(52200).getGraphDiv,o=e(4016).eraseActiveShape;C.deleteActiveShape=function(b){return o(k(b))},C.toImage=e(67024),C.validate=e(21480),C.downloadImage=e(39792);var _=e(94828);C.makeTemplate=_.makeTemplate,C.validateTemplate=_.validateTemplate},17680:function(U,C,e){var T=e(63620),k=e(16628),o=e(24248),_=e(14952).sorterAsc,b=e(24040);C.containerArrayMatch=e(69820);var f=C.isAddVal=function(t){return t==="add"||T(t)},s=C.isRemoveVal=function(t){return t===null||t==="remove"};C.applyContainerArrayChanges=function(t,i,r,n,a){var l=i.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),h=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),x=n.replot||n.recalc||u===k||h===k,p=t.layout,v=t._fullLayout;if(r[""]){Object.keys(r).length>1&&o.warn("Full array edits are incompatible with other edits",l);var g=r[""][""];if(s(g))i.set(null);else{if(!Array.isArray(g))return o.warn("Unrecognized full array edit value",l,g),!0;i.set(g)}return!x&&(u(p,v),h(t),!0)}var y,m,w,d,S,A,E,P,O=Object.keys(r).map(Number).sort(_),I=i.get(),D=I||[],V=a(v,l).get(),z=[],j=-1,X=D.length;for(y=0;y<O.length;y++)if(d=r[w=O[y]],S=Object.keys(d),A=d[""],E=f(A),w<0||w>D.length-(E?0:1))o.warn("index out of range",l,w);else if(A!==void 0)S.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",l,w),s(A)?z.push(w):E?(A==="add"&&(A={}),D.splice(w,0,A),V&&V.splice(w,0,{})):o.warn("Unrecognized full object edit value",l,w,A),j===-1&&(j=w);else for(m=0;m<S.length;m++)P=l+"["+w+"].",a(D[w],S[m],P).set(d[S[m]]);for(y=z.length-1;y>=0;y--)D.splice(z[y],1),V&&V.splice(z[y],1);if(D.length?I||i.set(D):i.set(null),x)return!1;if(u(p,v),c!==k){var F;if(j===-1)F=O;else{for(X=Math.max(D.length,X),F=[],y=0;y<O.length&&!((w=O[y])>=j);y++)F.push(w);for(y=j;y<X;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else h(t);return!0}},36424:function(U,C,e){var T=e(33428),k=e(38248),o=e(52264),_=e(3400),b=_.nestedProperty,f=e(95924),s=e(94552),t=e(24040),i=e(73060),r=e(7316),n=e(54460),a=e(96312),l=e(94724),u=e(43616),h=e(76308),c=e(42464).initInteractions,x=e(9616),p=e(22676).clearOutline,v=e(20556).dfltConfig,g=e(17680),y=e(93404),m=e(39172),w=e(67824),d=e(33816).AX_NAME_PATTERN,S=0;function A(_e){var Ae=_e._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:_e.emit("plotly_afterplot")}function E(_e,Ae){try{_e._fullLayout._paper.style("background",Ae)}catch(Le){_.error(Le)}}function P(_e,Ae){E(_e,h.combine(Ae,"white"))}function O(_e,Ae){if(!_e._context){_e._context=_.extendDeep({},v);var Le=T.select("base");_e._context._baseUrl=Le.size()&&Le.attr("href")?window.location.href.split("#")[0]:""}var ze,Re,ve,ke=_e._context;if(Ae){for(Re=Object.keys(Ae),ze=0;ze<Re.length;ze++)(ve=Re[ze])!=="editable"&&ve!=="edits"&&ve in ke&&(ve==="setBackground"&&Ae[ve]==="opaque"?ke[ve]=P:ke[ve]=Ae[ve]);Ae.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var Ee=Ae.editable;if(Ee!==void 0)for(ke.editable=Ee,Re=Object.keys(ke.edits),ze=0;ze<Re.length;ze++)ke.edits[Re[ze]]=Ee;if(Ae.edits)for(Re=Object.keys(Ae.edits),ze=0;ze<Re.length;ze++)(ve=Re[ze])in ke.edits&&(ke.edits[ve]=Ae.edits[ve]);ke._exportedPlot=Ae._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),ke.displayModeBar!=="hover"||o||(ke.displayModeBar=!0),ke.setBackground!=="transparent"&&typeof ke.setBackground=="function"||(ke.setBackground=E),ke._hasZeroHeight=ke._hasZeroHeight||_e.clientHeight===0,ke._hasZeroWidth=ke._hasZeroWidth||_e.clientWidth===0;var De=ke.scrollZoom,Pe=ke._scrollZoom={};if(De===!0)Pe.cartesian=1,Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1;else if(typeof De=="string"){var Ue=De.split("+");for(ze=0;ze<Ue.length;ze++)Pe[Ue[ze]]=1}else De!==!1&&(Pe.gl3d=1,Pe.geo=1,Pe.mapbox=1)}function I(_e,Ae){var Le,ze,Re=Ae+1,ve=[];for(Le=0;Le<_e.length;Le++)(ze=_e[Le])<0?ve.push(Re+ze):ve.push(ze);return ve}function D(_e,Ae,Le){var ze,Re;for(ze=0;ze<Ae.length;ze++){if((Re=Ae[ze])!==parseInt(Re,10))throw new Error("all values in "+Le+" must be integers");if(Re>=_e.data.length||Re<-_e.data.length)throw new Error(Le+" must be valid indices for gd.data.");if(Ae.indexOf(Re,ze+1)>-1||Re>=0&&Ae.indexOf(-_e.data.length+Re)>-1||Re<0&&Ae.indexOf(_e.data.length+Re)>-1)throw new Error("each index in "+Le+" must be unique.")}}function V(_e,Ae,Le){if(!Array.isArray(_e.data))throw new Error("gd.data must be an array.");if(Ae===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),D(_e,Ae,"currentIndices"),Le===void 0||Array.isArray(Le)||(Le=[Le]),Le!==void 0&&D(_e,Le,"newIndices"),Le!==void 0&&Ae.length!==Le.length)throw new Error("current and new indices must be of equal length.")}function z(_e,Ae,Le,ze,Re){(function($e,ot,st,mt){var _t=_.isPlainObject(mt);if(!Array.isArray($e.data))throw new Error("gd.data must be an array");if(!_.isPlainObject(ot))throw new Error("update must be a key:value object");if(st===void 0)throw new Error("indices must be an integer or array of integers");for(var yt in D($e,st,"indices"),ot){if(!Array.isArray(ot[yt])||ot[yt].length!==st.length)throw new Error("attribute "+yt+" must be an array of length equal to indices array length");if(_t&&(!(yt in mt)||!Array.isArray(mt[yt])||mt[yt].length!==ot[yt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(_e,Ae,Le,ze);for(var ve=function($e,ot,st,mt){var _t,yt,it,tt,Pt,Rt=_.isPlainObject(mt),Ft=[];for(var Ot in Array.isArray(st)||(st=[st]),st=I(st,$e.data.length-1),ot)for(var Xe=0;Xe<st.length;Xe++){if(_t=$e.data[st[Xe]],yt=(it=b(_t,Ot)).get(),tt=ot[Ot][Xe],!_.isArrayOrTypedArray(tt))throw new Error("attribute: "+Ot+" index: "+Xe+" must be an array");if(!_.isArrayOrTypedArray(yt))throw new Error("cannot extend missing or non-array attribute: "+Ot);if(yt.constructor!==tt.constructor)throw new Error("cannot extend array with an array of a different type: "+Ot);Pt=Rt?mt[Ot][Xe]:mt,k(Pt)||(Pt=-1),Ft.push({prop:it,target:yt,insert:tt,maxp:Math.floor(Pt)})}return Ft}(_e,Ae,Le,ze),ke={},Ee={},De=0;De<ve.length;De++){var Pe=ve[De].prop,Ue=ve[De].maxp,We=Re(ve[De].target,ve[De].insert,Ue);Pe.set(We[0]),Array.isArray(ke[Pe.astr])||(ke[Pe.astr]=[]),ke[Pe.astr].push(We[1]),Array.isArray(Ee[Pe.astr])||(Ee[Pe.astr]=[]),Ee[Pe.astr].push(ve[De].target.length)}return{update:ke,maxPoints:Ee}}function j(_e,Ae){var Le=new _e.constructor(_e.length+Ae.length);return Le.set(_e),Le.set(Ae,_e.length),Le}function X(_e,Ae,Le,ze){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var Re={};if(typeof Ae=="string")Re[Ae]=Le;else{if(!_.isPlainObject(Ae))return _.warn("Restyle fail.",Ae,Le,ze),Promise.reject();Re=_.extendFlat({},Ae),ze===void 0&&(ze=Le)}Object.keys(Re).length&&(_e.changed=!0);var ve=y.coerceTraceIndices(_e,ze),ke=ie(_e,Re,ve),Ee=ke.flags;Ee.calc&&(_e.calcdata=void 0),Ee.clearAxisTypes&&y.clearAxisTypes(_e,ve,{});var De=[];Ee.fullReplot?De.push(C._doPlot):(De.push(r.previousPromises),r.supplyDefaults(_e),Ee.markerSize&&(r.doCalcdata(_e),$(De)),Ee.style&&De.push(m.doTraceStyle),Ee.colorbars&&De.push(m.doColorBars),De.push(A)),De.push(r.rehover,r.redrag,r.reselect),s.add(_e,X,[_e,ke.undoit,ke.traces],X,[_e,ke.redoit,ke.traces]);var Pe=_.syncOrAsync(De,_e);return Pe&&Pe.then||(Pe=Promise.resolve()),Pe.then(function(){return _e.emit("plotly_restyle",ke.eventData),_e})}function F(_e){return _e===void 0?null:_e}function H(_e,Ae){return Ae?function(Le,ze,Re){var ve=b(Le,ze),ke=ve.set;return ve.set=function(Ee){W((Re||"")+ze,ve.get(),Ee,_e),ke(Ee)},ve}:b}function W(_e,Ae,Le,ze){if(Array.isArray(Ae)||Array.isArray(Le))for(var Re=Array.isArray(Ae)?Ae:[],ve=Array.isArray(Le)?Le:[],ke=Math.max(Re.length,ve.length),Ee=0;Ee<ke;Ee++)W(_e+"["+Ee+"]",Re[Ee],ve[Ee],ze);else if(_.isPlainObject(Ae)||_.isPlainObject(Le)){var De=_.isPlainObject(Ae)?Ae:{},Pe=_.isPlainObject(Le)?Le:{},Ue=_.extendFlat({},De,Pe);for(var We in Ue)W(_e+"."+We,De[We],Pe[We],ze)}else ze[_e]===void 0&&(ze[_e]=F(Ae))}function ie(_e,Ae,Le){var ze,Re=_e._fullLayout,ve=_e._fullData,ke=_e.data,Ee=Re._guiEditing,De=H(Re._preGUI,Ee),Pe=_.extendDeepAll({},Ae);te(Ae);var Ue,We=w.traceFlags(),$e={},ot={};function st(){return Le.map(function(){})}function mt(cn){var un=n.id2name(cn);Ue.indexOf(un)===-1&&Ue.push(un)}function _t(cn){return"LAYOUT"+cn+".autorange"}function yt(cn){return"LAYOUT"+cn+".range"}function it(cn){for(var un=cn;un<ve.length;un++)if(ve[un]._input===ke[cn])return ve[un]}function tt(cn,un,Xt){if(Array.isArray(cn))cn.forEach(function(fn){tt(fn,un,Xt)});else if(!(cn in Ae)&&!y.hasParent(Ae,cn)){var tn;if(cn.substr(0,6)==="LAYOUT")tn=De(_e.layout,cn.replace("LAYOUT",""));else{var kn=Le[Xt];tn=H(Re._tracePreGUI[it(kn)._fullInput.uid],Ee)(ke[kn],cn)}cn in ot||(ot[cn]=st()),ot[cn][Xt]===void 0&&(ot[cn][Xt]=F(tn.get())),un!==void 0&&tn.set(un)}}function Pt(cn){return function(un){return ve[un][cn]}}function Rt(cn){return function(un,Xt){return un===!1?ve[Le[Xt]][cn]:null}}for(var Ft in Ae){if(y.hasParent(Ae,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Ot,Xe,Je,Ve,Ke,ft,ut=Ae[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",ut=Array.isArray(ut)?ut.map(Rt(Ft)):ut===!1?Le.map(Pt(Ft)):null),$e[Ft]=ut,Ft.substr(0,6)!=="LAYOUT"){for(ot[Ft]=st(),ze=0;ze<Le.length;ze++)if(Ot=ke[Le[ze]],Xe=it(Le[ze]),Ve=(Je=H(Re._tracePreGUI[Xe._fullInput.uid],Ee)(Ot,Ft)).get(),(Ke=Array.isArray(ut)?ut[ze%ut.length]:ut)!==void 0){var xt=Je.parts[Je.parts.length-1],bt=Ft.substr(0,Ft.length-xt.length-1),qe=bt?bt+".":"",je=bt?b(Xe,bt).get():Xe;if((ft=i.getTraceValObject(Xe,Je.parts))&&ft.impliedEdits&&Ke!==null)for(var lt in ft.impliedEdits)tt(_.relativeAttr(Ft,lt),ft.impliedEdits[lt],ze);else if(xt!=="thicknessmode"&&xt!=="lenmode"||Ve===Ke||Ke!=="fraction"&&Ke!=="pixels"||!je){if(Ft==="type"&&(Ke==="pie"!=(Ve==="pie")||Ke==="funnelarea"!=(Ve==="funnelarea"))){var gt="x",dt="y";Ke!=="bar"&&Ve!=="bar"||Ot.orientation!=="h"||(gt="y",dt="x"),_.swapAttrs(Ot,["?","?src"],"labels",gt),_.swapAttrs(Ot,["d?","?0"],"label",gt),_.swapAttrs(Ot,["?","?src"],"values",dt),Ve==="pie"||Ve==="funnelarea"?(b(Ot,"marker.color").set(b(Ot,"marker.colors").get()),Re._pielayer.selectAll("g.trace").remove()):t.traceIs(Ot,"cartesian")&&b(Ot,"marker.colors").set(b(Ot,"marker.color").get())}}else{var at=Re._size,kt=je.orient,wt=kt==="top"||kt==="bottom";if(xt==="thicknessmode"){var Et=wt?at.h:at.w;tt(qe+"thickness",je.thickness*(Ke==="fraction"?1/Et:Et),ze)}else{var Tt=wt?at.w:at.h;tt(qe+"len",je.len*(Ke==="fraction"?1/Tt:Tt),ze)}}if(ot[Ft][ze]=F(Ve),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){Je.set(Ke);var At=Ot.x&&!Ot.y?"h":"v";if((Je.get()||At)===Xe.orientation)continue}else Ft==="orientationaxes"&&(Ot.orientation={v:"h",h:"v"}[Xe.orientation]);y.swapXYData(Ot),We.calc=We.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(Je.parts[0])!==-1?(y.manageArrayContainers(Je,Ke,ot),We.calc=!0):(ft?ft.arrayOk&&!t.traceIs(Xe,"regl")&&(_.isArrayOrTypedArray(Ke)||_.isArrayOrTypedArray(Ve))?We.calc=!0:w.update(We,ft):We.calc=!0,Je.set(Ke))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&n.swap(_e,Le),Ft==="orientationaxes"){var Nt=b(_e.layout,"hovermode"),Wt=Nt.get();Wt==="x"?Nt.set("y"):Wt==="y"?Nt.set("x"):Wt==="x unified"?Nt.set("y unified"):Wt==="y unified"&&Nt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(Ue=[],ze=0;ze<Le.length;ze++){var on=ke[Le[ze]];t.traceIs(on,"cartesian")&&(mt(on.xaxis||"x"),mt(on.yaxis||"y"))}tt(Ue.map(_t),!0,0),tt(Ue.map(yt),[0,1],0)}}else Je=De(_e.layout,Ft.replace("LAYOUT","")),ot[Ft]=[F(Je.get())],Je.set(Array.isArray(ut)?ut[0]:ut),We.calc=!0}return(We.calc||We.plot)&&(We.fullReplot=!0),{flags:We,undoit:ot,redoit:$e,traces:Le,eventData:_.extendDeepNoArrays([],[Pe,Le])}}function te(_e){var Ae,Le,ze,Re=_.counterRegex("axis",".title",!1,!1),ve=/colorbar\.title$/,ke=Object.keys(_e);for(Ae=0;Ae<ke.length;Ae++)Le=ke[Ae],ze=_e[Le],Le!=="title"&&!Re.test(Le)&&!ve.test(Le)||typeof ze!="string"&&typeof ze!="number"?Le.indexOf("titlefont")>-1&&Le.indexOf("grouptitlefont")===-1?Ee(Le,Le.replace("titlefont","title.font")):Le.indexOf("titleposition")>-1?Ee(Le,Le.replace("titleposition","title.position")):Le.indexOf("titleside")>-1?Ee(Le,Le.replace("titleside","title.side")):Le.indexOf("titleoffset")>-1&&Ee(Le,Le.replace("titleoffset","title.offset")):Ee(Le,Le.replace("title","title.text"));function Ee(De,Pe){_e[Pe]=_e[De],delete _e[De]}}function Q(_e,Ae,Le){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var ze={};if(typeof Ae=="string")ze[Ae]=Le;else{if(!_.isPlainObject(Ae))return _.warn("Relayout fail.",Ae,Le),Promise.reject();ze=_.extendFlat({},Ae)}Object.keys(ze).length&&(_e.changed=!0);var Re=ue(_e,ze),ve=Re.flags;ve.calc&&(_e.calcdata=void 0);var ke=[r.previousPromises];ve.layoutReplot?ke.push(m.layoutReplot):Object.keys(ze).length&&(ne(_e,ve,Re)||r.supplyDefaults(_e),ve.legend&&ke.push(m.doLegend),ve.layoutstyle&&ke.push(m.layoutStyles),ve.axrange&&$(ke,Re.rangesAltered),ve.ticks&&ke.push(m.doTicksRelayout),ve.modebar&&ke.push(m.doModeBar),ve.camera&&ke.push(m.doCamera),ve.colorbars&&ke.push(m.doColorBars),ke.push(A)),ke.push(r.rehover,r.redrag,r.reselect),s.add(_e,Q,[_e,Re.undoit],Q,[_e,Re.redoit]);var Ee=_.syncOrAsync(ke,_e);return Ee&&Ee.then||(Ee=Promise.resolve(_e)),Ee.then(function(){return _e.emit("plotly_relayout",Re.eventData),_e})}function ne(_e,Ae,Le){var ze,Re,ve=_e._fullLayout;if(!Ae.axrange)return!1;for(var ke in Ae)if(ke!=="axrange"&&Ae[ke])return!1;var Ee=function(ot,st){return _.coerce(ze,Re,l,ot,st)},De={};for(var Pe in Le.rangesAltered){var Ue=n.id2name(Pe);if(ze=_e.layout[Ue],Re=ve[Ue],a(ze,Re,Ee,De),Re._matchGroup){for(var We in Re._matchGroup)if(We!==Pe){var $e=ve[n.id2name(We)];$e.autorange=Re.autorange,$e.range=Re.range.slice(),$e._input.range=Re.range.slice()}}}return!0}function $(_e,Ae){var Le=Ae?function(ze){var Re=[];for(var ve in Ae){var ke=n.getFromId(ze,ve);if(Re.push(ve),(ke.ticklabelposition||"").indexOf("inside")!==-1&&ke._anchorAxis&&Re.push(ke._anchorAxis._id),ke._matchGroup)for(var Ee in ke._matchGroup)Ae[Ee]||Re.push(Ee)}return n.draw(ze,Re,{skipTitle:!0})}:function(ze){return n.draw(ze,"redraw")};_e.push(p,m.doAutoRangeAndConstraints,Le,m.drawData,m.finalDraw)}var J=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,re=/^[xyz]axis[0-9]*\.autorange$/,se=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ue(_e,Ae){var Le,ze,Re,ve=_e.layout,ke=_e._fullLayout,Ee=ke._guiEditing,De=H(ke._preGUI,Ee),Pe=Object.keys(Ae),Ue=n.list(_e),We=_.extendDeepAll({},Ae),$e={};for(te(Ae),Pe=Object.keys(Ae),ze=0;ze<Pe.length;ze++)if(Pe[ze].indexOf("allaxes")===0){for(Re=0;Re<Ue.length;Re++){var ot=Ue[Re]._id.substr(1),st=ot.indexOf("scene")!==-1?ot+".":"",mt=Pe[ze].replace("allaxes",st+Ue[Re]._name);Ae[mt]||(Ae[mt]=Ae[Pe[ze]])}delete Ae[Pe[ze]]}var _t=w.layoutFlags(),yt={},it={};function tt(fn,Qt){if(Array.isArray(fn))fn.forEach(function(nn){tt(nn,Qt)});else if(!(fn in Ae)&&!y.hasParent(Ae,fn)){var pn=De(ve,fn);fn in it||(it[fn]=F(pn.get())),Qt!==void 0&&pn.set(Qt)}}var Pt,Rt={};function Ft(fn){var Qt=n.name2id(fn.split(".")[0]);return Rt[Qt]=1,Qt}for(var Ot in Ae){if(y.hasParent(Ae,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");for(var Xe=De(ve,Ot),Je=Ae[Ot],Ve=Xe.parts.length-1;Ve>0&&typeof Xe.parts[Ve]!="string";)Ve--;var Ke=Xe.parts[Ve],ft=Xe.parts[Ve-1]+"."+Ke,ut=Xe.parts.slice(0,Ve).join("."),xt=b(_e.layout,ut).get(),bt=b(ke,ut).get(),qe=Xe.get();if(Je!==void 0){yt[Ot]=Je,it[Ot]=Ke==="reverse"?Je:F(qe);var je=i.getLayoutValObject(ke,Xe.parts);if(je&&je.impliedEdits&&Je!==null)for(var lt in je.impliedEdits)tt(_.relativeAttr(Ot,lt),je.impliedEdits[lt]);if(["width","height"].indexOf(Ot)!==-1)if(Je){tt("autosize",null);var gt=Ot==="height"?"width":"height";tt(gt,ke[gt])}else ke[Ot]=_e._initialAutoSize[Ot];else if(Ot==="autosize")tt("width",Je?null:ke.width),tt("height",Je?null:ke.height);else if(ft.match(J))Ft(ft),b(ke,ut+"._inputRange").set(null);else if(ft.match(re)){Ft(ft),b(ke,ut+"._inputRange").set(null);var dt=b(ke,ut).get();dt._inputDomain&&(dt._input.domain=dt._inputDomain.slice())}else ft.match(se)&&b(ke,ut+"._inputDomain").set(null);if(Ke==="type"){Pt=xt;var at=bt.type==="linear"&&Je==="log",kt=bt.type==="log"&&Je==="linear";if(at||kt){if(Pt&&Pt.range)if(bt.autorange)at&&(Pt.range=Pt.range[1]>Pt.range[0]?[1,2]:[2,1]);else{var wt=Pt.range[0],Et=Pt.range[1];at?(wt<=0&&Et<=0&&tt(ut+".autorange",!0),wt<=0?wt=Et/1e6:Et<=0&&(Et=wt/1e6),tt(ut+".range[0]",Math.log(wt)/Math.LN10),tt(ut+".range[1]",Math.log(Et)/Math.LN10)):(tt(ut+".range[0]",Math.pow(10,wt)),tt(ut+".range[1]",Math.pow(10,Et)))}else tt(ut+".autorange",!0);Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[Xe.parts[0]]&&Xe.parts[1]==="radialaxis"&&delete ke[Xe.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(_e,bt,Je,tt),t.getComponentMethod("images","convertCoords")(_e,bt,Je,tt)}else tt(ut+".autorange",!0),tt(ut+".range",null);b(ke,ut+"._inputRange").set(null)}else if(Ke.match(d)){var Tt=b(ke,Ot).get(),At=(Je||{}).type;At&&At!=="-"||(At="linear"),t.getComponentMethod("annotations","convertCoords")(_e,Tt,At,tt),t.getComponentMethod("images","convertCoords")(_e,Tt,At,tt)}var Nt=g.containerArrayMatch(Ot);if(Nt){Le=Nt.array,ze=Nt.index;var Wt=Nt.property,on=je||{editType:"calc"};ze!==""&&Wt===""&&(g.isAddVal(Je)?it[Ot]=null:g.isRemoveVal(Je)?it[Ot]=(b(ve,Le).get()||[])[ze]:_.warn("unrecognized full object value",Ae)),w.update(_t,on),$e[Le]||($e[Le]={});var cn=$e[Le][ze];cn||(cn=$e[Le][ze]={}),cn[Wt]=Je,delete Ae[Ot]}else Ke==="reverse"?(xt.range?xt.range.reverse():(tt(ut+".autorange",!0),xt.range=[1,0]),bt.autorange?_t.calc=!0:_t.plot=!0):(Ot==="dragmode"&&(Je===!1&&qe!==!1||Je!==!1&&qe===!1)||ke._has("scatter-like")&&ke._has("regl")&&Ot==="dragmode"&&(Je==="lasso"||Je==="select")&&qe!=="lasso"&&qe!=="select"||ke._has("gl2d")?_t.plot=!0:je?w.update(_t,je):_t.calc=!0,Xe.set(Je))}}for(Le in $e)g.applyContainerArrayChanges(_e,De(ve,Le),$e[Le],_t,De)||(_t.plot=!0);for(var un in Rt){var Xt=(Pt=n.getFromId(_e,un))&&Pt._constraintGroup;if(Xt)for(var tn in _t.calc=!0,Xt)Rt[tn]||(n.getFromId(_e,tn)._constraintShrinkable=!0)}(he(_e)||Ae.height||Ae.width)&&(_t.plot=!0);var kn=ke.shapes;for(ze=0;ze<kn.length;ze++)if(kn[ze].showlegend){_t.calc=!0;break}return(_t.plot||_t.calc)&&(_t.layoutReplot=!0),{flags:_t,rangesAltered:Rt,undoit:it,redoit:yt,eventData:We}}function he(_e){var Ae=_e._fullLayout,Le=Ae.width,ze=Ae.height;return _e.layout.autosize&&r.plotAutoSize(_e,_e.layout,Ae),Ae.width!==Le||Ae.height!==ze}function pe(_e,Ae,Le,ze){_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e),_.isPlainObject(Ae)||(Ae={}),_.isPlainObject(Le)||(Le={}),Object.keys(Ae).length&&(_e.changed=!0),Object.keys(Le).length&&(_e.changed=!0);var Re=y.coerceTraceIndices(_e,ze),ve=ie(_e,_.extendFlat({},Ae),Re),ke=ve.flags,Ee=ue(_e,_.extendFlat({},Le)),De=Ee.flags;(ke.calc||De.calc)&&(_e.calcdata=void 0),ke.clearAxisTypes&&y.clearAxisTypes(_e,Re,Le);var Pe=[];De.layoutReplot?Pe.push(m.layoutReplot):ke.fullReplot?Pe.push(C._doPlot):(Pe.push(r.previousPromises),ne(_e,De,Ee)||r.supplyDefaults(_e),ke.style&&Pe.push(m.doTraceStyle),(ke.colorbars||De.colorbars)&&Pe.push(m.doColorBars),De.legend&&Pe.push(m.doLegend),De.layoutstyle&&Pe.push(m.layoutStyles),De.axrange&&$(Pe,Ee.rangesAltered),De.ticks&&Pe.push(m.doTicksRelayout),De.modebar&&Pe.push(m.doModeBar),De.camera&&Pe.push(m.doCamera),Pe.push(A)),Pe.push(r.rehover,r.redrag,r.reselect),s.add(_e,pe,[_e,ve.undoit,Ee.undoit,ve.traces],pe,[_e,ve.redoit,Ee.redoit,ve.traces]);var Ue=_.syncOrAsync(Pe,_e);return Ue&&Ue.then||(Ue=Promise.resolve(_e)),Ue.then(function(){return _e.emit("plotly_update",{data:ve.eventData,layout:Ee.eventData}),_e})}function ge(_e){return function(Ae){Ae._fullLayout._guiEditing=!0;var Le=_e.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,Le}}var ye=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Te(_e,Ae){for(var Le=0;Le<Ae.length;Le++){var ze=Ae[Le],Re=_e.match(ze.pattern);if(Re){var ve=Re[1]||"";return{head:ve,tail:_e.substr(ve.length+1),attr:ze.attr}}}}function Se(_e,Ae){var Le=b(Ae,_e).get();if(Le!==void 0)return Le;var ze=_e.split(".");for(ze.pop();ze.length>1;)if(ze.pop(),(Le=b(Ae,ze.join(".")+".uirevision").get())!==void 0)return Le;return Ae.uirevision}function Fe(_e,Ae){for(var Le=0;Le<Ae.length;Le++)if(Ae[Le]._fullInput.uid===_e)return Le;return-1}function xe(_e,Ae,Le){for(var ze=0;ze<Ae.length;ze++)if(Ae[ze].uid===_e)return ze;return!Ae[Le]||Ae[Le].uid?-1:Le}function le(_e,Ae){var Le=_.isPlainObject(_e),ze=Array.isArray(_e);return Le||ze?(Le&&_.isPlainObject(Ae)||ze&&Array.isArray(Ae))&&JSON.stringify(_e)===JSON.stringify(Ae):_e===Ae}function oe(_e,Ae,Le,ze){var Re,ve,ke,Ee=ze.getValObject,De=ze.flags,Pe=ze.immutable,Ue=ze.inArray,We=ze.arrayIndex;function $e(){var xt=Re.editType;Ue&&xt.indexOf("arraydraw")!==-1?_.pushUnique(De.arrays[Ue],We):(w.update(De,Re),xt!=="none"&&De.nChanges++,ze.transition&&Re.anim&&De.nChangesAnim++,(J.test(ke)||re.test(ke))&&(De.rangesAltered[Le[0]]=1),se.test(ke)&&b(Ae,"_inputDomain").set(null),ve==="datarevision"&&(De.newDataRevision=1))}function ot(xt){return xt.valType==="data_array"||xt.arrayOk}for(ve in _e){if(De.calc&&!ze.transition)return;var st=_e[ve],mt=Ae[ve],_t=Le.concat(ve);if(ke=_t.join("."),ve.charAt(0)!=="_"&&typeof st!="function"&&st!==mt){if((ve==="tick0"||ve==="dtick")&&Le[0]!=="geo"){var yt=Ae.tickmode;if(yt==="auto"||yt==="array"||!yt)continue}if((ve!=="range"||!Ae.autorange)&&(ve!=="zmin"&&ve!=="zmax"||Ae.type!=="contourcarpet")&&(Re=Ee(_t))&&(!Re._compareAsJSON||JSON.stringify(st)!==JSON.stringify(mt))){var it,tt=Re.valType,Pt=ot(Re),Rt=Array.isArray(st),Ft=Array.isArray(mt);if(Rt&&Ft){var Ot="_input_"+ve,Xe=_e[Ot],Je=Ae[Ot];if(Array.isArray(Xe)&&Xe===Je)continue}if(mt===void 0)Pt&&Rt?De.calc=!0:$e();else if(Re._isLinkedToArray){var Ve=[],Ke=!1;Ue||(De.arrays[ve]=Ve);var ft=Math.min(st.length,mt.length),ut=Math.max(st.length,mt.length);if(ft!==ut){if(Re.editType!=="arraydraw"){$e();continue}Ke=!0}for(it=0;it<ft;it++)oe(st[it],mt[it],_t.concat(it),_.extendFlat({inArray:ve,arrayIndex:it},ze));if(Ke)for(it=ft;it<ut;it++)Ve.push(it)}else!tt&&_.isPlainObject(st)?oe(st,mt,_t,ze):Pt?Rt&&Ft?(Pe&&(De.calc=!0),(Pe||ze.newDataRevision)&&$e()):Rt!==Ft?De.calc=!0:$e():Rt&&Ft&&st.length===mt.length&&String(st)===String(mt)||$e()}}}for(ve in Ae)if(!(ve in _e)&&ve.charAt(0)!=="_"&&typeof Ae[ve]!="function"){if(ot(Re=Ee(Le.concat(ve)))&&Array.isArray(Ae[ve]))return void(De.calc=!0);$e()}}function de(_e,Ae){var Le;for(Le in _e)if(Le.charAt(0)!=="_"){var ze=_e[Le],Re=Ae[Le];if(ze!==Re)if(_.isPlainObject(ze)&&_.isPlainObject(Re)){if(de(ze,Re))return!0}else{if(!Array.isArray(ze)||!Array.isArray(Re)||ze.length!==Re.length)return!0;for(var ve=0;ve<ze.length;ve++)if(ze[ve]!==Re[ve]&&(!_.isPlainObject(ze[ve])||!_.isPlainObject(Re[ve])||de(ze[ve],Re[ve])))return!0}}}function Ce(_e){var Ae=_e._fullLayout,Le=_e.getBoundingClientRect();if(!_.equalDomRects(Le,Ae._lastBBox)){var ze=Ae._invTransform=_.inverseTransformMatrix(_.getFullTransformMatrix(_e));Ae._invScaleX=Math.sqrt(ze[0][0]*ze[0][0]+ze[0][1]*ze[0][1]+ze[0][2]*ze[0][2]),Ae._invScaleY=Math.sqrt(ze[1][0]*ze[1][0]+ze[1][1]*ze[1][1]+ze[1][2]*ze[1][2]),Ae._lastBBox=Le}}C.animate=function(_e,Ae,Le){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ze=_e._transitionData;ze._frameQueue||(ze._frameQueue=[]);var Re=(Le=r.supplyAnimationDefaults(Le)).transition,ve=Le.frame;function ke(Pe){return Array.isArray(Re)?Pe>=Re.length?Re[0]:Re[Pe]:Re}function Ee(Pe){return Array.isArray(ve)?Pe>=ve.length?ve[0]:ve[Pe]:ve}function De(Pe,Ue){var We=0;return function(){if(Pe&&++We===Ue)return Pe()}}return ze._frameWaitingCnt===void 0&&(ze._frameWaitingCnt=0),new Promise(function(Pe,Ue){function We(){_e.emit("plotly_animating"),ze._lastFrameAt=-1/0,ze._timeToNext=0,ze._runningTransitions=0,ze._currentFrame=null;var Ot=function(){ze._animationRaf=window.requestAnimationFrame(Ot),Date.now()-ze._lastFrameAt>ze._timeToNext&&function(){ze._currentFrame&&ze._currentFrame.onComplete&&ze._currentFrame.onComplete();var Xe=ze._currentFrame=ze._frameQueue.shift();if(Xe){var Je=Xe.name?Xe.name.toString():null;_e._fullLayout._currentFrame=Je,ze._lastFrameAt=Date.now(),ze._timeToNext=Xe.frameOpts.duration,r.transition(_e,Xe.frame.data,Xe.frame.layout,y.coerceTraceIndices(_e,Xe.frame.traces),Xe.frameOpts,Xe.transitionOpts).then(function(){Xe.onComplete&&Xe.onComplete()}),_e.emit("plotly_animatingframe",{name:Je,frame:Xe.frame,animation:{frame:Xe.frameOpts,transition:Xe.transitionOpts}})}else _e.emit("plotly_animated"),window.cancelAnimationFrame(ze._animationRaf),ze._animationRaf=null}()};Ot()}var $e,ot,st=0;function mt(Ot){return Array.isArray(Re)?st>=Re.length?Ot.transitionOpts=Re[st]:Ot.transitionOpts=Re[0]:Ot.transitionOpts=Re,st++,Ot}var _t=[],yt=Ae==null,it=Array.isArray(Ae);if(yt||it||!_.isPlainObject(Ae)){if(yt||["string","number"].indexOf(typeof Ae)!==-1)for($e=0;$e<ze._frames.length;$e++)(ot=ze._frames[$e])&&(yt||String(ot.group)===String(Ae))&&_t.push({type:"byname",name:String(ot.name),data:mt({name:ot.name})});else if(it)for($e=0;$e<Ae.length;$e++){var tt=Ae[$e];["number","string"].indexOf(typeof tt)!==-1?(tt=String(tt),_t.push({type:"byname",name:tt,data:mt({name:tt})})):_.isPlainObject(tt)&&_t.push({type:"object",data:mt(_.extendFlat({},tt))})}}else _t.push({type:"object",data:mt(_.extendFlat({},Ae))});for($e=0;$e<_t.length;$e++)if((ot=_t[$e]).type==="byname"&&!ze._frameHash[ot.data.name])return _.warn('animate failure: frame not found: "'+ot.data.name+'"'),void Ue();["next","immediate"].indexOf(Le.mode)!==-1&&function(){if(ze._frameQueue.length!==0){for(;ze._frameQueue.length;){var Ot=ze._frameQueue.pop();Ot.onInterrupt&&Ot.onInterrupt()}_e.emit("plotly_animationinterrupted",[])}}(),Le.direction==="reverse"&&_t.reverse();var Pt=_e._fullLayout._currentFrame;if(Pt&&Le.fromcurrent){var Rt=-1;for($e=0;$e<_t.length;$e++)if((ot=_t[$e]).type==="byname"&&ot.name===Pt){Rt=$e;break}if(Rt>0&&Rt<_t.length-1){var Ft=[];for($e=0;$e<_t.length;$e++)ot=_t[$e],(_t[$e].type!=="byname"||$e>Rt)&&Ft.push(ot);_t=Ft}}_t.length>0?function(Ot){if(Ot.length!==0){for(var Xe=0;Xe<Ot.length;Xe++){var Je;Je=Ot[Xe].type==="byname"?r.computeFrame(_e,Ot[Xe].name):Ot[Xe].data;var Ve=Ee(Xe),Ke=ke(Xe);Ke.duration=Math.min(Ke.duration,Ve.duration);var ft={frame:Je,name:Ot[Xe].name,frameOpts:Ve,transitionOpts:Ke};Xe===Ot.length-1&&(ft.onComplete=De(Pe,2),ft.onInterrupt=Ue),ze._frameQueue.push(ft)}Le.mode==="immediate"&&(ze._lastFrameAt=-1/0),ze._animationRaf||We()}}(_t):(_e.emit("plotly_animated"),Pe())})},C.addFrames=function(_e,Ae,Le){if(_e=_.getGraphDiv(_e),Ae==null)return Promise.resolve();if(!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ze,Re,ve,ke,Ee=_e._transitionData._frames,De=_e._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var Pe=Ee.length+2*Ae.length,Ue=[],We={};for(ze=Ae.length-1;ze>=0;ze--)if(_.isPlainObject(Ae[ze])){var $e=Ae[ze].name,ot=(De[$e]||We[$e]||{}).name,st=Ae[ze].name,mt=De[ot]||We[ot];ot&&st&&typeof st=="number"&&mt&&S<5&&(S++,_.warn('addFrames: overwriting frame "'+(De[ot]||We[ot]).name+'" with a frame whose name of type "number" also equates to "'+ot+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&_.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),We[$e]={name:$e},Ue.push({frame:r.supplyFrameDefaults(Ae[ze]),index:Le&&Le[ze]!==void 0&&Le[ze]!==null?Le[ze]:Pe+ze})}Ue.sort(function(Ot,Xe){return Ot.index>Xe.index?-1:Ot.index<Xe.index?1:0});var _t=[],yt=[],it=Ee.length;for(ze=Ue.length-1;ze>=0;ze--){if(typeof(Re=Ue[ze].frame).name=="number"&&_.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Re.name)for(;De[Re.name="frame "+_e._transitionData._counter++];);if(De[Re.name]){for(ve=0;ve<Ee.length&&(Ee[ve]||{}).name!==Re.name;ve++);_t.push({type:"replace",index:ve,value:Re}),yt.unshift({type:"replace",index:ve,value:Ee[ve]})}else ke=Math.max(0,Math.min(Ue[ze].index,it)),_t.push({type:"insert",index:ke,value:Re}),yt.unshift({type:"delete",index:ke}),it++}var tt=r.modifyFrames,Pt=r.modifyFrames,Rt=[_e,yt],Ft=[_e,_t];return s&&s.add(_e,tt,Rt,Pt,Ft),r.modifyFrames(_e,_t)},C.deleteFrames=function(_e,Ae){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);var Le,ze,Re=_e._transitionData._frames,ve=[],ke=[];if(!Ae)for(Ae=[],Le=0;Le<Re.length;Le++)Ae.push(Le);for((Ae=Ae.slice()).sort(),Le=Ae.length-1;Le>=0;Le--)ze=Ae[Le],ve.push({type:"delete",index:ze}),ke.unshift({type:"insert",index:ze,value:Re[ze]});var Ee=r.modifyFrames,De=r.modifyFrames,Pe=[_e,ke],Ue=[_e,ve];return s&&s.add(_e,Ee,Pe,De,Ue),r.modifyFrames(_e,ve)},C.addTraces=function _e(Ae,Le,ze){Ae=_.getGraphDiv(Ae);var Re,ve,ke=[],Ee=C.deleteTraces,De=_e,Pe=[Ae,ke],Ue=[Ae,Le];for(function(We,$e,ot){var st,mt;if(!Array.isArray(We.data))throw new Error("gd.data must be an array.");if($e===void 0)throw new Error("traces must be defined.");for(Array.isArray($e)||($e=[$e]),st=0;st<$e.length;st++)if(typeof(mt=$e[st])!="object"||Array.isArray(mt)||mt===null)throw new Error("all values in traces array must be non-array objects");if(ot===void 0||Array.isArray(ot)||(ot=[ot]),ot!==void 0&&ot.length!==$e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ae,Le,ze),Array.isArray(Le)||(Le=[Le]),Le=Le.map(function(We){return _.extendFlat({},We)}),y.cleanData(Le),Re=0;Re<Le.length;Re++)Ae.data.push(Le[Re]);for(Re=0;Re<Le.length;Re++)ke.push(-Le.length+Re);if(ze===void 0)return ve=C.redraw(Ae),s.add(Ae,Ee,Pe,De,Ue),ve;Array.isArray(ze)||(ze=[ze]);try{V(Ae,ke,ze)}catch(We){throw Ae.data.splice(Ae.data.length-Le.length,Le.length),We}return s.startSequence(Ae),s.add(Ae,Ee,Pe,De,Ue),ve=C.moveTraces(Ae,ke,ze),s.stopSequence(Ae),ve},C.deleteTraces=function _e(Ae,Le){Ae=_.getGraphDiv(Ae);var ze,Re,ve=[],ke=C.addTraces,Ee=_e,De=[Ae,ve,Le],Pe=[Ae,Le];if(Le===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Le)||(Le=[Le]),D(Ae,Le,"indices"),(Le=I(Le,Ae.data.length-1)).sort(_.sorterDes),ze=0;ze<Le.length;ze+=1)Re=Ae.data.splice(Le[ze],1)[0],ve.push(Re);var Ue=C.redraw(Ae);return s.add(Ae,ke,De,Ee,Pe),Ue},C.extendTraces=function _e(Ae,Le,ze,Re){var ve=z(Ae=_.getGraphDiv(Ae),Le,ze,Re,function(De,Pe,Ue){var We,$e;if(_.isTypedArray(De))if(Ue<0){var ot=new De.constructor(0),st=j(De,Pe);Ue<0?(We=st,$e=ot):(We=ot,$e=st)}else if(We=new De.constructor(Ue),$e=new De.constructor(De.length+Pe.length-Ue),Ue===Pe.length)We.set(Pe),$e.set(De);else if(Ue<Pe.length){var mt=Pe.length-Ue;We.set(Pe.subarray(mt)),$e.set(De),$e.set(Pe.subarray(0,mt),De.length)}else{var _t=Ue-Pe.length,yt=De.length-_t;We.set(De.subarray(yt)),We.set(Pe,_t),$e.set(De.subarray(0,yt))}else We=De.concat(Pe),$e=Ue>=0&&Ue<We.length?We.splice(0,We.length-Ue):[];return[We,$e]}),ke=C.redraw(Ae),Ee=[Ae,ve.update,ze,ve.maxPoints];return s.add(Ae,C.prependTraces,Ee,_e,arguments),ke},C.moveTraces=function _e(Ae,Le,ze){var Re,ve=[],ke=[],Ee=_e,De=_e,Pe=[Ae=_.getGraphDiv(Ae),ze,Le],Ue=[Ae,Le,ze];if(V(Ae,Le,ze),Le=Array.isArray(Le)?Le:[Le],ze===void 0)for(ze=[],Re=0;Re<Le.length;Re++)ze.push(-Le.length+Re);for(ze=Array.isArray(ze)?ze:[ze],Le=I(Le,Ae.data.length-1),ze=I(ze,Ae.data.length-1),Re=0;Re<Ae.data.length;Re++)Le.indexOf(Re)===-1&&ve.push(Ae.data[Re]);for(Re=0;Re<Le.length;Re++)ke.push({newIndex:ze[Re],trace:Ae.data[Le[Re]]});for(ke.sort(function($e,ot){return $e.newIndex-ot.newIndex}),Re=0;Re<ke.length;Re+=1)ve.splice(ke[Re].newIndex,0,ke[Re].trace);Ae.data=ve;var We=C.redraw(Ae);return s.add(Ae,Ee,Pe,De,Ue),We},C.prependTraces=function _e(Ae,Le,ze,Re){var ve=z(Ae=_.getGraphDiv(Ae),Le,ze,Re,function(De,Pe,Ue){var We,$e;if(_.isTypedArray(De))if(Ue<=0){var ot=new De.constructor(0),st=j(Pe,De);Ue<0?(We=st,$e=ot):(We=ot,$e=st)}else if(We=new De.constructor(Ue),$e=new De.constructor(De.length+Pe.length-Ue),Ue===Pe.length)We.set(Pe),$e.set(De);else if(Ue<Pe.length){var mt=Pe.length-Ue;We.set(Pe.subarray(0,mt)),$e.set(Pe.subarray(mt)),$e.set(De,mt)}else{var _t=Ue-Pe.length;We.set(Pe),We.set(De.subarray(0,_t),Pe.length),$e.set(De.subarray(_t))}else We=Pe.concat(De),$e=Ue>=0&&Ue<We.length?We.splice(Ue,We.length):[];return[We,$e]}),ke=C.redraw(Ae),Ee=[Ae,ve.update,ze,ve.maxPoints];return s.add(Ae,C.extendTraces,Ee,_e,arguments),ke},C.newPlot=function(_e,Ae,Le,ze){return _e=_.getGraphDiv(_e),r.cleanPlot([],{},_e._fullData||[],_e._fullLayout||{}),r.purge(_e),C._doPlot(_e,Ae,Le,ze)},C._doPlot=function(_e,Ae,Le,ze){var Re;if(_e=_.getGraphDiv(_e),f.init(_e),_.isPlainObject(Ae)){var ve=Ae;Ae=ve.data,Le=ve.layout,ze=ve.config,Re=ve.frames}if(f.triggerHandler(_e,"plotly_beforeplot",[Ae,Le,ze])===!1)return Promise.reject();Ae||Le||_.isPlotDiv(_e)||_.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",_e),O(_e,ze),Le||(Le={}),T.select(_e).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(_e._promises)||(_e._promises=[]);var ke=(_e.data||[]).length===0&&Array.isArray(Ae);Array.isArray(Ae)&&(y.cleanData(Ae),ke?_e.data=Ae:_e.data.push.apply(_e.data,Ae),_e.empty=!1),_e.layout&&!ke||(_e.layout=y.cleanLayout(Le)),r.supplyDefaults(_e);var Ee=_e._fullLayout,De=Ee._has("cartesian");Ee._replotting=!0,(ke||Ee._shouldCreateBgLayer)&&(function(yt){var it=T.select(yt),tt=yt._fullLayout;if(tt._calcInverseTransform=Ce,tt._calcInverseTransform(yt),tt._container=it.selectAll(".plot-container").data([0]),tt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),tt._paperdiv=tt._container.selectAll(".svg-container").data([0]),tt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),tt._glcontainer=tt._paperdiv.selectAll(".gl-container").data([{}]),tt._glcontainer.enter().append("div").classed("gl-container",!0),tt._paperdiv.selectAll(".main-svg").remove(),tt._paperdiv.select(".modebar-container").remove(),tt._paper=tt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),tt._toppaper=tt._paperdiv.append("svg").classed("main-svg",!0),tt._modebardiv=tt._paperdiv.append("div"),delete tt._modeBar,tt._hoverpaper=tt._paperdiv.append("svg").classed("main-svg",!0),!tt._uid){var Pt={};T.selectAll("defs").each(function(){this.id&&(Pt[this.id.split("-")[1]]=1)}),tt._uid=_.randstr(Pt)}tt._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),tt._defs=tt._paper.append("defs").attr("id","defs-"+tt._uid),tt._clips=tt._defs.append("g").classed("clips",!0),tt._topdefs=tt._toppaper.append("defs").attr("id","topdefs-"+tt._uid),tt._topclips=tt._topdefs.append("g").classed("clips",!0),tt._bgLayer=tt._paper.append("g").classed("bglayer",!0),tt._draggers=tt._paper.append("g").classed("draglayer",!0);var Rt=tt._paper.append("g").classed("layer-below",!0);tt._imageLowerLayer=Rt.append("g").classed("imagelayer",!0),tt._shapeLowerLayer=Rt.append("g").classed("shapelayer",!0),tt._cartesianlayer=tt._paper.append("g").classed("cartesianlayer",!0),tt._polarlayer=tt._paper.append("g").classed("polarlayer",!0),tt._smithlayer=tt._paper.append("g").classed("smithlayer",!0),tt._ternarylayer=tt._paper.append("g").classed("ternarylayer",!0),tt._geolayer=tt._paper.append("g").classed("geolayer",!0),tt._funnelarealayer=tt._paper.append("g").classed("funnelarealayer",!0),tt._pielayer=tt._paper.append("g").classed("pielayer",!0),tt._iciclelayer=tt._paper.append("g").classed("iciclelayer",!0),tt._treemaplayer=tt._paper.append("g").classed("treemaplayer",!0),tt._sunburstlayer=tt._paper.append("g").classed("sunburstlayer",!0),tt._indicatorlayer=tt._toppaper.append("g").classed("indicatorlayer",!0),tt._glimages=tt._paper.append("g").classed("glimages",!0);var Ft=tt._toppaper.append("g").classed("layer-above",!0);tt._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),tt._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),tt._selectionLayer=tt._toppaper.append("g").classed("selectionlayer",!0),tt._infolayer=tt._toppaper.append("g").classed("infolayer",!0),tt._menulayer=tt._toppaper.append("g").classed("menulayer",!0),tt._zoomlayer=tt._toppaper.append("g").classed("zoomlayer",!0),tt._hoverlayer=tt._hoverpaper.append("g").classed("hoverlayer",!0),tt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),yt.emit("plotly_framework")}(_e),Ee._shouldCreateBgLayer&&delete Ee._shouldCreateBgLayer),u.initGradients(_e),u.initPatterns(_e),ke&&n.saveShowSpikeInitial(_e);var Pe=!_e.calcdata||_e.calcdata.length!==(_e._fullData||[]).length;Pe&&r.doCalcdata(_e);for(var Ue=0;Ue<_e.calcdata.length;Ue++)_e.calcdata[Ue][0].trace=_e._fullData[Ue];_e._context.responsive?_e._responsiveChartHandler||(_e._responsiveChartHandler=function(){_.isHidden(_e)||r.resize(_e)},window.addEventListener("resize",_e._responsiveChartHandler)):_.clearResponsive(_e);var We=_.extendFlat({},Ee._size),$e=0;function ot(){if(r.clearAutoMarginIds(_e),m.drawMarginPushers(_e),n.allowAutoMargin(_e),_e._fullLayout.title.text&&_e._fullLayout.title.automargin&&r.allowAutoMargin(_e,"title.automargin"),Ee._has("pie"))for(var yt=_e._fullData,it=0;it<yt.length;it++){var tt=yt[it];tt.type==="pie"&&tt.automargin&&r.allowAutoMargin(_e,"pie."+tt.uid+".automargin")}return r.doAutoMargin(_e),r.previousPromises(_e)}function st(){_e._transitioning||(m.doAutoRangeAndConstraints(_e),ke&&n.saveRangeInitial(_e),t.getComponentMethod("rangeslider","calcAutorange")(_e))}var mt=[r.previousPromises,function(){if(Re)return C.addFrames(_e,Re)},function yt(){for(var it=Ee._basePlotModules,tt=0;tt<it.length;tt++)it[tt].drawFramework&&it[tt].drawFramework(_e);!Ee._glcanvas&&Ee._has("gl")&&(Ee._glcanvas=Ee._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ot){return Ot.key}),Ee._glcanvas.enter().append("canvas").attr("class",function(Ot){return"gl-canvas gl-canvas-"+Ot.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Pt=_e._context.plotGlPixelRatio;if(Ee._glcanvas){Ee._glcanvas.attr("width",Ee.width*Pt).attr("height",Ee.height*Pt).style("width",Ee.width+"px").style("height",Ee.height+"px");var Rt=Ee._glcanvas.data()[0].regl;if(Rt&&(Math.floor(Ee.width*Pt)!==Rt._gl.drawingBufferWidth||Math.floor(Ee.height*Pt)!==Rt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!$e)return _.log(Ft+" Clearing graph and plotting again."),r.cleanPlot([],{},_e._fullData,Ee),r.supplyDefaults(_e),Ee=_e._fullLayout,r.doCalcdata(_e),$e++,yt();_.error(Ft)}}return Ee.modebar.orientation==="h"?Ee._modebardiv.style("height",null).style("width","100%"):Ee._modebardiv.style("width",null).style("height",Ee.height+"px"),r.previousPromises(_e)},ot,function(){if(r.didMarginChange(We,Ee._size))return _.syncOrAsync([ot,m.layoutStyles],_e)}];De&&mt.push(function(){if(Pe)return _.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),st],_e);st()}),mt.push(m.layoutStyles),De&&mt.push(function(){return n.draw(_e,ke?"":"redraw")},function(yt){var it=yt._fullLayout._insideTickLabelsUpdaterange;if(it)return yt._fullLayout._insideTickLabelsUpdaterange=void 0,Q(yt,it).then(function(){n.saveRangeInitial(yt,!0)})}),mt.push(m.drawData,m.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var _t=_.syncOrAsync(mt,_e);return _t&&_t.then||(_t=Promise.resolve()),_t.then(function(){return A(_e),_e})},C.purge=function(_e){var Ae=(_e=_.getGraphDiv(_e))._fullLayout||{},Le=_e._fullData||[];return r.cleanPlot([],{},Le,Ae),r.purge(_e),f.purge(_e),Ae._container&&Ae._container.remove(),delete _e._context,_e},C.react=function(_e,Ae,Le,ze){var Re,ve;_e=_.getGraphDiv(_e),y.clearPromiseQueue(_e);var ke=_e._fullData,Ee=_e._fullLayout;if(_.isPlotDiv(_e)&&ke&&Ee){if(_.isPlainObject(Ae)){var De=Ae;Ae=De.data,Le=De.layout,ze=De.config,Re=De.frames}var Pe=!1;if(ze){var Ue=_.extendDeep({},_e._context);_e._context=void 0,O(_e,ze),Pe=de(Ue,_e._context)}_e.data=Ae||[],y.cleanData(_e.data),_e.layout=Le||{},y.cleanLayout(_e.layout),function(ut,xt,bt,qe){var je,lt,gt,dt,at,kt,wt,Et,Tt,At,Nt=qe._preGUI,Wt=[],on={},cn={};for(je in Nt){if(at=Te(je,ye)){if(Tt=at.head,At=at.tail,lt=at.attr||Tt+".uirevision",(dt=(gt=b(qe,lt).get())&&Se(lt,xt))&&dt===gt){if((kt=Nt[je])===null&&(kt=void 0),le(Et=(wt=b(xt,je)).get(),kt)){Et===void 0&&At==="autorange"&&Wt.push(Tt),wt.set(F(b(qe,je).get()));continue}if(At==="autorange"||At.substr(0,6)==="range["){var un=Nt[Tt+".range[0]"],Xt=Nt[Tt+".range[1]"],tn=Nt[Tt+".autorange"];if(tn||tn===null&&un===null&&Xt===null){if(!(Tt in on)){var kn=b(xt,Tt).get();on[Tt]=kn&&(kn.autorange||kn.autorange!==!1&&(!kn.range||kn.range.length!==2))}if(on[Tt]){wt.set(F(b(qe,je).get()));continue}}}}}else _.warn("unrecognized GUI edit: "+je);delete Nt[je],at&&at.tail.substr(0,6)==="range["&&(cn[at.head]=1)}for(var fn=0;fn<Wt.length;fn++){var Qt=Wt[fn];if(cn[Qt]){var pn=b(xt,Qt).get();pn&&delete pn.autorange}}var nn=qe._tracePreGUI;for(var sn in nn){var Sn,wn=nn[sn],Dn=null;for(je in wn){if(!Dn){var Tn=Fe(sn,bt);if(Tn<0){delete nn[sn];break}var Pn=xe(sn,ut,(Sn=bt[Tn]._fullInput).index);if(Pn<0){delete nn[sn];break}Dn=ut[Pn]}if(at=Te(je,be)){if(at.attr?dt=(gt=b(qe,at.attr).get())&&Se(at.attr,xt):(gt=Sn.uirevision,(dt=Dn.uirevision)===void 0&&(dt=xt.uirevision)),dt&&dt===gt&&((kt=wn[je])===null&&(kt=void 0),le(Et=(wt=b(Dn,je)).get(),kt))){wt.set(F(b(Sn,je).get()));continue}}else _.warn("unrecognized GUI edit: "+je+" in trace uid "+sn);delete wn[je]}}}(_e.data,_e.layout,ke,Ee),r.supplyDefaults(_e,{skipUpdateCalc:!0});var We=_e._fullData,$e=_e._fullLayout,ot=$e.datarevision===void 0,st=$e.transition,mt=function(ut,xt,bt,qe,je){var lt=w.layoutFlags();return lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0,oe(xt,bt,[],{getValObject:function(gt){return i.getLayoutValObject(bt,gt)},flags:lt,immutable:qe,transition:je,gd:ut}),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),je&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}(_e,Ee,$e,ot,st),_t=mt.newDataRevision,yt=function(ut,xt,bt,qe,je,lt){var gt=xt.length===bt.length;if(!je&&!gt)return{fullReplot:!0,calc:!0};var dt,at,kt=w.traceFlags();kt.arrays={},kt.nChanges=0,kt.nChangesAnim=0;var wt={getValObject:function(Tt){var At=i.getTraceValObject(at,Tt);return!at._module.animatable&&At.anim&&(At.anim=!1),At},flags:kt,immutable:qe,transition:je,newDataRevision:lt,gd:ut},Et={};for(dt=0;dt<xt.length;dt++)if(bt[dt]){if(at=bt[dt]._fullInput,r.hasMakesDataTransform(at)&&(at=bt[dt]),Et[at.uid])continue;Et[at.uid]=1,oe(xt[dt]._fullInput,at,[],wt)}return(kt.calc||kt.plot)&&(kt.fullReplot=!0),je&&kt.nChanges&&kt.nChangesAnim&&(kt.anim=kt.nChanges===kt.nChangesAnim&&gt?"all":"some"),kt}(_e,ke,We,ot,st,_t);if(he(_e)&&(mt.layoutReplot=!0),yt.calc||mt.calc){_e.calcdata=void 0;for(var it=Object.getOwnPropertyNames($e),tt=0;tt<it.length;tt++){var Pt=it[tt],Rt=Pt.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Ft=$e[Pt]._emptyCategories;Ft&&Ft()}}}else r.supplyDefaultsUpdateCalc(_e.calcdata,We);var Ot=[];if(Re&&(_e._transitionData={},r.createTransitionData(_e),Ot.push(function(){return C.addFrames(_e,Re)})),$e.transition&&!Pe&&(yt.anim||mt.anim))mt.ticks&&Ot.push(m.doTicksRelayout),r.doCalcdata(_e),m.doAutoRangeAndConstraints(_e),Ot.push(function(){return r.transitionFromReact(_e,yt,mt,Ee)});else if(yt.fullReplot||mt.layoutReplot||Pe)_e._fullLayout._skipDefaults=!0,Ot.push(C._doPlot);else{for(var Xe in mt.arrays){var Je=mt.arrays[Xe];if(Je.length){var Ve=t.getComponentMethod(Xe,"drawOne");if(Ve!==_.noop)for(var Ke=0;Ke<Je.length;Ke++)Ve(_e,Je[Ke]);else{var ft=t.getComponentMethod(Xe,"draw");if(ft===_.noop)throw new Error("cannot draw components: "+Xe);ft(_e)}}}Ot.push(r.previousPromises),yt.style&&Ot.push(m.doTraceStyle),(yt.colorbars||mt.colorbars)&&Ot.push(m.doColorBars),mt.legend&&Ot.push(m.doLegend),mt.layoutstyle&&Ot.push(m.layoutStyles),mt.axrange&&$(Ot),mt.ticks&&Ot.push(m.doTicksRelayout),mt.modebar&&Ot.push(m.doModeBar),mt.camera&&Ot.push(m.doCamera),Ot.push(A)}Ot.push(r.rehover,r.redrag,r.reselect),(ve=_.syncOrAsync(Ot,_e))&&ve.then||(ve=Promise.resolve(_e))}else ve=C.newPlot(_e,Ae,Le,ze);return ve.then(function(){return _e.emit("plotly_react",{data:Ae,layout:Le}),_e})},C.redraw=function(_e){if(_e=_.getGraphDiv(_e),!_.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);return y.cleanData(_e.data),y.cleanLayout(_e.layout),_e.calcdata=void 0,C._doPlot(_e).then(function(){return _e.emit("plotly_redraw"),_e})},C.relayout=Q,C.restyle=X,C.setPlotConfig=function(_e){return _.extendFlat(v,_e)},C.update=pe,C._guiRelayout=ge(Q),C._guiRestyle=ge(X),C._guiUpdate=ge(pe),C._storeDirectGUIEdit=function(_e,Ae,Le){for(var ze in Le)W(ze,b(_e,ze).get(),Le[ze],Ae)}},20556:function(U){var C={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function T(k,o){for(var _ in k){var b=k[_];b.valType?o[_]=b.dflt:(o[_]||(o[_]={}),T(b,o[_]))}})(C,e),U.exports={configAttributes:C,dfltConfig:e}},73060:function(U,C,e){var T=e(24040),k=e(3400),o=e(45464),_=e(64859),b=e(16672),f=e(85656),s=e(20556).configAttributes,t=e(67824),i=k.extendDeepAll,r=k.isPlainObject,n=k.isArrayOrTypedArray,a=k.nestedProperty,l=k.valObjectMeta,u="_isSubplotObj",h="_isLinkedToArray",c="_deprecated",x=[u,h,"_arrayAttrRegexps",c];function p(d,S,A){if(!d)return!1;if(d._isLinkedToArray){if(v(S[A]))A++;else if(A<S.length)return!1}for(;A<S.length;A++){var E=d[S[A]];if(!r(E)||(d=E,A===S.length-1))break;if(d._isLinkedToArray){if(!v(S[++A]))return!1}else if(d.valType==="info_array"){var P=S[++A];if(!v(P))return!1;var O=d.items;if(Array.isArray(O)){if(P>=O.length)return!1;if(d.dimensions===2){if(A++,S.length===A)return d;var I=S[A];if(!v(I))return!1;d=O[P][I]}else d=O[P]}else d=O}}return d}function v(d){return d===Math.round(d)&&d>=0}function g(){var d,S,A={};for(d in i(A,_),T.subplotsRegistry)if((S=T.subplotsRegistry[d]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(A,S,S.attr[E]);else m(A,S,S.attr==="subplot"?S.name:S.attr);for(d in T.componentsRegistry){var P=(S=T.componentsRegistry[d]).schema;if(P&&(P.subplots||P.layout)){var O=P.subplots;if(O&&O.xaxis&&!O.yaxis)for(var I in O.xaxis)delete A.yaxis[I];delete A.xaxis.shift,delete A.xaxis.autoshift}else S.name==="colorscale"?i(A,S.layoutAttributes):S.layoutAttributes&&w(A,S.layoutAttributes,S.name)}return{layoutAttributes:y(A)}}function y(d){return function(S){C.crawl(S,function(A,E,P){C.isValObject(A)?A.arrayOk!==!0&&A.valType!=="data_array"||(P[E+"src"]={valType:"string",editType:"none"}):r(A)&&(A.role="object")})}(d),function(S){C.crawl(S,function(A,E,P){if(A){var O=A[h];O&&(delete A[h],P[E]={items:{}},P[E].items[O]=A,P[E].role="object")}})}(d),function(S){(function A(E){for(var P in E)if(r(E[P]))A(E[P]);else if(Array.isArray(E[P]))for(var O=0;O<E[P].length;O++)A(E[P][O]);else E[P]instanceof RegExp&&(E[P]=E[P].toString())})(S)}(d),d}function m(d,S,A){var E=a(d,A),P=i({},S.layoutAttributes);P[u]=!0,E.set(P)}function w(d,S,A){var E=a(d,A);E.set(i(E.get()||{},S))}C.IS_SUBPLOT_OBJ=u,C.IS_LINKED_TO_ARRAY=h,C.DEPRECATED=c,C.UNDERSCORE_ATTRS=x,C.get=function(){var d={};T.allTypes.forEach(function(E){d[E]=function(P){var O,I;I=(O=T.modules[P]._module).basePlotModule;var D={type:null},V=i({},o),z=i({},O.attributes);C.crawl(z,function(F,H,W,ie,te){a(V,te).set(void 0),F===void 0&&a(z,te).set(void 0)}),i(D,V),T.traceIs(P,"noOpacity")&&delete D.opacity,T.traceIs(P,"showLegend")||(delete D.showlegend,delete D.legendgroup),T.traceIs(P,"noHover")&&(delete D.hoverinfo,delete D.hoverlabel),O.selectPoints||delete D.selectedpoints,i(D,z),I.attributes&&i(D,I.attributes),D.type=P;var j={meta:O.meta||{},categories:O.categories||{},animatable:!!O.animatable,type:P,attributes:y(D)};if(O.layoutAttributes){var X={};i(X,O.layoutAttributes),j.layoutAttributes=y(X)}return O.animatable||C.crawl(j,function(F){C.isValObject(F)&&"anim"in F&&delete F.anim}),j}(E)});var S,A={};return Object.keys(T.transformsRegistry).forEach(function(E){A[E]=function(P){var O=T.transformsRegistry[P],I=i({},O.attributes);return Object.keys(T.componentsRegistry).forEach(function(D){var V=T.componentsRegistry[D];V.schema&&V.schema.transforms&&V.schema.transforms[P]&&Object.keys(V.schema.transforms[P]).forEach(function(z){w(I,V.schema.transforms[P][z],z)})}),{attributes:y(I)}}(E)}),{defs:{valObjects:l,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:d,layout:g(),transforms:A,frames:(S={frames:i({},b)},y(S),S.frames),animation:y(f),config:y(s)}},C.crawl=function(d,S,A,E){var P=A||0;E=E||"",Object.keys(d).forEach(function(O){var I=d[O];if(x.indexOf(O)===-1){var D=(E?E+".":"")+O;S(I,O,d,P,D),C.isValObject(I)||r(I)&&O!=="impliedEdits"&&C.crawl(I,S,P+1,D)}})},C.isValObject=function(d){return d&&d.valType!==void 0},C.findArrayAttributes=function(d){var S,A,E=[],P=[],O=[];function I(F,H,W,ie){P=P.slice(0,ie).concat([H]),O=O.slice(0,ie).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(P[ie-1]!=="colorbar"||H!=="ticktext"&&H!=="tickvals")&&D(S,0,"")}function D(F,H,W){var ie=F[P[H]],te=W+P[H];if(H===P.length-1)n(ie)&&E.push(A+te);else if(O[H]){if(Array.isArray(ie))for(var Q=0;Q<ie.length;Q++)r(ie[Q])&&D(ie[Q],H+1,te+"["+Q+"].")}else r(ie)&&D(ie,H+1,te+".")}S=d,A="",C.crawl(o,I),d._module&&d._module.attributes&&C.crawl(d._module.attributes,I);var V=d.transforms;if(V)for(var z=0;z<V.length;z++){var j=V[z],X=j._module;X&&(A="transforms["+z+"].",S=j,C.crawl(X.attributes,I))}return E},C.getTraceValObject=function(d,S){var A,E,P=S[0],O=1;if(P==="transforms"){if(S.length===1)return o.transforms;var I=d.transforms;if(!Array.isArray(I)||!I.length)return!1;var D=S[1];if(!v(D)||D>=I.length)return!1;E=(A=(T.transformsRegistry[I[D].type]||{}).attributes)&&A[S[2]],O=3}else{var V=d._module;if(V||(V=(T.modules[d.type||o.type.dflt]||{})._module),!V)return!1;if(!(E=(A=V.attributes)&&A[P])){var z=V.basePlotModule;z&&z.attributes&&(E=z.attributes[P])}E||(E=o[P])}return p(E,S,O)},C.getLayoutValObject=function(d,S){var A=function(E,P){var O,I,D,V,z=E._basePlotModules;if(z){var j;for(O=0;O<z.length;O++){if((D=z[O]).attrRegex&&D.attrRegex.test(P)){if(D.layoutAttrOverrides)return D.layoutAttrOverrides;!j&&D.layoutAttributes&&(j=D.layoutAttributes)}var X=D.baseLayoutAttrOverrides;if(X&&P in X)return X[P]}if(j)return j}var F=E._modules;if(F){for(O=0;O<F.length;O++)if((V=F[O].layoutAttributes)&&P in V)return V[P]}for(I in T.componentsRegistry){if((D=T.componentsRegistry[I]).name==="colorscale"&&P.indexOf("coloraxis")===0)return D.layoutAttributes[P];if(!D.schema&&P===D.name)return D.layoutAttributes}return P in _&&_[P]}(d,S[0]);return p(A,S,1)}},31780:function(U,C,e){var T=e(3400),k=e(45464),o="templateitemname",_={name:{valType:"string",editType:"none"}};function b(s){return s&&typeof s=="string"}function f(s){var t=s.length-1;return s.charAt(t)!=="s"&&T.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}_[o]={valType:"string",editType:"calc"},C.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=_.name,t[o]=_[o],t},C.traceTemplater=function(s){var t,i,r={};for(t in s)i=s[t],Array.isArray(i)&&i.length&&(r[t]=0);return{newTrace:function(n){var a={type:t=T.coerce(n,{},k,"type"),_template:null};if(t in r){i=s[t];var l=r[t]%i.length;r[t]++,a._template=i[l]}return a}}},C.newContainer=function(s,t,i){var r=s._template,n=r&&(r[t]||i&&r[i]);return T.isPlainObject(n)||(n=null),s[t]={_template:n}},C.arrayTemplater=function(s,t,i){var r=s._template,n=r&&r[f(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var l={};return{newItem:function(u){var h={name:u.name,_input:u},c=h[o]=u[o];if(!b(c))return h._template=n,h;for(var x=0;x<a.length;x++){var p=a[x];if(p.name===c)return l[c]=1,h._template=p,h}return h[i]=u[i]||!1,h._template=!1,h},defaultItems:function(){for(var u=[],h=0;h<a.length;h++){var c=a[h],x=c.name;if(b(x)&&!l[x]){var p={_template:c,name:x,_input:{_templateitemname:x}};p[o]=c[o],u.push(p),l[x]=1}}return u}}},C.arrayDefaultKey=f,C.arrayEditor=function(s,t,i){var r=(T.nestedProperty(s,t).get()||[]).length,n=i._index,a=n>=r&&(i._input||{})._templateitemname;a&&(n=r);var l,u=t+"["+n+"]";function h(){l={},a&&(l[u]={},l[u][o]=a)}function c(p,v){a?T.nestedProperty(l[u],p).set(v):l[u+"."+p]=v}function x(){var p=l;return h(),p}return h(),{modifyBase:function(p,v){l[p]=v},modifyItem:c,getUpdateObj:x,applyUpdate:function(p,v){p&&c(p,v);var g=x();for(var y in g)T.nestedProperty(s,y).set(g[y])}}}},39172:function(U,C,e){var T=e(33428),k=e(24040),o=e(7316),_=e(3400),b=e(72736),f=e(73696),s=e(76308),t=e(43616),i=e(81668),r=e(45460),n=e(54460),a=e(84284),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,x="start",p=e(33816).zindexSeparator;function v(S,A,E){for(var P=0;P<E.length;P++){var O=E[P][0],I=E[P][1];if(!(O[0]>=S[1]||O[1]<=S[0])&&I[0]<A[1]&&I[1]>A[0])return!0}return!1}function g(S){var A,E,P,O,I,D,V=S._fullLayout,z=V._size,j=z.p,X=n.list(S,"",!0);if(V._paperdiv.style({width:S._context.responsive&&V.autosize&&!S._context._hasZeroWidth&&!S.layout.width?"100%":V.width+"px",height:S._context.responsive&&V.autosize&&!S._context._hasZeroHeight&&!S.layout.height?"100%":V.height+"px"}).selectAll(".main-svg").call(t.setSize,V.width,V.height),S._context.setBackground(S,V.paper_bgcolor),C.drawMainTitle(S),r.manage(S),!V._has("cartesian"))return o.previousPromises(S);function F(We,$e,ot){var st=We._lw/2;return We._id.charAt(0)==="x"?$e?ot==="top"?$e._offset-j-st:$e._offset+$e._length+j+st:z.t+z.h*(1-(We.position||0))+st%1:$e?ot==="right"?$e._offset+$e._length+j+st:$e._offset-j-st:z.l+z.w*(We.position||0)+st%1}for(A=0;A<X.length;A++){var H=(O=X[A])._anchorAxis;O._linepositions={},O._lw=t.crispRound(S,O.linewidth,1),O._mainLinePosition=F(O,H,O.side),O._mainMirrorPosition=O.mirror&&H?F(O,H,a.OPPOSITE_SIDE[O.side]):null}var W=[],ie=[],te=[],Q=s.opacity(V.paper_bgcolor)===1&&s.opacity(V.plot_bgcolor)===1&&V.paper_bgcolor===V.plot_bgcolor;for(E in V._plots)if((P=V._plots[E]).mainplot)P.bg&&P.bg.remove(),P.bg=void 0;else{var ne=P.xaxis.domain,$=P.yaxis.domain,J=P.plotgroup;if(v(ne,$,te)&&E.indexOf(p)===-1){var re=J.node(),se=P.bg=_.ensureSingle(J,"rect","bg");re.insertBefore(se.node(),re.childNodes[0]),ie.push(E)}else J.select("rect.bg").remove(),te.push([ne,$]),Q||(W.push(E),ie.push(E))}var ue,he,pe,ge,ye,be,Te,Se,Fe,xe,le,oe,de,Ce=V._bgLayer.selectAll(".bg").data(W);for(Ce.enter().append("rect").classed("bg",!0),Ce.exit().remove(),Ce.each(function(We){V._plots[We].bg=T.select(this)}),A=0;A<ie.length;A++)P=V._plots[ie[A]],I=P.xaxis,D=P.yaxis,P.bg&&I._offset!==void 0&&D._offset!==void 0&&P.bg.call(t.setRect,I._offset-j,D._offset-j,I._length+2*j,D._length+2*j).call(s.fill,V.plot_bgcolor).style("stroke-width",0);if(!V._hasOnlyLargeSploms)for(E in V._plots){P=V._plots[E],I=P.xaxis,D=P.yaxis;var _e,Ae,Le=P.clipId="clip"+V._uid+E+"plot",ze=_.ensureSingleById(V._clips,"clipPath",Le,function(We){We.classed("plotclip",!0).append("rect")});P.clipRect=ze.select("rect").attr({width:I._length,height:D._length}),t.setTranslate(P.plot,I._offset,D._offset),P._hasClipOnAxisFalse?(_e=null,Ae=Le):(_e=Le,Ae=null),t.setClipUrl(P.plot,_e,S),P.layerClipId=Ae}function Re(We){return"M"+ue+","+We+"H"+he}function ve(We){return"M"+I._offset+","+We+"h"+I._length}function ke(We){return"M"+We+","+Se+"V"+Te}function Ee(We){return D._shift!==void 0&&(We+=D._shift),"M"+We+","+D._offset+"v"+D._length}function De(We,$e,ot){if(!We.showline||E!==We._mainSubplot)return"";if(!We._anchorAxis)return ot(We._mainLinePosition);var st=$e(We._mainLinePosition);return We.mirror&&(st+=$e(We._mainMirrorPosition)),st}for(E in V._plots){P=V._plots[E],I=P.xaxis,D=P.yaxis;var Pe="M0,0";y(I,E)&&(ye=w(I,"left",D,X),ue=I._offset-(ye?j+ye:0),be=w(I,"right",D,X),he=I._offset+I._length+(be?j+be:0),pe=F(I,D,"bottom"),ge=F(I,D,"top"),!(de=!I._anchorAxis||E!==I._mainSubplot)||I.mirror!=="allticks"&&I.mirror!=="all"||(I._linepositions[E]=[pe,ge]),Pe=De(I,Re,ve),de&&I.showline&&(I.mirror==="all"||I.mirror==="allticks")&&(Pe+=Re(pe)+Re(ge)),P.xlines.style("stroke-width",I._lw+"px").call(s.stroke,I.showline?I.linecolor:"rgba(0,0,0,0)")),P.xlines.attr("d",Pe);var Ue="M0,0";y(D,E)&&(le=w(D,"bottom",I,X),Te=D._offset+D._length+(le?j:0),oe=w(D,"top",I,X),Se=D._offset-(oe?j:0),Fe=F(D,I,"left"),xe=F(D,I,"right"),!(de=!D._anchorAxis||E!==D._mainSubplot)||D.mirror!=="allticks"&&D.mirror!=="all"||(D._linepositions[E]=[Fe,xe]),Ue=De(D,ke,Ee),de&&D.showline&&(D.mirror==="all"||D.mirror==="allticks")&&(Ue+=ke(Fe)+ke(xe)),P.ylines.style("stroke-width",D._lw+"px").call(s.stroke,D.showline?D.linecolor:"rgba(0,0,0,0)")),P.ylines.attr("d",Ue)}return n.makeClipPaths(S),o.previousPromises(S)}function y(S,A){return(S.ticks||S.showline)&&(A===S._mainSubplot||S.mirror==="all"||S.mirror==="allticks")}function m(S,A,E){if(!E.showline||!E._lw)return!1;if(E.mirror==="all"||E.mirror==="allticks")return!0;var P=E._anchorAxis;if(!P)return!1;var O=a.FROM_BL[A];return E.side===A?P.domain[O]===S.domain[O]:E.mirror&&P.domain[1-O]===S.domain[1-O]}function w(S,A,E,P){if(m(S,A,E))return E._lw;for(var O=0;O<P.length;O++){var I=P[O];if(I._mainAxis===E._mainAxis&&m(S,A,I))return I._lw}return 0}function d(S){return S==="top"?a.CAP_SHIFT+.3+"em":S==="bottom"?"-0.3em":a.MID_SHIFT+"em"}C.layoutStyles=function(S){return _.syncOrAsync([o.doAutoMargin,g],S)},C.drawMainTitle=function(S){var A=S._fullLayout.title,E=S._fullLayout,P=function(te){var Q=te.title,ne="middle";return _.isRightAnchor(Q)?ne="end":_.isLeftAnchor(Q)&&(ne=x),ne}(E),O=function(te){var Q=te.title,ne="0em";return _.isTopAnchor(Q)?ne=a.CAP_SHIFT+"em":_.isMiddleAnchor(Q)&&(ne=a.MID_SHIFT+"em"),ne}(E),I=function(te,Q){var ne=te.title,$=te._size,J=0;return Q!=="0em"&&Q?Q===a.CAP_SHIFT+"em"&&(J=ne.pad.t):J=-ne.pad.b,ne.y==="auto"?$.t/2:ne.yref==="paper"?$.t+$.h-$.h*ne.y+J:te.height-te.height*ne.y+J}(E,O),D=function(te,Q){var ne=te.title,$=te._size,J=0;return Q===x?J=ne.pad.l:Q==="end"&&(J=-ne.pad.r),ne.xref==="paper"?$.l+$.w*ne.x+J:te.width*ne.x+J}(E,P);if(i.draw(S,"gtitle",{propContainer:E,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:E._dfltTitle.plot,subtitlePlaceholder:E._dfltTitle.subtitle,attributes:{x:D,y:I,"text-anchor":P,dy:O}}),A.text&&A.automargin){var V=T.selectAll(".gtitle"),z=t.bBox(T.selectAll(".g-gtitle").node()).height,j=function(te,Q,ne){var $=Q.y,J=Q.yanchor,re=$>.5?"t":"b",se=te._fullLayout.margin[re],ue=0;return Q.yref==="paper"?ue=ne+Q.pad.t+Q.pad.b:Q.yref==="container"&&(ue=function(he,pe,ge,ye,be){var Te=0;return ge==="middle"&&(Te+=be/2),he==="t"?(ge==="top"&&(Te+=be),Te+=ye-pe*ye):(ge==="bottom"&&(Te+=be),Te+=pe*ye),Te}(re,$,J,te._fullLayout.height,ne)+Q.pad.t+Q.pad.b),ue>se?ue:0}(S,A,z);if(j>0){(function(te,Q,ne,$){var J="title.automargin",re=te._fullLayout.title,se=re.y>.5?"t":"b",ue={x:re.x,y:re.y,t:0,b:0},he={};re.yref==="paper"&&function(pe,ge,ye,be,Te){var Se=ge.yref==="paper"?pe._fullLayout._size.h:pe._fullLayout.height,Fe=_.isTopAnchor(ge)?be:be-Te,xe=ye==="b"?Se-Fe:Fe;return!(_.isTopAnchor(ge)&&ye==="t"||_.isBottomAnchor(ge)&&ye==="b")&&xe<Te}(te,re,se,Q,$)?ue[se]=ne:re.yref==="container"&&(he[se]=ne,te._fullLayout._reservedMargin[J]=he),o.allowAutoMargin(te,J),o.autoMargin(te,J,ue)})(S,I,j,z),V.attr({x:D,y:I,"text-anchor":P,dy:d(A.yanchor)}).call(b.positionText,D,I);var X=(A.text.match(b.BR_TAG_ALL)||[]).length;if(X){var F=a.LINE_SPACING*X+a.MID_SHIFT;A.y===0&&(F=-F),V.selectAll(".line").each(function(){var te=+this.getAttribute("dy").slice(0,-2)-F+"em";this.setAttribute("dy",te)})}var H=T.selectAll(".gtitle-subtitle");if(H.node()){var W=V.node().getBBox(),ie=W.y+W.height+i.SUBTITLE_PADDING_EM*A.subtitle.font.size;H.attr({x:D,y:ie,"text-anchor":P,dy:d(A.yanchor)}).call(b.positionText,D,ie)}}}},C.doTraceStyle=function(S){var A,E=S.calcdata,P=[];for(A=0;A<E.length;A++){var O=E[A],I=O[0]||{},D=I.trace||{},V=D._module||{},z=V.arraysToCalcdata;z&&z(O,D);var j=V.editStyle;j&&P.push({fn:j,cd0:I})}if(P.length){for(A=0;A<P.length;A++){var X=P[A];X.fn(S,X.cd0)}f(S),C.redrawReglTraces(S)}return o.style(S),k.getComponentMethod("legend","draw")(S),o.previousPromises(S)},C.doColorBars=function(S){return k.getComponentMethod("colorbar","draw")(S),o.previousPromises(S)},C.layoutReplot=function(S){var A=S.layout;return S.layout=void 0,k.call("_doPlot",S,"",A)},C.doLegend=function(S){return k.getComponentMethod("legend","draw")(S),o.previousPromises(S)},C.doTicksRelayout=function(S){return n.draw(S,"redraw"),S._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(S),f(S),C.redrawReglTraces(S)),C.drawMainTitle(S),o.previousPromises(S)},C.doModeBar=function(S){var A=S._fullLayout;r.manage(S);for(var E=0;E<A._basePlotModules.length;E++){var P=A._basePlotModules[E].updateFx;P&&P(S)}return o.previousPromises(S)},C.doCamera=function(S){for(var A=S._fullLayout,E=A._subplots.gl3d,P=0;P<E.length;P++){var O=A[E[P]];O._scene.setViewport(O)}},C.drawData=function(S){var A=S._fullLayout;f(S);for(var E=A._basePlotModules,P=0;P<E.length;P++)E[P].plot(S);return C.redrawReglTraces(S),o.style(S),k.getComponentMethod("selections","draw")(S),k.getComponentMethod("shapes","draw")(S),k.getComponentMethod("annotations","draw")(S),k.getComponentMethod("images","draw")(S),A._replotting=!1,o.previousPromises(S)},C.redrawReglTraces=function(S){var A=S._fullLayout;if(A._has("regl")){var E,P,O=S._fullData,I=[],D=[];for(A._hasOnlyLargeSploms&&A._splomGrid.draw(),E=0;E<O.length;E++){var V=O[E];V.visible===!0&&V._length!==0&&(V.type==="splom"?A._splomScenes[V.uid].draw():V.type==="scattergl"?_.pushUnique(I,V.xaxis+V.yaxis):V.type==="scatterpolargl"&&_.pushUnique(D,V.subplot))}for(E=0;E<I.length;E++)(P=A._plots[I[E]])._scene&&P._scene.draw();for(E=0;E<D.length;E++)(P=A[D[E]]._subplot)._scene&&P._scene.draw()}},C.doAutoRangeAndConstraints=function(S){for(var A,E=n.list(S,"",!0),P={},O=0;O<E.length;O++)if(!P[(A=E[O])._id]){P[A._id]=1,h(S,A),c(S,A);var I=A._matchGroup;if(I)for(var D in I){var V=n.getFromId(S,D);c(S,V,A.range),P[D]=1}}u(S)},C.finalDraw=function(S){k.getComponentMethod("rangeslider","draw")(S),k.getComponentMethod("rangeselector","draw")(S)},C.drawMarginPushers=function(S){k.getComponentMethod("legend","draw")(S),k.getComponentMethod("rangeselector","draw")(S),k.getComponentMethod("sliders","draw")(S),k.getComponentMethod("updatemenus","draw")(S),k.getComponentMethod("colorbar","draw")(S)}},94828:function(U,C,e){var T=e(3400),k=T.isPlainObject,o=e(73060),_=e(7316),b=e(45464),f=e(31780),s=e(20556).dfltConfig;function t(c,x){c=T.extendDeep({},c);var p,v,g=Object.keys(c).sort();function y(A,E,P){if(k(E)&&k(A))t(A,E);else if(Array.isArray(E)&&Array.isArray(A)){var O=f.arrayTemplater({_template:c},P);for(v=0;v<E.length;v++){var I=E[v],D=O.newItem(I)._template;D&&t(D,I)}var V=O.defaultItems();for(v=0;v<V.length;v++)E.push(V[v]._template);for(v=0;v<E.length;v++)delete E[v].templateitemname}}for(p=0;p<g.length;p++){var m=g[p],w=c[m];if(m in x?y(w,x[m],m):x[m]=w,i(m)===m)for(var d in x){var S=i(d);d===S||S!==m||d in c||y(w,x[d],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function r(c,x,p,v,g){var y=g&&p(g);for(var m in c){var w=c[m],d=l(c,m,v),S=l(c,m,g),A=p(S);if(!A){var E=i(m);E!==m&&(A=p(S=l(c,E,g)))}if(!(y&&y===A||!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(w)))if(!A.valType&&k(w))r(w,x,p,d,S);else if(A._isLinkedToArray&&Array.isArray(w))for(var P=!1,O=0,I={},D=0;D<w.length;D++){var V=w[D];if(k(V)){var z=V.name;if(z)I[z]||(r(V,x,p,l(w,O,d),l(w,O,S)),O++,I[z]=1);else if(!P){var j=l(c,f.arrayDefaultKey(m),v),X=l(w,O,d);r(V,x,p,X,l(w,O,S));var F=T.nestedProperty(x,X);T.nestedProperty(x,j).set(F.get()),F.set(null),P=!0}}}else T.nestedProperty(x,d).set(w)}}function n(c,x){return o.getLayoutValObject(c,T.nestedProperty({},x).parts)}function a(c,x){return o.getTraceValObject(c,T.nestedProperty({},x).parts)}function l(c,x,p){return p?Array.isArray(c)?p+"["+x+"]":p+"."+x:x}function u(c){for(var x=0;x<c.length;x++)if(k(c[x]))return!0}function h(c){var x;switch(c.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":x=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":x=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=x,c}C.makeTemplate=function(c){c=T.isPlainObject(c)?c:T.getGraphDiv(c),c=T.extendDeep({_context:s},{data:c.data,layout:c.layout}),_.supplyDefaults(c);var x=c.data||[],p=c.layout||{};p._basePlotModules=c._fullLayout._basePlotModules,p._modules=c._fullLayout._modules;var v={data:{},layout:{}};x.forEach(function(O){var I={};r(O,I,a.bind(null,O));var D=T.coerce(O,{},b,"type"),V=v.data[D];V||(V=v.data[D]=[]),V.push(I)}),r(p,v.layout,n.bind(null,p)),delete v.layout.template;var g=p.template;if(k(g)){var y,m,w,d,S,A,E=g.layout;k(E)&&t(E,v.layout);var P=g.data;if(k(P)){for(m in v.data)if(w=P[m],Array.isArray(w)){for(A=(S=v.data[m]).length,d=w.length,y=0;y<A;y++)t(w[y%d],S[y]);for(y=A;y<d;y++)S.push(T.extendDeep({},w[y]))}for(m in P)m in v.data||(v.data[m]=T.extendDeep([],P[m]))}}return v},C.validateTemplate=function(c,x){var p=T.extendDeep({},{_context:s,data:c.data,layout:c.layout}),v=p.layout||{};k(x)||(x=v.template||{});var g=x.layout,y=x.data,m=[];p.layout=v,p.layout.template=x,_.supplyDefaults(p);var w=p._fullLayout,d=p._fullData,S={};if(k(g)?(function V(z,j){for(var X in z)if(X.charAt(0)!=="_"&&k(z[X])){var F,H=i(X),W=[];for(F=0;F<j.length;F++)W.push(l(z,X,j[F])),H!==X&&W.push(l(z,H,j[F]));for(F=0;F<W.length;F++)S[W[F]]=1;V(z[X],W)}}(w,["layout"]),function V(z,j){for(var X in z)if(X.indexOf("defaults")===-1&&k(z[X])){var F=l(z,X,j);S[F]?V(z[X],F):m.push({code:"unused",path:F})}}(g,"layout")):m.push({code:"layout"}),k(y)){for(var A,E={},P=0;P<d.length;P++){var O=d[P];E[A=O.type]=(E[A]||0)+1,O._fullInput._template||m.push({code:"missing",index:O._fullInput.index,traceType:A})}for(A in y){var I=y[A].length,D=E[A]||0;I>D?m.push({code:"unused",traceType:A,templateCount:I,dataCount:D}):D>I&&m.push({code:"reused",traceType:A,templateCount:I,dataCount:D})}}else m.push({code:"data"});if(function V(z,j){for(var X in z)if(X.charAt(0)!=="_"){var F=z[X],H=l(z,X,j);k(F)?(Array.isArray(z)&&F._template===!1&&F.templateitemname&&m.push({code:"missing",path:H,templateitemname:F.templateitemname}),V(F,H)):Array.isArray(F)&&u(F)&&V(F,H)}}({data:d,layout:w},""),m.length)return m.map(h)}},67024:function(U,C,e){var T=e(38248),k=e(36424),o=e(7316),_=e(3400),b=e(81792),f=e(37164),s=e(63268),t=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};U.exports=function(r,n){var a,l,u,h;function c(D){return!(D in n)||_.validate(n[D],i[D])}if(n=n||{},_.isPlainObject(r)?(a=r.data||[],l=r.layout||{},u=r.config||{},h={}):(r=_.getGraphDiv(r),a=_.extendDeep([],r.data),l=_.extendDeep({},r.layout),u=r._context,h=r._fullLayout||{}),!c("width")&&n.width!==null||!c("height")&&n.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+_.join2(i.format.values,", "," or ")+".");var x={};function p(D,V){return _.coerce(n,x,i,D,V)}var v=p("format"),g=p("width"),y=p("height"),m=p("scale"),w=p("setBackground"),d=p("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var A=_.extendFlat({},l);g?A.width=g:n.width===null&&T(h.width)&&(A.width=h.width),y?A.height=y:n.height===null&&T(h.height)&&(A.height=h.height);var E=_.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),P=b.getRedrawFunc(S);function O(){return new Promise(function(D){setTimeout(D,b.getDelay(S._fullLayout))})}function I(){return new Promise(function(D,V){var z=f(S,v,m),j=S._fullLayout.width,X=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if(v==="full-json"){var H=o.graphJson(S,!1,"keepdata","object",!0,!0);return H.version=t,H=JSON.stringify(H),F(),D(d?H:b.encodeJSON(H))}if(F(),v==="svg")return D(d?z:b.encodeSVG(z));var W=document.createElement("canvas");W.id=_.randstr(),s({format:v,width:j,height:X,scale:m,canvas:W,svg:z,promise:!0}).then(D).catch(V)})}return new Promise(function(D,V){k.newPlot(S,a,A,E).then(P).then(O).then(I).then(function(z){D(function(j){return d?j.replace(b.IMAGE_URL_PREFIX,""):j}(z))}).catch(function(z){V(z)})})}},21480:function(U,C,e){var T=e(3400),k=e(7316),o=e(73060),_=e(20556).dfltConfig,b=T.isPlainObject,f=Array.isArray,s=T.isArrayOrTypedArray;function t(c,x,p,v,g,y){y=y||[];for(var m=Object.keys(c),w=0;w<m.length;w++){var d=m[w];if(d!=="transforms"){var S=y.slice();S.push(d);var A=c[d],E=x[d],P=l(p,d),O=(P||{}).valType,I=O==="info_array",D=O==="colorscale",V=(P||{}).items;if(a(p,d))if(b(A)&&b(E)&&O!=="any")t(A,E,P,v,g,S);else if(I&&f(A)){A.length>E.length&&v.push(n("unused",g,S.concat(E.length)));var z,j,X,F,H,W=E.length,ie=Array.isArray(V);if(ie&&(W=Math.min(W,V.length)),P.dimensions===2)for(j=0;j<W;j++)if(f(A[j])){A[j].length>E[j].length&&v.push(n("unused",g,S.concat(j,E[j].length)));var te=E[j].length;for(z=0;z<(ie?Math.min(te,V[j].length):te);z++)X=ie?V[j][z]:V,F=A[j][z],H=E[j][z],T.validate(F,X)?H!==F&&H!==+F&&v.push(n("dynamic",g,S.concat(j,z),F,H)):v.push(n("value",g,S.concat(j,z),F))}else v.push(n("array",g,S.concat(j),A[j]));else for(j=0;j<W;j++)X=ie?V[j]:V,F=A[j],H=E[j],T.validate(F,X)?H!==F&&H!==+F&&v.push(n("dynamic",g,S.concat(j),F,H)):v.push(n("value",g,S.concat(j),F))}else if(P.items&&!I&&f(A)){var Q,ne,$=V[Object.keys(V)[0]],J=[];for(Q=0;Q<E.length;Q++){var re=E[Q]._index||Q;if((ne=S.slice()).push(re),b(A[re])&&b(E[Q])){J.push(re);var se=A[re],ue=E[Q];b(se)&&se.visible!==!1&&ue.visible===!1?v.push(n("invisible",g,ne)):t(se,ue,$,v,g,ne)}}for(Q=0;Q<A.length;Q++)(ne=S.slice()).push(Q),b(A[Q])?J.indexOf(Q)===-1&&v.push(n("unused",g,ne)):v.push(n("object",g,ne,A[Q]))}else!b(A)&&b(E)?v.push(n("object",g,S,A)):s(A)||!s(E)||I||D?d in x?T.validate(A,P)?P.valType==="enumerated"&&(P.coerceNumber&&A!==+E||A!==E)&&v.push(n("dynamic",g,S,A,E)):v.push(n("value",g,S,A)):v.push(n("unused",g,S,A)):v.push(n("array",g,S,A));else v.push(n("schema",g,S))}}return v}U.exports=function(c,x){c===void 0&&(c=[]),x===void 0&&(x={});var p,v,g=o.get(),y=[],m={_context:T.extendFlat({},_)};f(c)?(m.data=T.extendDeep([],c),p=c):(m.data=[],p=[],y.push(n("array","data"))),b(x)?(m.layout=T.extendDeep({},x),v=x):(m.layout={},v={},arguments.length>1&&y.push(n("object","layout"))),k.supplyDefaults(m);for(var w=m._fullData,d=p.length,S=0;S<d;S++){var A=p[S],E=["data",S];if(b(A)){var P=w[S],O=P.type,I=g.traces[O].attributes;I.type={valType:"enumerated",values:[O]},P.visible===!1&&A.visible!==!1&&y.push(n("invisible",E)),t(A,P,I,y,E);var D=A.transforms,V=P.transforms;if(D){f(D)||y.push(n("array",E,["transforms"])),E.push("transforms");for(var z=0;z<D.length;z++){var j=["transforms",z],X=D[z].type;if(b(D[z])){var F=g.transforms[X]?g.transforms[X].attributes:{};F.type={valType:"enumerated",values:Object.keys(g.transforms)},t(D[z],V[z],F,y,E,j)}else y.push(n("object",E,j))}}}else y.push(n("object",E))}var H=m._fullLayout,W=function(ie,te){for(var Q=ie.layout.layoutAttributes,ne=0;ne<te.length;ne++){var $=te[ne],J=ie.traces[$.type],re=J.layoutAttributes;re&&($.subplot?T.extendFlat(Q[J.attributes.subplot.dflt],re):T.extendFlat(Q,re))}return Q}(g,w);return t(v,H,W,y,"layout"),y.length===0?void 0:y};var i={object:function(c,x){return(c==="layout"&&x===""?"The layout argument":c[0]==="data"&&x===""?"Trace "+c[1]+" in the data argument":r(c)+"key "+x)+" must be linked to an object container"},array:function(c,x){return(c==="data"?"The data argument":r(c)+"key "+x)+" must be linked to an array container"},schema:function(c,x){return r(c)+"key "+x+" is not part of the schema"},unused:function(c,x,p){var v=b(p)?"container":"key";return r(c)+v+" "+x+" did not get coerced"},dynamic:function(c,x,p,v){return[r(c)+"key",x,"(set to '"+p+"')","got reset to","'"+v+"'","during defaults."].join(" ")},invisible:function(c,x){return(x?r(c)+"item "+x:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,x,p){return[r(c)+"key "+x,"is set to an invalid value ("+p+")"].join(" ")}};function r(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function n(c,x,p,v,g){var y,m;p=p||"",f(x)?(y=x[0],m=x[1]):(y=x,m=null);var w=function(S){if(!f(S))return String(S);for(var A="",E=0;E<S.length;E++){var P=S[E];typeof P=="number"?A=A.substr(0,A.length-1)+"["+P+"]":A+=P,E<S.length-1&&(A+=".")}return A}(p),d=i[c](x,w,v,g);return T.log(d),{code:c,container:y,trace:m,path:p,astr:w,msg:d}}function a(c,x){var p=h(x),v=p.keyMinusId,g=p.id;return!!(v in c&&c[v]._isSubplotObj&&g)||x in c}function l(c,x){return x in c?c[x]:c[h(x).keyMinusId]}var u=T.counterRegex("([a-z]+)");function h(c){var x=c.match(u);return{keyMinusId:x&&x[1],id:x&&x[2]}}},85656:function(U){U.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(U,C,e){var T=e(3400),k=e(31780);U.exports=function(o,_,b){var f,s,t=b.name,i=b.inclusionAttr||"visible",r=_[t],n=T.isArrayOrTypedArray(o[t])?o[t]:[],a=_[t]=[],l=k.arrayTemplater(_,t,i);for(f=0;f<n.length;f++){var u=n[f];T.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[i]=!1,s._index=f,s[i]!==!1&&b.handleItemDefaults(u,s,_,b),a.push(s)}var h=l.defaultItems();for(f=0;f<h.length;f++)(s=h[f])._index=a.length,b.handleItemDefaults({},s,_,b,{}),a.push(s);if(T.isArrayOrTypedArray(r)){var c=Math.min(r.length,a.length);for(f=0;f<c;f++)T.relinkPrivateKeys(a[f],r[f])}return a}},45464:function(U,C,e){var T=e(25376),k=e(55756);U.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:T({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(U,C,e){var T=e(38248),k=e(3400),o=k.dateTime2ms,_=k.incrementMonth,b=e(39032).ONEAVGMONTH;U.exports=function(f,s,t,i){if(s.type!=="date")return{vals:i};var r=f[t+"periodalignment"];if(!r)return{vals:i};var n,a=f[t+"period"];if(T(a)){if((a=+a)<=0)return{vals:i}}else if(typeof a=="string"&&a.charAt(0)==="M"){var l=+a.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};n=l}for(var u=s.calendar,h=r==="start",c=r==="end",x=f[t+"period0"],p=o(x,u)||0,v=[],g=[],y=[],m=i.length,w=0;w<m;w++){var d,S,A,E=i[w];if(n){for(d=Math.round((E-p)/(n*b)),A=_(p,n*d,u);A>E;)A=_(A,-n,u);for(;A<=E;)A=_(A,n,u);S=_(A,-n,u)}else{for(A=p+(d=Math.round((E-p)/a))*a;A>E;)A-=a;for(;A<=E;)A+=a;S=A-a}v[w]=h?S:c?A:(S+A)/2,g[w]=S,y[w]=A}return{vals:v,starts:g,ends:y}}},26720:function(U){U.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(U,C,e){var T=e(33428),k=e(38248),o=e(3400),_=e(39032).FP_SAFE,b=e(24040),f=e(43616),s=e(79811),t=s.getFromId,i=s.isLinked;function r(w,d){var S,A,E=[],P=w._fullLayout,O=a(P,d,0),I=a(P,d,1),D=u(w,d),V=D.min,z=D.max;if(V.length===0||z.length===0)return o.simpleMap(d.range,d.r2l);var j=V[0].val,X=z[0].val;for(S=1;S<V.length&&j===X;S++)j=Math.min(j,V[S].val);for(S=1;S<z.length&&j===X;S++)X=Math.max(X,z[S].val);var F=d.autorange,H=F==="reversed"||F==="min reversed"||F==="max reversed";if(!H&&d.range){var W=o.simpleMap(d.range,d.r2l);H=W[1]<W[0]}d.autorange==="reversed"&&(d.autorange=!0);var ie,te,Q,ne,$,J,re=d.rangemode,se=re==="tozero",ue=re==="nonnegative",he=d._length,pe=he/10,ge=0;for(S=0;S<V.length;S++)for(ie=V[S],A=0;A<z.length;A++)(J=(te=z[A]).val-ie.val-n(d,ie.val,te.val))>0&&(($=he-O(ie)-I(te))>pe?J/$>ge&&(Q=ie,ne=te,ge=J/$):J/he>ge&&(Q={val:ie.val,nopad:1},ne={val:te.val,nopad:1},ge=J/he));if(j===X){var ye=j-1,be=j+1;if(se)if(j===0)E=[0,1];else{var Te=(j>0?z:V).reduce(function(Fe,xe){return Math.max(Fe,I(xe))},0),Se=j/(1-Math.min(.5,Te/he));E=j>0?[0,Se]:[Se,0]}else E=ue?[Math.max(0,ye),Math.max(1,be)]:[ye,be]}else se?(Q.val>=0&&(Q={val:0,nopad:1}),ne.val<=0&&(ne={val:0,nopad:1})):ue&&(Q.val-ge*O(Q)<0&&(Q={val:0,nopad:1}),ne.val<=0&&(ne={val:1,nopad:1})),ge=(ne.val-Q.val-n(d,ie.val,te.val))/(he-O(Q)-I(ne)),E=[Q.val-ge*O(Q),ne.val+ge*I(ne)];return E=m(E,d),d.limitRange&&d.limitRange(),H&&E.reverse(),o.simpleMap(E,d.l2r||Number)}function n(w,d,S){var A=0;if(w.rangebreaks)for(var E=w.locateBreaks(d,S),P=0;P<E.length;P++){var O=E[P];A+=O.max-O.min}return A}function a(w,d,S){var A=.05*d._length,E=d._anchorAxis||{};if((d.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var P=d.isReversed();if(!P){var O=o.simpleMap(d.range,d.r2l);P=O[1]<O[0]}P&&(S=!S)}var I=0;return i(w,d._id)||(I=function(D,V,z){var j=0,X=V._id.charAt(0)==="x";for(var F in D._plots){var H=D._plots[F];if(V._id===H.xaxis._id||V._id===H.yaxis._id){var W=(X?H.yaxis:H.xaxis)||{};if((W.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(W.side==="left"||W.side==="bottom")||z&&(W.side==="top"||W.side==="right"))){if(W._vals){var ie=o.deg2rad(W._tickAngles[W._id+"tick"]||0),te=Math.abs(Math.cos(ie)),Q=Math.abs(Math.sin(ie));if(!W._vals[0].bb){var ne=W._id+"tick";W._selections[ne].each(function(ue){var he=T.select(this);he.select(".text-math-group").empty()&&(ue.bb=f.bBox(he.node()))})}for(var $=0;$<W._vals.length;$++){var J=W._vals[$].bb;if(J){var re=2*l+J.width,se=2*l+J.height;j=Math.max(j,X?Math.max(re*te,se*Q):Math.max(se*te,re*Q))}}}W.ticks==="inside"&&W.ticklabelposition==="inside"&&(j+=W.ticklen||0)}}}return j}(w,d,S)),A=Math.max(I,A),d.constrain==="domain"&&d._inputDomain&&(A*=(d._inputDomain[1]-d._inputDomain[0])/(d.domain[1]-d.domain[0])),function(D){return D.nopad?0:D.pad+(D.extrapad?A:I)}}U.exports={applyAutorangeOptions:m,getAutoRange:r,makePadFn:a,doAutoRange:function(w,d,S){if(d.setScale(),d.autorange){d.range=S?S.slice():r(w,d),d._r=d.range.slice(),d._rl=o.simpleMap(d._r,d.r2l);var A=d._input,E={};E[d._attr+".range"]=d.range,E[d._attr+".autorange"]=d.autorange,b.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,E),A.range=d.range.slice(),A.autorange=d.autorange}var P=d._anchorAxis;if(P&&P.rangeslider){var O=P.rangeslider[d._name];O&&O.rangemode==="auto"&&(O.range=r(w,d)),P._input.rangeslider[d._name]=o.extendFlat({},O)}},findExtremes:function(w,d,S){S||(S={}),w._m||w.setScale();var A,E,P,O,I,D,V,z,j,X=[],F=[],H=d.length,W=S.padded||!1,ie=S.tozero&&(w.type==="linear"||w.type==="-"),te=w.type==="log",Q=!1,ne=S.vpadLinearized||!1;function $(ye){if(Array.isArray(ye))return Q=!0,function(Te){return Math.max(Number(ye[Te]||0),0)};var be=Math.max(Number(ye||0),0);return function(){return be}}var J=$((w._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),re=$((w._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),se=$(S.vpadplus||S.vpad),ue=$(S.vpadminus||S.vpad);if(!Q){if(z=1/0,j=-1/0,te)for(A=0;A<H;A++)(E=d[A])<z&&E>0&&(z=E),E>j&&E<_&&(j=E);else for(A=0;A<H;A++)(E=d[A])<z&&E>-_&&(z=E),E>j&&E<_&&(j=E);d=[z,j],H=2}var he={tozero:ie,extrapad:W};function pe(ye){P=d[ye],k(P)&&(D=J(ye),V=re(ye),ne?(O=w.c2l(P)-ue(ye),I=w.c2l(P)+se(ye)):(z=P-ue(ye),j=P+se(ye),te&&z<j/10&&(z=j/10),O=w.c2l(z),I=w.c2l(j)),ie&&(O=Math.min(0,O),I=Math.max(0,I)),p(O)&&h(X,O,V,he),p(I)&&c(F,I,D,he))}var ge=Math.min(6,H);for(A=0;A<ge;A++)pe(A);for(A=H-1;A>=ge;A--)pe(A);return{min:X,max:F,opts:S}},concatExtremes:u};var l=3;function u(w,d,S){var A,E,P,O=d._id,I=w._fullData,D=w._fullLayout,V=[],z=[];function j(ie,te){for(A=0;A<te.length;A++){var Q=ie[te[A]],ne=(Q._extremes||{})[O];if(Q.visible===!0&&ne){for(E=0;E<ne.min.length;E++)P=ne.min[E],h(V,P.val,P.pad,{extrapad:P.extrapad});for(E=0;E<ne.max.length;E++)P=ne.max[E],c(z,P.val,P.pad,{extrapad:P.extrapad})}}}if(j(I,d._traceIndices),j(D.annotations||[],d._annIndices||[]),j(D.shapes||[],d._shapeIndices||[]),d._matchGroup&&!S){for(var X in d._matchGroup)if(X!==d._id){var F=t(w,X),H=u(w,F,!0),W=d._length/F._length;for(E=0;E<H.min.length;E++)P=H.min[E],h(V,P.val,P.pad*W,{extrapad:P.extrapad});for(E=0;E<H.max.length;E++)P=H.max[E],c(z,P.val,P.pad*W,{extrapad:P.extrapad})}}return{min:V,max:z}}function h(w,d,S,A){x(w,d,S,A,v)}function c(w,d,S,A){x(w,d,S,A,g)}function x(w,d,S,A,E){for(var P=A.tozero,O=A.extrapad,I=!0,D=0;D<w.length&&I;D++){var V=w[D];if(E(V.val,d)&&V.pad>=S&&(V.extrapad||!O)){I=!1;break}E(d,V.val)&&V.pad<=S&&(O||!V.extrapad)&&(w.splice(D,1),D--)}if(I){var z=P&&d===0;w.push({val:d,pad:z?0:S,extrapad:!z&&O})}}function p(w){return k(w)&&Math.abs(w)<_}function v(w,d){return w<=d}function g(w,d){return w>=d}function y(w,d,S){return d===void 0||S===void 0||(d=w.d2l(d))<w.d2l(S)}function m(w,d){if(!d||!d.autorangeoptions)return w;var S=w[0],A=w[1],E=d.autorangeoptions.include;if(E!==void 0){var P=d.d2l(S),O=d.d2l(A);o.isArrayOrTypedArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var D=d.d2l(E[I]);P>=D&&(P=D,S=D),O<=D&&(O=D,A=D)}}return S=function(V,z){var j=z.autorangeoptions;return j&&j.minallowed!==void 0&&y(z,j.minallowed,j.maxallowed)?j.minallowed:j&&j.clipmin!==void 0&&y(z,j.clipmin,j.clipmax)?Math.max(V,z.d2l(j.clipmin)):V}(S,d),A=function(V,z){var j=z.autorangeoptions;return j&&j.maxallowed!==void 0&&y(z,j.minallowed,j.maxallowed)?j.maxallowed:j&&j.clipmax!==void 0&&y(z,j.clipmin,j.clipmax)?Math.min(V,z.d2l(j.clipmax)):V}(A,d),[S,A]}},76808:function(U){U.exports=function(C,e,T){var k,o;if(T){var _=e==="reversed"||e==="min reversed"||e==="max reversed";k=T[_?1:0],o=T[_?0:1]}var b=C("autorangeoptions.minallowed",o===null?k:void 0),f=C("autorangeoptions.maxallowed",k===null?o:void 0);b===void 0&&C("autorangeoptions.clipmin"),f===void 0&&C("autorangeoptions.clipmax"),C("autorangeoptions.include")}},54460:function(U,C,e){var T=e(33428),k=e(38248),o=e(7316),_=e(24040),b=e(3400),f=b.strTranslate,s=e(72736),t=e(81668),i=e(76308),r=e(43616),n=e(94724),a=e(98728),l=e(39032),u=l.ONEMAXYEAR,h=l.ONEAVGYEAR,c=l.ONEMINYEAR,x=l.ONEMAXQUARTER,p=l.ONEAVGQUARTER,v=l.ONEMINQUARTER,g=l.ONEMAXMONTH,y=l.ONEAVGMONTH,m=l.ONEMINMONTH,w=l.ONEWEEK,d=l.ONEDAY,S=d/2,A=l.ONEHOUR,E=l.ONEMIN,P=l.ONESEC,O=l.ONEMILLI,I=l.ONEMICROSEC,D=l.MINUS_SIGN,V=l.BADNUM,z={K:"zeroline"},j={K:"gridline",L:"path"},X={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},H={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ie=e(84284),te=ie.MID_SHIFT,Q=ie.CAP_SHIFT,ne=ie.LINE_SPACING,$=ie.OPPOSITE_SIDE,J=U.exports={};J.setConvert=e(78344);var re=e(52976),se=e(79811),ue=se.idSort,he=se.isLinked;J.id2name=se.id2name,J.name2id=se.name2id,J.cleanId=se.cleanId,J.list=se.list,J.listIds=se.listIds,J.getFromId=se.getFromId,J.getFromTrace=se.getFromTrace;var pe=e(19280);J.getAutoRange=pe.getAutoRange,J.findExtremes=pe.findExtremes;var ge=1e-4;function ye(qe){var je=(qe[1]-qe[0])*ge;return[qe[0]-je,qe[1]+je]}J.coerceRef=function(qe,je,lt,gt,dt,at){var kt=gt.charAt(gt.length-1),wt=lt._fullLayout._subplots[kt+"axis"],Et=gt+"ref",Tt={};return dt||(dt=wt[0]||(typeof at=="string"?at:at[0])),at||(at=dt),wt=wt.concat(wt.map(function(At){return At+" domain"})),Tt[Et]={valType:"enumerated",values:wt.concat(at?typeof at=="string"?[at]:at:[]),dflt:dt},b.coerce(qe,je,Tt,Et)},J.getRefType=function(qe){return qe===void 0?qe:qe==="paper"?"paper":qe==="pixel"?"pixel":/( domain)$/.test(qe)?"domain":"range"},J.coercePosition=function(qe,je,lt,gt,dt,at){var kt,wt;if(J.getRefType(gt)!=="range")kt=b.ensureNumber,wt=lt(dt,at);else{var Et=J.getFromId(je,gt);wt=lt(dt,at=Et.fraction2r(at)),kt=Et.cleanPos}qe[dt]=kt(wt)},J.cleanPosition=function(qe,je,lt){return(lt==="paper"||lt==="pixel"?b.ensureNumber:J.getFromId(je,lt).cleanPos)(qe)},J.redrawComponents=function(qe,je){je=je||J.listIds(qe);var lt=qe._fullLayout;function gt(dt,at,kt,wt){for(var Et=_.getComponentMethod(dt,at),Tt={},At=0;At<je.length;At++)for(var Nt=lt[J.id2name(je[At])][kt],Wt=0;Wt<Nt.length;Wt++){var on=Nt[Wt];if(!Tt[on]&&(Et(qe,on),Tt[on]=1,wt))return}}gt("annotations","drawOne","_annIndices"),gt("shapes","drawOne","_shapeIndices"),gt("images","draw","_imgIndices",!0),gt("selections","drawOne","_selectionIndices")};var be=J.getDataConversions=function(qe,je,lt,gt){var dt,at=lt==="x"||lt==="y"||lt==="z"?lt:gt;if(b.isArrayOrTypedArray(at)){if(dt={type:re(gt,void 0,{autotypenumbers:qe._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(dt),dt.type==="category")for(var kt=0;kt<gt.length;kt++)dt.d2c(gt[kt])}else dt=J.getFromTrace(qe,je,at);return dt?{d2c:dt.d2c,c2d:dt.c2d}:at==="ids"?{d2c:Se,c2d:Se}:{d2c:Te,c2d:Te}};function Te(qe){return+qe}function Se(qe){return String(qe)}function Fe(qe,je){return Math.abs((qe/je+.5)%1-.5)<.001}function xe(qe,je){return Math.abs(qe/je-1)<.001}function le(qe){return+qe.substring(1)}function oe(qe,je){return qe.rangebreaks&&(je=je.filter(function(lt){return qe.maskBreaks(lt.x)!==V})),je}function de(qe){var je=qe._mainAxis,lt=[];if(je._vals){for(var gt=0;gt<je._vals.length;gt++)if(!je._vals[gt].noTick){var dt=je.l2p(je._vals[gt].x),at=qe.p2l(dt),kt=J.tickText(qe,at);je._vals[gt].minor&&(kt.minor=!0,kt.text=""),lt.push(kt)}}return oe(qe,lt)}function Ce(qe,je){var lt=ye(b.simpleMap(qe.range,qe.r2l)),gt=Math.min(lt[0],lt[1]),dt=Math.max(lt[0],lt[1]),at=qe.type==="category"?qe.d2l_noadd:qe.d2l;qe.type==="log"&&String(qe.dtick).charAt(0)!=="L"&&(qe.dtick="L"+Math.pow(10,Math.floor(Math.min(qe.range[0],qe.range[1]))-1));for(var kt=[],wt=0;wt<=1;wt++)if((je===void 0||!(je&&wt||je===!1&&!wt))&&(!wt||qe.minor)){var Et=wt?qe.minor.tickvals:qe.tickvals,Tt=wt?[]:qe.ticktext;if(Et){b.isArrayOrTypedArray(Tt)||(Tt=[]);for(var At=0;At<Et.length;At++){var Nt=at(Et[At]);if(Nt>gt&&Nt<dt){var Wt=J.tickText(qe,Nt,!1,String(Tt[At]));wt&&(Wt.minor=!0,Wt.text=""),kt.push(Wt)}}}}return oe(qe,kt)}J.getDataToCoordFunc=function(qe,je,lt,gt){return be(qe,je,lt,gt).d2c},J.counterLetter=function(qe){var je=qe.charAt(0);return je==="x"?"y":je==="y"?"x":void 0},J.minDtick=function(qe,je,lt,gt){["log","category","multicategory"].indexOf(qe.type)===-1&&gt?qe._minDtick===void 0?(qe._minDtick=je,qe._forceTick0=lt):qe._minDtick&&((qe._minDtick/je+1e-6)%1<2e-6&&((lt-qe._forceTick0)/je%1+1.000001)%1<2e-6?(qe._minDtick=je,qe._forceTick0=lt):((je/qe._minDtick+1e-6)%1>2e-6||((lt-qe._forceTick0)/qe._minDtick%1+1.000001)%1>2e-6)&&(qe._minDtick=0)):qe._minDtick=0},J.saveRangeInitial=function(qe,je){for(var lt=J.list(qe,"",!0),gt=!1,dt=0;dt<lt.length;dt++){var at=lt[dt],kt=at._rangeInitial0===void 0&&at._rangeInitial1===void 0,wt=kt||at.range[0]!==at._rangeInitial0||at.range[1]!==at._rangeInitial1,Et=at.autorange;(kt&&Et!==!0||je&&wt)&&(at._rangeInitial0=Et==="min"||Et==="max reversed"?void 0:at.range[0],at._rangeInitial1=Et==="max"||Et==="min reversed"?void 0:at.range[1],at._autorangeInitial=Et,gt=!0)}return gt},J.saveShowSpikeInitial=function(qe,je){for(var lt=J.list(qe,"",!0),gt=!1,dt="on",at=0;at<lt.length;at++){var kt=lt[at],wt=kt._showSpikeInitial===void 0,Et=wt||kt.showspikes!==kt._showspikes;(wt||je&&Et)&&(kt._showSpikeInitial=kt.showspikes,gt=!0),dt!=="on"||kt.showspikes||(dt="off")}return qe._fullLayout._cartesianSpikesEnabled=dt,gt},J.autoBin=function(qe,je,lt,gt,dt,at){var kt,wt=b.aggNums(Math.min,null,qe),Et=b.aggNums(Math.max,null,qe);if(je.type==="category"||je.type==="multicategory")return{start:wt-.5,end:Et+.5,size:Math.max(1,Math.round(at)||1),_dataSpan:Et-wt};if(dt||(dt=je.calendar),kt=je.type==="log"?{type:"linear",range:[wt,Et]}:{type:je.type,range:b.simpleMap([wt,Et],je.c2r,0,dt),calendar:dt},J.setConvert(kt),at=at&&a.dtick(at,kt.type))kt.dtick=at,kt.tick0=a.tick0(void 0,kt.type,dt);else{var Tt;if(lt)Tt=(Et-wt)/lt;else{var At=b.distinctVals(qe),Nt=Math.pow(10,Math.floor(Math.log(At.minDiff)/Math.LN10)),Wt=Nt*b.roundUp(At.minDiff/Nt,[.9,1.9,4.9,9.9],!0);Tt=Math.max(Wt,2*b.stdev(qe)/Math.pow(qe.length,gt?.25:.4)),k(Tt)||(Tt=1)}J.autoTicks(kt,Tt)}var on,cn=kt.dtick,un=J.tickIncrement(J.tickFirst(kt),cn,"reverse",dt);if(typeof cn=="number")un=function(Xt,tn,kn,fn,Qt){var pn=0,nn=0,sn=0,Sn=0;function wn(Nn){return(1+100*(Nn-Xt)/kn.dtick)%100<2}for(var Dn=0;Dn<tn.length;Dn++)tn[Dn]%1==0?sn++:k(tn[Dn])||Sn++,wn(tn[Dn])&&pn++,wn(tn[Dn]+kn.dtick/2)&&nn++;var Tn=tn.length-Sn;if(sn===Tn&&kn.type!=="date")kn.dtick<1?Xt=fn-.5*kn.dtick:(Xt-=.5)+kn.dtick<fn&&(Xt+=kn.dtick);else if(nn<.1*Tn&&(pn>.3*Tn||wn(fn)||wn(Qt))){var Pn=kn.dtick/2;Xt+=Xt+Pn<fn?Pn:-Pn}return Xt}(un,qe,kt,wt,Et),on=un+(1+Math.floor((Et-un)/cn))*cn;else for(kt.dtick.charAt(0)==="M"&&(un=function(Xt,tn,kn,fn,Qt){var pn=b.findExactDates(tn,Qt);if(pn.exactDays>.8){var nn=Number(kn.substr(1));pn.exactYears>.8&&nn%12==0?Xt=J.tickIncrement(Xt,"M6","reverse")+1.5*d:pn.exactMonths>.8?Xt=J.tickIncrement(Xt,"M1","reverse")+15.5*d:Xt-=S;var sn=J.tickIncrement(Xt,kn);if(sn<=fn)return sn}return Xt}(un,qe,cn,wt,dt)),on=un;on<=Et;)on=J.tickIncrement(on,cn,!1,dt);return{start:je.c2r(un,0,dt),end:je.c2r(on,0,dt),size:cn,_dataSpan:Et-wt}},J.prepMinorTicks=function(qe,je,lt){if(!je.minor.dtick){delete qe.dtick;var gt,dt=je.dtick&&k(je._tmin);if(dt){var at=J.tickIncrement(je._tmin,je.dtick,!0);gt=[je._tmin,.99*at+.01*je._tmin]}else{var kt=b.simpleMap(je.range,je.r2l);gt=[kt[0],.8*kt[0]+.2*kt[1]]}if(qe.range=b.simpleMap(gt,je.l2r),qe._isMinor=!0,J.prepTicks(qe,lt),dt){var wt=k(je.dtick),Et=k(qe.dtick),Tt=wt?je.dtick:+je.dtick.substring(1),At=Et?qe.dtick:+qe.dtick.substring(1);wt&&Et?Fe(Tt,At)?Tt===2*w&&At===2*d&&(qe.dtick=w):Tt===2*w&&At===3*d?qe.dtick=w:Tt!==w||(je._input.minor||{}).nticks?xe(Tt/At,2.5)?qe.dtick=Tt/2:qe.dtick=Tt:qe.dtick=d:String(je.dtick).charAt(0)==="M"?Et?qe.dtick="M1":Fe(Tt,At)?Tt>=12&&At===2&&(qe.dtick="M3"):qe.dtick=je.dtick:String(qe.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?Fe(Tt,At)||(qe.dtick=xe(Tt/At,2.5)?je.dtick/2:je.dtick):qe.dtick="D1":qe.dtick==="D2"&&+je.dtick>1&&(qe.dtick=1)}qe.range=je.range}je.minor._tick0Init===void 0&&(qe.tick0=je.tick0)},J.prepTicks=function(qe,je){var lt=b.simpleMap(qe.range,qe.r2l,void 0,void 0,je);if(qe.tickmode==="auto"||!qe.dtick){var gt,dt=qe.nticks;dt||(qe.type==="category"||qe.type==="multicategory"?(gt=qe.tickfont?b.bigFont(qe.tickfont.size||12):15,dt=qe._length/gt):(gt=qe._id.charAt(0)==="y"?40:80,dt=b.constrain(qe._length/gt,4,9)+1),qe._name==="radialaxis"&&(dt*=2)),qe.minor&&qe.minor.tickmode!=="array"||qe.tickmode==="array"&&(dt*=100),qe._roughDTick=Math.abs(lt[1]-lt[0])/dt,J.autoTicks(qe,qe._roughDTick),qe._minDtick>0&&qe.dtick<2*qe._minDtick&&(qe.dtick=qe._minDtick,qe.tick0=qe.l2r(qe._forceTick0))}qe.ticklabelmode==="period"&&function(at){var kt;function wt(){return!(k(at.dtick)||at.dtick.charAt(0)!=="M")}var Et=wt(),Tt=J.getTickFormat(at);if(Tt){var At=at._dtickInit!==at.dtick;/%[fLQsSMX]/.test(Tt)||(/%[HI]/.test(Tt)?(kt=A,At&&!Et&&at.dtick<A&&(at.dtick=A)):/%p/.test(Tt)?(kt=S,At&&!Et&&at.dtick<S&&(at.dtick=S)):/%[Aadejuwx]/.test(Tt)?(kt=d,At&&!Et&&at.dtick<d&&(at.dtick=d)):/%[UVW]/.test(Tt)?(kt=w,At&&!Et&&at.dtick<w&&(at.dtick=w)):/%[Bbm]/.test(Tt)?(kt=y,At&&(Et?le(at.dtick)<1:at.dtick<m)&&(at.dtick="M1")):/%[q]/.test(Tt)?(kt=p,At&&(Et?le(at.dtick)<3:at.dtick<v)&&(at.dtick="M3")):/%[Yy]/.test(Tt)&&(kt=h,At&&(Et?le(at.dtick)<12:at.dtick<c)&&(at.dtick="M12")))}(Et=wt())&&at.tick0===at._dowTick0&&(at.tick0=at._rawTick0),at._definedDelta=kt}(qe),qe.tick0||(qe.tick0=qe.type==="date"?"2000-01-01":0),qe.type==="date"&&qe.dtick<.1&&(qe.dtick=.1),De(qe)},J.calcTicks=function(qe,je){for(var lt,gt,dt,at,kt=qe.type,wt=qe.calendar,Et=qe.ticklabelstep,Tt=qe.ticklabelmode==="period",At=qe.range[0]>qe.range[1],Nt=!qe.ticklabelindex||b.isArrayOrTypedArray(qe.ticklabelindex)?qe.ticklabelindex:[qe.ticklabelindex],Wt=b.simpleMap(qe.range,qe.r2l,void 0,void 0,je),on=Wt[1]<Wt[0],cn=Math.min(Wt[0],Wt[1]),un=Math.max(Wt[0],Wt[1]),Xt=Math.max(1e3,qe._length||0),tn=[],kn=[],fn=[],Qt=[],pn=[],nn=qe.minor&&(qe.minor.ticks||qe.minor.showgrid),sn=1;sn>=(nn?0:1);sn--){var Sn=!sn;sn?(qe._dtickInit=qe.dtick,qe._tick0Init=qe.tick0):(qe.minor._dtickInit=qe.minor.dtick,qe.minor._tick0Init=qe.minor.tick0);var wn=sn?qe:b.extendFlat({},qe,qe.minor);if(Sn?J.prepMinorTicks(wn,qe,je):J.prepTicks(wn,je),wn.tickmode!=="array")if(wn.tickmode!=="sync"){var Dn=ye(Wt),Tn=Dn[0],Pn=Dn[1],Nn=k(wn.dtick),$n=kt==="log"&&!(Nn||wn.dtick.charAt(0)==="L"),pr=J.tickFirst(wn,je);if(sn){if(qe._tmin=pr,pr<Tn!==on)break;kt!=="category"&&kt!=="multicategory"||(Pn=on?Math.max(-.5,Pn):Math.min(qe._categories.length-.5,Pn))}var Hn,Qn,er=null,ur=pr;sn&&(Nn?Qn=qe.dtick:kt==="date"?typeof qe.dtick=="string"&&qe.dtick.charAt(0)==="M"&&(Qn=y*qe.dtick.substring(1)):Qn=qe._roughDTick,Hn=Math.round((qe.r2l(ur)-qe.r2l(qe.tick0))/Qn)-1);var $t=wn.dtick;for(wn.rangebreaks&&wn._tick0Init!==wn.tick0&&(ur=ft(ur,qe),on||(ur=J.tickIncrement(ur,$t,!on,wt))),sn&&Tt&&(ur=J.tickIncrement(ur,$t,!on,wt),Hn--);on?ur>=Pn:ur<=Pn;ur=J.tickIncrement(ur,$t,on,wt)){if(sn&&Hn++,wn.rangebreaks&&!on){if(ur<Tn)continue;if(wn.maskBreaks(ur)===V&&ft(ur,wn)>=un)break}if(fn.length>Xt||ur===er)break;er=ur;var rn={value:ur};sn?($n&&ur!==(0|ur)&&(rn.simpleLabel=!0),Et>1&&Hn%Et&&(rn.skipLabel=!0),fn.push(rn)):(rn.minor=!0,Qt.push(rn))}}else fn=[],tn=de(qe);else sn?(fn=[],tn=Ce(qe,!Sn)):(Qt=[],kn=Ce(qe,!Sn))}if(!Qt||Qt.length<2?Nt=!1:(lt=(Qt[1].value-Qt[0].value)*(At?-1:1),gt=qe.tickformat,(/%f/.test(gt)?lt>=I:/%L/.test(gt)?lt>=O:/%[SX]/.test(gt)?lt>=P:/%M/.test(gt)?lt>=E:/%[HI]/.test(gt)?lt>=A:/%p/.test(gt)?lt>=S:/%[Aadejuwx]/.test(gt)?lt>=d:/%[UVW]/.test(gt)?lt>=w:/%[Bbm]/.test(gt)?lt>=m:/%[q]/.test(gt)?lt>=v:!/%[Yy]/.test(gt)||lt>=c)||(Nt=!1)),Nt){var On=fn.concat(Qt);Tt&&fn.length&&(On=On.slice(1)),(On=On.sort(function(qt,Vt){return qt.value-Vt.value}).filter(function(qt,Vt,an){return Vt===0||qt.value!==an[Vt-1].value})).map(function(qt,Vt){return qt.minor!==void 0||qt.skipLabel?null:Vt}).filter(function(qt){return qt!==null}).forEach(function(qt){Nt.map(function(Vt){var an=qt+Vt;an>=0&&an<On.length&&b.pushUnique(pn,On[an])})})}else pn=fn;if(nn&&!(qe.minor.ticks==="inside"&&qe.ticks==="outside"||qe.minor.ticks==="outside"&&qe.ticks==="inside")){for(var xn=fn.map(function(qt){return qt.value}),In=[],Gn=0;Gn<Qt.length;Gn++){var qn=Qt[Gn],ir=qn.value;if(xn.indexOf(ir)===-1){for(var dr=!1,Kt=0;!dr&&Kt<fn.length;Kt++)1e7+fn[Kt].value===1e7+ir&&(dr=!0);dr||In.push(qn)}}Qt=In}if(Tt&&function(qt,Vt,an){for(var En=0;En<qt.length;En++){var Fn=qt[En].value,Rn=En,jn=En+1;En<qt.length-1?(Rn=En,jn=En+1):En>0?(Rn=En-1,jn=En):(Rn=En,jn=En);var tr,Zn=qt[Rn].value,nr=qt[jn].value,Yn=Math.abs(nr-Zn),Jn=an||Yn,cr=0;Jn>=c?cr=Yn>=c&&Yn<=u?Yn:h:an===p&&Jn>=v?cr=Yn>=v&&Yn<=x?Yn:p:Jn>=m?cr=Yn>=m&&Yn<=g?Yn:y:an===w&&Jn>=w?cr=w:Jn>=d?cr=d:an===S&&Jn>=S?cr=S:an===A&&Jn>=A&&(cr=A),cr>=Yn&&(cr=Yn,tr=!0);var Tr=Fn+cr;if(Vt.rangebreaks&&cr>0){for(var gr=0,ar=0;ar<84;ar++){var xr=(ar+.5)/84;Vt.maskBreaks(Fn*(1-xr)+xr*Tr)!==V&&gr++}(cr*=gr/84)||(qt[En].drop=!0),tr&&Yn>w&&(cr=Yn)}(cr>0||En===0)&&(qt[En].periodX=Fn+cr/2)}}(pn,qe,qe._definedDelta),qe.rangebreaks){var bn=qe._id.charAt(0)==="y",Dt=1;qe.tickmode==="auto"&&(Dt=qe.tickfont?qe.tickfont.size:12);var Ut=NaN;for(dt=fn.length-1;dt>-1;dt--)if(fn[dt].drop)fn.splice(dt,1);else{fn[dt].value=ft(fn[dt].value,qe);var en=qe.c2p(fn[dt].value);(bn?Ut>en-Dt:Ut<en+Dt)?fn.splice(on?dt+1:dt,1):Ut=en}}Ke(qe)&&Math.abs(Wt[1]-Wt[0])===360&&fn.pop(),qe._tmax=(fn[fn.length-1]||{}).value,qe._prevDateHead="",qe._inCalcTicks=!0;var gn,vn=function(qt){qt.text="",qe._prevDateHead=at};function Mn(qt,Vt){var an=J.tickText(qt,Vt.value,!1,Vt.simpleLabel),En=Vt.periodX;return En!==void 0&&(an.periodX=En,(En>un||En<cn)&&(En>un&&(an.periodX=un),En<cn&&(an.periodX=cn),vn(an))),an}for(fn=fn.concat(Qt),dt=0;dt<fn.length;dt++){var yn=fn[dt].minor,hn=fn[dt].value;yn?((gn=Nt&&pn.indexOf(fn[dt])!==-1?Mn(qe,fn[dt]):{x:hn}).minor=!0,kn.push(gn)):(at=qe._prevDateHead,gn=Mn(qe,fn[dt]),(fn[dt].skipLabel||Nt&&pn.indexOf(fn[dt])===-1)&&vn(gn),tn.push(gn))}return tn=tn.concat(kn),qe._inCalcTicks=!1,Tt&&tn.length&&(tn[0].noTick=!0),tn};var _e=[2,5,10],Ae=[1,2,3,6,12],Le=[1,2,5,10,15,30],ze=[1,2,3,7,14],Re=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ve=[-.301,0,.301,.699,1],ke=[15,30,45,90,180];function Ee(qe,je,lt){return je*b.roundUp(qe/je,lt)}function De(qe){var je=qe.dtick;if(qe._tickexponent=0,k(je)||typeof je=="string"||(je=1),qe.type!=="category"&&qe.type!=="multicategory"||(qe._tickround=null),qe.type==="date"){var lt=qe.r2l(qe.tick0),gt=qe.l2r(lt).replace(/(^-|i)/g,""),dt=gt.length;if(String(je).charAt(0)==="M")dt>10||gt.substr(5)!=="01-01"?qe._tickround="d":qe._tickround=+je.substr(1)%12==0?"y":"m";else if(je>=d&&dt<=10||je>=15*d)qe._tickround="d";else if(je>=E&&dt<=16||je>=A)qe._tickround="M";else if(je>=P&&dt<=19||je>=E)qe._tickround="S";else{var at=qe.l2r(lt+je).replace(/^-/,"").length;qe._tickround=Math.max(dt,at)-20,qe._tickround<0&&(qe._tickround=4)}}else if(k(je)||je.charAt(0)==="L"){var kt=qe.range.map(qe.r2d||Number);k(je)||(je=Number(je.substr(1))),qe._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var wt=Math.max(Math.abs(kt[0]),Math.abs(kt[1])),Et=Math.floor(Math.log(wt)/Math.LN10+.01),Tt=qe.minexponent===void 0?3:qe.minexponent;Math.abs(Et)>Tt&&(We(qe.exponentformat)&&!$e(Et)?qe._tickexponent=3*Math.round((Et-1)/3):qe._tickexponent=Et)}else qe._tickround=null}function Pe(qe,je,lt){var gt=qe.tickfont||{};return{x:je,dx:0,dy:0,text:lt||"",fontSize:gt.size,font:gt.family,fontWeight:gt.weight,fontStyle:gt.style,fontVariant:gt.variant,fontTextcase:gt.textcase,fontLineposition:gt.lineposition,fontShadow:gt.shadow,fontColor:gt.color}}J.autoTicks=function(qe,je,lt){var gt;function dt(Nt){return Math.pow(Nt,Math.floor(Math.log(je)/Math.LN10))}if(qe.type==="date"){qe.tick0=b.dateTick0(qe.calendar,0);var at=2*je;if(at>h)je/=h,gt=dt(10),qe.dtick="M"+12*Ee(je,gt,_e);else if(at>y)je/=y,qe.dtick="M"+Ee(je,1,Ae);else if(at>d){if(qe.dtick=Ee(je,d,qe._hasDayOfWeekBreaks?[1,2,7,14]:ze),!lt){var kt=J.getTickFormat(qe),wt=qe.ticklabelmode==="period";wt&&(qe._rawTick0=qe.tick0),/%[uVW]/.test(kt)?qe.tick0=b.dateTick0(qe.calendar,2):qe.tick0=b.dateTick0(qe.calendar,1),wt&&(qe._dowTick0=qe.tick0)}}else at>A?qe.dtick=Ee(je,A,Ae):at>E?qe.dtick=Ee(je,E,Le):at>P?qe.dtick=Ee(je,P,Le):(gt=dt(10),qe.dtick=Ee(je,gt,_e))}else if(qe.type==="log"){qe.tick0=0;var Et=b.simpleMap(qe.range,qe.r2l);if(qe._isMinor&&(je*=1.5),je>.7)qe.dtick=Math.ceil(je);else if(Math.abs(Et[1]-Et[0])<1){var Tt=1.5*Math.abs((Et[1]-Et[0])/je);je=Math.abs(Math.pow(10,Et[1])-Math.pow(10,Et[0]))/Tt,gt=dt(10),qe.dtick="L"+Ee(je,gt,_e)}else qe.dtick=je>.3?"D2":"D1"}else qe.type==="category"||qe.type==="multicategory"?(qe.tick0=0,qe.dtick=Math.ceil(Math.max(je,1))):Ke(qe)?(qe.tick0=0,gt=1,qe.dtick=Ee(je,gt,ke)):(qe.tick0=0,gt=dt(10),qe.dtick=Ee(je,gt,_e));if(qe.dtick===0&&(qe.dtick=1),!k(qe.dtick)&&typeof qe.dtick!="string"){var At=qe.dtick;throw qe.dtick=1,"ax.dtick error: "+String(At)}},J.tickIncrement=function(qe,je,lt,gt){var dt=lt?-1:1;if(k(je))return b.increment(qe,dt*je);var at=je.charAt(0),kt=dt*Number(je.substr(1));if(at==="M")return b.incrementMonth(qe,kt,gt);if(at==="L")return Math.log(Math.pow(10,qe)+kt)/Math.LN10;if(at==="D"){var wt=je==="D2"?ve:Re,Et=qe+.01*dt,Tt=b.roundUp(b.mod(Et,1),wt,lt);return Math.floor(Et)+Math.log(T.round(Math.pow(10,Tt),1))/Math.LN10}throw"unrecognized dtick "+String(je)},J.tickFirst=function(qe,je){var lt=qe.r2l||Number,gt=b.simpleMap(qe.range,lt,void 0,void 0,je),dt=gt[1]<gt[0],at=dt?Math.floor:Math.ceil,kt=ye(gt)[0],wt=qe.dtick,Et=lt(qe.tick0);if(k(wt)){var Tt=at((kt-Et)/wt)*wt+Et;return qe.type!=="category"&&qe.type!=="multicategory"||(Tt=b.constrain(Tt,0,qe._categories.length-1)),Tt}var At=wt.charAt(0),Nt=Number(wt.substr(1));if(At==="M"){for(var Wt,on,cn,un=0,Xt=Et;un<10;){if(((Wt=J.tickIncrement(Xt,wt,dt,qe.calendar))-kt)*(Xt-kt)<=0)return dt?Math.min(Xt,Wt):Math.max(Xt,Wt);on=(kt-(Xt+Wt)/2)/(Wt-Xt),cn=At+(Math.abs(Math.round(on))||1)*Nt,Xt=J.tickIncrement(Xt,cn,on<0?!dt:dt,qe.calendar),un++}return b.error("tickFirst did not converge",qe),Xt}if(At==="L")return Math.log(at((Math.pow(10,kt)-Et)/Nt)*Nt+Et)/Math.LN10;if(At==="D"){var tn=wt==="D2"?ve:Re,kn=b.roundUp(b.mod(kt,1),tn,dt);return Math.floor(kt)+Math.log(T.round(Math.pow(10,kn),1))/Math.LN10}throw"unrecognized dtick "+String(wt)},J.tickText=function(qe,je,lt,gt){var dt,at=Pe(qe,je),kt=qe.tickmode==="array",wt=lt||kt,Et=qe.type,Tt=Et==="category"?qe.d2l_noadd:qe.d2l,At=function(Xt){var tn=qe.l2p(Xt);return tn>=0&&tn<=qe._length?Xt:null};if(kt&&b.isArrayOrTypedArray(qe.ticktext)){var Nt=b.simpleMap(qe.range,qe.r2l),Wt=(Math.abs(Nt[1]-Nt[0])-(qe._lBreaks||0))/1e4;for(dt=0;dt<qe.ticktext.length&&!(Math.abs(je-Tt(qe.tickvals[dt]))<Wt);dt++);if(dt<qe.ticktext.length)return at.text=String(qe.ticktext[dt]),at.xbnd=[At(at.x-.5),At(at.x+qe.dtick-.5)],at}function on(Xt){if(Xt===void 0)return!0;if(lt)return Xt==="none";var tn={first:qe._tmin,last:qe._tmax}[Xt];return Xt!=="all"&&je!==tn}var cn=lt?"never":qe.exponentformat!=="none"&&on(qe.showexponent)?"hide":"";if(Et==="date"?function(Xt,tn,kn,fn){var Qt=Xt._tickround,pn=kn&&Xt.hoverformat||J.getTickFormat(Xt);(fn=!pn&&fn)&&(Qt=k(Qt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Qt]);var nn,sn=b.formatDate(tn.x,pn,Qt,Xt._dateFormat,Xt.calendar,Xt._extraFormat),Sn=sn.indexOf(`
`);if(Sn!==-1&&(nn=sn.substr(Sn+1),sn=sn.substr(0,Sn)),fn&&(nn===void 0||sn!=="00:00:00"&&sn!=="00:00"?sn.length===8&&(sn=sn.replace(/:00$/,"")):(sn=nn,nn="")),nn)if(kn)Qt==="d"?sn+=", "+nn:sn=nn+(sn?", "+sn:"");else if(Xt._inCalcTicks&&Xt._prevDateHead===nn){var wn=ut(Xt),Dn=Xt._trueSide||Xt.side;(!wn&&Dn==="top"||wn&&Dn==="bottom")&&(sn+="<br> ")}else Xt._prevDateHead=nn,sn+="<br>"+nn;tn.text=sn}(qe,at,lt,wt):Et==="log"?function(Xt,tn,kn,fn,Qt){var pn=Xt.dtick,nn=tn.x,sn=Xt.tickformat,Sn=typeof pn=="string"&&pn.charAt(0);if(Qt==="never"&&(Qt=""),fn&&Sn!=="L"&&(pn="L3",Sn="L"),sn||Sn==="L")tn.text=ot(Math.pow(10,nn),Xt,Qt,fn);else if(k(pn)||Sn==="D"&&b.mod(nn+.01,1)<.1){var wn=Math.round(nn),Dn=Math.abs(wn),Tn=Xt.exponentformat;Tn==="power"||We(Tn)&&$e(wn)?(tn.text=wn===0?1:wn===1?"10":"10<sup>"+(wn>1?"":D)+Dn+"</sup>",tn.fontSize*=1.25):(Tn==="e"||Tn==="E")&&Dn>2?tn.text="1"+Tn+(wn>0?"+":D)+Dn:(tn.text=ot(Math.pow(10,nn),Xt,"","fakehover"),pn==="D1"&&Xt._id.charAt(0)==="y"&&(tn.dy-=tn.fontSize/6))}else{if(Sn!=="D")throw"unrecognized dtick "+String(pn);tn.text=String(Math.round(Math.pow(10,b.mod(nn,1)))),tn.fontSize*=.75}if(Xt.dtick==="D1"){var Pn=String(tn.text).charAt(0);Pn!=="0"&&Pn!=="1"||(Xt._id.charAt(0)==="y"?tn.dx-=tn.fontSize/4:(tn.dy+=tn.fontSize/2,tn.dx+=(Xt.range[1]>Xt.range[0]?1:-1)*tn.fontSize*(nn<0?.5:.25)))}}(qe,at,0,wt,cn):Et==="category"?function(Xt,tn){var kn=Xt._categories[Math.round(tn.x)];kn===void 0&&(kn=""),tn.text=String(kn)}(qe,at):Et==="multicategory"?function(Xt,tn,kn){var fn=Math.round(tn.x),Qt=Xt._categories[fn]||[],pn=Qt[1]===void 0?"":String(Qt[1]),nn=Qt[0]===void 0?"":String(Qt[0]);kn?tn.text=nn+" - "+pn:(tn.text=pn,tn.text2=nn)}(qe,at,lt):Ke(qe)?function(Xt,tn,kn,fn,Qt){if(Xt.thetaunit!=="radians"||kn)tn.text=ot(tn.x,Xt,Qt,fn);else{var pn=tn.x/180;if(pn===0)tn.text="0";else{var nn=function(Sn){function wn(Nn,$n){return Math.abs(Nn-$n)<=1e-6}var Dn=function(Nn){for(var $n=1;!wn(Math.round(Nn*$n)/$n,Nn);)$n*=10;return $n}(Sn),Tn=Sn*Dn,Pn=Math.abs(function Nn($n,pr){return wn(pr,0)?$n:Nn(pr,$n%pr)}(Tn,Dn));return[Math.round(Tn/Pn),Math.round(Dn/Pn)]}(pn);if(nn[1]>=100)tn.text=ot(b.deg2rad(tn.x),Xt,Qt,fn);else{var sn=tn.x<0;nn[1]===1?nn[0]===1?tn.text="":tn.text=nn[0]+"":tn.text=["<sup>",nn[0],"</sup>","","<sub>",nn[1],"</sub>",""].join(""),sn&&(tn.text=D+tn.text)}}}}(qe,at,lt,wt,cn):function(Xt,tn,kn,fn,Qt){Qt==="never"?Qt="":Xt.showexponent==="all"&&Math.abs(tn.x/Xt.dtick)<1e-6&&(Qt="hide"),tn.text=ot(tn.x,Xt,Qt,fn)}(qe,at,0,wt,cn),gt||(qe.tickprefix&&!on(qe.showtickprefix)&&(at.text=qe.tickprefix+at.text),qe.ticksuffix&&!on(qe.showticksuffix)&&(at.text+=qe.ticksuffix)),qe.labelalias&&qe.labelalias.hasOwnProperty(at.text)){var un=qe.labelalias[at.text];typeof un=="string"&&(at.text=un)}return(qe.tickson==="boundaries"||qe.showdividers)&&(at.xbnd=[At(at.x-.5),At(at.x+qe.dtick-.5)]),at},J.hoverLabelText=function(qe,je,lt){lt&&(qe=b.extendFlat({},qe,{hoverformat:lt}));var gt=b.isArrayOrTypedArray(je)?je[0]:je,dt=b.isArrayOrTypedArray(je)?je[1]:void 0;if(dt!==void 0&&dt!==gt)return J.hoverLabelText(qe,gt,lt)+" - "+J.hoverLabelText(qe,dt,lt);var at=qe.type==="log"&&gt<=0,kt=J.tickText(qe,qe.c2l(at?-gt:gt),"hover").text;return at?gt===0?"0":D+kt:kt};var Ue=["f","p","n","","m","","k","M","G","T"];function We(qe){return qe==="SI"||qe==="B"}function $e(qe){return qe>14||qe<-15}function ot(qe,je,lt,gt){var dt=qe<0,at=je._tickround,kt=lt||je.exponentformat||"B",wt=je._tickexponent,Et=J.getTickFormat(je),Tt=je.separatethousands;if(gt){var At={exponentformat:kt,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:k(qe)&&Math.abs(qe)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,qe||1]};De(At),at=(Number(At._tickround)||0)+4,wt=At._tickexponent,je.hoverformat&&(Et=je.hoverformat)}if(Et)return je._numFormat(Et)(qe).replace(/-/g,D);var Nt,Wt=Math.pow(10,-at)/2;if(kt==="none"&&(wt=0),(qe=Math.abs(qe))<Wt)qe="0",dt=!1;else{if(qe+=Wt,wt&&(qe*=Math.pow(10,-wt),at+=wt),at===0)qe=String(Math.floor(qe));else if(at<0){qe=(qe=String(Math.round(qe))).substr(0,qe.length+at);for(var on=at;on<0;on++)qe+="0"}else{var cn=(qe=String(qe)).indexOf(".")+1;cn&&(qe=qe.substr(0,cn+at).replace(/\.?0+$/,""))}qe=b.numSeparate(qe,je._separators,Tt)}return wt&&kt!=="hide"&&(We(kt)&&$e(wt)&&(kt="power"),Nt=wt<0?D+-wt:kt!=="power"?"+"+wt:String(wt),kt==="e"||kt==="E"?qe+=kt+Nt:kt==="power"?qe+="10<sup>"+Nt+"</sup>":kt==="B"&&wt===9?qe+="B":We(kt)&&(qe+=Ue[wt/3+5])),dt?D+qe:qe}function st(qe,je){if(qe){var lt=Object.keys(W).reduce(function(gt,dt){return je.indexOf(dt)!==-1&&W[dt].forEach(function(at){gt[at]=1}),gt},{});Object.keys(qe).forEach(function(gt){lt[gt]||(gt.length===1?qe[gt]=0:delete qe[gt])})}}function mt(qe,je){for(var lt=[],gt={},dt=0;dt<je.length;dt++){var at=je[dt];gt[at.text2]?gt[at.text2].push(at.x):gt[at.text2]=[at.x]}for(var kt in gt)lt.push(Pe(qe,b.interp(gt[kt],.5),kt));return lt}function _t(qe){return qe.periodX!==void 0?qe.periodX:qe.x}function yt(qe){return[qe.text,qe.x,qe.axInfo,qe.font,qe.fontSize,qe.fontColor].join("_")}function it(qe){var je=qe.title.font.size,lt=(qe.title.text.match(s.BR_TAG_ALL)||[]).length;return qe.title.hasOwnProperty("standoff")?je*(Q+lt*ne):lt?je*(lt+1)*ne:je}function tt(qe,je){var lt=qe.l2p(je);return lt>1&&lt<qe._length-1}function Pt(qe){var je=T.select(qe),lt=je.select(".text-math-group");return lt.empty()?je.select("text"):lt}function Rt(qe){return qe._id+".automargin"}function Ft(qe){return Rt(qe)+".mirror"}function Ot(qe){return qe._id+".rangeslider"}function Xe(qe,je){for(var lt=0;lt<je.length;lt++)qe.indexOf(je[lt])===-1&&qe.push(je[lt])}function Je(qe,je,lt){var gt,dt,at=[],kt=[],wt=qe.layout;for(gt=0;gt<je.length;gt++)at.push(J.getFromId(qe,je[gt]));for(gt=0;gt<lt.length;gt++)kt.push(J.getFromId(qe,lt[gt]));var Et=Object.keys(n),Tt=["anchor","domain","overlaying","position","side","tickangle","editType"],At=["linear","log"];for(gt=0;gt<Et.length;gt++){var Nt=Et[gt],Wt=at[0][Nt],on=kt[0][Nt],cn=!0,un=!1,Xt=!1;if(Nt.charAt(0)!=="_"&&typeof Wt!="function"&&Tt.indexOf(Nt)===-1){for(dt=1;dt<at.length&&cn;dt++){var tn=at[dt][Nt];Nt==="type"&&At.indexOf(Wt)!==-1&&At.indexOf(tn)!==-1&&Wt!==tn?un=!0:tn!==Wt&&(cn=!1)}for(dt=1;dt<kt.length&&cn;dt++){var kn=kt[dt][Nt];Nt==="type"&&At.indexOf(on)!==-1&&At.indexOf(kn)!==-1&&on!==kn?Xt=!0:kt[dt][Nt]!==on&&(cn=!1)}cn&&(un&&(wt[at[0]._name].type="linear"),Xt&&(wt[kt[0]._name].type="linear"),Ve(wt,Nt,at,kt,qe._fullLayout._dfltTitle))}}for(gt=0;gt<qe._fullLayout.annotations.length;gt++){var fn=qe._fullLayout.annotations[gt];je.indexOf(fn.xref)!==-1&&lt.indexOf(fn.yref)!==-1&&b.swapAttrs(wt.annotations[gt],["?"])}}function Ve(qe,je,lt,gt,dt){var at,kt=b.nestedProperty,wt=kt(qe[lt[0]._name],je).get(),Et=kt(qe[gt[0]._name],je).get();for(je==="title"&&(wt&&wt.text===dt.x&&(wt.text=dt.y),Et&&Et.text===dt.y&&(Et.text=dt.x)),at=0;at<lt.length;at++)kt(qe,lt[at]._name+"."+je).set(Et);for(at=0;at<gt.length;at++)kt(qe,gt[at]._name+"."+je).set(wt)}function Ke(qe){return qe._id==="angularaxis"}function ft(qe,je){for(var lt=je._rangebreaks.length,gt=0;gt<lt;gt++){var dt=je._rangebreaks[gt];if(qe>=dt.min&&qe<dt.max)return dt.max}return qe}function ut(qe){return(qe.ticklabelposition||"").indexOf("inside")!==-1}function xt(qe,je){ut(qe._anchorAxis||{})&&qe._hideCounterAxisInsideTickLabels&&qe._hideCounterAxisInsideTickLabels(je)}function bt(qe,je,lt,gt){var dt,at=qe.anchor==="free"||qe.overlaying!==void 0&&qe.overlaying!==!1?qe.overlaying:qe._id;dt=gt?qe.side==="right"?je:-je:je,at in lt||(lt[at]={}),qe.side in lt[at]||(lt[at][qe.side]=0),lt[at][qe.side]+=dt}J.getTickFormat=function(qe){var je,lt,gt,dt,at,kt,wt,Et;function Tt(Wt){return typeof Wt!="string"?Wt:Number(Wt.replace("M",""))*y}function At(Wt,on){var cn=["L","D"];if(typeof Wt==typeof on){if(typeof Wt=="number")return Wt-on;var un=cn.indexOf(Wt.charAt(0)),Xt=cn.indexOf(on.charAt(0));return un===Xt?Number(Wt.replace(/(L|D)/g,""))-Number(on.replace(/(L|D)/g,"")):un-Xt}return typeof Wt=="number"?1:-1}function Nt(Wt,on){var cn=on[0]===null,un=on[1]===null,Xt=At(Wt,on[0])>=0,tn=At(Wt,on[1])<=0;return(cn||Xt)&&(un||tn)}if(qe.tickformatstops&&qe.tickformatstops.length>0)switch(qe.type){case"date":case"linear":for(je=0;je<qe.tickformatstops.length;je++)if((gt=qe.tickformatstops[je]).enabled&&(dt=qe.dtick,at=gt.dtickrange,kt=void 0,wt=void 0,Et=void 0,kt=Tt||function(Wt){return Wt},wt=at[0],Et=at[1],(!wt&&typeof wt!="number"||kt(wt)<=kt(dt))&&(!Et&&typeof Et!="number"||kt(Et)>=kt(dt)))){lt=gt;break}break;case"log":for(je=0;je<qe.tickformatstops.length;je++)if((gt=qe.tickformatstops[je]).enabled&&Nt(qe.dtick,gt.dtickrange)){lt=gt;break}}return lt?lt.value:qe.tickformat},J.getSubplots=function(qe,je){var lt=qe._fullLayout._subplots,gt=lt.cartesian.concat(lt.gl2d||[]),dt=je?J.findSubplotsWithAxis(gt,je):gt;return dt.sort(function(at,kt){var wt=at.substr(1).split("y"),Et=kt.substr(1).split("y");return wt[0]===Et[0]?+wt[1]-+Et[1]:+wt[0]-+Et[0]}),dt},J.findSubplotsWithAxis=function(qe,je){for(var lt=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),gt=[],dt=0;dt<qe.length;dt++){var at=qe[dt];lt.test(at)&&gt.push(at)}return gt},J.makeClipPaths=function(qe){var je=qe._fullLayout;if(!je._hasOnlyLargeSploms){var lt,gt,dt={_offset:0,_length:je.width,_id:""},at={_offset:0,_length:je.height,_id:""},kt=J.list(qe,"x",!0),wt=J.list(qe,"y",!0),Et=[];for(lt=0;lt<kt.length;lt++)for(Et.push({x:kt[lt],y:at}),gt=0;gt<wt.length;gt++)lt===0&&Et.push({x:dt,y:wt[gt]}),Et.push({x:kt[lt],y:wt[gt]});var Tt=je._clips.selectAll(".axesclip").data(Et,function(At){return At.x._id+At.y._id});Tt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(At){return"clip"+je._uid+At.x._id+At.y._id}).append("rect"),Tt.exit().remove(),Tt.each(function(At){T.select(this).select("rect").attr({x:At.x._offset||0,y:At.y._offset||0,width:At.x._length||1,height:At.y._length||1})})}},J.draw=function(qe,je,lt){var gt=qe._fullLayout;je==="redraw"&&gt._paper.selectAll("g.subplot").each(function(wt){var Et=wt[0],Tt=gt._plots[Et];if(Tt){var At=Tt.xaxis,Nt=Tt.yaxis;Tt.xaxislayer.selectAll("."+At._id+"tick").remove(),Tt.yaxislayer.selectAll("."+Nt._id+"tick").remove(),Tt.xaxislayer.selectAll("."+At._id+"tick2").remove(),Tt.yaxislayer.selectAll("."+Nt._id+"tick2").remove(),Tt.xaxislayer.selectAll("."+At._id+"divider").remove(),Tt.yaxislayer.selectAll("."+Nt._id+"divider").remove(),Tt.minorGridlayer&&Tt.minorGridlayer.selectAll("path").remove(),Tt.gridlayer&&Tt.gridlayer.selectAll("path").remove(),Tt.zerolinelayer&&Tt.zerolinelayer.selectAll("path").remove(),gt._infolayer.select(".g-"+At._id+"title").remove(),gt._infolayer.select(".g-"+Nt._id+"title").remove()}});var dt=je&&je!=="redraw"?je:J.listIds(qe),at=J.list(qe).filter(function(wt){return wt.autoshift}).map(function(wt){return wt.overlaying});dt.map(function(wt){var Et=J.getFromId(qe,wt);if(Et.tickmode==="sync"&&Et.overlaying){var Tt=dt.findIndex(function(At){return At===Et.overlaying});Tt>=0&&dt.unshift(dt.splice(Tt,1).shift())}});var kt={false:{left:0,right:0}};return b.syncOrAsync(dt.map(function(wt){return function(){if(wt){var Et=J.getFromId(qe,wt);lt||(lt={}),lt.axShifts=kt,lt.overlayingShiftedAx=at;var Tt=J.drawOne(qe,Et,lt);return Et._shiftPusher&&bt(Et,Et._fullDepth||0,kt,!0),Et._r=Et.range.slice(),Et._rl=b.simpleMap(Et._r,Et.r2l),Tt}}}))},J.drawOne=function(qe,je,lt){var gt,dt,at,kt=(lt=lt||{}).axShifts||{},wt=lt.overlayingShiftedAx||[];je.setScale();var Et=qe._fullLayout,Tt=je._id,At=Tt.charAt(0),Nt=J.counterLetter(Tt),Wt=Et._plots[je._mainSubplot];if(Wt){if(je._shiftPusher=je.autoshift||wt.indexOf(je._id)!==-1||wt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var on=je.linewidth/2||0;je.ticks==="inside"&&(on+=je.ticklen),bt(je,on,kt,!0),bt(je,je.shift||0,kt,!1)}lt.skipTitle===!0&&je._shift!==void 0||(je._shift=function(qt,Vt){return qt.autoshift?Vt[qt.overlaying][qt.side]:qt.shift||0}(je,kt));var cn=Wt[At+"axislayer"],un=je._mainLinePosition,Xt=un+=je._shift,tn=je._mainMirrorPosition,kn=je._vals=J.calcTicks(je),fn=[je.mirror,Xt,tn].join("_");for(gt=0;gt<kn.length;gt++)kn[gt].axInfo=fn;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var Qt={};if(je.visible){var pn,nn,sn=J.makeTransTickFn(je),Sn=J.makeTransTickLabelFn(je),wn=je.ticks==="inside",Dn=je.ticks==="outside";if(je.tickson==="boundaries"){var Tn=function(qt,Vt){var an,En=[],Fn=function(Rn,jn){var tr=Rn.xbnd[jn];tr!==null&&En.push(b.extendFlat({},Rn,{x:tr}))};if(Vt.length){for(an=0;an<Vt.length;an++)Fn(Vt[an],0);Fn(Vt[an-1],1)}return En}(0,kn);nn=J.clipEnds(je,Tn),pn=wn?nn:Tn}else nn=J.clipEnds(je,kn),pn=wn&&je.ticklabelmode!=="period"?nn:kn;var Pn,Nn=je._gridVals=nn,$n=function(qt,Vt){var an,En,Fn=[],Rn=Vt.length&&Vt[Vt.length-1].x<Vt[0].x,jn=function(Zn,nr){var Yn=Zn.xbnd[nr];Yn!==null&&Fn.push(b.extendFlat({},Zn,{x:Yn}))};if(qt.showdividers&&Vt.length){for(an=0;an<Vt.length;an++){var tr=Vt[an];tr.text2!==En&&jn(tr,Rn?1:0),En=tr.text2}jn(Vt[an-1],Rn?0:1)}return Fn}(je,kn);if(!Et._hasOnlyLargeSploms){var pr=je._subplotsWith,Hn={};for(gt=0;gt<pr.length;gt++){dt=pr[gt];var Qn=(at=Et._plots[dt])[Nt+"axis"],er=Qn._mainAxis._id;if(!Hn[er]){Hn[er]=1;var ur=At==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;J.drawGrid(qe,je,{vals:Nn,counterAxis:Qn,layer:at.gridlayer.select("."+Tt),minorLayer:at.minorGridlayer.select("."+Tt),path:ur,transFn:sn}),J.drawZeroLine(qe,je,{counterAxis:Qn,layer:at.zerolinelayer,path:ur,transFn:sn})}}}var $t=J.getTickSigns(je),rn=J.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var On,xn,In,Gn,qn=J.makeTickPath(je,Xt,$t[2]),ir=J.makeTickPath(je,Xt,rn[2],{minor:!0});if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(On=J.makeTickPath(je,tn,$t[3]),xn=J.makeTickPath(je,tn,rn[3],{minor:!0}),In=qn+On,Gn=ir+xn):(On="",xn="",In=qn,Gn=ir),je.showdividers&&Dn&&je.tickson==="boundaries"){var dr={};for(gt=0;gt<$n.length;gt++)dr[$n[gt].x]=1;Pn=function(qt){return dr[qt.x]?On:In}}else Pn=function(qt){return qt.minor?Gn:In}}if(J.drawTicks(qe,je,{vals:pn,layer:cn,path:Pn,transFn:sn}),je.mirror==="allticks"){var Kt=Object.keys(je._linepositions||{});for(gt=0;gt<Kt.length;gt++){dt=Kt[gt],at=Et._plots[dt];var bn=je._linepositions[dt]||[],Dt=bn[0],Ut=bn[1],en=bn[2],gn=J.makeTickPath(je,Dt,en?$t[0]:rn[0],{minor:en})+J.makeTickPath(je,Ut,en?$t[1]:rn[1],{minor:en});J.drawTicks(qe,je,{vals:pn,layer:at[At+"axislayer"],path:gn,transFn:sn})}}var vn=[];if(vn.push(function(){return J.drawLabels(qe,je,{vals:kn,layer:cn,plotinfo:at,transFn:Sn,labelFns:J.makeLabelFns(je,Xt)})}),je.type==="multicategory"){var Mn={x:2,y:10}[At];vn.push(function(){var qt={x:"height",y:"width"}[At],Vt=hn()[qt]+Mn+(je._tickAngles[Tt+"tick"]?je.tickfont.size*ne:0);return J.drawLabels(qe,je,{vals:mt(je,kn),layer:cn,cls:Tt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:sn,labelFns:J.makeLabelFns(je,Xt+Vt*$t[4])})}),vn.push(function(){return je._depth=$t[4]*(hn("tick2")[je.side]-Xt),function(qt,Vt,an){var En=Vt._id+"divider",Fn=an.vals,Rn=an.layer.selectAll("path."+En).data(Fn,yt);Rn.exit().remove(),Rn.enter().insert("path",":first-child").classed(En,1).classed("crisp",1).call(i.stroke,Vt.dividercolor).style("stroke-width",r.crispRound(qt,Vt.dividerwidth,1)+"px"),Rn.attr("transform",an.transFn).attr("d",an.path)}(qe,je,{vals:$n,layer:cn,path:J.makeTickPath(je,Xt,$t[4],{len:je._depth}),transFn:sn})})}else je.title.hasOwnProperty("standoff")&&vn.push(function(){je._depth=$t[4]*(hn()[je.side]-Xt)});var yn=_.getComponentMethod("rangeslider","isVisible")(je);return lt.skipTitle||yn&&je.side==="bottom"||vn.push(function(){return function(qt,Vt){var an,En=qt._fullLayout,Fn=Vt._id,Rn=Fn.charAt(0),jn=Vt.title.font.size,tr=(Vt.title.text.match(s.BR_TAG_ALL)||[]).length;if(Vt.title.hasOwnProperty("standoff"))Vt.side==="bottom"||Vt.side==="right"?an=Vt._depth+Vt.title.standoff+jn*Q:Vt.side!=="top"&&Vt.side!=="left"||(an=Vt._depth+Vt.title.standoff+jn*(te+tr*ne));else{var Zn=ut(Vt);if(Vt.type==="multicategory")an=Vt._depth;else{var nr=1.5*jn;Zn&&(nr=.5*jn,Vt.ticks==="outside"&&(nr+=Vt.ticklen)),an=10+nr+(Vt.linewidth?Vt.linewidth-1:0)}Zn||(an+=Rn==="x"?Vt.side==="top"?jn*(Vt.showticklabels?1:0):jn*(Vt.showticklabels?1.5:.5):Vt.side==="right"?jn*(Vt.showticklabels?1:.5):jn*(Vt.showticklabels?.5:0))}var Yn,Jn,cr,Tr,gr=J.getPxPosition(qt,Vt);if(Rn==="x"?(Jn=Vt._offset+Vt._length/2,cr=Vt.side==="top"?gr-an:gr+an):(cr=Vt._offset+Vt._length/2,Jn=Vt.side==="right"?gr+an:gr-an,Yn={rotate:"-90",offset:0}),Vt.type!=="multicategory"){var ar=Vt._selections[Vt._id+"tick"];if(Tr={selection:ar,side:Vt.side},ar&&ar.node()&&ar.node().parentNode){var xr=r.getTranslate(ar.node().parentNode);Tr.offsetLeft=xr.x,Tr.offsetTop=xr.y}Vt.title.hasOwnProperty("standoff")&&(Tr.pad=0)}return Vt._titleStandoff=an,t.draw(qt,Fn+"title",{propContainer:Vt,propName:Vt._name+".title.text",placeholder:En._dfltTitle[Rn],avoid:Tr,transform:Yn,attributes:{x:Jn,y:cr,"text-anchor":"middle"}})}(qe,je)}),vn.push(function(){var qt,Vt,an,En,Fn=je.side.charAt(0),Rn=$[je.side].charAt(0),jn=J.getPxPosition(qe,je),tr=Dn?je.ticklen:0;(je.automargin||yn||je._shiftPusher)&&(je.type==="multicategory"?qt=hn("tick2"):(qt=hn(),At==="x"&&Fn==="b"&&(je._depth=Math.max(qt.width>0?qt.bottom-jn:0,tr))));var Zn=0,nr=0;if(je._shiftPusher&&(Zn=Math.max(tr,qt.height>0?Fn==="l"?jn-qt.left:qt.right-jn:0),je.title.text!==Et._dfltTitle[At]&&(nr=(je._titleStandoff||0)+(je._titleScoot||0),Fn==="l"&&(nr+=it(je))),je._fullDepth=Math.max(Zn,nr)),je.automargin){Vt={x:0,y:0,r:0,l:0,t:0,b:0};var Yn=[0,1],Jn=typeof je._shift=="number"?je._shift:0;if(At==="x"){if(Fn==="b"?Vt[Fn]=je._depth:(Vt[Fn]=je._depth=Math.max(qt.width>0?jn-qt.top:0,tr),Yn.reverse()),qt.width>0){var cr=qt.right-(je._offset+je._length);cr>0&&(Vt.xr=1,Vt.r=cr);var Tr=je._offset-qt.left;Tr>0&&(Vt.xl=0,Vt.l=Tr)}}else if(Fn==="l"?(je._depth=Math.max(qt.height>0?jn-qt.left:0,tr),Vt[Fn]=je._depth-Jn):(je._depth=Math.max(qt.height>0?qt.right-jn:0,tr),Vt[Fn]=je._depth+Jn,Yn.reverse()),qt.height>0){var gr=qt.bottom-(je._offset+je._length);gr>0&&(Vt.yb=0,Vt.b=gr);var ar=je._offset-qt.top;ar>0&&(Vt.yt=1,Vt.t=ar)}Vt[Nt]=je.anchor==="free"?je.position:je._anchorAxis.domain[Yn[0]],je.title.text!==Et._dfltTitle[At]&&(Vt[Fn]+=it(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&((an={x:0,y:0,r:0,l:0,t:0,b:0})[Rn]=je.linewidth,je.mirror&&je.mirror!==!0&&(an[Rn]+=tr),je.mirror===!0||je.mirror==="ticks"?an[Nt]=je._anchorAxis.domain[Yn[1]]:je.mirror!=="all"&&je.mirror!=="allticks"||(an[Nt]=[je._counterDomainMin,je._counterDomainMax][Yn[1]]))}yn&&(En=_.getComponentMethod("rangeslider","autoMarginOpts")(qe,je)),typeof je.automargin=="string"&&(st(Vt,je.automargin),st(an,je.automargin)),o.autoMargin(qe,Rt(je),Vt),o.autoMargin(qe,Ft(je),an),o.autoMargin(qe,Ot(je),En)}),b.syncOrAsync(vn)}}function hn(qt){var Vt=Tt+(qt||"tick");return Qt[Vt]||(Qt[Vt]=function(an,En,Fn){var Rn,jn,tr,Zn;if(an._selections[En].size())Rn=1/0,jn=-1/0,tr=1/0,Zn=-1/0,an._selections[En].each(function(){var Yn=Pt(this),Jn=r.bBox(Yn.node().parentNode);Rn=Math.min(Rn,Jn.top),jn=Math.max(jn,Jn.bottom),tr=Math.min(tr,Jn.left),Zn=Math.max(Zn,Jn.right)});else{var nr=J.makeLabelFns(an,Fn);Rn=jn=nr.yFn({dx:0,dy:0,fontSize:0}),tr=Zn=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:Rn,bottom:jn,left:tr,right:Zn,height:jn-Rn,width:Zn-tr}}(je,Vt,Xt)),Qt[Vt]}},J.getTickSigns=function(qe,je){var lt=qe._id.charAt(0),gt={x:"top",y:"right"}[lt],dt=qe.side===gt?1:-1,at=[-1,1,dt,-dt];return(je?(qe.minor||{}).ticks:qe.ticks)!=="inside"==(lt==="x")&&(at=at.map(function(kt){return-kt})),qe.side&&at.push({l:-1,t:-1,r:1,b:1}[qe.side.charAt(0)]),at},J.makeTransTickFn=function(qe){return qe._id.charAt(0)==="x"?function(je){return f(qe._offset+qe.l2p(je.x),0)}:function(je){return f(0,qe._offset+qe.l2p(je.x))}},J.makeTransTickLabelFn=function(qe){var je=function(At){var Nt=At.ticklabelposition||"",Wt=function(sn){return Nt.indexOf(sn)!==-1},on=Wt("top"),cn=Wt("left"),un=Wt("right"),Xt=Wt("bottom"),tn=Wt("inside"),kn=Xt||cn||on||un;if(!kn&&!tn)return[0,0];var fn=At.side,Qt=kn?(At.tickwidth||0)/2:0,pn=3,nn=At.tickfont?At.tickfont.size:12;return(Xt||on)&&(Qt+=nn*Q,pn+=(At.linewidth||0)/2),(cn||un)&&(Qt+=(At.linewidth||0)/2,pn+=3),tn&&fn==="top"&&(pn-=nn*(1-Q)),(cn||on)&&(Qt=-Qt),fn!=="bottom"&&fn!=="right"||(pn=-pn),[kn?Qt:0,tn?pn:0]}(qe),lt=qe.ticklabelshift||0,gt=qe.ticklabelstandoff||0,dt=je[0],at=je[1],kt=qe.range[0]>qe.range[1],wt=qe.ticklabelposition&&qe.ticklabelposition.indexOf("inside")!==-1,Et=!wt;if(lt&&(lt*=kt?-1:1),gt){var Tt=qe.side;gt*=wt&&(Tt==="top"||Tt==="left")||Et&&(Tt==="bottom"||Tt==="right")?1:-1}return qe._id.charAt(0)==="x"?function(At){return f(dt+qe._offset+qe.l2p(_t(At))+lt,at+gt)}:function(At){return f(at+gt,dt+qe._offset+qe.l2p(_t(At))+lt)}},J.makeTickPath=function(qe,je,lt,gt){gt||(gt={});var dt=gt.minor;if(dt&&!qe.minor)return"";var at=gt.len!==void 0?gt.len:dt?qe.minor.ticklen:qe.ticklen,kt=qe._id.charAt(0),wt=(qe.linewidth||1)/2;return kt==="x"?"M0,"+(je+wt*lt)+"v"+at*lt:"M"+(je+wt*lt)+",0h"+at*lt},J.makeLabelFns=function(qe,je,lt){var gt=qe.ticklabelposition||"",dt=function(Tn){return gt.indexOf(Tn)!==-1},at=dt("top"),kt=dt("left"),wt=dt("right"),Et=dt("bottom")||kt||at||wt,Tt=dt("inside"),At=gt==="inside"&&qe.ticks==="inside"||!Tt&&qe.ticks==="outside"&&qe.tickson!=="boundaries",Nt=0,Wt=0,on=At?qe.ticklen:0;if(Tt?on*=-1:Et&&(on=0),At&&(Nt+=on,lt)){var cn=b.deg2rad(lt);Nt=on*Math.cos(cn)+1,Wt=on*Math.sin(cn)}qe.showticklabels&&(At||qe.showline)&&(Nt+=.2*qe.tickfont.size);var un,Xt,tn,kn,fn,Qt={labelStandoff:Nt+=(qe.linewidth||1)/2*(Tt?-1:1),labelShift:Wt},pn=0,nn=qe.side,sn=qe._id.charAt(0),Sn=qe.tickangle;if(sn==="x")kn=(fn=!Tt&&nn==="bottom"||Tt&&nn==="top")?1:-1,Tt&&(kn*=-1),un=Wt*kn,Xt=je+Nt*kn,tn=fn?1:-.2,Math.abs(Sn)===90&&(Tt?tn+=te:tn=Sn===-90&&nn==="bottom"?Q:Sn===90&&nn==="top"?te:.5,pn=te/2*(Sn/90)),Qt.xFn=function(Tn){return Tn.dx+un+pn*Tn.fontSize},Qt.yFn=function(Tn){return Tn.dy+Xt+Tn.fontSize*tn},Qt.anchorFn=function(Tn,Pn){if(Et){if(kt)return"end";if(wt)return"start"}return k(Pn)&&Pn!==0&&Pn!==180?Pn*kn<0!==Tt?"end":"start":"middle"},Qt.heightFn=function(Tn,Pn,Nn){return Pn<-60||Pn>60?-.5*Nn:qe.side==="top"!==Tt?-Nn:0};else if(sn==="y"){if(kn=(fn=!Tt&&nn==="left"||Tt&&nn==="right")?1:-1,Tt&&(kn*=-1),un=Nt,Xt=Wt*kn,tn=0,Tt||Math.abs(Sn)!==90||(tn=Sn===-90&&nn==="left"||Sn===90&&nn==="right"?Q:.5),Tt){var wn=k(Sn)?+Sn:0;if(wn!==0){var Dn=b.deg2rad(wn);pn=Math.abs(Math.sin(Dn))*Q*kn,tn=0}}Qt.xFn=function(Tn){return Tn.dx+je-(un+Tn.fontSize*tn)*kn+pn*Tn.fontSize},Qt.yFn=function(Tn){return Tn.dy+Xt+Tn.fontSize*te},Qt.anchorFn=function(Tn,Pn){return k(Pn)&&Math.abs(Pn)===90?"middle":fn?"end":"start"},Qt.heightFn=function(Tn,Pn,Nn){return qe.side==="right"&&(Pn*=-1),Pn<-30?-Nn:Pn<30?-.5*Nn:0}}return Qt},J.drawTicks=function(qe,je,lt){lt=lt||{};var gt=je._id+"tick",dt=[].concat(je.minor&&je.minor.ticks?lt.vals.filter(function(kt){return kt.minor&&!kt.noTick}):[]).concat(je.ticks?lt.vals.filter(function(kt){return!kt.minor&&!kt.noTick}):[]),at=lt.layer.selectAll("path."+gt).data(dt,yt);at.exit().remove(),at.enter().append("path").classed(gt,1).classed("ticks",1).classed("crisp",lt.crisp!==!1).each(function(kt){return i.stroke(T.select(this),kt.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(kt){return r.crispRound(qe,kt.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",lt.path).style("display",null),xt(je,[F]),at.attr("transform",lt.transFn)},J.drawGrid=function(qe,je,lt){if(lt=lt||{},je.tickmode!=="sync"){var gt=je._id+"grid",dt=je.minor&&je.minor.showgrid,at=dt?lt.vals.filter(function(tn){return tn.minor}):[],kt=je.showgrid?lt.vals.filter(function(tn){return!tn.minor}):[],wt=lt.counterAxis;if(wt&&J.shouldShowZeroLine(qe,je,wt))for(var Et=je.tickmode==="array",Tt=0;Tt<kt.length;Tt++){var At=kt[Tt].x;if(Et?!At:Math.abs(At)<je.dtick/100){if(kt=kt.slice(0,Tt).concat(kt.slice(Tt+1)),!Et)break;Tt--}}je._gw=r.crispRound(qe,je.gridwidth,1);for(var Nt=dt?r.crispRound(qe,je.minor.gridwidth,1):0,Wt=lt.layer,on=lt.minorLayer,cn=1;cn>=0;cn--){var un=cn?Wt:on;if(un){var Xt=un.selectAll("path."+gt).data(cn?kt:at,yt);Xt.exit().remove(),Xt.enter().append("path").classed(gt,1).classed("crisp",lt.crisp!==!1),Xt.attr("transform",lt.transFn).attr("d",lt.path).each(function(tn){return i.stroke(T.select(this),tn.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return r.dashStyle(tn.minor?je.minor.griddash:je.griddash,tn.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?Nt:je._gw)+"px"}).style("display",null),typeof lt.path=="function"&&Xt.attr("d",lt.path)}}xt(je,[j,X])}},J.drawZeroLine=function(qe,je,lt){lt=lt||lt;var gt=je._id+"zl",dt=J.shouldShowZeroLine(qe,je,lt.counterAxis),at=lt.layer.selectAll("path."+gt).data(dt?[{x:0,id:je._id}]:[]);at.exit().remove(),at.enter().append("path").classed(gt,1).classed("zl",1).classed("crisp",lt.crisp!==!1).each(function(){lt.layer.selectAll("path").sort(function(kt,wt){return ue(kt.id,wt.id)})}),at.attr("transform",lt.transFn).attr("d",lt.path).call(i.stroke,je.zerolinecolor||i.defaultLine).style("stroke-width",r.crispRound(qe,je.zerolinewidth,je._gw||1)+"px").style("display",null),xt(je,[z])},J.drawLabels=function(qe,je,lt){lt=lt||{};var gt=qe._fullLayout,dt=je._id,at=lt.cls||dt+"tick",kt=lt.vals.filter(function(Hn){return Hn.text}),wt=lt.labelFns,Et=lt.secondary?0:je.tickangle,Tt=(je._prevTickAngles||{})[at],At=lt.layer.selectAll("g."+at).data(je.showticklabels?kt:[],yt),Nt=[];function Wt(Hn,Qn){Hn.each(function(er){var ur=T.select(this),$t=ur.select(".text-math-group"),rn=wt.anchorFn(er,Qn),On=lt.transFn.call(ur.node(),er)+(k(Qn)&&+Qn!=0?" rotate("+Qn+","+wt.xFn(er)+","+(wt.yFn(er)-er.fontSize/2)+")":""),xn=s.lineCount(ur),In=ne*er.fontSize,Gn=wt.heightFn(er,k(Qn)?+Qn:0,(xn-1)*In);if(Gn&&(On+=f(0,Gn)),$t.empty()){var qn=ur.select("text");qn.attr({transform:On,"text-anchor":rn}),qn.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var ir=r.bBox($t.node()).width*{end:-.5,start:.5}[rn];$t.attr("transform",On+f(ir,0))}})}At.enter().append("g").classed(at,1).append("text").attr("text-anchor","middle").each(function(Hn){var Qn=T.select(this),er=qe._promises.length;Qn.call(s.positionText,wt.xFn(Hn),wt.yFn(Hn)).call(r.font,{family:Hn.font,size:Hn.fontSize,color:Hn.fontColor,weight:Hn.fontWeight,style:Hn.fontStyle,variant:Hn.fontVariant,textcase:Hn.fontTextcase,lineposition:Hn.fontLineposition,shadow:Hn.fontShadow}).text(Hn.text).call(s.convertToTspans,qe),qe._promises[er]?Nt.push(qe._promises.pop().then(function(){Wt(Qn,Et)})):Wt(Qn,Et)}),xt(je,[H]),At.exit().remove(),lt.repositionOnUpdate&&At.each(function(Hn){T.select(this).select("text").call(s.positionText,wt.xFn(Hn),wt.yFn(Hn))}),je._adjustTickLabelsOverflow=function(){var Hn=je.ticklabeloverflow;if(Hn&&Hn!=="allow"){var Qn=Hn.indexOf("hide")!==-1,er=je._id.charAt(0)==="x",ur=0,$t=er?qe._fullLayout.width:qe._fullLayout.height;if(Hn.indexOf("domain")!==-1){var rn=b.simpleMap(je.range,je.r2l);ur=je.l2p(rn[0])+je._offset,$t=je.l2p(rn[1])+je._offset}var On=Math.min(ur,$t),xn=Math.max(ur,$t),In=je.side,Gn=1/0,qn=-1/0;for(var ir in At.each(function(bn){var Dt=T.select(this);if(Dt.select(".text-math-group").empty()){var Ut=r.bBox(Dt.node()),en=0;er?(Ut.right>xn||Ut.left<On)&&(en=1):(Ut.bottom>xn||Ut.top+(je.tickangle?0:bn.fontSize/4)<On)&&(en=1);var gn=Dt.select("text");en?Qn&&gn.style("opacity",0):(gn.style("opacity",1),Gn=In==="bottom"||In==="right"?Math.min(Gn,er?Ut.top:Ut.left):-1/0,qn=In==="top"||In==="left"?Math.max(qn,er?Ut.bottom:Ut.right):1/0)}}),gt._plots){var dr=gt._plots[ir];if(je._id===dr.xaxis._id||je._id===dr.yaxis._id){var Kt=er?dr.yaxis:dr.xaxis;Kt&&(Kt["_visibleLabelMin_"+je._id]=Gn,Kt["_visibleLabelMax_"+je._id]=qn)}}}},je._hideCounterAxisInsideTickLabels=function(Hn){var Qn=je._id.charAt(0)==="x",er=[];for(var ur in gt._plots){var $t=gt._plots[ur];je._id!==$t.xaxis._id&&je._id!==$t.yaxis._id||er.push(Qn?$t.yaxis:$t.xaxis)}er.forEach(function(rn,On){rn&&ut(rn)&&(Hn||[z,X,j,F,H]).forEach(function(xn){var In=xn.K==="tick"&&xn.L==="text"&&je.ticklabelmode==="period",Gn=gt._plots[je._mainSubplot];(xn.K===z.K?Gn.zerolinelayer.selectAll("."+je._id+"zl"):xn.K===X.K?Gn.minorGridlayer.selectAll("."+je._id):xn.K===j.K?Gn.gridlayer.selectAll("."+je._id):Gn[je._id.charAt(0)+"axislayer"]).each(function(){var qn=T.select(this);xn.L&&(qn=qn.selectAll(xn.L)),qn.each(function(ir){var dr=je.l2p(In?_t(ir):ir.x)+je._offset,Kt=T.select(this);dr<je["_visibleLabelMax_"+rn._id]&&dr>je["_visibleLabelMin_"+rn._id]?Kt.style("display","none"):xn.K!=="tick"||On||Kt.style("display",null)})})})})},Wt(At,Tt+1?Tt:Et);var on=null;je._selections&&(je._selections[at]=At);var cn=[function(){return Nt.length&&Promise.all(Nt)}];je.automargin&&gt._redrawFromAutoMarginCount&&Tt===90?(on=Tt,cn.push(function(){Wt(At,Tt)})):cn.push(function(){if(Wt(At,Et),kt.length&&je.autotickangles&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){on=je.autotickangles[0];var Hn,Qn=0,er=[],ur=1;At.each(function(hn){Qn=Math.max(Qn,hn.fontSize);var qt=je.l2p(hn.x),Vt=Pt(this),an=r.bBox(Vt.node());ur=Math.max(ur,s.lineCount(Vt)),er.push({top:0,bottom:10,height:10,left:qt-an.width/2,right:qt+an.width/2+2,width:an.width+2})});var $t=(je.tickson==="boundaries"||je.showdividers)&&!lt.secondary,rn=kt.length,On=Math.abs((kt[rn-1].x-kt[0].x)*je._m)/(rn-1),xn=$t?On/2:On,In=$t?je.ticklen:1.25*Qn*ur,Gn=xn/Math.sqrt(Math.pow(xn,2)+Math.pow(In,2)),qn=je.autotickangles.map(function(hn){return hn*Math.PI/180}),ir=qn.find(function(hn){return Math.abs(Math.cos(hn))<=Gn});ir===void 0&&(ir=qn.reduce(function(hn,qt){return Math.abs(Math.cos(hn))<Math.abs(Math.cos(qt))?hn:qt},qn[0]));var dr=ir*(180/Math.PI);if($t){var Kt=2;for(je.ticks&&(Kt+=je.tickwidth/2),Hn=0;Hn<er.length;Hn++){var bn=kt[Hn].xbnd,Dt=er[Hn];if(bn[0]!==null&&Dt.left-je.l2p(bn[0])<Kt||bn[1]!==null&&je.l2p(bn[1])-Dt.right<Kt){on=dr;break}}}else{var Ut=je.ticklabelposition||"",en=function(hn){return Ut.indexOf(hn)!==-1},gn=en("top"),vn=en("left"),Mn=en("right"),yn=en("bottom")||vn||gn||Mn?(je.tickwidth||0)+6:0;for(Hn=0;Hn<er.length-1;Hn++)if(b.bBoxIntersect(er[Hn],er[Hn+1],yn)){on=dr;break}}on&&Wt(At,on)}}),je._tickAngles&&cn.push(function(){je._tickAngles[at]=on===null?k(Et)?Et:0:on});var un=function(){var Hn=0,Qn=0;return At.each(function(er,ur){var $t,rn=Pt(this);rn.select(".text-math-group").empty()&&(je._vals[ur]&&($t=je._vals[ur].bb||r.bBox(rn.node()),je._vals[ur].bb=$t),Hn=Math.max(Hn,$t.width),Qn=Math.max(Qn,$t.height))}),{labelsMaxW:Hn,labelsMaxH:Qn}},Xt=je._anchorAxis;if(Xt&&(Xt.autorange||Xt.insiderange)&&ut(je)&&!he(gt,je._id)&&(gt._insideTickLabelsUpdaterange||(gt._insideTickLabelsUpdaterange={}),Xt.autorange&&(gt._insideTickLabelsUpdaterange[Xt._name+".autorange"]=Xt.autorange,cn.push(un)),Xt.insiderange)){var tn=un(),kn=je._id.charAt(0)==="y"?tn.labelsMaxW:tn.labelsMaxH;kn+=6,je.ticklabelposition==="inside"&&(kn+=je.ticklen||0);var fn=je.side==="right"||je.side==="top"?1:-1,Qt=fn===1?1:0,pn=fn===1?0:1,nn=[];nn[pn]=Xt.range[pn];var sn=Xt.range,Sn=Xt.r2p(sn[Qt]),wn=Xt.r2p(sn[pn]),Dn=gt._insideTickLabelsUpdaterange[Xt._name+".range"];if(Dn){var Tn=Xt.r2p(Dn[Qt]),Pn=Xt.r2p(Dn[pn]),Nn=fn*(je._id.charAt(0)==="y"?1:-1);Nn*Sn<Nn*Tn&&(Sn=Tn,nn[Qt]=sn[Qt]=Dn[Qt]),Nn*wn>Nn*Pn&&(wn=Pn,nn[pn]=sn[pn]=Dn[pn])}var $n=Math.abs(wn-Sn);$n-kn>0?kn*=1+kn/($n-=kn):kn=0,je._id.charAt(0)!=="y"&&(kn=-kn),nn[Qt]=Xt.p2r(Xt.r2p(sn[Qt])+fn*kn),Xt.autorange==="min"||Xt.autorange==="max reversed"?(nn[0]=null,Xt._rangeInitial0=void 0,Xt._rangeInitial1=void 0):Xt.autorange!=="max"&&Xt.autorange!=="min reversed"||(nn[1]=null,Xt._rangeInitial0=void 0,Xt._rangeInitial1=void 0),gt._insideTickLabelsUpdaterange[Xt._name+".range"]=nn}var pr=b.syncOrAsync(cn);return pr&&pr.then&&qe._promises.push(pr),pr},J.getPxPosition=function(qe,je){var lt,gt=qe._fullLayout._size,dt=je._id.charAt(0),at=je.side;return je.anchor!=="free"?lt=je._anchorAxis:dt==="x"?lt={_offset:gt.t+(1-(je.position||0))*gt.h,_length:0}:dt==="y"&&(lt={_offset:gt.l+(je.position||0)*gt.w+je._shift,_length:0}),at==="top"||at==="left"?lt._offset:at==="bottom"||at==="right"?lt._offset+lt._length:void 0},J.shouldShowZeroLine=function(qe,je,lt){var gt=b.simpleMap(je.range,je.r2l);return gt[0]*gt[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===V)&&(tt(je,0)||!function(dt,at,kt,wt){var Et=kt._mainAxis;if(Et){var Tt=dt._fullLayout,At=at._id.charAt(0),Nt=J.counterLetter(at._id),Wt=at._offset+(Math.abs(wt[0])<Math.abs(wt[1])==(At==="x")?0:at._length),on=Tt._plots[kt._mainSubplot];if(!(on.mainplotinfo||on).overlays.length)return tn(kt);for(var cn=J.list(dt,Nt),un=0;un<cn.length;un++){var Xt=cn[un];if(Xt._mainAxis===Et&&tn(Xt))return!0}}function tn(kn){if(!kn.showline||!kn.linewidth)return!1;var fn=Math.max((kn.linewidth+at.zerolinewidth)/2,1);function Qt(sn){return typeof sn=="number"&&Math.abs(sn-Wt)<fn}if(Qt(kn._mainLinePosition)||Qt(kn._mainMirrorPosition))return!0;var pn=kn._linepositions||{};for(var nn in pn)if(Qt(pn[nn][0])||Qt(pn[nn][1]))return!0}}(qe,je,lt,gt)||function(dt,at){for(var kt=dt._fullData,wt=at._mainSubplot,Et=at._id.charAt(0),Tt=0;Tt<kt.length;Tt++){var At=kt[Tt];if(At.visible===!0&&At.xaxis+At.yaxis===wt&&(_.traceIs(At,"bar-like")&&At.orientation==={x:"h",y:"v"}[Et]||At.fill&&At.fill.charAt(At.fill.length-1)===Et))return!0}return!1}(qe,je))},J.clipEnds=function(qe,je){return je.filter(function(lt){return tt(qe,lt.x)})},J.allowAutoMargin=function(qe){for(var je=J.list(qe,"",!0),lt=0;lt<je.length;lt++){var gt=je[lt];gt.automargin&&(o.allowAutoMargin(qe,Rt(gt)),gt.mirror&&o.allowAutoMargin(qe,Ft(gt))),_.getComponentMethod("rangeslider","isVisible")(gt)&&o.allowAutoMargin(qe,Ot(gt))}},J.swap=function(qe,je){for(var lt=function(dt,at){var kt,wt,Et=[];for(kt=0;kt<at.length;kt++){var Tt=[],At=dt._fullData[at[kt]].xaxis,Nt=dt._fullData[at[kt]].yaxis;if(At&&Nt){for(wt=0;wt<Et.length;wt++)Et[wt].x.indexOf(At)===-1&&Et[wt].y.indexOf(Nt)===-1||Tt.push(wt);if(Tt.length){var Wt,on=Et[Tt[0]];if(Tt.length>1)for(wt=1;wt<Tt.length;wt++)Wt=Et[Tt[wt]],Xe(on.x,Wt.x),Xe(on.y,Wt.y);Xe(on.x,[At]),Xe(on.y,[Nt])}else Et.push({x:[At],y:[Nt]})}}return Et}(qe,je),gt=0;gt<lt.length;gt++)Je(qe,lt[gt].x,lt[gt].y)}},52976:function(U,C,e){var T=e(38248),k=e(3400),o=e(39032).BADNUM,_=k.isArrayOrTypedArray,b=k.isDateTime,f=k.cleanNumber,s=Math.round;function t(r,n){return n?T(r):typeof r=="number"}function i(r){return Math.max(1,(r-1)/1e3)}U.exports=function(r,n,a){var l=r,u=a.noMultiCategory;if(_(l)&&!l.length)return"-";if(!u&&function(v){return _(v[0])&&_(v[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var h=[],c=0;c<l.length;c++)if(_(l[c]))for(var x=0;x<l[c].length;x++)h.push(l[c][x]);l=h}if(function(v,g){for(var y=v.length,m=i(y),w=0,d=0,S={},A=0;A<y;A+=m){var E=v[s(A)],P=String(E);S[P]||(S[P]=1,b(E,g)&&w++,T(E)&&d++)}return w>2*d}(l,n))return"date";var p=a.autotypenumbers!=="strict";return function(v,g){for(var y=v.length,m=i(y),w=0,d=0,S={},A=0;A<y;A+=m){var E=v[s(A)],P=String(E);if(!S[P]){S[P]=1;var O=typeof E;O==="boolean"?d++:(g?f(E)!==o:O==="number")?w++:O==="string"&&d++}}return d>2*w}(l,p)?"category":function(v,g){for(var y=v.length,m=0;m<y;m++)if(t(v[m],g))return!0;return!1}(l,p)?"linear":"-"}},28336:function(U,C,e){var T=e(38248),k=e(24040),o=e(3400),_=e(31780),b=e(51272),f=e(94724),s=e(26332),t=e(25404),i=e(95936),r=e(42568),n=e(22416),a=e(42136),l=e(96312),u=e(78344),h=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function x(g,y,m){function w(D,V){return o.coerce(g,y,f.rangebreaks,D,V)}if(w("enabled")){var d=w("bounds");if(d&&d.length>=2){var S,A,E="";if(d.length===2){for(S=0;S<2;S++)if(A=v(d[S])){E=h;break}}var P=w("pattern",E);if(P===h)for(S=0;S<2;S++)(A=v(d[S]))&&(y.bounds[S]=d[S]=A-1);if(P)for(S=0;S<2;S++)switch(A=d[S],P){case h:if(!T(A)||(A=+A)!==Math.floor(A)||A<0||A>=7)return void(y.enabled=!1);y.bounds[S]=d[S]=A;break;case c:if(!T(A)||(A=+A)<0||A>24)return void(y.enabled=!1);y.bounds[S]=d[S]=A}if(m.autorange===!1){var O=m.range;if(O[0]<O[1]){if(d[0]<O[0]&&d[1]>O[1])return void(y.enabled=!1)}else if(d[0]>O[0]&&d[1]<O[1])return void(y.enabled=!1)}}else{var I=w("values");if(!I||!I.length)return void(y.enabled=!1);w("dvalue")}}}U.exports=function(g,y,m,w,d){var S,A=w.letter,E=w.font||{},P=w.splomStash||{},O=m("visible",!w.visibleDflt),I=y._template||{},D=y.type||I.type||"-";D==="date"&&(k.getComponentMethod("calendars","handleDefaults")(g,y,"calendar",w.calendar),w.noTicklabelmode||(S=m("ticklabelmode"))),w.noTicklabelindex||D!=="date"&&D!=="linear"||m("ticklabelindex");var V="";w.noTicklabelposition&&D!=="multicategory"||(V=o.coerce(g,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||m("ticklabeloverflow",V.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),u(y,d),l(g,y,m,w),n(g,y,m,w),D==="category"||w.noHover||m("hoverformat");var z=m("color"),j=z!==f.color.dflt?z:E.color,X=P.label||d._dfltTitle[A];if(r(g,y,m,D,w),!O)return y;m("title.text",X),o.coerceFont(m,"title.font",E,{overrideDflt:{size:o.bigFont(E.size),color:j}}),s(g,y,m,D);var F=w.hasMinor;if(F&&(_.newContainer(y,"minor"),s(g,y,m,D,{isMinor:!0})),i(g,y,m,D,w),t(g,y,m,w),F){var H=w.isMinor;w.isMinor=!0,t(g,y,m,w),w.isMinor=H}a(g,y,m,{dfltColor:z,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:F,attributes:f}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&m("mirror");var W,ie=D==="multicategory";if(w.noTickson||D!=="category"&&!ie||!y.ticks&&!y.showgrid||(ie&&(W="boundaries"),m("tickson",W)==="boundaries"&&delete y.ticklabelposition),ie&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),D==="date")if(b(g,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),y.rangebreaks.length){for(var te=0;te<y.rangebreaks.length;te++)if(y.rangebreaks[te].pattern===h){y._hasDayOfWeekBreaks=!0;break}if(u(y,d),d._has("scattergl")||d._has("splom"))for(var Q=0;Q<w.data.length;Q++){var ne=w.data[Q];ne.type!=="scattergl"&&ne.type!=="splom"||(ne.visible=!1,o.warn(ne.type+" traces do not work on axes with rangebreaks. Setting trace "+ne.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var p={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(g){if(typeof g=="string")return p[g.substr(0,3).toLowerCase()]}},29736:function(U,C,e){var T=e(26880),k=T.FORMAT_LINK,o=T.DATE_FORMAT_LINK;function _(f,s){return["Sets the "+f+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(f,s){return _(f,s)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}U.exports={axisHoverFormat:function(f,s){return{valType:"string",dflt:"",editType:"none",description:(s?_:b)("hover text",f)+["By default the values are formatted using "+(s?"generic number format":"`"+f+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:_,descriptionWithDates:b}},79811:function(U,C,e){var T=e(24040),k=e(33816);function o(_,b){if(b&&b.length){for(var f=0;f<b.length;f++)if(b[f][_])return!0}return!1}C.id2name=function(_){if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)){var b=_.split(" ")[0].substr(1);return b==="1"&&(b=""),_.charAt(0)+"axis"+b}},C.name2id=function(_){if(_.match(k.AX_NAME_PATTERN)){var b=_.substr(5);return b==="1"&&(b=""),_.charAt(0)+b}},C.cleanId=function(_,b,f){var s=/( domain)$/.test(_);if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)&&(!b||_.charAt(0)===b)&&(!s||f)){var t=_.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),_.charAt(0)+t+(s&&f?" domain":"")}},C.list=function(_,b,f){var s=_._fullLayout;if(!s)return[];var t,i=C.listIds(_,b),r=new Array(i.length);for(t=0;t<i.length;t++){var n=i[t];r[t]=s[n.charAt(0)+"axis"+n.substr(1)]}if(!f){var a=s._subplots.gl3d||[];for(t=0;t<a.length;t++){var l=s[a[t]];b?r.push(l[b+"axis"]):r.push(l.xaxis,l.yaxis,l.zaxis)}}return r},C.listIds=function(_,b){var f=_._fullLayout;if(!f)return[];var s=f._subplots;return b?s[b+"axis"]:s.xaxis.concat(s.yaxis)},C.getFromId=function(_,b,f){var s=_._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),f==="x"?b=b.replace(/y[0-9]*/,""):f==="y"&&(b=b.replace(/x[0-9]*/,"")),s[C.id2name(b)]},C.getFromTrace=function(_,b,f){var s=_._fullLayout,t=null;if(T.traceIs(b,"gl3d")){var i=b.scene;i.substr(0,5)==="scene"&&(t=s[i][f+"axis"])}else t=C.getFromId(_,b[f+"axis"]||f);return t},C.idSort=function(_,b){var f=_.charAt(0),s=b.charAt(0);return f!==s?f>s?1:-1:+(_.substr(1)||1)-+(b.substr(1)||1)},C.ref2id=function(_){return!!/^[xyz]/.test(_)&&_.split(" ")[0]},C.isLinked=function(_,b){return o(b,_._axisMatchGroups)||o(b,_._axisConstraintGroups)}},22416:function(U,C,e){var T=e(38116).isTypedArraySpec;U.exports=function(k,o,_,b){if(o.type==="category"){var f,s=k.categoryarray,t=Array.isArray(s)&&s.length>0||T(s);t&&(f="array");var i,r=_("categoryorder",f);r==="array"&&(i=_("categoryarray")),t||r!=="array"||(r=o.categoryorder="trace"),r==="trace"?o._initialCategories=[]:r==="array"?o._initialCategories=i.slice():(i=function(n,a){var l,u,h,c=a.dataAttr||n._id.charAt(0),x={};if(a.axData)l=a.axData;else for(l=[],u=0;u<a.data.length;u++){var p=a.data[u];p[c+"axis"]===n._id&&l.push(p)}for(u=0;u<l.length;u++){var v=l[u][c];for(h=0;h<v.length;h++){var g=v[h];g!=null&&(x[g]=1)}}return Object.keys(x)}(o,b).sort(),r==="category ascending"?o._initialCategories=i:r==="category descending"&&(o._initialCategories=i.reverse()))}}},98728:function(U,C,e){var T=e(38248),k=e(3400),o=e(39032),_=o.ONEDAY,b=o.ONEWEEK;C.dtick=function(f,s){var t=s==="log",i=s==="date",r=s==="category",n=i?_:1;if(!f)return n;if(T(f))return(f=Number(f))<=0?n:r?Math.max(1,Math.round(f)):i?Math.max(.1,f):f;if(typeof f!="string"||!i&&!t)return n;var a=f.charAt(0),l=f.substr(1);return(l=T(l)?Number(l):0)<=0||!(i&&a==="M"&&l===Math.round(l)||t&&a==="L"||t&&a==="D"&&(l===1||l===2))?n:f},C.tick0=function(f,s,t,i){return s==="date"?k.cleanDate(f,k.dateTick0(t,i%b==0?1:0)):i!=="D1"&&i!=="D2"?T(f)?Number(f):0:void 0}},33816:function(U,C,e){var T=e(53756).counter;U.exports={idRegex:{x:T("x","( domain)?"),y:T("y","( domain)?")},attrRegex:T("[xy]axis"),xAxisMatch:T("xaxis"),yAxisMatch:T("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},71888:function(U,C,e){var T=e(3400),k=e(19280),o=e(79811).id2name,_=e(94724),b=e(21160),f=e(78344),s=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function i(c,x,p){var v=p.axIds,g=p.layoutOut,y=p.hasImage,m=g._axisConstraintGroups,w=g._axisMatchGroups,d=x._id,S=d.charAt(0),A=((g._splomAxes||{})[S]||{})[d]||{},E=x._id,P=E.charAt(0)==="x";function O($,J){return T.coerce(c,x,_,$,J)}x._matchGroup=null,x._constraintGroup=null,O("constrain",y?"domain":"range"),T.coerce(c,x,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var I,D,V=x.type,z=[];for(I=0;I<v.length;I++)(D=v[I])!==E&&g[o(D)].type===V&&z.push(D);var j=n(m,E);if(j){var X=[];for(I=0;I<z.length;I++)j[D=z[I]]||X.push(D);z=X}var F,H,W=z.length;W&&(c.matches||A.matches)&&(F=T.coerce(c,x,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var ie=y&&!P?x.anchor:void 0;if(W&&!F&&(c.scaleanchor||ie)&&(H=T.coerce(c,x,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",ie)),F){x._matchGroup=a(w,E,F,1);var te=g[o(F)],Q=r(g,x)/r(g,te);P!==(F.charAt(0)==="x")&&(Q=(P?"x":"y")+Q),a(m,E,F,Q)}else c.matches&&v.indexOf(c.matches)!==-1&&T.warn("ignored "+x._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(H){var ne=O("scaleratio");ne||(ne=x.scaleratio=1),a(m,E,H,ne)}else c.scaleanchor&&v.indexOf(c.scaleanchor)!==-1&&T.warn("ignored "+x._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,x){var p=x.domain;return p||(p=c[o(x.overlaying)].domain),p[1]-p[0]}function n(c,x){for(var p=0;p<c.length;p++)if(c[p][x])return c[p];return null}function a(c,x,p,v){var g,y,m,w,d,S=n(c,x);S===null?((S={})[x]=1,d=c.length,c.push(S)):d=c.indexOf(S);var A=Object.keys(S);for(g=0;g<c.length;g++)if(m=c[g],g!==d&&m[p]){var E=m[p];for(y=0;y<A.length;y++)m[w=A[y]]=l(E,l(v,S[w]));return void c.splice(d,1)}if(v!==1)for(y=0;y<A.length;y++){var P=A[y];S[P]=l(v,S[P])}S[p]=1}function l(c,x){var p,v,g="",y="";typeof c=="string"&&(p=(g=c.match(/^[xy]*/)[0]).length,c=+c.substr(p)),typeof x=="string"&&(v=(y=x.match(/^[xy]*/)[0]).length,x=+x.substr(v));var m=c*x;return p||v?p&&v&&g.charAt(0)!==y.charAt(0)?p===v?m:(p>v?g.substr(v):y.substr(p))+m:g+y+c*x:m}function u(c,x){for(var p=x._size,v=p.h/p.w,g={},y=Object.keys(c),m=0;m<y.length;m++){var w=y[m],d=c[w];if(typeof d=="string"){var S=d.match(/^[xy]*/)[0],A=S.length;d=+d.substr(A);for(var E=S.charAt(0)==="y"?v:1/v,P=0;P<A;P++)d*=E}g[w]=d}return g}function h(c,x){var p=c._inputDomain,v=t[c.constraintoward],g=p[0]+(p[1]-p[0])*v;c.domain=c._input.domain=[g+(p[0]-g)/x,g+(p[1]-g)/x],c.setScale()}C.handleDefaults=function(c,x,p){var v,g,y,m,w,d,S,A,E=p.axIds,P=p.axHasImage,O=x._axisConstraintGroups=[],I=x._axisMatchGroups=[];for(v=0;v<E.length;v++)i(w=c[m=o(E[v])],d=x[m],{axIds:E,layoutOut:x,hasImage:P[m]});function D(te,Q){for(v=0;v<te.length;v++)for(y in g=te[v])x[o(y)][Q]=g}for(D(I,"_matchGroup"),v=0;v<O.length;v++)for(y in g=O[v])if((d=x[o(y)]).fixedrange){for(var V in g){var z=o(V);(c[z]||{}).fixedrange===!1&&T.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),x[z].fixedrange=!0}break}for(v=0;v<O.length;){for(y in g=O[v]){(d=x[o(y)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(g).length&&(O.splice(v,1),v--);break}v++}D(O,"_constraintGroup");var j=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],X=!1,F=!1;function H(){A=d[S],S==="rangebreaks"&&(F=d._hasDayOfWeekBreaks)}for(v=0;v<I.length;v++){g=I[v];for(var W=0;W<j.length;W++){var ie;for(y in S=j[W],A=null,g)if(w=c[m=o(y)],d=x[m],S in d){if(!d.matches&&(ie=d,S in w)){H();break}A===null&&S in w&&H()}if(S==="range"&&A&&w.range&&w.range.length===2&&w.range[0]!==null&&w.range[1]!==null&&(X=!0),S==="autorange"&&A===null&&X&&(A=!1),A===null&&S in ie&&(A=ie[S]),A!==null)for(y in g)(d=x[o(y)])[S]=S==="range"?A.slice():A,S==="rangebreaks"&&(d._hasDayOfWeekBreaks=F,f(d,x))}}},C.enforce=function(c){var x,p,v,g,y,m,w,d,S=c._fullLayout,A=S._axisConstraintGroups||[];for(x=0;x<A.length;x++){v=u(A[x],S);var E=Object.keys(v),P=1/0,O=0,I=1/0,D={},V={},z=!1;for(p=0;p<E.length;p++)V[g=E[p]]=y=S[o(g)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),D[g]=m=Math.abs(y._m)/v[g],P=Math.min(P,m),y.constrain!=="domain"&&y._constraintShrinkable||(I=Math.min(I,m)),delete y._constraintShrinkable,O=Math.max(O,m),y.constrain==="domain"&&(z=!0);if(!(P>s*O)||z){for(p=0;p<E.length;p++)if(m=D[g=E[p]],w=(y=V[g]).constrain,m!==I||w==="domain")if(d=m/I,w==="range")b(y,d);else{var j=y._inputDomain,X=(y.domain[1]-y.domain[0])/(j[1]-j[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((d/=X)*F<1){y.domain=y._input.domain=j.slice(),b(y,d);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),d*=F),y.autorange){var H=y.r2l(y.range[0]),W=y.r2l(y.range[1]),ie=(H+W)/2,te=ie,Q=ie,ne=Math.abs(W-ie),$=ie-ne*d*1.0001,J=ie+ne*d*1.0001,re=k.makePadFn(S,y,0),se=k.makePadFn(S,y,1);h(y,d);var ue,he,pe=Math.abs(y._m),ge=k.concatExtremes(c,y),ye=ge.min,be=ge.max;for(he=0;he<ye.length;he++)(ue=ye[he].val-re(ye[he])/pe)>$&&ue<te&&(te=ue);for(he=0;he<be.length;he++)(ue=be[he].val+se(be[he])/pe)<J&&ue>Q&&(Q=ue);d/=(Q-te)/(2*ne),te=y.l2r(te),Q=y.l2r(Q),y.range=y._input.range=H<W?[te,Q]:[Q,te]}h(y,d)}}}},C.getAxisGroup=function(c,x){for(var p=c._axisMatchGroups,v=0;v<p.length;v++)if(p[v][x])return"g"+v;return x},C.clean=function(c,x){if(x._inputDomain){for(var p=!1,v=x._id,g=c._fullLayout._axisConstraintGroups,y=0;y<g.length;y++)if(g[y][v]){p=!0;break}p&&x.constrain==="domain"||(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},51184:function(U,C,e){var T=e(33428),k=e(3400),o=k.numberFormat,_=e(49760),b=e(89184),f=e(24040),s=k.strTranslate,t=e(72736),i=e(76308),r=e(43616),n=e(93024),a=e(54460),l=e(93972),u=e(86476),h=e(72760),c=h.selectingOrDrawing,x=h.freeMode,p=e(84284).FROM_TL,v=e(73696),g=e(39172).redrawReglTraces,y=e(7316),m=e(79811).getFromId,w=e(22676).prepSelect,d=e(22676).clearOutline,S=e(22676).selectOnClick,A=e(21160),E=e(33816),P=E.MINDRAG,O=E.MINZOOM,I=!0;function D(ue,he,pe,ge){var ye=k.ensureSingle(ue.draglayer,he,pe,function(be){be.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ue.id)});return ye.call(l,ge),ye.node()}function V(ue,he,pe,ge,ye,be,Te){var Se=D(ue,"rect",he,pe);return T.select(Se).call(r.setRect,ge,ye,be,Te),Se}function z(ue,he){for(var pe=0;pe<ue.length;pe++)if(!ue[pe].fixedrange)return he;return""}function j(ue,he,pe,ge,ye){for(var be=0;be<ue.length;be++){var Te=ue[be];if(!Te.fixedrange)if(Te.rangebreaks){var Se=Te._id.charAt(0)==="y",Fe=Se?1-he:he,xe=Se?1-pe:pe;ge[Te._name+".range[0]"]=Te.l2r(Te.p2l(Fe*Te._length)),ge[Te._name+".range[1]"]=Te.l2r(Te.p2l(xe*Te._length))}else{var le=Te._rl[0],oe=Te._rl[1]-le;ge[Te._name+".range[0]"]=Te.l2r(le+oe*he),ge[Te._name+".range[1]"]=Te.l2r(le+oe*pe)}}if(ye&&ye.length){var de=(he+(1-pe))/2;j(ye,de,1-de,ge,[])}}function X(ue,he){for(var pe=0;pe<ue.length;pe++){var ge=ue[pe];if(!ge.fixedrange){if(ge.rangebreaks){var ye=ge._length,be=(ge.p2l(0+he)-ge.p2l(0)+(ge.p2l(ye+he)-ge.p2l(ye)))/2;ge.range=[ge.l2r(ge._rl[0]-be),ge.l2r(ge._rl[1]-be)]}else ge.range=[ge.l2r(ge._rl[0]-he/ge._m),ge.l2r(ge._rl[1]-he/ge._m)];ge.limitRange&&ge.limitRange()}}}function F(ue){return 1-(ue>=0?Math.min(ue,.9):1/(1/Math.max(ue,-.3)+3.222))}function H(ue,he,pe,ge,ye){return ue.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(pe,ge)).attr("d",ye+"Z")}function W(ue,he,pe){return ue.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(he,pe)).attr("d","M0,0Z")}function ie(ue,he,pe,ge,ye,be){ue.attr("d",ge+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),te(ue,he,ye,be)}function te(ue,he,pe,ge){pe||(ue.transition().style("fill",ge>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Q(ue){T.select(ue).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ne(ue){I&&ue.data&&ue._context.showTips&&(k.notifier(k._(ue,"Double-click to zoom back out"),"long"),I=!1)}function $(ue){var he=Math.floor(Math.min(ue.b-ue.t,ue.r-ue.l,O)/2);return"M"+(ue.l-3.5)+","+(ue.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ue.r+3.5)+","+(ue.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ue.r+3.5)+","+(ue.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ue.l-3.5)+","+(ue.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function J(ue,he,pe,ge,ye){for(var be,Te,Se,Fe,xe=!1,le={},oe={},de=(ye||{}).xaHash,Ce=(ye||{}).yaHash,_e=0;_e<he.length;_e++){var Ae=he[_e];for(be in pe)if(Ae[be]){for(Se in Ae)ye&&(de[Se]||Ce[Se])||(Se.charAt(0)==="x"?pe:ge)[Se]||(le[Se]=be);for(Te in ge)ye&&(de[Te]||Ce[Te])||!Ae[Te]||(xe=!0)}for(Te in ge)if(Ae[Te])for(Fe in Ae)ye&&(de[Fe]||Ce[Fe])||(Fe.charAt(0)==="x"?pe:ge)[Fe]||(oe[Fe]=Te)}xe&&(k.extendFlat(le,oe),oe={});var Le={},ze=[];for(Se in le){var Re=m(ue,Se);ze.push(Re),Le[Re._id]=Re}var ve={},ke=[];for(Fe in oe){var Ee=m(ue,Fe);ke.push(Ee),ve[Ee._id]=Ee}return{xaHash:Le,yaHash:ve,xaxes:ze,yaxes:ke,xLinks:le,yLinks:oe,isSubplotConstrained:xe}}function re(ue,he){if(b){var pe=ue.onwheel!==void 0?"wheel":"mousewheel";ue._onwheel&&ue.removeEventListener(pe,ue._onwheel),ue._onwheel=he,ue.addEventListener(pe,he,{passive:!1})}else ue.onwheel!==void 0?ue.onwheel=he:ue.onmousewheel!==void 0?ue.onmousewheel=he:ue.isAddedWheelEvent||(ue.isAddedWheelEvent=!0,ue.addEventListener("wheel",he,{passive:!1}))}function se(ue){var he=[];for(var pe in ue)he.push(ue[pe]);return he}U.exports={makeDragBox:function(ue,he,pe,ge,ye,be,Te,Se){var Fe,xe,le,oe,de,Ce,_e,Ae,Le,ze,Re,ve,ke,Ee,De,Pe,Ue,We,$e,ot,st,mt,_t,yt=ue._fullLayout._zoomlayer,it=Te+Se==="nsew",tt=(Te+Se).length===1;function Pt(){if(Fe=he.xaxis,xe=he.yaxis,Le=Fe._length,ze=xe._length,_e=Fe._offset,Ae=xe._offset,(le={})[Fe._id]=Fe,(oe={})[xe._id]=xe,Te&&Se)for(var Qt=he.overlays,pn=0;pn<Qt.length;pn++){var nn=Qt[pn].xaxis;le[nn._id]=nn;var sn=Qt[pn].yaxis;oe[sn._id]=sn}de=se(le),Ce=se(oe),ke=z(de,Se),Ee=z(Ce,Te),De=!Ee&&!ke,ve=J(ue,ue._fullLayout._axisMatchGroups,le,oe);var Sn=(Re=J(ue,ue._fullLayout._axisConstraintGroups,le,oe,ve)).isSubplotConstrained||ve.isSubplotConstrained;Pe=Se||Sn,Ue=Te||Sn;var wn=ue._fullLayout;We=wn._has("scattergl"),$e=wn._has("splom"),ot=wn._has("svg")}pe+=he.yaxis._shift,Pt();var Rt=function(Qt,pn,nn){return Qt?Qt==="nsew"?nn?"":pn==="pan"?"move":"crosshair":Qt.toLowerCase()+"-resize":"pointer"}(Ee+ke,ue._fullLayout.dragmode,it),Ft=V(he,Te+Se+"drag",Rt,pe,ge,ye,be);if(De&&!it)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Ot,Xe,Je,Ve,Ke,ft,ut,xt,bt,qe,je={element:Ft,gd:ue,plotinfo:he};function lt(){je.plotinfo.selection=!1,d(ue)}function gt(Qt,pn){var nn=je.gd;if(nn._fullLayout._activeShapeIndex>=0)nn._fullLayout._deactivateShape(nn);else{var sn=nn._fullLayout.clickmode;if(Q(nn),Qt!==2||tt||cn(),it)sn.indexOf("select")>-1&&S(pn,nn,de,Ce,he.id,je),sn.indexOf("event")>-1&&n.click(nn,pn,he.id);else if(Qt===1&&tt){var Sn=Te?xe:Fe,wn=Te==="s"||Se==="w"?0:1,Dn=Sn._name+".range["+wn+"]",Tn=function($n,pr){var Hn,Qn=$n.range[pr],er=Math.abs(Qn-$n.range[1-pr]);return $n.type==="date"?Qn:$n.type==="log"?(Hn=Math.ceil(Math.max(0,-Math.log(er)/Math.LN10))+3,o("."+Hn+"g")(Math.pow(10,Qn))):(Hn=Math.floor(Math.log(Math.abs(Qn))/Math.LN10)-Math.floor(Math.log(er)/Math.LN10)+4,o("."+String(Hn)+"g")(Qn))}(Sn,wn),Pn="left",Nn="middle";if(Sn.fixedrange)return;Te?(Nn=Te==="n"?"top":"bottom",Sn.side==="right"&&(Pn="right")):Se==="e"&&(Pn="right"),nn._context.showAxisRangeEntryBoxes&&T.select(Ft).call(t.makeEditable,{gd:nn,immediate:!0,background:nn._fullLayout.paper_bgcolor,text:String(Tn),fill:Sn.tickfont?Sn.tickfont.color:"#444",horizontalAlign:Pn,verticalAlign:Nn}).on("edit",function($n){var pr=Sn.d2r($n);pr!==void 0&&f.call("_guiRelayout",nn,Dn,pr)})}}}function dt(Qt,pn){if(ue._transitioningWithDuration)return!1;var nn=Math.max(0,Math.min(Le,mt*Qt+Ot)),sn=Math.max(0,Math.min(ze,_t*pn+Xe)),Sn=Math.abs(nn-Ot),wn=Math.abs(sn-Xe);function Dn(){ut="",Je.r=Je.l,Je.t=Je.b,bt.attr("d","M0,0Z")}if(Je.l=Math.min(Ot,nn),Je.r=Math.max(Ot,nn),Je.t=Math.min(Xe,sn),Je.b=Math.max(Xe,sn),Re.isSubplotConstrained)Sn>O||wn>O?(ut="xy",Sn/Le>wn/ze?(wn=Sn*ze/Le,Xe>sn?Je.t=Xe-wn:Je.b=Xe+wn):(Sn=wn*Le/ze,Ot>nn?Je.l=Ot-Sn:Je.r=Ot+Sn),bt.attr("d",$(Je))):Dn();else if(ve.isSubplotConstrained)if(Sn>O||wn>O){ut="xy";var Tn=Math.min(Je.l/Le,(ze-Je.b)/ze),Pn=Math.max(Je.r/Le,(ze-Je.t)/ze);Je.l=Tn*Le,Je.r=Pn*Le,Je.b=(1-Tn)*ze,Je.t=(1-Pn)*ze,bt.attr("d",$(Je))}else Dn();else!Ee||wn<Math.min(Math.max(.6*Sn,P),O)?Sn<P||!ke?Dn():(Je.t=0,Je.b=ze,ut="x",bt.attr("d",function(Nn,$n){return"M"+(Nn.l-.5)+","+($n-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(Nn.r+.5)+","+($n-O-.5)+"h3v"+(2*O+1)+"h-3Z"}(Je,Xe))):!ke||Sn<Math.min(.6*wn,O)?(Je.l=0,Je.r=Le,ut="y",bt.attr("d",function(Nn,$n){return"M"+($n-O-.5)+","+(Nn.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+($n-O-.5)+","+(Nn.b+.5)+"v3h"+(2*O+1)+"v-3Z"}(Je,Ot))):(ut="xy",bt.attr("d",$(Je)));Je.w=Je.r-Je.l,Je.h=Je.b-Je.t,ut&&(qe=!0),ue._dragged=qe,ie(xt,bt,Je,Ke,ft,Ve),at(),ue.emit("plotly_relayouting",st),ft=!0}function at(){st={},ut!=="xy"&&ut!=="x"||(j(de,Je.l/Le,Je.r/Le,st,Re.xaxes),Wt("x",st)),ut!=="xy"&&ut!=="y"||(j(Ce,(ze-Je.b)/ze,(ze-Je.t)/ze,st,Re.yaxes),Wt("y",st))}function kt(){at(),Q(ue),un(),ne(ue)}je.prepFn=function(Qt,pn,nn){var sn=je.dragmode,Sn=ue._fullLayout.dragmode;Sn!==sn&&(je.dragmode=Sn),Pt(),mt=ue._fullLayout._invScaleX,_t=ue._fullLayout._invScaleY,De||(it?Qt.shiftKey?Sn==="pan"?Sn="zoom":c(Sn)||(Sn="pan"):Qt.ctrlKey&&(Sn="pan"):Sn="pan"),x(Sn)?je.minDrag=1:je.minDrag=void 0,c(Sn)?(je.xaxes=de,je.yaxes=Ce,w(Qt,pn,nn,je,Sn)):(je.clickFn=gt,c(sn)&&lt(),De||(Sn==="zoom"?(je.moveFn=dt,je.doneFn=kt,je.minDrag=1,function(wn,Dn,Tn){var Pn=Ft.getBoundingClientRect();Ot=Dn-Pn.left,Xe=Tn-Pn.top,ue._fullLayout._calcInverseTransform(ue);var Nn=k.apply3DTransform(ue._fullLayout._invTransform)(Ot,Xe);Ot=Nn[0],Xe=Nn[1],Je={l:Ot,r:Ot,w:0,t:Xe,b:Xe,h:0},Ve=ue._hmpixcount?ue._hmlumcount/ue._hmpixcount:_(ue._fullLayout.plot_bgcolor).getLuminance(),ft=!1,ut="xy",qe=!1,xt=H(yt,Ve,_e,Ae,Ke="M0,0H"+Le+"V"+ze+"H0V0"),bt=W(yt,_e,Ae)}(0,pn,nn)):Sn==="pan"&&(je.moveFn=Nt,je.doneFn=un))),ue._fullLayout._redrag=function(){var wn=ue._dragdata;if(wn&&wn.element===Ft){var Dn=ue._fullLayout.dragmode;c(Dn)||(Pt(),Xt([0,0,Le,ze]),je.moveFn(wn.dx,wn.dy))}}},u.init(je);var wt=[0,0,Le,ze],Et=null,Tt=E.REDRAWDELAY,At=he.mainplot?ue._fullLayout._plots[he.mainplot]:he;function Nt(Qt,pn){if(Qt*=mt,pn*=_t,!ue._transitioningWithDuration){if(ue._fullLayout._replotting=!0,ke==="ew"||Ee==="ns"){var nn=ke?-Qt:0,sn=Ee?-pn:0;if(ve.isSubplotConstrained){if(ke&&Ee){var Sn=(Qt/Le-pn/ze)/2;nn=-(Qt=Sn*Le),sn=-(pn=-Sn*ze)}Ee?nn=-sn*Le/ze:sn=-nn*ze/Le}return ke&&(X(de,Qt),Wt("x")),Ee&&(X(Ce,pn),Wt("y")),Xt([nn,sn,Le,ze]),on(),void ue.emit("plotly_relayouting",st)}var wn,Dn,Tn=ke==="w"==(Ee==="n")?1:-1;if(ke&&Ee&&(Re.isSubplotConstrained||ve.isSubplotConstrained)){var Pn=(Qt/Le+Tn*pn/ze)/2;Qt=Pn*Le,pn=Tn*Pn*ze}if(ke==="w"?Qt=Hn(de,0,Qt):ke==="e"?Qt=Hn(de,1,-Qt):ke||(Qt=0),Ee==="n"?pn=Hn(Ce,1,pn):Ee==="s"?pn=Hn(Ce,0,-pn):Ee||(pn=0),wn=ke==="w"?Qt:0,Dn=Ee==="n"?pn:0,Re.isSubplotConstrained&&!ve.isSubplotConstrained||ve.isSubplotConstrained&&ke&&Ee&&Tn>0){var Nn;if(ve.isSubplotConstrained||!ke&&Ee.length===1){for(Nn=0;Nn<de.length;Nn++)de[Nn].range=de[Nn]._r.slice(),A(de[Nn],1-pn/ze);wn=(Qt=pn*Le/ze)/2}if(ve.isSubplotConstrained||!Ee&&ke.length===1){for(Nn=0;Nn<Ce.length;Nn++)Ce[Nn].range=Ce[Nn]._r.slice(),A(Ce[Nn],1-Qt/Le);Dn=(pn=Qt*ze/Le)/2}}ve.isSubplotConstrained&&Ee||Wt("x"),ve.isSubplotConstrained&&ke||Wt("y");var $n=Le-Qt,pr=ze-pn;!ve.isSubplotConstrained||ke&&Ee||(ke?(Dn=wn?0:Qt*ze/Le,pr=$n*ze/Le):(wn=Dn?0:pn*Le/ze,$n=pr*Le/ze)),Xt([wn,Dn,$n,pr]),on(),ue.emit("plotly_relayouting",st)}function Hn(Qn,er,ur){for(var $t,rn,On=1-er,xn=0;xn<Qn.length;xn++){var In=Qn[xn];if(!In.fixedrange){$t=In,rn=In._rl[On]+(In._rl[er]-In._rl[On])/F(ur/In._length);var Gn=In.l2r(rn);Gn!==!1&&Gn!==void 0&&(In.range[er]=Gn)}}return $t._length*($t._rl[er]-rn)/($t._rl[er]-$t._rl[On])}}function Wt(Qt,pn){for(var nn=ve.isSubplotConstrained?{x:Ce,y:de}[Qt]:ve[Qt+"axes"],sn=ve.isSubplotConstrained?{x:de,y:Ce}[Qt]:[],Sn=0;Sn<nn.length;Sn++){var wn=nn[Sn],Dn=wn._id,Tn=ve.xLinks[Dn]||ve.yLinks[Dn],Pn=sn[0]||le[Tn]||oe[Tn];Pn&&(pn?(pn[wn._name+".range[0]"]=pn[Pn._name+".range[0]"],pn[wn._name+".range[1]"]=pn[Pn._name+".range[1]"]):wn.range=Pn.range.slice())}}function on(){var Qt,pn=[];function nn(Dn){for(Qt=0;Qt<Dn.length;Qt++)Dn[Qt].fixedrange||pn.push(Dn[Qt]._id)}function sn(Dn,Tn){for(Qt=0;Qt<Dn.length;Qt++){var Pn=Dn[Qt],Nn=Pn[Tn];Pn.fixedrange||Nn.tickmode!=="sync"||pn.push(Nn._id)}}for(Pe&&(nn(de),nn(Re.xaxes),nn(ve.xaxes),sn(he.overlays,"xaxis")),Ue&&(nn(Ce),nn(Re.yaxes),nn(ve.yaxes),sn(he.overlays,"yaxis")),st={},Qt=0;Qt<pn.length;Qt++){var Sn=pn[Qt],wn=m(ue,Sn);a.drawOne(ue,wn,{skipTitle:!0}),st[wn._name+".range[0]"]=wn.range[0],st[wn._name+".range[1]"]=wn.range[1]}a.redrawComponents(ue,pn)}function cn(){if(!ue._transitioningWithDuration){var Qt=ue._context.doubleClick,pn=[];ke&&(pn=pn.concat(de)),Ee&&(pn=pn.concat(Ce)),ve.xaxes&&(pn=pn.concat(ve.xaxes)),ve.yaxes&&(pn=pn.concat(ve.yaxes));var nn,sn,Sn={};if(Qt==="reset+autosize")for(Qt="autosize",sn=0;sn<pn.length;sn++){var wn=(nn=pn[sn])._rangeInitial0,Dn=nn._rangeInitial1,Tn=wn!==void 0||Dn!==void 0;if(Tn&&(wn!==void 0&&wn!==nn.range[0]||Dn!==void 0&&Dn!==nn.range[1])||!Tn&&nn.autorange!==!0){Qt="reset";break}}if(Qt==="autosize")for(sn=0;sn<pn.length;sn++)(nn=pn[sn]).fixedrange||(Sn[nn._name+".autorange"]=!0);else if(Qt==="reset"){for((ke||Re.isSubplotConstrained)&&(pn=pn.concat(Re.xaxes)),Ee&&!Re.isSubplotConstrained&&(pn=pn.concat(Re.yaxes)),Re.isSubplotConstrained&&(ke?Ee||(pn=pn.concat(Ce)):pn=pn.concat(de)),sn=0;sn<pn.length;sn++)if(!(nn=pn[sn]).fixedrange){var Pn=nn._name,Nn=nn._autorangeInitial;nn._rangeInitial0===void 0&&nn._rangeInitial1===void 0?Sn[Pn+".autorange"]=!0:nn._rangeInitial0===void 0?(Sn[Pn+".autorange"]=Nn,Sn[Pn+".range"]=[null,nn._rangeInitial1]):nn._rangeInitial1===void 0?(Sn[Pn+".range"]=[nn._rangeInitial0,null],Sn[Pn+".autorange"]=Nn):Sn[Pn+".range"]=[nn._rangeInitial0,nn._rangeInitial1]}}ue.emit("plotly_doubleclick",null),f.call("_guiRelayout",ue,Sn)}}function un(){Xt([0,0,Le,ze]),k.syncOrAsync([y.previousPromises,function(){ue._fullLayout._replotting=!1,f.call("_guiRelayout",ue,st)}],ue)}function Xt(Qt){var pn,nn,sn,Sn,wn=ue._fullLayout,Dn=wn._plots,Tn=wn._subplots.cartesian;if($e&&f.subplotsRegistry.splom.drag(ue),We){for(pn=0;pn<Tn.length;pn++)if(sn=(nn=Dn[Tn[pn]]).xaxis,Sn=nn.yaxis,nn._scene){sn.limitRange&&sn.limitRange(),Sn.limitRange&&Sn.limitRange();var Pn=k.simpleMap(sn.range,sn.r2l),Nn=k.simpleMap(Sn.range,Sn.r2l);nn._scene.update({range:[Pn[0],Nn[0],Pn[1],Nn[1]]})}}if(($e||We)&&(v(ue),g(ue)),ot){var $n=Qt[2]/Fe._length,pr=Qt[3]/xe._length;for(pn=0;pn<Tn.length;pn++){sn=(nn=Dn[Tn[pn]]).xaxis,Sn=nn.yaxis;var Hn,Qn,er,ur,$t=(Pe||ve.isSubplotConstrained)&&!sn.fixedrange&&le[sn._id],rn=(Ue||ve.isSubplotConstrained)&&!Sn.fixedrange&&oe[Sn._id];if($t?(Hn=$n,er=Se||ve.isSubplotConstrained?Qt[0]:fn(sn,Hn)):ve.xaHash[sn._id]?(Hn=$n,er=Qt[0]*sn._length/Fe._length):ve.yaHash[sn._id]?(Hn=pr,er=Ee==="ns"?-Qt[1]*sn._length/xe._length:fn(sn,Hn,{n:"top",s:"bottom"}[Ee])):er=kn(sn,Hn=tn(sn,$n,pr)),Hn>1&&(sn.maxallowed!==void 0&&Pe===(sn.range[0]<sn.range[1]?"e":"w")||sn.minallowed!==void 0&&Pe===(sn.range[0]<sn.range[1]?"w":"e"))&&(Hn=1,er=0),rn?(Qn=pr,ur=Te||ve.isSubplotConstrained?Qt[1]:fn(Sn,Qn)):ve.yaHash[Sn._id]?(Qn=pr,ur=Qt[1]*Sn._length/xe._length):ve.xaHash[Sn._id]?(Qn=$n,ur=ke==="ew"?-Qt[0]*Sn._length/Fe._length:fn(Sn,Qn,{e:"right",w:"left"}[ke])):ur=kn(Sn,Qn=tn(Sn,$n,pr)),Qn>1&&(Sn.maxallowed!==void 0&&Ue===(Sn.range[0]<Sn.range[1]?"n":"s")||Sn.minallowed!==void 0&&Ue===(Sn.range[0]<Sn.range[1]?"s":"n"))&&(Qn=1,ur=0),Hn||Qn){Hn||(Hn=1),Qn||(Qn=1);var On=sn._offset-er/Hn,xn=Sn._offset-ur/Qn;nn.clipRect.call(r.setTranslate,er,ur).call(r.setScale,Hn,Qn),nn.plot.call(r.setTranslate,On,xn).call(r.setScale,1/Hn,1/Qn),Hn===nn.xScaleFactor&&Qn===nn.yScaleFactor||(r.setPointGroupScale(nn.zoomScalePts,Hn,Qn),r.setTextPointsScale(nn.zoomScaleTxt,Hn,Qn)),r.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=Hn,nn.yScaleFactor=Qn}}}}function tn(Qt,pn,nn){return Qt.fixedrange?0:Pe&&Re.xaHash[Qt._id]?pn:Ue&&(Re.isSubplotConstrained?Re.xaHash:Re.yaHash)[Qt._id]?nn:0}function kn(Qt,pn){return pn?(Qt.range=Qt._r.slice(),A(Qt,pn),fn(Qt,pn)):0}function fn(Qt,pn,nn){return Qt._length*(1-pn)*p[nn||Qt.constraintoward||"middle"]}return Te.length*Se.length!=1&&re(Ft,function(Qt){if(ue._context._scrollZoom.cartesian||ue._fullLayout._enablescrollzoom){if(lt(),ue._transitioningWithDuration)return Qt.preventDefault(),void Qt.stopPropagation();Pt(),clearTimeout(Et);var pn=-Qt.deltaY;if(isFinite(pn)||(pn=Qt.wheelDelta/10),isFinite(pn)){var nn,sn=Math.exp(-Math.min(Math.max(pn,-20),20)/200),Sn=At.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wn=(Qt.clientX-Sn.left)/Sn.width,Dn=(Sn.bottom-Qt.clientY)/Sn.height;if(Pe){for(Se||(wn=.5),nn=0;nn<de.length;nn++)Tn(de[nn],wn,sn);Wt("x"),wt[2]*=sn,wt[0]+=wt[2]*wn*(1/sn-1)}if(Ue){for(Te||(Dn=.5),nn=0;nn<Ce.length;nn++)Tn(Ce[nn],Dn,sn);Wt("y"),wt[3]*=sn,wt[1]+=wt[3]*(1-Dn)*(1/sn-1)}Xt(wt),on(),ue.emit("plotly_relayouting",st),Et=setTimeout(function(){ue._fullLayout&&(wt=[0,0,Le,ze],un())},Tt),Qt.preventDefault()}else k.log("Did not find wheel motion attributes: ",Qt)}function Tn(Pn,Nn,$n){if(!Pn.fixedrange){var pr=k.simpleMap(Pn.range,Pn.r2l),Hn=pr[0]+(pr[1]-pr[0])*Nn;Pn.range=pr.map(function(Qn){return Pn.l2r(Hn+(Qn-Hn)*$n)})}}}),Ft},makeDragger:D,makeRectDragger:V,makeZoombox:H,makeCorners:W,updateZoombox:ie,xyCorners:$,transitionZoombox:te,removeZoombox:Q,showDoubleClickNotifier:ne,attachWheelEventHandler:re}},42464:function(U,C,e){var T=e(33428),k=e(93024),o=e(86476),_=e(93972),b=e(51184).makeDragBox,f=e(33816).DRAGGERSIZE;C.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)T.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,n){if((t._plots[r].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var a=r.split("y"),l=n.split("y");return a[0]===l[0]?Number(a[1]||1)-Number(l[1]||1):Number(a[0]||1)-Number(l[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var n=t._plots[r],a=n.xaxis,l=n.yaxis;if(!n.mainplot){var u=b(s,n,a._offset,l._offset,a._length,l._length,"ns","ew");u.onmousemove=function(x){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===r&&s._fullLayout._plots[r]&&k.hover(s,x,r)},k.hover(s,x,r),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=r},u.onmouseout=function(x){s._dragging||(s._fullLayout._hoversubplot=null,o.unhover(s,x))},s._context.showAxisDragHandles&&(b(s,n,a._offset-f,l._offset-f,f,f,"n","w"),b(s,n,a._offset+a._length,l._offset-f,f,f,"n","e"),b(s,n,a._offset-f,l._offset+l._length,f,f,"s","w"),b(s,n,a._offset+a._length,l._offset+l._length,f,f,"s","e"))}if(s._context.showAxisDragHandles){if(r===a._mainSubplot){var h=a._mainLinePosition;a.side==="top"&&(h-=f),b(s,n,a._offset+.1*a._length,h,.8*a._length,f,"","ew"),b(s,n,a._offset,h,.1*a._length,f,"","w"),b(s,n,a._offset+.9*a._length,h,.1*a._length,f,"","e")}if(r===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=f),b(s,n,c,l._offset+.1*l._length,f,.8*l._length,"ns",""),b(s,n,c,l._offset+.9*l._length,f,.1*l._length,"s",""),b(s,n,c,l._offset,f,.1*l._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(r){r.target=s._fullLayout._lasthover,k.hover(s,r,t._hoversubplot)},i.onclick=function(r){r.target=s._fullLayout._lasthover,k.click(s,r)},i.onmousedown=function(r){s._fullLayout._lasthover.onmousedown(r)},C.updateFx(s)}},C.updateFx=function(s){var t=s._fullLayout,i=t.dragmode==="pan"?"move":"crosshair";_(t._draggers,i)}},36632:function(U,C,e){var T=e(24040),k=e(3400),o=e(79811);U.exports=function(_){return function(b,f){var s=b[_];if(Array.isArray(s))for(var t=T.subplotsRegistry.cartesian,i=t.idRegex,r=f._subplots,n=r.xaxis,a=r.yaxis,l=r.cartesian,u=f._has("cartesian")||f._has("gl2d"),h=0;h<s.length;h++){var c=s[h];if(k.isPlainObject(c)){var x=o.cleanId(c.xref,"x",!1),p=o.cleanId(c.yref,"y",!1),v=i.x.test(x),g=i.y.test(p);if(v||g){u||k.pushUnique(f._basePlotModules,t);var y=!1;v&&n.indexOf(x)===-1&&(n.push(x),y=!0),g&&a.indexOf(p)===-1&&(a.push(p),y=!0),y&&v&&g&&l.push(x+p)}}}}}},57952:function(U,C,e){var T=e(33428),k=e(24040),o=e(3400),_=e(7316),b=e(43616),f=e(84888)._M,s=e(79811),t=e(33816),i=e(9616),r=o.ensureSingle;function n(x,p,v){return o.ensureSingle(x,p,v,function(g){g.datum(v)})}var a=t.zindexSeparator;function l(x,p,v,g,y){for(var m,w,d,S=t.traceLayerClasses,A=x._fullLayout,E=A._zindices,P=A._modules,O=[],I=[],D=0;D<E.length;D++)for(var V=E[D],z=0;z<P.length;z++){var j=(m=P[z]).name,X=k.modules[j].categories;if(X.svg){var F=m.layerName||j+"layer",H=F+(D?Number(D)+1:""),W=m.plot;d=(w=f(v,W,V))[0],v=w[1],d.length&&O.push({i:S.indexOf(F),zorder:D,className:H,plotMethod:W,cdModule:d}),X.zoomScale&&I.push("."+H)}}O.sort(function(Q,ne){return(Q.zorder||0)-(ne.zorder||0)||Q.i-ne.i});var ie=p.plot.selectAll("g.mlayer").data(O,function(Q){return Q.className});if(ie.enter().append("g").attr("class",function(Q){return Q.className}).classed("mlayer",!0).classed("rangeplot",p.isRangePlot),ie.exit().remove(),ie.order(),ie.each(function(Q){var ne=T.select(this),$=Q.className;Q.plotMethod(x,p,Q.cdModule,ne,g,y),t.clipOnAxisFalseQuery.indexOf("."+$)===-1&&b.setClipUrl(ne,p.layerClipId,x)}),A._has("scattergl")&&(m=k.getModule("scattergl"),d=f(v,m)[0],m.plot(x,p,d)),!x._context.staticPlot&&(p._hasClipOnAxisFalse&&(p.clipOnAxisFalseTraces=p.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),I.length)){var te=p.plot.selectAll(I.join(",")).selectAll(".trace");p.zoomScalePts=te.selectAll("path.point"),p.zoomScaleTxt=te.selectAll(".textpoint")}}function u(x,p){var v=p.plotgroup,g=p.id,y=g.indexOf(a)!==-1,m=t.layerValue2layerClass[p.xaxis.layer],w=t.layerValue2layerClass[p.yaxis.layer],d=x._fullLayout._hasOnlyLargeSploms;if(p.mainplot){var S=p.mainplotinfo,A=S.plotgroup,E=g+"-x",P=g+"-y";p.minorGridlayer=S.minorGridlayer,p.gridlayer=S.gridlayer,p.zerolinelayer=S.zerolinelayer,r(S.overlinesBelow,"path",E),r(S.overlinesBelow,"path",P),r(S.overaxesBelow,"g",E),r(S.overaxesBelow,"g",P),p.plot=r(S.overplot,"g",g),r(S.overlinesAbove,"path",E),r(S.overlinesAbove,"path",P),r(S.overaxesAbove,"g",E),r(S.overaxesAbove,"g",P),p.xlines=A.select(".overlines-"+m).select("."+E),p.ylines=A.select(".overlines-"+w).select("."+P),p.xaxislayer=A.select(".overaxes-"+m).select("."+E),p.yaxislayer=A.select(".overaxes-"+w).select("."+P)}else if(d)p.xlines=r(v,"path","xlines-above"),p.ylines=r(v,"path","ylines-above"),p.xaxislayer=r(v,"g","xaxislayer-above"),p.yaxislayer=r(v,"g","yaxislayer-above");else{if(!y){var O=r(v,"g","layer-subplot");p.shapelayer=r(O,"g","shapelayer"),p.imagelayer=r(O,"g","imagelayer"),p.minorGridlayer=r(v,"g","minor-gridlayer"),p.gridlayer=r(v,"g","gridlayer"),p.zerolinelayer=r(v,"g","zerolinelayer");var I=r(v,"g","layer-between");p.shapelayerBetween=r(I,"g","shapelayer"),p.imagelayerBetween=r(I,"g","imagelayer"),r(v,"path","xlines-below"),r(v,"path","ylines-below"),p.overlinesBelow=r(v,"g","overlines-below"),r(v,"g","xaxislayer-below"),r(v,"g","yaxislayer-below"),p.overaxesBelow=r(v,"g","overaxes-below")}p.overplot=r(v,"g","overplot"),p.plot=r(p.overplot,"g",g),y||(p.xlines=r(v,"path","xlines-above"),p.ylines=r(v,"path","ylines-above"),p.overlinesAbove=r(v,"g","overlines-above"),r(v,"g","xaxislayer-above"),r(v,"g","yaxislayer-above"),p.overaxesAbove=r(v,"g","overaxes-above"),p.xlines=v.select(".xlines-"+m),p.ylines=v.select(".ylines-"+w),p.xaxislayer=v.select(".xaxislayer-"+m),p.yaxislayer=v.select(".yaxislayer-"+w))}y||(d||(n(p.minorGridlayer,"g",p.xaxis._id),n(p.minorGridlayer,"g",p.yaxis._id),p.minorGridlayer.selectAll("g").map(function(D){return D[0]}).sort(s.idSort),n(p.gridlayer,"g",p.xaxis._id),n(p.gridlayer,"g",p.yaxis._id),p.gridlayer.selectAll("g").map(function(D){return D[0]}).sort(s.idSort)),p.xlines.style("fill","none").classed("crisp",!0),p.ylines.style("fill","none").classed("crisp",!0))}function h(x,p){if(x){var v={};for(var g in x.each(function(d){var S=d[0];T.select(this).remove(),c(S,p),v[S]=!0}),p._plots)for(var y=p._plots[g].overlays||[],m=0;m<y.length;m++){var w=y[m];v[w.id]&&w.plot.selectAll(".trace").remove()}}}function c(x,p){p._draggers.selectAll("g."+x).remove(),p._defs.select("#clip"+p._uid+x+"plot").remove()}C.name="cartesian",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=t.idRegex,C.attrRegex=t.attrRegex,C.attributes=e(26720),C.layoutAttributes=e(94724),C.supplyLayoutDefaults=e(67352),C.transitionAxes=e(73736),C.finalizeSubplots=function(x,p){var v,g,y,m=p._subplots,w=m.xaxis,d=m.yaxis,S=m.cartesian,A=S.concat(m.gl2d||[]),E={},P={};for(v=0;v<A.length;v++){var O=A[v].split("y");E[O[0]]=1,P["y"+O[1]]=1}for(v=0;v<w.length;v++)E[g=w[v]]||(y=(x[s.id2name(g)]||{}).anchor,t.idRegex.y.test(y)||(y="y"),S.push(g+y),A.push(g+y),P[y]||(P[y]=1,o.pushUnique(d,y)));for(v=0;v<d.length;v++)P[y=d[v]]||(g=(x[s.id2name(y)]||{}).anchor,t.idRegex.x.test(g)||(g="x"),S.push(g+y),A.push(g+y),E[g]||(E[g]=1,o.pushUnique(w,g)));if(!A.length){for(var I in g="",y="",x)t.attrRegex.test(I)&&(I.charAt(0)==="x"?(!g||+I.substr(5)<+g.substr(5))&&(g=I):(!y||+I.substr(5)<+y.substr(5))&&(y=I));g=g?s.name2id(g):"x",y=y?s.name2id(y):"y",w.push(g),d.push(y),S.push(g+y)}},C.plot=function(x,p,v,g){var y,m=x._fullLayout,w=m._subplots.cartesian,d=x.calcdata;if(!Array.isArray(p))for(p=[],y=0;y<d.length;y++)p.push(y);for(var S=m._zindices,A=0;A<S.length;A++){var E=S[A];for(y=0;y<w.length;y++){var P=w[y],O=m._plots[P];if(A>0){var I=O.id;if(I.indexOf(a)!==-1)continue;I+=a+(A+1),O=o.extendFlat({},O,{id:I,plot:m._cartesianlayer.selectAll(".subplot").select("."+I)})}for(var D,V=[],z=0;z<d.length;z++){var j=d[z],X=j[0].trace;E===(X.zorder||0)&&X.xaxis+X.yaxis===P&&((p.indexOf(X.index)!==-1||X.carpet)&&(D&&D[0].trace.xaxis+D[0].trace.yaxis===P&&["tonextx","tonexty","tonext"].indexOf(X.fill)!==-1&&V.indexOf(D)===-1&&V.push(D),V.push(j)),D=j)}l(x,O,V,v,g)}}},C.clean=function(x,p,v,g){var y,m,w,d=g._plots||{},S=p._plots||{},A=g._subplots||{};if(g._hasOnlyLargeSploms&&!p._hasOnlyLargeSploms)for(w in d)(y=d[w]).plotgroup&&y.plotgroup.remove();var E=g._has&&g._has("gl"),P=p._has&&p._has("gl");if(E&&!P)for(w in d)(y=d[w])._scene&&y._scene.destroy();if(A.xaxis&&A.yaxis){var O=s.listIds({_fullLayout:g});for(m=0;m<O.length;m++){var I=O[m];p[s.id2name(I)]||g._infolayer.selectAll(".g-"+I+"title").remove()}}var D=g._has&&g._has("cartesian"),V=p._has&&p._has("cartesian");if(D&&!V)h(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(A.cartesian)for(m=0;m<A.cartesian.length;m++){var z=A.cartesian[m];if(z.indexOf(a)===-1&&!S[z]){var j="."+z+",."+z+"-x,."+z+"-y";g._cartesianlayer.selectAll(j).remove(),c(z,g)}}},C.drawFramework=function(x){var p,v=x._fullLayout,g=x.calcdata,y={};for(p=0;p<g.length;p++){var m=g[p][0],w=m.trace.zorder||0;y[w]||(y[w]=[]),y[w].push(m)}var d=Object.keys(y).map(Number).sort(o.sorterAsc);d.length||(d=[0]),v._zindices=d;var S=function(D){var V,z,j,X,F,H,W=D._fullLayout,ie=W._zindices.length,te=W._subplots.cartesian,Q=te.length,ne=[],$=[];for(V=0;V<Q;V++){j=te[V],F=(X=W._plots[j]).xaxis,H=X.yaxis;var J=F._mainAxis,re=H._mainAxis,se=J._id+re._id,ue=W._plots[se];X.overlays=[],se!==j&&ue?(X.mainplot=se,X.mainplotinfo=ue,$.push(j)):(X.mainplot=void 0,X.mainplotinfo=void 0,ne.push(j))}for(V=0;V<$.length;V++)j=$[V],(X=W._plots[j]).mainplotinfo.overlays.push(X);var he=ne.concat($),pe=[];for(V=0;V<Q;V++){j=he[V],F=(X=W._plots[j]).xaxis,H=X.yaxis;for(var ge=[],ye=1;ye<=ie;ye++){var be="";for(ye>1&&(be+=a+ye),ge.push(j+be),z=0;z<X.overlays.length;z++)ge.push(X.overlays[z].id+be)}ge=ge.concat([F.layer,H.layer,F.overlaying||"",H.overlaying||""]),pe.push(ge)}return pe}(x),A=S.length,E=[];for(p=0;p<A;p++)E[p]=S[p].slice();for(var P=1;P<d.length;P++){var O=[];for(p=0;p<A;p++)O[p]=S[p].slice(),O[p][0]+=a+(P+1);E=E.concat(O)}var I=v._cartesianlayer.selectAll(".subplot").data(E,String);I.enter().append("g").attr("class",function(D){return"subplot "+D[0]}),I.order(),I.exit().call(h,v),I.each(function(D){var V=D[0],z=V.indexOf(a),j=z!==-1,X=j?V.slice(0,z):V,F=v._plots[V];F||(F=o.extendFlat({},v._plots[X]))&&(F.id=V,v._plots[V]=F,v._subplots.cartesian.push(V)),F&&(F.plotgroup=T.select(this),u(x,F),j||(F.draglayer=r(v._draggers,"g",V)))})},C.rangePlot=function(x,p,v){u(x,p),l(x,p,v),_.style(x)},C.toSVG=function(x){var p=x._fullLayout._glimages,v=T.select(x).selectAll(".svg-container");v.filter(function(g,y){return y===v.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var g=this,y=g.toDataURL("image/png");p.append("svg:image").attr({xmlns:i.svg,"xlink:href":y,preserveAspectRatio:"none",x:0,y:0,width:g.style.width,height:g.style.height})})},C.updateFx=e(42464).updateFx},94724:function(U,C,e){var T=e(25376),k=e(22548),o=e(98192).u,_=e(92880).extendFlat,b=e(31780).templatedArray,f=e(29736).descriptionWithDates,s=e(39032).ONEDAY,t=e(33816),i=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},a=_({},n,{values:n.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function p(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=5),A}function v(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=1),A}var g={valType:"color",dflt:k.defaultLine,editType:"ticks"},y={valType:"color",dflt:k.lightLine,editType:"ticks"};function m(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=1),A}var w=_({},o,{editType:"ticks"}),d={valType:"boolean",editType:"ticks"};U.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:T({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:a,nticks:l(),tick0:u,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:p(),tickwidth:v(),tickcolor:g,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:_({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:T({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:d,gridcolor:y,gridwidth:m(),griddash:w,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:l("minor"),tick0:u,dtick:h,tickvals:c,ticks:x,ticklen:p("minor"),tickwidth:v("minor"),tickcolor:g,gridcolor:y,gridwidth:m("minor"),griddash:w,showgrid:d,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:T({editType:"ticks"})}}},67352:function(U,C,e){var T=e(3400),k=e(76308),o=e(10624).isUnifiedHover,_=e(41008),b=e(31780),f=e(64859),s=e(94724),t=e(14944),i=e(28336),r=e(71888),n=e(37668),a=e(79811),l=a.id2name,u=a.name2id,h=e(33816).AX_ID_PATTERN,c=e(24040),x=c.traceIs,p=c.getComponentMethod;function v(g,y,m){Array.isArray(g[y])?g[y].push(m):g[y]=[m]}U.exports=function(g,y,m){var w,d,S=y.autotypenumbers,A={},E={},P={},O={},I={},D={},V={},z={},j={},X={};for(w=0;w<m.length;w++){var F=m[w];if(x(F,"cartesian")||x(F,"gl2d")){var H,W;if(F.xaxis)H=l(F.xaxis),v(A,H,F);else if(F.xaxes)for(d=0;d<F.xaxes.length;d++)v(A,l(F.xaxes[d]),F);if(F.yaxis)W=l(F.yaxis),v(A,W,F);else if(F.yaxes)for(d=0;d<F.yaxes.length;d++)v(A,l(F.yaxes[d]),F);F.type==="funnel"?F.orientation==="h"?(H&&(E[H]=!0),W&&(V[W]=!0)):W&&(P[W]=!0):F.type==="image"?(W&&(z[W]=!0),H&&(z[H]=!0)):(W&&(I[W]=!0,D[W]=!0),x(F,"carpet")&&(F.type!=="carpet"||F._cheater)||H&&(O[H]=!0)),F.type==="carpet"&&F._cheater&&H&&(E[H]=!0),x(F,"2dMap")&&(j[H]=!0,j[W]=!0),x(F,"oriented")&&(X[F.orientation==="h"?W:H]=!0)}}var ie=y._subplots,te=ie.xaxis,Q=ie.yaxis,ne=T.simpleMap(te,l),$=T.simpleMap(Q,l),J=ne.concat($),re=k.background;te.length&&Q.length&&(re=T.coerce(g,y,f,"plot_bgcolor"));var se,ue,he,pe,ge,ye=k.combine(re,y.paper_bgcolor);function be(){var tt=A[se]||[];ge._traceIndices=tt.map(function(Pt){return Pt._expandedIndex}),ge._annIndices=[],ge._shapeIndices=[],ge._selectionIndices=[],ge._imgIndices=[],ge._subplotsWith=[],ge._counterAxes=[],ge._name=ge._attr=se,ge._id=ue}function Te(tt,Pt){return T.coerce(pe,ge,s,tt,Pt)}function Se(tt,Pt){return T.coerce2(pe,ge,s,tt,Pt)}function Fe(tt){return tt==="x"?Q:te}function xe(tt,Pt){for(var Rt=tt==="x"?ne:$,Ft=[],Ot=0;Ot<Rt.length;Ot++){var Xe=Rt[Ot];Xe===Pt||(g[Xe]||{}).overlaying||Ft.push(u(Xe))}return Ft}var le={x:Fe("x"),y:Fe("y")},oe=le.x.concat(le.y),de={},Ce=[];function _e(){var tt=pe.matches;h.test(tt)&&oe.indexOf(tt)===-1&&(de[tt]=pe.type,Ce=Object.keys(de))}var Ae=_(g,y),Le=o(Ae);for(w=0;w<J.length;w++){se=J[w],ue=u(se),he=se.charAt(0),T.isPlainObject(g[se])||(g[se]={}),pe=g[se],ge=b.newContainer(y,se,he+"axis"),be();var ze=he==="x"&&!O[se]&&E[se]||he==="y"&&!I[se]&&P[se],Re=he==="y"&&(!D[se]&&V[se]||z[se]),ve={hasMinor:!0,letter:he,font:y.font,outerTicks:j[se],showGrid:!X[se],data:A[se]||[],bgColor:ye,calendar:y.calendar,automargin:!0,visibleDflt:ze,reverseDflt:Re,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[he]||{})[ue],noAutotickangles:he==="y"};Te("uirevision",y.uirevision),t(pe,ge,Te,ve),i(pe,ge,Te,ve,y);var ke=Le&&he===Ae.charAt(0),Ee=Se("spikecolor",Le?ge.color:void 0),De=Se("spikethickness",Le?1.5:void 0),Pe=Se("spikedash",Le?"dot":void 0),Ue=Se("spikemode",Le?"across":void 0),We=Se("spikesnap");Te("showspikes",!!(ke||Ee||De||Pe||Ue||We))||(delete ge.spikecolor,delete ge.spikethickness,delete ge.spikedash,delete ge.spikemode,delete ge.spikesnap);var $e=l(pe.overlaying),ot=[0,1];if(y[$e]!==void 0){var st=l(y[$e].anchor);y[st]!==void 0&&(ot=y[st].domain)}n(pe,ge,Te,{letter:he,counterAxes:le[he],overlayableAxes:xe(he,se),grid:y.grid,overlayingDomain:ot}),Te("title.standoff"),_e(),ge._input=pe}for(w=0;w<Ce.length;){ue=Ce[w++],he=(se=l(ue)).charAt(0),T.isPlainObject(g[se])||(g[se]={}),pe=g[se],ge=b.newContainer(y,se,he+"axis"),be();var mt={letter:he,font:y.font,outerTicks:j[se],showGrid:!X[se],data:[],bgColor:ye,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[he]||{})[ue]};Te("uirevision",y.uirevision),ge.type=de[ue]||"linear",i(pe,ge,Te,mt,y),n(pe,ge,Te,{letter:he,counterAxes:le[he],overlayableAxes:xe(he,se),grid:y.grid}),Te("fixedrange"),_e(),ge._input=pe}var _t=p("rangeslider","handleDefaults"),yt=p("rangeselector","handleDefaults");for(w=0;w<ne.length;w++)se=ne[w],pe=g[se],ge=y[se],_t(g,y,se),ge.type==="date"&&yt(pe,ge,y,$,ge.calendar),Te("fixedrange");for(w=0;w<$.length;w++){se=$[w],pe=g[se],ge=y[se];var it=y[l(ge.anchor)];Te("fixedrange",p("rangeslider","isVisible")(it))}r.handleDefaults(g,y,{axIds:oe.concat(Ce).sort(a.idSort),axHasImage:z})}},42136:function(U,C,e){var T=e(49760).mix,k=e(22548),o=e(3400);U.exports=function(_,b,f,s){var t=(s=s||{}).dfltColor;function i(g,y){return o.coerce2(_,b,s.attributes,g,y)}var r=i("linecolor",t),n=i("linewidth");f("showline",s.showLine||!!r||!!n)||(delete b.linecolor,delete b.linewidth);var a=i("gridcolor",T(t,s.bgColor,s.blend||k.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(f("showgrid",s.showGrid||!!a||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),s.hasMinor){var h=i("minor.gridcolor",T(b.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),x=i("minor.griddash",b.griddash||"solid");f("minor.showgrid",!!h||!!c||!!x)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!s.noZeroLine){var p=i("zerolinecolor",t),v=i("zerolinewidth");f("zeroline",s.showGrid||!!p||!!v)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},37668:function(U,C,e){var T=e(38248),k=e(3400);U.exports=function(o,_,b,f){var s,t,i,r,n,a,l=f.counterAxes||[],u=f.overlayableAxes||[],h=f.letter,c=f.grid,x=f.overlayingDomain;c&&(t=c._domains[h][c._axisMap[_._id]],s=c._anchors[_._id],t&&(i=c[h+"side"].split(" ")[0],r=c.domain[h][i==="right"||i==="top"?1:0])),t=t||[0,1],s=s||(T(o.position)?"free":l[0]||"free"),i=i||(h==="x"?"bottom":"left"),r=r||0,n=0,a=!1;var p=k.coerce(o,_,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),v=k.coerce(o,_,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");p==="free"&&(h==="y"&&(b("autoshift")&&(r=v==="left"?x[0]:x[1],a=!_.automargin||_.automargin,n=v==="left"?-3:3),b("shift",n)),b("position",r)),b("automargin",a);var g=!1;if(u.length&&(g=k.coerce(o,_,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!g){var y=b("domain",t);y[0]>y[1]-.000244140625&&(_.domain=t),k.noneOrAll(o.domain,_.domain,t),_.tickmode==="sync"&&(_.tickmode="auto")}return b("layer"),_}},42568:function(U,C,e){var T=e(85024);U.exports=function(k,o,_,b,f){f||(f={});var s=f.tickSuffixDflt,t=T(k);_("tickprefix")&&_("showtickprefix",t),_("ticksuffix",s)&&_("showticksuffix",t)}},96312:function(U,C,e){var T=e(76808);U.exports=function(k,o,_,b){var f=o._template||{},s=o.type||f.type||"-";_("minallowed"),_("maxallowed");var t,i=_("range");i||b.noInsiderange||s==="log"||(!(t=_("insiderange"))||t[0]!==null&&t[1]!==null||(o.insiderange=!1,t=void 0),t&&(i=_("range",t)));var r,n=o.getAutorangeDflt(i,b),a=_("autorange",n);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||a!=="reversed"&&a!==!0)&&(i[0]===null||a!=="min"&&a!=="max reversed")&&(i[1]===null||a!=="max"&&a!=="min reversed")||(i=void 0,delete o.range,o.autorange=!0,r=!0),r||(a=_("autorange",n=o.getAutorangeDflt(i,b))),a&&(T(_,a,i),s!=="linear"&&s!=="-"||_("rangemode")),o.cleanRange()}},21160:function(U,C,e){var T=e(84284).FROM_BL;U.exports=function(k,o,_){_===void 0&&(_=T[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],f=b[0]+(b[1]-b[0])*_;k.range=k._input.range=[k.l2r(f+(b[0]-f)*o),k.l2r(f+(b[1]-f)*o)],k.setScale()}},78344:function(U,C,e){var T=e(33428),k=e(94336).E9,o=e(3400),_=o.numberFormat,b=e(38248),f=o.cleanNumber,s=o.ms2DateTime,t=o.dateTime2ms,i=o.ensureNumber,r=o.isArrayOrTypedArray,n=e(39032),a=n.FP_SAFE,l=n.BADNUM,u=n.LOG_CLIP,h=n.ONEWEEK,c=n.ONEDAY,x=n.ONEHOUR,p=n.ONEMIN,v=n.ONESEC,g=e(79811),y=e(33816),m=y.HOUR_PATTERN,w=y.WEEKDAY_PATTERN;function d(A){return Math.pow(10,A)}function S(A){return A!=null}U.exports=function(A,E){E=E||{};var P=A._id||"x",O=P.charAt(0);function I(J,re){if(J>0)return Math.log(J)/Math.LN10;if(J<=0&&re&&A.range&&A.range.length===2){var se=A.range[0],ue=A.range[1];return .5*(se+ue-2*u*Math.abs(se-ue))}return l}function D(J,re,se,ue){if((ue||{}).msUTC&&b(J))return+J;var he=t(J,se||A.calendar);if(he===l){if(!b(J))return l;J=+J;var pe=Math.floor(10*o.mod(J+.05,1)),ge=Math.round(J-pe/10);he=t(new Date(ge))+pe/10}return he}function V(J,re,se){return s(J,re,se||A.calendar)}function z(J){return A._categories[Math.round(J)]}function j(J){if(S(J)){if(A._categoriesMap===void 0&&(A._categoriesMap={}),A._categoriesMap[J]!==void 0)return A._categoriesMap[J];A._categories.push(typeof J=="number"?String(J):J);var re=A._categories.length-1;return A._categoriesMap[J]=re,re}return l}function X(J){if(A._categoriesMap)return A._categoriesMap[J]}function F(J){var re=X(J);return re!==void 0?re:b(J)?+J:void 0}function H(J){return b(J)?+J:X(J)}function W(J,re,se){return T.round(se+re*J,2)}function ie(J,re,se){return(J-se)/re}var te=function(J){return b(J)?W(J,A._m,A._b):l},Q=function(J){return ie(J,A._m,A._b)};if(A.rangebreaks){var ne=O==="y";te=function(J){if(!b(J))return l;var re=A._rangebreaks.length;if(!re)return W(J,A._m,A._b);var se=ne;A.range[0]>A.range[1]&&(se=!se);for(var ue=se?-1:1,he=ue*J,pe=0,ge=0;ge<re;ge++){var ye=ue*A._rangebreaks[ge].min,be=ue*A._rangebreaks[ge].max;if(he<ye)break;if(!(he>be)){pe=he<(ye+be)/2?ge:ge+1;break}pe=ge+1}var Te=A._B[pe]||0;return isFinite(Te)?W(J,A._m2,Te):0},Q=function(J){var re=A._rangebreaks.length;if(!re)return ie(J,A._m,A._b);for(var se=0,ue=0;ue<re&&!(J<A._rangebreaks[ue].pmin);ue++)J>A._rangebreaks[ue].pmax&&(se=ue+1);return ie(J,A._m2,A._B[se])}}A.c2l=A.type==="log"?I:i,A.l2c=A.type==="log"?d:i,A.l2p=te,A.p2l=Q,A.c2p=A.type==="log"?function(J,re){return te(I(J,re))}:te,A.p2c=A.type==="log"?function(J){return d(Q(J))}:Q,["linear","-"].indexOf(A.type)!==-1?(A.d2r=A.r2d=A.d2c=A.r2c=A.d2l=A.r2l=f,A.c2d=A.c2r=A.l2d=A.l2r=i,A.d2p=A.r2p=function(J){return A.l2p(f(J))},A.p2d=A.p2r=Q,A.cleanPos=i):A.type==="log"?(A.d2r=A.d2l=function(J,re){return I(f(J),re)},A.r2d=A.r2c=function(J){return d(f(J))},A.d2c=A.r2l=f,A.c2d=A.l2r=i,A.c2r=I,A.l2d=d,A.d2p=function(J,re){return A.l2p(A.d2r(J,re))},A.p2d=function(J){return d(Q(J))},A.r2p=function(J){return A.l2p(f(J))},A.p2r=Q,A.cleanPos=i):A.type==="date"?(A.d2r=A.r2d=o.identity,A.d2c=A.r2c=A.d2l=A.r2l=D,A.c2d=A.c2r=A.l2d=A.l2r=V,A.d2p=A.r2p=function(J,re,se){return A.l2p(D(J,0,se))},A.p2d=A.p2r=function(J,re,se){return V(Q(J),re,se)},A.cleanPos=function(J){return o.cleanDate(J,l,A.calendar)}):A.type==="category"?(A.d2c=A.d2l=j,A.r2d=A.c2d=A.l2d=z,A.d2r=A.d2l_noadd=F,A.r2c=function(J){var re=H(J);return re!==void 0?re:A.fraction2r(.5)},A.l2r=A.c2r=i,A.r2l=H,A.d2p=function(J){return A.l2p(A.r2c(J))},A.p2d=function(J){return z(Q(J))},A.r2p=A.d2p,A.p2r=Q,A.cleanPos=function(J){return typeof J=="string"&&J!==""?J:i(J)}):A.type==="multicategory"&&(A.r2d=A.c2d=A.l2d=z,A.d2r=A.d2l_noadd=F,A.r2c=function(J){var re=F(J);return re!==void 0?re:A.fraction2r(.5)},A.r2c_just_indices=X,A.l2r=A.c2r=i,A.r2l=F,A.d2p=function(J){return A.l2p(A.r2c(J))},A.p2d=function(J){return z(Q(J))},A.r2p=A.d2p,A.p2r=Q,A.cleanPos=function(J){return Array.isArray(J)||typeof J=="string"&&J!==""?J:i(J)},A.setupMultiCategory=function(J){var re,se,ue=A._traceIndices,he=A._matchGroup;if(he&&A._categories.length===0){for(var pe in he)if(pe!==P){var ge=E[g.id2name(pe)];ue=ue.concat(ge._traceIndices)}}var ye=[[0,{}],[0,{}]],be=[];for(re=0;re<ue.length;re++){var Te=J[ue[re]];if(O in Te){var Se=Te[O],Fe=Te._length||o.minRowLength(Se);if(r(Se[0])&&r(Se[1]))for(se=0;se<Fe;se++){var xe=Se[0][se],le=Se[1][se];S(xe)&&S(le)&&(be.push([xe,le]),xe in ye[0][1]||(ye[0][1][xe]=ye[0][0]++),le in ye[1][1]||(ye[1][1][le]=ye[1][0]++))}}}for(be.sort(function(oe,de){var Ce=ye[0][1],_e=Ce[oe[0]]-Ce[de[0]];if(_e)return _e;var Ae=ye[1][1];return Ae[oe[1]]-Ae[de[1]]}),re=0;re<be.length;re++)j(be[re])}),A.fraction2r=function(J){var re=A.r2l(A.range[0]),se=A.r2l(A.range[1]);return A.l2r(re+J*(se-re))},A.r2fraction=function(J){var re=A.r2l(A.range[0]),se=A.r2l(A.range[1]);return(A.r2l(J)-re)/(se-re)},A.limitRange=function(J){var re=A.minallowed,se=A.maxallowed;if(re!==void 0||se!==void 0){J||(J="range");var ue=o.nestedProperty(A,J).get(),he=o.simpleMap(ue,A.r2l),pe=he[1]<he[0];pe&&he.reverse();var ge=o.simpleMap([re,se],A.r2l);if(re!==void 0&&he[0]<ge[0]&&(ue[pe?1:0]=re),se!==void 0&&he[1]>ge[1]&&(ue[pe?0:1]=se),ue[0]===ue[1]){var ye=A.l2r(re),be=A.l2r(se);if(re!==void 0){var Te=ye+1;se!==void 0&&(Te=Math.min(Te,be)),ue[pe?1:0]=Te}if(se!==void 0){var Se=be+1;re!==void 0&&(Se=Math.max(Se,ye)),ue[pe?0:1]=Se}}}},A.cleanRange=function(J,re){A._cleanRange(J,re),A.limitRange(J)},A._cleanRange=function(J,re){re||(re={}),J||(J="range");var se,ue,he=o.nestedProperty(A,J).get();if(ue=(ue=A.type==="date"?o.dfltRange(A.calendar):O==="y"?y.DFLTRANGEY:A._name==="realaxis"?[0,1]:re.dfltRange||y.DFLTRANGEX).slice(),A.rangemode!=="tozero"&&A.rangemode!=="nonnegative"||(ue[0]=0),he&&he.length===2){var pe=he[0]===null,ge=he[1]===null;for(A.type!=="date"||A.autorange||(he[0]=o.cleanDate(he[0],l,A.calendar),he[1]=o.cleanDate(he[1],l,A.calendar)),se=0;se<2;se++)if(A.type==="date"){if(!o.isDateTime(he[se],A.calendar)){A[J]=ue;break}if(A.r2l(he[0])===A.r2l(he[1])){var ye=o.constrain(A.r2l(he[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);he[0]=A.l2r(ye-1e3),he[1]=A.l2r(ye+1e3);break}}else{if(!b(he[se])){if(pe||ge||!b(he[1-se])){A[J]=ue;break}he[se]=he[1-se]*(se?10:.1)}if(he[se]<-a?he[se]=-a:he[se]>a&&(he[se]=a),he[0]===he[1]){var be=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=be,he[1]+=be}}}else o.nestedProperty(A,J).set(ue)},A.setScale=function(J){var re=E._size;if(A.overlaying){var se=g.getFromId({_fullLayout:E},A.overlaying);A.domain=se.domain}var ue=J&&A._r?"_r":"range",he=A.calendar;A.cleanRange(ue);var pe,ge,ye=A.r2l(A[ue][0],he),be=A.r2l(A[ue][1],he),Te=O==="y";if(Te?(A._offset=re.t+(1-A.domain[1])*re.h,A._length=re.h*(A.domain[1]-A.domain[0]),A._m=A._length/(ye-be),A._b=-A._m*be):(A._offset=re.l+A.domain[0]*re.w,A._length=re.w*(A.domain[1]-A.domain[0]),A._m=A._length/(be-ye),A._b=-A._m*ye),A._rangebreaks=[],A._lBreaks=0,A._m2=0,A._B=[],A.rangebreaks&&(A._rangebreaks=A.locateBreaks(Math.min(ye,be),Math.max(ye,be)),A._rangebreaks.length)){for(pe=0;pe<A._rangebreaks.length;pe++)ge=A._rangebreaks[pe],A._lBreaks+=Math.abs(ge.max-ge.min);var Se=Te;ye>be&&(Se=!Se),Se&&A._rangebreaks.reverse();var Fe=Se?-1:1;for(A._m2=Fe*A._length/(Math.abs(be-ye)-A._lBreaks),A._B.push(-A._m2*(Te?be:ye)),pe=0;pe<A._rangebreaks.length;pe++)ge=A._rangebreaks[pe],A._B.push(A._B[A._B.length-1]-Fe*A._m2*(ge.max-ge.min));for(pe=0;pe<A._rangebreaks.length;pe++)(ge=A._rangebreaks[pe]).pmin=te(ge.min),ge.pmax=te(ge.max)}if(!isFinite(A._m)||!isFinite(A._b)||A._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},A.maskBreaks=function(J){var re,se,ue,he,pe,ge=A.rangebreaks||[];ge._cachedPatterns||(ge._cachedPatterns=ge.map(function(xe){return xe.enabled&&xe.bounds?o.simpleMap(xe.bounds,xe.pattern?f:A.d2c):null})),ge._cachedValues||(ge._cachedValues=ge.map(function(xe){return xe.enabled&&xe.values?o.simpleMap(xe.values,A.d2c).sort(o.sorterAsc):null}));for(var ye=0;ye<ge.length;ye++){var be=ge[ye];if(be.enabled){if(be.bounds){var Te=be.pattern;switch(se=(re=ge._cachedPatterns[ye])[0],ue=re[1],Te){case w:he=(pe=new Date(J)).getUTCDay(),se>ue&&(ue+=7,he<se&&(he+=7));break;case m:he=(pe=new Date(J)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),se>ue&&(ue+=24,he<se&&(he+=24));break;case"":he=J}if(he>=se&&he<ue)return l}else for(var Se=ge._cachedValues[ye],Fe=0;Fe<Se.length;Fe++)if(ue=(se=Se[Fe])+be.dvalue,J>=se&&J<ue)return l}}return J},A.locateBreaks=function(J,re){var se,ue,he,pe,ge=[];if(!A.rangebreaks)return ge;var ye=A.rangebreaks.slice().sort(function(Ae,Le){return Ae.pattern===w&&Le.pattern===m?-1:Le.pattern===w&&Ae.pattern===m?1:0}),be=function(Ae,Le){if((Ae=o.constrain(Ae,J,re))!==(Le=o.constrain(Le,J,re))){for(var ze=!0,Re=0;Re<ge.length;Re++){var ve=ge[Re];Ae<ve.max&&Le>=ve.min&&(Ae<ve.min&&(ve.min=Ae),Le>ve.max&&(ve.max=Le),ze=!1)}ze&&ge.push({min:Ae,max:Le})}};for(se=0;se<ye.length;se++){var Te=ye[se];if(Te.enabled)if(Te.bounds){var Se=J,Fe=re;Te.pattern&&(Se=Math.floor(Se)),he=(ue=o.simpleMap(Te.bounds,Te.pattern?f:A.r2l))[0],pe=ue[1];var xe,le,oe=new Date(Se);switch(Te.pattern){case w:le=h,xe=(pe-he+(pe<he?7:0))*c,Se+=he*c-(oe.getUTCDay()*c+oe.getUTCHours()*x+oe.getUTCMinutes()*p+oe.getUTCSeconds()*v+oe.getUTCMilliseconds());break;case m:le=c,xe=(pe-he+(pe<he?24:0))*x,Se+=he*x-(oe.getUTCHours()*x+oe.getUTCMinutes()*p+oe.getUTCSeconds()*v+oe.getUTCMilliseconds());break;default:Se=Math.min(ue[0],ue[1]),xe=le=(Fe=Math.max(ue[0],ue[1]))-Se}for(var de=Se;de<Fe;de+=le)be(de,de+xe)}else for(var Ce=o.simpleMap(Te.values,A.d2c),_e=0;_e<Ce.length;_e++)be(he=Ce[_e],pe=he+Te.dvalue)}return ge.sort(function(Ae,Le){return Ae.min-Le.min}),ge},A.makeCalcdata=function(J,re,se){var ue,he,pe,ge,ye=A.type,be=ye==="date"&&J[re+"calendar"];if(re in J){if(ue=J[re],ge=J._length||o.minRowLength(ue),o.isTypedArray(ue)&&(ye==="linear"||ye==="log")){if(ge===ue.length)return ue;if(ue.subarray)return ue.subarray(0,ge)}if(ye==="multicategory")return function(Fe,xe){for(var le=new Array(xe),oe=0;oe<xe;oe++){var de=(Fe[0]||[])[oe],Ce=(Fe[1]||[])[oe];le[oe]=X([de,Ce])}return le}(ue,ge);for(he=new Array(ge),pe=0;pe<ge;pe++)he[pe]=A.d2c(ue[pe],0,be,se)}else{var Te=re+"0"in J?A.d2c(J[re+"0"],0,be):0,Se=J["d"+re]?Number(J["d"+re]):1;for(ue=J[{x:"y",y:"x"}[re]],ge=J._length||ue.length,he=new Array(ge),pe=0;pe<ge;pe++)he[pe]=Te+pe*Se}if(A.rangebreaks)for(pe=0;pe<ge;pe++)he[pe]=A.maskBreaks(he[pe]);return he},A.isValidRange=function(J,re){return Array.isArray(J)&&J.length===2&&(re&&J[0]===null||b(A.r2l(J[0])))&&(re&&J[1]===null||b(A.r2l(J[1])))},A.getAutorangeDflt=function(J,re){var se=!A.isValidRange(J,"nullOk");return se&&re&&re.reverseDflt?se="reversed":J&&(J[0]===null&&J[1]===null?se=!0:J[0]===null&&J[1]!==null?se="min":J[0]!==null&&J[1]===null&&(se="max")),se},A.isReversed=function(){var J=A.autorange;return J==="reversed"||J==="min reversed"||J==="max reversed"},A.isPtWithinRange=function(J,re){var se=A.c2l(J[O],null,re),ue=A.r2l(A.range[0]),he=A.r2l(A.range[1]);return ue<he?ue<=se&&se<=he:he<=se&&se<=ue},A._emptyCategories=function(){A._categories=[],A._categoriesMap={}},A.clearCalc=function(){var J=A._matchGroup;if(J){var re=null,se=null;for(var ue in J){var he=E[g.id2name(ue)];if(he._categories){re=he._categories,se=he._categoriesMap;break}}re&&se?(A._categories=re,A._categoriesMap=se):A._emptyCategories()}else A._emptyCategories();if(A._initialCategories)for(var pe=0;pe<A._initialCategories.length;pe++)j(A._initialCategories[pe])},A.sortByInitialCategories=function(){var J=[];if(A._emptyCategories(),A._initialCategories)for(var re=0;re<A._initialCategories.length;re++)j(A._initialCategories[re]);J=J.concat(A._traceIndices);var se=A._matchGroup;for(var ue in se)if(P!==ue){var he=E[g.id2name(ue)];he._categories=A._categories,he._categoriesMap=A._categoriesMap,J=J.concat(he._traceIndices)}return J};var $=E._d3locale;A.type==="date"&&(A._dateFormat=$?$.timeFormat:k,A._extraFormat=E._extraFormat),A._separators=E.separators,A._numFormat=$?$.numberFormat:_,delete A._minDtick,delete A._forceTick0}},85024:function(U){U.exports=function(C){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(T){return C[T]!==void 0});if(e.every(function(T){return C[T]===C[e[0]]})||e.length===1)return C[e[0]]}},95936:function(U,C,e){var T=e(3400),k=e(76308).contrast,o=e(94724),_=e(85024),b=e(51272);function f(s,t){function i(r,n){return T.coerce(s,t,o.tickformatstops,r,n)}i("enabled")&&(i("dtickrange"),i("value"))}U.exports=function(s,t,i,r,n){n||(n={});var a=i("labelalias");T.isPlainObject(a)||delete t.labelalias;var l=_(s);if(i("showticklabels")){n.noTicklabelshift||i("ticklabelshift"),n.noTicklabelstandoff||i("ticklabelstandoff");var u=n.font||{},h=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?k(n.bgColor):h&&h!==o.color.dflt?h:u.color;if(T.coerceFont(i,"tickfont",u,{overrideDflt:{color:c}}),n.noTicklabelstep||r==="multicategory"||r==="log"||i("ticklabelstep"),!n.noAng){var x=i("tickangle");n.noAutotickangles||x!=="auto"||i("autotickangles")}if(r!=="category"){var p=i("tickformat");b(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||p||r==="date"||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(U,C,e){var T=e(3400),k=e(94724);U.exports=function(o,_,b,f){var s=f.isMinor,t=s?o.minor||{}:o,i=s?_.minor:_,r=s?k.minor:k,n=s?"minor.":"",a=T.coerce2(t,i,r,"ticklen",s?.6*(_.ticklen||5):void 0),l=T.coerce2(t,i,r,"tickwidth",s?_.tickwidth||1:void 0),u=T.coerce2(t,i,r,"tickcolor",(s?_.tickcolor:void 0)||i.color);b(n+"ticks",!s&&f.outerTicks||a||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(U,C,e){var T=e(98728),k=e(3400).isArrayOrTypedArray,o=e(38116).isTypedArraySpec,_=e(38116).decodeTypedArraySpec;U.exports=function(b,f,s,t,i){i||(i={});var r=i.isMinor,n=r?b.minor||{}:b,a=r?f.minor:f,l=r?"minor.":"";function u(g){var y=n[g];return o(y)&&(y=_(y)),y!==void 0?y:(a._template||{})[g]}var h=u("tick0"),c=u("dtick"),x=u("tickvals"),p=s(l+"tickmode",k(x)?"array":c?"linear":"auto");if(p==="auto"||p==="sync")s(l+"nticks");else if(p==="linear"){var v=a.dtick=T.dtick(c,t);a.tick0=T.tick0(h,t,f.calendar,v)}else t!=="multicategory"&&(s(l+"tickvals")===void 0?a.tickmode="auto":r||s("ticktext"))}},73736:function(U,C,e){var T=e(33428),k=e(24040),o=e(3400),_=e(43616),b=e(54460);U.exports=function(f,s,t,i){var r=f._fullLayout;if(s.length!==0){var n,a,l,u;i&&(n=i());var h=T.ease(t.easing);return f._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var p={},v=0;v<s.length;v++){var g=s[v],y=g.plotinfo.xaxis,m=g.plotinfo.yaxis;g.xr0&&(p[y._name+".range"]=g.xr0.slice()),g.yr0&&(p[m._name+".range"]=g.yr0.slice())}return k.call("relayout",f,p).then(function(){for(var w=0;w<s.length;w++)c(s[w].plotinfo)})}()}),a=Date.now(),u=window.requestAnimationFrame(function p(){l=Date.now();for(var v=Math.min(1,(l-a)/t.duration),g=h(v),y=0;y<s.length;y++)x(s[y],g);l-a>t.duration?(function(){for(var m={},w=0;w<s.length;w++){var d=s[w],S=d.plotinfo.xaxis,A=d.plotinfo.yaxis;d.xr1&&(m[S._name+".range"]=d.xr1.slice()),d.yr1&&(m[A._name+".range"]=d.yr1.slice())}n&&n(),k.call("relayout",f,m).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(p)):u=window.requestAnimationFrame(p)}),Promise.resolve()}function c(p){var v=p.xaxis,g=p.yaxis;r._defs.select("#"+p.clipId+"> rect").call(_.setTranslate,0,0).call(_.setScale,1,1),p.plot.call(_.setTranslate,v._offset,g._offset).call(_.setScale,1,1);var y=p.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(_.setPointGroupScale,1,1),y.selectAll(".textpoint").call(_.setTextPointsScale,1,1),y.call(_.hideOutsideRangePoints,p)}function x(p,v){var g=p.plotinfo,y=g.xaxis,m=g.yaxis,w=y._length,d=m._length,S=!!p.xr1,A=!!p.yr1,E=[];if(S){var P=o.simpleMap(p.xr0,y.r2l),O=o.simpleMap(p.xr1,y.r2l),I=P[1]-P[0],D=O[1]-O[0];E[0]=(P[0]*(1-v)+v*O[0]-P[0])/(P[1]-P[0])*w,E[2]=w*(1-v+v*D/I),y.range[0]=y.l2r(P[0]*(1-v)+v*O[0]),y.range[1]=y.l2r(P[1]*(1-v)+v*O[1])}else E[0]=0,E[2]=w;if(A){var V=o.simpleMap(p.yr0,m.r2l),z=o.simpleMap(p.yr1,m.r2l),j=V[1]-V[0],X=z[1]-z[0];E[1]=(V[1]*(1-v)+v*z[1]-V[1])/(V[0]-V[1])*d,E[3]=d*(1-v+v*X/j),m.range[0]=y.l2r(V[0]*(1-v)+v*z[0]),m.range[1]=m.l2r(V[1]*(1-v)+v*z[1])}else E[1]=0,E[3]=d;b.drawOne(f,y,{skipTitle:!0}),b.drawOne(f,m,{skipTitle:!0}),b.redrawComponents(f,[y._id,m._id]);var F=S?w/E[2]:1,H=A?d/E[3]:1,W=S?E[0]:0,ie=A?E[1]:0,te=S?E[0]/E[2]*w:0,Q=A?E[1]/E[3]*d:0,ne=y._offset-te,$=m._offset-Q;g.clipRect.call(_.setTranslate,W,ie).call(_.setScale,1/F,1/H),g.plot.call(_.setTranslate,ne,$).call(_.setScale,F,H),_.setPointGroupScale(g.zoomScalePts,1/F,1/H),_.setTextPointsScale(g.zoomScaleTxt,1/F,1/H)}b.redrawComponents(f)}},14944:function(U,C,e){var T=e(24040).traceIs,k=e(52976);function o(b){return{v:"x",h:"y"}[b.orientation||"v"]}function _(b,f){var s=o(b),t=T(b,"box-violin"),i=T(b._fullInput||{},"candlestick");return t&&!i&&f===s&&b[s]===void 0&&b[s+"0"]===void 0}U.exports=function(b,f,s,t){s("autotypenumbers",t.autotypenumbersDflt),s("type",(t.splomStash||{}).type)==="-"&&(function(i,r){if(i.type==="-"){var n,a=i._id,l=a.charAt(0);a.indexOf("scene")!==-1&&(a=l);var u=function(m,w,d){for(var S=0;S<m.length;S++){var A=m[S];if(A.type==="splom"&&A._length>0&&(A["_"+d+"axes"]||{})[w]||(A[d+"axis"]||d)===w&&(_(A,d)||(A[d]||[]).length||A[d+"0"]))return A}}(r,a,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var h=l+"calendar",c=u[h],x={noMultiCategory:!T(u,"cartesian")||T(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=i.autotypenumbers,_(u,l)){var p=o(u),v=[];for(n=0;n<r.length;n++){var g=r[n];T(g,"box-violin")&&(g[l+"axis"]||l)===a&&(g[p]!==void 0?v.push(g[p][0]):g.name!==void 0?v.push(g.name):v.push("text"),g[h]!==c&&(c=void 0))}i.type=k(v,c,x)}else if(u.type==="splom"){var y=u.dimensions[u._axesDim[a]];y.visible&&(i.type=k(y.values,c,x))}else i.type=k(u[l]||[u[l+"0"]],c,x)}else i.type="linear"}}(f,t.data),f.type==="-"?f.type="linear":b.type=f.type)}},62460:function(U,C,e){var T=e(24040),k=e(3400);function o(s,t,i){var r,n,a,l=!1;if(t.type==="data")r=s._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;r=s._fullLayout}return n=k.nestedProperty(r,t.prop).get(),(a=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==n&&(l=!0),a[t.prop]=n,{changed:l,value:n}}function _(s,t){var i=[],r=t[0],n={};if(typeof r=="string")n[r]=t[1];else{if(!k.isPlainObject(r))return i;n=r}return f(n,function(a,l,u){i.push({type:"layout",prop:a,value:u})},"",0),i}function b(s,t){var i,r,n,a,l=[];if(r=t[0],n=t[1],i=t[2],a={},typeof r=="string")a[r]=n;else{if(!k.isPlainObject(r))return l;a=r,i===void 0&&(i=n)}return i===void 0&&(i=null),f(a,function(u,h,c){var x,p;if(Array.isArray(c)){p=c.slice();var v=Math.min(p.length,s.data.length);i&&(v=Math.min(v,i.length)),x=[];for(var g=0;g<v;g++)x[g]=i?i[g]:g}else p=c,x=i?i.slice():null;if(x===null)Array.isArray(p)&&(p=p[0]);else if(Array.isArray(x)){if(!Array.isArray(p)){var y=p;p=[];for(var m=0;m<x.length;m++)p[m]=y}p.length=Math.min(x.length,p.length)}l.push({type:"data",prop:u,traces:x,value:p})},"",0),l}function f(s,t,i,r){Object.keys(s).forEach(function(n){var a=s[n];if(n[0]!=="_"){var l=i+(r>0?".":"")+n;k.isPlainObject(a)?f(a,t,l,r+1):t(l,n,a)}})}C.manageCommandObserver=function(s,t,i,r){var n={},a=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var l=C.hasSimpleAPICommandBindings(s,i,n.lookupTable);if(t&&t._commandObserver){if(l)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(l){o(s,l,n.cache),n.check=function(){if(a){var c=o(s,l,n.cache);return c.changed&&r&&n.lookupTable[c.value]!==void 0&&(n.disable(),Promise.resolve(r({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:n.lookupTable[c.value]})).then(n.enable,n.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)s._internalOn(u[h],n.check);n.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],n.check)}}else k.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){a=!1},n.enable=function(){a=!0},t&&(t._commandObserver=n),n},C.hasSimpleAPICommandBindings=function(s,t,i){var r,n,a=t.length;for(r=0;r<a;r++){var l,u=t[r],h=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!h)return!1;var x=C.computeAPICommandBindings(s,h,c);if(x.length!==1)return!1;if(n){if((l=x[0]).type!==n.type||l.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var p=0;p<n.traces.length;p++)if(n.traces[p]!==l.traces[p])return!1}else if(l.prop!==n.prop)return!1}else n=x[0],Array.isArray(n.traces)&&n.traces.sort();var v=(l=x[0]).value;if(Array.isArray(v)){if(v.length!==1)return!1;v=v[0]}i&&(i[v]=r)}return n},C.executeAPICommand=function(s,t,i){if(t==="skip")return Promise.resolve();var r=T.apiMethodRegistry[t],n=[s];Array.isArray(i)||(i=[]);for(var a=0;a<i.length;a++)n.push(i[a]);return r.apply(null,n).catch(function(l){return k.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},C.computeAPICommandBindings=function(s,t,i){var r;switch(Array.isArray(i)||(i=[]),t){case"restyle":r=b(s,i);break;case"relayout":r=_(0,i);break;case"update":r=b(s,[i[0],i[2]]).concat(_(0,[i[1]]));break;case"animate":r=function(n,a){return Array.isArray(a[0])&&a[0].length===1&&["string","number"].indexOf(typeof a[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:a[0][0].toString()}]:[]}(0,i);break;default:r=[]}return r}},86968:function(U,C,e){var T=e(92880).extendFlat;C.u=function(k,o){o=o||{};var _={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b=(k.name&&k.name,k.trace,o.description&&o.description,{x:T({},_,{}),y:T({},_,{}),editType:k.editType});return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},C.Q=function(k,o,_,b){var f=b&&b.x||[0,1],s=b&&b.y||[0,1],t=o.grid;if(t){var i=_("domain.column");i!==void 0&&(i<t.columns?f=t._domains.x[i]:delete k.domain.column);var r=_("domain.row");r!==void 0&&(r<t.rows?s=t._domains.y[r]:delete k.domain.row)}var n=_("domain.x",f),a=_("domain.y",s);n[0]<n[1]||(k.domain.x=f.slice()),a[0]<a[1]||(k.domain.y=s.slice())}},25376:function(U){U.exports=function(C){var e=C.variantValues,T=C.editType,k=C.colorEditType;k===void 0&&(k=T);var o={editType:T,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};C.noNumericWeightValues&&(o.valType="enumerated",o.values=o.extras,o.extras=void 0,o.min=void 0,o.max=void 0);var _={family:{valType:"string",noBlank:!0,strict:!0,editType:T},size:{valType:"number",min:1,editType:T},color:{valType:"color",editType:k},weight:o,style:{editType:T,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:C.noFontVariant?void 0:{editType:T,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:C.noFontTextcase?void 0:{editType:T,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:C.noFontLineposition?void 0:{editType:T,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:C.noFontShadow?void 0:{editType:T,valType:"string",dflt:C.autoShadowDflt?"auto":"none"},editType:T};return C.autoSize&&(_.size.dflt="auto"),C.autoColor&&(_.color.dflt="auto"),C.arrayOk&&(_.family.arrayOk=!0,_.weight.arrayOk=!0,_.style.arrayOk=!0,C.noFontVariant||(_.variant.arrayOk=!0),C.noFontTextcase||(_.textcase.arrayOk=!0),C.noFontLineposition||(_.lineposition.arrayOk=!0),C.noFontShadow||(_.shadow.arrayOk=!0),_.size.arrayOk=!0,_.color.arrayOk=!0),_}},16672:function(U){U.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(U,C){C.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},C.axesNames=["lonaxis","lataxis"],C.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},C.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},C.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},C.clipPad=.001,C.precision=.1,C.landColor="#F0DC82",C.waterColor="#3399FF",C.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},C.sphereSVG={type:"Sphere"},C.fillLayers={ocean:1,land:1,lakes:1},C.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},C.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],C.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],C.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(U,C,e){var T=e(33428),k=e(83356),o=k.geoPath,_=k.geoDistance,b=e(87108),f=e(24040),s=e(3400),t=s.strTranslate,i=e(76308),r=e(43616),n=e(93024),a=e(7316),l=e(54460),u=e(19280).getAutoRange,h=e(86476),c=e(22676).prepSelect,x=e(22676).clearOutline,p=e(22676).selectOnClick,v=e(79248),g=e(79552),y=e(27144),m=e(59972),w=e(55712).NO;function d(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=d.prototype;function A(E,P){var O=g.clipPad,I=E[0]+O,D=E[1]-O,V=P[0]+O,z=P[1]-O;I>0&&D<0&&(D+=360);var j=(D-I)/4;return{type:"Polygon",coordinates:[[[I,V],[I,z],[I+j,z],[I+2*j,z],[I+3*j,z],[D,z],[D,V],[D-j,V],[D-2*j,V],[D-3*j,V],[I,V]]]}}U.exports=function(E){return new d(E)},S.plot=function(E,P,O,I){var D=this;if(I)return D.update(E,P,!0);D._geoCalcData=E,D._fullLayout=P;var V=P[this.id],z=[],j=!1;for(var X in g.layerNameToAdjective)if(X!=="frame"&&V["show"+X]){j=!0;break}for(var F=!1,H=0;H<E.length;H++){var W=E[0][0].trace;W._geo=D,W.locationmode&&(j=!0);var ie=W.marker;if(ie){var te=ie.angle,Q=ie.angleref;(te||Q==="north"||Q==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,j){var ne=m.getTopojsonName(V);D.topojson!==null&&ne===D.topojsonName||(D.topojsonName=ne,PlotlyGeoAssets.topojson[D.topojsonName]===void 0&&z.push(D.fetchTopojson()))}z=z.concat(y.fetchTraceGeoData(E)),O.push(new Promise(function($,J){Promise.all(z).then(function(){D.topojson=PlotlyGeoAssets.topojson[D.topojsonName],D.update(E,P),$()}).catch(J)}))},S.fetchTopojson=function(){var E=this,P=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(O,I){T.json(P,function(D,V){if(D)return D.status===404?I(new Error(["plotly.js could not find topojson file at",P+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):I(new Error(["unexpected error while fetching topojson file at",P].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=V,O()})})},S.update=function(E,P,O){var I=P[this.id];this.hasChoropleth=!1;for(var D=0;D<E.length;D++){var V=E[D],z=V[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(V,P)}if(!O){if(this.updateProjection(E,P))return;this.viewInitial&&this.scope===I.scope||this.saveViewInitial(I)}this.scope=I.scope,this.updateBaseLayers(P,I),this.updateDims(P,I),this.updateFx(P,I),a.generalUpdatePerTraceModule(this.graphDiv,this,E,I);var j=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=j.selectAll(".point"),this.dataPoints.text=j.selectAll("text"),this.dataPaths.line=j.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},S.updateProjection=function(E,P){var O=this.graphDiv,I=P[this.id],D=P._size,V=I.domain,z=I.projection,j=I.lonaxis,X=I.lataxis,F=j._ax,H=X._ax,W=this.projection=function(oe){var de=oe.projection,Ce=de.type,_e=g.projNames[Ce];_e="geo"+s.titleCase(_e);for(var Ae=(k[_e]||b[_e])(),Le=oe._isSatellite?180*Math.acos(1/de.distance)/Math.PI:oe._isClipped?g.lonaxisSpan[Ce]/2:null,ze=["center","rotate","parallels","clipExtent"],Re=function(Ee){return Ee?Ae:[]},ve=0;ve<ze.length;ve++){var ke=ze[ve];typeof Ae[ke]!="function"&&(Ae[ke]=Re)}return Ae.isLonLatOverEdges=function(Ee){if(Ae(Ee)===null)return!0;if(Le){var De=Ae.rotate();return _(Ee,[-De[0],-De[1]])>Le*Math.PI/180}return!1},Ae.getPath=function(){return o().projection(Ae)},Ae.getBounds=function(Ee){return Ae.getPath().bounds(Ee)},Ae.precision(g.precision),oe._isSatellite&&Ae.tilt(de.tilt).distance(de.distance),Le&&Ae.clipAngle(Le-g.clipPad),Ae}(I),ie=[[D.l+D.w*V.x[0],D.t+D.h*(1-V.y[1])],[D.l+D.w*V.x[1],D.t+D.h*(1-V.y[0])]],te=I.center||{},Q=z.rotation||{},ne=j.range||[],$=X.range||[];if(I.fitbounds){F._length=ie[1][0]-ie[0][0],H._length=ie[1][1]-ie[0][1],F.range=u(O,F),H.range=u(O,H);var J=(F.range[0]+F.range[1])/2,re=(H.range[0]+H.range[1])/2;if(I._isScoped)te={lon:J,lat:re};else if(I._isClipped){te={lon:J,lat:re},Q={lon:J,lat:re,roll:Q.roll};var se=z.type,ue=g.lonaxisSpan[se]/2||180,he=g.lataxisSpan[se]/2||90;ne=[J-ue,J+ue],$=[re-he,re+he]}else te={lon:J,lat:re},Q={lon:J,lat:Q.lat,roll:Q.roll}}W.center([te.lon-Q.lon,te.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(z.parallels);var pe=A(ne,$);W.fitExtent(ie,pe);var ge=this.bounds=W.getBounds(pe),ye=this.fitScale=W.scale(),be=W.translate();if(I.fitbounds){var Te=W.getBounds(A(F.range,H.range)),Se=Math.min((ge[1][0]-ge[0][0])/(Te[1][0]-Te[0][0]),(ge[1][1]-ge[0][1])/(Te[1][1]-Te[0][1]));isFinite(Se)?W.scale(Se*ye):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else W.scale(z.scale*ye);var Fe=this.midPt=[(ge[0][0]+ge[1][0])/2,(ge[0][1]+ge[1][1])/2];if(W.translate([be[0]+(Fe[0]-be[0]),be[1]+(Fe[1]-be[1])]).clipExtent(ge),I._isAlbersUsa){var xe=W([te.lon,te.lat]),le=W.translate();W.translate([le[0]-(xe[0]-le[0]),le[1]-(xe[1]-le[1])])}},S.updateBaseLayers=function(E,P){var O=this,I=O.topojson,D=O.layers,V=O.basePaths;function z(W){return W==="lonaxis"||W==="lataxis"}function j(W){return!!g.lineLayers[W]}function X(W){return!!g.fillLayers[W]}var F=(this.hasChoropleth?g.layersForChoropleth:g.layers).filter(function(W){return j(W)||X(W)?P["show"+W]:!z(W)||P[W].showgrid}),H=O.framework.selectAll(".layer").data(F,String);H.exit().each(function(W){delete D[W],delete V[W],T.select(this).remove()}),H.enter().append("g").attr("class",function(W){return"layer "+W}).each(function(W){var ie=D[W]=T.select(this);W==="bg"?O.bgRect=ie.append("rect").style("pointer-events","all"):z(W)?V[W]=ie.append("path").style("fill","none"):W==="backplot"?ie.append("g").classed("choroplethlayer",!0):W==="frontplot"?ie.append("g").classed("scatterlayer",!0):j(W)?V[W]=ie.append("path").style("fill","none").style("stroke-miterlimit",2):X(W)&&(V[W]=ie.append("path").style("stroke","none"))}),H.order(),H.each(function(W){var ie=V[W],te=g.layerNameToAdjective[W];W==="frame"?ie.datum(g.sphereSVG):j(W)||X(W)?ie.datum(w(I,I.objects[W])):z(W)&&ie.datum(function(Q,ne,$){var J,re,se,ue=ne[Q],he=g.scopeDefaults[ne.scope];Q==="lonaxis"?(J=he.lonaxisRange,re=he.lataxisRange,se=function(le,oe){return[le,oe]}):Q==="lataxis"&&(J=he.lataxisRange,re=he.lonaxisRange,se=function(le,oe){return[oe,le]});var pe={type:"linear",range:[J[0],J[1]-1e-6],tick0:ue.tick0,dtick:ue.dtick};l.setConvert(pe,$);var ge=l.calcTicks(pe);ne.isScoped||Q!=="lonaxis"||ge.pop();for(var ye=ge.length,be=new Array(ye),Te=0;Te<ye;Te++)for(var Se=ge[Te].x,Fe=be[Te]=[],xe=re[0];xe<re[1]+2.5;xe+=2.5)Fe.push(se(Se,xe));return{type:"MultiLineString",coordinates:be}}(W,P,E)).call(i.stroke,P[W].gridcolor).call(r.dashLine,P[W].griddash,P[W].gridwidth),j(W)?ie.call(i.stroke,P[te+"color"]).call(r.dashLine,"",P[te+"width"]):X(W)&&ie.call(i.fill,P[te+"color"])})},S.updateDims=function(E,P){var O=this.bounds,I=(P.framewidth||0)/2,D=O[0][0]-I,V=O[0][1]-I,z=O[1][0]-D+I,j=O[1][1]-V+I;r.setRect(this.clipRect,D,V,z,j),this.bgRect.call(r.setRect,D,V,z,j).call(i.fill,P.bgcolor),this.xaxis._offset=D,this.xaxis._length=z,this.yaxis._offset=V,this.yaxis._length=j},S.updateFx=function(E,P){var O=this,I=O.graphDiv,D=O.bgRect,V=E.dragmode,z=E.clickmode;if(!O.isStatic){var j={element:O.bgRect.node(),gd:I,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:function(F,H){H.isRect?(F.range={})[O.id]=[X([H.xmin,H.ymin]),X([H.xmax,H.ymax])]:(F.lassoPoints={})[O.id]=H.map(X)}},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(F){F===2&&x(I)}};V==="pan"?(D.node().onmousedown=null,D.call(v(O,P)),D.on("dblclick.zoom",function(){var F=O.viewInitial,H={};for(var W in F)H[O.id+"."+W]=F[W];f.call("_guiRelayout",I,H),I.emit("plotly_doubleclick",null)}),I._context._scrollZoom.geo||D.on("wheel.zoom",null)):V!=="select"&&V!=="lasso"||(D.on(".zoom",null),j.prepFn=function(F,H,W){c(F,H,W,j,V)},h.init(j)),D.on("mousemove",function(){var F=O.projection.invert(s.getPositionFromD3Event());if(!F)return h.unhover(I,T.event);O.xaxis.p2c=function(){return F[0]},O.yaxis.p2c=function(){return F[1]},n.hover(I,T.event,O.id)}),D.on("mouseout",function(){I._dragging||h.unhover(I,T.event)}),D.on("click",function(){V!=="select"&&V!=="lasso"&&(z.indexOf("select")>-1&&p(T.event,I,[O.xaxis],[O.yaxis],O.id,j),z.indexOf("event")>-1&&n.click(I,T.event))})}function X(F){return O.projection.invert([F[0]+O.xaxis._offset,F[1]+O.yaxis._offset])}},S.makeFramework=function(){var E=this,P=E.graphDiv,O=P._fullLayout,I="clip"+O._uid+E.id;E.clipDef=O._clips.append("clipPath").attr("id",I),E.clipRect=E.clipDef.append("rect"),E.framework=T.select(E.container).append("g").attr("class","geo "+E.id).call(r.setClipUrl,I,P),E.project=function(D){var V=E.projection(D);return V?[V[0]-E.xaxis._offset,V[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(D){return E.project(D)[0]}},E.yaxis={_id:"y",c2p:function(D){return E.project(D)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(E.mockAxis,O)},S.saveViewInitial=function(E){var P,O=E.center||{},I=E.projection,D=I.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":I.scale},P=E._isScoped?{"center.lon":O.lon,"center.lat":O.lat}:E._isClipped?{"projection.rotation.lon":D.lon,"projection.rotation.lat":D.lat}:{"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":D.lon},s.extendFlat(this.viewInitial,P)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,P=this.projection,O=P.getPath();function I(V){var z=P(V.lonlat);return z?t(z[0],z[1]):null}function D(V){return P.isLonLatOverEdges(V.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",O);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(V){return O(V.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",D).attr("transform",I)}},10816:function(U,C,e){var T=e(84888).KY,k=e(3400).counterRegex,o=e(43520),_="geo",b=k(_),f={};f[_]={valType:"subplotid",dflt:_,editType:"calc"},U.exports={attr:_,name:_,idRoot:_,idRegex:b,attrRegex:b,attributes:f,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var t=s._fullLayout,i=s.calcdata,r=t._subplots[_],n=0;n<r.length;n++){var a=r[n],l=T(i,_,a),u=t[a]._subplot;u||(u=o({id:a,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[a]._subplot=u),u.plot(l,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,i=t._subplots[_],r=0;r<i.length;r++){var n=t[i[r]];n._subplot.updateFx(t,n)}},clean:function(s,t,i,r){for(var n=r._subplots[_]||[],a=0;a<n.length;a++){var l=n[a],u=r[l]._subplot;!t[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(U,C,e){var T=e(22548),k=e(86968).u,o=e(98192).u,_=e(79552),b=e(67824).overrideAll,f=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:T.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:o};(U.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:f(_.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:f(_.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:T.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:_.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:_.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:_.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:_.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:T.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:T.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:T.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:T.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(U,C,e){var T=e(3400),k=e(168),o=e(84888).op,_=e(79552),b=e(40384),f=_.axesNames;function s(t,i,r,n){var a=o(n.fullData,"geo",n.id).map(function(Q){return Q._expandedIndex}),l=r("resolution"),u=r("scope"),h=_.scopeDefaults[u],c=r("projection.type",h.projType),x=i._isAlbersUsa=c==="albers usa";x&&(u=i.scope="usa");var p=i._isScoped=u!=="world",v=i._isSatellite=c==="satellite",g=i._isConic=c.indexOf("conic")!==-1||c==="albers",y=i._isClipped=!!_.lonaxisSpan[c];if(t.visible===!1){var m=T.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var w=r("visible"),d=0;d<f.length;d++){var S,A=f[d],E=[30,10][d];if(p)S=h[A+"Range"];else{var P=_[A+"Span"],O=(P[c]||P["*"])/2,I=r("projection.rotation."+A.substr(0,3),h.projRotate[d]);S=[I-O,I+O]}var D=r(A+".range",S);r(A+".tick0"),r(A+".dtick",E),r(A+".showgrid",!!w&&void 0)&&(r(A+".gridcolor"),r(A+".gridwidth"),r(A+".griddash")),i[A]._ax={type:"linear",_id:A.slice(0,3),_traceIndices:a,setScale:T.identity,c2l:T.identity,r2l:T.identity,autorange:!0,range:D.slice(),_m:1,_input:{}}}var V=i.lonaxis.range,z=i.lataxis.range,j=V[0],X=V[1];j>0&&X<0&&(X+=360);var F,H,W,ie=(j+X)/2;if(!x){var te=p?h.projRotate:[ie,0,0];F=r("projection.rotation.lon",te[0]),r("projection.rotation.lat",te[1]),r("projection.rotation.roll",te[2]),r("showcoastlines",!p&&w)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!w&&void 0)&&r("oceancolor")}x?(H=-96.6,W=38.7):(H=p?ie:F,W=(z[0]+z[1])/2),r("center.lon",H),r("center.lat",W),v&&(r("projection.tilt"),r("projection.distance")),g&&r("projection.parallels",h.projParallels||[0,60]),r("projection.scale"),r("showland",!!w&&void 0)&&r("landcolor"),r("showlakes",!!w&&void 0)&&r("lakecolor"),r("showrivers",!!w&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",p&&u!=="usa"&&w)&&(r("countrycolor"),r("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(r("showsubunits",w),r("subunitcolor"),r("subunitwidth")),p||r("showframe",w)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete i.projection.scale,p?(delete i.center.lon,delete i.center.lat):y?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}U.exports=function(t,i,r){k(t,i,r,{type:"geo",attributes:b,handleDefaults:s,fullData:r,partition:"y"})}},79248:function(U,C,e){var T=e(33428),k=e(3400),o=e(24040),_=Math.PI/180,b=180/Math.PI,f={cursor:"pointer"},s={cursor:"auto"};function t(p,v){return T.behavior.zoom().translate(v.translate()).scale(v.scale())}function i(p,v,g){var y=p.id,m=p.graphDiv,w=m.layout,d=w[y],S=m._fullLayout,A=S[y],E={},P={};function O(I,D){E[y+"."+I]=k.nestedProperty(d,I).get(),o.call("_storeDirectGUIEdit",w,S._preGUI,E);var V=k.nestedProperty(A,I);V.get()!==D&&(V.set(D),k.nestedProperty(d,I).set(D),P[y+"."+I]=D)}g(O),O("projection.scale",v.scale()/p.fitScale),O("fitbounds",!1),m.emit("plotly_relayout",P)}function r(p,v){var g=t(0,v);function y(m){var w=v.invert(p.midPt);m("center.lon",w[0]),m("center.lat",w[1])}return g.on("zoomstart",function(){T.select(this).style(f)}).on("zoom",function(){v.scale(T.event.scale).translate(T.event.translate),p.render(!0);var m=v.invert(p.midPt);p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/p.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){T.select(this).style(s),i(p,v,y)}),g}function n(p,v){var g,y,m,w,d,S,A,E,P,O=t(0,v);function I(V){return v.invert(V)}function D(V){var z=v.rotate(),j=v.invert(p.midPt);V("projection.rotation.lon",-z[0]),V("center.lon",j[0]),V("center.lat",j[1])}return O.on("zoomstart",function(){T.select(this).style(f),g=T.mouse(this),y=v.rotate(),m=v.translate(),w=y,d=I(g)}).on("zoom",function(){if(S=T.mouse(this),function(j){var X=I(j);if(!X)return!0;var F=v(X);return Math.abs(F[0]-j[0])>2||Math.abs(F[1]-j[1])>2}(g))return O.scale(v.scale()),void O.translate(v.translate());v.scale(T.event.scale),v.translate([m[0],T.event.translate[1]]),d?I(S)&&(E=I(S),A=[w[0]+(E[0]-d[0]),y[1],y[2]],v.rotate(A),w=A):d=I(g=S),P=!0,p.render(!0);var V=v.rotate(),z=v.invert(p.midPt);p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/p.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-V[0]})}).on("zoomend",function(){T.select(this).style(s),P&&i(p,v,D)}),O}function a(p,v){var g;v.rotate(),v.scale();var y=t(0,v),m=function(A){for(var E=0,P=arguments.length,O=[];++E<P;)O.push(arguments[E]);var I=T.dispatch.apply(null,O);return I.of=function(D,V){return function(z){var j;try{j=z.sourceEvent=T.event,z.target=A,T.event=z,I[z.type].apply(D,V)}finally{T.event=j}}},I}(y,"zoomstart","zoom","zoomend"),w=0,d=y.on;function S(A){var E=v.rotate();A("projection.rotation.lon",-E[0]),A("projection.rotation.lat",-E[1])}return y.on("zoomstart",function(){T.select(this).style(f);var A,E,P,O,I,D,V,z,j,X,F,H=T.mouse(this),W=v.rotate(),ie=W,te=v.translate(),Q=(E=.5*(A=W)[0]*_,P=.5*A[1]*_,O=.5*A[2]*_,I=Math.sin(E),D=Math.cos(E),V=Math.sin(P),z=Math.cos(P),j=Math.sin(O),[D*z*(X=Math.cos(O))+I*V*j,I*z*X-D*V*j,D*V*X+I*z*j,D*z*j-I*V*X]);g=l(v,H),d.call(y,"zoom",function(){var ne,$,J,re,se,ue,he,pe,ge,ye,be=T.mouse(this);if(v.scale(T.event.scale),g){if(l(v,be)){v.rotate(W).translate(te);var Te=l(v,be),Se=function(le,oe){if(le&&oe){var de=function(Le,ze){return[Le[1]*ze[2]-Le[2]*ze[1],Le[2]*ze[0]-Le[0]*ze[2],Le[0]*ze[1]-Le[1]*ze[0]]}(le,oe),Ce=Math.sqrt(x(de,de)),_e=.5*Math.acos(Math.max(-1,Math.min(1,x(le,oe)))),Ae=Math.sin(_e)/Ce;return Ce&&[Math.cos(_e),de[2]*Ae,-de[1]*Ae,de[0]*Ae]}}(g,Te),Fe=function(le){return[Math.atan2(2*(le[0]*le[1]+le[2]*le[3]),1-2*(le[1]*le[1]+le[2]*le[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(le[0]*le[2]-le[3]*le[1]))))*b,Math.atan2(2*(le[0]*le[3]+le[1]*le[2]),1-2*(le[2]*le[2]+le[3]*le[3]))*b]}((J=(ne=Q)[0],re=ne[1],se=ne[2],ue=ne[3],[J*(he=($=Se)[0])-re*(pe=$[1])-se*(ge=$[2])-ue*(ye=$[3]),J*pe+re*he+se*ye-ue*ge,J*ge-re*ye+se*he+ue*pe,J*ye+re*ge-se*pe+ue*he])),xe=function(le,oe,de){var Ce=c(oe,2,le[0]);Ce=c(Ce,1,le[1]),Ce=c(Ce,0,le[2]-de[2]);var _e,Ae,Le=oe[0],ze=oe[1],Re=oe[2],ve=Ce[0],ke=Ce[1],Ee=Ce[2],De=Math.atan2(ze,Le)*b,Pe=Math.sqrt(Le*Le+ze*ze);Math.abs(ke)>Pe?(Ae=(ke>0?90:-90)-De,_e=0):(Ae=Math.asin(ke/Pe)*b-De,_e=Math.sqrt(Pe*Pe-ke*ke));var Ue=180-Ae-2*De,We=(Math.atan2(Ee,ve)-Math.atan2(Re,_e))*b,$e=(Math.atan2(Ee,ve)-Math.atan2(Re,-_e))*b;return u(de[0],de[1],Ae,We)<=u(de[0],de[1],Ue,$e)?[Ae,We,de[2]]:[Ue,$e,de[2]]}(Fe,g,ie);isFinite(xe[0])&&isFinite(xe[1])&&isFinite(xe[2])||(xe=ie),v.rotate(xe),ie=xe}}else g=l(v,H=be);m.of(this,arguments)({type:"zoom"})}),F=m.of(this,arguments),w++||F({type:"zoomstart"})}).on("zoomend",function(){var A;T.select(this).style(s),d.call(y,"zoom",null),A=m.of(this,arguments),--w||A({type:"zoomend"}),i(p,v,S)}).on("zoom.redraw",function(){p.render(!0);var A=v.rotate();p.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/p.fitScale,"geo.projection.rotation.lon":-A[0],"geo.projection.rotation.lat":-A[1]})}),T.rebind(y,m,"on")}function l(p,v){var g=p.invert(v);return g&&isFinite(g[0])&&isFinite(g[1])&&function(y){var m=y[0]*_,w=y[1]*_,d=Math.cos(w);return[d*Math.cos(m),d*Math.sin(m),Math.sin(w)]}(g)}function u(p,v,g,y){var m=h(g-p),w=h(y-v);return Math.sqrt(m*m+w*w)}function h(p){return(p%360+540)%360-180}function c(p,v,g){var y=g*_,m=p.slice(),w=v===0?1:0,d=v===2?1:2,S=Math.cos(y),A=Math.sin(y);return m[w]=p[w]*S-p[d]*A,m[d]=p[d]*S+p[w]*A,m}function x(p,v){for(var g=0,y=0,m=p.length;y<m;++y)g+=p[y]*v[y];return g}U.exports=function(p,v){var g=p.projection;return(v._isScoped?r:v._isClipped?a:n)(p,g)}},84888:function(U,C,e){var T=e(24040),k=e(33816).SUBPLOT_PATTERN;C.KY=function(o,_,b){var f=T.subplotsRegistry[_];if(!f)return[];for(var s=f.attr,t=[],i=0;i<o.length;i++){var r=o[i];r[0].trace[s]===b&&t.push(r)}return t},C._M=function(o,_,b){var f,s=[],t=[];if(!(f=typeof _=="string"?T.getModule(_).plot:typeof _=="function"?_:_.plot))return[s,o];for(var i=b,r=0;r<o.length;r++){var n=o[r],a=n[0].trace,l=a.zorder!==void 0;a.visible===!0&&a._length!==0&&(!a._module||a._module.plot!==f||l&&a.zorder!==i?t.push(n):s.push(n))}return[s,t]},C.op=function(o,_,b){if(!T.subplotsRegistry[_])return[];var f,s,t,i=T.subplotsRegistry[_].attr,r=[];if(_==="gl2d"){var n=b.match(k);s="x"+n[1],t="y"+n[2]}for(var a=0;a<o.length;a++)f=o[a],_==="gl2d"&&T.traceIs(f,"gl2d")?f[i[0]]===s&&f[i[1]]===t&&r.push(f):f[i]===b&&r.push(f);return r}},2428:function(U,C,e){var T=e(62644),k=e(97264),o=e(29128),_=e(33816),b=e(89184);function f(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}U.exports=function(s){var t=s.mouseContainer,i=s.glplot,r=new f(t,i);function n(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function a(l,u,h){var c,x,p=s.calcDataBox(),v=i.viewBox,g=r.lastPos[0],y=r.lastPos[1],m=_.MINDRAG*i.pixelRatio,w=_.MINZOOM*i.pixelRatio;function d(I,D,V){var z=Math.min(D,V),j=Math.max(D,V);z!==j?(p[I]=z,p[I+2]=j,r.dataBox=p,s.setRanges(p)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,h*=i.pixelRatio,h=v[3]-v[1]-h,s.fullLayout.dragmode){case"zoom":if(l){var S=u/(v[2]-v[0])*(p[2]-p[0])+p[0],A=h/(v[3]-v[1])*(p[3]-p[1])+p[1];r.boxInited||(r.boxStart[0]=S,r.boxStart[1]=A,r.dragStart[0]=u,r.dragStart[1]=h),r.boxEnd[0]=S,r.boxEnd[1]=A,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var E=Math.abs(r.dragStart[0]-u)<w,P=Math.abs(r.dragStart[1]-h)<w;if(!function(){for(var I=s.graphDiv._fullLayout._axisConstraintGroups,D=s.xaxis._id,V=s.yaxis._id,z=0;z<I.length;z++)if(I[z][D]!==-1){if(I[z][V]!==-1)return!0;break}return!1}()||E&&P)E&&(r.boxEnd[0]=r.boxStart[0]),P&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],x=r.boxEnd[1]-r.boxStart[1];var O=(p[3]-p[1])/(p[2]-p[0]);Math.abs(c*O)>Math.abs(x)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*O*(x>=0?1:-1),r.boxEnd[1]<p[1]?(r.boxEnd[1]=p[1],r.boxEnd[0]=r.boxStart[0]+(p[1]-r.boxStart[1])/Math.abs(O)):r.boxEnd[1]>p[3]&&(r.boxEnd[1]=p[3],r.boxEnd[0]=r.boxStart[0]+(p[3]-r.boxStart[1])/Math.abs(O))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(x)/O*(c>=0?1:-1),r.boxEnd[0]<p[0]?(r.boxEnd[0]=p[0],r.boxEnd[1]=r.boxStart[1]+(p[0]-r.boxStart[0])*Math.abs(O)):r.boxEnd[0]>p[2]&&(r.boxEnd[0]=p[2],r.boxEnd[1]=r.boxStart[1]+(p[2]-r.boxStart[0])*Math.abs(O)))}}else r.boxEnabled?(c=r.boxStart[0]!==r.boxEnd[0],x=r.boxStart[1]!==r.boxEnd[1],c||x?(c&&(d(0,r.boxStart[0],r.boxEnd[0]),s.xaxis.autorange=!1),x&&(d(1,r.boxStart[1],r.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,l?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=h),Math.abs(r.dragStart[0]-u)<m&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-h)<m&&(h=r.dragStart[1]),c=(g-u)*(p[2]-p[0])/(i.viewBox[2]-i.viewBox[0]),x=(y-h)*(p[3]-p[1])/(i.viewBox[3]-i.viewBox[1]),p[0]+=c,p[2]+=c,p[1]+=x,p[3]+=x,s.setRanges(p),r.panning=!0,r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations()):r.panning&&(r.panning=!1,s.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=h}return r.mouseListener=T(t,a),t.addEventListener("touchstart",function(l){var u=o(l.changedTouches[0],t);a(0,u[0],u[1]),a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(l){l.preventDefault();var u=o(l.changedTouches[0],t);a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(l){a(0,r.lastPos[0],r.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),r.wheelListener=k(t,function(l,u){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),c=i.viewBox,x=r.lastPos[0],p=r.lastPos[1],v=Math.exp(5*u/(c[3]-c[1])),g=x/(c[2]-c[0])*(h[2]-h[0])+h[0],y=p/(c[3]-c[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-g)*v+g,h[2]=(h[2]-g)*v+g,h[1]=(h[1]-y)*v+y,h[3]=(h[3]-y)*v+y,s.setRanges(h),r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),r}},92568:function(U,C,e){var T=e(54460),k=e(43080);function o(f){this.scene=f,this.gl=f.gl,this.pixelRatio=f.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var _=o.prototype,b=["xaxis","yaxis"];_.merge=function(f){var s,t,i,r,n,a,l,u,h,c,x;for(this.titleEnable=!1,this.backgroundColor=k(f.plot_bgcolor),c=0;c<2;++c){var p=(s=b[c]).charAt(0);for(i=(t=f[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[p]?"":t.title.text,x=0;x<=2;x+=2)this.labelEnable[c+x]=!1,this.labels[c+x]=i,this.labelColor[c+x]=k(t.title.font.color),this.labelFont[c+x]=t.title.font.family,this.labelSize[c+x]=t.title.font.size,this.labelPad[c+x]=this.getLabelPad(s,t),this.tickEnable[c+x]=!1,this.tickColor[c+x]=k((t.tickfont||{}).color),this.tickAngle[c+x]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+x]=this.getTickPad(t),this.tickMarkLength[c+x]=0,this.tickMarkWidth[c+x]=t.tickwidth||0,this.tickMarkColor[c+x]=k(t.tickcolor),this.borderLineEnable[c+x]=!1,this.borderLineColor[c+x]=k(t.linecolor),this.borderLineWidth[c+x]=t.linewidth||0;l=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(s,t)&&!l,a=this.hasAxisInAltrPos(s,t)&&!l,r=t.mirror||!1,u=l?String(r).indexOf("all")!==-1:!!r,h=l?r==="allticks":String(r).indexOf("ticks")!==-1,n?this.labelEnable[c]=!0:a&&(this.labelEnable[c+2]=!0),n?this.tickEnable[c]=t.showticklabels:a&&(this.tickEnable[c+2]=t.showticklabels),(n||u)&&(this.borderLineEnable[c]=t.showline),(a||u)&&(this.borderLineEnable[c+2]=t.showline),(n||h)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(a||h)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},_.hasSharedAxis=function(f){var s=this.scene,t=s.fullLayout._subplots.gl2d;return T.findSubplotsWithAxis(t,f).indexOf(s.id)!==0},_.hasAxisInDfltPos=function(f,s){var t=s.side;return f==="xaxis"?t==="bottom":f==="yaxis"?t==="left":void 0},_.hasAxisInAltrPos=function(f,s){var t=s.side;return f==="xaxis"?t==="top":f==="yaxis"?t==="right":void 0},_.getLabelPad=function(f,s){var t=1.5,i=s.title.font.size,r=s.showticklabels;return f==="xaxis"?s.side==="top"?i*(t+(r?1:0))-10:i*(t+(r?.5:0))-10:f==="yaxis"?s.side==="right"?10+i*(t+(r?1:.5)):10+i*(t+(r?.5:0)):void 0},_.getTickPad=function(f){return f.ticks==="outside"?10+f.ticklen:15},_.getTickMarkLength=function(f){if(!f.ticks)return 0;var s=f.ticklen;return f.ticks==="inside"?-s:s},U.exports=function(f){return new o(f)}},39952:function(U,C,e){var T=e(67824).overrideAll,k=e(17188),o=e(64859),_=e(9616),b=e(33816),f=e(57952),s=e(65460),t=e(84888).op;C.name="gl2d",C.attr=["xaxis","yaxis"],C.idRoot=["x","y"],C.idRegex=b.idRegex,C.attrRegex=b.attrRegex,C.attributes=e(26720),C.supplyLayoutDefaults=function(i,r,n){r._has("cartesian")||f.supplyLayoutDefaults(i,r,n)},C.layoutAttrOverrides=T(f.layoutAttributes,"plot","from-root"),C.baseLayoutAttrOverrides=T({plot_bgcolor:o.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),C.plot=function(i){for(var r=i._fullLayout,n=i._fullData,a=r._subplots.gl2d,l=0;l<a.length;l++){var u=a[l],h=r._plots[u],c=t(n,"gl2d",u),x=h._scene2d;x===void 0&&(x=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},r),h._scene2d=x),x.plot(c,i.calcdata,r,i.layout)}},C.clean=function(i,r,n,a){for(var l=a._subplots.gl2d||[],u=0;u<l.length;u++){var h=l[u],c=a._plots[h];c._scene2d&&t(i,"gl2d",h).length===0&&(c._scene2d.destroy(),delete a._plots[h])}f.clean.apply(this,arguments)},C.drawFramework=function(i){i._context.staticPlot||f.drawFramework(i)},C.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,a=0;a<n.length;a++){var l=r._plots[n[a]]._scene2d,u=l.toImage("png");r._glimages.append("svg:image").attr({xmlns:_.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},C.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,a=0;a<n.length;a++)r._plots[n[a]]._scene2d.updateFx(r.dragmode)}},17188:function(U,C,e){var T,k,o=e(24040),_=e(54460),b=e(93024),f=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,t=e(67792).gl_select_box,i=e(5408),r=e(92568),n=e(2428),a=e(16576),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,x=e(72760),p=x.drawMode,v=x.selectMode,g=["xaxis","yaxis"],y=e(33816).SUBPLOT_PATTERN;function m(d,S){this.container=d.container,this.graphDiv=d.graphDiv,this.pixelRatio=d.plotGlPixelRatio||window.devicePixelRatio,this.id=d.id,this.staticPlot=!!d.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=f(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}U.exports=m;var w=m.prototype;w.makeFramework=function(){if(this.staticPlot){if(!(k||(T=document.createElement("canvas"),k=i({canvas:T,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=T,this.gl=k}else{var d=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return a(this),void(this.stopped=!0);this.canvas=d,this.gl=S}var A=this.canvas;A.style.width="100%",A.style.height="100%",A.style.position="absolute",A.style.top="0px",A.style.left="0px",A.style["pointer-events"]="none",this.updateSize(A);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var P=this.mouseContainer=document.createElement("div");P.style.position="absolute",P.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(E),O.appendChild(P);var I=this;P.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),P.addEventListener("mouseover",function(){I.isMouseOver=!0})},w.toImage=function(d){d||(d="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(T),this.updateSize(this.canvas);var S=this.glplot.gl,A=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var P=new Uint8Array(A*E*4);S.readPixels(0,0,A,E,S.RGBA,S.UNSIGNED_BYTE,P);for(var O=0,I=E-1;O<I;++O,--I)for(var D=0;D<A;++D)for(var V=0;V<4;++V){var z=P[4*(A*O+D)+V];P[4*(A*O+D)+V]=P[4*(A*I+D)+V],P[4*(A*I+D)+V]=z}var j=document.createElement("canvas");j.width=A,j.height=E;var X,F=j.getContext("2d",{willReadFrequently:!0}),H=F.createImageData(A,E);switch(H.data.set(P),F.putImageData(H,0,0),d){case"jpeg":X=j.toDataURL("image/jpeg");break;case"webp":X=j.toDataURL("image/webp");break;default:X=j.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(T),X},w.updateSize=function(d){d||(d=this.canvas);var S=this.pixelRatio,A=this.fullLayout,E=A.width,P=A.height,O=0|Math.ceil(S*E),I=0|Math.ceil(S*P);return d.width===O&&d.height===I||(d.width=O,d.height=I),d},w.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var d=[_.calcTicks(this.xaxis),_.calcTicks(this.yaxis)],S=0;S<2;++S)for(var A=0;A<d[S].length;++A)d[S][A].text=d[S][A].text+"";return d},w.updateRefs=function(d){this.fullLayout=d;var S=this.id.match(y),A="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[A],this.yaxis=this.fullLayout[E]},w.relayoutCallback=function(){var d=this.graphDiv,S=this.xaxis,A=this.yaxis,E=d.layout,P={},O=P[S._name+".range"]=S.range.slice(),I=P[A._name+".range"]=A.range.slice();P[S._name+".autorange"]=S.autorange,P[A._name+".autorange"]=A.autorange,o.call("_storeDirectGUIEdit",d.layout,d._fullLayout._preGUI,P);var D=E[S._name];D.range=O,D.autorange=S.autorange;var V=E[A._name];V.range=I,V.autorange=A.autorange,P.lastInputTime=this.camera.lastInputTime,d.emit("plotly_relayout",P)},w.cameraChanged=function(){var d=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(A,E){for(var P=0;P<2;++P){var O=A[P],I=E[P];if(O.length!==I.length)return!0;for(var D=0;D<O.length;++D)if(O[D].x!==I[D].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=d.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},w.handleAnnotations=function(){for(var d=this.graphDiv,S=this.fullLayout.annotations,A=0;A<S.length;A++){var E=S[A];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&o.getComponentMethod("annotations","drawOne")(d,A)}},w.destroy=function(){if(this.glplot){var d=this.traces;d&&Object.keys(d).map(function(S){d[S].dispose(),delete d[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},w.plot=function(d,S,A){var E=this.glplot;this.updateRefs(A),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(d,S),this.updateFx(A.dragmode);var P=A.width,O=A.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(A),I.screenBox=[0,0,P,O];var D={_fullLayout:{_axisConstraintGroups:A._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:A._size}};h(D,this.xaxis),h(D,this.yaxis);var V,z,j=A._size,X=this.xaxis.domain,F=this.yaxis.domain;for(I.viewBox=[j.l+X[0]*j.w,j.b+F[0]*j.h,P-j.r-(1-X[1])*j.w,O-j.t-(1-F[1])*j.h],this.mouseContainer.style.width=j.w*(X[1]-X[0])+"px",this.mouseContainer.style.height=j.h*(F[1]-F[0])+"px",this.mouseContainer.height=j.h*(F[1]-F[0]),this.mouseContainer.style.left=j.l+X[0]*j.w+"px",this.mouseContainer.style.top=j.t+(1-F[1])*j.h+"px",z=0;z<2;++z)(V=this[g[z]])._length=I.viewBox[z+2]-I.viewBox[z],c(this.graphDiv,V),V.setScale();u(D),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(A),E.update(I),this.glplot.draw()},w.calcDataBox=function(){var d=this.xaxis,S=this.yaxis,A=d.range,E=S.range,P=d.r2l,O=S.r2l;return[P(A[0]),O(E[0]),P(A[1]),O(E[1])]},w.setRanges=function(d){var S=this.xaxis,A=this.yaxis,E=S.l2r,P=A.l2r;S.range=[E(d[0]),E(d[2])],A.range=[P(d[1]),P(d[3])]},w.updateTraces=function(d,S){var A,E,P,O=Object.keys(this.traces);this.fullData=d;e:for(A=0;A<O.length;A++){var I=O[A],D=this.traces[I];for(E=0;E<d.length;E++)if((P=d[E]).uid===I&&P.type===D.type)continue e;D.dispose(),delete this.traces[I]}for(A=0;A<d.length;A++){P=d[A];var V=S[A],z=this.traces[P.uid];z?z.update(P,V):(z=P._module.plot(this,P,V),this.traces[P.uid]=z)}this.glplot.objects.sort(function(j,X){return j._trace.index-X._trace.index})},w.updateFx=function(d){v(d)||p(d)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=d==="pan"?"move":d==="zoom"?"crosshair":null},w.emitPointAction=function(d,S){for(var A,E=d.trace.uid,P=d.pointIndex,O=0;O<this.fullData.length;O++)this.fullData[O].uid===E&&(A=this.fullData[O]);var I={x:d.traceCoord[0],y:d.traceCoord[1],curveNumber:A.index,pointNumber:P,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(I,A,P),this.graphDiv.emit(S,{points:[I]})},w.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var d=this.glplot,S=this.camera,A=S.mouseListener,E=this.lastButtonState===1&&A.buttons===0,P=this.fullLayout;this.lastButtonState=A.buttons,this.cameraChanged();var O,I=A.x*d.pixelRatio,D=this.canvas.height-d.pixelRatio*A.y;if(S.boxEnabled&&P.dragmode==="zoom"){this.selectBox.enabled=!0;for(var V=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],z=0;z<2;z++)S.boxStart[z]===S.boxEnd[z]&&(V[z]=d.dataBox[z],V[z+2]=d.dataBox[z+2]);d.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var j=P._size,X=this.xaxis.domain,F=this.yaxis.domain,H=(O=d.pick(I/d.pixelRatio+j.l+X[0]*j.w,D/d.pixelRatio-(j.t+(1-F[1])*j.h)))&&O.object._trace.handlePick(O);if(H&&E&&this.emitPointAction(H,"plotly_click"),O&&O.object._trace.hoverinfo!=="skip"&&P.hovermode&&H&&(!this.lastPickResult||this.lastPickResult.traceUid!==H.trace.uid||this.lastPickResult.dataCoord[0]!==H.dataCoord[0]||this.lastPickResult.dataCoord[1]!==H.dataCoord[1])){var W=H;this.lastPickResult={traceUid:H.trace?H.trace.uid:null,dataCoord:H.dataCoord.slice()},this.spikes.update({center:O.dataCoord}),W.screenCoord=[((d.viewBox[2]-d.viewBox[0])*(O.dataCoord[0]-d.dataBox[0])/(d.dataBox[2]-d.dataBox[0])+d.viewBox[0])/d.pixelRatio,(this.canvas.height-(d.viewBox[3]-d.viewBox[1])*(O.dataCoord[1]-d.dataBox[1])/(d.dataBox[3]-d.dataBox[1])-d.viewBox[1])/d.pixelRatio],this.emitPointAction(H,"plotly_hover");var ie=this.fullData[W.trace.index]||{},te=W.pointIndex,Q=b.castHoverinfo(ie,P,te);if(Q&&Q!=="all"){var ne=Q.split("+");ne.indexOf("x")===-1&&(W.traceCoord[0]=void 0),ne.indexOf("y")===-1&&(W.traceCoord[1]=void 0),ne.indexOf("z")===-1&&(W.traceCoord[2]=void 0),ne.indexOf("text")===-1&&(W.textLabel=void 0),ne.indexOf("name")===-1&&(W.name=void 0)}b.loneHover({x:W.screenCoord[0],y:W.screenCoord[1],xLabel:this.hoverFormatter("xaxis",W.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",W.traceCoord[1]),zLabel:W.traceCoord[2],text:W.textLabel,name:W.name,color:b.castHoverOption(ie,te,"bgcolor")||W.color,borderColor:b.castHoverOption(ie,te,"bordercolor"),fontFamily:b.castHoverOption(ie,te,"font.family"),fontSize:b.castHoverOption(ie,te,"font.size"),fontColor:b.castHoverOption(ie,te,"font.color"),nameLength:b.castHoverOption(ie,te,"namelength"),textAlign:b.castHoverOption(ie,te,"align")},{container:this.svgContainer,gd:this.graphDiv})}}O||this.unhover(),d.draw()}},w.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},w.hoverFormatter=function(d,S){if(S!==void 0){var A=this[d];return _.tickText(A,A.c2l(S),"hover").text}}},12536:function(U,C,e){var T=e(67824).overrideAll,k=e(65460),o=e(98432),_=e(84888).op,b=e(3400),f=e(9616),s="gl3d",t="scene";C.name=s,C.attr=t,C.idRoot=t,C.idRegex=C.attrRegex=b.counterRegex("scene"),C.attributes=e(6636),C.layoutAttributes=e(346),C.baseLayoutAttrOverrides=T({hoverlabel:k.hoverlabel},"plot","nested"),C.supplyLayoutDefaults=e(5208),C.plot=function(i){for(var r=i._fullLayout,n=i._fullData,a=r._subplots[s],l=0;l<a.length;l++){var u=a[l],h=_(n,s,u),c=r[u],x=c.camera,p=c._scene;p||(p=new o({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:x},r),c._scene=p),p.viewInitial||(p.viewInitial={up:{x:x.up.x,y:x.up.y,z:x.up.z},eye:{x:x.eye.x,y:x.eye.y,z:x.eye.z},center:{x:x.center.x,y:x.center.y,z:x.center.z}}),p.plot(h,r,i.layout)}},C.clean=function(i,r,n,a){for(var l=a._subplots[s]||[],u=0;u<l.length;u++){var h=l[u];!r[h]&&a[h]._scene&&(a[h]._scene.destroy(),a._infolayer&&a._infolayer.selectAll(".annotation-"+h).remove())}},C.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots[s],a=r._size,l=0;l<n.length;l++){var u=r[n[l]],h=u.domain,c=u._scene,x=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":x,x:a.l+a.w*h.x[0],y:a.t+a.h*(1-h.y[1]),width:a.w*(h.x[1]-h.x[0]),height:a.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),c.destroy()}},C.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var r=i.substr(5);return r==="1"&&(r=""),t+r}},C.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots[s],a=0;a<n.length;a++)r[n[a]]._scene.updateFx(r.dragmode,r.hovermode)}},6636:function(U){U.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(U,C,e){var T=e(76308),k=e(94724),o=e(92880).extendFlat,_=e(67824).overrideAll;U.exports=_({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:T.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:o({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:o({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:o({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},64380:function(U,C,e){var T=e(49760).mix,k=e(3400),o=e(31780),_=e(86140),b=e(14944),f=e(28336),s=["xaxis","yaxis","zaxis"];U.exports=function(t,i,r){var n,a;function l(c,x){return k.coerce(n,a,_,c,x)}for(var u=0;u<s.length;u++){var h=s[u];n=t[h]||{},(a=o.newContainer(i,h))._id=h[0]+r.scene,a._name=h,b(n,a,l,r),f(n,a,l,{font:r.font,letter:h[0],data:r.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),l("gridcolor",T(a.color,r.bgColor,72.72727272727273).toRgbString()),l("title.text",h[0]),a.setScale=k.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",a.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(U,C,e){var T=e(43080),k=e(3400),o=["xaxis","yaxis","zaxis"];function _(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}_.prototype.merge=function(b,f){for(var s=this,t=0;t<3;++t){var i=f[o[t]];i.visible?(s.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[t]=T(i.title.font.color)),i.title.font.family&&(s.labelFont[t]=i.title.font.family),i.title.font.size&&(s.labelSize[t]=i.title.font.size),i.title.font.weight&&(s.labelFontWeight[t]=i.title.font.weight),i.title.font.style&&(s.labelFontStyle[t]=i.title.font.style),i.title.font.variant&&(s.labelFontVariant[t]=i.title.font.variant)),"showline"in i&&(s.lineEnable[t]=i.showline),"linecolor"in i&&(s.lineColor[t]=T(i.linecolor)),"linewidth"in i&&(s.lineWidth[t]=i.linewidth),"showgrid"in i&&(s.gridEnable[t]=i.showgrid),"gridcolor"in i&&(s.gridColor[t]=T(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[t]=i.gridwidth),i.type==="log"?s.zeroEnable[t]=!1:"zeroline"in i&&(s.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[t]=T(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in i&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[t]=T(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(s.tickAngle[t]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[t]=T(i.tickfont.color)),i.tickfont.family&&(s.tickFont[t]=i.tickfont.family),i.tickfont.size&&(s.tickSize[t]=i.tickfont.size),i.tickfont.weight&&(s.tickFontWeight[t]=i.tickfont.weight),i.tickfont.style&&(s.tickFontStyle[t]=i.tickfont.style),i.tickfont.variant&&(s.tickFontVariant[t]=i.tickfont.variant)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):i.mirror===!0?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in i&&i.showbackground!==!1?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=T(i.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},U.exports=function(b,f){var s=new _;return s.merge(b,f),s}},5208:function(U,C,e){var T=e(3400),k=e(76308),o=e(24040),_=e(168),b=e(64380),f=e(346),s=e(84888).op,t="gl3d";function i(r,n,a,l){for(var u=a("bgcolor"),h=k.combine(u,l.paper_bgcolor),c=["up","center","eye"],x=0;x<c.length;x++)a("camera."+c[x]+".x"),a("camera."+c[x]+".y"),a("camera."+c[x]+".z");a("camera.projection.type");var p=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),v=a("aspectmode",p?"manual":"auto");p||(r.aspectratio=n.aspectratio={x:1,y:1,z:1},v==="manual"&&(n.aspectmode="auto"),r.aspectmode=n.aspectmode);var g=s(l.fullData,t,l.id);b(r,n,{font:l.font,scene:l.id,data:g,bgColor:h,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(r,n,l);var y=l.getDfltFromLayout("dragmode");if(y!==!1&&!y)if(y="orbit",r.camera&&r.camera.up){var m=r.camera.up.x,w=r.camera.up.y,d=r.camera.up.z;d!==0&&(m&&w&&d?d/Math.sqrt(m*m+w*w+d*d)>.999&&(y="turntable"):y="turntable")}else y="turntable";a("dragmode",y),a("hovermode",l.getDfltFromLayout("hovermode"))}U.exports=function(r,n,a){var l=n._basePlotModules.length>1;_(r,n,a,{type:t,attributes:f,handleDefaults:i,fullLayout:n,font:n.font,fullData:a,getDfltFromLayout:function(u){if(!l)return T.validate(r[u],f[u])?r[u]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},346:function(U,C,e){var T=e(86140),k=e(86968).u,o=e(92880).extendFlat,_=e(3400).counterRegex;function b(f,s,t){return{x:{valType:"number",dflt:f,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}U.exports={_arrayAttrRegexps:[_("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(b(0,0,1),{}),center:o(b(0,0,0),{}),eye:o(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:T,yaxis:T,zaxis:T,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(U,C,e){var T=e(43080),k=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(_){for(var b=0;b<3;++b){var f=_[k[b]];f.visible?(this.enabled[b]=f.showspikes,this.colors[b]=T(f.spikecolor),this.drawSides[b]=f.spikesides,this.lineWidth[b]=f.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},U.exports=function(_){var b=new o;return b.merge(_),b}},87152:function(U,C,e){U.exports=function(b){for(var f=b.axesOptions,s=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],r=0;r<3;++r){var n=t[o[r]];if(n._length=(s[r].hi-s[r].lo)*s[r].pixelsPerDataUnit/b.dataScale[r],Math.abs(n._length)===1/0||isNaN(n._length))i[r]=[];else{n._input_range=n.range.slice(),n.range[0]=s[r].lo/b.dataScale[r],n.range[1]=s[r].hi/b.dataScale[r],n._m=1/(b.dataScale[r]*s[r].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var a=n.tickmode;if(n.tickmode==="auto"){n.tickmode="linear";var l=n.nticks||k.constrain(n._length/40,4,9);T.autoTicks(n,Math.abs(n.range[1]-n.range[0])/l)}for(var u=T.calcTicks(n,{msUTC:!0}),h=0;h<u.length;++h)u[h].x=u[h].x*b.dataScale[r],n.type==="date"&&(u[h].text=u[h].text.replace(/\<br\>/g," "));i[r]=u,n.tickmode=a}}for(f.ticks=i,r=0;r<3;++r)for(_[r]=.5*(b.glplot.bounds[0][r]+b.glplot.bounds[1][r]),h=0;h<2;++h)f.bounds[h][r]=b.glplot.bounds[h][r];b.contourLevels=function(c){for(var x=new Array(3),p=0;p<3;++p){for(var v=c[p],g=new Array(v.length),y=0;y<v.length;++y)g[y]=v[y].x;x[p]=g}return x}(i)};var T=e(54460),k=e(3400),o=["xaxis","yaxis","zaxis"],_=[0,0,0]},94424:function(U){function C(e,T){var k,o,_=[0,0,0,0];for(k=0;k<4;++k)for(o=0;o<4;++o)_[o]+=e[4*k+o]*T[k];return _}U.exports=function(e,T){return C(e.projection,C(e.view,C(e.model,[T[0],T[1],T[2],1])))}},98432:function(U,C,e){var T,k,o=e(67792).gl_plot3d,_=o.createCamera,b=o.createScene,f=e(5408),s=e(89184),t=e(24040),i=e(3400),r=i.preserveDrawingBuffer(),n=e(54460),a=e(93024),l=e(43080),u=e(16576),h=e(94424),c=e(44728),x=e(9020),p=e(87152),v=e(19280).applyAutorangeOptions,g=!1;function y(A,E){var P=document.createElement("div"),O=A.container;this.graphDiv=A.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",P.appendChild(I),this.svgContainer=I,P.id=A.id,P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",O.appendChild(P),this.fullLayout=E,this.id=A.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=x(E[this.id]),this.container=P,this.staticMode=!!A.staticPlot,this.pixelRatio=this.pixelRatio||A.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=y.prototype;m.prepareOptions=function(){var A=this,E={canvas:A.canvas,gl:A.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:A.container,axes:A.axesOptions,spikes:A.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:A.camera,pixelRatio:A.pixelRatio};if(A.staticMode){if(!(k||(T=document.createElement("canvas"),k=f({canvas:T,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=T}return E};var w=!0;m.tryCreatePlot=function(){var A=this,E=A.prepareOptions(),P=!0;try{A.glplot=b(E)}catch{if(A.staticMode||!w||r)P=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=E.glOptions.preserveDrawingBuffer=!0,A.glplot=b(E)}catch{r=E.glOptions.preserveDrawingBuffer=!1,P=!1}}}return w=!1,P},m.initializeGLCamera=function(){var A=this,E=A.fullSceneLayout.camera,P=E.projection.type==="orthographic";A.camera=_(A.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:P,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var A=this;if(A.initializeGLCamera(),!A.tryCreatePlot())return u(A);A.traces={},A.make4thDimension();var E=A.graphDiv,P=E.layout,O=function(){var D={};return A.isCameraChanged(P)&&(D[A.id+".camera"]=A.getCamera()),A.isAspectChanged(P)&&(D[A.id+".aspectratio"]=A.glplot.getAspectratio(),P[A.id].aspectmode!=="manual"&&(A.fullSceneLayout.aspectmode=P[A.id].aspectmode=D[A.id+".aspectmode"]="manual")),D},I=function(D){if(D.fullSceneLayout.dragmode!==!1){var V=O();D.saveLayout(P),D.graphDiv.emit("plotly_relayout",V)}};return A.glplot.canvas&&(A.glplot.canvas.addEventListener("mouseup",function(){I(A)}),A.glplot.canvas.addEventListener("touchstart",function(){g=!0}),A.glplot.canvas.addEventListener("wheel",function(D){if(E._context._scrollZoom.gl3d){if(A.camera._ortho){var V=D.deltaX>D.deltaY?1.1:.9090909090909091,z=A.glplot.getAspectratio();A.glplot.setAspectratio({x:V*z.x,y:V*z.y,z:V*z.z})}I(A)}},!!s&&{passive:!1}),A.glplot.canvas.addEventListener("mousemove",function(){if(A.fullSceneLayout.dragmode!==!1&&A.camera.mouseListener.buttons!==0){var D=O();A.graphDiv.emit("plotly_relayouting",D)}}),A.staticMode||A.glplot.canvas.addEventListener("webglcontextlost",function(D){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:D,layer:A.id})},!1)),A.glplot.oncontextloss=function(){A.recoverContext()},A.glplot.onrender=function(){A.render()},!0},m.render=function(){var A,E=this,P=E.graphDiv,O=E.svgContainer,I=E.container.getBoundingClientRect();P._fullLayout._calcInverseTransform(P);var D=P._fullLayout._invScaleX,V=P._fullLayout._invScaleY,z=I.width*D,j=I.height*V;O.setAttributeNS(null,"viewBox","0 0 "+z+" "+j),O.setAttributeNS(null,"width",z),O.setAttributeNS(null,"height",j),p(E),E.glplot.axes.update(E.axesOptions);for(var X=Object.keys(E.traces),F=null,H=E.glplot.selection,W=0;W<X.length;++W)(A=E.traces[X[W]]).data.hoverinfo!=="skip"&&A.handlePick(H)&&(F=A),A.setContourLevels&&A.setContourLevels();function ie(be,Te,Se){var Fe=E.fullSceneLayout[be+"axis"];return Fe.type!=="log"&&(Te=Fe.d2l(Te)),n.hoverLabelText(Fe,Te,Se)}if(F!==null){var te=h(E.glplot.cameraParams,H.dataCoordinate);A=F.data;var Q,ne=P._fullData[A.index],$=H.index,J={xLabel:ie("x",H.traceCoordinate[0],A.xhoverformat),yLabel:ie("y",H.traceCoordinate[1],A.yhoverformat),zLabel:ie("z",H.traceCoordinate[2],A.zhoverformat)},re=a.castHoverinfo(ne,E.fullLayout,$),se=(re||"").split("+"),ue=re&&re==="all";ne.hovertemplate||ue||(se.indexOf("x")===-1&&(J.xLabel=void 0),se.indexOf("y")===-1&&(J.yLabel=void 0),se.indexOf("z")===-1&&(J.zLabel=void 0),se.indexOf("text")===-1&&(H.textLabel=void 0),se.indexOf("name")===-1&&(F.name=void 0));var he=[];A.type==="cone"||A.type==="streamtube"?(J.uLabel=ie("x",H.traceCoordinate[3],A.uhoverformat),(ue||se.indexOf("u")!==-1)&&he.push("u: "+J.uLabel),J.vLabel=ie("y",H.traceCoordinate[4],A.vhoverformat),(ue||se.indexOf("v")!==-1)&&he.push("v: "+J.vLabel),J.wLabel=ie("z",H.traceCoordinate[5],A.whoverformat),(ue||se.indexOf("w")!==-1)&&he.push("w: "+J.wLabel),J.normLabel=H.traceCoordinate[6].toPrecision(3),(ue||se.indexOf("norm")!==-1)&&he.push("norm: "+J.normLabel),A.type==="streamtube"&&(J.divergenceLabel=H.traceCoordinate[7].toPrecision(3),(ue||se.indexOf("divergence")!==-1)&&he.push("divergence: "+J.divergenceLabel)),H.textLabel&&he.push(H.textLabel),Q=he.join("<br>")):A.type==="isosurface"||A.type==="volume"?(J.valueLabel=n.hoverLabelText(E._mockAxis,E._mockAxis.d2l(H.traceCoordinate[3]),A.valuehoverformat),he.push("value: "+J.valueLabel),H.textLabel&&he.push(H.textLabel),Q=he.join("<br>")):Q=H.textLabel;var pe={x:H.traceCoordinate[0],y:H.traceCoordinate[1],z:H.traceCoordinate[2],data:ne._input,fullData:ne,curveNumber:ne.index,pointNumber:$};a.appendArrayPointValue(pe,ne,$),A._module.eventData&&(pe=ne._module.eventData(pe,H,ne,{},$));var ge={points:[pe]};if(E.fullSceneLayout.hovermode){var ye=[];a.loneHover({trace:ne,x:(.5+.5*te[0]/te[3])*z,y:(.5-.5*te[1]/te[3])*j,xLabel:J.xLabel,yLabel:J.yLabel,zLabel:J.zLabel,text:Q,name:F.name,color:a.castHoverOption(ne,$,"bgcolor")||F.color,borderColor:a.castHoverOption(ne,$,"bordercolor"),fontFamily:a.castHoverOption(ne,$,"font.family"),fontSize:a.castHoverOption(ne,$,"font.size"),fontColor:a.castHoverOption(ne,$,"font.color"),nameLength:a.castHoverOption(ne,$,"namelength"),textAlign:a.castHoverOption(ne,$,"align"),hovertemplate:i.castOption(ne,$,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,J),eventData:[pe]},{container:O,gd:P,inOut_bbox:ye}),pe.bbox=ye[0]}H.distance<5&&(H.buttons||g)?P.emit("plotly_click",ge):P.emit("plotly_hover",ge),this.oldEventData=ge}else a.loneUnhover(O),this.oldEventData&&P.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var A=this;A.glplot.dispose();var E=function(){A.glplot.gl.isContextLost()?requestAnimationFrame(E):A.initializeGLPlot()?A.plot.apply(A,A.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var d=["xaxis","yaxis","zaxis"];function S(A,E,P){for(var O=A.fullSceneLayout,I=0;I<3;I++){var D=d[I],V=D.charAt(0),z=O[D],j=E[V],X=E[V+"calendar"],F=E["_"+V+"length"];if(i.isArrayOrTypedArray(j))for(var H,W=0;W<(F||j.length);W++)if(i.isArrayOrTypedArray(j[W]))for(var ie=0;ie<j[W].length;++ie)H=z.d2l(j[W][ie],0,X),!isNaN(H)&&isFinite(H)&&(P[0][I]=Math.min(P[0][I],H),P[1][I]=Math.max(P[1][I],H));else H=z.d2l(j[W],0,X),!isNaN(H)&&isFinite(H)&&(P[0][I]=Math.min(P[0][I],H),P[1][I]=Math.max(P[1][I],H));else P[0][I]=Math.min(P[0][I],0),P[1][I]=Math.max(P[1][I],F-1)}}m.plot=function(A,E,P){var O=this;if(O.plotArgs=[A,E,P],!O.glplot.contextLost){var I,D,V,z,j,X,F=E[O.id],H=P[O.id];O.fullLayout=E,O.fullSceneLayout=F,O.axesOptions.merge(E,F),O.spikeOptions.merge(F),O.setViewport(F),O.updateFx(F.dragmode,F.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(l(F.bgcolor)),O.setConvert(j),A?Array.isArray(A)||(A=[A]):A=[];var W=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<A.length;++V)(I=A[V]).visible===!0&&I._length!==0&&S(this,I,W);(function(Le,ze){for(var Re=Le.fullSceneLayout,ve=Re.annotations||[],ke=0;ke<3;ke++)for(var Ee=d[ke],De=Ee.charAt(0),Pe=Re[Ee],Ue=0;Ue<ve.length;Ue++){var We=ve[Ue];if(We.visible){var $e=Pe.r2l(We[De]);!isNaN($e)&&isFinite($e)&&(ze[0][ke]=Math.min(ze[0][ke],$e),ze[1][ke]=Math.max(ze[1][ke],$e))}}})(this,W);var ie=[1,1,1];for(z=0;z<3;++z)W[1][z]===W[0][z]?ie[z]=1:ie[z]=1/(W[1][z]-W[0][z]);for(O.dataScale=ie,O.convertAnnotations(this),V=0;V<A.length;++V)(I=A[V]).visible===!0&&I._length!==0&&((D=O.traces[I.uid])?D.data.type===I.type?D.update(I):(D.dispose(),D=I._module.plot(this,I),O.traces[I.uid]=D):(D=I._module.plot(this,I),O.traces[I.uid]=D),D.name=I.name);var te=Object.keys(O.traces);e:for(V=0;V<te.length;++V){for(z=0;z<A.length;++z)if(A[z].uid===te[V]&&A[z].visible===!0&&A[z]._length!==0)continue e;(D=O.traces[te[V]]).dispose(),delete O.traces[te[V]]}O.glplot.objects.sort(function(Le,ze){return Le._trace.data.index-ze._trace.data.index});var Q,ne=[[0,0,0],[0,0,0]],$=[],J={};for(V=0;V<3;++V){var re;if((X=(j=F[d[V]]).type)in J?(J[X].acc*=ie[V],J[X].count+=1):J[X]={acc:ie[V],count:1},j.autorange){ne[0][V]=1/0,ne[1][V]=-1/0;var se=O.glplot.objects,ue=O.fullSceneLayout.annotations||[],he=j._name.charAt(0);for(z=0;z<se.length;z++){var pe=se[z],ge=pe.bounds,ye=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&j._lowerLogErrorBound?ne[0][V]=Math.min(ne[0][V],j._lowerLogErrorBound):ne[0][V]=Math.min(ne[0][V],ge[0][V]/ie[V]-ye),ne[1][V]=Math.max(ne[1][V],ge[1][V]/ie[V]+ye)}for(z=0;z<ue.length;z++){var be=ue[z];if(be.visible){var Te=j.r2l(be[he]);ne[0][V]=Math.min(ne[0][V],Te),ne[1][V]=Math.max(ne[1][V],Te)}}if("rangemode"in j&&j.rangemode==="tozero"&&(ne[0][V]=Math.min(ne[0][V],0),ne[1][V]=Math.max(ne[1][V],0)),ne[0][V]>ne[1][V])ne[0][V]=-1,ne[1][V]=1;else{var Se=ne[1][V]-ne[0][V];ne[0][V]-=Se/32,ne[1][V]+=Se/32}if(re=[ne[0][V],ne[1][V]],re=v(re,j),ne[0][V]=re[0],ne[1][V]=re[1],j.isReversed()){var Fe=ne[0][V];ne[0][V]=ne[1][V],ne[1][V]=Fe}}else re=j.range,ne[0][V]=j.r2l(re[0]),ne[1][V]=j.r2l(re[1]);ne[0][V]===ne[1][V]&&(ne[0][V]-=1,ne[1][V]+=1),$[V]=ne[1][V]-ne[0][V],j.range=[ne[0][V],ne[1][V]],j.limitRange(),O.glplot.setBounds(V,{min:j.range[0]*ie[V],max:j.range[1]*ie[V]})}var xe=F.aspectmode;if(xe==="cube")Q=[1,1,1];else if(xe==="manual"){var le=F.aspectratio;Q=[le.x,le.y,le.z]}else{if(xe!=="auto"&&xe!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var oe=[1,1,1];for(V=0;V<3;++V){var de=J[X=(j=F[d[V]]).type];oe[V]=Math.pow(de.acc,1/de.count)/ie[V]}Q=xe==="data"||Math.max.apply(null,oe)/Math.min.apply(null,oe)<=4?oe:[1,1,1]}F.aspectratio.x=H.aspectratio.x=Q[0],F.aspectratio.y=H.aspectratio.y=Q[1],F.aspectratio.z=H.aspectratio.z=Q[2],O.glplot.setAspectratio(F.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=F.aspectmode);var Ce=F.domain||null,_e=E._size||null;if(Ce&&_e){var Ae=O.container.style;Ae.position="absolute",Ae.left=_e.l+Ce.x[0]*_e.w+"px",Ae.top=_e.t+(1-Ce.y[1])*_e.h+"px",Ae.width=_e.w*(Ce.x[1]-Ce.x[0])+"px",Ae.height=_e.h*(Ce.y[1]-Ce.y[0])+"px"}O.glplot.redraw()}},m.destroy=function(){var A=this;A.glplot&&(A.camera.mouseListener.enabled=!1,A.container.removeEventListener("wheel",A.camera.wheelListener),A.camera=null,A.glplot.dispose(),A.container.parentNode.removeChild(A.container),A.glplot=null)},m.getCamera=function(){var A,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(A=E.camera).up[0],y:A.up[1],z:A.up[2]},center:{x:A.center[0],y:A.center[1],z:A.center[2]},eye:{x:A.eye[0],y:A.eye[1],z:A.eye[2]},projection:{type:A._ortho===!0?"orthographic":"perspective"}}},m.setViewport=function(A){var E,P=this,O=A.camera;P.camera.lookAt.apply(this,[[(E=O).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),P.glplot.setAspectratio(A.aspectratio),O.projection.type==="orthographic"!==P.camera._ortho&&(P.glplot.redraw(),P.glplot.clearRGBA(),P.glplot.dispose(),P.initializeGLPlot())},m.isCameraChanged=function(A){var E=this.getCamera(),P=i.nestedProperty(A,this.id+".camera").get();function O(z,j,X,F){var H=["up","center","eye"],W=["x","y","z"];return j[H[X]]&&z[H[X]][W[F]]===j[H[X]][W[F]]}var I=!1;if(P===void 0)I=!0;else{for(var D=0;D<3;D++)for(var V=0;V<3;V++)if(!O(E,P,D,V)){I=!0;break}(!P.projection||E.projection&&E.projection.type!==P.projection.type)&&(I=!0)}return I},m.isAspectChanged=function(A){var E=this.glplot.getAspectratio(),P=i.nestedProperty(A,this.id+".aspectratio").get();return P===void 0||P.x!==E.x||P.y!==E.y||P.z!==E.z},m.saveLayout=function(A){var E,P,O,I,D,V,z=this,j=z.fullLayout,X=z.isCameraChanged(A),F=z.isAspectChanged(A),H=X||F;if(H){var W={};X&&(E=z.getCamera(),O=(P=i.nestedProperty(A,z.id+".camera")).get(),W[z.id+".camera"]=O),F&&(I=z.glplot.getAspectratio(),V=(D=i.nestedProperty(A,z.id+".aspectratio")).get(),W[z.id+".aspectratio"]=V),t.call("_storeDirectGUIEdit",A,j._preGUI,W),X&&(P.set(E),i.nestedProperty(j,z.id+".camera").set(E)),F&&(D.set(I),i.nestedProperty(j,z.id+".aspectratio").set(I),z.glplot.redraw())}return H},m.updateFx=function(A,E){var P=this,O=P.camera;if(O)if(A==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(A==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var I=P.graphDiv,D=I._fullLayout,V=P.fullSceneLayout.camera,z=V.up.x,j=V.up.y,X=V.up.z;if(X/Math.sqrt(z*z+j*j+X*X)<.999){var F=P.id+".camera.up",H={x:0,y:0,z:1},W={};W[F]=H;var ie=I.layout;t.call("_storeDirectGUIEdit",ie,D._preGUI,W),V.up=H,i.nestedProperty(ie,F).set(H)}}else O.keyBindingMode=A;P.fullSceneLayout.hovermode=E},m.toImage=function(A){var E=this;A||(A="png"),E.staticMode&&E.container.appendChild(T),E.glplot.redraw();var P=E.glplot.gl,O=P.drawingBufferWidth,I=P.drawingBufferHeight;P.bindFramebuffer(P.FRAMEBUFFER,null);var D=new Uint8Array(O*I*4);P.readPixels(0,0,O,I,P.RGBA,P.UNSIGNED_BYTE,D),function(F,H,W){for(var ie=0,te=W-1;ie<te;++ie,--te)for(var Q=0;Q<H;++Q)for(var ne=0;ne<4;++ne){var $=4*(H*ie+Q)+ne,J=4*(H*te+Q)+ne,re=F[$];F[$]=F[J],F[J]=re}}(D,O,I),function(F,H,W){for(var ie=0;ie<W;++ie)for(var te=0;te<H;++te){var Q=4*(H*ie+te),ne=F[Q+3];if(ne>0)for(var $=255/ne,J=0;J<3;++J)F[Q+J]=Math.min($*F[Q+J],255)}}(D,O,I);var V=document.createElement("canvas");V.width=O,V.height=I;var z,j=V.getContext("2d",{willReadFrequently:!0}),X=j.createImageData(O,I);switch(X.data.set(D),j.putImageData(X,0,0),A){case"jpeg":z=V.toDataURL("image/jpeg");break;case"webp":z=V.toDataURL("image/webp");break;default:z=V.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(T),z},m.setConvert=function(){for(var A=0;A<3;A++){var E=this.fullSceneLayout[d[A]];n.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var A=this,E=A.graphDiv._fullLayout;A._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(A._mockAxis,E)},U.exports=y},52094:function(U){U.exports=function(C,e,T,k){k=k||C.length;for(var o=new Array(k),_=0;_<k;_++)o[_]=[C[_],e[_],T[_]];return o}},64859:function(U,C,e){var T=e(25376),k=e(85656),o=e(22548),_=e(92872),b=e(34200),f=e(66741),s=e(92880).extendFlat,t=T({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=o.defaultLine,U.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:T({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:T({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:_.newshape,activeshape:_.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:T({editType:"layoutstyle"})}}},47552:function(U,C,e){var T=e(95376),k="1.13.4",o=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',_=[' <a target="_blank" href="https://carto.com/">Carto</a>',o].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),f={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:o,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=T(f);U.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:f,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+k+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(U,C,e){var T=e(3400);U.exports=function(k,o){var _=k.split(" "),b=_[0],f=_[1],s=T.isArrayOrTypedArray(o)?T.mean(o):o,t=.5+s/100,i=1.5+s/100,r=["",""],n=[0,0];switch(b){case"top":r[0]="top",n[1]=-i;break;case"bottom":r[0]="bottom",n[1]=i}switch(f){case"left":r[1]="right",n[0]=-t;break;case"right":r[1]="left",n[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:n}}},33688:function(U,C,e){var T=e(3480),k=e(3400),o=k.strTranslate,_=k.strScale,b=e(84888).KY,f=e(9616),s=e(33428),t=e(43616),i=e(72736),r=e(14440),n="mapbox",a=C.constants=e(47552);function l(u){return typeof u=="string"&&(a.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}C.name=n,C.attr="subplot",C.idRoot=n,C.idRegex=C.attrRegex=k.counterRegex(n),C.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},C.layoutAttributes=e(5232),C.supplyLayoutDefaults=e(5976),C.plot=function(u){var h=u._fullLayout,c=u.calcdata,x=h._subplots[n];if(T.version!==a.requiredVersion)throw new Error(a.wrongVersionErrorMsg);var p=function(d,S){var A=d._fullLayout;if(d._context.mapboxAccessToken==="")return"";for(var E=[],P=[],O=!1,I=!1,D=0;D<S.length;D++){var V=A[S[D]],z=V.accesstoken;l(V.style)&&(z?k.pushUnique(E,z):(l(V._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),O=!0),I=!0)),z&&k.pushUnique(P,z)}if(I){var j=O?a.noAccessTokenErrorMsg:a.missingStyleErrorMsg;throw k.error(j),new Error(j)}return E.length?(E.length>1&&k.warn(a.multipleTokensErrorMsg),E[0]):(P.length&&k.log(["Listed mapbox access token(s)",P.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,x);T.accessToken=p;for(var v=0;v<x.length;v++){var g=x[v],y=b(c,n,g),m=h[g],w=m._subplot;w||(w=new r(u,g),h[g]._subplot=w),w.viewInitial||(w.viewInitial={center:k.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),w.plot(y,h,u._promises)}},C.clean=function(u,h,c,x){for(var p=x._subplots[n]||[],v=0;v<p.length;v++){var g=p[v];!h[g]&&x[g]._subplot&&x[g]._subplot.destroy()}},C.toSVG=function(u){for(var h=u._fullLayout,c=h._subplots[n],x=h._size,p=0;p<c.length;p++){var v=h[c[p]],g=v.domain,y=v._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":y,x:x.l+x.w*g.x[0],y:x.t+x.h*(1-g.y[1]),width:x.w*(g.x[1]-g.x[0]),height:x.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"});var m=s.select(v._subplot.div);if(m.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var w=h._glimages.append("g");w.attr("transform",o(x.l+x.w*g.x[0]+10,x.t+x.h*(1-g.y[0])-31)),w.append("path").attr("d",a.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),w.append("path").attr("d",a.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),w.append("path").attr("d",a.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),w.append("polygon").attr("points",a.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var d=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=h._glimages.append("g"),A=S.append("text");A.text(d).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":d});var E=t.bBox(A.node()),P=x.w*(g.x[1]-g.x[0]);if(E.width>P/2){var O=d.split("|").join("<br>");A.text(O).attr("data-unformatted",O).call(i.convertToTspans,u),E=t.bBox(A.node())}A.attr("transform",o(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var I=1;E.width+6>P&&(I=P/(E.width+6));var D=[x.l+x.w*g.x[1],x.t+x.h*(1-g.y[0])];S.attr("transform",o(D[0],D[1])+_(I))}},C.updateFx=function(u){for(var h=u._fullLayout,c=h._subplots[n],x=0;x<c.length;x++)h[c[x]]._subplot.updateFx(h)}},22360:function(U,C,e){var T=e(3400),k=e(72736).sanitizeHTML,o=e(89032),_=e(47552);function b(i,r){this.subplot=i,this.uid=i.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=_.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var f=b.prototype;function s(i){if(!i.visible)return!1;var r=i.source;if(Array.isArray(r)&&r.length>0){for(var n=0;n<r.length;n++)if(typeof r[n]!="string"||r[n].length===0)return!1;return!0}return T.isPlainObject(r)||typeof r=="string"&&r.length>0}function t(i){var r={},n={};switch(i.type){case"circle":T.extendFlat(n,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":T.extendFlat(n,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":T.extendFlat(n,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var a=i.symbol,l=o(a.textposition,a.iconsize);T.extendFlat(r,{"icon-image":a.icon+"-15","icon-size":a.iconsize/10,"text-field":a.text,"text-size":a.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":a.placement}),T.extendFlat(n,{"icon-color":i.color,"text-color":a.textfont.color,"text-opacity":i.opacity});break;case"raster":T.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:r,paint:n}}f.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},f.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},f.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},f.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},f.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},f.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());r!==null&&this.subplot.map.moveLayer(this.idLayer,r)},f.updateSource=function(i){var r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var n=function(a){var l,u=a.sourcetype,h=a.source,c={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof h=="string"?"url":"tiles":u==="raster"?(l="tiles",c.tileSize=256):u==="image"&&(l="url",c.coordinates=a.coordinates),c[l]=h,a.sourceattribution&&(c.attribution=k(a.sourceattribution)),c}(i);r.addSource(this.idSource,n)}},f.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var r=this.subplot.getMapLayers(),n=0;n<r.length;n++){var a=r[n].id;if(typeof a=="string"&&a.indexOf(_.traceLayerPrefix)===0){i=a;break}}return i},f.updateLayer=function(i){var r=this.subplot,n=t(i),a=this.lookupBelow(),l=this.findFollowingMapboxLayerId(a);this.removeLayer(),s(i)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:n.layout,paint:n.paint},l),this.layerType=i.type,this.below=a},f.updateStyle=function(i){if(s(i)){var r=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},f.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},f.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},U.exports=function(i,r,n){var a=new b(i,r);return a.update(n),a}},5232:function(U,C,e){var T=e(3400),k=e(76308).defaultLine,o=e(86968).u,_=e(25376),b=e(52904).textposition,f=e(67824).overrideAll,s=e(31780).templatedArray,t=e(47552),i=_({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(U.exports=f({_arrayAttrRegexps:[T.counterRegex("mapbox",".layers",!0)],domain:o({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:T.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(U,C,e){var T=e(3400),k=e(168),o=e(51272),_=e(5232);function b(s,t,i,r){i("accesstoken",r.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var n=i("bounds.west"),a=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");n!==void 0&&a!==void 0&&l!==void 0&&u!==void 0||delete t.bounds,o(s,t,{name:"layers",handleItemDefaults:f}),t._input=s}function f(s,t){function i(u,h){return T.coerce(s,t,_.layers,u,h)}if(i("visible")){var r,n=i("sourcetype"),a=n==="raster"||n==="image";i("source"),i("sourceattribution"),n==="vector"&&i("sourcelayer"),n==="image"&&i("coordinates"),a&&(r="raster");var l=i("type",r);a&&l!=="raster"&&(l=t.type="raster",T.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),l==="circle"&&i("circle.radius"),l==="line"&&(i("line.width"),i("line.dash")),l==="fill"&&i("fill.outlinecolor"),l==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),T.coerceFont(i,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),i("symbol.textposition"),i("symbol.placement"))}}U.exports=function(s,t,i){k(s,t,i,{type:"mapbox",attributes:_,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(U,C,e){var T=e(3480),k=e(3400),o=e(27144),_=e(24040),b=e(54460),f=e(86476),s=e(93024),t=e(72760),i=t.drawMode,r=t.selectMode,n=e(22676).prepSelect,a=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,h=e(47552),c=e(22360);function x(w,d){this.id=d,this.gd=w;var S=w._fullLayout,A=w._context;this.container=S._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var p=x.prototype;p.plot=function(w,d,S){var A,E=this,P=d[E.id];E.map&&P.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),A=E.map?new Promise(function(O,I){E.updateMap(w,d,O,I)}):new Promise(function(O,I){E.createMap(w,d,O,I)}),S.push(A)},p.createMap=function(w,d,S,A){var E=this,P=d[E.id],O=E.styleObj=g(P.style,d);E.accessToken=P.accesstoken;var I=P.bounds,D=I?[[I.west,I.south],[I.east,I.north]]:null,V=E.map=new T.Map({container:E.div,style:O.style,center:m(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:D,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new T.AttributionControl({compact:!0}));V._canvas.style.left="0px",V._canvas.style.top="0px",E.rejectOnError(A),E.isStatic||E.initFx(w,d);var z=[];z.push(new Promise(function(j){V.once("load",j)})),z=z.concat(o.fetchTraceGeoData(w)),Promise.all(z).then(function(){E.fillBelowLookup(w,d),E.updateData(w),E.updateLayout(d),E.resolveOnRender(S)}).catch(A)},p.updateMap=function(w,d,S,A){var E=this,P=E.map,O=d[this.id];E.rejectOnError(A);var I=[],D=g(O.style,d);JSON.stringify(E.styleObj)!==JSON.stringify(D)&&(E.styleObj=D,P.setStyle(D.style),E.traceHash={},I.push(new Promise(function(V){P.once("styledata",V)}))),I=I.concat(o.fetchTraceGeoData(w)),Promise.all(I).then(function(){E.fillBelowLookup(w,d),E.updateData(w),E.updateLayout(d),E.resolveOnRender(S)}).catch(A)},p.fillBelowLookup=function(w,d){var S,A,E=d[this.id].layers,P=this.belowLookup={},O=!1;for(S=0;S<w.length;S++){var I=w[S][0].trace,D=I._module;typeof I.below=="string"?A=I.below:D.getBelow&&(A=D.getBelow(I,this)),A===""&&(O=!0),P["trace-"+I.uid]=A||""}for(S=0;S<E.length;S++){var V=E[S];A=typeof V.below=="string"?V.below:O?"traces":"",P["layout-"+S]=A}var z,j,X={};for(z in P)X[A=P[z]]?X[A].push(z):X[A]=[z];for(A in X){var F=X[A];if(F.length>1)for(S=0;S<F.length;S++)(z=F[S]).indexOf("trace-")===0?(j=z.split("trace-")[1],this.traceHash[j]&&(this.traceHash[j].below=null)):z.indexOf("layout-")===0&&(j=z.split("layout-")[1],this.layerList[j]&&(this.layerList[j].below=null))}};var v={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function g(w,d){var S={};if(k.isPlainObject(w))S.id=w.id,S.style=w;else if(typeof w=="string")if(S.id=w,h.styleValuesMapbox.indexOf(w)!==-1)S.style=y(w);else if(h.stylesNonMapbox[w]){S.style=h.stylesNonMapbox[w];var A=S.style.sources["plotly-"+w],E=A?A.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=d._mapboxAccessToken)}else S.style=w;else S.id=h.styleValueDflt,S.style=y(h.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(w){return h.styleUrlPrefix+w+"-"+h.styleUrlSuffix}function m(w){return[w.lon,w.lat]}p.updateData=function(w){var d,S,A,E,P=this.traceHash,O=w.slice().sort(function(j,X){return v[j[0].trace.type]-v[X[0].trace.type]});for(A=0;A<O.length;A++){var I=O[A],D=!1;(d=P[(S=I[0].trace).uid])&&(d.type===S.type?(d.update(I),D=!0):d.dispose()),!D&&S._module&&(P[S.uid]=S._module.plot(this,I))}var V=Object.keys(P);e:for(A=0;A<V.length;A++){var z=V[A];for(E=0;E<w.length;E++)if(z===(S=w[E][0].trace).uid)continue e;(d=P[z]).dispose(),delete P[z]}},p.updateLayout=function(w){var d=this.map,S=w[this.id];this.dragging||this.wheeling||(d.setCenter(m(S.center)),d.setZoom(S.zoom),d.setBearing(S.bearing),d.setPitch(S.pitch)),this.updateLayers(w),this.updateFramework(w),this.updateFx(w),this.map.resize(),this.gd._context._scrollZoom.mapbox?d.scrollZoom.enable():d.scrollZoom.disable()},p.resolveOnRender=function(w){var d=this.map;d.on("render",function S(){d.loaded()&&(d.off("render",S),setTimeout(w,10))})},p.rejectOnError=function(w){var d=this.map;function S(){w(new Error(h.mapOnErrorMsg))}d.once("error",S),d.once("style.error",S),d.once("source.error",S),d.once("tile.error",S),d.once("layer.error",S)},p.createFramework=function(w){var d=this,S=d.div=document.createElement("div");S.id=d.uid,S.style.position="absolute",d.container.appendChild(S),d.xaxis={_id:"x",c2p:function(A){return d.project(A).x}},d.yaxis={_id:"y",c2p:function(A){return d.project(A).y}},d.updateFramework(w),d.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(d.mockAxis,w)},p.initFx=function(w,d){var S=this,A=S.gd,E=S.map;function P(){s.loneUnhover(d._hoverlayer)}function O(){var I=S.getView();A.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}E.on("moveend",function(I){if(S.map){var D=A._fullLayout;if(I.originalEvent||S.wheeling){var V=D[S.id];_.call("_storeDirectGUIEdit",A.layout,D._preGUI,S.getViewEdits(V));var z=S.getView();V._input.center=V.center=z.center,V._input.zoom=V.zoom=z.zoom,V._input.bearing=V.bearing=z.bearing,V._input.pitch=V.pitch=z.pitch,A.emit("plotly_relayout",S.getViewEditsWithDerived(z))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),D._rehover&&D._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(I){var D=S.div.getBoundingClientRect(),V=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return D},S.xaxis.p2c=function(){return E.unproject(V).lng},S.yaxis.p2c=function(){return E.unproject(V).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===S.id&&A._fullLayout[S.id]&&s.hover(A,I,S.id)},s.hover(A,I,S.id),A._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,P()}),E.on("zoomstart",P),E.on("mouseout",function(){A._fullLayout._hoversubplot=null}),E.on("drag",O),E.on("zoom",O),E.on("dblclick",function(){var I=A._fullLayout[S.id];_.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,S.getViewEdits(I));var D=S.viewInitial;E.setCenter(m(D.center)),E.setZoom(D.zoom),E.setBearing(D.bearing),E.setPitch(D.pitch);var V=S.getView();I._input.center=I.center=V.center,I._input.zoom=I.zoom=V.zoom,I._input.bearing=I.bearing=V.bearing,I._input.pitch=I.pitch=V.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",S.getViewEditsWithDerived(V))}),S.clearOutline=function(){l(S.dragOptions),a(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(D){var V=A._fullLayout.clickmode;V.indexOf("select")>-1&&u(D.originalEvent,A,[S.xaxis],[S.yaxis],S.id,I),V.indexOf("event")>-1&&s.click(A,D.originalEvent)}}},p.updateFx=function(w){var d=this,S=d.map,A=d.gd;if(!d.isStatic){var E,P=w.dragmode;E=function(D,V){V.isRect?(D.range={})[d.id]=[I([V.xmin,V.ymin]),I([V.xmax,V.ymax])]:(D.lassoPoints={})[d.id]=V.map(I)};var O=d.dragOptions;d.dragOptions=k.extendDeep(O||{},{dragmode:w.dragmode,element:d.div,gd:A,plotinfo:{id:d.id,domain:w[d.id].domain,xaxis:d.xaxis,yaxis:d.yaxis,fillRangeItems:E},xaxes:[d.xaxis],yaxes:[d.yaxis],subplot:d.id}),S.off("click",d.onClickInPanHandler),r(P)||i(P)?(S.dragPan.disable(),S.on("zoomstart",d.clearOutline),d.dragOptions.prepFn=function(D,V,z){n(D,V,z,d.dragOptions,P)},f.init(d.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",d.clearOutline),d.div.onmousedown=null,d.div.ontouchstart=null,d.div.removeEventListener("touchstart",d.div._ontouchstart),d.onClickInPanHandler=d.onClickInPanFn(d.dragOptions),S.on("click",d.onClickInPanHandler))}function I(D){var V=d.map.unproject(D);return[V.lng,V.lat]}},p.updateFramework=function(w){var d=w[this.id].domain,S=w._size,A=this.div.style;A.width=S.w*(d.x[1]-d.x[0])+"px",A.height=S.h*(d.y[1]-d.y[0])+"px",A.left=S.l+d.x[0]*S.w+"px",A.top=S.t+(1-d.y[1])*S.h+"px",this.xaxis._offset=S.l+d.x[0]*S.w,this.xaxis._length=S.w*(d.x[1]-d.x[0]),this.yaxis._offset=S.t+(1-d.y[1])*S.h,this.yaxis._length=S.h*(d.y[1]-d.y[0])},p.updateLayers=function(w){var d,S=w[this.id].layers,A=this.layerList;if(S.length!==A.length){for(d=0;d<A.length;d++)A[d].dispose();for(A=this.layerList=[],d=0;d<S.length;d++)A.push(c(this,d,S[d]))}else for(d=0;d<S.length;d++)A[d].update(S[d])},p.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},p.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},p.setOptions=function(w,d,S){for(var A in S)this.map[d](w,A,S[A])},p.getMapLayers=function(){return this.map.getStyle().layers},p.addLayer=function(w,d){var S=this.map;if(typeof d=="string"){if(d==="")return void S.addLayer(w,d);for(var A=this.getMapLayers(),E=0;E<A.length;E++)if(d===A[E].id)return void S.addLayer(w,d);k.warn(["Trying to add layer with *below* value",d,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(w)},p.project=function(w){return this.map.project(new T.LngLat(w[0],w[1]))},p.getView=function(){var w=this.map,d=w.getCenter(),S={lon:d.lng,lat:d.lat},A=w.getCanvas(),E=parseInt(A.style.width),P=parseInt(A.style.height);return{center:S,zoom:w.getZoom(),bearing:w.getBearing(),pitch:w.getPitch(),_derived:{coordinates:[w.unproject([0,0]).toArray(),w.unproject([E,0]).toArray(),w.unproject([E,P]).toArray(),w.unproject([0,P]).toArray()]}}},p.getViewEdits=function(w){for(var d=this.id,S=["center","zoom","bearing","pitch"],A={},E=0;E<S.length;E++){var P=S[E];A[d+"."+P]=w[P]}return A},p.getViewEditsWithDerived=function(w){var d=this.id,S=this.getViewEdits(w);return S[d+"._derived"]=w._derived,S},U.exports=x},66741:function(U){U.exports=function(C){var e=C.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(U,C,e){var T=e(33428),k=e(94336).m_,o=e(57624).SO,_=e(38248),b=e(83160),f=e(24040),s=e(73060),t=e(31780),i=e(3400),r=e(76308),n=e(39032).BADNUM,a=e(79811),l=e(1936).clearOutline,u=e(55308),h=e(85656),c=e(16672),x=e(84888)._M,p=i.relinkPrivateKeys,v=i._,g=U.exports={};i.extendFlat(g,f),g.attributes=e(45464),g.attributes.type.values=g.allTypes,g.fontAttrs=e(25376),g.layoutAttributes=e(64859);var y=g.transformsRegistry,m=e(62460);g.executeAPICommand=m.executeAPICommand,g.computeAPICommandBindings=m.computeAPICommandBindings,g.manageCommandObserver=m.manageCommandObserver,g.hasSimpleAPICommandBindings=m.hasSimpleAPICommandBindings,g.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(H){setTimeout(function(){F._fullLayout&&(f.getComponentMethod("annotations","draw")(F),f.getComponentMethod("legend","draw")(F),f.getComponentMethod("colorbar","draw")(F),H(g.previousPromises(F)))},300)})},g.resize=function(F){var H;F=i.getGraphDiv(F);var W=new Promise(function(ie,te){F&&!i.isHidden(F)||te(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(H=F._resolveResize),F._resolveResize=ie,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))ie(F);else{delete F.layout.width,delete F.layout.height;var Q=F.changed;F.autoplay=!0,f.call("relayout",F,{autosize:!0}).then(function(){F.changed=Q,F._resolveResize===ie&&(delete F._resolveResize,ie(F))})}},100)});return H&&H(W),W},g.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},g.addLinks=function(F){if(F._context.showLink||F._context.showSources){var H=F._fullLayout,W=i.ensureSingle(H._paper,"text","js-plot-link-container",function(J){J.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var re=T.select(this);re.append("tspan").classed("js-link-to-tool",!0),re.append("tspan").classed("js-link-spacer",!0),re.append("tspan").classed("js-sourcelinks",!0)})}),ie=W.node(),te={y:H._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=H.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=H._paper.attr("width")-7),W.attr(te);var Q=W.select(".js-link-to-tool"),ne=W.select(".js-link-spacer"),$=W.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(J,re){re.text("");var se=re.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(J._context.linkText+" ");if(J._context.sendData)se.on("click",function(){g.sendDataToCloud(J)});else{var ue=window.location.pathname.split("/"),he=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ue[2].split(".")[0]+"/"+ue[1]+he})}}(F,Q),ne.text(Q.text()&&$.text()?" - ":"")}},g.sendDataToCloud=function(F){var H=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(H){F.emit("plotly_beforeexport");var W=T.select(F).append("div").attr("id","hiddenform").style("display","none"),ie=W.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return ie.append("input").attr({type:"text",name:"data"}).node().value=g.graphJson(F,!1,"keepdata"),ie.node().submit(),W.remove(),F.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],d=["year","month","dayMonth","dayMonthYear"];function S(F,H){var W=F._context.locale;W||(W="en-US");var ie=!1,te={};function Q(ue){for(var he=!0,pe=0;pe<H.length;pe++){var ge=H[pe];te[ge]||(ue[ge]?te[ge]=ue[ge]:he=!1)}he&&(ie=!0)}for(var ne=0;ne<2;ne++){for(var $=F._context.locales,J=0;J<2;J++){var re=($[W]||{}).format;if(re&&(Q(re),ie))break;$=f.localeRegistry}var se=W.split("-")[0];if(ie||se===W)break;W=se}return ie||Q(f.localeRegistry.en.format),te}function A(F,H){var W={_fullLayout:H},ie=F._id.charAt(0)==="x",te=F._mainAxis._anchorAxis,Q="",ne="",$="";if(te&&($=te._mainAxis._id,Q=ie?F._id+$:$+F._id),!Q||!H._plots[Q]){Q="";for(var J=F._counterAxes,re=0;re<J.length;re++){var se=J[re],ue=ie?F._id+se:se+F._id;ne||(ne=ue);var he=a.getFromId(W,se);if($&&he.overlaying===$){Q=ue;break}}}return Q||ne}function E(F){var H=F.transforms;if(Array.isArray(H)&&H.length)for(var W=0;W<H.length;W++){var ie=H[W],te=ie._module||y[ie.type];if(te&&te.makesData)return!0}return!1}function P(F,H,W,ie){for(var te=F.transforms,Q=[F],ne=0;ne<te.length;ne++){var $=te[ne],J=y[$.type];J&&J.transform&&(Q=J.transform(Q,{transform:$,fullTrace:F,fullData:H,layout:W,fullLayout:ie,transformIndex:ne}))}return Q}function O(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function I(F){var H=F.margin;if(!F._size){var W=F._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};W.w=Math.round(F.width)-W.l-W.r,W.h=Math.round(F.height)-W.t-W.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}g.supplyDefaults=function(F,H){var W=H&&H.skipUpdateCalc,ie=F._fullLayout||{};if(ie._skipDefaults)delete ie._skipDefaults;else{var te,Q=F._fullLayout={},ne=F.layout||{},$=F._fullData||[],J=F._fullData=[],re=F.data||[],se=F.calcdata||[],ue=F._context||{};F._transitionData||g.createTransitionData(F),Q._dfltTitle={plot:v(F,"Click to enter Plot title"),subtitle:v(F,"Click to enter Plot subtitle"),x:v(F,"Click to enter X axis title"),y:v(F,"Click to enter Y axis title"),colorbar:v(F,"Click to enter Colorscale title"),annotation:v(F,"new text")},Q._traceWord=v(F,"trace");var he=S(F,w);if(Q._mapboxAccessToken=ue.mapboxAccessToken,ie._initialAutoSizeIsDone){var pe=ie.width,ge=ie.height;g.supplyLayoutGlobalDefaults(ne,Q,he),ne.width||(Q.width=pe),ne.height||(Q.height=ge),g.sanitizeMargins(Q)}else{g.supplyLayoutGlobalDefaults(ne,Q,he);var ye=!ne.width||!ne.height,be=Q.autosize,Te=ue.autosizable;ye&&(be||Te)?g.plotAutoSize(F,ne,Q):ye&&g.sanitizeMargins(Q),!be&&ye&&(ne.width=Q.width,ne.height=Q.height)}Q._d3locale=function(Pe,Ue){return Pe.decimal=Ue.charAt(0),Pe.thousands=Ue.charAt(1),{numberFormat:function(We){try{We=o(Pe).format(i.adjustFormat(We))}catch{return i.warnBadFormat(We),i.noFormat}return We},timeFormat:k(Pe).utcFormat}}(he,Q.separators),Q._extraFormat=S(F,d),Q._initialAutoSizeIsDone=!0,Q._dataLength=re.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var Se=Q._subplots=function(){var Pe,Ue,We=f.collectableSubplotTypes,$e={};if(!We){We=[];var ot=f.subplotsRegistry;for(var st in ot){var mt=ot[st].attr;if(mt&&(We.push(st),Array.isArray(mt)))for(Ue=0;Ue<mt.length;Ue++)i.pushUnique(We,mt[Ue])}}for(Pe=0;Pe<We.length;Pe++)$e[We[Pe]]=[];return $e}(),Fe=Q._splomAxes={x:{},y:{}},xe=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=function(Pe,Ue){var We,$e,ot=Ue.length,st=[];for(We=0;We<Pe.length;We++){var mt=Pe[We]._fullInput;mt!==$e&&st.push(mt),$e=mt}var _t=st.length,yt=new Array(ot),it={};function tt(Ft,Ot){yt[Ot]=Ft,it[Ft]=1}function Pt(Ft,Ot){if(Ft&&typeof Ft=="string"&&!it[Ft])return tt(Ft,Ot),!0}for(We=0;We<ot;We++){var Rt=Ue[We].uid;typeof Rt=="number"&&(Rt=String(Rt)),Pt(Rt,We)||We<_t&&Pt(st[We].uid,We)||tt(i.randstr(it),We)}return yt}($,re),Q._globalTransforms=(F._context||{}).globalTransforms,g.supplyDataDefaults(re,J,ne,Q);var le=Object.keys(Fe.x),oe=Object.keys(Fe.y);if(le.length>1&&oe.length>1){for(f.getComponentMethod("grid","sizeDefaults")(ne,Q),te=0;te<le.length;te++)i.pushUnique(Se.xaxis,le[te]);for(te=0;te<oe.length;te++)i.pushUnique(Se.yaxis,oe[te]);for(var de in xe)i.pushUnique(Se.cartesian,de)}if(Q._has=g._hasPlotType.bind(Q),$.length===J.length)for(te=0;te<J.length;te++)p(J[te],$[te]);g.supplyLayoutModuleDefaults(ne,Q,J,F._transitionData);var Ce=Q._visibleModules,_e=[];for(te=0;te<Ce.length;te++){var Ae=Ce[te].crossTraceDefaults;Ae&&i.pushUnique(_e,Ae)}for(te=0;te<_e.length;te++)_e[te](J,Q);Q._hasOnlyLargeSploms=Q._basePlotModules.length===1&&Q._basePlotModules[0].name==="splom"&&le.length>15&&oe.length>15&&Q.shapes.length===0&&Q.images.length===0,g.linkSubplots(J,Q,$,ie),g.cleanPlot(J,Q,$,ie);var Le=!(!ie._has||!ie._has("gl2d")),ze=!(!Q._has||!Q._has("gl2d")),Re=!(!ie._has||!ie._has("cartesian"))||Le,ve=!(!Q._has||!Q._has("cartesian"))||ze;Re&&!ve?ie._bgLayer.remove():ve&&!Re&&(Q._shouldCreateBgLayer=!0),ie._zoomlayer&&!F._dragging&&l({_fullLayout:ie}),function(Pe,Ue){var We,$e=[];Ue.meta&&(We=Ue._meta={meta:Ue.meta,layout:{meta:Ue.meta}});for(var ot=0;ot<Pe.length;ot++){var st=Pe[ot];st.meta?$e[st.index]=st._meta={meta:st.meta}:Ue.meta&&(st._meta={meta:Ue.meta}),Ue.meta&&(st._meta.layout={meta:Ue.meta})}$e.length&&(We||(We=Ue._meta={}),We.data=$e)}(J,Q),p(Q,ie),f.getComponentMethod("colorscale","crossTraceDefaults")(J,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var ke,Ee=Q._tracePreGUI,De={};for(ke in Ee)De[ke]="old";for(te=0;te<J.length;te++)De[ke=J[te]._fullInput.uid]||(Ee[ke]={}),De[ke]="new";for(ke in De)De[ke]==="old"&&delete Ee[ke];I(Q),f.getComponentMethod("rangeslider","makeData")(Q),W||se.length!==J.length||g.supplyDefaultsUpdateCalc(se,J)}},g.supplyDefaultsUpdateCalc=function(F,H){for(var W=0;W<H.length;W++){var ie=H[W],te=(F[W]||[])[0];if(te&&te.trace){var Q=te.trace;if(Q._hasCalcTransform){var ne,$,J,re=Q._arrayAttrs;for(ne=0;ne<re.length;ne++)$=re[ne],J=i.nestedProperty(Q,$).get().slice(),i.nestedProperty(ie,$).set(J)}te.trace=ie}}},g.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},g._hasPlotType=function(F){var H,W=this._basePlotModules||[];for(H=0;H<W.length;H++)if(W[H].name===F)return!0;var ie=this._modules||[];for(H=0;H<ie.length;H++){var te=ie[H].name;if(te===F)return!0;var Q=f.modules[te];if(Q&&Q.categories[F])return!0}return!1},g.cleanPlot=function(F,H,W,ie){var te,Q,ne=ie._basePlotModules||[];for(te=0;te<ne.length;te++){var $=ne[te];$.clean&&$.clean(F,H,W,ie)}var J=ie._has&&ie._has("gl"),re=H._has&&H._has("gl");J&&!re&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var se=!!ie._infolayer;e:for(te=0;te<W.length;te++){var ue=W[te].uid;for(Q=0;Q<F.length;Q++)if(ue===F[Q].uid)continue e;se&&ie._infolayer.select(".cb"+ue).remove()}},g.linkSubplots=function(F,H,W,ie){var te,Q,ne=ie._plots||{},$=H._plots={},J=H._subplots,re={_fullData:F,_fullLayout:H},se=J.cartesian.concat(J.gl2d||[]);for(te=0;te<se.length;te++){var ue,he=se[te],pe=ne[he],ge=a.getFromId(re,he,"x"),ye=a.getFromId(re,he,"y");for(pe?ue=$[he]=pe:(ue=$[he]={}).id=he,ge._counterAxes.push(ye._id),ye._counterAxes.push(ge._id),ge._subplotsWith.push(he),ye._subplotsWith.push(he),ue.xaxis=ge,ue.yaxis=ye,ue._hasClipOnAxisFalse=!1,Q=0;Q<F.length;Q++){var be=F[Q];if(be.xaxis===ue.xaxis._id&&be.yaxis===ue.yaxis._id&&be.cliponaxis===!1){ue._hasClipOnAxisFalse=!0;break}}}var Te,Se=a.list(re,null,!0);for(te=0;te<Se.length;te++){var Fe=null;(Te=Se[te]).overlaying&&(Fe=a.getFromId(re,Te.overlaying))&&Fe.overlaying&&(Te.overlaying=!1,Fe=null),Te._mainAxis=Fe||Te,Fe&&(Te.domain=Fe.domain.slice()),Te._anchorAxis=Te.anchor==="free"?null:a.getFromId(re,Te.anchor)}for(te=0;te<Se.length;te++)if((Te=Se[te])._counterAxes.sort(a.idSort),Te._subplotsWith.sort(i.subplotSort),Te._mainSubplot=A(Te,H),Te._counterAxes.length&&(Te.spikemode&&Te.spikemode.indexOf("across")!==-1||Te.automargin&&Te.mirror&&Te.anchor!=="free"||f.getComponentMethod("rangeslider","isVisible")(Te))){var xe=1,le=0;for(Q=0;Q<Te._counterAxes.length;Q++){var oe=a.getFromId(re,Te._counterAxes[Q]);xe=Math.min(xe,oe.domain[0]),le=Math.max(le,oe.domain[1])}xe<le&&(Te._counterDomainMin=xe,Te._counterDomainMax=le)}},g.clearExpandedTraceDefaultColors=function(F){var H,W,ie;for(W=[],(H=F._module._colorAttrs)||(F._module._colorAttrs=H=[],s.crawl(F._module.attributes,function(te,Q,ne,$){W[$]=Q,W.length=$+1,te.valType==="color"&&te.dflt===void 0&&H.push(W.join("."))})),ie=0;ie<H.length;ie++)i.nestedProperty(F,"_input."+H[ie]).get()||i.nestedProperty(F,H[ie]).set(null)},g.supplyDataDefaults=function(F,H,W,ie){var te,Q,ne,$=ie._modules,J=ie._visibleModules,re=ie._basePlotModules,se=0,ue=0;function he(de){H.push(de);var Ce=de._module;Ce&&(i.pushUnique($,Ce),de.visible===!0&&i.pushUnique(J,Ce),i.pushUnique(re,de._module.basePlotModule),se++,de._input.visible!==!1&&ue++)}ie._transformModules=[];var pe={},ge=[],ye=(W.template||{}).data||{},be=t.traceTemplater(ye);for(te=0;te<F.length;te++){if(ne=F[te],(Q=be.newTrace(ne)).uid=ie._traceUids[te],g.supplyTraceDefaults(ne,Q,ue,ie,te),Q.index=te,Q._input=ne,Q._expandedIndex=se,Q.transforms&&Q.transforms.length)for(var Te=ne.visible!==!1&&Q.visible===!1,Se=P(Q,H,W,ie),Fe=0;Fe<Se.length;Fe++){var xe=Se[Fe],le={_template:Q._template,type:Q.type,uid:Q.uid+Fe};Te&&xe.visible===!1&&delete xe.visible,g.supplyTraceDefaults(xe,le,se,ie,te),p(le,xe),le.index=te,le._input=ne,le._fullInput=Q,le._expandedIndex=se,le._expandedInput=xe,he(le)}else Q._fullInput=Q,Q._expandedInput=Q,he(Q);f.traceIs(Q,"carpetAxis")&&(pe[Q.carpet]=Q),f.traceIs(Q,"carpetDependent")&&ge.push(te)}for(te=0;te<ge.length;te++)if((Q=H[ge[te]]).visible){var oe=pe[Q.carpet];Q._carpet=oe,oe&&oe.visible?(Q.xaxis=oe.xaxis,Q.yaxis=oe.yaxis):Q.visible=!1}},g.supplyAnimationDefaults=function(F){var H;F=F||{};var W={};function ie(te,Q){return i.coerce(F||{},W,h,te,Q)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(F.frame))for(W.frame=[],H=0;H<F.frame.length;H++)W.frame[H]=g.supplyAnimationFrameDefaults(F.frame[H]||{});else W.frame=g.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(W.transition=[],H=0;H<F.transition.length;H++)W.transition[H]=g.supplyAnimationTransitionDefaults(F.transition[H]||{});else W.transition=g.supplyAnimationTransitionDefaults(F.transition||{});return W},g.supplyAnimationFrameDefaults=function(F){var H={};function W(ie,te){return i.coerce(F||{},H,h.frame,ie,te)}return W("duration"),W("redraw"),H},g.supplyAnimationTransitionDefaults=function(F){var H={};function W(ie,te){return i.coerce(F||{},H,h.transition,ie,te)}return W("duration"),W("easing"),H},g.supplyFrameDefaults=function(F){var H={};function W(ie,te){return i.coerce(F,H,c,ie,te)}return W("group"),W("name"),W("traces"),W("baseframe"),W("data"),W("layout"),H},g.supplyTraceDefaults=function(F,H,W,ie,te){var Q,ne=ie.colorway||r.defaults,$=ne[W%ne.length];function J(Fe,xe){return i.coerce(F,H,g.attributes,Fe,xe)}var re=J("visible");J("type"),J("name",ie._traceWord+" "+te),J("uirevision",ie.uirevision);var se=g.getModule(H);if(H._module=se,se){var ue=se.basePlotModule,he=ue.attr,pe=ue.attributes;if(he&&pe){var ge=ie._subplots,ye="";if(re||ue.name!=="gl2d"){if(Array.isArray(he))for(Q=0;Q<he.length;Q++){var be=he[Q],Te=i.coerce(F,H,pe,be);ge[be]&&i.pushUnique(ge[be],Te),ye+=Te}else ye=i.coerce(F,H,pe,he);ge[ue.name]&&i.pushUnique(ge[ue.name],ye)}}}if(re){if(J("customdata"),J("ids"),J("meta"),f.traceIs(H,"showLegend")?(i.coerce(F,H,se.attributes.showlegend?se.attributes:g.attributes,"showlegend"),J("legend"),J("legendwidth"),J("legendgroup"),J("legendgrouptitle.text"),J("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,se&&se.supplyDefaults(F,H,$,ie),f.traceIs(H,"noOpacity")||J("opacity"),f.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),f.traceIs(H,"noHover")||(H.hovertemplate||i.coerceHoverinfo(F,H,ie),H.type!=="parcats"&&f.getComponentMethod("fx","supplyDefaults")(F,H,$,ie)),se&&se.selectPoints){var Se=J("selectedpoints");i.isTypedArray(Se)&&(H.selectedpoints=Array.from(Se))}g.supplyTransformDefaults(F,H,ie)}return H},g.hasMakesDataTransform=E,g.supplyTransformDefaults=function(F,H,W){if(H._length||E(F)){var ie=W._globalTransforms||[],te=W._transformModules||[];if(Array.isArray(F.transforms)||ie.length!==0)for(var Q=F.transforms||[],ne=ie.concat(Q),$=H.transforms=[],J=0;J<ne.length;J++){var re,se=ne[J],ue=se.type,he=y[ue],pe=!(se._module&&se._module===he),ge=he&&typeof he.transform=="function";he||i.warn("Unrecognized transform type "+ue+"."),he&&he.supplyDefaults&&(pe||ge)?((re=he.supplyDefaults(se,H,W,F)).type=ue,re._module=he,i.pushUnique(te,he)):re=i.extendFlat({},se),$.push(re)}}},g.supplyLayoutGlobalDefaults=function(F,H,W){function ie(se,ue){return i.coerce(F,H,g.layoutAttributes,se,ue)}var te=F.template;i.isPlainObject(te)&&(H.template=te,H._template=te.layout,H._dataTemplate=te.data),ie("autotypenumbers");var Q=i.coerceFont(ie,"font"),ne=Q.size;i.coerceFont(ie,"title.font",Q,{overrideDflt:{size:Math.round(1.4*ne)}}),ie("title.text",H._dfltTitle.plot),ie("title.xref");var $=ie("title.yref");ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var J=ie("title.automargin");ie("title.x"),ie("title.xanchor"),ie("title.y"),ie("title.yanchor"),ie("title.subtitle.text",H._dfltTitle.subtitle),i.coerceFont(ie,"title.subtitle.font",Q,{overrideDflt:{size:Math.round(.7*H.title.font.size)}}),J&&($==="paper"&&(H.title.y!==0&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y===0?"top":"bottom")),$==="container"&&(H.title.y==="auto"&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),ie("uniformtext.mode")&&ie("uniformtext.minsize"),ie("autosize",!(F.width&&F.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),F.width&&F.height&&g.sanitizeMargins(H),f.getComponentMethod("grid","sizeDefaults")(F,H),ie("paper_bgcolor"),ie("separators",W.decimal+W.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var re=ie("uirevision");ie("editrevision",re),ie("selectionrevision",re),f.getComponentMethod("modebar","supplyLayoutDefaults")(F,H),f.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,H,ie),f.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,H,ie),ie("meta"),i.isPlainObject(F.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),f.getComponentMethod("calendars","handleDefaults")(F,H,"calendar"),f.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,H,ie),i.coerce(F,H,u,"scattermode")},g.plotAutoSize=function(F,H,W){var ie,te,Q=F._context||{},ne=Q.frameMargins,$=i.isPlotDiv(F);if($&&F.emit("plotly_autosize"),Q.fillFrame)ie=window.innerWidth,te=window.innerHeight,document.body.style.overflow="hidden";else{var J=$?window.getComputedStyle(F):{};if(ie=O(J.width)||O(J.maxWidth)||W.width,te=O(J.height)||O(J.maxHeight)||W.height,_(ne)&&ne>0){var re=1-2*ne;ie=Math.round(re*ie),te=Math.round(re*te)}}var se=g.layoutAttributes.width.min,ue=g.layoutAttributes.height.min;ie<se&&(ie=se),te<ue&&(te=ue);var he=!H.width&&Math.abs(W.width-ie)>1,pe=!H.height&&Math.abs(W.height-te)>1;(pe||he)&&(he&&(W.width=ie),pe&&(W.height=te)),F._initialAutoSize||(F._initialAutoSize={width:ie,height:te}),g.sanitizeMargins(W)},g.supplyLayoutModuleDefaults=function(F,H,W,ie){var te,Q,ne,$=f.componentsRegistry,J=H._basePlotModules,re=f.subplotsRegistry.cartesian;for(te in $)(ne=$[te]).includeBasePlot&&ne.includeBasePlot(F,H);for(var se in J.length||J.push(re),H._has("cartesian")&&(f.getComponentMethod("grid","contentDefaults")(F,H),re.finalizeSubplots(F,H)),H._subplots)H._subplots[se].sort(i.subplotSort);for(Q=0;Q<J.length;Q++)(ne=J[Q]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(F,H,W);var ue=H._modules;for(Q=0;Q<ue.length;Q++)(ne=ue[Q]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(F,H,W);var he=H._transformModules;for(Q=0;Q<he.length;Q++)(ne=he[Q]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(F,H,W,ie);for(te in $)(ne=$[te]).supplyLayoutDefaults&&ne.supplyLayoutDefaults(F,H,W)},g.purge=function(F){var H=F._fullLayout||{};H._glcontainer!==void 0&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},g.style=function(F){var H,W=F._fullLayout._visibleModules,ie=[];for(H=0;H<W.length;H++){var te=W[H];te.style&&i.pushUnique(ie,te.style)}for(H=0;H<ie.length;H++)ie[H](F)},g.sanitizeMargins=function(F){if(F&&F.margin){var H,W=F.width,ie=F.height,te=F.margin,Q=W-(te.l+te.r),ne=ie-(te.t+te.b);Q<0&&(H=(W-1)/(te.l+te.r),te.l=Math.floor(H*te.l),te.r=Math.floor(H*te.r)),ne<0&&(H=(ie-1)/(te.t+te.b),te.t=Math.floor(H*te.t),te.b=Math.floor(H*te.b))}},g.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(F,H){F._fullLayout._pushmarginIds[H]=1},g.autoMargin=function(F,H,W){var ie=F._fullLayout,te=ie.width,Q=ie.height,ne=ie.margin,$=ie.minreducedwidth,J=ie.minreducedheight,re=i.constrain(te-ne.l-ne.r,2,$),se=i.constrain(Q-ne.t-ne.b,2,J),ue=Math.max(0,te-re),he=Math.max(0,Q-se),pe=ie._pushmargin,ge=ie._pushmarginIds;if(ne.autoexpand!==!1){if(W){var ye=W.pad;if(ye===void 0&&(ye=Math.min(12,ne.l,ne.r,ne.t,ne.b)),ue){var be=(W.l+W.r)/ue;be>1&&(W.l/=be,W.r/=be)}if(he){var Te=(W.t+W.b)/he;Te>1&&(W.t/=Te,W.b/=Te)}var Se=W.xl!==void 0?W.xl:W.x,Fe=W.xr!==void 0?W.xr:W.x,xe=W.yt!==void 0?W.yt:W.y,le=W.yb!==void 0?W.yb:W.y;pe[H]={l:{val:Se,size:W.l+ye},r:{val:Fe,size:W.r+ye},b:{val:le,size:W.b+ye},t:{val:xe,size:W.t+ye}},ge[H]=1}else delete pe[H],delete ge[H];if(!ie._replotting)return g.doAutoMargin(F)}},g.doAutoMargin=function(F){var H=F._fullLayout,W=H.width,ie=H.height;H._size||(H._size={}),I(H);var te=H._size,Q=H.margin,ne={t:0,b:0,l:0,r:0},$=i.extendFlat({},te),J=Q.l,re=Q.r,se=Q.t,ue=Q.b,he=H._pushmargin,pe=H._pushmarginIds,ge=H.minreducedwidth,ye=H.minreducedheight;if(Q.autoexpand!==!1){for(var be in he)pe[be]||delete he[be];var Te=F._fullLayout._reservedMargin;for(var Se in Te)for(var Fe in Te[Se]){var xe=Te[Se][Fe];ne[Fe]=Math.max(ne[Fe],xe)}for(var le in he.base={l:{val:0,size:J},r:{val:1,size:re},t:{val:1,size:se},b:{val:0,size:ue}},ne){var oe=0;for(var de in he)de!=="base"&&_(he[de][le].size)&&(oe=he[de][le].size>oe?he[de][le].size:oe);var Ce=Math.max(0,Q[le]-oe);ne[le]=Math.max(0,ne[le]-Ce)}for(var _e in he){var Ae=he[_e].l||{},Le=he[_e].b||{},ze=Ae.val,Re=Ae.size,ve=Le.val,ke=Le.size,Ee=W-ne.r-ne.l,De=ie-ne.t-ne.b;for(var Pe in he){if(_(Re)&&he[Pe].r){var Ue=he[Pe].r.val,We=he[Pe].r.size;if(Ue>ze){var $e=(Re*Ue+(We-Ee)*ze)/(Ue-ze),ot=(We*(1-ze)+(Re-Ee)*(1-Ue))/(Ue-ze);$e+ot>J+re&&(J=$e,re=ot)}}if(_(ke)&&he[Pe].t){var st=he[Pe].t.val,mt=he[Pe].t.size;if(st>ve){var _t=(ke*st+(mt-De)*ve)/(st-ve),yt=(mt*(1-ve)+(ke-De)*(1-st))/(st-ve);_t+yt>ue+se&&(ue=_t,se=yt)}}}}}var it=i.constrain(W-Q.l-Q.r,2,ge),tt=i.constrain(ie-Q.t-Q.b,2,ye),Pt=Math.max(0,W-it),Rt=Math.max(0,ie-tt);if(Pt){var Ft=(J+re)/Pt;Ft>1&&(J/=Ft,re/=Ft)}if(Rt){var Ot=(ue+se)/Rt;Ot>1&&(ue/=Ot,se/=Ot)}if(te.l=Math.round(J)+ne.l,te.r=Math.round(re)+ne.r,te.t=Math.round(se)+ne.t,te.b=Math.round(ue)+ne.b,te.p=Math.round(Q.pad),te.w=Math.round(W)-te.l-te.r,te.h=Math.round(ie)-te.t-te.b,!H._replotting&&(g.didMarginChange($,te)||function(Je){if("_redrawFromAutoMarginCount"in Je._fullLayout)return!1;var Ve=a.list(Je,"",!0);for(var Ke in Ve)if(Ve[Ke].autoshift||Ve[Ke].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Xe=3*(1+Object.keys(pe).length);if(H._redrawFromAutoMarginCount<Xe)return f.call("_doPlot",F);H._size=$,i.warn("Too many auto-margin redraws.")}(function(Je){var Ve=a.list(Je,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ke){for(var ft=0;ft<Ve.length;ft++){var ut=Ve[ft][Ke];ut&&ut()}})})(F)};var D=["l","r","t","b","p","w","h"];function V(F,H,W){var ie=!1,te=[g.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(ne){var $=Promise.resolve();if(!ne)return $;for(;ne.length;)$=$.then(ne.shift());return $}(F._transitionData._interruptCallbacks)},W.prepareFn,g.rehover,g.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(ne){F._transitioning=!0,H.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){ie=!0}),W.redraw&&F._transitionData._interruptCallbacks.push(function(){return f.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var $=0,J=0;function re(){return $++,function(){var se;J++,ie||J!==$||(se=ne,F._transitionData&&(function(ue){if(ue)for(;ue.length;)ue.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(W.redraw)return f.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(se)))}}W.runFn(re),setTimeout(re())})}],Q=i.syncOrAsync(te,F);return Q&&Q.then||(Q=Promise.resolve()),Q.then(function(){return F})}g.didMarginChange=function(F,H){for(var W=0;W<D.length;W++){var ie=D[W],te=F[ie],Q=H[ie];if(!_(te)||Math.abs(Q-te)>1)return!0}return!1},g.graphJson=function(F,H,W,ie,te,Q){(te&&H&&!F._fullData||te&&!H&&!F._fullLayout)&&g.supplyDefaults(F);var ne=te?F._fullData:F.data,$=te?F._fullLayout:F.layout,J=(F._transitionData||{})._frames;function re(he,pe){if(typeof he=="function")return pe?"_function_":null;if(i.isPlainObject(he)){var ge,ye={};return Object.keys(he).sort().forEach(function(Fe){if(["_","["].indexOf(Fe.charAt(0))===-1)if(typeof he[Fe]!="function"){if(W==="keepdata"){if(Fe.substr(Fe.length-3)==="src")return}else if(W==="keepstream"){if(typeof(ge=he[Fe+"src"])=="string"&&ge.indexOf(":")>0&&!i.isPlainObject(he.stream))return}else if(W!=="keepall"&&typeof(ge=he[Fe+"src"])=="string"&&ge.indexOf(":")>0)return;ye[Fe]=re(he[Fe],pe)}else pe&&(ye[Fe]="_function")}),ye}var be=Array.isArray(he),Te=i.isTypedArray(he);if((be||Te)&&he.dtype&&he.shape){var Se=he.bdata;return re({dtype:he.dtype,shape:he.shape,bdata:i.isArrayBuffer(Se)?b.encode(Se):Se},pe)}return be?he.map(function(Fe){return re(Fe,pe)}):Te?i.simpleMap(he,i.identity):i.isJSDate(he)?i.ms2DateTimeLocal(+he):he}var se={data:(ne||[]).map(function(he){var pe=re(he);return H&&delete pe.fit,pe})};if(!H&&(se.layout=re($),te)){var ue=$._size;se.layout.computed={margin:{b:ue.b,l:ue.l,r:ue.r,t:ue.t}}}return J&&(se.frames=re(J)),Q&&(se.config=re(F._context,!0)),ie==="object"?se:JSON.stringify(se)},g.modifyFrames=function(F,H){var W,ie,te,Q=F._transitionData._frames,ne=F._transitionData._frameHash;for(W=0;W<H.length;W++)switch((ie=H[W]).type){case"replace":te=ie.value;var $=(Q[ie.index]||{}).name,J=te.name;Q[ie.index]=ne[J]=te,J!==$&&(delete ne[$],ne[J]=te);break;case"insert":ne[(te=ie.value).name]=te,Q.splice(ie.index,0,te);break;case"delete":delete ne[(te=Q[ie.index]).name],Q.splice(ie.index,1)}return Promise.resolve()},g.computeFrame=function(F,H){var W,ie,te,Q,ne=F._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var $=ne[H.toString()];if(!$)return!1;for(var J=[$],re=[$.name];$.baseframe&&($=ne[$.baseframe.toString()])&&re.indexOf($.name)===-1;)J.push($),re.push($.name);for(var se={};$=J.pop();)if($.layout&&(se.layout=g.extendLayout(se.layout,$.layout)),$.data){if(se.data||(se.data=[]),!(ie=$.traces))for(ie=[],W=0;W<$.data.length;W++)ie[W]=W;for(se.traces||(se.traces=[]),W=0;W<$.data.length;W++)(te=ie[W])!=null&&((Q=se.traces.indexOf(te))===-1&&(Q=se.data.length,se.traces[Q]=te),se.data[Q]=g.extendTrace(se.data[Q],$.data[W]))}return se},g.recomputeFrameHash=function(F){for(var H=F._transitionData._frameHash={},W=F._transitionData._frames,ie=0;ie<W.length;ie++){var te=W[ie];te&&te.name&&(H[te.name]=te)}},g.extendObjectWithContainers=function(F,H,W){var ie,te,Q,ne,$,J,re,se=i.extendDeepNoArrays({},H||{}),ue=i.expandObjectPaths(se),he={};if(W&&W.length)for(Q=0;Q<W.length;Q++)(te=(ie=i.nestedProperty(ue,W[Q])).get())===void 0?i.nestedProperty(he,W[Q]).set(null):(ie.set(null),i.nestedProperty(he,W[Q]).set(te));if(F=i.extendDeepNoArrays(F||{},ue),W&&W.length){for(Q=0;Q<W.length;Q++)if(J=i.nestedProperty(he,W[Q]).get()){for(re=($=i.nestedProperty(F,W[Q])).get(),Array.isArray(re)||(re=[],$.set(re)),ne=0;ne<J.length;ne++){var pe=J[ne];re[ne]=pe===null?null:g.extendObjectWithContainers(re[ne],pe)}$.set(re)}}return F},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=f.layoutArrayContainers,g.extendTrace=function(F,H){return g.extendObjectWithContainers(F,H,g.dataArrayContainers)},g.extendLayout=function(F,H){return g.extendObjectWithContainers(F,H,g.layoutArrayContainers)},g.transition=function(F,H,W,ie,te,Q){var ne={redraw:te.redraw},$={},J=[];return ne.prepareFn=function(){for(var re=Array.isArray(H)?H.length:0,se=ie.slice(0,re),ue=0;ue<se.length;ue++){var he=se[ue],pe=F._fullData[he]._module;if(pe){if(pe.animatable){var ge=pe.basePlotModule.name;$[ge]||($[ge]=[]),$[ge].push(he)}F.data[se[ue]]=g.extendTrace(F.data[se[ue]],H[ue])}}var ye=i.expandObjectPaths(i.extendDeepNoArrays({},W)),be=/^[xy]axis[0-9]*$/;for(var Te in ye)be.test(Te)&&delete ye[Te].range;g.extendLayout(F.layout,ye),delete F.calcdata,g.supplyDefaults(F),g.doCalcdata(F);var Se=i.expandObjectPaths(W);if(Se){var Fe=F._fullLayout._plots;for(var xe in Fe){var le=Fe[xe],oe=le.xaxis,de=le.yaxis,Ce=oe.range.slice(),_e=de.range.slice(),Ae=null,Le=null,ze=null,Re=null;Array.isArray(Se[oe._name+".range"])?Ae=Se[oe._name+".range"].slice():Array.isArray((Se[oe._name]||{}).range)&&(Ae=Se[oe._name].range.slice()),Array.isArray(Se[de._name+".range"])?Le=Se[de._name+".range"].slice():Array.isArray((Se[de._name]||{}).range)&&(Le=Se[de._name].range.slice()),Ce&&Ae&&(oe.r2l(Ce[0])!==oe.r2l(Ae[0])||oe.r2l(Ce[1])!==oe.r2l(Ae[1]))&&(ze={xr0:Ce,xr1:Ae}),_e&&Le&&(de.r2l(_e[0])!==de.r2l(Le[0])||de.r2l(_e[1])!==de.r2l(Le[1]))&&(Re={yr0:_e,yr1:Le}),(ze||Re)&&J.push(i.extendFlat({plotinfo:le},ze,Re))}}return Promise.resolve()},ne.runFn=function(re){var se,ue,he=F._fullLayout._basePlotModules,pe=J.length;if(W)for(ue=0;ue<he.length;ue++)he[ue].transitionAxes&&he[ue].transitionAxes(F,J,Q,re);for(var ge in pe?((se=i.extendFlat({},Q)).duration=0,delete $.cartesian):se=Q,$){var ye=$[ge];F._fullData[ye[0]]._module.basePlotModule.plot(F,ye,se,re)}},V(F,Q,ne)},g.transitionFromReact=function(F,H,W,ie){var te=F._fullLayout,Q=te.transition,ne={},$=[];return ne.prepareFn=function(){var J=te._plots;for(var re in ne.redraw=!1,H.anim==="some"&&(ne.redraw=!0),W.anim==="some"&&(ne.redraw=!0),J){var se=J[re],ue=se.xaxis,he=se.yaxis,pe=ie[ue._name].range.slice(),ge=ie[he._name].range.slice(),ye=ue.range.slice(),be=he.range.slice();ue.setScale(),he.setScale();var Te=null,Se=null;ue.r2l(pe[0])===ue.r2l(ye[0])&&ue.r2l(pe[1])===ue.r2l(ye[1])||(Te={xr0:pe,xr1:ye}),he.r2l(ge[0])===he.r2l(be[0])&&he.r2l(ge[1])===he.r2l(be[1])||(Se={yr0:ge,yr1:be}),(Te||Se)&&$.push(i.extendFlat({plotinfo:se},Te,Se))}return Promise.resolve()},ne.runFn=function(J){for(var re,se,ue,he=F._fullData,pe=F._fullLayout._basePlotModules,ge=[],ye=0;ye<he.length;ye++)ge.push(ye);function be(){if(F._fullLayout)for(var Se=0;Se<pe.length;Se++)pe[Se].transitionAxes&&pe[Se].transitionAxes(F,$,re,J)}function Te(){if(F._fullLayout)for(var Se=0;Se<pe.length;Se++)pe[Se].plot(F,ue,se,J)}$.length&&H.anim?Q.ordering==="traces first"?(re=i.extendFlat({},Q,{duration:0}),ue=ge,se=Q,setTimeout(be,Q.duration),Te()):(re=Q,ue=null,se=i.extendFlat({},Q,{duration:0}),setTimeout(Te,re.duration),be()):$.length?(re=Q,be()):H.anim&&(ue=ge,se=Q,Te())},V(F,Q,ne)},g.doCalcdata=function(F,H){var W,ie,te,Q,ne=a.list(F),$=F._fullData,J=F._fullLayout,re=new Array($.length),se=(F.calcdata||[]).slice();for(F.calcdata=re,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},te=0;te<$.length;te++)Array.isArray(H)&&H.indexOf(te)===-1&&(re[te]=se[te]);for(te=0;te<$.length;te++)(W=$[te])._arrayAttrs=s.findArrayAttributes(W),W._extremes={};var ue=J._subplots.polar||[];for(te=0;te<ue.length;te++)ne.push(J[ue[te]].radialaxis,J[ue[te]].angularaxis);for(var he in J._colorAxes){var pe=J[he];pe.cauto!==!1&&(delete pe.cmin,delete pe.cmax)}var ge=!1;function ye(Se){if(W=$[Se],ie=W._module,W.visible===!0&&W.transforms){if(ie&&ie.calc){var Fe=ie.calc(F,W);Fe[0]&&Fe[0].t&&Fe[0].t._scene&&delete Fe[0].t._scene.dirty}for(Q=0;Q<W.transforms.length;Q++){var xe=W.transforms[Q];(ie=y[xe.type])&&ie.calcTransform&&(W._hasCalcTransform=!0,ge=!0,ie.calcTransform(F,W,xe))}}}function be(Se,Fe){if(W=$[Se],!!(ie=W._module).isContainer===Fe){var xe=[];if(W.visible===!0&&W._length!==0){delete W._indexToPoints;var le=W.transforms||[];for(Q=le.length-1;Q>=0;Q--)if(le[Q].enabled){W._indexToPoints=le[Q]._indexToPoints;break}ie&&ie.calc&&(xe=ie.calc(F,W))}Array.isArray(xe)&&xe[0]||(xe=[{x:n,y:n}]),xe[0].t||(xe[0].t={}),xe[0].trace=W,re[Se]=xe}}for(j(ne,$,J),te=0;te<$.length;te++)be(te,!0);for(te=0;te<$.length;te++)ye(te);for(ge&&j(ne,$,J),te=0;te<$.length;te++)be(te,!0);for(te=0;te<$.length;te++)be(te,!1);X(F);var Te=function(Se,Fe){var xe,le,oe,de,Ce,_e=[];function Ae(Ke,ft,ut){var xt=ft._id.charAt(0);if(Ke==="histogram2dcontour"){var bt=ft._counterAxes[0],qe=a.getFromId(Fe,bt),je=xt==="x"||bt==="x"&&qe.type==="category",lt=xt==="y"||bt==="y"&&qe.type==="category";return function(gt,dt){return gt===0||dt===0||je&&gt===ut[dt].length-1||lt&&dt===ut.length-1?-1:(xt==="y"?dt:gt)-1}}return function(gt,dt){return xt==="y"?dt:gt}}var Le={min:function(Ke){return i.aggNums(Math.min,null,Ke)},max:function(Ke){return i.aggNums(Math.max,null,Ke)},sum:function(Ke){return i.aggNums(function(ft,ut){return ft+ut},null,Ke)},total:function(Ke){return i.aggNums(function(ft,ut){return ft+ut},null,Ke)},mean:function(Ke){return i.mean(Ke)},"geometric mean":function(Ke){return i.geometricMean(Ke)},median:function(Ke){return i.median(Ke)}};function ze(Ke,ft){return Ke[1]-ft[1]}function Re(Ke,ft){return ft[1]-Ke[1]}for(xe=0;xe<Se.length;xe++){var ve=Se[xe];if(ve.type==="category"){var ke=ve.categoryorder.match(z);if(ke){var Ee=ke[1],De=ke[2],Pe=ve._id.charAt(0),Ue=Pe==="x",We=[];for(le=0;le<ve._categories.length;le++)We.push([ve._categories[le],[]]);for(le=0;le<ve._traceIndices.length;le++){var $e=ve._traceIndices[le],ot=Fe._fullData[$e];if(ot.visible===!0){var st=ot.type;f.traceIs(ot,"histogram")&&(delete ot._xautoBinFinished,delete ot._yautoBinFinished);var mt=st==="splom",_t=st==="scattergl",yt=Fe.calcdata[$e];for(oe=0;oe<yt.length;oe++){var it,tt,Pt=yt[oe];if(mt){var Rt=ot._axesDim[ve._id];if(!Ue){var Ft=ot._diag[Rt][0];Ft&&(ve=Fe._fullLayout[a.id2name(Ft)])}var Ot=Pt.trace.dimensions[Rt].values;for(de=0;de<Ot.length;de++)for(it=ve._categoriesMap[Ot[de]],Ce=0;Ce<Pt.trace.dimensions.length;Ce++)if(Ce!==Rt){var Xe=Pt.trace.dimensions[Ce];We[it][1].push(Xe.values[de])}}else if(_t){for(de=0;de<Pt.t.x.length;de++)Ue?(it=Pt.t.x[de],tt=Pt.t.y[de]):(it=Pt.t.y[de],tt=Pt.t.x[de]),We[it][1].push(tt);Pt.t&&Pt.t._scene&&delete Pt.t._scene.dirty}else if(Pt.hasOwnProperty("z")){tt=Pt.z;var Je=Ae(ot.type,ve,tt);for(de=0;de<tt.length;de++)for(Ce=0;Ce<tt[de].length;Ce++)(it=Je(Ce,de))+1&&We[it][1].push(tt[de][Ce])}else for((it=Pt.p)===void 0&&(it=Pt[Pe]),(tt=Pt.s)===void 0&&(tt=Pt.v),tt===void 0&&(tt=Ue?Pt.y:Pt.x),Array.isArray(tt)||(tt=tt===void 0?[]:[tt]),de=0;de<tt.length;de++)We[it][1].push(tt[de])}}}ve._categoriesValue=We;var Ve=[];for(le=0;le<We.length;le++)Ve.push([We[le][0],Le[Ee](We[le][1])]);Ve.sort(De==="descending"?Re:ze),ve._categoriesAggregatedValue=Ve,ve._initialCategories=Ve.map(function(Ke){return Ke[0]}),_e=_e.concat(ve.sortByInitialCategories())}}}return _e}(ne,F);if(Te.length){for(J._numBoxes=0,J._numViolins=0,te=0;te<Te.length;te++)be(Te[te],!0);for(te=0;te<Te.length;te++)be(Te[te],!1);X(F)}f.getComponentMethod("fx","calc")(F),f.getComponentMethod("errorbars","calc")(F)};var z=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function j(F,H,W){var ie={};function te(J){J.clearCalc(),J.type==="multicategory"&&J.setupMultiCategory(H),ie[J._id]=1}i.simpleMap(F,te);for(var Q=W._axisMatchGroups||[],ne=0;ne<Q.length;ne++)for(var $ in Q[ne])ie[$]||te(W[a.id2name($)])}function X(F){var H,W,ie,te=F._fullLayout,Q=te._visibleModules,ne={};for(W=0;W<Q.length;W++){var $=Q[W],J=$.crossTraceCalc;if(J){var re=$.basePlotModule.name;ne[re]?i.pushUnique(ne[re],J):ne[re]=[J]}}for(ie in ne){var se=ne[ie],ue=te._subplots[ie];if(Array.isArray(ue))for(H=0;H<ue.length;H++){var he=ue[H],pe=ie==="cartesian"?te._plots[he]:te[he];for(W=0;W<se.length;W++)se[W](F,pe,he)}else for(W=0;W<se.length;W++)se[W](F)}}g.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},g.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},g.reselect=function(F){var H=F._fullLayout,W=(F.layout||{}).selections,ie=H._previousSelections;H._previousSelections=W;var te=H._reselect||JSON.stringify(W)!==JSON.stringify(ie);f.getComponentMethod("selections","reselect")(F,te)},g.generalUpdatePerTraceModule=function(F,H,W,ie){var te,Q=H.traceHash,ne={};for(te=0;te<W.length;te++){var $=W[te],J=$[0].trace;J.visible&&(ne[J.type]=ne[J.type]||[],ne[J.type].push($))}for(var re in Q)if(!ne[re]){var se=Q[re][0];se[0].trace.visible=!1,ne[re]=[se]}for(var ue in ne){var he=ne[ue];he[0][0].trace._module.plot(F,H,i.filterVisible(he),ie)}H.traceHash=ne},g.plotBasePlot=function(F,H,W,ie,te){var Q=f.getModule(F),ne=x(H.calcdata,Q)[0];Q.plot(H,ne,ie,te)},g.cleanBasePlot=function(F,H,W,ie,te){var Q=te._has&&te._has(F),ne=W._has&&W._has(F);Q&&!ne&&te["_"+F+"layer"].selectAll("g.trace").remove()}},39360:function(U){U.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(U,C,e){var T=e(3400),k=e(92065).tester,o=T.findIndexOfMin,_=T.isAngleInsideSector,b=T.angleDelta,f=T.angleDist;function s(n,a,l,u){var h,c,x=u[0],p=u[1],v=i(Math.sin(a)-Math.sin(n)),g=i(Math.cos(a)-Math.cos(n)),y=Math.tan(l),m=i(1/y),w=v/g,d=p-w*x;return m?v&&g?c=y*(h=d/(y-w)):g?(h=p*m,c=p):(h=x,c=x*y):v&&g?(h=0,c=d):g?(h=0,c=p):h=c=NaN,[h,c]}function t(n,a,l,u){return T.isFullCircle([a,l])?function(h,c){var x,p=c.length,v=new Array(p+1);for(x=0;x<p;x++){var g=c[x];v[x]=[h*Math.cos(g),h*Math.sin(g)]}return v[x]=v[0].slice(),v}(n,u):function(h,c,x,p){var v,g,y=p.length,m=[];function w(V){return[h*Math.cos(V),h*Math.sin(V)]}function d(V,z,j){return s(V,z,j,w(V))}function S(V){return T.mod(V,y)}function A(V){return _(V,[c,x])}var E=o(p,function(V){return A(V)?f(V,c):1/0}),P=d(p[E],p[S(E-1)],c);for(m.push(P),v=E,g=0;g<y;v++,g++){var O=p[S(v)];if(!A(O))break;m.push(w(O))}var I=o(p,function(V){return A(V)?f(V,x):1/0}),D=d(p[I],p[S(I+1)],x);return m.push(D),m.push([0,0]),m.push(m[0].slice()),m}(n,a,l,u)}function i(n){return Math.abs(n)>1e-10?n:0}function r(n,a,l){a=a||0,l=l||0;for(var u=n.length,h=new Array(u),c=0;c<u;c++){var x=n[c];h[c]=[a+x[0],l-x[1]]}return h}U.exports={isPtInsidePolygon:function(n,a,l,u,h){if(!_(a,u))return!1;var c,x;l[0]<l[1]?(c=l[0],x=l[1]):(c=l[1],x=l[0]);var p=k(t(c,u[0],u[1],h)),v=k(t(x,u[0],u[1],h)),g=[n*Math.cos(a),n*Math.sin(a)];return v.contains(g)&&!p.contains(g)},findPolygonOffset:function(n,a,l,u){for(var h=1/0,c=1/0,x=t(n,a,l,u),p=0;p<x.length;p++){var v=x[p];h=Math.min(h,v[0]),c=Math.min(c,-v[1])}return[h,c]},findEnclosingVertexAngles:function(n,a){var l=o(a,function(h){var c=b(h,n);return c>0?c:1/0}),u=T.mod(l+1,a.length);return[a[l],a[u]]},findIntersectionXY:s,findXYatLength:function(n,a,l,u){var h=-a*l,c=a*a+1,x=2*(a*h-l),p=h*h+l*l-n*n,v=Math.sqrt(x*x-4*c*p),g=(-x+v)/(2*c),y=(-x-v)/(2*c);return[[g,a*g+h+u],[y,a*y+h+u]]},clampTiny:i,pathPolygon:function(n,a,l,u,h,c){return"M"+r(t(n,a,l,u),h,c).join("L")},pathPolygonAnnulus:function(n,a,l,u,h,c,x){var p,v;n<a?(p=n,v=a):(p=a,v=n);var g=r(t(p,l,u,h),c,x);return"M"+r(t(v,l,u,h),c,x).reverse().join("L")+"M"+g.join("L")}}},40872:function(U,C,e){var T=e(84888).KY,k=e(3400).counterRegex,o=e(62400),_=e(39360),b=_.attr,f=_.name,s=k(f),t={};t[b]={valType:"subplotid",dflt:f,editType:"calc"},U.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=T(n,f,u),c=r[u]._subplot;c||(c=o(i,u),r[u]._subplot=c),c.plot(h,r,i._promises)}},clean:function(i,r,n,a){for(var l=a._subplots[f]||[],u=a._has&&a._has("gl"),h=r._has&&r._has("gl"),c=u&&!h,x=0;x<l.length;x++){var p=l[x],v=a[p]._subplot;if(!r[p]&&v)for(var g in v.framework.remove(),v.layers["radial-axis-title"].remove(),v.clipPaths)v.clipPaths[g].remove();c&&v._scene&&(v._scene.destroy(),v._scene=null)}},toSVG:e(57952).toSVG}},95300:function(U,C,e){var T=e(22548),k=e(94724),o=e(86968).u,_=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:_({},k.visible,{dflt:!0}),type:_({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:_({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:_({},k.minallowed,{editType:"plot"}),maxallowed:_({},k.maxallowed,{editType:"plot"}),range:_({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:k.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:_({},k.title.text,{editType:"plot",dflt:""}),font:_({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};_(t,f,s);var i={visible:_({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};_(i,f,s),U.exports={domain:o({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:T.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(U,C,e){var T=e(3400),k=e(76308),o=e(31780),_=e(168),b=e(84888).op,f=e(26332),s=e(25404),t=e(95936),i=e(42568),r=e(22416),n=e(42136),a=e(76808),l=e(52976),u=e(95300),h=e(57696),c=e(39360),x=c.axisNames;function p(g,y,m,w){var d=m("bgcolor");w.bgColor=k.combine(d,w.paper_bgcolor);var S=m("sector");m("hole");var A,E=b(w.fullData,c.name,w.id),P=w.layoutOut;function O(Te,Se){return m(A+"."+Te,Se)}for(var I=0;I<x.length;I++){A=x[I],T.isPlainObject(g[A])||(g[A]={});var D=g[A],V=o.newContainer(y,A);V._id=V._name=A,V._attr=w.id+"."+A,V._traceIndices=E.map(function(Te){return Te._expandedIndex});var z=c.axisName2dataArray[A],j=v(D,V,O,E,z,w);r(D,V,O,{axData:E,dataAttr:z});var X=O("visible");switch(h(V,y,P),O("uirevision",y.uirevision),V._m=1,A){case"radialaxis":O("minallowed"),O("maxallowed");var F,H=O("range"),W=V.getAutorangeDflt(H),ie=O("autorange",W);!H||(H[0]!==null||H[1]!==null)&&(H[0]!==null&&H[1]!==null||ie!=="reversed"&&ie!==!0)&&(H[0]===null||ie!=="min"&&ie!=="max reversed")&&(H[1]===null||ie!=="max"&&ie!=="min reversed")||(H=void 0,delete V.range,V.autorange=!0,F=!0),F||(ie=O("autorange",W=V.getAutorangeDflt(H))),D.autorange=ie,ie&&(a(O,ie,H),j!=="linear"&&j!=="-"||O("rangemode"),V.isReversed()&&(V._m=-1)),V.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(j==="date"){T.log("Polar plots do not support date angular axes yet.");for(var te=0;te<E.length;te++)E[te].visible=!1;j=D.type=V.type="linear"}O(j==="linear"?"thetaunit":"period");var Q=O("direction");O("rotation",{counterclockwise:0,clockwise:90}[Q])}if(i(D,V,O,V.type,{tickSuffixDflt:V.thetaunit==="degrees"?"":void 0}),X){var ne,$,J,re,se,ue,he,pe,ge,ye,be=w.font||{};$=(ne=O("color"))===D.color?ne:be.color,J=be.size,re=be.family,se=be.weight,ue=be.style,he=be.variant,pe=be.textcase,ge=be.lineposition,ye=be.shadow,f(D,V,O,V.type),t(D,V,O,V.type,{font:{weight:se,style:ue,variant:he,textcase:pe,lineposition:ge,shadow:ye,color:$,size:J,family:re},noAutotickangles:A==="angularaxis",noTicklabelshift:!0,noTicklabelstandoff:!0}),s(D,V,O,{outerTicks:!0}),n(D,V,O,{dfltColor:ne,bgColor:w.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[A]}),O("layer"),A==="radialaxis"&&(O("side"),O("angle",S[0]),O("title.text"),T.coerceFont(O,"title.font",{weight:se,style:ue,variant:he,textcase:pe,lineposition:ge,shadow:ye,color:$,size:T.bigFont(J),family:re}))}j!=="category"&&O("hoverformat"),V._input=D}y.angularaxis.type==="category"&&m("gridshape")}function v(g,y,m,w,d,S){var A=m("autotypenumbers",S.autotypenumbersDflt);if(m("type")==="-"){for(var E,P=0;P<w.length;P++)if(w[P].visible){E=w[P];break}E&&E[d]&&(y.type=l(E[d],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),y.type==="-"?y.type="linear":g.type=y.type}return y.type}U.exports=function(g,y,m){_(g,y,m,{type:c.name,attributes:u,handleDefaults:p,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:m,layoutOut:y})}},62400:function(U,C,e){var T=e(33428),k=e(49760),o=e(24040),_=e(3400),b=_.strRotate,f=_.strTranslate,s=e(76308),t=e(43616),i=e(7316),r=e(54460),n=e(78344),a=e(57696),l=e(19280).doAutoRange,u=e(51184),h=e(86476),c=e(93024),x=e(81668),p=e(22676).prepSelect,v=e(22676).selectOnClick,g=e(22676).clearOutline,y=e(93972),m=e(73696),w=e(39172).redrawReglTraces,d=e(84284).MID_SHIFT,S=e(39360),A=e(57384),E=e(36416),P=E.smith,O=E.reactanceArc,I=E.resistanceArc,D=E.smithTransform,V=_._,z=_.mod,j=_.deg2rad,X=_.rad2deg;function F(Q,ne,$){this.isSmith=$||!1,this.id=ne,this.gd=Q,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var J=Q._fullLayout,re="clip"+J._uid+ne;this.clipIds.forTraces=re+"-for-traces",this.clipPaths.forTraces=J._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=J["_"+($?"smith":"polar")+"layer"].append("g").attr("class",ne),this.getHole=function(se){return this.isSmith?0:se.hole},this.getSector=function(se){return this.isSmith?[0,360]:se.sector},this.getRadial=function(se){return this.isSmith?se.realaxis:se.radialaxis},this.getAngular=function(se){return this.isSmith?se.imaginaryaxis:se.angularaxis},$||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=F.prototype;function W(Q){var ne=Q.ticks+String(Q.ticklen)+String(Q.showticklabels);return"side"in Q&&(ne+=Q.side),ne}function ie(Q,ne){return ne[_.findIndexOfMin(ne,function($){return _.angleDist(Q,$)})]}function te(Q,ne,$){return ne?(Q.attr("display",null),Q.attr($)):Q&&Q.attr("display","none"),Q}U.exports=function(Q,ne,$){return new F(Q,ne,$)},H.plot=function(Q,ne){for(var $=this,J=ne[$.id],re=!1,se=0;se<Q.length;se++)if(Q[se][0].trace.cliponaxis===!1){re=!0;break}$._hasClipOnAxisFalse=re,$.updateLayers(ne,J),$.updateLayout(ne,J),i.generalUpdatePerTraceModule($.gd,$,Q,J),$.updateFx(ne,J),$.isSmith&&(delete J.realaxis.range,delete J.imaginaryaxis.range)},H.updateLayers=function(Q,ne){var $=this,J=$.isSmith,re=$.layers,se=$.getRadial(ne),ue=$.getAngular(ne),he=S.layerNames,pe=he.indexOf("frontplot"),ge=he.slice(0,pe),ye=ue.layer==="below traces",be=se.layer==="below traces";ye&&ge.push("angular-line"),be&&ge.push("radial-line"),ye&&ge.push("angular-axis"),be&&ge.push("radial-axis"),ge.push("frontplot"),ye||ge.push("angular-line"),be||ge.push("radial-line"),ye||ge.push("angular-axis"),be||ge.push("radial-axis");var Te=(J?"smith":"polar")+"sublayer",Se=$.framework.selectAll("."+Te).data(ge,String);Se.enter().append("g").attr("class",function(Fe){return Te+" "+Fe}).each(function(Fe){var xe=re[Fe]=T.select(this);switch(Fe){case"frontplot":J||xe.append("g").classed("barlayer",!0),xe.append("g").classed("scatterlayer",!0);break;case"backplot":xe.append("g").classed("maplayer",!0);break;case"plotbg":re.bg=xe.append("path");break;case"radial-grid":case"angular-grid":xe.style("fill","none");break;case"radial-line":xe.append("line").style("fill","none");break;case"angular-line":xe.append("path").style("fill","none")}}),Se.order()},H.updateLayout=function(Q,ne){var $=this,J=$.layers,re=Q._size,se=$.getRadial(ne),ue=$.getAngular(ne),he=ne.domain.x,pe=ne.domain.y;$.xOffset=re.l+re.w*he[0],$.yOffset=re.t+re.h*(1-pe[1]);var ge=$.xLength=re.w*(he[1]-he[0]),ye=$.yLength=re.h*(pe[1]-pe[0]),be=$.getSector(ne);$.sectorInRad=be.map(j);var Te,Se,Fe,xe,le,oe=$.sectorBBox=function(ot){var st,mt=ot[0],_t=ot[1]-mt,yt=z(mt,360),it=yt+_t,tt=Math.cos(j(yt)),Pt=Math.sin(j(yt)),Rt=Math.cos(j(it)),Ft=Math.sin(j(it));return st=yt<=90&&it>=90||yt>90&&it>=450?1:Pt<=0&&Ft<=0?0:Math.max(Pt,Ft),[yt<=180&&it>=180||yt>180&&it>=540?-1:tt>=0&&Rt>=0?0:Math.min(tt,Rt),yt<=270&&it>=270||yt>270&&it>=630?-1:Pt>=0&&Ft>=0?0:Math.min(Pt,Ft),it>=360?1:tt<=0&&Rt<=0?0:Math.max(tt,Rt),st]}(be),de=oe[2]-oe[0],Ce=oe[3]-oe[1],_e=ye/ge,Ae=Math.abs(Ce/de);_e>Ae?(Te=ge,le=(ye-(Se=ge*Ae))/re.h/2,Fe=[he[0],he[1]],xe=[pe[0]+le,pe[1]-le]):(Se=ye,le=(ge-(Te=ye/Ae))/re.w/2,Fe=[he[0]+le,he[1]-le],xe=[pe[0],pe[1]]),$.xLength2=Te,$.yLength2=Se,$.xDomain2=Fe,$.yDomain2=xe;var Le,ze=$.xOffset2=re.l+re.w*Fe[0],Re=$.yOffset2=re.t+re.h*(1-xe[1]),ve=$.radius=Te/de,ke=$.innerRadius=$.getHole(ne)*ve,Ee=$.cx=ze-ve*oe[0],De=$.cy=Re+ve*oe[3],Pe=$.cxx=Ee-ze,Ue=$.cyy=De-Re,We=se.side;We==="counterclockwise"?(Le=We,We="top"):We==="clockwise"&&(Le=We,We="bottom"),$.radialAxis=$.mockAxis(Q,ne,se,{_id:"x",side:We,_trueSide:Le,domain:[ke/re.w,ve/re.w]}),$.angularAxis=$.mockAxis(Q,ne,ue,{side:"right",domain:[0,Math.PI],autorange:!1}),$.doAutoRange(Q,ne),$.updateAngularAxis(Q,ne),$.updateRadialAxis(Q,ne),$.updateRadialAxisTitle(Q,ne),$.xaxis=$.mockCartesianAxis(Q,ne,{_id:"x",domain:Fe}),$.yaxis=$.mockCartesianAxis(Q,ne,{_id:"y",domain:xe});var $e=$.pathSubplot();$.clipPaths.forTraces.select("path").attr("d",$e).attr("transform",f(Pe,Ue)),J.frontplot.attr("transform",f(ze,Re)).call(t.setClipUrl,$._hasClipOnAxisFalse?null:$.clipIds.forTraces,$.gd),J.bg.attr("d",$e).attr("transform",f(Ee,De)).call(s.fill,ne.bgcolor)},H.mockAxis=function(Q,ne,$,J){var re=_.extendFlat({},$,J);return a(re,ne,Q),re},H.mockCartesianAxis=function(Q,ne,$){var J=this,re=J.isSmith,se=$._id,ue=_.extendFlat({type:"linear"},$);n(ue,Q);var he={x:[0,2],y:[1,3]};return ue.setRange=function(){var pe=J.sectorBBox,ge=he[se],ye=J.radialAxis._rl,be=(ye[1]-ye[0])/(1-J.getHole(ne));ue.range=[pe[ge[0]]*be,pe[ge[1]]*be]},ue.isPtWithinRange=se!=="x"||re?function(){return!0}:function(pe){return J.isPtInside(pe)},ue.setRange(),ue.setScale(),ue},H.doAutoRange=function(Q,ne){var $=this,J=$.gd,re=$.radialAxis,se=$.getRadial(ne);l(J,re);var ue=re.range;if(se.range=ue.slice(),se._input.range=ue.slice(),re._rl=[re.r2l(ue[0],null,"gregorian"),re.r2l(ue[1],null,"gregorian")],re.minallowed!==void 0){var he=re.r2l(re.minallowed);re._rl[0]>re._rl[1]?re._rl[1]=Math.max(re._rl[1],he):re._rl[0]=Math.max(re._rl[0],he)}if(re.maxallowed!==void 0){var pe=re.r2l(re.maxallowed);re._rl[0]<re._rl[1]?re._rl[1]=Math.min(re._rl[1],pe):re._rl[0]=Math.min(re._rl[0],pe)}},H.updateRadialAxis=function(Q,ne){var $=this,J=$.gd,re=$.layers,se=$.radius,ue=$.innerRadius,he=$.cx,pe=$.cy,ge=$.getRadial(ne),ye=z($.getSector(ne)[0],360),be=$.radialAxis,Te=ue<se,Se=$.isSmith;Se||($.fillViewInitialKey("radialaxis.angle",ge.angle),$.fillViewInitialKey("radialaxis.range",be.range.slice()),be.setGeometry()),be.tickangle==="auto"&&ye>90&&ye<=270&&(be.tickangle=180);var Fe=Se?function(Re){var ve=D($,P([Re.x,0]));return f(ve[0]-he,ve[1]-pe)}:function(Re){return f(be.l2p(Re.x)+ue,0)},xe=Se?function(Re){return I($,Re.x,-1/0,1/0)}:function(Re){return $.pathArc(be.r2p(Re.x)+ue)},le=W(ge);if($.radialTickLayout!==le&&(re["radial-axis"].selectAll(".xtick").remove(),$.radialTickLayout=le),Te){be.setScale();var oe=0,de=Se?(be.tickvals||[]).filter(function(Re){return Re>=0}).map(function(Re){return r.tickText(be,Re,!0,!1)}):r.calcTicks(be),Ce=Se?de:r.clipEnds(be,de),_e=r.getTickSigns(be)[2];Se&&((be.ticks==="top"&&be.side==="bottom"||be.ticks==="bottom"&&be.side==="top")&&(_e=-_e),be.ticks==="top"&&be.side==="top"&&(oe=-be.ticklen),be.ticks==="bottom"&&be.side==="bottom"&&(oe=be.ticklen)),r.drawTicks(J,be,{vals:de,layer:re["radial-axis"],path:r.makeTickPath(be,0,_e),transFn:Fe,crisp:!1}),r.drawGrid(J,be,{vals:Ce,layer:re["radial-grid"],path:xe,transFn:_.noop,crisp:!1}),r.drawLabels(J,be,{vals:de,layer:re["radial-axis"],transFn:Fe,labelFns:r.makeLabelFns(be,oe)})}var Ae=$.radialAxisAngle=$.vangles?X(ie(j(ge.angle),$.vangles)):ge.angle,Le=f(he,pe),ze=Le+b(-Ae);te(re["radial-axis"],Te&&(ge.showticklabels||ge.ticks),{transform:ze}),te(re["radial-grid"],Te&&ge.showgrid,{transform:Se?"":Le}),te(re["radial-line"].select("line"),Te&&ge.showline,{x1:Se?-se:ue,y1:0,x2:se,y2:0,transform:ze}).attr("stroke-width",ge.linewidth).call(s.stroke,ge.linecolor)},H.updateRadialAxisTitle=function(Q,ne,$){if(!this.isSmith){var J=this,re=J.gd,se=J.radius,ue=J.cx,he=J.cy,pe=J.getRadial(ne),ge=J.id+"title",ye=0;if(pe.title){var be=t.bBox(J.layers["radial-axis"].node()).height,Te=pe.title.font.size,Se=pe.side;ye=Se==="top"?Te:Se==="counterclockwise"?-(be+.4*Te):be+.8*Te}var Fe=$!==void 0?$:J.radialAxisAngle,xe=j(Fe),le=Math.cos(xe),oe=Math.sin(xe),de=ue+se/2*le+ye*oe,Ce=he-se/2*oe+ye*le;J.layers["radial-axis-title"]=x.draw(re,ge,{propContainer:pe,propName:J.id+".radialaxis.title",placeholder:V(re,"Click to enter radial axis title"),attributes:{x:de,y:Ce,"text-anchor":"middle"},transform:{rotate:-Fe}})}},H.updateAngularAxis=function(Q,ne){var $=this,J=$.gd,re=$.layers,se=$.radius,ue=$.innerRadius,he=$.cx,pe=$.cy,ge=$.getAngular(ne),ye=$.angularAxis,be=$.isSmith;be||($.fillViewInitialKey("angularaxis.rotation",ge.rotation),ye.setGeometry(),ye.setScale());var Te=be?function(Re){var ve=D($,P([0,Re.x]));return Math.atan2(ve[0]-he,ve[1]-pe)-Math.PI/2}:function(Re){return ye.t2g(Re.x)};ye.type==="linear"&&ye.thetaunit==="radians"&&(ye.tick0=X(ye.tick0),ye.dtick=X(ye.dtick));var Se=function(Re){return f(he+se*Math.cos(Re),pe-se*Math.sin(Re))},Fe=be?function(Re){var ve=D($,P([0,Re.x]));return f(ve[0],ve[1])}:function(Re){return Se(Te(Re))},xe=be?function(Re){var ve=D($,P([0,Re.x])),ke=Math.atan2(ve[0]-he,ve[1]-pe)-Math.PI/2;return f(ve[0],ve[1])+b(-X(ke))}:function(Re){var ve=Te(Re);return Se(ve)+b(-X(ve))},le=be?function(Re){return O($,Re.x,0,1/0)}:function(Re){var ve=Te(Re),ke=Math.cos(ve),Ee=Math.sin(ve);return"M"+[he+ue*ke,pe-ue*Ee]+"L"+[he+se*ke,pe-se*Ee]},oe=r.makeLabelFns(ye,0).labelStandoff,de={xFn:function(Re){var ve=Te(Re);return Math.cos(ve)*oe},yFn:function(Re){var ve=Te(Re),ke=Math.sin(ve)>0?.2:1;return-Math.sin(ve)*(oe+Re.fontSize*ke)+Math.abs(Math.cos(ve))*(Re.fontSize*d)},anchorFn:function(Re){var ve=Te(Re),ke=Math.cos(ve);return Math.abs(ke)<.1?"middle":ke>0?"start":"end"},heightFn:function(Re,ve,ke){var Ee=Te(Re);return-.5*(1+Math.sin(Ee))*ke}},Ce=W(ge);$.angularTickLayout!==Ce&&(re["angular-axis"].selectAll("."+ye._id+"tick").remove(),$.angularTickLayout=Ce);var _e,Ae=be?[1/0].concat(ye.tickvals||[]).map(function(Re){return r.tickText(ye,Re,!0,!1)}):r.calcTicks(ye);if(be&&(Ae[0].text="",Ae[0].fontSize*=1.75),ne.gridshape==="linear"?(_e=Ae.map(Te),_.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,$.vangles=_e,ye.type==="category"&&(Ae=Ae.filter(function(Re){return _.isAngleInsideSector(Te(Re),$.sectorInRad)})),ye.visible){var Le=ye.ticks==="inside"?-1:1,ze=(ye.linewidth||1)/2;r.drawTicks(J,ye,{vals:Ae,layer:re["angular-axis"],path:"M"+Le*ze+",0h"+Le*ye.ticklen,transFn:xe,crisp:!1}),r.drawGrid(J,ye,{vals:Ae,layer:re["angular-grid"],path:le,transFn:_.noop,crisp:!1}),r.drawLabels(J,ye,{vals:Ae,layer:re["angular-axis"],repositionOnUpdate:!0,transFn:Fe,labelFns:de})}te(re["angular-line"].select("path"),ge.showline,{d:$.pathSubplot(),transform:f(he,pe)}).attr("stroke-width",ge.linewidth).call(s.stroke,ge.linecolor)},H.updateFx=function(Q,ne){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(Q),this.updateRadialDrag(Q,ne,0),this.updateRadialDrag(Q,ne,1)),this.updateHoverAndMainDrag(Q))},H.updateHoverAndMainDrag=function(Q){var ne,$,J=this,re=J.isSmith,se=J.gd,ue=J.layers,he=Q._zoomlayer,pe=S.MINZOOM,ge=S.OFFEDGE,ye=J.radius,be=J.innerRadius,Te=J.cx,Se=J.cy,Fe=J.cxx,xe=J.cyy,le=J.sectorInRad,oe=J.vangles,de=J.radialAxis,Ce=A.clampTiny,_e=A.findXYatLength,Ae=A.findEnclosingVertexAngles,Le=S.cornerHalfWidth,ze=S.cornerLen/2,Re=u.makeDragger(ue,"path","maindrag",Q.dragmode===!1?"none":"crosshair");T.select(Re).attr("d",J.pathSubplot()).attr("transform",f(Te,Se)),Re.onmousemove=function(ut){c.hover(se,ut,J.id),se._fullLayout._lasthover=Re,se._fullLayout._hoversubplot=J.id},Re.onmouseout=function(ut){se._dragging||h.unhover(se,ut)};var ve,ke,Ee,De,Pe,Ue,We,$e,ot,st={element:Re,gd:se,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]};function mt(ut,xt){return Math.sqrt(ut*ut+xt*xt)}function _t(ut,xt){return mt(ut-Fe,xt-xe)}function yt(ut,xt){return Math.atan2(xe-xt,ut-Fe)}function it(ut,xt){return[ut*Math.cos(xt),ut*Math.sin(-xt)]}function tt(ut,xt){if(ut===0)return J.pathSector(2*Le);var bt=ze/ut,qe=xt-bt,je=xt+bt,lt=Math.max(0,Math.min(ut,ye)),gt=lt-Le,dt=lt+Le;return"M"+it(gt,qe)+"A"+[gt,gt]+" 0,0,0 "+it(gt,je)+"L"+it(dt,je)+"A"+[dt,dt]+" 0,0,1 "+it(dt,qe)+"Z"}function Pt(ut,xt,bt){if(ut===0)return J.pathSector(2*Le);var qe,je,lt=it(ut,xt),gt=it(ut,bt),dt=Ce((lt[0]+gt[0])/2),at=Ce((lt[1]+gt[1])/2);if(dt&&at){var kt=at/dt,wt=-1/kt,Et=_e(Le,kt,dt,at);qe=_e(ze,wt,Et[0][0],Et[0][1]),je=_e(ze,wt,Et[1][0],Et[1][1])}else{var Tt,At;at?(Tt=ze,At=Le):(Tt=Le,At=ze),qe=[[dt-Tt,at-At],[dt+Tt,at-At]],je=[[dt-Tt,at+At],[dt+Tt,at+At]]}return"M"+qe.join("L")+"L"+je.reverse().join("L")+"Z"}function Rt(ut,xt){return xt=Math.max(Math.min(xt,ye),be),ut<ge?ut=0:ye-ut<ge?ut=ye:xt<ge?xt=0:ye-xt<ge&&(xt=ye),Math.abs(xt-ut)>pe?(ut<xt?(Ee=ut,De=xt):(Ee=xt,De=ut),!0):(Ee=null,De=null,!1)}function Ft(ut,xt){ut=ut||Pe,xt=xt||"M0,0Z",$e.attr("d",ut),ot.attr("d",xt),u.transitionZoombox($e,ot,Ue,We),Ue=!0;var bt={};Ke(bt),se.emit("plotly_relayouting",bt)}function Ot(ut,xt){var bt,qe,je=ve+(ut*=ne),lt=ke+(xt*=$),gt=_t(ve,ke),dt=Math.min(_t(je,lt),ye),at=yt(ve,ke);Rt(gt,dt)&&(bt=Pe+J.pathSector(De),Ee&&(bt+=J.pathSector(Ee)),qe=tt(Ee,at)+tt(De,at)),Ft(bt,qe)}function Xe(ut,xt,bt,qe){var je=A.findIntersectionXY(bt,qe,bt,[ut-Fe,xe-xt]);return mt(je[0],je[1])}function Je(ut,xt){var bt,qe,je=ve+ut,lt=ke+xt,gt=yt(ve,ke),dt=yt(je,lt),at=Ae(gt,oe),kt=Ae(dt,oe);Rt(Xe(ve,ke,at[0],at[1]),Math.min(Xe(je,lt,kt[0],kt[1]),ye))&&(bt=Pe+J.pathSector(De),Ee&&(bt+=J.pathSector(Ee)),qe=[Pt(Ee,at[0],at[1]),Pt(De,at[0],at[1])].join(" ")),Ft(bt,qe)}function Ve(){if(u.removeZoombox(se),Ee!==null&&De!==null){var ut={};Ke(ut),u.showDoubleClickNotifier(se),o.call("_guiRelayout",se,ut)}}function Ke(ut){var xt=de._rl,bt=(xt[1]-xt[0])/(1-be/ye)/ye,qe=[xt[0]+(Ee-be)*bt,xt[0]+(De-be)*bt];ut[J.id+".radialaxis.range"]=qe}function ft(ut,xt){var bt=se._fullLayout.clickmode;if(u.removeZoombox(se),ut===2){var qe={};for(var je in J.viewInitial)qe[J.id+"."+je]=J.viewInitial[je];se.emit("plotly_doubleclick",null),o.call("_guiRelayout",se,qe)}bt.indexOf("select")>-1&&ut===1&&v(xt,se,[J.xaxis],[J.yaxis],J.id,st),bt.indexOf("event")>-1&&c.click(se,xt,J.id)}st.prepFn=function(ut,xt,bt){var qe=se._fullLayout.dragmode,je=Re.getBoundingClientRect();se._fullLayout._calcInverseTransform(se);var lt=se._fullLayout._invTransform;ne=se._fullLayout._invScaleX,$=se._fullLayout._invScaleY;var gt=_.apply3DTransform(lt)(xt-je.left,bt-je.top);if(ve=gt[0],ke=gt[1],oe){var dt=A.findPolygonOffset(ye,le[0],le[1],oe);ve+=Fe+dt[0],ke+=xe+dt[1]}switch(qe){case"zoom":st.clickFn=ft,re||(st.moveFn=oe?Je:Ot,st.doneFn=Ve,function(){Ee=null,De=null,Pe=J.pathSubplot(),Ue=!1;var at=se._fullLayout[J.id];We=k(at.bgcolor).getLuminance(),($e=u.makeZoombox(he,We,Te,Se,Pe)).attr("fill-rule","evenodd"),ot=u.makeCorners(he,Te,Se),g(se)}());break;case"select":case"lasso":p(ut,xt,bt,st,qe)}},h.init(st)},H.updateRadialDrag=function(Q,ne,$){var J=this,re=J.gd,se=J.layers,ue=J.radius,he=J.innerRadius,pe=J.cx,ge=J.cy,ye=J.radialAxis,be=S.radialDragBoxSize,Te=be/2;if(ye.visible){var Se,Fe,xe,le=j(J.radialAxisAngle),oe=ye._rl,de=oe[0],Ce=oe[1],_e=oe[$],Ae=.75*(oe[1]-oe[0])/(1-J.getHole(ne))/ue;$?(Se=pe+(ue+Te)*Math.cos(le),Fe=ge-(ue+Te)*Math.sin(le),xe="radialdrag"):(Se=pe+(he-Te)*Math.cos(le),Fe=ge-(he-Te)*Math.sin(le),xe="radialdrag-inner");var Le,ze,Re,ve=u.makeRectDragger(se,xe,"crosshair",-Te,-Te,be,be),ke={element:ve,gd:re};Q.dragmode===!1&&(ke.dragmode=!1),te(T.select(ve),ye.visible&&he<ue,{transform:f(Se,Fe)}),ke.prepFn=function(){Le=null,ze=null,Re=null,ke.moveFn=Ee,ke.doneFn=De,g(re)},ke.clampFn=function(We,$e){return Math.sqrt(We*We+$e*$e)<S.MINDRAG&&(We=0,$e=0),[We,$e]},h.init(ke)}function Ee(We,$e){if(Le)Le(We,$e);else{var ot=[We,-$e],st=[Math.cos(le),Math.sin(le)],mt=Math.abs(_.dot(ot,st)/Math.sqrt(_.dot(ot,ot)));isNaN(mt)||(Le=mt<.5?Pe:Ue)}var _t={};(function(yt){ze!==null?yt[J.id+".radialaxis.angle"]=ze:Re!==null&&(yt[J.id+".radialaxis.range["+$+"]"]=Re)})(_t),re.emit("plotly_relayouting",_t)}function De(){ze!==null?o.call("_guiRelayout",re,J.id+".radialaxis.angle",ze):Re!==null&&o.call("_guiRelayout",re,J.id+".radialaxis.range["+$+"]",Re)}function Pe(We,$e){if($!==0){var ot=Se+We,st=Fe+$e;ze=Math.atan2(ge-st,ot-pe),J.vangles&&(ze=ie(ze,J.vangles)),ze=X(ze);var mt=f(pe,ge)+b(-ze);se["radial-axis"].attr("transform",mt),se["radial-line"].select("line").attr("transform",mt);var _t=J.gd._fullLayout,yt=_t[J.id];J.updateRadialAxisTitle(_t,yt,ze)}}function Ue(We,$e){var ot=_.dot([We,-$e],[Math.cos(le),Math.sin(le)]);if(Re=_e-Ae*ot,Ae>0==($?Re>de:Re<Ce)){var st=re._fullLayout,mt=st[J.id];ye.range[$]=Re,ye._rl[$]=Re,J.updateRadialAxis(st,mt),J.xaxis.setRange(),J.xaxis.setScale(),J.yaxis.setRange(),J.yaxis.setScale();var _t=!1;for(var yt in J.traceHash){var it=J.traceHash[yt],tt=_.filterVisible(it);it[0][0].trace._module.plot(re,J,tt,mt),o.traceIs(yt,"gl")&&tt.length&&(_t=!0)}_t&&(m(re),w(re))}else Re=null}},H.updateAngularDrag=function(Q){var ne=this,$=ne.gd,J=ne.layers,re=ne.radius,se=ne.angularAxis,ue=ne.cx,he=ne.cy,pe=ne.cxx,ge=ne.cyy,ye=S.angularDragBoxSize,be=u.makeDragger(J,"path","angulardrag",Q.dragmode===!1?"none":"move"),Te={element:be,gd:$};function Se(ke,Ee){return Math.atan2(ge+ye-Ee,ke-pe-ye)}Q.dragmode===!1?Te.dragmode=!1:T.select(be).attr("d",ne.pathAnnulus(re,re+ye)).attr("transform",f(ue,he)).call(y,"move");var Fe,xe,le,oe,de,Ce,_e=J.frontplot.select(".scatterlayer").selectAll(".trace"),Ae=_e.selectAll(".point"),Le=_e.selectAll(".textpoint");function ze(ke,Ee){var De=ne.gd._fullLayout,Pe=De[ne.id],Ue=Se(Fe+ke*Q._invScaleX,xe+Ee*Q._invScaleY),We=X(Ue-Ce);if(oe=le+We,J.frontplot.attr("transform",f(ne.xOffset2,ne.yOffset2)+b([-We,pe,ge])),ne.vangles){de=ne.radialAxisAngle+We;var $e=f(ue,he)+b(-We),ot=f(ue,he)+b(-de);J.bg.attr("transform",$e),J["radial-grid"].attr("transform",$e),J["radial-axis"].attr("transform",ot),J["radial-line"].select("line").attr("transform",ot),ne.updateRadialAxisTitle(De,Pe,de)}else ne.clipPaths.forTraces.select("path").attr("transform",f(pe,ge)+b(We));Ae.each(function(){var tt=T.select(this),Pt=t.getTranslate(tt);tt.attr("transform",f(Pt.x,Pt.y)+b([We]))}),Le.each(function(){var tt=T.select(this),Pt=tt.select("text"),Rt=t.getTranslate(tt);tt.attr("transform",b([We,Pt.attr("x"),Pt.attr("y")])+f(Rt.x,Rt.y))}),se.rotation=_.modHalf(oe,360),ne.updateAngularAxis(De,Pe),ne._hasClipOnAxisFalse&&!_.isFullCircle(ne.sectorInRad)&&_e.call(t.hideOutsideRangePoints,ne);var st=!1;for(var mt in ne.traceHash)if(o.traceIs(mt,"gl")){var _t=ne.traceHash[mt],yt=_.filterVisible(_t);_t[0][0].trace._module.plot($,ne,yt,Pe),yt.length&&(st=!0)}st&&(m($),w($));var it={};Re(it),$.emit("plotly_relayouting",it)}function Re(ke){ke[ne.id+".angularaxis.rotation"]=oe,ne.vangles&&(ke[ne.id+".radialaxis.angle"]=de)}function ve(){Le.select("text").attr("transform",null);var ke={};Re(ke),o.call("_guiRelayout",$,ke)}Te.prepFn=function(ke,Ee,De){var Pe=Q[ne.id];le=Pe.angularaxis.rotation;var Ue=be.getBoundingClientRect();Fe=Ee-Ue.left,xe=De-Ue.top,$._fullLayout._calcInverseTransform($);var We=_.apply3DTransform(Q._invTransform)(Fe,xe);Fe=We[0],xe=We[1],Ce=Se(Fe,xe),Te.moveFn=ze,Te.doneFn=ve,g($)},ne.vangles&&!_.isFullCircle(ne.sectorInRad)&&(Te.prepFn=_.noop,y(T.select(be),null)),h.init(Te)},H.isPtInside=function(Q){if(this.isSmith)return!0;var ne=this.sectorInRad,$=this.vangles,J=this.angularAxis.c2g(Q.theta),re=this.radialAxis,se=re.c2l(Q.r),ue=re._rl;return($?A.isPtInsidePolygon:_.isPtInsideSector)(se,J,ue,ne,$)},H.pathArc=function(Q){var ne=this.sectorInRad,$=this.vangles;return($?A.pathPolygon:_.pathArc)(Q,ne[0],ne[1],$)},H.pathSector=function(Q){var ne=this.sectorInRad,$=this.vangles;return($?A.pathPolygon:_.pathSector)(Q,ne[0],ne[1],$)},H.pathAnnulus=function(Q,ne){var $=this.sectorInRad,J=this.vangles;return(J?A.pathPolygonAnnulus:_.pathAnnulus)(Q,ne,$[0],$[1],J)},H.pathSubplot=function(){var Q=this.innerRadius,ne=this.radius;return Q?this.pathAnnulus(Q,ne):this.pathSector(ne)},H.fillViewInitialKey=function(Q,ne){Q in this.viewInitial||(this.viewInitial[Q]=ne)}},57696:function(U,C,e){var T=e(3400),k=e(78344),o=T.deg2rad,_=T.rad2deg;U.exports=function(b,f,s){switch(k(b,s),b._id){case"x":case"radialaxis":(function(t,i){var r=i._subplot;t.setGeometry=function(){var n=t._rl[0],a=t._rl[1],l=r.innerRadius,u=(r.radius-l)/(a-n),h=l/u,c=n>a?function(x){return x<=0}:function(x){return x>=0};t.c2g=function(x){var p=t.c2l(x)-n;return(c(p)?p:0)+h},t.g2c=function(x){return t.l2c(x+n-h)},t.g2p=function(x){return x*u},t.c2p=function(x){return t.g2p(t.c2g(x))}}})(b,f);break;case"angularaxis":(function(t,i){var r=t.type;if(r==="linear"){var n=t.d2c,a=t.c2d;t.d2c=function(l,u){return function(h,c){return c==="degrees"?o(h):h}(n(l),u)},t.c2d=function(l,u){return a(function(h,c){return c==="degrees"?_(h):h}(l,u))}}t.makeCalcdata=function(l,u){var h,c,x=l[u],p=l._length,v=function(d){return t.d2c(d,l.thetaunit)};if(x)for(h=new Array(p),c=0;c<p;c++)h[c]=v(x[c]);else{var g=u+"0",y="d"+u,m=g in l?v(l[g]):0,w=l[y]?v(l[y]):(t.period||2*Math.PI)/p;for(h=new Array(p),c=0;c<p;c++)h[c]=m+c*w}return h},t.setGeometry=function(){var l,u,h,c,x=i.sector,p=x.map(o),v={clockwise:-1,counterclockwise:1}[t.direction],g=o(t.rotation),y=function(S){return v*S+g},m=function(S){return(S-g)/v};switch(r){case"linear":u=l=T.identity,c=o,h=_,t.range=T.isFullCircle(p)?[x[0],x[0]+360]:p.map(m).map(_);break;case"category":var w=t._categories.length,d=t.period?Math.max(t.period,w):w;d===0&&(d=1),u=c=function(S){return 2*S*Math.PI/d},l=h=function(S){return S*d/Math.PI/2},t.range=[0,d]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return l(m(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return h(m(S))}}})(b,f)}}},55012:function(U){U.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(U){function C(o){return o<0?-1:o>0?1:0}function e(o){var _=o[0],b=o[1];if(!isFinite(_)||!isFinite(b))return[1,0];var f=(_+1)*(_+1)+b*b;return[(_*_+b*b-1)/f,2*b/f]}function T(o,_){var b=_[0],f=_[1];return[b*o.radius+o.cx,-f*o.radius+o.cy]}function k(o,_){return _*o.radius}U.exports={smith:e,reactanceArc:function(o,_,b,f){var s=T(o,e([b,_])),t=s[0],i=s[1],r=T(o,e([f,_])),n=r[0],a=r[1];if(_===0)return["M"+t+","+i,"L"+n+","+a].join(" ");var l=k(o,1/Math.abs(_));return["M"+t+","+i,"A"+l+","+l+" 0 0,"+(_<0?1:0)+" "+n+","+a].join(" ")},resistanceArc:function(o,_,b,f){var s=k(o,1/(_+1)),t=T(o,e([_,b])),i=t[0],r=t[1],n=T(o,e([_,f])),a=n[0],l=n[1];if(C(b)!==C(f)){var u=T(o,e([_,0]));return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(f<0?0:1)+a+","+l].join(" ")}return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(f<b?0:1)+" "+a+","+l].join(" ")},smithTransform:T}},47788:function(U,C,e){var T=e(84888).KY,k=e(3400).counterRegex,o=e(62400),_=e(55012),b=_.attr,f=_.name,s=k(f),t={};t[b]={valType:"subplotid",dflt:f,editType:"calc"},U.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=T(n,f,u),c=r[u]._subplot;c||(c=o(i,u,!0),r[u]._subplot=c),c.plot(h,r,i._promises)}},clean:function(i,r,n,a){for(var l=a._subplots[f]||[],u=0;u<l.length;u++){var h=l[u],c=a[h]._subplot;if(!r[h]&&c)for(var x in c.framework.remove(),c.clipPaths)c.clipPaths[x].remove()}},toSVG:e(57952).toSVG}},6183:function(U,C,e){var T=e(22548),k=e(94724),o=e(86968).u,_=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({ticklen:k.ticklen,tickwidth:_({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=_({visible:_({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:_({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},f,s),i=_({visible:_({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},f,s);U.exports={domain:o({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:T.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},22836:function(U,C,e){var T,k,o,_=e(3400),b=e(76308),f=e(31780),s=e(168),t=e(84888).op,i=e(42568),r=e(95936),n=e(42136),a=e(78344),l=e(6183),u=e(55012),h=u.axisNames,c=(T=function(p){return _.isTypedArray(p)&&(p=Array.from(p)),p.slice().reverse().map(function(v){return-v}).concat([0]).concat(p)},k=String,o={},function(p){var v=k?k(p):p;if(v in o)return o[v];var g=T(p);return o[v]=g,g});function x(p,v,g,y){var m=g("bgcolor");y.bgColor=b.combine(m,y.paper_bgcolor);var w,d=t(y.fullData,u.name,y.id),S=y.layoutOut;function A(H,W){return g(w+"."+H,W)}for(var E=0;E<h.length;E++){w=h[E],_.isPlainObject(p[w])||(p[w]={});var P=p[w],O=f.newContainer(v,w);O._id=O._name=w,O._attr=y.id+"."+w,O._traceIndices=d.map(function(H){return H._expandedIndex});var I=A("visible");if(O.type="linear",a(O,S),i(P,O,A,O.type),I){var D,V,z,j,X=w==="realaxis";X&&A("side"),X?A("tickvals"):A("tickvals",c(v.realaxis.tickvals||l.realaxis.tickvals.dflt)),_.isTypedArray(O.tickvals)&&(O.tickvals=Array.from(O.tickvals));var F=y.font||{};I&&(V=(D=A("color"))===P.color?D:F.color,z=F.size,j=F.family),r(P,O,A,O.type,{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noAng:!X,noExp:!0,font:{color:V,size:z,family:j}}),_.coerce2(p,v,l,w+".ticklen"),_.coerce2(p,v,l,w+".tickwidth"),_.coerce2(p,v,l,w+".tickcolor",v.color),A("ticks")||(delete v[w].ticklen,delete v[w].tickwidth,delete v[w].tickcolor),n(P,O,A,{dfltColor:D,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[w]}),A("layer")}A("hoverformat"),delete O.type,O._input=P}}U.exports=function(p,v,g){s(p,v,g,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:x,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:g,layoutOut:v})}},168:function(U,C,e){var T=e(3400),k=e(31780),o=e(86968).Q;U.exports=function(_,b,f,s){var t,i,r=s.type,n=s.attributes,a=s.handleDefaults,l=s.partition||"x",u=b._subplots[r],h=u.length,c=h&&u[0].replace(/\d+$/,"");function x(y,m){return T.coerce(t,i,n,y,m)}for(var p=0;p<h;p++){var v=u[p];t=_[v]?_[v]:_[v]={},i=k.newContainer(b,v,c),s.noUirevision||x("uirevision",b.uirevision);var g={};g[l]=[p/h,(p+1)/h],o(i,b,x,g),s.id=v,a(t,i,x,s)}}},21776:function(U,C,e){var T=e(26880);function k(o){var _=o.description?" "+o.description:"",b=o.keys||[];if(b.length>0){for(var f=[],s=0;s<b.length;s++)f[s]="`"+b[s]+"`";_+="Finally, the template string has access to ",_=b.length===1?_+"variable "+f[0]:_+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return _}T.FORMAT_LINK,T.DATE_FORMAT_LINK,C.Ks=function(o,_){o=o||{},k(_=_||{});var b={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(b.arrayOk=!0),b},C.Gw=function(o,_){o=o||{},k(_=_||{});var b={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(b.arrayOk=!0),b},C.ye=function(o,_){return _=_||{},(o=o||{}).newshape,k(_),{valType:"string",dflt:"",editType:o.editType||"arraydraw"}}},19352:function(U,C,e){var T=e(24696),k=e(84888).KY,o=e(3400).counterRegex,_="ternary";C.name=_;var b=C.attr="subplot";C.idRoot=_,C.idRegex=C.attrRegex=o(_),(C.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},C.layoutAttributes=e(86379),C.supplyLayoutDefaults=e(38536),C.plot=function(f){for(var s=f._fullLayout,t=f.calcdata,i=s._subplots[_],r=0;r<i.length;r++){var n=i[r],a=k(t,_,n),l=s[n]._subplot;l||(l=new T({id:n,graphDiv:f,container:s._ternarylayer.node()},s),s[n]._subplot=l),l.plot(a,s,f._promises)}},C.clean=function(f,s,t,i){for(var r=i._subplots[_]||[],n=0;n<r.length;n++){var a=r[n],l=i[a]._subplot;!s[a]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(U,C,e){var T=e(22548),k=e(86968).u,o=e(94724),_=e(67824).overrideAll,b=e(92880).extendFlat,f={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.minor.tickmode,nticks:b({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:b({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:b({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,griddash:o.griddash,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},s=U.exports=_({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:T.background},sum:{valType:"number",dflt:1,min:0},aaxis:f,baxis:f,caxis:f},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(U,C,e){var T=e(76308),k=e(31780),o=e(3400),_=e(168),b=e(95936),f=e(42568),s=e(25404),t=e(26332),i=e(42136),r=e(86379),n=["aaxis","baxis","caxis"];function a(u,h,c,x){var p,v,g,y=c("bgcolor"),m=c("sum");x.bgColor=T.combine(y,x.paper_bgcolor);for(var w=0;w<n.length;w++)v=u[p=n[w]]||{},(g=k.newContainer(h,p))._name=p,l(v,g,x,h);var d=h.aaxis,S=h.baxis,A=h.caxis;d.min+S.min+A.min>=m&&(d.min=0,S.min=0,A.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,h,c,x){var p=r[h._name];function v(S,A){return o.coerce(u,h,p,S,A)}v("uirevision",x.uirevision),h.type="linear";var g=v("color"),y=g!==p.color.dflt?g:c.font.color,m=h._name.charAt(0).toUpperCase(),w="Component "+m,d=v("title.text",w);h._hovertitle=d===w?d:m,o.coerceFont(v,"title.font",c.font,{overrideDflt:{size:o.bigFont(c.font.size),color:y}}),v("min"),t(u,h,v,"linear"),f(u,h,v,"linear"),b(u,h,v,"linear",{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0}),s(u,h,v,{outerTicks:!0}),v("showticklabels")&&(o.coerceFont(v,"tickfont",c.font,{overrideDflt:{color:y}}),v("tickangle"),v("tickformat")),i(u,h,v,{dfltColor:g,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:p}),v("hoverformat"),v("layer")}U.exports=function(u,h,c){_(u,h,c,{type:"ternary",attributes:r,handleDefaults:a,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(U,C,e){var T=e(33428),k=e(49760),o=e(24040),_=e(3400),b=_.strTranslate,f=_._,s=e(76308),t=e(43616),i=e(78344),r=e(92880).extendFlat,n=e(7316),a=e(54460),l=e(86476),u=e(93024),h=e(72760),c=h.freeMode,x=h.rectMode,p=e(81668),v=e(22676).prepSelect,g=e(22676).selectOnClick,y=e(22676).clearOutline,m=e(22676).clearSelectionsCache,w=e(33816);function d(z,j){this.id=z.id,this.graphDiv=z.graphDiv,this.init(j),this.makeFramework(j),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}U.exports=d;var S=d.prototype;S.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},S.plot=function(z,j){var X=this,F=j[X.id],H=j._size;X._hasClipOnAxisFalse=!1;for(var W=0;W<z.length;W++)if(z[W][0].trace.cliponaxis===!1){X._hasClipOnAxisFalse=!0;break}X.updateLayers(F),X.adjustLayout(F,H),n.generalUpdatePerTraceModule(X.graphDiv,X,z,F),X.layers.plotbg.select("path").call(s.fill,F.bgcolor)},S.makeFramework=function(z){var j=this,X=j.graphDiv,F=z[j.id],H=j.clipId="clip"+j.layoutId+j.id,W=j.clipIdRelative="clip-relative"+j.layoutId+j.id;j.clipDef=_.ensureSingleById(z._clips,"clipPath",H,function(ie){ie.append("path").attr("d","M0,0Z")}),j.clipDefRelative=_.ensureSingleById(z._clips,"clipPath",W,function(ie){ie.append("path").attr("d","M0,0Z")}),j.plotContainer=_.ensureSingle(j.container,"g",j.id),j.updateLayers(F),t.setClipUrl(j.layers.backplot,H,X),t.setClipUrl(j.layers.grids,H,X)},S.updateLayers=function(z){var j=this.layers,X=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&X.push("aaxis","aline"),z.baxis.layer==="below traces"&&X.push("baxis","bline"),z.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),z.aaxis.layer==="above traces"&&X.push("aaxis","aline"),z.baxis.layer==="above traces"&&X.push("baxis","bline"),z.caxis.layer==="above traces"&&X.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(X,String),H=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(W){return"toplevel "+W}).each(function(W){var ie=T.select(this);j[W]=ie,W==="frontplot"?ie.append("g").classed("scatterlayer",!0):W==="backplot"?ie.append("g").classed("maplayer",!0):W==="plotbg"?ie.append("path").attr("d","M0,0Z"):W==="aline"||W==="bline"||W==="cline"?ie.append("path"):W==="grids"&&H.forEach(function(te){j[te]=ie.append("g").classed("grid "+te,!0)})}),F.order()};var A=Math.sqrt(4/3);S.adjustLayout=function(z,j){var X,F,H,W,ie,te,Q=this,ne=z.domain,$=(ne.x[0]+ne.x[1])/2,J=(ne.y[0]+ne.y[1])/2,re=ne.x[1]-ne.x[0],se=ne.y[1]-ne.y[0],ue=re*j.w,he=se*j.h,pe=z.sum,ge=z.aaxis.min,ye=z.baxis.min,be=z.caxis.min;ue>A*he?H=(W=he)*A:W=(H=ue)/A,ie=re*H/ue,te=se*W/he,X=j.l+j.w*$-H/2,F=j.t+j.h*(1-J)-W/2,Q.x0=X,Q.y0=F,Q.w=H,Q.h=W,Q.sum=pe,Q.xaxis={type:"linear",range:[ge+2*be-pe,pe-ge-2*ye],domain:[$-ie/2,$+ie/2],_id:"x"},i(Q.xaxis,Q.graphDiv._fullLayout),Q.xaxis.setScale(),Q.xaxis.isPtWithinRange=function(Le){return Le.a>=Q.aaxis.range[0]&&Le.a<=Q.aaxis.range[1]&&Le.b>=Q.baxis.range[1]&&Le.b<=Q.baxis.range[0]&&Le.c>=Q.caxis.range[1]&&Le.c<=Q.caxis.range[0]},Q.yaxis={type:"linear",range:[ge,pe-ye-be],domain:[J-te/2,J+te/2],_id:"y"},i(Q.yaxis,Q.graphDiv._fullLayout),Q.yaxis.setScale(),Q.yaxis.isPtWithinRange=function(){return!0};var Te=Q.yaxis.domain[0],Se=Q.aaxis=r({},z.aaxis,{range:[ge,pe-ye-be],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[Te,Te+te*A],anchor:"free",position:0,_id:"y",_length:H});i(Se,Q.graphDiv._fullLayout),Se.setScale();var Fe=Q.baxis=r({},z.baxis,{range:[pe-ge-be,ye],side:"bottom",domain:Q.xaxis.domain,anchor:"free",position:0,_id:"x",_length:H});i(Fe,Q.graphDiv._fullLayout),Fe.setScale();var xe=Q.caxis=r({},z.caxis,{range:[pe-ge-ye,be],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[Te,Te+te*A],anchor:"free",position:0,_id:"y",_length:H});i(xe,Q.graphDiv._fullLayout),xe.setScale();var le="M"+X+","+(F+W)+"h"+H+"l-"+H/2+",-"+W+"Z";Q.clipDef.select("path").attr("d",le),Q.layers.plotbg.select("path").attr("d",le);var oe="M0,"+W+"h"+H+"l-"+H/2+",-"+W+"Z";Q.clipDefRelative.select("path").attr("d",oe);var de=b(X,F);Q.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",de),Q.clipDefRelative.select("path").attr("transform",null);var Ce=b(X-Fe._offset,F+W);Q.layers.baxis.attr("transform",Ce),Q.layers.bgrid.attr("transform",Ce);var _e=b(X+H/2,F)+"rotate(30)"+b(0,-Se._offset);Q.layers.aaxis.attr("transform",_e),Q.layers.agrid.attr("transform",_e);var Ae=b(X+H/2,F)+"rotate(-30)"+b(0,-xe._offset);Q.layers.caxis.attr("transform",Ae),Q.layers.cgrid.attr("transform",Ae),Q.drawAxes(!0),Q.layers.aline.select("path").attr("d",Se.showline?"M"+X+","+(F+W)+"l"+H/2+",-"+W:"M0,0").call(s.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),Q.layers.bline.select("path").attr("d",Fe.showline?"M"+X+","+(F+W)+"h"+H:"M0,0").call(s.stroke,Fe.linecolor||"#000").style("stroke-width",(Fe.linewidth||0)+"px"),Q.layers.cline.select("path").attr("d",xe.showline?"M"+(X+H/2)+","+F+"l"+H/2+","+W:"M0,0").call(s.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),Q.graphDiv._context.staticPlot||Q.initInteractions(),t.setClipUrl(Q.layers.frontplot,Q._hasClipOnAxisFalse?null:Q.clipId,Q.graphDiv)},S.drawAxes=function(z){var j=this,X=j.graphDiv,F=j.id.substr(7)+"title",H=j.layers,W=j.aaxis,ie=j.baxis,te=j.caxis;if(j.drawAx(W),j.drawAx(ie),j.drawAx(te),z){var Q=Math.max(W.showticklabels?W.tickfont.size/2:0,(te.showticklabels?.75*te.tickfont.size:0)+(te.ticks==="outside"?.87*te.ticklen:0)),ne=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;H["a-title"]=p.draw(X,"a"+F,{propContainer:W,propName:j.id+".aaxis.title",placeholder:f(X,"Click to enter Component A title"),attributes:{x:j.x0+j.w/2,y:j.y0-W.title.font.size/3-Q,"text-anchor":"middle"}}),H["b-title"]=p.draw(X,"b"+F,{propContainer:ie,propName:j.id+".baxis.title",placeholder:f(X,"Click to enter Component B title"),attributes:{x:j.x0-ne,y:j.y0+j.h+.83*ie.title.font.size+ne,"text-anchor":"middle"}}),H["c-title"]=p.draw(X,"c"+F,{propContainer:te,propName:j.id+".caxis.title",placeholder:f(X,"Click to enter Component C title"),attributes:{x:j.x0+j.w+ne,y:j.y0+j.h+.83*te.title.font.size+ne,"text-anchor":"middle"}})}},S.drawAx=function(z){var j,X=this,F=X.graphDiv,H=z._name,W=H.charAt(0),ie=z._id,te=X.layers[H],Q=W+"tickLayout",ne=(j=z).ticks+String(j.ticklen)+String(j.showticklabels);X[Q]!==ne&&(te.selectAll("."+ie+"tick").remove(),X[Q]=ne),z.setScale();var $=a.calcTicks(z),J=a.clipEnds(z,$),re=a.makeTransTickFn(z),se=a.getTickSigns(z)[2],ue=_.deg2rad(30),he=se*(z.linewidth||1)/2,pe=se*z.ticklen,ge=X.w,ye=X.h,be=W==="b"?"M0,"+he+"l"+Math.sin(ue)*pe+","+Math.cos(ue)*pe:"M"+he+",0l"+Math.cos(ue)*pe+","+-Math.sin(ue)*pe,Te={a:"M0,0l"+ye+",-"+ge/2,b:"M0,0l-"+ge/2+",-"+ye,c:"M0,0l-"+ye+","+ge/2}[W];a.drawTicks(F,z,{vals:z.ticks==="inside"?J:$,layer:te,path:be,transFn:re,crisp:!1}),a.drawGrid(F,z,{vals:J,layer:X.layers[W+"grid"],path:Te,transFn:re,crisp:!1}),a.drawLabels(F,z,{vals:$,layer:te,transFn:re,labelFns:a.makeLabelFns(z,0,30)})};var E=w.MINZOOM/2+.87,P="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",O="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",I="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",D=!0;function V(z){T.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var z,j,X,F,H,W,ie,te,Q,ne,$,J,re=this,se=re.layers.plotbg.select("path").node(),ue=re.graphDiv,he=ue._fullLayout._zoomlayer;function pe(oe){var de={};return de[re.id+".aaxis.min"]=oe.a,de[re.id+".baxis.min"]=oe.b,de[re.id+".caxis.min"]=oe.c,de}function ge(oe,de){var Ce=ue._fullLayout.clickmode;V(ue),oe===2&&(ue.emit("plotly_doubleclick",null),o.call("_guiRelayout",ue,pe({a:0,b:0,c:0}))),Ce.indexOf("select")>-1&&oe===1&&g(de,ue,[re.xaxis],[re.yaxis],re.id,re.dragOptions),Ce.indexOf("event")>-1&&u.click(ue,de,re.id)}function ye(oe,de){return 1-de/re.h}function be(oe,de){return 1-(oe+(re.h-de)/Math.sqrt(3))/re.w}function Te(oe,de){return(oe-(re.h-de)/Math.sqrt(3))/re.w}function Se(oe,de){var Ce=X+oe*z,_e=F+de*j,Ae=Math.max(0,Math.min(1,ye(0,F),ye(0,_e))),Le=Math.max(0,Math.min(1,be(X,F),be(Ce,_e))),ze=Math.max(0,Math.min(1,Te(X,F),Te(Ce,_e))),Re=(Ae/2+ze)*re.w,ve=(1-Ae/2-Le)*re.w,ke=(Re+ve)/2,Ee=ve-Re,De=(1-Ae)*re.h,Pe=De-Ee/A;Ee<w.MINZOOM?(ie=H,$.attr("d",Q),J.attr("d","M0,0Z")):(ie={a:H.a+Ae*W,b:H.b+Le*W,c:H.c+ze*W},$.attr("d",Q+"M"+Re+","+De+"H"+ve+"L"+ke+","+Pe+"L"+Re+","+De+"Z"),J.attr("d","M"+X+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Re+","+De+P+"M"+ve+","+De+O+"M"+ke+","+Pe+I)),ne||($.transition().style("fill",te>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),J.transition().style("opacity",1).duration(200),ne=!0),ue.emit("plotly_relayouting",pe(ie))}function Fe(){V(ue),ie!==H&&(o.call("_guiRelayout",ue,pe(ie)),D&&ue.data&&ue._context.showTips&&(_.notifier(f(ue,"Double-click to zoom back out"),"long"),D=!1))}function xe(oe,de){var Ce=oe/re.xaxis._m,_e=de/re.yaxis._m,Ae=[(ie={a:H.a-_e,b:H.b+(Ce+_e)/2,c:H.c-(Ce-_e)/2}).a,ie.b,ie.c].sort(_.sorterAsc),Le=Ae.indexOf(ie.a),ze=Ae.indexOf(ie.b),Re=Ae.indexOf(ie.c);Ae[0]<0&&(Ae[1]+Ae[0]/2<0?(Ae[2]+=Ae[0]+Ae[1],Ae[0]=Ae[1]=0):(Ae[2]+=Ae[0]/2,Ae[1]+=Ae[0]/2,Ae[0]=0),ie={a:Ae[Le],b:Ae[ze],c:Ae[Re]},de=(H.a-ie.a)*re.yaxis._m,oe=(H.c-ie.c-H.b+ie.b)*re.xaxis._m);var ve=b(re.x0+oe,re.y0+de);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ve);var ke=b(-oe,-de);re.clipDefRelative.select("path").attr("transform",ke),re.aaxis.range=[ie.a,re.sum-ie.b-ie.c],re.baxis.range=[re.sum-ie.a-ie.c,ie.b],re.caxis.range=[re.sum-ie.a-ie.b,ie.c],re.drawAxes(!1),re._hasClipOnAxisFalse&&re.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,re),ue.emit("plotly_relayouting",pe(ie))}function le(){o.call("_guiRelayout",ue,pe(ie))}this.dragOptions={element:se,gd:ue,plotinfo:{id:re.id,domain:ue._fullLayout[re.id].domain,xaxis:re.xaxis,yaxis:re.yaxis},subplot:re.id,prepFn:function(oe,de,Ce){re.dragOptions.xaxes=[re.xaxis],re.dragOptions.yaxes=[re.yaxis],z=ue._fullLayout._invScaleX,j=ue._fullLayout._invScaleY;var _e=re.dragOptions.dragmode=ue._fullLayout.dragmode;c(_e)?re.dragOptions.minDrag=1:re.dragOptions.minDrag=void 0,_e==="zoom"?(re.dragOptions.moveFn=Se,re.dragOptions.clickFn=ge,re.dragOptions.doneFn=Fe,function(Ae,Le,ze){var Re=se.getBoundingClientRect();X=Le-Re.left,F=ze-Re.top,ue._fullLayout._calcInverseTransform(ue);var ve=ue._fullLayout._invTransform,ke=_.apply3DTransform(ve)(X,F);X=ke[0],F=ke[1],H={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},ie=H,W=re.aaxis.range[1]-H.a,te=k(re.graphDiv._fullLayout[re.id].bgcolor).getLuminance(),Q="M0,"+re.h+"L"+re.w/2+", 0L"+re.w+","+re.h+"Z",ne=!1,$=he.append("path").attr("class","zoombox").attr("transform",b(re.x0,re.y0)).style({fill:te>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),J=he.append("path").attr("class","zoombox-corners").attr("transform",b(re.x0,re.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),re.clearOutline(ue)}(0,de,Ce)):_e==="pan"?(re.dragOptions.moveFn=xe,re.dragOptions.clickFn=ge,re.dragOptions.doneFn=le,H={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},ie=H,re.clearOutline(ue)):(x(_e)||c(_e))&&v(oe,de,Ce,re.dragOptions,_e)}},se.onmousemove=function(oe){u.hover(ue,oe,re.id),ue._fullLayout._lasthover=se,ue._fullLayout._hoversubplot=re.id},se.onmouseout=function(oe){ue._dragging||l.unhover(ue,oe)},l.init(this.dragOptions)}},24040:function(U,C,e){var T=e(24248),k=e(16628),o=e(52416),_=e(63620),b=e(52200).addStyleRule,f=e(92880),s=e(45464),t=e(64859),i=f.extendFlat,r=f.extendDeepAll;function n(g){var y=g.name,m=g.categories,w=g.meta;if(C.modules[y])T.log("Type "+y+" already registered");else{C.subplotsRegistry[g.basePlotModule.name]||function(D){var V=D.name;if(C.subplotsRegistry[V])T.log("Plot type "+V+" already registered.");else for(var z in h(D),C.subplotsRegistry[V]=D,C.componentsRegistry)p(z,D.name)}(g.basePlotModule);for(var d={},S=0;S<m.length;S++)d[m[S]]=!0,C.allCategories[m[S]]=!0;for(var A in C.modules[y]={_module:g,categories:d},w&&Object.keys(w).length&&(C.modules[y].meta=w),C.allTypes.push(y),C.componentsRegistry)c(A,y);g.layoutAttributes&&i(C.traceLayoutAttributes,g.layoutAttributes);var E=g.basePlotModule,P=E.name;if(P==="mapbox"){var O=E.constants.styleRules;for(var I in O)b(".js-plotly-plot .plotly .mapboxgl-"+I,O[I])}P!=="geo"&&P!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function a(g){if(typeof g.name!="string")throw new Error("Component module *name* must be a string.");var y=g.name;for(var m in C.componentsRegistry[y]=g,g.layoutAttributes&&(g.layoutAttributes._isLinkedToArray&&o(C.layoutArrayContainers,y),h(g)),C.modules)c(y,m);for(var w in C.subplotsRegistry)p(y,w);for(var d in C.transformsRegistry)x(y,d);g.schema&&g.schema.layout&&r(t,g.schema.layout)}function l(g){if(typeof g.name!="string")throw new Error("Transform module *name* must be a string.");var y="Transform module "+g.name,m=typeof g.transform=="function",w=typeof g.calcTransform=="function";if(!m&&!w)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var d in m&&w&&T.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),_(g.attributes)||T.log(y+" registered without an *attributes* object."),typeof g.supplyDefaults!="function"&&T.log(y+" registered without a *supplyDefaults* method."),C.transformsRegistry[g.name]=g,C.componentsRegistry)x(d,g.name)}function u(g){var y=g.name,m=y.split("-")[0],w=g.dictionary,d=g.format,S=w&&Object.keys(w).length,A=d&&Object.keys(d).length,E=C.localeRegistry,P=E[y];if(P||(E[y]=P={}),m!==y){var O=E[m];O||(E[m]=O={}),S&&O.dictionary===P.dictionary&&(O.dictionary=w),A&&O.format===P.format&&(O.format=d)}S&&(P.dictionary=w),A&&(P.format=d)}function h(g){if(g.layoutAttributes){var y=g.layoutAttributes._arrayAttrRegexps;if(y)for(var m=0;m<y.length;m++)o(C.layoutArrayRegexes,y[m])}}function c(g,y){var m=C.componentsRegistry[g].schema;if(m&&m.traces){var w=m.traces[y];w&&r(C.modules[y]._module.attributes,w)}}function x(g,y){var m=C.componentsRegistry[g].schema;if(m&&m.transforms){var w=m.transforms[y];w&&r(C.transformsRegistry[y].attributes,w)}}function p(g,y){var m=C.componentsRegistry[g].schema;if(m&&m.subplots){var w=C.subplotsRegistry[y],d=w.layoutAttributes,S=w.attr==="subplot"?w.name:w.attr;Array.isArray(S)&&(S=S[0]);var A=m.subplots[S];d&&A&&r(d,A)}}function v(g){return typeof g=="object"&&(g=g.type),g}C.modules={},C.allCategories={},C.allTypes=[],C.subplotsRegistry={},C.transformsRegistry={},C.componentsRegistry={},C.layoutArrayContainers=[],C.layoutArrayRegexes=[],C.traceLayoutAttributes={},C.localeRegistry={},C.apiMethodRegistry={},C.collectableSubplotTypes=null,C.register=function(g){if(C.collectableSubplotTypes=null,!g)throw new Error("No argument passed to Plotly.register.");g&&!Array.isArray(g)&&(g=[g]);for(var y=0;y<g.length;y++){var m=g[y];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":a(m);break;case"locale":u(m);break;case"apiMethod":var w=m.name;C.apiMethodRegistry[w]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},C.getModule=function(g){var y=C.modules[v(g)];return!!y&&y._module},C.traceIs=function(g,y){if((g=v(g))==="various")return!1;var m=C.modules[g];return m||(g&&T.log("Unrecognized trace type "+g+"."),m=C.modules[s.type.dflt]),!!m.categories[y]},C.getTransformIndices=function(g,y){for(var m=[],w=g.transforms||[],d=0;d<w.length;d++)w[d].type===y&&m.push(d);return m},C.hasTransform=function(g,y){for(var m=g.transforms||[],w=0;w<m.length;w++)if(m[w].type===y)return!0;return!1},C.getComponentMethod=function(g,y){var m=C.componentsRegistry[g];return m&&m[y]||k},C.call=function(){var g=arguments[0],y=[].slice.call(arguments,1);return C.apiMethodRegistry[g].apply(null,y)}},91536:function(U,C,e){var T=e(24040),k=e(3400),o=k.extendFlat,_=k.extendDeep;function b(f){var s;switch(f){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}U.exports=function(f,s){var t,i,r=f.data,n=f.layout,a=_([],r),l=_({},n,b(s.tileClass)),u=f._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(t=0;t<h.length;t++)i=h[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[h[t]].title={text:""});for(t=0;t<a.length;t++){var c=a[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),T.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)l.annotations.push(s.annotations[t]);var x=Object.keys(l).filter(function(m){return m.match(/^scene\d*$/)});if(x.length){var p={};for(s.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<x.length;t++){var v=l[x[t]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),o(v.xaxis,p),o(v.yaxis,p),o(v.zaxis,p),v._scene=null}}var g=document.createElement("div");s.tileClass&&(g.className=s.tileClass);var y={gd:g,td:g,layout:l,data:a,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(y.config.setBackground=s.setBackground||"opaque"),y.gd.defaultLayout=b(s.tileClass),y}},39792:function(U,C,e){var T=e(3400),k=e(67024),o=e(48616),_=e(81792);U.exports=function(b,f){var s;return T.isPlainObject(b)||(s=T.getGraphDiv(b)),(f=f||{}).format=f.format||"png",f.width=f.width||null,f.height=f.height||null,f.imageDataOnly=!0,new Promise(function(t,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),T.isIE()&&f.format!=="svg"&&i(new Error(_.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var r=k(b,f),n=f.filename||b.fn||"newplot";n+="."+f.format.replace("-","."),r.then(function(a){return s&&(s._snapshotInProgress=!1),o(a,n,f.format)}).then(function(a){t(a)}).catch(function(a){s&&(s._snapshotInProgress=!1),i(a)})})}},48616:function(U,C,e){var T=e(3400),k=e(81792);U.exports=function(o,_,b){var f=document.createElement("a"),s="download"in f;return new Promise(function(t,i){var r,n;if(T.isIE())return r=k.createBlob(o,"svg"),window.navigator.msSaveBlob(r,_),r=null,t(_);if(s)return r=k.createBlob(o,b),n=k.createObjectURL(r),f.href=n,f.download=_,document.body.appendChild(f),f.click(),document.body.removeChild(f),k.revokeObjectURL(n),r=null,t(_);if(T.isSafari()){var a=b==="svg"?",":";base64,";return k.octetStream(a+encodeURIComponent(o)),t(_)}i(new Error("download error"))})}},81792:function(U,C,e){var T=e(24040);C.getDelay=function(o){return o._has&&(o._has("gl3d")||o._has("gl2d")||o._has("mapbox"))?500:0},C.getRedrawFunc=function(o){return function(){T.getComponentMethod("colorbar","draw")(o)}},C.encodeSVG=function(o){return"data:image/svg+xml,"+encodeURIComponent(o)},C.encodeJSON=function(o){return"data:application/json,"+encodeURIComponent(o)};var k=window.URL||window.webkitURL;C.createObjectURL=function(o){return k.createObjectURL(o)},C.revokeObjectURL=function(o){return k.revokeObjectURL(o)},C.createBlob=function(o,_){if(_==="svg")return new window.Blob([o],{type:"image/svg+xml;charset=utf-8"});if(_==="full-json")return new window.Blob([o],{type:"application/json;charset=utf-8"});var b=function(f){for(var s=f.length,t=new ArrayBuffer(s),i=new Uint8Array(t),r=0;r<s;r++)i[r]=f.charCodeAt(r);return t}(window.atob(o));return new window.Blob([b],{type:"image/"+_})},C.octetStream=function(o){document.location.href="data:application/octet-stream"+o},C.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,C.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(U,C,e){var T=e(81792),k={getDelay:T.getDelay,getRedrawFunc:T.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};U.exports=k},63268:function(U,C,e){var T=e(3400),k=e(61252).EventEmitter,o=e(81792);U.exports=function(_){var b=_.emitter||new k,f=new Promise(function(s,t){var i=window.Image,r=_.svg,n=_.format||"png";if(T.isIE()&&n!=="svg"){var a=new Error(o.MSG_IE_BAD_FORMAT);return t(a),_.promise?f:b.emit("error",a)}var l,u,h=_.canvas,c=_.scale||1,x=_.width||300,p=_.height||150,v=c*x,g=c*p,y=h.getContext("2d",{willReadFrequently:!0}),m=new i;n==="svg"||T.isSafari()?u=o.encodeSVG(r):(l=o.createBlob(r,"svg"),u=o.createObjectURL(l)),h.width=v,h.height=g,m.onload=function(){var w;switch(l=null,o.revokeObjectURL(u),n!=="svg"&&y.drawImage(m,0,0,v,g),n){case"jpeg":w=h.toDataURL("image/jpeg");break;case"png":w=h.toDataURL("image/png");break;case"webp":w=h.toDataURL("image/webp");break;case"svg":w=u;break;default:var d="Image format is not jpeg, png, svg or webp.";if(t(new Error(d)),!_.promise)return b.emit("error",d)}s(w),_.promise||b.emit("success",w)},m.onerror=function(w){if(l=null,o.revokeObjectURL(u),t(w),!_.promise)return b.emit("error",w)},m.src=u});return _.promise?f:b}},61808:function(U,C,e){var T=e(61252).EventEmitter,k=e(24040),o=e(3400),_=e(81792),b=e(91536),f=e(37164),s=e(63268);U.exports=function(t,i){var r=new T,n=b(t,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);var l=_.getRedrawFunc(a);return k.call("_doPlot",a,n.data,n.layout,n.config).then(l).then(function(){var u=_.getDelay(a._fullLayout);setTimeout(function(){var h=f(a),c=document.createElement("canvas");c.id=o.randstr(),(r=s({format:i.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:c,emitter:r,svg:h})).clean=function(){a&&document.body.removeChild(a)}},u)}).catch(function(u){r.emit("error",u)}),r}},37164:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(76308),b=e(9616),f=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");U.exports=function(i,r,n){var a,l=i._fullLayout,u=l._paper,h=l._toppaper,c=l.width,x=l.height;u.insert("rect",":first-child").call(o.setRect,0,0,c,x).call(_.fill,l.paper_bgcolor);var p=l._basePlotModules||[];for(a=0;a<p.length;a++){var v=p[a];v.toSVG&&v.toSVG(i)}if(h){var g=h.node().childNodes,y=Array.prototype.slice.call(g);for(a=0;a<y.length;a++){var m=y[a];m.childNodes.length&&u.node().appendChild(m)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var d=T.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){d.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&d.style("font-family",S.replace(f,s));var A=this.style.fontWeight;!A||A!=="normal"&&A!=="400"||d.style("font-weight",void 0);var E=this.style.fontStyle;E&&E==="normal"&&d.style("font-style",void 0);var P=this.style.fontVariant;P&&P==="normal"&&d.style("font-variant",void 0)}else d.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var d=T.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&d.style("fill",S.replace(f,s));var A=this.style.stroke;A&&A.indexOf("url(")!==-1&&d.style("stroke",A.replace(f,s))}),r!=="pdf"&&r!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),r==="svg"&&n&&(u.attr("width",n*c),u.attr("height",n*x),u.attr("viewBox","0 0 "+c+" "+x));var w=new window.XMLSerializer().serializeToString(u.node());return w=(w=(w=function(d){var S=T.select("body").append("div").style({display:"none"}).html(""),A=d.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),A}(w)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},84664:function(U,C,e){var T=e(3400);U.exports=function(k,o){for(var _=0;_<k.length;_++)k[_].i=_;T.mergeArray(o.text,k,"tx"),T.mergeArray(o.hovertext,k,"htx");var b=o.marker;if(b){T.mergeArray(b.opacity,k,"mo",!0),T.mergeArray(b.color,k,"mc");var f=b.line;f&&(T.mergeArray(f.color,k,"mlc"),T.mergeArrayCastPositive(f.width,k,"mlw"))}}},20832:function(U,C,e){var T=e(52904),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(21776).Gw,b=e(49084),f=e(25376),s=e(78048),t=e(98192).c,i=e(92880).extendFlat,r=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=i({},T.marker.line.width,{dflt:0}),a=i({width:n,editType:"calc"},b("marker.line")),l=i({line:a,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});U.exports={x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:T.text,texttemplate:_({editType:"plot"},{keys:s.eventDataKeys}),hovertext:T.hovertext,hovertemplate:o({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},r,{}),insidetextfont:i({},r,{}),outsidetextfont:i({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},T.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:{marker:{opacity:T.selected.marker.opacity,color:T.selected.marker.color,editType:"style"},textfont:T.selected.textfont,editType:"style"},unselected:{marker:{opacity:T.unselected.marker.opacity,color:T.unselected.marker.color,editType:"style"},textfont:T.unselected.textfont,editType:"style"},zorder:T.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(U,C,e){var T=e(54460),k=e(1220),o=e(94288).hasColorscale,_=e(47128),b=e(84664),f=e(4500);U.exports=function(s,t){var i,r,n,a,l,u,h=T.getFromId(s,t.xaxis||"x"),c=T.getFromId(s,t.yaxis||"y"),x={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(i=h.makeCalcdata(t,"x",x),n=c.makeCalcdata(t,"y"),a=k(t,c,"y",n),l=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",x),n=h.makeCalcdata(t,"x"),a=k(t,h,"x",n),l=!!t.xperiodalignment,u="x"),r=a.vals;for(var p=Math.min(r.length,i.length),v=new Array(p),g=0;g<p;g++)v[g]={p:r[g],s:i[g]},l&&(v[g].orig_p=n[g],v[g][u+"End"]=a.ends[g],v[g][u+"Start"]=a.starts[g]),t.ids&&(v[g].id=String(t.ids[g]));return o(t,"marker")&&_(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&_(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(v,t),f(v,t),v}},78048:function(U){U.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(U,C,e){var T=e(38248),k=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,_=e(24040),b=e(54460),f=e(71888).getAxisGroup,s=e(72592);function t(p,v,g,y,m){if(y.length){var w,d,S,A;switch(function(E,P){var O,I;for(O=0;O<P.length;O++){var D,V=P[O],z=V[0].trace,j=z.type==="funnel"?z._base:z.base,X=z.orientation==="h"?z.xcalendar:z.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(k(j)){for(I=0;I<Math.min(j.length,V.length);I++)D=F(j[I],0,X),T(D)?(V[I].b=+D,V[I].hasB=1):V[I].b=0;for(;I<V.length;I++)V[I].b=0}else{D=F(j,0,X);var H=T(D);for(D=H?D:0,I=0;I<V.length;I++)V[I].b=D,H&&(V[I].hasB=1)}}}(g,y),m.mode){case"overlay":i(v,g,y,m);break;case"group":for(w=[],d=[],S=0;S<y.length;S++)(A=y[S])[0].trace.offset===void 0?d.push(A):w.push(A);d.length&&function(E,P,O,I,D){var V=new s(I,{posAxis:P,sepNegVal:!1,overlapNoMerge:!D.norm});(function(z,j,X,F){for(var H=z._fullLayout,W=X.positions,ie=X.distinctPositions,te=X.minDiff,Q=X.traces,ne=Q.length,$=W.length!==ie.length,J=te*(1-F.gap),re=f(H,j._id)+Q[0][0].trace.orientation,se=H._alignmentOpts[re]||{},ue=0;ue<ne;ue++){var he,pe,ge=Q[ue],ye=ge[0].trace,be=se[ye.alignmentgroup]||{},Te=Object.keys(be.offsetGroups||{}).length,Se=(he=Te?J/Te:$?J/ne:J)*(1-(F.groupgap||0));pe=Te?((2*ye._offsetIndex+1-Te)*he-Se)/2:$?((2*ue+1-ne)*he-Se)/2:-Se/2;var Fe=ge[0].t;Fe.barwidth=Se,Fe.poffset=pe,Fe.bargroupwidth=J,Fe.bardelta=te}X.binWidth=Q[0][0].t.barwidth/100,n(X),a(j,X),l(j,X,$)})(E,P,V,D),function(z,j){for(var X=z.traces,F=0;F<X.length;F++){var H=X[F];if(H[0].trace.base===void 0)for(var W=new s([H],{posAxis:j,sepNegVal:!0,overlapNoMerge:!0}),ie=0;ie<H.length;ie++){var te=H[ie];if(te.p!==o){var Q=W.put(te.p,te.b+te.s);Q&&(te.b=Q)}}}}(V,P),D.norm?(h(V),c(O,V,D)):u(O,V)}(p,v,g,d,m),w.length&&i(v,g,w,m);break;case"stack":case"relative":for(w=[],d=[],S=0;S<y.length;S++)(A=y[S])[0].trace.base===void 0?d.push(A):w.push(A);(function(E){if(!(E.length<2)){var P,O,I,D,V,z;for(P=0;P<E.length&&(D=(O=E[P][0].trace).marker?O.marker.cornerradius:void 0)===void 0;P++);if(D!==void 0)for(V=T(D)?+D:+D.slice(0,-1),z=T(D)?"px":"%",P=0;P<E.length;P++)(I=E[P][0].t).cornerradiusvalue=V,I.cornerradiusform=z}})(d),d.length&&function(E,P,O,I,D){var V=new s(I,{posAxis:P,sepNegVal:D.mode==="relative",overlapNoMerge:!(D.norm||D.mode==="stack"||D.mode==="relative")});r(P,V,D),function(H,W,ie){var te,Q,ne,$,J,re,se=x(H),ue=W.traces;for($=0;$<ue.length;$++)if((Q=(te=ue[$])[0].trace).type==="funnel")for(J=0;J<te.length;J++)(re=te[J]).s!==o&&W.put(re.p,-.5*re.s);for($=0;$<ue.length;$++){ne=(Q=(te=ue[$])[0].trace).type==="funnel";var he=[];for(J=0;J<te.length;J++)if((re=te[J]).s!==o){var pe;pe=ne?re.s:re.s+re.b;var ge=W.put(re.p,pe),ye=ge+pe;re.b=ge,re[se]=ye,ie.norm||(he.push(ye),re.hasB&&he.push(ge))}ie.norm||(Q._extremes[H._id]=b.findExtremes(H,he,{tozero:!0,padded:!0}))}}(O,V,D);for(var z=0;z<I.length;z++)for(var j=I[z],X=0;X<j.length;X++){var F=j[X];F.s!==o&&F.b+F.s===V.get(F.p,F.s)&&(F._outmost=!0)}D.norm&&c(O,V,D)}(0,v,g,d,m),w.length&&i(v,g,w,m)}(function(E){var P,O,I,D,V,z,j;for(P=0;P<E.length;P++)I=(O=E[P])[0].trace,(D=O[0].t).cornerradiusvalue===void 0&&(V=I.marker?I.marker.cornerradius:void 0)!==void 0&&(z=T(V)?+V:+V.slice(0,-1),j=T(V)?"px":"%",D.cornerradiusvalue=z,D.cornerradiusform=j)})(y),function(E,P){var O,I,D,V=x(P),z={},j=1/0,X=-1/0;for(O=0;O<E.length;O++)for(D=E[O],I=0;I<D.length;I++){var F=D[I].p;T(F)&&(j=Math.min(j,F),X=Math.max(X,F))}var H=1e4/(X-j),W=z.round=function(ye){return String(Math.round(H*(ye-j)))},ie={},te={},Q=E.some(function(ye){var be=ye[0].trace;return"marker"in be&&be.marker.cornerradius});for(O=0;O<E.length;O++){(D=E[O])[0].t.extents=z;var ne=D[0].t.poffset,$=k(ne);for(I=0;I<D.length;I++){var J=D[I],re=J[V]-J.w/2;if(T(re)){var se=J[V]+J.w/2,ue=W(J.p);z[ue]?z[ue]=[Math.min(re,z[ue][0]),Math.max(se,z[ue][1])]:z[ue]=[re,se]}if(J.p0=J.p+($?ne[I]:ne),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s,Q){var he=Math.min(J.s0,J.s1)||0,pe=Math.max(J.s0,J.s1)||0,ge=J[V];ie[ge]=ge in ie?Math.min(ie[ge],he):he,te[ge]=ge in te?Math.max(te[ge],pe):pe}}}Q&&function(ye,be,Te,Se){for(var Fe=x(Se),xe=0;xe<ye.length;xe++)for(var le=ye[xe],oe=0;oe<le.length;oe++){var de=le[oe],Ce=de[Fe];de._sMin=be[Ce],de._sMax=Te[Ce]}}(E,ie,te,P)}(y,v)}}function i(p,v,g,y){for(var m=0;m<g.length;m++){var w=g[m],d=new s([w],{posAxis:p,sepNegVal:!1,overlapNoMerge:!y.norm});r(p,d,y),y.norm?(h(d),c(v,d,y)):u(v,d)}}function r(p,v,g){for(var y=v.minDiff,m=v.traces,w=y*(1-g.gap),d=w*(1-(g.groupgap||0)),S=-d/2,A=0;A<m.length;A++){var E=m[A][0].t;E.barwidth=d,E.poffset=S,E.bargroupwidth=w,E.bardelta=y}v.binWidth=m[0][0].t.barwidth/100,n(v),a(p,v),l(p,v)}function n(p){var v,g,y=p.traces;for(v=0;v<y.length;v++){var m,w=y[v],d=w[0],S=d.trace,A=d.t,E=S._offset||S.offset,P=A.poffset;if(k(E)){for(m=Array.prototype.slice.call(E,0,w.length),g=0;g<m.length;g++)T(m[g])||(m[g]=P);for(g=m.length;g<w.length;g++)m.push(P);A.poffset=m}else E!==void 0&&(A.poffset=E);var O=S._width||S.width,I=A.barwidth;if(k(O)){var D=Array.prototype.slice.call(O,0,w.length);for(g=0;g<D.length;g++)T(D[g])||(D[g]=I);for(g=D.length;g<w.length;g++)D.push(I);if(A.barwidth=D,E===void 0){for(m=[],g=0;g<w.length;g++)m.push(P+(I-D[g])/2);A.poffset=m}}else O!==void 0&&(A.barwidth=O,E===void 0&&(A.poffset=P+(I-O)/2))}}function a(p,v){for(var g=v.traces,y=x(p),m=0;m<g.length;m++)for(var w=g[m],d=w[0].t,S=d.poffset,A=k(S),E=d.barwidth,P=k(E),O=0;O<w.length;O++){var I=w[O],D=I.w=P?E[O]:E;I.p===void 0&&(I.p=I[y],I["orig_"+y]=I[y]);var V=(A?S[O]:S)+D/2;I[y]=I.p+V}}function l(p,v,g){var y=v.traces,m=v.minDiff/2;b.minDtick(p,v.minDiff,v.distinctPositions[0],g);for(var w=0;w<y.length;w++){var d,S,A,E,P=y[w],O=P[0],I=O.trace,D=[];for(E=0;E<P.length;E++)S=(d=P[E]).p-m,A=d.p+m,D.push(S,A);if(I.width||I.offset){var V=O.t,z=V.poffset,j=V.barwidth,X=k(z),F=k(j);for(E=0;E<P.length;E++){d=P[E];var H=X?z[E]:z,W=F?j[E]:j;A=(S=d.p+H)+W,D.push(S,A)}}I._extremes[p._id]=b.findExtremes(p,D,{padded:!1})}}function u(p,v){for(var g=v.traces,y=x(p),m=0;m<g.length;m++){for(var w=g[m],d=w[0].trace,S=d.type==="scatter",A=d.orientation==="v",E=[],P=!1,O=0;O<w.length;O++){var I=w[O],D=S?0:I.b,V=S?A?I.y:I.x:D+I.s;I[y]=V,E.push(V),I.hasB&&E.push(D),I.hasB&&I.b||(P=!0)}d._extremes[p._id]=b.findExtremes(p,E,{tozero:P,padded:!0})}}function h(p){for(var v=p.traces,g=0;g<v.length;g++)for(var y=v[g],m=0;m<y.length;m++){var w=y[m];w.s!==o&&p.put(w.p,w.b+w.s)}}function c(p,v,g){var y=v.traces,m=x(p),w=g.norm==="fraction"?1:100,d=w/1e9,S=p.l2c(p.c2l(0)),A=g.mode==="stack"?w:S;function E(ie){return T(p.c2l(ie))&&(ie<S-d||ie>A+d||!T(S))}for(var P=0;P<y.length;P++){for(var O=y[P],I=O[0].trace,D=[],V=!1,z=!1,j=0;j<O.length;j++){var X=O[j];if(X.s!==o){var F=Math.abs(w/v.get(X.p,X.s));X.b*=F,X.s*=F;var H=X.b,W=H+X.s;X[m]=W,D.push(W),z=z||E(W),X.hasB&&(D.push(H),z=z||E(H)),X.hasB&&X.b||(V=!0)}}I._extremes[p._id]=b.findExtremes(p,D,{tozero:V,padded:z})}}function x(p){return p._id.charAt(0)}U.exports={crossTraceCalc:function(p,v){for(var g=v.xaxis,y=v.yaxis,m=p._fullLayout,w=p._fullData,d=p.calcdata,S=[],A=[],E=0;E<w.length;E++){var P=w[E];if(P.visible===!0&&_.traceIs(P,"bar")&&P.xaxis===g._id&&P.yaxis===y._id&&(P.orientation==="h"?S.push(d[E]):A.push(d[E]),P._computePh))for(var O=p.calcdata[E],I=0;I<O.length;I++)typeof O[I].ph0=="function"&&(O[I].ph0=O[I].ph0()),typeof O[I].ph1=="function"&&(O[I].ph1=O[I].ph1())}var D={xCat:g.type==="category"||g.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};t(p,g,y,A,D),t(p,y,g,S,D)},setGroupPositions:t}},31508:function(U,C,e){var T=e(38248),k=e(3400),o=e(76308),_=e(24040),b=e(43980),f=e(31147),s=e(55592),t=e(20011),i=e(20832),r=k.coerceFont;function n(l){if(T(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&T(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function a(l,u,h,c,x,p){var v=(p=p||{}).moduleHasSelected!==!1,g=p.moduleHasUnselected!==!1,y=p.moduleHasConstrain!==!1,m=p.moduleHasCliponaxis!==!1,w=p.moduleHasTextangle!==!1,d=p.moduleHasInsideanchor!==!1,S=!!p.hasPathbar,A=Array.isArray(x)||x==="auto",E=A||x==="inside",P=A||x==="outside";if(E||P){var O=r(c,"textfont",h.font),I=k.extendFlat({},O),D=!(l.textfont&&l.textfont.color);if(D&&delete I.color,r(c,"insidetextfont",I),S){var V=k.extendFlat({},O);D&&delete V.color,r(c,"pathbar.textfont",V)}P&&r(c,"outsidetextfont",O),v&&c("selected.textfont.color"),g&&c("unselected.textfont.color"),y&&c("constraintext"),m&&c("cliponaxis"),w&&c("textangle"),c("texttemplate")}E&&d&&c("insidetextanchor")}U.exports={supplyDefaults:function(l,u,h,c){function x(y,m){return k.coerce(l,u,i,y,m)}if(b(l,u,c,x)){f(l,u,c,x),x("xhoverformat"),x("yhoverformat"),x("zorder"),x("orientation",u.x&&!u.y?"h":"v"),x("base"),x("offset"),x("width"),x("text"),x("hovertext"),x("hovertemplate");var p=x("textposition");a(l,0,c,x,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(l,u,x,h,c);var v=(u.marker.line||{}).color,g=_.getComponentMethod("errorbars","supplyDefaults");g(l,u,v||o.defaultLine,{axis:"y"}),g(l,u,v||o.defaultLine,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1},crossTraceDefaults:function(l,u){var h,c;function x(g,y){return k.coerce(c._input,c,i,g,y)}for(var p=0;p<l.length;p++)if((c=l[p]).type==="bar"){h=c._input;var v=x("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=n(v)),u.barmode==="group"&&t(h,c,u,x)}},handleText:a,validateCornerradius:n}},52160:function(U){U.exports=function(C,e,T){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),T.orientation==="h"?(C.label=C.y,C.value=C.x):(C.label=C.x,C.value=C.y),C}},60444:function(U,C,e){var T=e(38248),k=e(49760),o=e(3400).isArrayOrTypedArray;C.coerceString=function(_,b,f){if(typeof b=="string"){if(b||!_.noBlank)return b}else if((typeof b=="number"||b===!0)&&!_.strict)return String(b);return f!==void 0?f:_.dflt},C.coerceNumber=function(_,b,f){if(T(b)){b=+b;var s=_.min,t=_.max;if(!(s!==void 0&&b<s||t!==void 0&&b>t))return b}return f!==void 0?f:_.dflt},C.coerceColor=function(_,b,f){return k(b).isValid()?b:f!==void 0?f:_.dflt},C.coerceEnumerated=function(_,b,f){return _.coerceNumber&&(b=+b),_.values.indexOf(b)!==-1?b:f!==void 0?f:_.dflt},C.getValue=function(_,b){var f;return o(_)?b<_.length&&(f=_[b]):f=_,f},C.getLineWidth=function(_,b){return 0<b.mlw?b.mlw:o(_.marker.line.width)?0:_.marker.line.width}},63400:function(U,C,e){var T=e(93024),k=e(24040),o=e(76308),_=e(3400).fillText,b=e(60444).getLineWidth,f=e(54460).hoverLabelText,s=e(39032).BADNUM;function t(r,n,a,l,u){var h,c,x,p,v,g,y,m=r.cd,w=m[0].trace,d=m[0].t,S=l==="closest",A=w.type==="waterfall",E=r.maxHoverDistance,P=r.maxSpikeDistance;w.orientation==="h"?(h=a,c=n,x="y",p="x",v=te,g=W):(h=n,c=a,x="x",p="y",g=te,v=W);var O=w[x+"period"],I=S||O;function D(he){return z(he,-1)}function V(he){return z(he,1)}function z(he,pe){var ge=he.w;return he[x]+pe*ge/2}function j(he){return he[x+"End"]-he[x+"Start"]}var X=S?D:O?function(he){return he.p-j(he)/2}:function(he){return Math.min(D(he),he.p-d.bardelta/2)},F=S?V:O?function(he){return he.p+j(he)/2}:function(he){return Math.max(V(he),he.p+d.bardelta/2)};function H(he,pe,ge){return u.finiteRange&&(ge=0),T.inbox(he-h,pe-h,ge+Math.min(1,Math.abs(pe-he)/y)-1)}function W(he){return H(X(he),F(he),E)}function ie(he){var pe=he[p];if(A){var ge=Math.abs(he.rawS)||0;c>0?pe+=ge:c<0&&(pe-=ge)}return pe}function te(he){var pe=c,ge=he.b,ye=ie(he);return T.inbox(ge-pe,ye-pe,E+(ye-pe)/(ye-ge)-1)}var Q=r[x+"a"],ne=r[p+"a"];y=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));var $=T.getDistanceFunction(l,v,g,function(he){return(v(he)+g(he))/2});if(T.getClosest(m,$,r),r.index!==!1&&m[r.index].p!==s){I||(X=function(he){return Math.min(D(he),he.p-d.bargroupwidth/2)},F=function(he){return Math.max(V(he),he.p+d.bargroupwidth/2)});var J=m[r.index],re=w.base?J.b+J.s:J.s;r[p+"0"]=r[p+"1"]=ne.c2p(J[p],!0),r[p+"LabelVal"]=re;var se=d.extents[d.extents.round(J.p)];r[x+"0"]=Q.c2p(S?X(J):se[0],!0),r[x+"1"]=Q.c2p(S?F(J):se[1],!0);var ue=J.orig_p!==void 0;return r[x+"LabelVal"]=ue?J.orig_p:J.p,r.labelLabel=f(Q,r[x+"LabelVal"],w[x+"hoverformat"]),r.valueLabel=f(ne,r[p+"LabelVal"],w[p+"hoverformat"]),r.baseLabel=f(ne,J.b,w[p+"hoverformat"]),r.spikeDistance=(function(he){var pe=c,ge=he.b,ye=ie(he);return T.inbox(ge-pe,ye-pe,P+(ye-pe)/(ye-ge)-1)}(J)+function(he){return H(D(he),V(he),P)}(J))/2,r[x+"Spike"]=Q.c2p(J.p,!0),_(J,w,r),r.hovertemplate=w.hovertemplate,r}}function i(r,n){var a=n.mcc||r.marker.color,l=n.mlcc||r.marker.line.color,u=b(r,n);return o.opacity(a)?a:o.opacity(l)&&u?l:void 0}U.exports={hoverPoints:function(r,n,a,l,u){var h=t(r,n,a,l,u);if(h){var c=h.cd,x=c[0].trace,p=c[h.index];return h.color=i(x,p),k.getComponentMethod("errorbars","hoverInfo")(p,x,h),[h]}},hoverOnBars:t,getTraceColor:i}},51132:function(U,C,e){U.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(U,C,e){var T=e(24040),k=e(54460),o=e(3400),_=e(39324),b=e(31508).validateCornerradius;U.exports=function(f,s,t){function i(v,g){return o.coerce(f,s,_,v,g)}for(var r=!1,n=!1,a=!1,l={},u=i("barmode"),h=0;h<t.length;h++){var c=t[h];if(T.traceIs(c,"bar")&&c.visible){if(r=!0,u==="group"){var x=c.xaxis+c.yaxis;l[x]&&(a=!0),l[x]=!0}c.visible&&c.type==="histogram"&&k.getFromId({_fullLayout:s},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(n=!0)}}if(r){u!=="overlay"&&i("barnorm"),i("bargap",n&&!a?0:.2),i("bargroupgap");var p=i("barcornerradius");s.barcornerradius=b(p)}else delete s.barmode}},98184:function(U,C,e){var T=e(33428),k=e(38248),o=e(3400),_=e(72736),b=e(76308),f=e(43616),s=e(24040),t=e(54460).tickText,i=e(82744),r=i.recordMinTextSize,n=i.clearMinTextSize,a=e(60100),l=e(60444),u=e(78048),h=e(20832),c=h.text,x=h.textposition,p=e(10624).appendArrayPointValue,v=u.TEXTPAD;function g(I){return I.id}function y(I){if(I.ids)return g}function m(I){return(I>0)-(I<0)}function w(I,D){return I<D?1:-1}function d(I,D,V,z){var j;return!D.uniformtext.mode&&S(V)?(z&&(j=z()),I.transition().duration(V.duration).ease(V.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})):I}function S(I){return I&&I.duration>0}function A(I,D,V,z,j){return!(I<0||D<0)&&(V<=I&&z<=D||V<=D&&z<=I||(j?I>=V*(D/z):D>=z*(I/V)))}function E(I){return I==="auto"?0:I}function P(I,D){var V=Math.PI/180*D,z=Math.abs(Math.sin(V)),j=Math.abs(Math.cos(V));return{x:I.width*j+I.height*z,y:I.width*z+I.height*j}}function O(I,D,V,z,j,X){var F=!!X.isHorizontal,H=!!X.constrained,W=X.angle||0,ie=X.anchor,te=ie==="end",Q=ie==="start",ne=((X.leftToRight||0)+1)/2,$=1-ne,J=X.hasB,re=X.r,se=X.overhead,ue=j.width,he=j.height,pe=Math.abs(D-I),ge=Math.abs(z-V),ye=pe>2*v&&ge>2*v?v:0;pe-=2*ye,ge-=2*ye;var be=E(W);W!=="auto"||ue<=pe&&he<=ge||!(ue>pe||he>ge)||(ue>ge||he>pe)&&ue<he==pe<ge||(be+=90);var Te,Se,Fe=P(j,be);if(re&&re-se>v){var xe=function(Re,ve,ke,Ee,De,Pe,Ue,We,$e){var ot,st,mt,_t,yt=Math.max(0,Math.abs(ve-Re)-2*v),it=Math.max(0,Math.abs(Ee-ke)-2*v),tt=Pe-v,Pt=Ue?tt-Math.sqrt(tt*tt-(tt-Ue)*(tt-Ue)):tt,Rt=$e?2*tt:We?tt-Ue:2*Pt,Ft=$e?2*tt:We?2*Pt:tt-Ue;return De.y/De.x>=it/(yt-Rt)?_t=it/De.y:De.y/De.x<=(it-Ft)/yt?_t=yt/De.x:!$e&&We?(ot=De.x*De.x+De.y*De.y/4,mt=(yt-tt)*(yt-tt)+(it/2-tt)*(it/2-tt)-tt*tt,_t=(-(st=-2*De.x*(yt-tt)-De.y*(it/2-tt))+Math.sqrt(st*st-4*ot*mt))/(2*ot)):$e?(ot=(De.x*De.x+De.y*De.y)/4,mt=(yt/2-tt)*(yt/2-tt)+(it/2-tt)*(it/2-tt)-tt*tt,_t=(-(st=-De.x*(yt/2-tt)-De.y*(it/2-tt))+Math.sqrt(st*st-4*ot*mt))/(2*ot)):(ot=De.x*De.x/4+De.y*De.y,mt=(yt/2-tt)*(yt/2-tt)+(it-tt)*(it-tt)-tt*tt,_t=(-(st=-De.x*(yt/2-tt)-2*De.y*(it-tt))+Math.sqrt(st*st-4*ot*mt))/(2*ot)),{scale:_t=Math.min(1,_t),pad:We?Math.max(0,tt-Math.sqrt(Math.max(0,tt*tt-(tt-(it-De.y*_t)/2)*(tt-(it-De.y*_t)/2)))-Ue):Math.max(0,tt-Math.sqrt(Math.max(0,tt*tt-(tt-(yt-De.x*_t)/2)*(tt-(yt-De.x*_t)/2)))-Ue)}}(I,D,V,z,Fe,re,se,F,J);Te=xe.scale,Se=xe.pad}else Te=1,H&&(Te=Math.min(1,pe/Fe.x,ge/Fe.y)),Se=0;var le=j.left*$+j.right*ne,oe=(j.top+j.bottom)/2,de=(I+v)*$+(D-v)*ne,Ce=(V+z)/2,_e=0,Ae=0;if(Q||te){var Le=(F?Fe.x:Fe.y)/2;re&&(te||J)&&(ye+=Se);var ze=F?w(I,D):w(V,z);F?Q?(de=I+ze*ye,_e=-ze*Le):(de=D-ze*ye,_e=ze*Le):Q?(Ce=V+ze*ye,Ae=-ze*Le):(Ce=z-ze*ye,Ae=ze*Le)}return{textX:le,textY:oe,targetX:de,targetY:Ce,anchorX:_e,anchorY:Ae,scale:Te,rotate:be}}U.exports={plot:function(I,D,V,z,j,X){var F=D.xaxis,H=D.yaxis,W=I._fullLayout,ie=I._context.staticPlot;j||(j={mode:W.barmode,norm:W.barmode,gap:W.bargap,groupgap:W.bargroupgap},n("bar",W));var te=o.makeTraceGroups(z,V,"trace bars").each(function(Q){var ne=T.select(this),$=Q[0].trace,J=Q[0].t,re=$.type==="waterfall",se=$.type==="funnel",ue=$.type==="histogram",he=$.type==="bar",pe=he||se,ge=0;re&&$.connector.visible&&$.connector.mode==="between"&&(ge=$.connector.line.width/2);var ye=$.orientation==="h",be=S(j),Te=o.ensureSingle(ne,"g","points"),Se=y($),Fe=Te.selectAll("g.point").data(o.identity,Se);Fe.enter().append("g").classed("point",!0),Fe.exit().remove(),Fe.each(function(le,oe){var de,Ce,_e=T.select(this),Ae=function(ut,xt,bt,qe){var je=[],lt=[],gt=qe?xt:bt,dt=qe?bt:xt;return je[0]=gt.c2p(ut.s0,!0),lt[0]=dt.c2p(ut.p0,!0),je[1]=gt.c2p(ut.s1,!0),lt[1]=dt.c2p(ut.p1,!0),qe?[je,lt]:[lt,je]}(le,F,H,ye),Le=Ae[0][0],ze=Ae[0][1],Re=Ae[1][0],ve=Ae[1][1],ke=(ye?ze-Le:ve-Re)==0;if(ke&&pe&&l.getLineWidth($,le)&&(ke=!1),ke||(ke=!(k(Le)&&k(ze)&&k(Re)&&k(ve))),le.isBlank=ke,ke&&(ye?ze=Le:ve=Re),ge&&!ke&&(ye?(Le-=w(Le,ze)*ge,ze+=w(Le,ze)*ge):(Re-=w(Re,ve)*ge,ve+=w(Re,ve)*ge)),$.type==="waterfall"){if(!ke){var Ee=$[le.dir].marker;de=Ee.line.width,Ce=Ee.color}}else de=l.getLineWidth($,le),Ce=le.mc||$.marker.color;function De(ut){var xt=T.round(de/2%1,2);return j.gap===0&&j.groupgap===0?T.round(Math.round(ut)-xt,2):ut}var Pe=b.opacity(Ce)<1||de>.01?De:function(ut,xt,bt){return bt&&ut===xt?ut:Math.abs(ut-xt)>=2?De(ut):ut>xt?Math.ceil(ut):Math.floor(ut)};I._context.staticPlot||(Le=Pe(Le,ze,ye),ze=Pe(ze,Le,ye),Re=Pe(Re,ve,!ye),ve=Pe(ve,Re,!ye));var Ue,We=ye?F.c2p:H.c2p;Ue=le.s0>0?le._sMax:le.s0<0?le._sMin:le.s1>0?le._sMax:le._sMin;var $e,ot,st=he||ue?function(ut,xt){if(!ut)return 0;var bt,qe=Math.abs(ye?ve-Re:ze-Le),je=Math.abs(ye?ze-Le:ve-Re),lt=Pe(Math.abs(We(Ue,!0)-We(0,!0))),gt=le.hasB?Math.min(qe/2,je/2):Math.min(qe/2,lt);return bt=xt==="%"?qe*(Math.min(50,ut)/100):ut,Pe(Math.max(Math.min(bt,gt),0))}(J.cornerradiusvalue,J.cornerradiusform):0,mt="M"+Le+","+Re+"V"+ve+"H"+ze+"V"+Re+"Z",_t=0;if(st&&le.s){var yt=m(le.s0)===0||m(le.s)===m(le.s0)?le.s1:le.s0;if((_t=Pe(le.hasB?0:Math.abs(We(Ue,!0)-We(yt,!0))))<st){var it=w(Le,ze),tt=w(Re,ve),Pt=it===-tt?1:0;if(ye)if(le.hasB)$e="M"+(Le+st*it)+","+Re+"A "+st+","+st+" 0 0 "+Pt+" "+Le+","+(Re+st*tt)+"V"+(ve-st*tt)+"A "+st+","+st+" 0 0 "+Pt+" "+(Le+st*it)+","+ve+"H"+(ze-st*it)+"A "+st+","+st+" 0 0 "+Pt+" "+ze+","+(ve-st*tt)+"V"+(Re+st*tt)+"A "+st+","+st+" 0 0 "+Pt+" "+(ze-st*it)+","+Re+"Z";else{var Rt=(ot=Math.abs(ze-Le)+_t)<st?st-Math.sqrt(ot*(2*st-ot)):0,Ft=_t>0?Math.sqrt(_t*(2*st-_t)):0,Ot=it>0?Math.max:Math.min;$e="M"+Le+","+Re+"V"+(ve-Rt*tt)+"H"+Ot(ze-(st-_t)*it,Le)+"A "+st+","+st+" 0 0 "+Pt+" "+ze+","+(ve-st*tt-Ft)+"V"+(Re+st*tt+Ft)+"A "+st+","+st+" 0 0 "+Pt+" "+Ot(ze-(st-_t)*it,Le)+","+(Re+Rt*tt)+"Z"}else if(le.hasB)$e="M"+(Le+st*it)+","+Re+"A "+st+","+st+" 0 0 "+Pt+" "+Le+","+(Re+st*tt)+"V"+(ve-st*tt)+"A "+st+","+st+" 0 0 "+Pt+" "+(Le+st*it)+","+ve+"H"+(ze-st*it)+"A "+st+","+st+" 0 0 "+Pt+" "+ze+","+(ve-st*tt)+"V"+(Re+st*tt)+"A "+st+","+st+" 0 0 "+Pt+" "+(ze-st*it)+","+Re+"Z";else{var Xe=(ot=Math.abs(ve-Re)+_t)<st?st-Math.sqrt(ot*(2*st-ot)):0,Je=_t>0?Math.sqrt(_t*(2*st-_t)):0,Ve=tt>0?Math.max:Math.min;$e="M"+(Le+Xe*it)+","+Re+"V"+Ve(ve-(st-_t)*tt,Re)+"A "+st+","+st+" 0 0 "+Pt+" "+(Le+st*it-Je)+","+ve+"H"+(ze-st*it+Je)+"A "+st+","+st+" 0 0 "+Pt+" "+(ze-Xe*it)+","+Ve(ve-(st-_t)*tt,Re)+"V"+Re+"Z"}}else $e=mt}else $e=mt;var Ke=d(o.ensureSingle(_e,"path"),W,j,X);if(Ke.style("vector-effect",ie?"none":"non-scaling-stroke").attr("d",isNaN((ze-Le)*(ve-Re))||ke&&I._context.staticPlot?"M0,0Z":$e).call(f.setClipUrl,D.layerClipId,I),!W.uniformtext.mode&&be){var ft=f.makePointStyleFns($);f.singlePointStyle(le,Ke,$,ft,I)}(function(ut,xt,bt,qe,je,lt,gt,dt,at,kt,wt,Et,Tt){var At,Nt=xt.xaxis,Wt=xt.yaxis,on=ut._fullLayout;function cn(dr,Kt,bn){return o.ensureSingle(dr,"text").text(Kt).attr({class:"bartext bartext-"+At,"text-anchor":"middle","data-notex":1}).call(f.font,bn).call(_.convertToTspans,ut)}var un=qe[0].trace,Xt=un.orientation==="h",tn=function(dr,Kt,bn,Dt,Ut){var en,gn=Kt[0].trace;return en=gn.texttemplate?function(vn,Mn,yn,hn,qt){var Vt=Mn[0].trace,an=o.castOption(Vt,yn,"texttemplate");if(!an)return"";var En,Fn,Rn,jn,tr=Vt.type==="histogram",Zn=Vt.type==="waterfall",nr=Vt.type==="funnel",Yn=Vt.orientation==="h";function Jn(Nr){return t(jn,jn.c2l(Nr),!0).text}Yn?(En="y",Fn=qt,Rn="x",jn=hn):(En="x",Fn=hn,Rn="y",jn=qt);var cr,Tr=Mn[yn],gr={};gr.label=Tr.p,gr.labelLabel=gr[En+"Label"]=(cr=Tr.p,t(Fn,Fn.c2l(cr),!0).text);var ar=o.castOption(Vt,Tr.i,"text");(ar===0||ar)&&(gr.text=ar),gr.value=Tr.s,gr.valueLabel=gr[Rn+"Label"]=Jn(Tr.s);var xr={};p(xr,Vt,Tr.i),(tr||xr.x===void 0)&&(xr.x=Yn?gr.value:gr.label),(tr||xr.y===void 0)&&(xr.y=Yn?gr.label:gr.value),(tr||xr.xLabel===void 0)&&(xr.xLabel=Yn?gr.valueLabel:gr.labelLabel),(tr||xr.yLabel===void 0)&&(xr.yLabel=Yn?gr.labelLabel:gr.valueLabel),Zn&&(gr.delta=+Tr.rawS||Tr.s,gr.deltaLabel=Jn(gr.delta),gr.final=Tr.v,gr.finalLabel=Jn(gr.final),gr.initial=gr.final-gr.delta,gr.initialLabel=Jn(gr.initial)),nr&&(gr.value=Tr.s,gr.valueLabel=Jn(gr.value),gr.percentInitial=Tr.begR,gr.percentInitialLabel=o.formatPercent(Tr.begR),gr.percentPrevious=Tr.difR,gr.percentPreviousLabel=o.formatPercent(Tr.difR),gr.percentTotal=Tr.sumR,gr.percenTotalLabel=o.formatPercent(Tr.sumR));var Cr=o.castOption(Vt,Tr.i,"customdata");return Cr&&(gr.customdata=Cr),o.texttemplateString(an,gr,vn._d3locale,xr,gr,Vt._meta||{})}(dr,Kt,bn,Dt,Ut):gn.textinfo?function(vn,Mn,yn,hn){var qt=vn[0].trace,Vt=qt.orientation==="h",an=qt.type==="waterfall",En=qt.type==="funnel";function Fn(Cr){return t(Vt?yn:hn,+Cr,!0).text}var Rn,jn,tr=qt.textinfo,Zn=vn[Mn],nr=tr.split("+"),Yn=[],Jn=function(Cr){return nr.indexOf(Cr)!==-1};if(Jn("label")&&Yn.push((jn=vn[Mn].p,t(Vt?hn:yn,jn,!0).text)),Jn("text")&&((Rn=o.castOption(qt,Zn.i,"text"))===0||Rn)&&Yn.push(Rn),an){var cr=+Zn.rawS||Zn.s,Tr=Zn.v,gr=Tr-cr;Jn("initial")&&Yn.push(Fn(gr)),Jn("delta")&&Yn.push(Fn(cr)),Jn("final")&&Yn.push(Fn(Tr))}if(En){Jn("value")&&Yn.push(Fn(Zn.s));var ar=0;Jn("percent initial")&&ar++,Jn("percent previous")&&ar++,Jn("percent total")&&ar++;var xr=ar>1;Jn("percent initial")&&(Rn=o.formatPercent(Zn.begR),xr&&(Rn+=" of initial"),Yn.push(Rn)),Jn("percent previous")&&(Rn=o.formatPercent(Zn.difR),xr&&(Rn+=" of previous"),Yn.push(Rn)),Jn("percent total")&&(Rn=o.formatPercent(Zn.sumR),xr&&(Rn+=" of total"),Yn.push(Rn))}return Yn.join("<br>")}(Kt,bn,Dt,Ut):l.getValue(gn.text,bn),l.coerceString(c,en)}(on,qe,je,Nt,Wt);At=function(dr,Kt){var bn=l.getValue(dr.textposition,Kt);return l.coerceEnumerated(x,bn)}(un,je);var kn=Et.mode==="stack"||Et.mode==="relative",fn=qe[je],Qt=!kn||fn._outmost,pn=fn.hasB,nn=kt&&kt-wt>v;if(tn&&At!=="none"&&(!fn.isBlank&&lt!==gt&&dt!==at||At!=="auto"&&At!=="inside")){var sn=on.font,Sn=a.getBarColor(qe[je],un),wn=a.getInsideTextFont(un,je,sn,Sn),Dn=a.getOutsideTextFont(un,je,sn),Tn=un.insidetextanchor||"end",Pn=bt.datum();Xt?Nt.type==="log"&&Pn.s0<=0&&(lt=Nt.range[0]<Nt.range[1]?0:Nt._length):Wt.type==="log"&&Pn.s0<=0&&(dt=Wt.range[0]<Wt.range[1]?Wt._length:0);var Nn,$n,pr,Hn,Qn,er=Math.abs(gt-lt),ur=Math.abs(at-dt),$t=er-2*v,rn=ur-2*v;if(At==="outside"&&(Qt||fn.hasB||(At="inside")),At==="auto")if(Qt){At="inside",Nn=cn(bt,tn,Qn=o.ensureUniformFontSize(ut,wn)),pr=($n=f.bBox(Nn.node())).width,Hn=$n.height;var On,xn=pr>0&&Hn>0;On=nn?pn?A($t-2*kt,rn,pr,Hn,Xt)||A($t,rn-2*kt,pr,Hn,Xt):Xt?A($t-(kt-wt),rn,pr,Hn,Xt)||A($t,rn-2*(kt-wt),pr,Hn,Xt):A($t,rn-(kt-wt),pr,Hn,Xt)||A($t-2*(kt-wt),rn,pr,Hn,Xt):A($t,rn,pr,Hn,Xt),xn&&On?At="inside":(At="outside",Nn.remove(),Nn=null)}else At="inside";if(!Nn){var In=(Nn=cn(bt,tn,Qn=o.ensureUniformFontSize(ut,At==="outside"?Dn:wn))).attr("transform");if(Nn.attr("transform",""),pr=($n=f.bBox(Nn.node())).width,Hn=$n.height,Nn.attr("transform",In),pr<=0||Hn<=0)return void Nn.remove()}var Gn,qn=un.textangle;Gn=At==="outside"?function(dr,Kt,bn,Dt,Ut,en){var gn,vn=!!en.isHorizontal,Mn=!!en.constrained,yn=en.angle||0,hn=Ut.width,qt=Ut.height,Vt=Math.abs(Kt-dr),an=Math.abs(Dt-bn);gn=vn?an>2*v?v:0:Vt>2*v?v:0;var En=1;Mn&&(En=vn?Math.min(1,an/qt):Math.min(1,Vt/hn));var Fn=E(yn),Rn=P(Ut,Fn),jn=(vn?Rn.x:Rn.y)/2,tr=(Ut.left+Ut.right)/2,Zn=(Ut.top+Ut.bottom)/2,nr=(dr+Kt)/2,Yn=(bn+Dt)/2,Jn=0,cr=0,Tr=vn?w(Kt,dr):w(bn,Dt);return vn?(nr=Kt-Tr*gn,Jn=Tr*jn):(Yn=Dt+Tr*gn,cr=-Tr*jn),{textX:tr,textY:Zn,targetX:nr,targetY:Yn,anchorX:Jn,anchorY:cr,scale:En,rotate:Fn}}(lt,gt,dt,at,$n,{isHorizontal:Xt,constrained:un.constraintext==="both"||un.constraintext==="outside",angle:qn}):O(lt,gt,dt,at,$n,{isHorizontal:Xt,constrained:un.constraintext==="both"||un.constraintext==="inside",angle:qn,anchor:Tn,hasB:pn,r:kt,overhead:wt}),Gn.fontSize=Qn.size,r(un.type==="histogram"?"bar":un.type,Gn,on),fn.transform=Gn;var ir=d(Nn,on,Et,Tt);o.setTransormAndDisplay(ir,Gn)}else bt.select("text").remove()})(I,D,_e,Q,oe,Le,ze,Re,ve,st,_t,j,X),D.layerClipId&&f.hideOutsideRangePoint(le,_e.select("text"),F,H,$.xcalendar,$.ycalendar)});var xe=$.cliponaxis===!1;f.setClipUrl(ne,xe?null:D.layerClipId,I)});s.getComponentMethod("errorbars","plot")(I,te,D,j)},toMoveInsideBar:O}},45784:function(U){function C(e,T,k,o,_){var b=T.c2p(o?e.s0:e.p0,!0),f=T.c2p(o?e.s1:e.p1,!0),s=k.c2p(o?e.p0:e.s0,!0),t=k.c2p(o?e.p1:e.s1,!0);return _?[(b+f)/2,(s+t)/2]:o?[f,(s+t)/2]:[(b+f)/2,t]}U.exports=function(e,T){var k,o=e.cd,_=e.xaxis,b=e.yaxis,f=o[0].trace,s=f.type==="funnel",t=f.orientation==="h",i=[];if(T===!1)for(k=0;k<o.length;k++)o[k].selected=0;else for(k=0;k<o.length;k++){var r=o[k],n="ct"in r?r.ct:C(r,_,b,t,s);T.contains(n,!1,k,e)?(i.push({pointNumber:k,x:_.c2d(r.x),y:b.c2d(r.y)}),r.selected=1):r.selected=0}return i}},72592:function(U,C,e){U.exports=k;var T=e(3400).distinctVals;function k(o,_){this.traces=o,this.sepNegVal=_.sepNegVal,this.overlapNoMerge=_.overlapNoMerge;for(var b=1/0,f=_.posAxis._id.charAt(0),s=[],t=0;t<o.length;t++){for(var i=o[t],r=0;r<i.length;r++){var n=i[r],a=n.p;a===void 0&&(a=n[f]),a!==void 0&&s.push(a)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=s;var l=T(s);this.distinctPositions=l.vals,l.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(_.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(o,_){var b=this.getLabel(o,_),f=this.bins[b]||0;return this.bins[b]=f+_,f},k.prototype.get=function(o,_){var b=this.getLabel(o,_);return this.bins[b]||0},k.prototype.getLabel=function(o,_){return(_<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?o:Math.round(o/this.binWidth))}},60100:function(U,C,e){var T=e(33428),k=e(76308),o=e(43616),_=e(3400),b=e(24040),f=e(82744).resizeText,s=e(20832),t=s.textfont,i=s.insidetextfont,r=s.outsidetextfont,n=e(60444);function a(g,y,m){o.pointStyle(g.selectAll("path"),y,m),l(g,y,m)}function l(g,y,m){g.selectAll("text").each(function(w){var d=T.select(this),S=_.ensureUniformFontSize(m,u(d,w,y,m));o.font(d,S)})}function u(g,y,m,w){var d=w._fullLayout.font,S=m.textfont;if(g.classed("bartext-inside")){var A=v(y,m);S=c(m,y.i,d,A)}else g.classed("bartext-outside")&&(S=x(m,y.i,d));return S}function h(g,y,m){return p(t,g.textfont,y,m)}function c(g,y,m,w){var d=h(g,y,m);return(g._input.textfont===void 0||g._input.textfont.color===void 0||Array.isArray(g.textfont.color)&&g.textfont.color[y]===void 0)&&(d={color:k.contrast(w),family:d.family,size:d.size,weight:d.weight,style:d.style,variant:d.variant,textcase:d.textcase,lineposition:d.lineposition,shadow:d.shadow}),p(i,g.insidetextfont,y,d)}function x(g,y,m){var w=h(g,y,m);return p(r,g.outsidetextfont,y,w)}function p(g,y,m,w){y=y||{};var d=n.getValue(y.family,m),S=n.getValue(y.size,m),A=n.getValue(y.color,m),E=n.getValue(y.weight,m),P=n.getValue(y.style,m),O=n.getValue(y.variant,m),I=n.getValue(y.textcase,m),D=n.getValue(y.lineposition,m),V=n.getValue(y.shadow,m);return{family:n.coerceString(g.family,d,w.family),size:n.coerceNumber(g.size,S,w.size),color:n.coerceColor(g.color,A,w.color),weight:n.coerceString(g.weight,E,w.weight),style:n.coerceString(g.style,P,w.style),variant:n.coerceString(g.variant,O,w.variant),textcase:n.coerceString(g.variant,I,w.textcase),lineposition:n.coerceString(g.variant,D,w.lineposition),shadow:n.coerceString(g.variant,V,w.shadow)}}function v(g,y){return y.type==="waterfall"?y[g.dir].marker.color:g.mcc||g.mc||y.marker.color}U.exports={style:function(g){var y=T.select(g).selectAll('g[class^="barlayer"]').selectAll("g.trace");f(g,y,"bar");var m=y.size(),w=g._fullLayout;y.style("opacity",function(d){return d[0].trace.opacity}).each(function(d){(w.barmode==="stack"&&m>1||w.bargap===0&&w.bargroupgap===0&&!d[0].trace.marker.line.width)&&T.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(d){a(T.select(this),d[0].trace,g)}),b.getComponentMethod("errorbars","style")(y)},styleTextPoints:l,styleOnSelect:function(g,y,m){var w=y[0].trace;w.selectedpoints?function(d,S,A){o.selectedPointStyle(d.selectAll("path"),S),function(E,P,O){E.each(function(I){var D,V=T.select(this);if(I.selected){D=_.ensureUniformFontSize(O,u(V,I,P,O));var z=P.selected.textfont&&P.selected.textfont.color;z&&(D.color=z),o.font(V,D)}else o.selectedTextStyle(V,P)})}(d.selectAll("text"),S,A)}(m,w,g):(a(m,w,g),b.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:x,getBarColor:v,resizeText:f}},55592:function(U,C,e){var T=e(76308),k=e(94288).hasColorscale,o=e(27260),_=e(3400).coercePattern;U.exports=function(b,f,s,t,i){var r=s("marker.color",t),n=k(b,"marker");n&&o(b,f,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",T.defaultLine),k(b,"marker.line")&&o(b,f,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),_(s,"marker.pattern",r,n),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(U,C,e){var T=e(33428),k=e(3400);function o(_){return"_"+_+"Text_minsize"}U.exports={recordMinTextSize:function(_,b,f){if(f.uniformtext.mode){var s=o(_),t=f.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,f[s]=f[s]||1/0,b.hide||(f[s]=Math.min(f[s],Math.max(i,t)))}},clearMinTextSize:function(_,b){b[o(_)]=void 0},resizeText:function(_,b,f){var s=_._fullLayout,t=s["_"+f+"Text_minsize"];if(t){var i,r=s.uniformtext.mode==="hide";switch(f){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(n){var a=n.transform;if(a){a.scale=r&&a.hide?0:t/a.fontSize;var l=T.select(this).select("text");k.setTransormAndDisplay(l,a)}})}}}},78100:function(U,C,e){var T,k=e(21776).Ks,o=e(92880).extendFlat,_=e(8319),b=e(20832);U.exports={r:_.r,theta:_.theta,r0:_.r0,dr:_.dr,theta0:_.theta0,dtheta:_.dtheta,thetaunit:_.thetaunit,base:o({},b.base,{}),offset:o({},b.offset,{}),width:o({},b.width,{}),text:o({},b.text,{}),hovertext:o({},b.hovertext,{}),marker:(T=o({},b.marker),delete T.cornerradius,T),hoverinfo:_.hoverinfo,hovertemplate:k(),selected:b.selected,unselected:b.unselected}},47056:function(U,C,e){var T=e(94288).hasColorscale,k=e(47128),o=e(3400).isArrayOrTypedArray,_=e(84664),b=e(96376).setGroupPositions,f=e(4500),s=e(24040).traceIs,t=e(3400).extendFlat;U.exports={calc:function(i,r){for(var n=i._fullLayout,a=r.subplot,l=n[a].radialaxis,u=n[a].angularaxis,h=l.makeCalcdata(r,"r"),c=u.makeCalcdata(r,"theta"),x=r._length,p=new Array(x),v=h,g=c,y=0;y<x;y++)p[y]={p:g[y],s:v[y]};function m(w){var d=r[w];d!==void 0&&(r["_"+w]=o(d)?u.makeCalcdata(r,w):u.d2c(d,r.thetaunit))}return u.type==="linear"&&(m("width"),m("offset")),T(r,"marker")&&k(i,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),T(r,"marker.line")&&k(i,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),_(p,r),f(p,r),p},crossTraceCalc:function(i,r,n){for(var a=i.calcdata,l=[],u=0;u<a.length;u++){var h=a[u],c=h[0].trace;c.visible===!0&&s(c,"bar")&&c.subplot===n&&l.push(h)}var x=t({},r.radialaxis,{_id:"x"}),p=r.angularaxis;b(i,p,x,l,{mode:r.barmode,norm:r.barnorm,gap:r.bargap,groupgap:r.bargroupgap})}}},70384:function(U,C,e){var T=e(3400),k=e(85968).handleRThetaDefaults,o=e(55592),_=e(78100);U.exports=function(b,f,s,t){function i(r,n){return T.coerce(b,f,_,r,n)}k(b,f,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),o(b,f,i,s,t),T.coerceSelectionMarkerOpacity(f,i)):f.visible=!1}},68896:function(U,C,e){var T=e(93024),k=e(3400),o=e(63400).getTraceColor,_=k.fillText,b=e(8504).makeHoverPointText,f=e(57384).isPtInsidePolygon;U.exports=function(s,t,i){var r=s.cd,n=r[0].trace,a=s.subplot,l=a.radialAxis,u=a.angularAxis,h=a.vangles,c=h?f:k.isPtInsideSector,x=s.maxHoverDistance,p=u._period||2*Math.PI,v=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),g=Math.atan2(i,t);if(l.range[0]>l.range[1]&&(g+=Math.PI),T.getClosest(r,function(w){return c(v,g,[w.rp0,w.rp1],[w.thetag0,w.thetag1],h)?x+Math.min(1,Math.abs(w.thetag1-w.thetag0)/p)-1+(w.rp1-v)/(w.rp1-w.rp0)-1:1/0},s),s.index!==!1){var y=r[s.index];s.x0=s.x1=y.ct[0],s.y0=s.y1=y.ct[1];var m=k.extendFlat({},y,{r:y.s,theta:y.p});return _(y,n,s),b(m,n,a,s),s.hovertemplate=n.hovertemplate,s.color=o(n,y),s.xLabelVal=s.yLabelVal=void 0,y.s<0&&(s.idealAlign="left"),[s]}}},94456:function(U,C,e){U.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(U,C,e){var T=e(3400),k=e(9320);U.exports=function(o,_,b){var f,s={};function t(n,a){return T.coerce(o[f]||{},_[f],k,n,a)}for(var i=0;i<b.length;i++){var r=b[i];r.type==="barpolar"&&r.visible===!0&&(s[f=r.subplot]||(t("barmode"),t("bargap"),s[f]=1))}}},42040:function(U,C,e){var T=e(33428),k=e(38248),o=e(3400),_=e(43616),b=e(57384);U.exports=function(f,s,t){var i=f._context.staticPlot,r=s.xaxis,n=s.yaxis,a=s.radialAxis,l=s.angularAxis,u=function(c){var x=c.cxx,p=c.cyy;return c.vangles?function(v,g,y,m){var w,d;o.angleDelta(y,m)>0?(w=y,d=m):(w=m,d=y);var S=[b.findEnclosingVertexAngles(w,c.vangles)[0],(w+d)/2,b.findEnclosingVertexAngles(d,c.vangles)[1]];return b.pathPolygonAnnulus(v,g,w,d,S,x,p)}:function(v,g,y,m){return o.pathAnnulus(v,g,y,m,x,p)}}(s),h=s.layers.frontplot.select("g.barlayer");o.makeTraceGroups(h,t,"trace bars").each(function(){var c=T.select(this),x=o.ensureSingle(c,"g","points").selectAll("g.point").data(o.identity);x.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),x.exit().remove(),x.each(function(p){var v,g=T.select(this),y=p.rp0=a.c2p(p.s0),m=p.rp1=a.c2p(p.s1),w=p.thetag0=l.c2g(p.p0),d=p.thetag1=l.c2g(p.p1);if(k(y)&&k(m)&&k(w)&&k(d)&&y!==m&&w!==d){var S=a.c2g(p.s1),A=(w+d)/2;p.ct=[r.c2p(S*Math.cos(A)),n.c2p(S*Math.sin(A))],v=u(y,m,w,d)}else v="M0,0Z";o.ensureSingle(g,"path").attr("d",v)}),_.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,f)})}},63188:function(U,C,e){var T=e(98304),k=e(52904),o=e(20832),_=e(22548),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(92880).extendFlat,t=k.marker,i=t.line;U.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},t.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},t.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},t.angle,{arrayOk:!1,editType:"calc"}),size:s({},t.size,{arrayOk:!1,editType:"calc"}),color:s({},t.color,{arrayOk:!1,editType:"style"}),line:{color:s({},i.color,{arrayOk:!1,dflt:_.defaultLine,editType:"style"}),width:s({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:T(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:k.selected.marker,editType:"style"},unselected:{marker:k.unselected.marker,editType:"style"},text:s({},k.text,{}),hovertext:s({},k.hovertext,{}),hovertemplate:f({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:k.zorder}},62555:function(U,C,e){var T=e(38248),k=e(54460),o=e(1220),_=e(3400),b=e(39032).BADNUM,f=_._;U.exports=function(c,x){var p,v,g,y,m,w,d,S=c._fullLayout,A=k.getFromId(c,x.xaxis||"x"),E=k.getFromId(c,x.yaxis||"y"),P=[],O=x.type==="violin"?"_numViolins":"_numBoxes";x.orientation==="h"?(g=A,y="x",m=E,w="y",d=!!x.yperiodalignment):(g=E,y="y",m=A,w="x",d=!!x.xperiodalignment);var I,D,V,z,j,X,F=function(De,Pe,Ue,We){var $e,ot=Pe+"0"in De;if(Pe in De||ot&&"d"+Pe in De){var st=Ue.makeCalcdata(De,Pe);return[o(De,Ue,Pe,st).vals,st]}$e=ot?De[Pe+"0"]:"name"in De&&(Ue.type==="category"||T(De.name)&&["linear","log"].indexOf(Ue.type)!==-1||_.isDateTime(De.name)&&Ue.type==="date")?De.name:We;for(var mt=Ue.type==="multicategory"?Ue.r2c_just_indices($e):Ue.d2c($e,0,De[Pe+"calendar"]),_t=De._length,yt=new Array(_t),it=0;it<_t;it++)yt[it]=mt;return[yt]}(x,w,m,S[O]),H=F[0],W=F[1],ie=_.distinctVals(H,m),te=ie.vals,Q=ie.minDiff/2,ne=(x.boxpoints||x.points)==="all"?_.identity:function(De){return De.v<I.lf||De.v>I.uf};if(x._hasPreCompStats){var $=x[y],J=function(De){return g.d2c((x[De]||[])[p])},re=1/0,se=-1/0;for(p=0;p<x._length;p++){var ue=H[p];if(T(ue)){if((I={}).pos=I[w]=ue,d&&W&&(I.orig_p=W[p]),I.q1=J("q1"),I.med=J("median"),I.q3=J("q3"),D=[],$&&_.isArrayOrTypedArray($[p]))for(v=0;v<$[p].length;v++)(X=g.d2c($[p][v]))!==b&&(t(j={v:X,i:[p,v]},x,[p,v]),D.push(j));if(I.pts=D.sort(i),z=(V=I[y]=D.map(r)).length,I.med!==b&&I.q1!==b&&I.q3!==b&&I.med>=I.q1&&I.q3>=I.med){var he=J("lowerfence");I.lf=he!==b&&he<=I.q1?he:n(I,V,z);var pe=J("upperfence");I.uf=pe!==b&&pe>=I.q3?pe:a(I,V,z);var ge=J("mean");I.mean=ge!==b?ge:z?_.mean(V,z):(I.q1+I.q3)/2;var ye=J("sd");I.sd=ge!==b&&ye>=0?ye:z?_.stdev(V,z,I.mean):I.q3-I.q1,I.lo=l(I),I.uo=u(I);var be=J("notchspan");be=be!==b&&be>0?be:h(I,z),I.ln=I.med-be,I.un=I.med+be;var Te=I.lf,Se=I.uf;x.boxpoints&&V.length&&(Te=Math.min(Te,V[0]),Se=Math.max(Se,V[z-1])),x.notched&&(Te=Math.min(Te,I.ln),Se=Math.max(Se,I.un)),I.min=Te,I.max=Se}else{var Fe;_.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+I.q1,"median = "+I.med,"q3 = "+I.q3].join(`
`)),Fe=I.med!==b?I.med:I.q1!==b?I.q3!==b?(I.q1+I.q3)/2:I.q1:I.q3!==b?I.q3:0,I.med=Fe,I.q1=I.q3=Fe,I.lf=I.uf=Fe,I.mean=I.sd=Fe,I.ln=I.un=Fe,I.min=I.max=Fe}re=Math.min(re,I.min),se=Math.max(se,I.max),I.pts2=D.filter(ne),P.push(I)}}x._extremes[g._id]=k.findExtremes(g,[re,se],{padded:!0})}else{var xe=g.makeCalcdata(x,y),le=function(De,Pe){for(var Ue=De.length,We=new Array(Ue+1),$e=0;$e<Ue;$e++)We[$e]=De[$e]-Pe;return We[Ue]=De[Ue-1]+Pe,We}(te,Q),oe=te.length,de=function(De){for(var Pe=new Array(De),Ue=0;Ue<De;Ue++)Pe[Ue]=[];return Pe}(oe);for(p=0;p<x._length;p++)if(X=xe[p],T(X)){var Ce=_.findBin(H[p],le);Ce>=0&&Ce<oe&&(t(j={v:X,i:p},x,p),de[Ce].push(j))}var _e=1/0,Ae=-1/0,Le=x.quartilemethod,ze=Le==="exclusive",Re=Le==="inclusive";for(p=0;p<oe;p++)if(de[p].length>0){var ve,ke;(I={}).pos=I[w]=te[p],D=I.pts=de[p].sort(i),z=(V=I[y]=D.map(r)).length,I.min=V[0],I.max=V[z-1],I.mean=_.mean(V,z),I.sd=_.stdev(V,z,I.mean)*x.sdmultiple,I.med=_.interp(V,.5),z%2&&(ze||Re)?(ze?(ve=V.slice(0,z/2),ke=V.slice(z/2+1)):Re&&(ve=V.slice(0,z/2+1),ke=V.slice(z/2)),I.q1=_.interp(ve,.5),I.q3=_.interp(ke,.5)):(I.q1=_.interp(V,.25),I.q3=_.interp(V,.75)),I.lf=n(I,V,z),I.uf=a(I,V,z),I.lo=l(I),I.uo=u(I);var Ee=h(I,z);I.ln=I.med-Ee,I.un=I.med+Ee,_e=Math.min(_e,I.ln),Ae=Math.max(Ae,I.un),I.pts2=D.filter(ne),P.push(I)}x.notched&&_.isTypedArray(xe)&&(xe=Array.from(xe)),x._extremes[g._id]=k.findExtremes(g,x.notched?xe.concat([_e,Ae]):xe,{padded:!0})}return function(De,Pe){if(_.isArrayOrTypedArray(Pe.selectedpoints))for(var Ue=0;Ue<De.length;Ue++){for(var We=De[Ue].pts||[],$e={},ot=0;ot<We.length;ot++)$e[We[ot].i]=ot;_.tagSelected(We,Pe,$e)}}(P,x),P.length>0?(P[0].t={num:S[O],dPos:Q,posLetter:w,valLetter:y,labels:{med:f(c,"median:"),min:f(c,"min:"),q1:f(c,"q1:"),q3:f(c,"q3:"),max:f(c,"max:"),mean:x.boxmean==="sd"||x.sizemode==="sd"?f(c,"mean  :").replace("",x.sdmultiple===1?"":x.sdmultiple+""):f(c,"mean:"),lf:f(c,"lower fence:"),uf:f(c,"upper fence:")}},S[O]++,P):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,x,p){for(var v in s)_.isArrayOrTypedArray(x[v])&&(Array.isArray(p)?_.isArrayOrTypedArray(x[v][p[0]])&&(c[s[v]]=x[v][p[0]][p[1]]):c[s[v]]=x[v][p])}function i(c,x){return c.v-x.v}function r(c){return c.v}function n(c,x,p){return p===0?c.q1:Math.min(c.q1,x[Math.min(_.findBin(2.5*c.q1-1.5*c.q3,x,!0)+1,p-1)])}function a(c,x,p){return p===0?c.q3:Math.max(c.q3,x[Math.max(_.findBin(2.5*c.q3-1.5*c.q1,x),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function h(c,x){return x===0?0:1.57*(c.q3-c.q1)/Math.sqrt(x)}},96404:function(U,C,e){var T=e(54460),k=e(3400),o=e(71888).getAxisGroup,_=["v","h"];function b(f,s,t,i){var r,n,a,l=s.calcdata,u=s._fullLayout,h=i._id,c=h.charAt(0),x=[],p=0;for(r=0;r<t.length;r++)for(a=l[t[r]],n=0;n<a.length;n++)x.push(i.c2l(a[n].pos,!0)),p+=(a[n].pts2||[]).length;if(x.length){var v=k.distinctVals(x);i.type!=="category"&&i.type!=="multicategory"||(v.minDiff=1);var g=v.minDiff/2;T.minDtick(i,v.minDiff,v.vals[0],!0);var y=u[f==="violin"?"_numViolins":"_numBoxes"],m=u[f+"mode"]==="group"&&y>1,w=1-u[f+"gap"],d=1-u[f+"groupgap"];for(r=0;r<t.length;r++){var S,A,E,P,O,I,D=(a=l[t[r]])[0].trace,V=a[0].t,z=D.width,j=D.side;if(z)S=A=P=z/2,E=0;else if(S=g,m){var X=o(u,i._id)+D.orientation,F=(u._alignmentOpts[X]||{})[D.alignmentgroup]||{},H=Object.keys(F.offsetGroups||{}).length,W=H||y;A=S*w*d/W,E=2*S*(((H?D._offsetIndex:V.num)+.5)/W-.5)*w,P=S*w/W}else A=S*w*d,E=0,P=S;V.dPos=S,V.bPos=E,V.bdPos=A,V.wHover=P;var ie,te,Q,ne,$,J,re=E+A,se=!!z;if(j==="positive"?(O=S*(z?1:.5),ie=re,I=ie=E):j==="negative"?(O=ie=E,I=S*(z?1:.5),te=re):(O=I=S,ie=te=re),(D.boxpoints||D.points)&&p>0){var ue=D.pointpos,he=D.jitter,pe=D.marker.size/2,ge=0;ue+he>=0&&((ge=re*(ue+he))>O?(se=!0,$=pe,Q=ge):ge>ie&&($=pe,Q=O)),ge<=O&&(Q=O);var ye=0;ue-he<=0&&((ye=-re*(ue-he))>I?(se=!0,J=pe,ne=ye):ye>te&&(J=pe,ne=I)),ye<=I&&(ne=I)}else Q=O,ne=I;var be=new Array(a.length);for(n=0;n<a.length;n++)be[n]=a[n].pos;D._extremes[h]=T.findExtremes(i,be,{padded:se,vpadminus:ne,vpadplus:Q,vpadLinearized:!0,ppadminus:{x:J,y:$}[c],ppadplus:{x:$,y:J}[c]})}}}U.exports={crossTraceCalc:function(f,s){for(var t=f.calcdata,i=s.xaxis,r=s.yaxis,n=0;n<_.length;n++){for(var a=_[n],l=a==="h"?r:i,u=[],h=0;h<t.length;h++){var c=t[h],x=c[0].t,p=c[0].trace;p.visible!==!0||p.type!=="box"&&p.type!=="candlestick"||x.empty||(p.orientation||"v")!==a||p.xaxis!==i._id||p.yaxis!==r._id||u.push(h)}b("box",f,u,l)}},setPositionOffset:b}},90624:function(U,C,e){var T=e(3400),k=e(24040),o=e(76308),_=e(31147),b=e(20011),f=e(52976),s=e(63188);function t(r,n,a,l){function u(j){var X=0;return j&&j.length&&(X+=1,T.isArrayOrTypedArray(j[0])&&j[0].length&&(X+=1)),X}function h(j){return T.validate(r[j],s[j])}var c,x=a("y"),p=a("x");if(n.type==="box"){var v=a("q1"),g=a("median"),y=a("q3");n._hasPreCompStats=v&&v.length&&g&&g.length&&y&&y.length,c=Math.min(T.minRowLength(v),T.minRowLength(g),T.minRowLength(y))}var m,w,d=u(x),S=u(p),A=d&&T.minRowLength(x),E=S&&T.minRowLength(p),P=l.calendar,O={autotypenumbers:l.autotypenumbers};if(n._hasPreCompStats)switch(String(S)+String(d)){case"00":var I=h("x0")||h("dx");m=!h("y0")&&!h("dy")||I?"v":"h",w=c;break;case"10":m="v",w=Math.min(c,E);break;case"20":m="h",w=Math.min(c,p.length);break;case"01":m="h",w=Math.min(c,A);break;case"02":m="v",w=Math.min(c,x.length);break;case"12":m="v",w=Math.min(c,E,x.length);break;case"21":m="h",w=Math.min(c,p.length,A);break;case"11":w=0;break;case"22":var D,V=!1;for(D=0;D<p.length;D++)if(f(p[D],P,O)==="category"){V=!0;break}if(V)m="v",w=Math.min(c,E,x.length);else{for(D=0;D<x.length;D++)if(f(x[D],P,O)==="category"){V=!0;break}V?(m="h",w=Math.min(c,p.length,A)):(m="v",w=Math.min(c,E,x.length))}}else d>0?(m="v",w=S>0?Math.min(E,A):Math.min(A)):S>0?(m="h",w=Math.min(E)):w=0;if(w){n._length=w;var z=a("orientation",m);n._hasPreCompStats?z==="v"&&S===0?(a("x0",0),a("dx",1)):z==="h"&&d===0&&(a("y0",0),a("dy",1)):z==="v"&&S===0?a("x0"):z==="h"&&d===0&&a("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],l)}else n.visible=!1}function i(r,n,a,l){var u=l.prefix,h=T.coerce2(r,n,s,"marker.outliercolor"),c=a("marker.line.outliercolor"),x="outliers";n._hasPreCompStats?x="all":(h||c)&&(x="suspectedoutliers");var p=a(u+"points",x);p?(a("jitter",p==="all"?.3:0),a("pointpos",p==="all"?-1.5:0),a("marker.symbol"),a("marker.opacity"),a("marker.size"),a("marker.angle"),a("marker.color",n.line.color),a("marker.line.color"),a("marker.line.width"),p==="suspectedoutliers"&&(a("marker.line.outliercolor",n.marker.color),a("marker.line.outlierwidth")),a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size"),a("text"),a("hovertext")):delete n.marker;var v=a("hoveron");v!=="all"&&v.indexOf("points")===-1||a("hovertemplate"),T.coerceSelectionMarkerOpacity(n,a)}U.exports={supplyDefaults:function(r,n,a,l){function u(w,d){return T.coerce(r,n,s,w,d)}if(t(r,n,u,l),n.visible!==!1){_(r,n,l,u),u("xhoverformat"),u("yhoverformat");var h=n._hasPreCompStats;h&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||a),u("line.width"),u("fillcolor",o.addOpacity(n.line.color,.5));var c=!1;if(h){var x=u("mean"),p=u("sd");x&&x.length&&(c=!0,p&&p.length&&(c="sd"))}u("whiskerwidth");var v,g=u("sizemode");g==="quartiles"&&(v=u("boxmean",c)),u("showwhiskers",g==="quartiles"),g!=="sd"&&v!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(h){var m=u("notchspan");m&&m.length&&(y=!0)}else T.validate(r.notchwidth,s.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),i(r,n,u,{prefix:"box"}),u("zorder")}},crossTraceDefaults:function(r,n){var a,l;function u(x){return T.coerce(l._input,l,s,x)}for(var h=0;h<r.length;h++){var c=(l=r[h]).type;c!=="box"&&c!=="violin"||(a=l._input,n[c+"mode"]==="group"&&b(a,l,n,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(U){U.exports=function(C,e){return e.hoverOnBox&&(C.hoverOnBox=e.hoverOnBox),"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},27576:function(U,C,e){var T=e(54460),k=e(3400),o=e(93024),_=e(76308),b=k.fillText;function f(t,i,r,n){var a,l,u,h,c,x,p,v,g,y,m,w,d,S,A=t.cd,E=t.xa,P=t.ya,O=A[0].trace,I=A[0].t,D=O.type==="violin",V=I.bdPos,z=I.wHover,j=function(Fe){return u.c2l(Fe.pos)+I.bPos-u.c2l(x)};D&&O.side!=="both"?(O.side==="positive"&&(g=function(Fe){var xe=j(Fe);return o.inbox(xe,xe+z,y)},w=V,d=0),O.side==="negative"&&(g=function(Fe){var xe=j(Fe);return o.inbox(xe-z,xe,y)},w=0,d=V)):(g=function(Fe){var xe=j(Fe);return o.inbox(xe-z,xe+z,y)},w=d=V),S=D?function(Fe){return o.inbox(Fe.span[0]-c,Fe.span[1]-c,y)}:function(Fe){return o.inbox(Fe.min-c,Fe.max-c,y)},O.orientation==="h"?(c=i,x=r,p=S,v=g,a="y",u=P,l="x",h=E):(c=r,x=i,p=g,v=S,a="x",u=E,l="y",h=P);var X=Math.min(1,V/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(Fe){return(p(Fe)+v(Fe))/2}y=t.maxHoverDistance-X,m=t.maxSpikeDistance-X;var H=o.getDistanceFunction(n,p,v,F);if(o.getClosest(A,H,t),t.index===!1)return[];var W=A[t.index],ie=O.line.color,te=(O.marker||{}).color;_.opacity(ie)&&O.line.width?t.color=ie:_.opacity(te)&&O.boxpoints?t.color=te:t.color=O.fillcolor,t[a+"0"]=u.c2p(W.pos+I.bPos-d,!0),t[a+"1"]=u.c2p(W.pos+I.bPos+w,!0),t[a+"LabelVal"]=W.orig_p!==void 0?W.orig_p:W.pos;var Q=a+"Spike";t.spikeDistance=F(W)*m/y,t[Q]=u.c2p(W.pos,!0);var ne=O.boxmean||O.sizemode==="sd"||(O.meanline||{}).visible,$=O.boxpoints||O.points,J=$&&ne?["max","uf","q3","med","mean","q1","lf","min"]:$&&!ne?["max","uf","q3","med","q1","lf","min"]:!$&&ne?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],re=h.range[1]<h.range[0];O.orientation===(re?"v":"h")&&J.reverse();for(var se=t.spikeDistance,ue=t[Q],he=[],pe=0;pe<J.length;pe++){var ge=J[pe];if(ge in W){var ye=W[ge],be=h.c2p(ye,!0),Te=k.extendFlat({},t);Te.attr=ge,Te[l+"0"]=Te[l+"1"]=be,Te[l+"LabelVal"]=ye,Te[l+"Label"]=(I.labels?I.labels[ge]+" ":"")+T.hoverLabelText(h,ye,O[l+"hoverformat"]),Te.hoverOnBox=!0,ge!=="mean"||!("sd"in W)||O.boxmean!=="sd"&&O.sizemode!=="sd"||(Te[l+"err"]=W.sd),Te.hovertemplate=!1,he.push(Te)}}t.name="",t.spikeDistance=void 0,t[Q]=void 0;for(var Se=0;Se<he.length;Se++)he[Se].attr!=="med"?(he[Se].name="",he[Se].spikeDistance=void 0,he[Se][Q]=void 0):(he[Se].spikeDistance=se,he[Se][Q]=ue);return he}function s(t,i,r){for(var n,a,l,u=t.cd,h=t.xa,c=t.ya,x=u[0].trace,p=h.c2p(i),v=c.c2p(r),g=o.quadrature(function(D){var V=Math.max(3,D.mrc||0);return Math.max(Math.abs(h.c2p(D.x)-p)-V,1-3/V)},function(D){var V=Math.max(3,D.mrc||0);return Math.max(Math.abs(c.c2p(D.y)-v)-V,1-3/V)}),y=!1,m=0;m<u.length;m++){a=u[m];for(var w=0;w<(a.pts||[]).length;w++){var d=g(l=a.pts[w]);d<=t.distance&&(t.distance=d,y=[m,w])}}if(!y)return!1;l=(a=u[y[0]]).pts[y[1]];var S=h.c2p(l.x,!0),A=c.c2p(l.y,!0),E=l.mrc||1;n=k.extendFlat({},t,{index:l.i,color:(x.marker||{}).color,name:x.name,x0:S-E,x1:S+E,y0:A-E,y1:A+E,spikeDistance:t.distance,hovertemplate:x.hovertemplate});var P,O=a.orig_p,I=O!==void 0?O:a.pos;return x.orientation==="h"?(P=c,n.xLabelVal=l.x,n.yLabelVal=I):(P=h,n.xLabelVal=I,n.yLabelVal=l.y),n[P._id.charAt(0)+"Spike"]=P.c2p(a.pos,!0),b(l,x,n),n}U.exports={hoverPoints:function(t,i,r,n){var a,l=t.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(f(t,i,r,n))),l.indexOf("points")!==-1&&(a=s(t,i,r)),n==="closest"?a?[a]:u:(a&&u.push(a),u)},hoverOnBoxes:f,hoverOnPoints:s}},67244:function(U,C,e){U.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(U){U.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(U,C,e){var T=e(24040),k=e(3400),o=e(16560);function _(b,f,s,t,i){for(var r=i+"Layout",n=!1,a=0;a<s.length;a++){var l=s[a];if(T.traceIs(l,r)){n=!0;break}}n&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}U.exports={supplyLayoutDefaults:function(b,f,s){_(0,0,s,function(t,i){return k.coerce(b,f,o,t,i)},"box")},_supply:_}},18728:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616);function _(s,t,i,r,n){var a,l,u=i.orientation==="h",h=t.val,c=t.pos,x=!!c.rangebreaks,p=r.bPos,v=r.wdPos||0,g=r.bPosPxOffset||0,y=i.whiskerwidth||0,m=i.showwhiskers!==!1,w=i.notched||!1,d=w?1-2*i.notchwidth:1;Array.isArray(r.bdPos)?(a=r.bdPos[0],l=r.bdPos[1]):(a=r.bdPos,l=r.bdPos);var S=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(A){if(A.empty)return T.select(this).attr("d","M0,0Z");var E=c.c2l(A.pos+p,!0),P=c.l2p(E-a)+g,O=c.l2p(E+l)+g,I=x?(P+O)/2:c.l2p(E)+g,D=i.whiskerwidth,V=x?P*D+(1-D)*I:c.l2p(E-v)+g,z=x?O*D+(1-D)*I:c.l2p(E+v)+g,j=c.l2p(E-a*d)+g,X=c.l2p(E+l*d)+g,F=i.sizemode==="sd",H=h.c2p(F?A.mean-A.sd:A.q1,!0),W=F?h.c2p(A.mean+A.sd,!0):h.c2p(A.q3,!0),ie=k.constrain(F?h.c2p(A.mean,!0):h.c2p(A.med,!0),Math.min(H,W)+1,Math.max(H,W)-1),te=A.lf===void 0||i.boxpoints===!1||F,Q=h.c2p(te?A.min:A.lf,!0),ne=h.c2p(te?A.max:A.uf,!0),$=h.c2p(A.ln,!0),J=h.c2p(A.un,!0);u?T.select(this).attr("d","M"+ie+","+j+"V"+X+"M"+H+","+P+"V"+O+(w?"H"+$+"L"+ie+","+X+"L"+J+","+O:"")+"H"+W+"V"+P+(w?"H"+J+"L"+ie+","+j+"L"+$+","+P:"")+"Z"+(m?"M"+H+","+I+"H"+Q+"M"+W+","+I+"H"+ne+(y===0?"":"M"+Q+","+V+"V"+z+"M"+ne+","+V+"V"+z):"")):T.select(this).attr("d","M"+j+","+ie+"H"+X+"M"+P+","+H+"H"+O+(w?"V"+$+"L"+X+","+ie+"L"+O+","+J:"")+"V"+W+"H"+P+(w?"V"+J+"L"+j+","+ie+"L"+P+","+$:"")+"Z"+(m?"M"+I+","+H+"V"+Q+"M"+I+","+W+"V"+ne+(y===0?"":"M"+V+","+Q+"H"+z+"M"+V+","+ne+"H"+z):""))})}function b(s,t,i,r){var n=t.x,a=t.y,l=r.bdPos,u=r.bPos,h=i.boxpoints||i.points;k.seedPseudoRandom();var c=s.selectAll("g.points").data(h?function(p){return p.forEach(function(v){v.t=r,v.trace=i}),p}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var x=c.selectAll("path").data(function(p){var v,g,y=p.pts2,m=Math.max((p.max-p.min)/10,p.q3-p.q1),w=1e-9*m,d=.01*m,S=[],A=0;if(i.jitter){if(m===0)for(A=1,S=new Array(y.length),v=0;v<y.length;v++)S[v]=1;else for(v=0;v<y.length;v++){var E=Math.max(0,v-5),P=y[E].v,O=Math.min(y.length-1,v+5),I=y[O].v;h!=="all"&&(y[v].v<p.lf?I=Math.min(I,p.lf):P=Math.max(P,p.uf));var D=Math.sqrt(d*(O-E)/(I-P+w))||0;D=k.constrain(Math.abs(D),0,1),S.push(D),A=Math.max(D,A)}g=2*i.jitter/(A||1)}for(v=0;v<y.length;v++){var V=y[v],z=V.v,j=i.jitter?g*S[v]*(k.pseudoRandom()-.5):0,X=p.pos+u+l*(i.pointpos+j);i.orientation==="h"?(V.y=X,V.x=z):(V.x=X,V.y=z),h==="suspectedoutliers"&&z<p.uo&&z>p.lo&&(V.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(o.translatePoints,n,a)}function f(s,t,i,r){var n,a,l=t.val,u=t.pos,h=!!u.rangebreaks,c=r.bPos,x=r.bPosPxOffset||0,p=i.boxmean||(i.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],a=r.bdPos[1]):(n=r.bdPos,a=r.bdPos);var v=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?k.identity:[]);v.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),v.exit().remove(),v.each(function(g){var y=u.c2l(g.pos+c,!0),m=u.l2p(y-n)+x,w=u.l2p(y+a)+x,d=h?(m+w)/2:u.l2p(y)+x,S=l.c2p(g.mean,!0),A=l.c2p(g.mean-g.sd,!0),E=l.c2p(g.mean+g.sd,!0);i.orientation==="h"?T.select(this).attr("d","M"+S+","+m+"V"+w+(p==="sd"?"m0,0L"+A+","+d+"L"+S+","+m+"L"+E+","+d+"Z":"")):T.select(this).attr("d","M"+m+","+S+"H"+w+(p==="sd"?"m0,0L"+d+","+A+"L"+m+","+S+"L"+d+","+E+"Z":""))})}U.exports={plot:function(s,t,i,r){var n=s._context.staticPlot,a=t.xaxis,l=t.yaxis;k.makeTraceGroups(r,i,"trace boxes").each(function(u){var h,c,x=T.select(this),p=u[0],v=p.t,g=p.trace;v.wdPos=v.bdPos*g.whiskerwidth,g.visible!==!0||v.empty?x.remove():(g.orientation==="h"?(h=l,c=a):(h=a,c=l),_(x,{pos:h,val:c},g,v,n),b(x,{x:a,y:l},g,v),f(x,{pos:h,val:c},g,v))})},plotBoxAndWhiskers:_,plotPoints:b,plotBoxMean:f}},8264:function(U){U.exports=function(C,e){var T,k,o=C.cd,_=C.xaxis,b=C.yaxis,f=[];if(e===!1)for(T=0;T<o.length;T++)for(k=0;k<(o[T].pts||[]).length;k++)o[T].pts[k].selected=0;else for(T=0;T<o.length;T++)for(k=0;k<(o[T].pts||[]).length;k++){var s=o[T].pts[k],t=_.c2p(s.x),i=b.c2p(s.y);e.contains([t,i],null,s.i,C)?(f.push({pointNumber:s.i,x:_.c2d(s.x),y:b.c2d(s.y)}),s.selected=1):s.selected=0}return f}},25776:function(U,C,e){var T=e(33428),k=e(76308),o=e(43616);U.exports={style:function(_,b,f){var s=f||T.select(_).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=T.select(this),r=t[0].trace,n=r.line.width;function a(h,c,x,p){h.style("stroke-width",c+"px").call(k.stroke,x).call(k.fill,p)}var l=i.selectAll("path.box");if(r.type==="candlestick")l.each(function(h){if(!h.empty){var c=T.select(this),x=r[h.dir];a(c,x.line.width,x.line.color,x.fillcolor),c.style("opacity",r.selectedpoints&&!h.selected?.3:1)}});else{a(l,n,r.line.color,r.fillcolor),i.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(k.stroke,r.line.color);var u=i.selectAll("path.point");o.pointStyle(u,r,_)}})},styleOnSelect:function(_,b,f){var s=b[0].trace,t=f.selectAll("path.point");s.selectedpoints?o.selectedPointStyle(t,s):o.pointStyle(t,s,_)}}},64216:function(U,C,e){var T=e(3400).extendFlat,k=e(29736).axisHoverFormat,o=e(20279),_=e(63188);function b(f){return{line:{color:T({},_.line.color,{dflt:f}),width:_.line.width,editType:"style"},fillcolor:_.fillcolor,editType:"style"}}U.exports={xperiod:o.xperiod,xperiod0:o.xperiod0,xperiodalignment:o.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:T({},_.line.width,{}),editType:"style"},increasing:b(o.increasing.line.color.dflt),decreasing:b(o.decreasing.line.color.dflt),text:o.text,hovertext:o.hovertext,whiskerwidth:T({},_.whiskerwidth,{dflt:0}),hoverlabel:o.hoverlabel,zorder:_.zorder}},46283:function(U,C,e){var T=e(3400),k=e(54460),o=e(1220),_=e(42812).calcCommon;function b(f,s,t,i){return{min:t,q1:Math.min(f,i),med:i,q3:Math.max(f,i),max:s}}U.exports=function(f,s){var t=f._fullLayout,i=k.getFromId(f,s.xaxis),r=k.getFromId(f,s.yaxis),n=i.makeCalcdata(s,"x"),a=o(s,i,"x",n).vals,l=_(f,s,n,a,r,b);return l.length?(T.extendFlat(l[0].t,{num:t._numBoxes,dPos:T.distinctVals(a).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(U,C,e){var T=e(3400),k=e(76308),o=e(52744),_=e(31147),b=e(64216);function f(s,t,i,r){var n=i(r+".line.color");i(r+".line.width",t.line.width),i(r+".fillcolor",k.addOpacity(n,.5))}U.exports=function(s,t,i,r){function n(a,l){return T.coerce(s,t,b,a,l)}o(s,t,n,r)?(_(s,t,r,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),f(0,t,n,"increasing"),f(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0,n("zorder")):t.visible=!1}},61712:function(U,C,e){U.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(U,C,e){var T=e(63856),k=e(31780);U.exports=function(o,_,b,f,s){f("a")||(f("da"),f("a0")),f("b")||(f("db"),f("b0")),function(t,i,r,n){["aaxis","baxis"].forEach(function(a){var l=a.charAt(0),u=t[a]||{},h=k.newContainer(i,a),c={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:a,data:t[l],calendar:i.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};T(u,h,c),h._categories=h._categories||[],t[a]||u.type==="-"||(t[a]={type:u.type})})}(o,_,b,s)}},51676:function(U,C,e){var T=e(3400).isArrayOrTypedArray;function k(o,_){if(!T(o)||_>=10)return null;for(var b=1/0,f=-1/0,s=o.length,t=0;t<s;t++){var i=o[t];if(T(i)){var r=k(i,_+1);r&&(b=Math.min(r[0],b),f=Math.max(r[1],f))}else b=Math.min(i,b),f=Math.max(i,f)}return[b,f]}U.exports=function(o){return k(o,0)}},85720:function(U,C,e){var T=e(25376),k=e(98692),o=e(22548),_=T({editType:"calc"}),b=e(52904).zorder;_.family.dflt='"Open Sans", verdana, arial, sans-serif',_.size.dflt=12,_.color.dflt=o.defaultLine,U.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:_,color:{valType:"color",dflt:o.defaultLine,editType:"plot"},transforms:void 0,zorder:b}},77712:function(U,C,e){var T=e(3400).isArrayOrTypedArray;U.exports=function(k,o,_,b){var f,s,t,i,r,n,a,l,u,h,c,x,p,v=T(_)?"a":"b",g=(v==="a"?k.aaxis:k.baxis).smoothing,y=v==="a"?k.a2i:k.b2j,m=v==="a"?_:b,w=v==="a"?b:_,d=v==="a"?o.a.length:o.b.length,S=v==="a"?o.b.length:o.a.length,A=Math.floor(v==="a"?k.b2j(w):k.a2i(w)),E=v==="a"?function(ie){return k.evalxy([],ie,A)}:function(ie){return k.evalxy([],A,ie)};g&&(t=Math.max(0,Math.min(S-2,A)),i=A-t,s=v==="a"?function(ie,te){return k.dxydi([],ie,t,te,i)}:function(ie,te){return k.dxydj([],t,ie,i,te)});var P=y(m[0]),O=y(m[1]),I=P<O?1:-1,D=1e-8*(O-P),V=I>0?Math.floor:Math.ceil,z=I>0?Math.ceil:Math.floor,j=I>0?Math.min:Math.max,X=I>0?Math.max:Math.min,F=V(P+D),H=z(O-D),W=[[a=E(P)]];for(f=F;f*I<H*I;f+=I)r=[],c=X(P,f),p=(x=j(O,f+I))-c,n=Math.max(0,Math.min(d-2,Math.floor(.5*(c+x)))),l=E(x),g&&(u=s(n,c-n),h=s(n,x-n),r.push([a[0]+u[0]/3*p,a[1]+u[1]/3*p]),r.push([l[0]-h[0]/3*p,l[1]-h[1]/3*p])),r.push(l),W.push(r),a=l;return W}},98692:function(U,C,e){var T=e(25376),k=e(22548),o=e(94724),_=e(29736).descriptionWithDates,b=e(67824).overrideAll,f=e(98192).u,s=e(92880).extendFlat;U.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:T({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:o.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},o.labelalias,{editType:"calc"}),tickfont:T({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:_("tick label")},tickformatstops:b(o.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},f,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},f,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:T({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(U,C,e){var T=e(85720),k=e(76308).addOpacity,o=e(24040),_=e(3400),b=e(26332),f=e(95936),s=e(42568),t=e(22416),i=e(78344),r=e(52976);U.exports=function(n,a,l){var u=l.letter,h=l.font||{},c=T[u+"axis"];function x(I,D){return _.coerce(n,a,c,I,D)}function p(I,D){return _.coerce2(n,a,c,I,D)}l.name&&(a._name=l.name,a._id=l.name),x("autotypenumbers",l.autotypenumbersDflt);var v=x("type");v==="-"&&(l.data&&function(I,D){if(I.type==="-"){var V=I._id.charAt(0),z=I[V+"calendar"];I.type=r(D,z,{autotypenumbers:I.autotypenumbers})}}(a,l.data),a.type==="-"?a.type="linear":v=n.type=a.type),x("smoothing"),x("cheatertype"),x("showticklabels"),x("labelprefix",u+" = "),x("labelsuffix"),x("showtickprefix"),x("showticksuffix"),x("separatethousands"),x("tickformat"),x("exponentformat"),x("minexponent"),x("showexponent"),x("categoryorder"),x("tickmode"),x("tickvals"),x("ticktext"),x("tick0"),x("dtick"),a.tickmode==="array"&&(x("arraytick0"),x("arraydtick")),x("labelpadding"),a._hovertitle=u,v==="date"&&o.getComponentMethod("calendars","handleDefaults")(n,a,"calendar",l.calendar),i(a,l.fullLayout),a.c2p=_.identity;var g=x("color",l.dfltColor),y=g===n.color?g:h.color;x("title.text")&&(_.coerceFont(x,"title.font",h,{overrideDflt:{size:_.bigFont(h.size),color:y}}),x("title.offset")),x("tickangle"),x("autorange",!a.isValidRange(n.range))&&x("rangemode"),x("range"),a.cleanRange(),x("fixedrange"),b(n,a,x,v),s(n,a,x,v,l),f(n,a,x,v,l),t(n,a,x,{data:l.data,dataAttr:u});var m=p("gridcolor",k(g,.3)),w=p("gridwidth"),d=p("griddash"),S=x("showgrid");S||(delete a.gridcolor,delete a.gridwidth,delete a.griddash);var A=p("startlinecolor",g),E=p("startlinewidth",w);x("startline",a.showgrid||!!A||!!E)||(delete a.startlinecolor,delete a.startlinewidth);var P=p("endlinecolor",g),O=p("endlinewidth",w);return x("endline",a.showgrid||!!P||!!O)||(delete a.endlinecolor,delete a.endlinewidth),S?(x("minorgridcount"),x("minorgridwidth",w),x("minorgriddash",d),x("minorgridcolor",k(m,.06)),a.minorgridcount||(delete a.minorgridwidth,delete a.minorgriddash,delete a.minorgridcolor)):(delete a.gridcolor,delete a.gridwidth,delete a.griddash),a.showticklabels==="none"&&(delete a.tickfont,delete a.tickangle,delete a.showexponent,delete a.exponentformat,delete a.minexponent,delete a.tickformat,delete a.showticksuffix,delete a.showtickprefix),a.showticksuffix||delete a.ticksuffix,a.showtickprefix||delete a.tickprefix,x("tickmode"),a}},58744:function(U,C,e){var T=e(54460),k=e(3400).isArray1D,o=e(60776),_=e(51676),b=e(19216),f=e(14724),s=e(24944),t=e(26136),i=e(51512),r=e(2872),n=e(81e3);U.exports=function(a,l){var u=T.getFromId(a,l.xaxis),h=T.getFromId(a,l.yaxis),c=l.aaxis,x=l.baxis,p=l.x,v=l.y,g=[];p&&k(p)&&g.push("x"),v&&k(v)&&g.push("y"),g.length&&r(l,c,x,"a","b",g);var y=l._a=l._a||l.a,m=l._b=l._b||l.b;p=l._x||l.x,v=l._y||l.y;var w={};if(l._cheater){var d=c.cheatertype==="index"?y.length:y,S=x.cheatertype==="index"?m.length:m;p=o(d,S,l.cheaterslope)}l._x=p=t(p),l._y=v=t(v),i(p,y,m),i(v,y,m),n(l),l.setScale();var A=_(p),E=_(v),P=.5*(A[1]-A[0]),O=.5*(A[1]+A[0]),I=.5*(E[1]-E[0]),D=.5*(E[1]+E[0]),V=1.3;return A=[O-P*V,O+P*V],E=[D-I*V,D+I*V],l._extremes[u._id]=T.findExtremes(u,A,{padded:!0}),l._extremes[h._id]=T.findExtremes(h,E,{padded:!0}),b(l,"a","b"),b(l,"b","a"),f(l,c),f(l,x),w.clipsegments=s(l._xctrl,l._yctrl,c,x),w.x=p,w.y=v,w.a=y,w.b=m,[w]}},24944:function(U){U.exports=function(C,e,T,k){var o,_,b,f=[],s=!!T.smoothing,t=!!k.smoothing,i=C[0].length-1,r=C.length-1;for(o=0,_=[],b=[];o<=i;o++)_[o]=C[0][o],b[o]=e[0][o];for(f.push({x:_,y:b,bicubic:s}),o=0,_=[],b=[];o<=r;o++)_[o]=C[o][i],b[o]=e[o][i];for(f.push({x:_,y:b,bicubic:t}),o=i,_=[],b=[];o>=0;o--)_[i-o]=C[r][o],b[i-o]=e[r][o];for(f.push({x:_,y:b,bicubic:s}),o=r,_=[],b=[];o>=0;o--)_[r-o]=C[o][0],b[r-o]=e[o][0];return f.push({x:_,y:b,bicubic:t}),f}},19216:function(U,C,e){var T=e(54460),k=e(92880).extendFlat;U.exports=function(o,_,b){var f,s,t,i,r,n,a,l,u,h,c,x,p,v,g=o["_"+_],y=o[_+"axis"],m=y._gridlines=[],w=y._minorgridlines=[],d=y._boundarylines=[],S=o["_"+b],A=o[b+"axis"];y.tickmode==="array"&&(y.tickvals=g.slice());var E=o._xctrl,P=o._yctrl,O=E[0].length,I=E.length,D=o._a.length,V=o._b.length;T.prepTicks(y),y.tickmode==="array"&&delete y.tickvals;var z=y.smoothing?3:1;function j(F){var H,W,ie,te,Q,ne,$,J,re,se,ue,he,pe=[],ge=[],ye={};if(_==="b")for(W=o.b2j(F),ie=Math.floor(Math.max(0,Math.min(V-2,W))),te=W-ie,ye.length=V,ye.crossLength=D,ye.xy=function(be){return o.evalxy([],be,W)},ye.dxy=function(be,Te){return o.dxydi([],be,ie,Te,te)},H=0;H<D;H++)ne=Math.min(D-2,H),$=H-ne,J=o.evalxy([],H,W),A.smoothing&&H>0&&(re=o.dxydi([],H-1,ie,0,te),pe.push(Q[0]+re[0]/3),ge.push(Q[1]+re[1]/3),se=o.dxydi([],H-1,ie,1,te),pe.push(J[0]-se[0]/3),ge.push(J[1]-se[1]/3)),pe.push(J[0]),ge.push(J[1]),Q=J;else for(H=o.a2i(F),ne=Math.floor(Math.max(0,Math.min(D-2,H))),$=H-ne,ye.length=D,ye.crossLength=V,ye.xy=function(be){return o.evalxy([],H,be)},ye.dxy=function(be,Te){return o.dxydj([],ne,be,$,Te)},W=0;W<V;W++)ie=Math.min(V-2,W),te=W-ie,J=o.evalxy([],H,W),A.smoothing&&W>0&&(ue=o.dxydj([],ne,W-1,$,0),pe.push(Q[0]+ue[0]/3),ge.push(Q[1]+ue[1]/3),he=o.dxydj([],ne,W-1,$,1),pe.push(J[0]-he[0]/3),ge.push(J[1]-he[1]/3)),pe.push(J[0]),ge.push(J[1]),Q=J;return ye.axisLetter=_,ye.axis=y,ye.crossAxis=A,ye.value=F,ye.constvar=b,ye.index=l,ye.x=pe,ye.y=ge,ye.smoothing=A.smoothing,ye}function X(F){var H,W,ie,te,Q,ne=[],$=[],J={};if(J.length=g.length,J.crossLength=S.length,_==="b")for(ie=Math.max(0,Math.min(V-2,F)),Q=Math.min(1,Math.max(0,F-ie)),J.xy=function(re){return o.evalxy([],re,F)},J.dxy=function(re,se){return o.dxydi([],re,ie,se,Q)},H=0;H<O;H++)ne[H]=E[F*z][H],$[H]=P[F*z][H];else for(W=Math.max(0,Math.min(D-2,F)),te=Math.min(1,Math.max(0,F-W)),J.xy=function(re){return o.evalxy([],F,re)},J.dxy=function(re,se){return o.dxydj([],W,re,te,se)},H=0;H<I;H++)ne[H]=E[H][F*z],$[H]=P[H][F*z];return J.axisLetter=_,J.axis=y,J.crossAxis=A,J.value=g[F],J.constvar=b,J.index=F,J.x=ne,J.y=$,J.smoothing=A.smoothing,J}if(y.tickmode==="array"){for(i=5e-15,n=(r=[Math.floor((g.length-1-y.arraytick0)/y.arraydtick*(1+i)),Math.ceil(-y.arraytick0/y.arraydtick/(1+i))].sort(function(F,H){return F-H}))[0]-1,a=r[1]+1,l=n;l<a;l++)(s=y.arraytick0+y.arraydtick*l)<0||s>g.length-1||m.push(k(X(s),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=n;l<a;l++)if(t=y.arraytick0+y.arraydtick*l,c=Math.min(t+y.arraydtick,g.length-1),!(t<0||t>g.length-1||c<0||c>g.length-1))for(x=g[t],p=g[c],f=0;f<y.minorgridcount;f++)(v=c-t)<=0||(h=x+(p-x)*(f+1)/(y.minorgridcount+1)*(y.arraydtick/v))<g[0]||h>g[g.length-1]||w.push(k(j(h),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&d.push(k(X(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&d.push(k(X(g.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(i=5e-15,n=(r=[Math.floor((g[g.length-1]-y.tick0)/y.dtick*(1+i)),Math.ceil((g[0]-y.tick0)/y.dtick/(1+i))].sort(function(F,H){return F-H}))[0],a=r[1],l=n;l<=a;l++)u=y.tick0+y.dtick*l,m.push(k(j(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=n-1;l<a+1;l++)for(u=y.tick0+y.dtick*l,f=0;f<y.minorgridcount;f++)(h=u+y.dtick*(f+1)/(y.minorgridcount+1))<g[0]||h>g[g.length-1]||w.push(k(j(h),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&d.push(k(j(g[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&d.push(k(j(g[g.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},14724:function(U,C,e){var T=e(54460),k=e(92880).extendFlat;U.exports=function(o,_){var b,f,s,t=_._labels=[],i=_._gridlines;for(b=0;b<i.length;b++)s=i[b],["start","both"].indexOf(_.showticklabels)!==-1&&(f=T.tickText(_,s.value),k(f,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(f)),["end","both"].indexOf(_.showticklabels)!==-1&&(f=T.tickText(_,s.value),k(f,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(f))}},62284:function(U){U.exports=function(C,e,T,k){var o=C[0]-e[0],_=C[1]-e[1],b=T[0]-e[0],f=T[1]-e[1],s=Math.pow(o*o+_*_,.25),t=Math.pow(b*b+f*f,.25),i=(t*t*o-s*s*b)*k,r=(t*t*_-s*s*f)*k,n=t*(s+t)*3,a=s*(s+t)*3;return[[e[0]+(n&&i/n),e[1]+(n&&r/n)],[e[0]-(a&&i/a),e[1]-(a&&r/a)]]}},60776:function(U,C,e){var T=e(3400).isArrayOrTypedArray;U.exports=function(k,o,_){var b,f,s,t,i,r,n=[],a=T(k)?k.length:k,l=T(o)?o.length:o,u=T(k)?k:null,h=T(o)?o:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(a-1)),h&&(t=(h.length-1)/(h[h.length-1]-h[0])/(l-1));var c=1/0,x=-1/0;for(f=0;f<l;f++)for(n[f]=[],i=h?(h[f]-h[0])*t:f/(l-1),b=0;b<a;b++)r=(u?(u[b]-u[0])*s:b/(a-1))-i*_,c=Math.min(r,c),x=Math.max(r,x),n[f][b]=r;var p=1/(x-c),v=-c*p;for(f=0;f<l;f++)for(b=0;b<a;b++)n[f][b]=p*n[f][b]+v;return n}},30180:function(U,C,e){var T=e(62284),k=e(3400).ensureArray;function o(_,b,f){var s=-.5*f[0]+1.5*b[0],t=-.5*f[1]+1.5*b[1];return[(2*s+_[0])/3,(2*t+_[1])/3]}U.exports=function(_,b,f,s,t,i){var r,n,a,l,u,h,c,x,p,v,g=f[0].length,y=f.length,m=t?3*g-2:g,w=i?3*y-2:y;for(_=k(_,w),b=k(b,w),a=0;a<w;a++)_[a]=k(_[a],m),b[a]=k(b[a],m);for(n=0,l=0;n<y;n++,l+=i?3:1)for(u=_[l],h=b[l],c=f[n],x=s[n],r=0,a=0;r<g;r++,a+=t?3:1)u[a]=c[r],h[a]=x[r];if(t)for(n=0,l=0;n<y;n++,l+=i?3:1){for(r=1,a=3;r<g-1;r++,a+=3)p=T([f[n][r-1],s[n][r-1]],[f[n][r],s[n][r]],[f[n][r+1],s[n][r+1]],t),_[l][a-1]=p[0][0],b[l][a-1]=p[0][1],_[l][a+1]=p[1][0],b[l][a+1]=p[1][1];v=o([_[l][0],b[l][0]],[_[l][2],b[l][2]],[_[l][3],b[l][3]]),_[l][1]=v[0],b[l][1]=v[1],v=o([_[l][m-1],b[l][m-1]],[_[l][m-3],b[l][m-3]],[_[l][m-4],b[l][m-4]]),_[l][m-2]=v[0],b[l][m-2]=v[1]}if(i)for(a=0;a<m;a++){for(l=3;l<w-3;l+=3)p=T([_[l-3][a],b[l-3][a]],[_[l][a],b[l][a]],[_[l+3][a],b[l+3][a]],i),_[l-1][a]=p[0][0],b[l-1][a]=p[0][1],_[l+1][a]=p[1][0],b[l+1][a]=p[1][1];v=o([_[0][a],b[0][a]],[_[2][a],b[2][a]],[_[3][a],b[3][a]]),_[1][a]=v[0],b[1][a]=v[1],v=o([_[w-1][a],b[w-1][a]],[_[w-3][a],b[w-3][a]],[_[w-4][a],b[w-4][a]]),_[w-2][a]=v[0],b[w-2][a]=v[1]}if(t&&i)for(l=1;l<w;l+=(l+1)%3==0?2:1){for(a=3;a<m-3;a+=3)p=T([_[l][a-3],b[l][a-3]],[_[l][a],b[l][a]],[_[l][a+3],b[l][a+3]],t),_[l][a-1]=.5*(_[l][a-1]+p[0][0]),b[l][a-1]=.5*(b[l][a-1]+p[0][1]),_[l][a+1]=.5*(_[l][a+1]+p[1][0]),b[l][a+1]=.5*(b[l][a+1]+p[1][1]);v=o([_[l][0],b[l][0]],[_[l][2],b[l][2]],[_[l][3],b[l][3]]),_[l][1]=.5*(_[l][1]+v[0]),b[l][1]=.5*(b[l][1]+v[1]),v=o([_[l][m-1],b[l][m-1]],[_[l][m-3],b[l][m-3]],[_[l][m-4],b[l][m-4]]),_[l][m-2]=.5*(_[l][m-2]+v[0]),b[l][m-2]=.5*(b[l][m-2]+v[1])}return[_,b]}},24588:function(U){U.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(U){U.exports=function(C,e,T){return e&&T?function(k,o,_,b,f){var s,t,i,r,n,a;k||(k=[]),o*=3,_*=3;var l=b*b,u=1-b,h=u*u,c=u*b*2,x=-3*h,p=3*(h-c),v=3*(c-l),g=3*l,y=f*f,m=y*f,w=1-f,d=w*w,S=d*w;for(a=0;a<C.length;a++)s=x*(n=C[a])[_][o]+p*n[_][o+1]+v*n[_][o+2]+g*n[_][o+3],t=x*n[_+1][o]+p*n[_+1][o+1]+v*n[_+1][o+2]+g*n[_+1][o+3],i=x*n[_+2][o]+p*n[_+2][o+1]+v*n[_+2][o+2]+g*n[_+2][o+3],r=x*n[_+3][o]+p*n[_+3][o+1]+v*n[_+3][o+2]+g*n[_+3][o+3],k[a]=S*s+3*(d*f*t+w*y*i)+m*r;return k}:e?function(k,o,_,b,f){var s,t,i,r;k||(k=[]),o*=3;var n=b*b,a=1-b,l=a*a,u=a*b*2,h=-3*l,c=3*(l-u),x=3*(u-n),p=3*n,v=1-f;for(i=0;i<C.length;i++)s=h*(r=C[i])[_][o]+c*r[_][o+1]+x*r[_][o+2]+p*r[_][o+3],t=h*r[_+1][o]+c*r[_+1][o+1]+x*r[_+1][o+2]+p*r[_+1][o+3],k[i]=v*s+f*t;return k}:T?function(k,o,_,b,f){var s,t,i,r,n,a;k||(k=[]),_*=3;var l=f*f,u=l*f,h=1-f,c=h*h,x=c*h;for(n=0;n<C.length;n++)s=(a=C[n])[_][o+1]-a[_][o],t=a[_+1][o+1]-a[_+1][o],i=a[_+2][o+1]-a[_+2][o],r=a[_+3][o+1]-a[_+3][o],k[n]=x*s+3*(c*f*t+h*l*i)+u*r;return k}:function(k,o,_,b,f){var s,t,i,r;k||(k=[]);var n=1-f;for(i=0;i<C.length;i++)s=(r=C[i])[_][o+1]-r[_][o],t=r[_+1][o+1]-r[_+1][o],k[i]=n*s+f*t;return k}}},24464:function(U){U.exports=function(C,e,T){return e&&T?function(k,o,_,b,f){var s,t,i,r,n,a;k||(k=[]),o*=3,_*=3;var l=b*b,u=l*b,h=1-b,c=h*h,x=c*h,p=f*f,v=1-f,g=v*v,y=v*f*2,m=-3*g,w=3*(g-y),d=3*(y-p),S=3*p;for(a=0;a<C.length;a++)s=m*(n=C[a])[_][o]+w*n[_+1][o]+d*n[_+2][o]+S*n[_+3][o],t=m*n[_][o+1]+w*n[_+1][o+1]+d*n[_+2][o+1]+S*n[_+3][o+1],i=m*n[_][o+2]+w*n[_+1][o+2]+d*n[_+2][o+2]+S*n[_+3][o+2],r=m*n[_][o+3]+w*n[_+1][o+3]+d*n[_+2][o+3]+S*n[_+3][o+3],k[a]=x*s+3*(c*b*t+h*l*i)+u*r;return k}:e?function(k,o,_,b,f){var s,t,i,r,n,a;k||(k=[]),o*=3;var l=f*f,u=l*f,h=1-f,c=h*h,x=c*h;for(n=0;n<C.length;n++)s=(a=C[n])[_+1][o]-a[_][o],t=a[_+1][o+1]-a[_][o+1],i=a[_+1][o+2]-a[_][o+2],r=a[_+1][o+3]-a[_][o+3],k[n]=x*s+3*(c*f*t+h*l*i)+u*r;return k}:T?function(k,o,_,b,f){var s,t,i,r;k||(k=[]),_*=3;var n=1-b,a=f*f,l=1-f,u=l*l,h=l*f*2,c=-3*u,x=3*(u-h),p=3*(h-a),v=3*a;for(i=0;i<C.length;i++)s=c*(r=C[i])[_][o]+x*r[_+1][o]+p*r[_+2][o]+v*r[_+3][o],t=c*r[_][o+1]+x*r[_+1][o+1]+p*r[_+2][o+1]+v*r[_+3][o+1],k[i]=n*s+b*t;return k}:function(k,o,_,b,f){var s,t,i,r;k||(k=[]);var n=1-b;for(i=0;i<C.length;i++)s=(r=C[i])[_+1][o]-r[_][o],t=r[_+1][o+1]-r[_][o+1],k[i]=n*s+b*t;return k}}},29056:function(U){U.exports=function(C,e,T,k,o){var _=e-2,b=T-2;return k&&o?function(f,s,t){var i,r,n,a,l,u;f||(f=[]);var h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));h*=3,c*=3;var v=x*x,g=v*x,y=1-x,m=y*y,w=m*y,d=p*p,S=d*p,A=1-p,E=A*A,P=E*A;for(u=0;u<C.length;u++)i=w*(l=C[u])[c][h]+3*(m*x*l[c][h+1]+y*v*l[c][h+2])+g*l[c][h+3],r=w*l[c+1][h]+3*(m*x*l[c+1][h+1]+y*v*l[c+1][h+2])+g*l[c+1][h+3],n=w*l[c+2][h]+3*(m*x*l[c+2][h+1]+y*v*l[c+2][h+2])+g*l[c+2][h+3],a=w*l[c+3][h]+3*(m*x*l[c+3][h+1]+y*v*l[c+3][h+2])+g*l[c+3][h+3],f[u]=P*i+3*(E*p*r+A*d*n)+S*a;return f}:k?function(f,s,t){f||(f=[]);var i,r,n,a,l,u,h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));h*=3;var v=x*x,g=v*x,y=1-x,m=y*y,w=m*y,d=1-p;for(l=0;l<C.length;l++)i=d*(u=C[l])[c][h]+p*u[c+1][h],r=d*u[c][h+1]+p*u[c+1][h+1],n=d*u[c][h+2]+p*u[c+1][h+1],a=d*u[c][h+3]+p*u[c+1][h+1],f[l]=w*i+3*(m*x*r+y*v*n)+g*a;return f}:o?function(f,s,t){f||(f=[]);var i,r,n,a,l,u,h=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-h)),p=Math.max(0,Math.min(1,t-c));c*=3;var v=p*p,g=v*p,y=1-p,m=y*y,w=m*y,d=1-x;for(l=0;l<C.length;l++)i=d*(u=C[l])[c][h]+x*u[c][h+1],r=d*u[c+1][h]+x*u[c+1][h+1],n=d*u[c+2][h]+x*u[c+2][h+1],a=d*u[c+3][h]+x*u[c+3][h+1],f[l]=w*i+3*(m*p*r+y*v*n)+g*a;return f}:function(f,s,t){f||(f=[]);var i,r,n,a,l=Math.max(0,Math.min(Math.floor(s),_)),u=Math.max(0,Math.min(Math.floor(t),b)),h=Math.max(0,Math.min(1,s-l)),c=Math.max(0,Math.min(1,t-u)),x=1-c,p=1-h;for(n=0;n<C.length;n++)i=p*(a=C[n])[u][l]+h*a[u][l+1],r=p*a[u+1][l]+h*a[u+1][l+1],f[n]=x*i+c*r;return f}}},38356:function(U,C,e){var T=e(3400),k=e(86411),o=e(93504),_=e(85720),b=e(22548);U.exports=function(f,s,t,i){function r(a,l){return T.coerce(f,s,_,a,l)}s._clipPathId="clip"+s.uid+"carpet";var n=r("color",b.defaultLine);T.coerceFont(r,"font",i.font),r("carpet"),o(f,s,i,r,n),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),k(f,s,r)||(s.visible=!1),s._cheater&&r("cheaterslope"),r("zorder")):s.visible=!1}},95856:function(U,C,e){U.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(U){U.exports=function(C,e){for(var T,k=C._fullData.length,o=0;o<k;o++){var _=C._fullData[o];if(_.index!==e.index&&_.type==="carpet"&&(T||(T=_),_.carpet===e.carpet))return _}return T}},53416:function(U){U.exports=function(C,e,T){if(C.length===0)return"";var k,o=[],_=T?3:1;for(k=0;k<C.length;k+=_)o.push(C[k]+","+e[k]),T&&k<C.length-_&&(o.push("C"),o.push([C[k+1]+","+e[k+1],C[k+2]+","+e[k+2]+" "].join(" ")));return o.join(T?"":"L")}},87072:function(U,C,e){var T=e(3400).isArrayOrTypedArray;U.exports=function(k,o,_){var b;for(T(k)?k.length>o.length&&(k=k.slice(0,o.length)):k=[],b=0;b<o.length;b++)k[b]=_(o[b]);return k}},15584:function(U){U.exports=function(C,e,T,k,o,_){var b=o[0]*C.dpdx(e),f=o[1]*C.dpdy(T),s=1,t=1;if(_){var i=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r=Math.sqrt(_[0]*_[0]+_[1]*_[1]),n=(o[0]*_[0]+o[1]*_[1])/i/r;t=Math.max(0,n)}var a=180*Math.atan2(f,b)/Math.PI;return a<-90?(a+=180,s=-s):a>90&&(a-=180,s=-s),{angle:a,flip:s,p:C.c2p(k,e,T),offsetMultplier:t}}},164:function(U,C,e){var T=e(33428),k=e(43616),o=e(87072),_=e(53416),b=e(15584),f=e(72736),s=e(3400),t=s.strRotate,i=s.strTranslate,r=e(84284);function n(c,x,p,v,g,y,m){var w="const-"+g+"-lines",d=p.selectAll("."+w).data(y);d.enter().append("path").classed(w,!0).style("vector-effect",m?"none":"non-scaling-stroke"),d.each(function(S){var A=S,E=A.x,P=A.y,O=o([],E,c.c2p),I=o([],P,x.c2p),D="M"+_(O,I,A.smoothing);T.select(this).attr("d",D).style("stroke-width",A.width).style("stroke",A.color).style("stroke-dasharray",k.dashStyle(A.dash,A.width)).style("fill","none")}),d.exit().remove()}function a(c,x,p,v,g,y,m,w){var d=y.selectAll("text."+w).data(m);d.enter().append("text").classed(w,!0);var S=0,A={};return d.each(function(E,P){var O;if(E.axis.tickangle==="auto")O=b(v,x,p,E.xy,E.dxy);else{var I=(E.axis.tickangle+180)*Math.PI/180;O=b(v,x,p,E.xy,[Math.cos(I),Math.sin(I)])}P||(A={angle:O.angle,flip:O.flip});var D=(E.endAnchor?-1:1)*O.flip,V=T.select(this).attr({"text-anchor":D>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(f.convertToTspans,c),z=k.bBox(this);V.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(E.axis.labelpadding*D,.3*z.height)),S=Math.max(S,z.width+E.axis.labelpadding)}),d.exit().remove(),A.maxExtent=S,A}U.exports=function(c,x,p,v){var g=c._context.staticPlot,y=x.xaxis,m=x.yaxis,w=c._fullLayout._clips;s.makeTraceGroups(v,p,"trace").each(function(d){var S=T.select(this),A=d[0],E=A.trace,P=E.aaxis,O=E.baxis,I=s.ensureSingle(S,"g","minorlayer"),D=s.ensureSingle(S,"g","majorlayer"),V=s.ensureSingle(S,"g","boundarylayer"),z=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),n(y,m,D,0,"a",P._gridlines,!0),n(y,m,D,0,"b",O._gridlines,!0),n(y,m,I,0,"a",P._minorgridlines,!0),n(y,m,I,0,"b",O._minorgridlines,!0),n(y,m,V,0,"a-boundary",P._boundarylines,g),n(y,m,V,0,"b-boundary",O._boundarylines,g);var j=a(c,y,m,E,0,z,P._labels,"a-label"),X=a(c,y,m,E,0,z,O._labels,"b-label");(function(F,H,W,ie,te,Q,ne,$){var J,re,se,ue,he=s.aggNums(Math.min,null,W.a),pe=s.aggNums(Math.max,null,W.a),ge=s.aggNums(Math.min,null,W.b),ye=s.aggNums(Math.max,null,W.b);J=.5*(he+pe),re=ge,se=W.ab2xy(J,re,!0),ue=W.dxyda_rough(J,re),ne.angle===void 0&&s.extendFlat(ne,b(W,te,Q,se,W.dxydb_rough(J,re))),h(F,H,W,0,se,ue,W.aaxis,te,Q,ne,"a-title"),J=he,re=.5*(ge+ye),se=W.ab2xy(J,re,!0),ue=W.dxydb_rough(J,re),$.angle===void 0&&s.extendFlat($,b(W,te,Q,se,W.dxyda_rough(J,re))),h(F,H,W,0,se,ue,W.baxis,te,Q,$,"b-title")})(c,z,E,0,y,m,j,X),function(F,H,W,ie,te){var Q,ne,$,J,re=W.select("#"+F._clipPathId);re.size()||(re=W.append("clipPath").classed("carpetclip",!0));var se=s.ensureSingle(re,"path","carpetboundary"),ue=H.clipsegments,he=[];for(J=0;J<ue.length;J++)Q=ue[J],ne=o([],Q.x,ie.c2p),$=o([],Q.y,te.c2p),he.push(_(ne,$,Q.bicubic));var pe="M"+he.join("L")+"Z";re.attr("id",F._clipPathId),se.attr("d",pe)}(E,A,w,y,m)})};var l=r.LINE_SPACING,u=(1-r.MID_SHIFT)/l+1;function h(c,x,p,v,g,y,m,w,d,S,A){var E=[];m.title.text&&E.push(m.title.text);var P=x.selectAll("text."+A).data(E),O=S.maxExtent;P.enter().append("text").classed(A,!0),P.each(function(){var I=b(p,w,d,g,y);["start","both"].indexOf(m.showticklabels)===-1&&(O=0);var D=m.title.font.size;O+=D+m.title.offset;var V=(S.angle+(S.flip<0?180:0)-I.angle+450)%360,z=V>90&&V<270,j=T.select(this);j.text(m.title.text).call(f.convertToTspans,c),z&&(O=(-f.lineCount(j)+u)*l*D-O),j.attr("transform",i(I.p[0],I.p[1])+t(I.angle)+i(0,O)).attr("text-anchor","middle").call(k.font,m.title.font)}),P.exit().remove()}},81e3:function(U,C,e){var T=e(24588),k=e(14952).findBin,o=e(30180),_=e(29056),b=e(26435),f=e(24464);U.exports=function(s){var t=s._a,i=s._b,r=t.length,n=i.length,a=s.aaxis,l=s.baxis,u=t[0],h=t[r-1],c=i[0],x=i[n-1],p=t[t.length-1]-t[0],v=i[i.length-1]-i[0],g=p*T.RELATIVE_CULL_TOLERANCE,y=v*T.RELATIVE_CULL_TOLERANCE;u-=g,h+=g,c-=y,x+=y,s.isVisible=function(m,w){return m>u&&m<h&&w>c&&w<x},s.isOccluded=function(m,w){return m<u||m>h||w<c||w>x},s.setScale=function(){var m=s._x,w=s._y,d=o(s._xctrl,s._yctrl,m,w,a.smoothing,l.smoothing);s._xctrl=d[0],s._yctrl=d[1],s.evalxy=_([s._xctrl,s._yctrl],r,n,a.smoothing,l.smoothing),s.dxydi=b([s._xctrl,s._yctrl],a.smoothing,l.smoothing),s.dxydj=f([s._xctrl,s._yctrl],a.smoothing,l.smoothing)},s.i2a=function(m){var w=Math.max(0,Math.floor(m[0]),r-2),d=m[0]-w;return(1-d)*t[w]+d*t[w+1]},s.j2b=function(m){var w=Math.max(0,Math.floor(m[1]),r-2),d=m[1]-w;return(1-d)*i[w]+d*i[w+1]},s.ij2ab=function(m){return[s.i2a(m[0]),s.j2b(m[1])]},s.a2i=function(m){var w=Math.max(0,Math.min(k(m,t),r-2)),d=t[w],S=t[w+1];return Math.max(0,Math.min(r-1,w+(m-d)/(S-d)))},s.b2j=function(m){var w=Math.max(0,Math.min(k(m,i),n-2)),d=i[w],S=i[w+1];return Math.max(0,Math.min(n-1,w+(m-d)/(S-d)))},s.ab2ij=function(m){return[s.a2i(m[0]),s.b2j(m[1])]},s.i2c=function(m,w){return s.evalxy([],m,w)},s.ab2xy=function(m,w,d){if(!d&&(m<t[0]||m>t[r-1]|w<i[0]||w>i[n-1]))return[!1,!1];var S=s.a2i(m),A=s.b2j(w),E=s.evalxy([],S,A);if(d){var P,O,I,D,V=0,z=0,j=[];m<t[0]?(P=0,O=0,V=(m-t[0])/(t[1]-t[0])):m>t[r-1]?(P=r-2,O=1,V=(m-t[r-1])/(t[r-1]-t[r-2])):O=S-(P=Math.max(0,Math.min(r-2,Math.floor(S)))),w<i[0]?(I=0,D=0,z=(w-i[0])/(i[1]-i[0])):w>i[n-1]?(I=n-2,D=1,z=(w-i[n-1])/(i[n-1]-i[n-2])):D=A-(I=Math.max(0,Math.min(n-2,Math.floor(A)))),V&&(s.dxydi(j,P,I,O,D),E[0]+=j[0]*V,E[1]+=j[1]*V),z&&(s.dxydj(j,P,I,O,D),E[0]+=j[0]*z,E[1]+=j[1]*z)}return E},s.c2p=function(m,w,d){return[w.c2p(m[0]),d.c2p(m[1])]},s.p2x=function(m,w,d){return[w.p2c(m[0]),d.p2c(m[1])]},s.dadi=function(m){var w=Math.max(0,Math.min(t.length-2,m));return t[w+1]-t[w]},s.dbdj=function(m){var w=Math.max(0,Math.min(i.length-2,m));return i[w+1]-i[w]},s.dxyda=function(m,w,d,S){var A=s.dxydi(null,m,w,d,S),E=s.dadi(m,d);return[A[0]/E,A[1]/E]},s.dxydb=function(m,w,d,S){var A=s.dxydj(null,m,w,d,S),E=s.dbdj(w,S);return[A[0]/E,A[1]/E]},s.dxyda_rough=function(m,w,d){var S=p*(d||.1),A=s.ab2xy(m+S,w,!0),E=s.ab2xy(m-S,w,!0);return[.5*(A[0]-E[0])/S,.5*(A[1]-E[1])/S]},s.dxydb_rough=function(m,w,d){var S=v*(d||.1),A=s.ab2xy(m,w+S,!0),E=s.ab2xy(m,w-S,!0);return[.5*(A[0]-E[0])/S,.5*(A[1]-E[1])/S]},s.dpdx=function(m){return m._m},s.dpdy=function(m){return m._m}}},51512:function(U,C,e){var T=e(3400);U.exports=function(k,o,_){var b,f,s,t=[],i=[],r=k[0].length,n=k.length;function a(F,H){var W,ie=0,te=0;return F>0&&(W=k[H][F-1])!==void 0&&(te++,ie+=W),F<r-1&&(W=k[H][F+1])!==void 0&&(te++,ie+=W),H>0&&(W=k[H-1][F])!==void 0&&(te++,ie+=W),H<n-1&&(W=k[H+1][F])!==void 0&&(te++,ie+=W),ie/Math.max(1,te)}var l,u,h,c,x,p,v,g,y,m,w,d=0;for(b=0;b<r;b++)for(f=0;f<n;f++)k[f][b]===void 0&&(t.push(b),i.push(f),k[f][b]=a(b,f)),d=Math.max(d,Math.abs(k[f][b]));if(!t.length)return k;var S=0,A=0,E=t.length;do{for(S=0,s=0;s<E;s++){b=t[s],f=i[s];var P,O,I,D,V,z,j=0,X=0;b===0?(I=o[V=Math.min(r-1,2)],D=o[1],P=k[f][V],X+=(O=k[f][1])+(O-P)*(o[0]-D)/(D-I),j++):b===r-1&&(I=o[V=Math.max(0,r-3)],D=o[r-2],P=k[f][V],X+=(O=k[f][r-2])+(O-P)*(o[r-1]-D)/(D-I),j++),(b===0||b===r-1)&&f>0&&f<n-1&&(l=_[f+1]-_[f],X+=((u=_[f]-_[f-1])*k[f+1][b]+l*k[f-1][b])/(u+l),j++),f===0?(I=_[z=Math.min(n-1,2)],D=_[1],P=k[z][b],X+=(O=k[1][b])+(O-P)*(_[0]-D)/(D-I),j++):f===n-1&&(I=_[z=Math.max(0,n-3)],D=_[n-2],P=k[z][b],X+=(O=k[n-2][b])+(O-P)*(_[n-1]-D)/(D-I),j++),(f===0||f===n-1)&&b>0&&b<r-1&&(l=o[b+1]-o[b],X+=((u=o[b]-o[b-1])*k[f][b+1]+l*k[f][b-1])/(u+l),j++),j?X/=j:(h=o[b+1]-o[b],c=o[b]-o[b-1],g=(x=_[f+1]-_[f])*(p=_[f]-_[f-1])*(x+p),X=((v=h*c*(h+c))*(p*k[f+1][b]+x*k[f-1][b])+g*(c*k[f][b+1]+h*k[f][b-1]))/(g*(c+h)+v*(p+x))),S+=(m=(y=X-k[f][b])/d)*m,w=j?0:.85,k[f][b]+=y*(1+w)}S=Math.sqrt(S)}while(A++<100&&S>1e-5);return T.log("Smoother converged to",S,"after",A,"iterations"),k}},86411:function(U,C,e){var T=e(3400).isArray1D;U.exports=function(k,o,_){var b=_("x"),f=b&&b.length,s=_("y"),t=s&&s.length;if(!f&&!t)return!1;if(o._cheater=!b,f&&!T(b)||t&&!T(s))o._length=null;else{var i=f?b.length:1/0;t&&(i=Math.min(i,s.length)),o.a&&o.a.length&&(i=Math.min(i,o.a.length)),o.b&&o.b.length&&(i=Math.min(i,o.b.length)),o._length=i}return!0}},83372:function(U,C,e){var T=e(21776).Ks,k=e(6096),o=e(49084),_=e(45464),b=e(22548).defaultLine,f=e(92880).extendFlat,s=k.marker.line;U.exports=f({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:f({},k.geojson,{}),featureidkey:k.featureidkey,text:f({},k.text,{}),hovertext:f({},k.hovertext,{}),marker:{line:{color:f({},s.color,{dflt:b}),width:f({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:f({},_.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:T(),showlegend:f({},_.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(U,C,e){var T=e(38248),k=e(39032).BADNUM,o=e(47128),_=e(20148),b=e(4500);function f(s){return s&&typeof s=="string"}U.exports=function(s,t){var i,r=t._length,n=new Array(r);i=t.geojson?function(c){return f(c)||T(c)}:f;for(var a=0;a<r;a++){var l=n[a]={},u=t.locations[a],h=t.z[a];i(u)&&T(h)?(l.loc=u,l.z=h):(l.loc=null,l.z=k),l.index=a}return _(n,t),o(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(n,t),n}},30972:function(U,C,e){var T=e(3400),k=e(27260),o=e(83372);U.exports=function(_,b,f,s){function t(l,u){return T.coerce(_,b,o,l,u)}var i=t("locations"),r=t("z");if(i&&i.length&&T.isArrayOrTypedArray(r)&&r.length){b._length=Math.min(i.length,r.length);var n,a=t("geojson");(typeof a=="string"&&a!==""||T.isPlainObject(a))&&(n="geojson-id"),t("locationmode",n)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,b,s,t,{prefix:"",cLetter:"z"}),T.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},52428:function(U){U.exports=function(C,e,T,k,o){C.location=e.location,C.z=e.z;var _=k[o];return _.fIn&&_.fIn.properties&&(C.properties=_.fIn.properties),C.ct=_.ct,C}},69224:function(U,C,e){var T=e(54460),k=e(83372),o=e(3400).fillText;U.exports=function(_,b,f){var s,t,i,r,n=_.cd,a=n[0].trace,l=_.subplot,u=[b,f],h=[b+360,f];for(t=0;t<n.length;t++)if(r=!1,(s=n[t])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(r=!r),s._polygons[i].contains(h)&&(r=!r);if(r)break}if(r&&s)return _.x0=_.x1=_.xa.c2p(s.ct),_.y0=_.y1=_.ya.c2p(s.ct),_.index=s.index,_.location=s.loc,_.z=s.z,_.zLabel=T.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,_.hovertemplate=s.hovertemplate,function(c,x,p){if(!x.hovertemplate){var v=p.hi||x.hoverinfo,g=String(p.loc),y=v==="all"?k.hoverinfo.flags:v.split("+"),m=y.indexOf("name")!==-1,w=y.indexOf("location")!==-1,d=y.indexOf("z")!==-1,S=y.indexOf("text")!==-1,A=[];!m&&w?c.nameOverride=g:(m&&(c.nameOverride=x.name),w&&A.push(g)),d&&A.push(c.zLabel),S&&o(p,x,A),c.extraText=A.join("<br>")}}(_,a,s),[_]}},54272:function(U,C,e){U.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(U,C,e){var T=e(33428),k=e(3400),o=e(27144),_=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,f=e(7947).style;U.exports={calcGeoJSON:function(s,t){for(var i=s[0].trace,r=t[i.geo],n=r._subplot,a=i.locationmode,l=i._length,u=a==="geojson-id"?o.extractTraceFeature(s):_(i,n.topojson),h=[],c=[],x=0;x<l;x++){var p=s[x],v=a==="geojson-id"?p.fOut:o.locationToFeature(a,p.loc,u);if(v){p.geojson=v,p.ct=v.properties.ct,p._polygons=o.feature2polygons(v);var g=o.computeBbox(v);h.push(g[0],g[2]),c.push(g[1],g[3])}else p.geojson=null}if(r.fitbounds==="geojson"&&a==="geojson-id"){var y=o.computeBbox(o.getTraceGeojson(i));h=[y[0],y[2]],c=[y[1],y[3]]}var m={padded:!0};i._extremes.lon=b(r.lonaxis._ax,h,m),i._extremes.lat=b(r.lataxis._ax,c,m)},plot:function(s,t,i){var r=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(r,i,"trace choropleth").each(function(n){var a=T.select(this).selectAll("path.choroplethlocation").data(k.identity);a.enter().append("path").classed("choroplethlocation",!0),a.exit().remove(),f(s,n)})}}},17328:function(U){U.exports=function(C,e){var T,k,o,_,b,f=C.cd,s=C.xaxis,t=C.yaxis,i=[];if(e===!1)for(T=0;T<f.length;T++)f[T].selected=0;else for(T=0;T<f.length;T++)(o=(k=f[T]).ct)&&(_=s.c2p(o),b=t.c2p(o),e.contains([_,b],null,T,C)?(i.push({pointNumber:T,lon:o[0],lat:o[1]}),k.selected=1):k.selected=0);return i}},7947:function(U,C,e){var T=e(33428),k=e(76308),o=e(43616),_=e(8932);function b(f,s){var t=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},n=r.line||{},a=_.makeColorScaleFuncFromTrace(t);i.each(function(l){T.select(this).attr("fill",a(l.z)).call(k.stroke,l.mlc||n.color).call(o.dashLine,"",l.mlw||n.width||0).style("opacity",r.opacity)}),o.selectedPointStyle(i,t)}U.exports={style:function(f,s){s&&b(0,s)},styleOnSelect:function(f,s){var t=s[0].node3,i=s[0].trace;i.selectedpoints?o.selectedPointStyle(t.selectAll(".choroplethlocation"),i):b(0,s)}}},45608:function(U,C,e){var T=e(83372),k=e(49084),o=e(21776).Ks,_=e(45464),b=e(92880).extendFlat;U.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},T.featureidkey,{}),below:{valType:"string",editType:"plot"},text:T.text,hovertext:T.hovertext,marker:{line:{color:b({},T.marker.line.color,{editType:"plot"}),width:b({},T.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},T.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},T.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},T.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:T.hoverinfo,hovertemplate:o({},{keys:["properties"]}),showlegend:b({},_.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(U,C,e){var T=e(38248),k=e(3400),o=e(8932),_=e(43616),b=e(44808).makeBlank,f=e(27144);function s(t){var i,r=t[0].trace,n=r._opts;if(r.selectedpoints){for(var a=_.makeSelectedPointStyleFns(r),l=0;l<t.length;l++){var u=t[l];u.fOut&&(u.fOut.properties.mo2=a.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return k.extendFlat(n.fill.paint,{"fill-opacity":i}),k.extendFlat(n.line.paint,{"line-opacity":i}),n}U.exports={convert:function(t){var i=t[0].trace,r=i.visible===!0&&i._length!==0,n={layout:{visibility:"none"},paint:{}},a={layout:{visibility:"none"},paint:{}},l=i._opts={fill:n,line:a,geojson:b()};if(!r)return l;var u=f.extractTraceFeature(t);if(!u)return l;var h,c,x,p=o.makeColorScaleFuncFromTrace(i),v=i.marker,g=v.line||{};k.isArrayOrTypedArray(v.opacity)&&(h=function(A){var E=A.mo;return T(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(g.color)&&(c=function(A){return A.mlc}),k.isArrayOrTypedArray(g.width)&&(x=function(A){return A.mlw});for(var y=0;y<t.length;y++){var m=t[y],w=m.fOut;if(w){var d=w.properties;d.fc=p(m.z),h&&(d.mo=h(m)),c&&(d.mlc=c(m)),x&&(d.mlw=x(m)),m.ct=d.ct,m._polygons=f.feature2polygons(w)}}var S=h?{type:"identity",property:"mo"}:v.opacity;return k.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(a.paint,{"line-color":c?{type:"identity",property:"mlc"}:g.color,"line-width":x?{type:"identity",property:"mlw"}:g.width,"line-opacity":S}),n.layout.visibility="visible",a.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(t),l},convertOnSelect:s}},9352:function(U,C,e){var T=e(3400),k=e(27260),o=e(45608);U.exports=function(_,b,f,s){function t(a,l){return T.coerce(_,b,o,a,l)}var i=t("locations"),r=t("z"),n=t("geojson");T.isArrayOrTypedArray(i)&&i.length&&T.isArrayOrTypedArray(r)&&r.length&&(typeof n=="string"&&n!==""||T.isPlainObject(n))?(t("featureidkey"),b._length=Math.min(i.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,b,s,t,{prefix:"",cLetter:"z"}),T.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},85404:function(U,C,e){U.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(T,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(T,k){for(var o=k.getMapLayers(),_=o.length-2;_>=0;_--){var b=o[_].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var f=_+1;f<o.length;f++)if(typeof(b=o[f].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(U,C,e){var T=e(13504).convert,k=e(13504).convertOnSelect,o=e(47552).traceLayerPrefix;function _(f,s){this.type="choroplethmapbox",this.subplot=f,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",o+s+"-fill"],["line",o+s+"-line"]],this.below=null}var b=_.prototype;b.update=function(f){this._update(T(f)),f[0].trace._glTrace=this},b.updateOnSelect=function(f){this._update(k(f))},b._update=function(f){var s=this.subplot,t=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(f.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(f,i),this.below=i);for(var r=0;r<t.length;r++){var n=t[r],a=n[0],l=n[1],u=f[a];s.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(f,s){for(var t=this.subplot,i=this.layerList,r=this.sourceId,n=0;n<i.length;n++){var a=i[n],l=a[0],u=f[l];t.addLayer({type:l,id:a[1],source:r,layout:u.layout,paint:u.paint},s)}},b._removeLayers=function(){for(var f=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)f.removeLayer(s[t][1])},b.dispose=function(){var f=this.subplot.map;this._removeLayers(),f.removeSource(this.sourceId)},U.exports=function(f,s){var t=s[0].trace,i=new _(f,t.uid),r=i.sourceId,n=T(s),a=i.below=f.belowLookup["trace-"+t.uid];return f.map.addSource(r,{type:"geojson",data:n.geojson}),i._addLayers(n,a),s[0].trace._glTrace=i,i}},86040:function(U,C,e){var T=e(49084),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,T("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,U.exports=s},83344:function(U,C,e){var T=e(47128);U.exports=function(k,o){for(var _=o.u,b=o.v,f=o.w,s=Math.min(o.x.length,o.y.length,o.z.length,_.length,b.length,f.length),t=-1/0,i=1/0,r=0;r<s;r++){var n=_[r],a=b[r],l=f[r],u=Math.sqrt(n*n+a*a+l*l);t=Math.max(t,u),i=Math.min(i,u)}o._len=s,o._normMax=t,T(k,o,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(U,C,e){var T=e(67792).gl_cone3d,k=e(67792).gl_cone3d.createConeMesh,o=e(3400).simpleMap,_=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(3400).isArrayOrTypedArray,s=e(52094);function t(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,c=this.data.x[h],x=this.data.y[h],p=this.data.z[h],v=this.data.u[h],g=this.data.v[h],y=this.data.w[h];u.traceCoordinate=[c,x,p,v,g,y,Math.sqrt(v*v+g*g+y*y)];var m=this.data.hovertext||this.data.text;return f(m)&&m[h]!==void 0?u.textLabel=m[h]:m&&(u.textLabel=m),!0}};var r={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function l(u,h){var c=u.fullSceneLayout,x=u.dataScale,p={};function v(d,S){var A=c[S],E=x[r[S]];return o(d,function(P){return A.d2l(P)*E})}p.vectors=s(v(h.u,"xaxis"),v(h.v,"yaxis"),v(h.w,"zaxis"),h._len),p.positions=s(v(h.x,"xaxis"),v(h.y,"yaxis"),v(h.z,"zaxis"),h._len);var g=b(h);p.colormap=_(h),p.vertexIntensityBounds=[g.min/h._normMax,g.max/h._normMax],p.coneOffset=n[h.anchor];var y=h.sizemode;y==="scaled"?p.coneSize=h.sizeref||.5:y==="absolute"?p.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:y==="raw"&&(p.coneSize=h.sizeref),p.coneSizemode=y;var m=T(p),w=h.lightposition;return m.lightPosition=[w.x,w.y,w.z],m.ambient=h.lighting.ambient,m.diffuse=h.lighting.diffuse,m.specular=h.lighting.specular,m.roughness=h.lighting.roughness,m.fresnel=h.lighting.fresnel,m.opacity=h.opacity,h._pad=a[h.anchor]*m.vectorScale*m.coneScale*h._normMax,m}i.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(u,h){var c=u.glplot.gl,x=l(u,h),p=k(c,x),v=new t(u,h.uid);return v.mesh=p,v.data=h,p._trace=v,u.glplot.add(p),v}},86096:function(U,C,e){var T=e(3400),k=e(27260),o=e(86040);U.exports=function(_,b,f,s){function t(c,x){return T.coerce(_,b,o,c,x)}var i=t("u"),r=t("v"),n=t("w"),a=t("x"),l=t("y"),u=t("z");if(i&&i.length&&r&&r.length&&n&&n.length&&a&&a.length&&l&&l.length&&u&&u.length){var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null}else b.visible=!1}},26048:function(U,C,e){U.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(T,k){return T.norm=k.traceCoordinate[6],T},meta:{}}},67104:function(U,C,e){var T=e(83328),k=e(52904),o=e(29736),_=o.axisHoverFormat,b=o.descriptionOnlyNumbers,f=e(49084),s=e(98192).u,t=e(25376),i=e(92880).extendFlat,r=e(69104),n=r.COMPARISON_OPS2,a=r.INTERVAL_OPS,l=k.line;U.exports=i({z:T.z,x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,text:T.text,hovertext:T.hovertext,transpose:T.transpose,xtype:T.xtype,ytype:T.ytype,xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:T.hovertemplate,texttemplate:i({},T.texttemplate,{}),textfont:i({},T.textfont,{}),hoverongaps:T.hoverongaps,connectgaps:i({},T.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},l.smoothing,{}),editType:"plot"},zorder:k.zorder},f("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(U,C,e){var T=e(8932),k=e(19512),o=e(54444),_=e(46960);U.exports=function(b,f){var s=k(b,f),t=s[0].z;o(f,t);var i,r=f.contours,n=T.extractOpts(f);if(r.coloring==="heatmap"&&n.auto&&f.autocontour===!1){var a=r.start,l=_(r),u=r.size||1,h=Math.floor((l-a)/u)+1;isFinite(u)||(u=1,h=1);var c=a-u/2;i=[c,c+h*u]}else i=t;return T.calc(b,f,{vals:i,cLetter:"z"}),s}},56008:function(U){U.exports=function(C,e){var T,k=C[0],o=k.z;switch(e.type){case"levels":var _=Math.min(o[0][0],o[0][1]);for(T=0;T<C.length;T++){var b=C[T];b.prefixBoundary=!b.edgepaths.length&&(_>b.level||b.starts.length&&_===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var f=k.x.length,s=k.y.length,t=-1/0,i=1/0;for(T=0;T<s;T++)i=Math.min(i,o[T][0]),i=Math.min(i,o[T][f-1]),t=Math.max(t,o[T][0]),t=Math.max(t,o[T][f-1]);for(T=1;T<f-1;T++)i=Math.min(i,o[0][T]),i=Math.min(i,o[s-1][T]),t=Math.max(t,o[0][T]),t=Math.max(t,o[s-1][T]);var r,n,a=e.value;switch(e._operation){case">":a>t&&(k.prefixBoundary=!0);break;case"<":(a<i||k.starts.length&&a===i)&&(k.prefixBoundary=!0);break;case"[]":r=Math.min(a[0],a[1]),((n=Math.max(a[0],a[1]))<i||r>t||k.starts.length&&n===i)&&(k.prefixBoundary=!0);break;case"][":r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]),r<i&&n>t&&(k.prefixBoundary=!0)}}}},55296:function(U,C,e){var T=e(8932),k=e(41076),o=e(46960);U.exports={min:"zmin",max:"zmax",calc:function(_,b,f){var s=b.contours,t=b.line,i=s.size||1,r=s.coloring,n=k(b,{isColorbar:!0});if(r==="heatmap"){var a=T.extractOpts(b);f._fillgradient=a.reversescale?T.flipScale(a.colorscale):a.colorscale,f._zrange=[a.min,a.max]}else r==="fill"&&(f._fillcolor=n);f._line={color:r==="lines"?n:t.color,width:s.showlines!==!1?t.width:0,dash:t.dash},f._levels={start:s.start,end:o(s),size:i}}}},93252:function(U){U.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(U,C,e){var T=e(38248),k=e(17428),o=e(76308),_=o.addOpacity,b=o.opacity,f=e(69104),s=e(3400).isArrayOrTypedArray,t=f.CONSTRAINT_REDUCTION,i=f.COMPARISON_OPS2;U.exports=function(r,n,a,l,u,h){var c,x,p,v=n.contours,g=a("contours.operation");v._operation=t[g],function(y,m){var w;i.indexOf(m.operation)===-1?(y("contours.value",[0,1]),s(m.value)?m.value.length>2?m.value=m.value.slice(2):m.length===0?m.value=[0,1]:m.length<2?(w=parseFloat(m.value[0]),m.value=[w,w+1]):m.value=[parseFloat(m.value[0]),parseFloat(m.value[1])]:T(m.value)&&(w=parseFloat(m.value),m.value=[w,w+1])):(y("contours.value",0),T(m.value)||(s(m.value)?m.value=parseFloat(m.value[0]):m.value=0))}(a,v),g==="="?c=v.showlines=!0:(c=a("contours.showlines"),p=a("fillcolor",_((r.line||{}).color||u,.5))),c&&(x=a("line.color",p&&b(p)?_(n.fillcolor,1):u),a("line.width",2),a("line.dash")),a("line.smoothing"),k(a,l,x,h)}},3212:function(U,C,e){var T=e(69104),k=e(38248);function o(f,s){var t,i=Array.isArray(s);function r(n){return k(n)?+n:null}return T.COMPARISON_OPS2.indexOf(f)!==-1?t=r(i?s[0]:s):T.INTERVAL_OPS.indexOf(f)!==-1?t=i?[r(s[0]),r(s[1])]:[r(s),r(s)]:T.SET_OPS.indexOf(f)!==-1&&(t=i?s.map(r):[r(s)]),t}function _(f){return function(s){s=o(f,s);var t=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:t,end:i,size:i-t}}}function b(f){return function(s){return{start:s=o(f,s),end:1/0,size:1/0}}}U.exports={"[]":_("[]"),"][":_("]["),">":b(">"),"<":b("<"),"=":b("=")}},84952:function(U){U.exports=function(C,e,T,k){var o=k("contours.start"),_=k("contours.end"),b=o===!1||_===!1,f=T("contours.size");!(b?e.autocontour=!0:T("autocontour",!1))&&f||T("ncontours")}},82172:function(U,C,e){var T=e(3400);function k(o){return T.extendFlat({},o,{edgepaths:T.extendDeep([],o.edgepaths),paths:T.extendDeep([],o.paths),starts:T.extendDeep([],o.starts)})}U.exports=function(o,_){var b,f,s,t=function(n){return n.reverse()},i=function(n){return n};switch(_){case"=":case"<":return o;case">":for(o.length!==1&&T.warn("Contour data invalid for the specified inequality operation."),f=o[0],b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=t(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=t(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=t(f.starts[b]);return o;case"][":var r=t;t=i,i=r;case"[]":for(o.length!==2&&T.warn("Contour data invalid for the specified inequality range operation."),f=k(o[0]),s=k(o[1]),b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=t(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=t(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=t(f.starts[b]);for(;s.edgepaths.length;)f.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)f.paths.push(i(s.paths.shift()));for(;s.starts.length;)f.starts.push(i(s.starts.shift()));return[f]}}},57004:function(U,C,e){var T=e(3400),k=e(51264),o=e(31147),_=e(95536),b=e(84952),f=e(97680),s=e(39096),t=e(67104);U.exports=function(i,r,n,a){function l(h,c){return T.coerce(i,r,t,h,c)}if(k(i,r,l,a)){o(i,r,a,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",T.isArray1D(r.z)),u?_(i,r,l,a,n):(b(i,r,l,function(h){return T.coerce2(i,r,t,h)}),f(i,r,l,a)),r.contours&&r.contours.coloring==="heatmap"&&s(l,a),l("zorder")}else r.visible=!1}},61512:function(U,C,e){var T=e(3400),k=e(3212),o=e(46960);U.exports=function(_,b,f){for(var s=_.type==="constraint"?k[_._operation](_.value):_,t=s.size,i=[],r=o(s),n=f.trace._carpetTrace,a=n?{xaxis:n.aaxis,yaxis:n.baxis,x:f.a,y:f.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:f.x,y:f.y},l=s.start;l<r;l+=t)if(i.push(T.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:f.z,smoothing:f.trace.line.smoothing},a)),i.length>1e3){T.warn("Too many contours, clipping at 1000",_);break}return i}},46960:function(U){U.exports=function(C){return C.end+C.size/1e6}},88748:function(U,C,e){var T=e(3400),k=e(93252);function o(f,s,t,i){return Math.abs(f[0]-s[0])<t&&Math.abs(f[1]-s[1])<i}function _(f,s,t,i,r){var n,a=s.join(","),l=f.crossings[a],u=function(re,se,ue){var he=0,pe=0;return re>20&&se?re===208||re===1114?he=ue[0]===0?1:-1:pe=ue[1]===0?1:-1:k.BOTTOMSTART.indexOf(re)!==-1?pe=1:k.LEFTSTART.indexOf(re)!==-1?he=1:k.TOPSTART.indexOf(re)!==-1?pe=-1:he=-1,[he,pe]}(l,t,s),h=[b(f,s,[-u[0],-u[1]])],c=f.z.length,x=f.z[0].length,p=s.slice(),v=u.slice();for(n=0;n<1e4;n++){if(l>20?(l=k.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],f.crossings[a]=k.SADDLEREMAINDER[l]):delete f.crossings[a],!(u=k.NEWDELTA[l])){T.log("Found bad marching index:",l,s,f.level);break}h.push(b(f,s,u)),s[0]+=u[0],s[1]+=u[1],a=s.join(","),o(h[h.length-1],h[h.length-2],i,r)&&h.pop();var g=u[0]&&(s[0]<0||s[0]>x-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===p[0]&&s[1]===p[1]&&u[0]===v[0]&&u[1]===v[1]||t&&g)break;l=f.crossings[a]}n===1e4&&T.log("Infinite loop in contour?");var y,m,w,d,S,A,E,P,O,I,D,V,z,j,X,F=o(h[0],h[h.length-1],i,r),H=0,W=.2*f.smoothing,ie=[],te=0;for(n=1;n<h.length;n++)V=h[n],z=h[n-1],j=V[2]-z[2],X=V[3]-z[3],H+=E=Math.sqrt(j*j+X*X),ie.push(E);var Q=H/ie.length*W;function ne(re){return h[re%h.length]}for(n=h.length-2;n>=te;n--)if((y=ie[n])<Q){for(w=0,m=n-1;m>=te&&y+ie[m]<Q;m--)y+=ie[m];if(F&&n===h.length-2)for(w=0;w<m&&y+ie[w]<Q;w++)y+=ie[w];S=n-m+w+1,A=Math.floor((n+m+w+2)/2),d=F||n!==h.length-2?F||m!==-1?S%2?ne(A):[(ne(A)[0]+ne(A+1)[0])/2,(ne(A)[1]+ne(A+1)[1])/2]:h[0]:h[h.length-1],h.splice(m+1,n-m+1,d),n=m+1,w&&(te=w),F&&(n===h.length-2?h[w]=h[h.length-1]:n===0&&(h[h.length-1]=h[0]))}for(h.splice(0,te),n=0;n<h.length;n++)h[n].length=2;if(!(h.length<2))if(F)h.pop(),f.paths.push(h);else{t||T.log("Unclosed interior contour?",f.level,p.join(","),h.join("L"));var $=!1;for(P=0;P<f.edgepaths.length;P++)if(I=f.edgepaths[P],!$&&o(I[0],h[h.length-1],i,r)){h.pop(),$=!0;var J=!1;for(O=0;O<f.edgepaths.length;O++)if(o((D=f.edgepaths[O])[D.length-1],h[0],i,r)){J=!0,h.shift(),f.edgepaths.splice(P,1),O===P?f.paths.push(h.concat(D)):(O>P&&O--,f.edgepaths[O]=D.concat(h,I));break}J||(f.edgepaths[P]=h.concat(I))}for(P=0;P<f.edgepaths.length&&!$;P++)o((I=f.edgepaths[P])[I.length-1],h[0],i,r)&&(h.shift(),f.edgepaths[P]=I.concat(h),$=!0);$||f.edgepaths.push(h)}}function b(f,s,t){var i=s[0]+Math.max(t[0],0),r=s[1]+Math.max(t[1],0),n=f.z[r][i],a=f.xaxis,l=f.yaxis;if(t[1]){var u=(f.level-n)/(f.z[r][i+1]-n),h=(u!==1?(1-u)*a.c2l(f.x[i]):0)+(u!==0?u*a.c2l(f.x[i+1]):0);return[a.c2p(a.l2c(h),!0),l.c2p(f.y[r],!0),i+u,r]}var c=(f.level-n)/(f.z[r+1][i]-n),x=(c!==1?(1-c)*l.c2l(f.y[r]):0)+(c!==0?c*l.c2l(f.y[r+1]):0);return[a.c2p(f.x[i],!0),l.c2p(l.l2c(x),!0),i,r+c]}U.exports=function(f,s,t){var i,r,n,a;for(s=s||.01,t=t||.01,r=0;r<f.length;r++){for(n=f[r],a=0;a<n.starts.length;a++)_(n,n.starts[a],"edge",s,t);for(i=0;Object.keys(n.crossings).length&&i<1e4;)i++,_(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,s,t);i===1e4&&T.log("Infinite loop in contour?")}}},38200:function(U,C,e){var T=e(76308),k=e(55512);U.exports=function(o,_,b,f,s){s||(s={}),s.isContour=!0;var t=k(o,_,b,f,s);return t&&t.forEach(function(i){var r=i.trace;r.contours.type==="constraint"&&(r.fillcolor&&T.opacity(r.fillcolor)?i.color=T.addOpacity(r.fillcolor,1):r.contours.showlines&&T.opacity(r.line.color)&&(i.color=T.addOpacity(r.line.color,1)))}),t}},66240:function(U,C,e){U.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(U,C,e){var T=e(3400);U.exports=function(k,o,_,b){if(b||(b={}),k("contours.showlabels")){var f=o.font;T.coerceFont(k,"contours.labelfont",f,{overrideDflt:{color:_}}),k("contours.labelformat")}b.hasHover!==!1&&k("zhoverformat")}},41076:function(U,C,e){var T=e(33428),k=e(8932),o=e(46960);U.exports=function(_){var b=_.contours,f=b.start,s=o(b),t=b.size||1,i=Math.floor((s-f)/t)+1,r=b.coloring==="lines"?0:1,n=k.extractOpts(_);isFinite(t)||(t=1,i=1);var a,l,u=n.reversescale?k.flipScale(n.colorscale):n.colorscale,h=u.length,c=new Array(h),x=new Array(h),p=n.min,v=n.max;if(b.coloring==="heatmap"){for(l=0;l<h;l++)a=u[l],c[l]=a[0]*(v-p)+p,x[l]=a[1];var g=T.extent([p,v,b.start,b.start+t*(i-1)]),y=g[p<v?0:1],m=g[p<v?1:0];y!==p&&(c.splice(0,0,y),x.splice(0,0,x[0])),m!==v&&(c.push(m),x.push(x[x.length-1]))}else{var w=_._input&&typeof _._input.zmin=="number"&&typeof _._input.zmax=="number";for(w&&(f<=p||s>=v)&&(f<=p&&(f=p),s>=v&&(s=v),i=Math.floor((s-f)/t)+1,r=0),l=0;l<h;l++)a=u[l],c[l]=(a[0]*(i+r-1)-r/2)*t+f,x[l]=a[1];(w||_.autocontour)&&(c[0]>p&&(c.unshift(p),x.unshift(x[0])),c[c.length-1]<v&&(c.push(v),x.push(x[x.length-1])))}return k.makeColorScaleFunc({domain:c,range:x},{noNumericCheck:!0})}},72424:function(U,C,e){var T=e(93252);function k(o,_){var b=(_[0][0]>o?0:1)+(_[0][1]>o?0:2)+(_[1][1]>o?0:4)+(_[1][0]>o?0:8);return b===5||b===10?o>(_[0][0]+_[0][1]+_[1][0]+_[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}U.exports=function(o){var _,b,f,s,t,i,r,n,a,l=o[0].z,u=l.length,h=l[0].length,c=u===2||h===2;for(b=0;b<u-1;b++)for(s=[],b===0&&(s=s.concat(T.BOTTOMSTART)),b===u-2&&(s=s.concat(T.TOPSTART)),_=0;_<h-1;_++)for(f=s.slice(),_===0&&(f=f.concat(T.LEFTSTART)),_===h-2&&(f=f.concat(T.RIGHTSTART)),t=_+","+b,i=[[l[b][_],l[b][_+1]],[l[b+1][_],l[b+1][_+1]]],a=0;a<o.length;a++)(r=k((n=o[a]).level,i))&&(n.crossings[t]=r,f.indexOf(r)!==-1&&(n.starts.push([_,b]),c&&f.indexOf(r,f.indexOf(r)+1)!==-1&&n.starts.push([_,b])))}},23676:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(8932),b=e(72736),f=e(54460),s=e(78344),t=e(41420),i=e(72424),r=e(88748),n=e(61512),a=e(82172),l=e(56008),u=e(93252),h=u.LABELOPTIMIZER;function c(v,g){var y,m,w,d,S,A,E,P="",O=0,I=v.edgepaths.map(function(F,H){return H}),D=!0;function V(F){return Math.abs(F[1]-g[2][1])<.01}function z(F){return Math.abs(F[0]-g[0][0])<.01}function j(F){return Math.abs(F[0]-g[2][0])<.01}for(;I.length;){for(A=o.smoothopen(v.edgepaths[O],v.smoothing),P+=D?A:A.replace(/^M/,"L"),I.splice(I.indexOf(O),1),y=v.edgepaths[O][v.edgepaths[O].length-1],d=-1,w=0;w<4;w++){if(!y){k.log("Missing end?",O,v);break}for(E=y,Math.abs(E[1]-g[0][1])<.01&&!j(y)?m=g[1]:z(y)?m=g[0]:V(y)?m=g[3]:j(y)&&(m=g[2]),S=0;S<v.edgepaths.length;S++){var X=v.edgepaths[S][0];Math.abs(y[0]-m[0])<.01?Math.abs(y[0]-X[0])<.01&&(X[1]-y[1])*(m[1]-X[1])>=0&&(m=X,d=S):Math.abs(y[1]-m[1])<.01?Math.abs(y[1]-X[1])<.01&&(X[0]-y[0])*(m[0]-X[0])>=0&&(m=X,d=S):k.log("endpt to newendpt is not vert. or horz.",y,m,X)}if(y=m,d>=0)break;P+="L"+m}if(d===v.edgepaths.length){k.log("unclosed perimeter path");break}O=d,(D=I.indexOf(O)===-1)&&(O=I[0],P+="Z")}for(O=0;O<v.paths.length;O++)P+=o.smoothclosed(v.paths[O],v.smoothing);return P}function x(v,g,y,m){var w=g.width/2,d=g.height/2,S=v.x,A=v.y,E=v.theta,P=Math.cos(E)*w,O=Math.sin(E)*w,I=(S>m.center?m.right-S:S-m.left)/(P+Math.abs(Math.sin(E)*d)),D=(A>m.middle?m.bottom-A:A-m.top)/(Math.abs(O)+Math.cos(E)*d);if(I<1||D<1)return 1/0;var V=h.EDGECOST*(1/(I-1)+1/(D-1));V+=h.ANGLECOST*E*E;for(var z=S-P,j=A-O,X=S+P,F=A+O,H=0;H<y.length;H++){var W=y[H],ie=Math.cos(W.theta)*W.width/2,te=Math.sin(W.theta)*W.width/2,Q=2*k.segmentDistance(z,j,X,F,W.x-ie,W.y-te,W.x+ie,W.y+te)/(g.height+W.height),ne=W.level===g.level,$=ne?h.SAMELEVELDISTANCE:1;if(Q<=$)return 1/0;V+=h.NEIGHBORCOST*(ne?h.SAMELEVELFACTOR:1)/(Q-$)}return V}function p(v){var g,y,m=v.trace._emptypoints,w=[],d=v.z.length,S=v.z[0].length,A=[];for(g=0;g<S;g++)A.push(1);for(g=0;g<d;g++)w.push(A.slice());for(g=0;g<m.length;g++)w[(y=m[g])[0]][y[1]]=0;return v.zmask=w,w}C.plot=function(v,g,y,m){var w=g.xaxis,d=g.yaxis;k.makeTraceGroups(m,y,"contour").each(function(S){var A=T.select(this),E=S[0],P=E.trace,O=E.x,I=E.y,D=P.contours,V=n(D,g,E),z=k.ensureSingle(A,"g","heatmapcoloring"),j=[];D.coloring==="heatmap"&&(j=[S]),t(v,g,j,z),i(V),r(V);var X=w.c2p(O[0],!0),F=w.c2p(O[O.length-1],!0),H=d.c2p(I[0],!0),W=d.c2p(I[I.length-1],!0),ie=[[X,W],[F,W],[F,H],[X,H]],te=V;D.type==="constraint"&&(te=a(V,D._operation)),function(Q,ne,$){var J=k.ensureSingle(Q,"g","contourbg").selectAll("path").data($.coloring==="fill"?[0]:[]);J.enter().append("path"),J.exit().remove(),J.attr("d","M"+ne.join("L")+"Z").style("stroke","none")}(A,ie,D),function(Q,ne,$,J){var re=J.coloring==="fill"||J.type==="constraint"&&J._operation!=="=",se="M"+$.join("L")+"Z";re&&l(ne,J);var ue=k.ensureSingle(Q,"g","contourfill").selectAll("path").data(re?ne:[]);ue.enter().append("path"),ue.exit().remove(),ue.each(function(he){var pe=(he.prefixBoundary?se:"")+c(he,$);pe?T.select(this).attr("d",pe).style("stroke","none"):T.select(this).remove()})}(A,te,ie,D),function(Q,ne,$,J,re){var se=$._context.staticPlot,ue=k.ensureSingle(Q,"g","contourlines"),he=re.showlines!==!1,pe=re.showlabels,ge=he&&pe,ye=C.createLines(ue,he||pe,ne,se),be=C.createLineClip(ue,ge,$,J.trace.uid),Te=Q.selectAll("g.contourlabels").data(pe?[0]:[]);if(Te.exit().remove(),Te.enter().append("g").classed("contourlabels",!0),pe){var Se=[],Fe=[];k.clearLocationCache();var xe=C.labelFormatter($,J),le=o.tester.append("text").attr("data-notex",1).call(o.font,re.labelfont),oe=ne[0].xaxis,de=ne[0].yaxis,Ce=oe._length,_e=de._length,Ae=oe.range,Le=de.range,ze=k.aggNums(Math.min,null,J.x),Re=k.aggNums(Math.max,null,J.x),ve=k.aggNums(Math.min,null,J.y),ke=k.aggNums(Math.max,null,J.y),Ee=Math.max(oe.c2p(ze,!0),0),De=Math.min(oe.c2p(Re,!0),Ce),Pe=Math.max(de.c2p(ke,!0),0),Ue=Math.min(de.c2p(ve,!0),_e),We={};Ae[0]<Ae[1]?(We.left=Ee,We.right=De):(We.left=De,We.right=Ee),Le[0]<Le[1]?(We.top=Pe,We.bottom=Ue):(We.top=Ue,We.bottom=Pe),We.middle=(We.top+We.bottom)/2,We.center=(We.left+We.right)/2,Se.push([[We.left,We.top],[We.right,We.top],[We.right,We.bottom],[We.left,We.bottom]]);var $e=Math.sqrt(Ce*Ce+_e*_e),ot=u.LABELDISTANCE*$e/Math.max(1,ne.length/u.LABELINCREASE);ye.each(function(st){var mt=C.calcTextOpts(st.level,xe,le,$);T.select(this).selectAll("path").each(function(){var _t=k.getVisibleSegment(this,We,mt.height/2);if(_t&&!(_t.len<(mt.width+mt.height)*u.LABELMIN))for(var yt=Math.min(Math.ceil(_t.len/ot),u.LABELMAX),it=0;it<yt;it++){var tt=C.findBestTextLocation(this,_t,mt,Fe,We);if(!tt)break;C.addLabelData(tt,mt,Fe,Se)}})}),le.remove(),C.drawLabels(Te,Fe,$,be,ge?Se:null)}pe&&!he&&ye.remove()}(A,V,v,E,D),function(Q,ne,$,J,re){var se=J.trace,ue=$._fullLayout._clips,he="clip"+se.uid,pe=ue.selectAll("#"+he).data(se.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",he),pe.exit().remove(),se.connectgaps===!1){var ge={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:ne.xaxis,yaxis:ne.yaxis,x:J.x,y:J.y,z:p(J),smoothing:0};i([ge]),r([ge]),l([ge],{type:"levels"}),k.ensureSingle(pe,"path","").attr("d",(ge.prefixBoundary?"M"+re.join("L")+"Z":"")+c(ge,re))}else he=null;o.setClipUrl(Q,he,$)}(A,g,v,E,ie)})},C.createLines=function(v,g,y,m){var w=y[0].smoothing,d=v.selectAll("g.contourlevel").data(g?y:[]);if(d.exit().remove(),d.enter().append("g").classed("contourlevel",!0),g){var S=d.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return o.smoothopen(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var A=d.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});A.exit().remove(),A.enter().append("path").classed("closedline",!0),A.attr("d",function(E){return o.smoothclosed(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return d},C.createLineClip=function(v,g,y,m){var w=g?"clipline"+m:null,d=y._fullLayout._clips.selectAll("#"+w).data(g?[0]:[]);return d.exit().remove(),d.enter().append("clipPath").classed("contourlineclip",!0).attr("id",w),o.setClipUrl(v,w,y),d},C.labelFormatter=function(v,g){var y=v._fullLayout,m=g.trace,w=m.contours,d={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(w.labelformat)d.tickformat=w.labelformat,s(d,y);else{var S=_.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)d=S.colorbar._axis;else{if(w.type==="constraint"){var A=w.value;k.isArrayOrTypedArray(A)?d.range=[A[0],A[A.length-1]]:d.range=[A,A]}else d.range=[w.start,w.end],d.nticks=(w.end-w.start)/w.size;d.range[0]===d.range[1]&&(d.range[1]+=d.range[0]||1),d.nticks||(d.nticks=1e3),s(d,y),f.prepTicks(d),d._tmin=null,d._tmax=null}}return function(E){return f.tickText(d,E).text}},C.calcTextOpts=function(v,g,y,m){var w=g(v);y.text(w).call(b.convertToTspans,m);var d=y.node(),S=o.bBox(d,!0);return{text:w,width:S.width,height:S.height,fontSize:+d.style["font-size"].replace("px",""),level:v,dy:(S.top+S.bottom)/2}},C.findBestTextLocation=function(v,g,y,m,w){var d,S,A,E,P,O=y.width;g.isClosed?(S=g.len/h.INITIALSEARCHPOINTS,d=g.min+S/2,A=g.max):(S=(g.len-O)/(h.INITIALSEARCHPOINTS+1),d=g.min+S+O/2,A=g.max-(S+O)/2);for(var I=1/0,D=0;D<h.ITERATIONS;D++){for(var V=d;V<A;V+=S){var z=k.getTextLocation(v,g.total,V,O),j=x(z,y,m,w);j<I&&(I=j,P=z,E=V)}if(I>2*h.MAXCOST)break;D&&(S/=2),A=(d=E-S/2)+1.5*S}if(I<=h.MAXCOST)return P},C.addLabelData=function(v,g,y,m){var w=g.fontSize,d=g.width+w/3,S=Math.max(0,g.height-w/3),A=v.x,E=v.y,P=v.theta,O=Math.sin(P),I=Math.cos(P),D=function(z,j){return[A+z*I-j*O,E+z*O+j*I]},V=[D(-d/2,-S/2),D(-d/2,S/2),D(d/2,S/2),D(d/2,-S/2)];y.push({text:g.text,x:A,y:E,dy:g.dy,theta:P,level:g.level,width:d,height:S}),m.push(V)},C.drawLabels=function(v,g,y,m,w){var d=v.selectAll("text").data(g,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(d.exit().remove(),d.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var P=E.x+Math.sin(E.theta)*E.dy,O=E.y-Math.cos(E.theta)*E.dy;T.select(this).text(E.text).attr({x:P,y:O,transform:"rotate("+180*E.theta/Math.PI+" "+P+" "+O+")"}).call(b.convertToTspans,y)}),w){for(var S="",A=0;A<w.length;A++)S+="M"+w[A].join("L")+"Z";k.ensureSingle(m,"path","").attr("d",S)}}},54444:function(U,C,e){var T=e(54460),k=e(3400);function o(_,b,f){var s={type:"linear",range:[_,b]};return T.autoTicks(s,(b-_)/(f||15)),s}U.exports=function(_,b){var f=_.contours;if(_.autocontour){var s=_.zmin,t=_.zmax;(_.zauto||s===void 0)&&(s=k.aggNums(Math.min,null,b)),(_.zauto||t===void 0)&&(t=k.aggNums(Math.max,null,b));var i=o(s,t,_.ncontours);f.size=i.dtick,f.start=T.tickFirst(i),i.range.reverse(),f.end=T.tickFirst(i),f.start===s&&(f.start+=f.size),f.end===t&&(f.end-=f.size),f.start>f.end&&(f.start=f.end=(f.start+f.end)/2),_._input.contours||(_._input.contours={}),k.extendFlat(_._input.contours,{start:f.start,end:f.end,size:f.size}),_._input.autocontour=!0}else if(f.type!=="constraint"){var r,n=f.start,a=f.end,l=_._input.contours;n>a&&(f.start=l.start=a,a=f.end=l.end=n,n=f.start),f.size>0||(r=n===a?1:o(n,a,_.ncontours).dtick,l.size=f.size=r)}}},52440:function(U,C,e){var T=e(33428),k=e(43616),o=e(41648),_=e(41076);U.exports=function(b){var f=T.select(b).selectAll("g.contour");f.style("opacity",function(s){return s[0].trace.opacity}),f.each(function(s){var t=T.select(this),i=s[0].trace,r=i.contours,n=i.line,a=r.size||1,l=r.start,u=r.type==="constraint",h=!u&&r.coloring==="lines",c=!u&&r.coloring==="fill",x=h||c?_(i):null;t.selectAll("g.contourlevel").each(function(g){T.select(this).selectAll("path").call(k.lineGroupStyle,n.width,h?x(g.level):n.color,n.dash)});var p=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(g){k.font(T.select(this),{weight:p.weight,style:p.style,variant:p.variant,textcase:p.textcase,lineposition:p.lineposition,shadow:p.shadow,family:p.family,size:p.size,color:p.color||(h?x(g.level):n.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var v;t.selectAll("g.contourfill path").style("fill",function(g){return v===void 0&&(v=g.level),x(g.level+.5*a)}),v===void 0&&(v=l),t.selectAll("g.contourbg path").style("fill",x(v-.5*a))}}),o(b)}},97680:function(U,C,e){var T=e(27260),k=e(17428);U.exports=function(o,_,b,f,s){var t,i=b("contours.coloring"),r="";i==="fill"&&(t=b("contours.showlines")),t!==!1&&(i!=="lines"&&(r=b("line.color","#000")),b("line.width",.5),b("line.dash")),i!=="none"&&(o.showlegend!==!0&&(_.showlegend=!1),_._dfltShowLegend=!1,T(o,_,f,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,f,r,s)}},37960:function(U,C,e){var T=e(83328),k=e(67104),o=e(49084),_=e(92880).extendFlat,b=k.contours;U.exports=_({carpet:{valType:"string",editType:"calc"},z:T.z,a:T.x,a0:T.x0,da:T.dx,b:T.y,b0:T.y0,db:T.dy,text:T.text,hovertext:T.hovertext,transpose:T.transpose,atype:T.xtype,btype:T.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},zorder:k.zorder,transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},30572:function(U,C,e){var T=e(47128),k=e(3400),o=e(2872),_=e(26136),b=e(70448),f=e(11240),s=e(35744),t=e(3252),i=e(50948),r=e(54444);U.exports=function(n,a){var l=a._carpetTrace=i(n,a);if(l&&l.visible&&l.visible!=="legendonly"){if(!a.a||!a.b){var u=n.data[l.index],h=n.data[a.index];h.a||(h.a=u.a),h.b||(h.b=u.b),t(h,a,a._defaultColor,n._fullLayout)}var c=function(x,p){var v,g,y,m,w,d,S,A=p._carpetTrace,E=A.aaxis,P=A.baxis;E._minDtick=0,P._minDtick=0,k.isArray1D(p.z)&&o(p,E,P,"a","b",["z"]),v=p._a=p._a||p.a,m=p._b=p._b||p.b,v=v?E.makeCalcdata(p,"_a"):[],m=m?P.makeCalcdata(p,"_b"):[],g=p.a0||0,y=p.da||1,w=p.b0||0,d=p.db||1,S=p._z=_(p._z||p.z,p.transpose),p._emptypoints=f(S),b(S,p._emptypoints);var O=k.maxRowLength(S),I=p.xtype==="scaled"?"":v,D=s(p,I,g,y,O,E),V=p.ytype==="scaled"?"":m,z={a:D,b:s(p,V,w,d,S.length,P),z:S};return p.contours.type==="levels"&&p.contours.coloring!=="none"&&T(x,p,{vals:S,containerStr:"",cLetter:"z"}),[z]}(n,a);return r(a,a._z),c}}},3252:function(U,C,e){var T=e(3400),k=e(51264),o=e(37960),_=e(95536),b=e(84952),f=e(97680);U.exports=function(s,t,i,r){function n(a,l){return T.coerce(s,t,o,a,l)}if(n("carpet"),s.a&&s.b){if(!k(s,t,n,r,"a","b"))return void(t.visible=!1);n("text"),n("contours.type")==="constraint"?_(s,t,n,r,i,{hasHover:!1}):(b(s,t,n,function(a){return T.coerce2(s,t,o,a)}),f(s,t,n,r,{hasHover:!1}))}else t._defaultColor=i,t._length=null;n("zorder")}},40448:function(U,C,e){U.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(U,C,e){var T=e(33428),k=e(87072),o=e(53416),_=e(43616),b=e(3400),f=e(72424),s=e(88748),t=e(23676),i=e(93252),r=e(82172),n=e(61512),a=e(56008),l=e(50948),u=e(77712);function h(p,v,g){var y=p.getPointAtLength(v),m=p.getPointAtLength(g),w=m.x-y.x,d=m.y-y.y,S=Math.sqrt(w*w+d*d);return[w/S,d/S]}function c(p){var v=Math.sqrt(p[0]*p[0]+p[1]*p[1]);return[p[0]/v,p[1]/v]}function x(p,v){var g=Math.abs(p[0]*v[0]+p[1]*v[1]);return Math.sqrt(1-g*g)/g}U.exports=function(p,v,g,y){var m=v.xaxis,w=v.yaxis;b.makeTraceGroups(y,g,"contour").each(function(d){var S=T.select(this),A=d[0],E=A.trace,P=E._carpetTrace=l(p,E),O=p.calcdata[P.index][0];if(P.visible&&P.visible!=="legendonly"){var I=A.a,D=A.b,V=E.contours,z=n(V,v,A),j=V.type==="constraint",X=V._operation,F=j?X==="="?"lines":"fill":V.coloring,H=[[I[0],D[D.length-1]],[I[I.length-1],D[D.length-1]],[I[I.length-1],D[0]],[I[0],D[0]]];f(z);var W=1e-8*(I[I.length-1]-I[0]),ie=1e-8*(D[D.length-1]-D[0]);s(z,W,ie);var te,Q,ne,$,J=z;V.type==="constraint"&&(J=r(z,X)),function(he,pe){var ge,ye,be,Te,Se,Fe,xe,le,oe;for(ge=0;ge<he.length;ge++){for(Se=(Te=he[ge]).pedgepaths=[],Fe=Te.ppaths=[],ye=0;ye<Te.edgepaths.length;ye++){for(oe=Te.edgepaths[ye],xe=[],be=0;be<oe.length;be++)xe[be]=pe(oe[be]);Se.push(xe)}for(ye=0;ye<Te.paths.length;ye++){for(oe=Te.paths[ye],le=[],be=0;be<oe.length;be++)le[be]=pe(oe[be]);Fe.push(le)}}}(z,ue);var re=[];for($=O.clipsegments.length-1;$>=0;$--)te=O.clipsegments[$],Q=k([],te.x,m.c2p),ne=k([],te.y,w.c2p),Q.reverse(),ne.reverse(),re.push(o(Q,ne,te.bicubic));var se="M"+re.join("L")+"Z";(function(he,pe,ge,ye,be,Te){var Se,Fe,xe,le,oe=b.ensureSingle(he,"g","contourbg").selectAll("path").data(Te!=="fill"||be?[]:[0]);oe.enter().append("path"),oe.exit().remove();var de=[];for(le=0;le<pe.length;le++)Se=pe[le],Fe=k([],Se.x,ge.c2p),xe=k([],Se.y,ye.c2p),de.push(o(Fe,xe,Se.bicubic));oe.attr("d","M"+de.join("L")+"Z").style("stroke","none")})(S,O.clipsegments,m,w,j,F),function(he,pe,ge,ye,be,Te,Se,Fe,xe,le,oe){var de=le==="fill";de&&a(be,he.contours);var Ce=b.ensureSingle(pe,"g","contourfill").selectAll("path").data(de?be:[]);Ce.enter().append("path"),Ce.exit().remove(),Ce.each(function(_e){var Ae=(_e.prefixBoundary?oe:"")+function(Le,ze,Re,ve,ke,Ee,De,Pe){var Ue,We,$e,ot,st,mt,_t,yt="",it=ze.edgepaths.map(function(ut,xt){return xt}),tt=!0,Pt=1e-4*Math.abs(Re[0][0]-Re[2][0]),Rt=1e-4*Math.abs(Re[0][1]-Re[2][1]);function Ft(ut){return Math.abs(ut[1]-Re[0][1])<Rt}function Ot(ut){return Math.abs(ut[1]-Re[2][1])<Rt}function Xe(ut){return Math.abs(ut[0]-Re[0][0])<Pt}function Je(ut){return Math.abs(ut[0]-Re[2][0])<Pt}function Ve(ut,xt){var bt,qe,je,lt,gt="";for(Ft(ut)&&!Je(ut)||Ot(ut)&&!Xe(ut)?(lt=ke.aaxis,je=u(ke,Ee,[ut[0],xt[0]],.5*(ut[1]+xt[1]))):(lt=ke.baxis,je=u(ke,Ee,.5*(ut[0]+xt[0]),[ut[1],xt[1]])),bt=1;bt<je.length;bt++)for(gt+=lt.smoothing?"C":"L",qe=0;qe<je[bt].length;qe++){var dt=je[bt][qe];gt+=[De.c2p(dt[0]),Pe.c2p(dt[1])]+" "}return gt}for(Ue=0,We=null;it.length;){var Ke=ze.edgepaths[Ue][0];for(We&&(yt+=Ve(We,Ke)),_t=_.smoothopen(ze.edgepaths[Ue].map(ve),ze.smoothing),yt+=tt?_t:_t.replace(/^M/,"L"),it.splice(it.indexOf(Ue),1),We=ze.edgepaths[Ue][ze.edgepaths[Ue].length-1],st=-1,ot=0;ot<4;ot++){if(!We){b.log("Missing end?",Ue,ze);break}for(Ft(We)&&!Je(We)?$e=Re[1]:Xe(We)?$e=Re[0]:Ot(We)?$e=Re[3]:Je(We)&&($e=Re[2]),mt=0;mt<ze.edgepaths.length;mt++){var ft=ze.edgepaths[mt][0];Math.abs(We[0]-$e[0])<Pt?Math.abs(We[0]-ft[0])<Pt&&(ft[1]-We[1])*($e[1]-ft[1])>=0&&($e=ft,st=mt):Math.abs(We[1]-$e[1])<Rt?Math.abs(We[1]-ft[1])<Rt&&(ft[0]-We[0])*($e[0]-ft[0])>=0&&($e=ft,st=mt):b.log("endpt to newendpt is not vert. or horz.",We,$e,ft)}if(st>=0)break;yt+=Ve(We,$e),We=$e}if(st===ze.edgepaths.length){b.log("unclosed perimeter path");break}Ue=st,(tt=it.indexOf(Ue)===-1)&&(Ue=it[0],yt+=Ve(We,$e)+"Z",We=null)}for(Ue=0;Ue<ze.paths.length;Ue++)yt+=_.smoothclosed(ze.paths[Ue].map(ve),ze.smoothing);return yt}(0,_e,Te,Se,Fe,xe,ge,ye);Ae?T.select(this).attr("d",Ae).style("stroke","none"):T.select(this).remove()})}(E,S,m,w,J,H,ue,P,O,F,se),function(he,pe,ge,ye,be,Te,Se){var Fe=ge._context.staticPlot,xe=b.ensureSingle(he,"g","contourlines"),le=be.showlines!==!1,oe=be.showlabels,de=le&&oe,Ce=t.createLines(xe,le||oe,pe,Fe),_e=t.createLineClip(xe,de,ge,ye.trace.uid),Ae=he.selectAll("g.contourlabels").data(oe?[0]:[]);if(Ae.exit().remove(),Ae.enter().append("g").classed("contourlabels",!0),oe){var Le=Te.xaxis,ze=Te.yaxis,Re=Le._length,ve=ze._length,ke=[[[0,0],[Re,0],[Re,ve],[0,ve]]],Ee=[];b.clearLocationCache();var De=t.labelFormatter(ge,ye),Pe=_.tester.append("text").attr("data-notex",1).call(_.font,be.labelfont),Ue={left:0,right:Re,center:Re/2,top:0,bottom:ve,middle:ve/2},We=Math.sqrt(Re*Re+ve*ve),$e=i.LABELDISTANCE*We/Math.max(1,pe.length/i.LABELINCREASE);Ce.each(function(ot){var st=t.calcTextOpts(ot.level,De,Pe,ge);T.select(this).selectAll("path").each(function(mt){var _t=this,yt=b.getVisibleSegment(_t,Ue,st.height/2);if(yt&&(function(Rt,Ft,Ot,Xe,Je,Ve){for(var Ke,ft=0;ft<Ot.pedgepaths.length;ft++)Ft===Ot.pedgepaths[ft]&&(Ke=Ot.edgepaths[ft]);if(Ke){var ut=Je.a[0],xt=Je.a[Je.a.length-1],bt=Je.b[0],qe=Je.b[Je.b.length-1],je=h(Rt,0,1),lt=h(Rt,Xe.total,Xe.total-1),gt=at(Ke[0],je),dt=Xe.total-at(Ke[Ke.length-1],lt);Xe.min<gt&&(Xe.min=gt),Xe.max>dt&&(Xe.max=dt),Xe.len=Xe.max-Xe.min}function at(kt,wt){var Et,Tt=0,At=.1;return(Math.abs(kt[0]-ut)<At||Math.abs(kt[0]-xt)<At)&&(Et=c(Je.dxydb_rough(kt[0],kt[1],At)),Tt=Math.max(Tt,Ve*x(wt,Et)/2)),(Math.abs(kt[1]-bt)<At||Math.abs(kt[1]-qe)<At)&&(Et=c(Je.dxyda_rough(kt[0],kt[1],At)),Tt=Math.max(Tt,Ve*x(wt,Et)/2)),Tt}}(_t,mt,ot,yt,Se,st.height),!(yt.len<(st.width+st.height)*i.LABELMIN)))for(var it=Math.min(Math.ceil(yt.len/$e),i.LABELMAX),tt=0;tt<it;tt++){var Pt=t.findBestTextLocation(_t,yt,st,Ee,Ue);if(!Pt)break;t.addLabelData(Pt,st,Ee,ke)}})}),Pe.remove(),t.drawLabels(Ae,Ee,ge,_e,de?ke:null)}oe&&!le&&Ce.remove()}(S,z,p,A,V,v,P),_.setClipUrl(S,P._clipPathId,p)}function ue(he){var pe=P.ab2xy(he[0],he[1],!0);return[m.c2p(pe[0]),w.c2p(pe[1])]}})}},33928:function(U,C,e){var T=e(49084),k=e(21776).Ks,o=e(45464),_=e(31512),b=e(92880).extendFlat;U.exports=b({lon:_.lon,lat:_.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:_.text,hovertext:_.hovertext,hoverinfo:b({},o.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},o.showlegend,{dflt:!1})},T("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(U,C,e){var T=e(38248),k=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,_=e(47128),b=e(3400)._;U.exports=function(f,s){for(var t=s._length,i=new Array(t),r=s.z,n=k(r)&&r.length,a=0;a<t;a++){var l=i[a]={},u=s.lon[a],h=s.lat[a];if(l.lonlat=T(u)&&T(h)?[+u,+h]:[o,o],n){var c=r[a];l.z=T(c)?c:o}}return _(f,s,{vals:n?r:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(f,"lat:")+" ",lon:b(f,"lon:")+" "}}),i}},4629:function(U,C,e){var T=e(38248),k=e(3400),o=e(76308),_=e(8932),b=e(39032).BADNUM,f=e(44808).makeBlank;U.exports=function(s){var t=s[0].trace,i=t.visible===!0&&t._length!==0,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:f()};if(!i)return r;var n,a=[],l=t.z,u=t.radius,h=k.isArrayOrTypedArray(l)&&l.length,c=k.isArrayOrTypedArray(u);for(n=0;n<s.length;n++){var x=s[n],p=x.lonlat;if(p[0]!==b){var v={};if(h){var g=x.z;v.z=g!==b?g:0}c&&(v.r=T(u[n])&&u[n]>0?+u[n]:0),a.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:v})}}var y=_.extractOpts(t),m=y.reversescale?_.flipScale(y.colorscale):y.colorscale,w=m[0][1],d=["interpolate",["linear"],["heatmap-density"],0,o.opacity(w)<1?w:o.addOpacity(w,0)];for(n=1;n<m.length;n++)d.push(m[n][0],m[n][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return k.extendFlat(r.heatmap.paint,{"heatmap-weight":h?S:1/(y.max-y.min),"heatmap-color":d,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:a},r.heatmap.layout.visibility="visible",r}},97664:function(U,C,e){var T=e(3400),k=e(27260),o=e(33928);U.exports=function(_,b,f,s){function t(a,l){return T.coerce(_,b,o,a,l)}var i=t("lon")||[],r=t("lat")||[],n=Math.min(i.length,r.length);n?(b._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(_,b,s,t,{prefix:"",cLetter:"z"})):b.visible=!1}},96176:function(U){U.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C.z=e.z,C}},25336:function(U,C,e){var T=e(54460),k=e(63312).hoverPoints,o=e(63312).getExtraText;U.exports=function(_,b,f){var s=k(_,b,f);if(s){var t=s[0],i=t.cd,r=i[0].trace,n=i[t.index];if(delete t.color,"z"in n){var a=t.subplot.mockAxis;t.z=n.z,t.zLabel=T.tickText(a,a.c2l(n.z),"hover").text}return t.extraText=o(r,n,i[0].t.labels),[t]}}},15088:function(U,C,e){U.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(T,k){for(var o=k.getMapLayers(),_=0;_<o.length;_++){var b=o[_],f=b.id;if(b.type==="symbol"&&typeof f=="string"&&f.indexOf("plotly-")===-1)return f}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(U,C,e){var T=e(4629),k=e(47552).traceLayerPrefix;function o(b,f){this.type="densitymapbox",this.subplot=b,this.uid=f,this.sourceId="source-"+f,this.layerList=[["heatmap",k+f+"-heatmap"]],this.below=null}var _=o.prototype;_.update=function(b){var f=this.subplot,s=this.layerList,t=T(b),i=f.belowLookup["trace-"+this.uid];f.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var r=0;r<s.length;r++){var n=s[r],a=n[0],l=n[1],u=t[a];f.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&f.setOptions(l,"setPaintProperty",u.paint)}},_._addLayers=function(b,f){for(var s=this.subplot,t=this.layerList,i=this.sourceId,r=0;r<t.length;r++){var n=t[r],a=n[0],l=b[a];s.addLayer({type:a,id:n[1],source:i,layout:l.layout,paint:l.paint},f)}},_._removeLayers=function(){for(var b=this.subplot.map,f=this.layerList,s=f.length-1;s>=0;s--)b.removeLayer(f[s][1])},_.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},U.exports=function(b,f){var s=f[0].trace,t=new o(b,s.uid),i=t.sourceId,r=T(f),n=t.below=b.belowLookup["trace-"+s.uid];return b.map.addSource(i,{type:"geojson",data:r.geojson}),t._addLayers(r,n),t}},74248:function(U,C,e){var T=e(3400);U.exports=function(k,o){for(var _=0;_<k.length;_++)k[_].i=_;T.mergeArray(o.text,k,"tx"),T.mergeArray(o.hovertext,k,"htx");var b=o.marker;if(b){T.mergeArray(b.opacity,k,"mo"),T.mergeArray(b.color,k,"mc");var f=b.line;f&&(T.mergeArray(f.color,k,"mlc"),T.mergeArrayCastPositive(f.width,k,"mlw"))}}},20088:function(U,C,e){var T,k=e(20832),o=e(52904).line,_=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(74732),i=e(92880).extendFlat,r=e(76308);U.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:f({},{keys:t.eventDataKeys}),hoverinfo:i({},_.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(T=i({},k.marker),delete T.pattern,delete T.cornerradius,T),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},o.color,{dflt:r.defaultLine}),width:i({},o.width,{dflt:0,editType:"plot"}),dash:o.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,zorder:k.zorder}},23096:function(U,C,e){var T=e(54460),k=e(1220),o=e(74248),_=e(4500),b=e(39032).BADNUM;function f(s){return s===b?0:s}U.exports=function(s,t){var i,r,n,a,l,u,h,c,x=T.getFromId(s,t.xaxis||"x"),p=T.getFromId(s,t.yaxis||"y");t.orientation==="h"?(i=x.makeCalcdata(t,"x"),n=p.makeCalcdata(t,"y"),a=k(t,p,"y",n),l=!!t.yperiodalignment,u="y"):(i=p.makeCalcdata(t,"y"),n=x.makeCalcdata(t,"x"),a=k(t,x,"x",n),l=!!t.xperiodalignment,u="x"),r=a.vals;var v,g=Math.min(r.length,i.length),y=new Array(g);for(t._base=[],h=0;h<g;h++){i[h]<0&&(i[h]=b);var m=!1;i[h]!==b&&h+1<g&&i[h+1]!==b&&(m=!0),c=y[h]={p:r[h],s:i[h],cNext:m},t._base[h]=-.5*c.s,l&&(y[h].orig_p=n[h],y[h][u+"End"]=a.ends[h],y[h][u+"Start"]=a.starts[h]),t.ids&&(c.id=String(t.ids[h])),h===0&&(y[0].vTotal=0),y[0].vTotal+=f(c.s),c.begR=f(c.s)/f(y[0].s)}for(h=0;h<g;h++)(c=y[h]).s!==b&&(c.sumR=c.s/y[0].vTotal,c.difR=v!==void 0?c.s/v:1,v=c.s);return o(y,t),_(y,t),y}},74732:function(U){U.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(U,C,e){var T=e(96376).setGroupPositions;U.exports=function(k,o){var _,b,f=k._fullLayout,s=k._fullData,t=k.calcdata,i=o.xaxis,r=o.yaxis,n=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b],h=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="funnel"&&(_=t[b],h?l.push(_):a.push(_),n.push(_))}var c={mode:f.funnelmode,norm:f.funnelnorm,gap:f.funnelgap,groupgap:f.funnelgroupgap};for(T(k,i,r,a,c),T(k,r,i,l,c),b=0;b<n.length;b++){_=n[b];for(var x=0;x<_.length;x++)x+1<_.length&&(_[x].nextP0=_[x+1].p0,_[x].nextS0=_[x+1].s0,_[x].nextP1=_[x+1].p1,_[x].nextS1=_[x+1].s1)}}},45432:function(U,C,e){var T=e(3400),k=e(20011),o=e(31508).handleText,_=e(43980),b=e(31147),f=e(20088),s=e(76308);U.exports={supplyDefaults:function(t,i,r,n){function a(c,x){return T.coerce(t,i,f,c,x)}if(_(t,i,n,a)){b(t,i,n,a),a("xhoverformat"),a("yhoverformat"),a("orientation",i.y&&!i.x?"v":"h"),a("offset"),a("width");var l=a("text");a("hovertext"),a("hovertemplate");var u=a("textposition");o(t,i,n,a,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||a("textinfo",T.isArrayOrTypedArray(l)?"text+value":"value");var h=a("marker.color",r);a("marker.line.color",s.defaultLine),a("marker.line.width"),a("connector.visible")&&(a("connector.fillcolor",function(c){var x=T.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(x,.5*s.opacity(x))}(h)),a("connector.line.width")&&(a("connector.line.color"),a("connector.line.dash"))),a("zorder")}else i.visible=!1},crossTraceDefaults:function(t,i){var r,n;function a(u){return T.coerce(n._input,n,f,u)}if(i.funnelmode==="group")for(var l=0;l<t.length;l++)r=(n=t[l])._input,k(r,n,i,a)}}},34580:function(U){U.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(C.percentInitial=e.percentInitial),"percentPrevious"in e&&(C.percentPrevious=e.percentPrevious),"percentTotal"in e&&(C.percentTotal=e.percentTotal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},31488:function(U,C,e){var T=e(76308).opacity,k=e(63400).hoverOnBars,o=e(3400).formatPercent;U.exports=function(_,b,f,s,t){var i=k(_,b,f,s,t);if(i){var r=i.cd,n=r[0].trace,a=n.orientation==="h",l=r[i.index];i[(a?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=o(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=o(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=o(l.sumR,1);var u=l.hi||n.hoverinfo,h=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",x=u.split("+"),p=function(v){return c||x.indexOf(v)!==-1};p("percent initial")&&h.push(i.percentInitialLabel+" of initial"),p("percent previous")&&h.push(i.percentPreviousLabel+" of previous"),p("percent total")&&h.push(i.percentTotalLabel+" of total")}return i.extraText=h.join("<br>"),i.color=function(v,g){var y=v.marker,m=g.mc||y.color,w=g.mlc||y.line.color,d=g.mlw||y.line.width;return T(m)?m:T(w)&&d?w:void 0}(n,l),[i]}}},94704:function(U,C,e){U.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(U){U.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(U,C,e){var T=e(3400),k=e(7076);U.exports=function(o,_,b){var f=!1;function s(r,n){return T.coerce(o,_,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="funnel"){f=!0;break}}f&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;function s(t,i,r,n){var a=[],l=[],u=n?i:r,h=n?r:i;return a[0]=u.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),a[1]=u.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),a[2]=u.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),a[3]=u.c2p(t.nextS1,!0),l[3]=h.c2p(t.nextP1,!0),n?[a,l]:[l,a]}U.exports=function(t,i,r,n){var a=t._fullLayout;f("funnel",a),function(l,u,h,c){var x=u.xaxis,p=u.yaxis;k.makeTraceGroups(c,h,"trace bars").each(function(v){var g=T.select(this),y=v[0].trace,m=k.ensureSingle(g,"g","regions");if(y.connector&&y.connector.visible){var w=y.orientation==="h",d=m.selectAll("g.region").data(k.identity);d.enter().append("g").classed("region",!0),d.exit().remove();var S=d.size();d.each(function(A,E){if(E===S-1||A.cNext){var P=s(A,x,p,w),O=P[0],I=P[1],D="";O[0]!==_&&I[0]!==_&&O[1]!==_&&I[1]!==_&&O[2]!==_&&I[2]!==_&&O[3]!==_&&I[3]!==_&&(D+=w?"M"+O[0]+","+I[1]+"L"+O[2]+","+I[2]+"H"+O[3]+"L"+O[1]+","+I[1]+"Z":"M"+O[1]+","+I[1]+"L"+O[2]+","+I[3]+"V"+I[2]+"L"+O[1]+","+I[0]+"Z"),D===""&&(D="M0,0Z"),k.ensureSingle(T.select(this),"path").attr("d",D).call(o.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(t,i,r,n),function(l,u,h,c){var x=u.xaxis,p=u.yaxis;k.makeTraceGroups(c,h,"trace bars").each(function(v){var g=T.select(this),y=v[0].trace,m=k.ensureSingle(g,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var w=y.orientation==="h",d=m.selectAll("g.line").data(k.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var S=d.size();d.each(function(A,E){if(E===S-1||A.cNext){var P=s(A,x,p,w),O=P[0],I=P[1],D="";O[3]!==void 0&&I[3]!==void 0&&(w?(D+="M"+O[0]+","+I[1]+"L"+O[2]+","+I[2],D+="M"+O[1]+","+I[1]+"L"+O[3]+","+I[2]):(D+="M"+O[1]+","+I[1]+"L"+O[2]+","+I[3],D+="M"+O[1]+","+I[0]+"L"+O[2]+","+I[2])),D===""&&(D="M0,0Z"),k.ensureSingle(T.select(this),"path").attr("d",D).call(o.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(t,i,r,n),b.plot(t,i,r,n,{mode:a.funnelmode,norm:a.funnelmode,gap:a.funnelgap,groupgap:a.funnelgroupgap})}},44544:function(U,C,e){var T=e(33428),k=e(43616),o=e(76308),_=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;U.exports={style:function(t,i,r){var n=r||T.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");f(t,n,"funnel"),n.style("opacity",function(a){return a[0].trace.opacity}),n.each(function(a){var l=T.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u.marker;T.select(this).call(o.fill,h.mc||c.color).call(o.stroke,h.mlc||c.line.color).call(k.dashLine,c.line.dash,h.mlw||c.line.width).style("opacity",u.selectedpoints&&!h.selected?_:1)}}),s(l,u,t),l.selectAll(".regions").each(function(){T.select(this).selectAll("path").style("stroke-width",0).call(o.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=u.connector.line;k.lineGroupStyle(T.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(U,C,e){var T=e(74996),k=e(45464),o=e(86968).u,_=e(21776).Ks,b=e(21776).Gw,f=e(92880).extendFlat;U.exports={labels:T.labels,label0:T.label0,dlabel:T.dlabel,values:T.values,marker:{colors:T.marker.colors,line:{color:f({},T.marker.line.color,{dflt:null}),width:f({},T.marker.line.width,{dflt:1}),editType:"calc"},pattern:T.marker.pattern,editType:"calc"},text:T.text,hovertext:T.hovertext,scalegroup:f({},T.scalegroup,{}),textinfo:f({},T.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:f({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:_({},{keys:["label","color","value","text","percent"]}),textposition:f({},T.textposition,{values:["inside","none"],dflt:"inside"}),textfont:T.textfont,insidetextfont:T.insidetextfont,title:{text:T.title.text,font:T.title.font,position:f({},T.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:o({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(U,C,e){var T=e(7316);C.name="funnelarea",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},54e3:function(U,C,e){var T=e(45768);U.exports={calc:function(k,o){return T.calc(k,o)},crossTraceCalc:function(k){T.crossTraceCalc(k,{type:"funnelarea"})}}},92688:function(U,C,e){var T=e(3400),k=e(22332),o=e(86968).Q,_=e(31508).handleText,b=e(74174).handleLabelsAndValues,f=e(74174).handleMarkerDefaults;U.exports=function(s,t,i,r){function n(g,y){return T.coerce(s,t,k,g,y)}var a=n("labels"),l=n("values"),u=b(a,l),h=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),h){t._length=h,f(s,t,r,n),n("scalegroup");var c,x=n("text"),p=n("texttemplate");if(p||(c=n("textinfo",Array.isArray(x)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),p||c&&c!=="none"){var v=n("textposition");_(s,t,r,n,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else c==="none"&&n("textposition","none");o(t,r,n),n("title.text")&&(n("title.position"),T.coerceFont(n,"title.font",r.font)),n("aspectratio"),n("baseratio")}else t.visible=!1}},62396:function(U,C,e){U.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(U,C,e){var T=e(85204).hiddenlabels;U.exports={hiddenlabels:T,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(U,C,e){var T=e(3400),k=e(61280);U.exports=function(o,_){function b(f,s){return T.coerce(o,_,k,f,s)}b("hiddenlabels"),b("funnelareacolorway",_.colorway),b("extendfunnelareacolors")}},39472:function(U,C,e){var T=e(33428),k=e(43616),o=e(3400),_=o.strScale,b=o.strTranslate,f=e(72736),s=e(98184).toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,r=t.clearMinTextSize,n=e(69656),a=e(37820),l=a.attachFxHandlers,u=a.determineInsideTextFont,h=a.layoutAreas,c=a.prerenderTitles,x=a.positionTitleOutside,p=a.formatSliceLabel;function v(g,y){return"l"+(y[0]-g[0])+","+(y[1]-g[1])}U.exports=function(g,y){var m=g._context.staticPlot,w=g._fullLayout;r("funnelarea",w),c(y,g),h(y,w._size),o.makeTraceGroups(w._funnelarealayer,y,"trace").each(function(d){var S=T.select(this),A=d[0],E=A.trace;(function(P){if(P.length){var O=P[0],I=O.trace,D=I.aspectratio,V=I.baseratio;V>.999&&(V=.999);var z,j,X,F=Math.pow(V,2),H=O.vTotal,W=H,ie=H*F/(1-F)/H,te=[];for(te.push(xe()),j=P.length-1;j>-1;j--)if(!(X=P[j]).hidden){var Q=X.v/W;ie+=Q,te.push(xe())}var ne=1/0,$=-1/0;for(j=0;j<te.length;j++)z=te[j],ne=Math.min(ne,z[1]),$=Math.max($,z[1]);for(j=0;j<te.length;j++)te[j][1]-=($+ne)/2;var J=te[te.length-1][0],re=O.r,se=($-ne)/2,ue=re/J,he=re/se*D;for(O.r=he*se,j=0;j<te.length;j++)te[j][0]*=ue,te[j][1]*=he;var pe,ge,ye=[-(z=te[0])[0],z[1]],be=[z[0],z[1]],Te=0;for(j=P.length-1;j>-1;j--)if(!(X=P[j]).hidden){var Se=te[Te+=1][0],Fe=te[Te][1];X.TL=[-Se,Fe],X.TR=[Se,Fe],X.BL=ye,X.BR=be,X.pxmid=(pe=X.TR,ge=X.BR,[.5*(pe[0]+ge[0]),.5*(pe[1]+ge[1])]),ye=X.TL,be=X.TR}}function xe(){var le,oe={x:le=Math.sqrt(ie),y:-le};return[oe.x,oe.y]}})(d),S.each(function(){var P=T.select(this).selectAll("g.slice").data(d);P.enter().append("g").classed("slice",!0),P.exit().remove(),P.each(function(I,D){if(I.hidden)T.select(this).selectAll("path,g").remove();else{I.pointNumber=I.i,I.curveNumber=E.index;var V=A.cx,z=A.cy,j=T.select(this),X=j.selectAll("path.surface").data([I]);X.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),j.call(l,g,d);var F="M"+(V+I.TR[0])+","+(z+I.TR[1])+v(I.TR,I.BR)+v(I.BR,I.BL)+v(I.BL,I.TL)+"Z";X.attr("d",F),p(g,I,A);var H=n.castOption(E.textposition,I.pts),W=j.selectAll("g.slicetext").data(I.text&&H!=="none"?[0]:[]);W.enter().append("g").classed("slicetext",!0),W.exit().remove(),W.each(function(){var ie=o.ensureSingle(T.select(this),"text","",function(ue){ue.attr("data-notex",1)}),te=o.ensureUniformFontSize(g,u(E,I,w.font));ie.text(I.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,te).call(f.convertToTspans,g);var Q,ne,$,J=k.bBox(ie.node()),re=Math.min(I.BL[1],I.BR[1])+z,se=Math.max(I.TL[1],I.TR[1])+z;ne=Math.max(I.TL[0],I.BL[0])+V,$=Math.min(I.TR[0],I.BR[0])+V,(Q=s(ne,$,re,se,J,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=te.size,i(E.type,Q,w),d[D].transform=Q,o.setTransormAndDisplay(ie,Q)})}});var O=T.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);O.enter().append("g").classed("titletext",!0),O.exit().remove(),O.each(function(){var I=o.ensureSingle(T.select(this),"text","",function(z){z.attr("data-notex",1)}),D=E.title.text;E._meta&&(D=o.templateString(D,E._meta)),I.text(D).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(f.convertToTspans,g);var V=x(A,w._size);I.attr("transform",b(V.x,V.y)+_(Math.min(1,V.scale))+b(V.tx,V.ty))})})})}},62096:function(U,C,e){var T=e(33428),k=e(10528),o=e(82744).resizeText;U.exports=function(_){var b=_._fullLayout._funnelarealayer.selectAll(".trace");o(_,b,"funnelarea"),b.each(function(f){var s=f[0].trace,t=T.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){T.select(this).call(k,i,s,_)})})}},83328:function(U,C,e){var T=e(52904),k=e(45464),o=e(25376),_=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(49084),t=e(92880).extendFlat;U.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},T.x,{impliedEdits:{xtype:"array"}}),x0:t({},T.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},T.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},T.y,{impliedEdits:{ytype:"array"}}),y0:t({},T.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},T.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},T.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},T.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},T.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},T.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},T.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},T.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:b(),texttemplate:f({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1}),zorder:T.zorder},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(U,C,e){var T=e(24040),k=e(3400),o=e(54460),_=e(1220),b=e(55480),f=e(47128),s=e(2872),t=e(26136),i=e(70448),r=e(11240),n=e(35744),a=e(39032).BADNUM;function l(u){for(var h=[],c=u.length,x=0;x<c;x++){var p=u[x];p!==a&&h.push(p)}return h}U.exports=function(u,h){var c,x,p,v,g,y,m,w,d,S,A,E=o.getFromId(u,h.xaxis||"x"),P=o.getFromId(u,h.yaxis||"y"),O=T.traceIs(h,"contour"),I=T.traceIs(h,"histogram"),D=T.traceIs(h,"gl2d"),V=O?"best":h.zsmooth;if(E._minDtick=0,P._minDtick=0,I)v=(A=b(u,h)).orig_x,c=A.x,x=A.x0,p=A.dx,w=A.orig_y,g=A.y,y=A.y0,m=A.dy,d=A.z;else{var z=h.z;k.isArray1D(z)?(s(h,E,P,"x","y",["z"]),c=h._x,g=h._y,z=h._z):(v=h.x?E.makeCalcdata(h,"x"):[],w=h.y?P.makeCalcdata(h,"y"):[],c=_(h,E,"x",v).vals,g=_(h,P,"y",w).vals,h._x=c,h._y=g),x=h.x0,p=h.dx,y=h.y0,m=h.dy,d=t(z,h,E,P)}function j($){V=h._input.zsmooth=h.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+$)}function X($){if($.length>1){var J=($[$.length-1]-$[0])/($.length-1),re=Math.abs(J/100);for(S=0;S<$.length-1;S++)if(Math.abs($[S+1]-$[S]-J)>re)return!1}return!0}(E.rangebreaks||P.rangebreaks)&&(d=function($,J,re){for(var se=[],ue=-1,he=0;he<re.length;he++)if(J[he]!==a){se[++ue]=[];for(var pe=0;pe<re[he].length;pe++)$[pe]!==a&&se[ue].push(re[he][pe])}return se}(c,g,d),I||(c=l(c),g=l(g),h._x=c,h._y=g)),I||!O&&!h.connectgaps||(h._emptypoints=r(d),i(d,h._emptypoints)),h._islinear=!1,E.type==="log"||P.type==="log"?V==="fast"&&j("log axis found"):X(c)?X(g)?h._islinear=!0:V==="fast"&&j("y scale is not linear"):V==="fast"&&j("x scale is not linear");var F=k.maxRowLength(d),H=h.xtype==="scaled"?"":c,W=n(h,H,x,p,F,E),ie=h.ytype==="scaled"?"":g,te=n(h,ie,y,m,d.length,P);D||(h._extremes[E._id]=o.findExtremes(E,W),h._extremes[P._id]=o.findExtremes(P,te));var Q={x:W,y:te,z:d,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&v&&(Q.orig_x=v),h.yperiodalignment&&w&&(Q.orig_y=w),H&&H.length===W.length-1&&(Q.xCenter=H),ie&&ie.length===te.length-1&&(Q.yCenter=ie),I&&(Q.xRanges=A.xRanges,Q.yRanges=A.yRanges,Q.pts=A.pts),O||f(u,h,{vals:d,cLetter:"z"}),O&&h.contours&&h.contours.coloring==="heatmap"){var ne={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};Q.xfill=n(ne,H,x,p,F,E),Q.yfill=n(ne,ie,y,m,d.length,P)}return[Q]}},26136:function(U,C,e){var T=e(38248),k=e(3400),o=e(39032).BADNUM;U.exports=function(_,b,f,s){var t,i,r,n,a,l;function u(g){if(T(g))return+g}if(b&&b.transpose){for(t=0,a=0;a<_.length;a++)t=Math.max(t,_[a].length);if(t===0)return!1;r=function(g){return g.length},n=function(g,y,m){return(g[m]||[])[y]}}else t=_.length,r=function(g,y){return g[y].length},n=function(g,y,m){return(g[y]||[])[m]};var h=function(g,y,m){return y===o||m===o?o:n(g,y,m)};function c(g){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&g&&g.type==="category"&&b["_"+g._id.charAt(0)].length){var y=g._id.charAt(0),m={},w=b["_"+y+"CategoryMap"]||b[y];for(a=0;a<w.length;a++)m[w[a]]=a;return function(d){var S=m[g._categories[d]];return S+1?S:o}}return k.identity}var x=c(f),p=c(s);s&&s.type==="category"&&(t=s._categories.length);var v=new Array(t);for(a=0;a<t;a++)for(i=f&&f.type==="category"?f._categories.length:r(_,a),v[a]=new Array(i),l=0;l<i;l++)v[a][l]=u(h(_,p(a),x(l)));return v}},96288:function(U){U.exports={min:"zmin",max:"zmax"}},2872:function(U,C,e){var T=e(3400),k=e(39032).BADNUM,o=e(1220);U.exports=function(_,b,f,s,t,i){var r=_._length,n=b.makeCalcdata(_,s),a=f.makeCalcdata(_,t);n=o(_,b,s,n).vals,a=o(_,f,t,a).vals;var l,u,h,c,x=_.text,p=x!==void 0&&T.isArray1D(x),v=_.hovertext,g=v!==void 0&&T.isArray1D(v),y=T.distinctVals(n),m=y.vals,w=T.distinctVals(a),d=w.vals,S=[],A=d.length,E=m.length;for(l=0;l<i.length;l++)S[l]=T.init2dArray(A,E);p&&(h=T.init2dArray(A,E)),g&&(c=T.init2dArray(A,E));var P=T.init2dArray(A,E);for(l=0;l<r;l++)if(n[l]!==k&&a[l]!==k){var O=T.findBin(n[l]+y.minDiff/2,m),I=T.findBin(a[l]+w.minDiff/2,d);for(u=0;u<i.length;u++){var D=_[i[u]];S[u][I][O]=D[l],P[I][O]=l}p&&(h[I][O]=x[l]),g&&(c[I][O]=v[l])}for(_["_"+s]=m,_["_"+t]=d,u=0;u<i.length;u++)_["_"+i[u]]=S[u];p&&(_._text=h),g&&(_._hovertext=c),b&&b.type==="category"&&(_["_"+s+"CategoryMap"]=m.map(function(V){return b._categories[V]})),f&&f.type==="category"&&(_["_"+t+"CategoryMap"]=d.map(function(V){return f._categories[V]})),_._after2before=P}},24480:function(U,C,e){var T=e(3400),k=e(51264),o=e(39096),_=e(31147),b=e(82748),f=e(27260),s=e(83328);U.exports=function(t,i,r,n){function a(l,u){return T.coerce(t,i,s,l,u)}k(t,i,a,n)?(_(t,i,n,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),o(a,n),b(t,i,a,n),a("hoverongaps"),a("connectgaps",T.isArray1D(i.z)&&i.zsmooth!==!1),f(t,i,n,a,{prefix:"",cLetter:"z"}),a("zorder")):i.visible=!1}},11240:function(U,C,e){var T=e(3400).maxRowLength;U.exports=function(k){var o,_,b,f,s,t,i,r,n=[],a={},l=[],u=k[0],h=[],c=[0,0,0],x=T(k);for(_=0;_<k.length;_++)for(o=h,h=u,u=k[_+1]||[],b=0;b<x;b++)h[b]===void 0&&((t=(h[b-1]!==void 0?1:0)+(h[b+1]!==void 0?1:0)+(o[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(_===0&&t++,b===0&&t++,_===k.length-1&&t++,b===h.length-1&&t++,t<4&&(a[[_,b]]=[_,b,t]),n.push([_,b,t])):l.push([_,b]));for(;l.length;){for(i={},r=!1,s=l.length-1;s>=0;s--)(t=((a[[(_=(f=l[s])[0])-1,b=f[1]]]||c)[2]+(a[[_+1,b]]||c)[2]+(a[[_,b-1]]||c)[2]+(a[[_,b+1]]||c)[2])/20)&&(i[f]=[_,b,t],l.splice(s,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(f in i)a[f]=i[f],n.push(i[f])}return n.sort(function(p,v){return v[2]-p[2]})}},55512:function(U,C,e){var T=e(93024),k=e(3400),o=k.isArrayOrTypedArray,_=e(54460),b=e(8932).extractOpts;U.exports=function(f,s,t,i,r){r||(r={});var n,a,l,u,h=r.isContour,c=f.cd[0],x=c.trace,p=f.xa,v=f.ya,g=c.x,y=c.y,m=c.z,w=c.xCenter,d=c.yCenter,S=c.zmask,A=x.zhoverformat,E=g,P=y;if(f.index!==!1){try{l=Math.round(f.index[1]),u=Math.round(f.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",f.index)}if(l<0||l>=m[0].length||u<0||u>m.length)return}else{if(T.inbox(s-g[0],s-g[g.length-1],0)>0||T.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(h){var O;for(E=[2*g[0]-g[1]],O=1;O<g.length;O++)E.push((g[O]+g[O-1])/2);for(E.push([2*g[g.length-1]-g[g.length-2]]),P=[2*y[0]-y[1]],O=1;O<y.length;O++)P.push((y[O]+y[O-1])/2);P.push([2*y[y.length-1]-y[y.length-2]])}l=Math.max(0,Math.min(E.length-2,k.findBin(s,E))),u=Math.max(0,Math.min(P.length-2,k.findBin(t,P)))}var I,D,V=p.c2p(g[l]),z=p.c2p(g[l+1]),j=v.c2p(y[u]),X=v.c2p(y[u+1]);h?(I=c.orig_x||g,D=c.orig_y||y,z=V,n=I[l],X=j,a=D[u]):(I=c.orig_x||w||g,D=c.orig_y||d||y,n=w?I[l]:(I[l]+I[l+1])/2,a=d?D[u]:(D[u]+D[u+1])/2,p&&p.type==="category"&&(n=g[l]),v&&v.type==="category"&&(a=y[u]),x.zsmooth&&(V=z=p.c2p(n),j=X=v.c2p(a)));var F=m[u][l];if(S&&!S[u][l]&&(F=void 0),F!==void 0||x.hoverongaps){var H;o(c.hovertext)&&o(c.hovertext[u])?H=c.hovertext[u][l]:o(c.text)&&o(c.text[u])&&(H=c.text[u][l]);var W=b(x),ie={type:"linear",range:[W.min,W.max],hoverformat:A,_separators:p._separators,_numFormat:p._numFormat},te=_.tickText(ie,F,"hover").text;return[k.extendFlat(f,{index:x._after2before?x._after2before[u][l]:[u,l],distance:f.maxHoverDistance,spikeDistance:f.maxSpikeDistance,x0:V,x1:z,y0:j,y1:X,xLabelVal:n,yLabelVal:a,zLabelVal:F,zLabel:te,text:H})]}}},81932:function(U,C,e){U.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(U,C,e){var T=e(3400),k=[[-1,0],[1,0],[0,-1],[0,1]];function o(b){return .5-.25*Math.min(1,.5*b)}function _(b,f,s){var t,i,r,n,a,l,u,h,c,x,p,v,g,y=0;for(n=0;n<f.length;n++){for(i=(t=f[n])[0],r=t[1],p=b[i][r],x=0,c=0,a=0;a<4;a++)(u=b[i+(l=k[a])[0]])&&(h=u[r+l[1]])!==void 0&&(x===0?v=g=h:(v=Math.min(v,h),g=Math.max(g,h)),c++,x+=h);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][r]=x/c,p===void 0?c<4&&(y=1):(b[i][r]=(1+s)*b[i][r]-s*p,g>v&&(y=Math.max(y,Math.abs(b[i][r]-p)/(g-v))))}return y}U.exports=function(b,f){var s,t=1;for(_(b,f),s=0;s<f.length&&!(f[s][2]<4);s++);for(f=f.slice(s),s=0;s<100&&t>.01;s++)t=_(b,f,o(t));return t>.01&&T.log("interp2d didn't converge quickly",t),b}},39096:function(U,C,e){var T=e(3400);U.exports=function(k,o){k("texttemplate");var _=T.extendFlat({},o.font,{color:"auto",size:"auto"});T.coerceFont(k,"textfont",_)}},35744:function(U,C,e){var T=e(24040),k=e(3400).isArrayOrTypedArray;U.exports=function(o,_,b,f,s,t){var i,r,n,a=[],l=T.traceIs(o,"contour"),u=T.traceIs(o,"histogram"),h=T.traceIs(o,"gl2d");if(k(_)&&_.length>1&&!u&&t.type!=="category"){var c=_.length;if(!(c<=s))return l?_.slice(0,s):_.slice(0,s+1);if(l||h)a=Array.from(_).slice(0,s);else if(s===1)a=t.type==="log"?[.5*_[0],2*_[0]]:[_[0]-.5,_[0]+.5];else if(t.type==="log"){for(a=[Math.pow(_[0],1.5)/Math.pow(_[1],.5)],n=1;n<c;n++)a.push(Math.sqrt(_[n-1]*_[n]));a.push(Math.pow(_[c-1],1.5)/Math.pow(_[c-2],.5))}else{for(a=[1.5*_[0]-.5*_[1]],n=1;n<c;n++)a.push(.5*(_[n-1]+_[n]));a.push(1.5*_[c-1]-.5*_[c-2])}if(c<s){var x,p=a[a.length-1];if(t.type==="log")for(x=p/a[a.length-2],n=c;n<s;n++)p*=x,a.push(p);else for(x=p-a[a.length-2],n=c;n<s;n++)p+=x,a.push(p)}}else{var v=o[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,v):k(_)&&_.length===1?_[0]:b===void 0?0:(t.type==="log"?t.d2c:t.r2c)(b,0,v),r=f||1,n=l||h?0:-.5;n<s;n++)a.push(i+r*n)}return a}},41420:function(U,C,e){var T=e(33428),k=e(49760),o=e(24040),_=e(43616),b=e(54460),f=e(3400),s=e(72736),t=e(76688),i=e(76308),r=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,a=e(9616),l=e(84284).LINE_SPACING,u=e(9188),h=e(2264).STYLE,c="heatmap-label";function x(m){return m.selectAll("g."+c)}function p(m){x(m).remove()}function v(m,w){var d=w.length-2,S=f.constrain(f.findBin(m,w),0,d),A=w[S],E=w[S+1],P=f.constrain(S+(m-A)/(E-A)-.5,0,d),O=Math.round(P),I=Math.abs(P-O);return P&&P!==d&&I?{bin0:O,frac:I,bin1:Math.round(O+I/(P-O))}:{bin0:O,bin1:O,frac:0}}function g(m,w){var d=w.length-1,S=f.constrain(f.findBin(m,w),0,d),A=w[S],E=(m-A)/(w[S+1]-A)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(m,w,d){m[w]=d[0],m[w+1]=d[1],m[w+2]=d[2],m[w+3]=Math.round(255*d[3])}U.exports=function(m,w,d,S){var A=w.xaxis,E=w.yaxis;f.makeTraceGroups(S,d,"hm").each(function(P){var O,I,D,V,z,j,X,F,H=T.select(this),W=P[0],ie=W.trace,te=ie.xgap||0,Q=ie.ygap||0,ne=W.z,$=W.x,J=W.y,re=W.xCenter,se=W.yCenter,ue=o.traceIs(ie,"contour"),he=ue?"best":ie.zsmooth,pe=ne.length,ge=f.maxRowLength(ne),ye=!1,be=!1;for(j=0;O===void 0&&j<$.length-1;)O=A.c2p($[j]),j++;for(j=$.length-1;I===void 0&&j>0;)I=A.c2p($[j]),j--;for(I<O&&(D=I,I=O,O=D,ye=!0),j=0;V===void 0&&j<J.length-1;)V=E.c2p(J[j]),j++;for(j=J.length-1;z===void 0&&j>0;)z=E.c2p(J[j]),j--;z<V&&(D=V,V=z,z=D,be=!0),ue&&(re=$,se=J,$=W.xfill,J=W.yfill);var Te="default";if(he?Te=he==="best"?"smooth":"fast":ie._islinear&&te===0&&Q===0&&u()&&(Te="fast"),Te!=="fast"){var Se=he==="best"?0:.5;O=Math.max(-Se*A._length,O),I=Math.min((1+Se)*A._length,I),V=Math.max(-Se*E._length,V),z=Math.min((1+Se)*E._length,z)}var Fe,xe,le=Math.round(I-O),oe=Math.round(z-V);if(O>=A._length||I<=0||V>=E._length||z<=0)return H.selectAll("image").data([]).exit().remove(),void p(H);Te==="fast"?(Fe=ge,xe=pe):(Fe=le,xe=oe);var de=document.createElement("canvas");de.width=Fe,de.height=xe;var Ce,_e,Ae=de.getContext("2d",{willReadFrequently:!0}),Le=n(ie,{noNumericCheck:!0,returnArray:!0});Te==="fast"?(Ce=ye?function(ur){return ge-1-ur}:f.identity,_e=be?function(ur){return pe-1-ur}:f.identity):(Ce=function(ur){return f.constrain(Math.round(A.c2p($[ur])-O),0,le)},_e=function(ur){return f.constrain(Math.round(E.c2p(J[ur])-V),0,oe)});var ze,Re,ve,ke,Ee=_e(0),De=[Ee,Ee],Pe=ye?0:1,Ue=be?0:1,We=0,$e=0,ot=0,st=0;function mt(ur,$t){if(ur!==void 0){var rn=Le(ur);return rn[0]=Math.round(rn[0]),rn[1]=Math.round(rn[1]),rn[2]=Math.round(rn[2]),We+=$t,$e+=rn[0]*$t,ot+=rn[1]*$t,st+=rn[2]*$t,rn}return[0,0,0,0]}function _t(ur,$t,rn,On){var xn=ur[rn.bin0];if(xn===void 0)return mt(void 0,1);var In,Gn=ur[rn.bin1],qn=$t[rn.bin0],ir=$t[rn.bin1],dr=Gn-xn||0,Kt=qn-xn||0;return In=Gn===void 0?ir===void 0?0:qn===void 0?2*(ir-xn):2*(2*ir-qn-xn)/3:ir===void 0?qn===void 0?0:2*(2*xn-Gn-qn)/3:qn===void 0?2*(2*ir-Gn-xn)/3:ir+xn-Gn-qn,mt(xn+rn.frac*dr+On.frac*(Kt+rn.frac*In))}if(Te!=="default"){var yt,it=0;try{yt=new Uint8Array(Fe*xe*4)}catch{yt=new Array(Fe*xe*4)}if(Te==="smooth"){var tt,Pt,Rt,Ft=re||$,Ot=se||J,Xe=new Array(Ft.length),Je=new Array(Ot.length),Ve=new Array(le),Ke=re?g:v,ft=se?g:v;for(j=0;j<Ft.length;j++)Xe[j]=Math.round(A.c2p(Ft[j])-O);for(j=0;j<Ot.length;j++)Je[j]=Math.round(E.c2p(Ot[j])-V);for(j=0;j<le;j++)Ve[j]=Ke(j,Xe);for(X=0;X<oe;X++)for(Pt=ne[(tt=ft(X,Je)).bin0],Rt=ne[tt.bin1],j=0;j<le;j++,it+=4)y(yt,it,ke=_t(Pt,Rt,Ve[j],tt))}else for(X=0;X<pe;X++)for(ve=ne[X],De=_e(X),j=0;j<ge;j++)ke=mt(ve[j],1),y(yt,it=4*(De*ge+Ce(j)),ke);var ut=Ae.createImageData(Fe,xe);try{ut.data.set(yt)}catch{var xt=ut.data,bt=xt.length;for(X=0;X<bt;X++)xt[X]=yt[X]}Ae.putImageData(ut,0,0)}else{var qe=Math.floor(te/2),je=Math.floor(Q/2);for(X=0;X<pe;X++)if(ve=ne[X],De.reverse(),De[Ue]=_e(X+1),De[0]!==De[1]&&De[0]!==void 0&&De[1]!==void 0)for(ze=[Re=Ce(0),Re],j=0;j<ge;j++)ze.reverse(),ze[Pe]=Ce(j+1),ze[0]!==ze[1]&&ze[0]!==void 0&&ze[1]!==void 0&&(ke=mt(ve[j],(ze[1]-ze[0])*(De[1]-De[0])),Ae.fillStyle="rgba("+ke.join(",")+")",Ae.fillRect(ze[0]+qe,De[0]+je,ze[1]-ze[0]-te,De[1]-De[0]-Q))}$e=Math.round($e/We),ot=Math.round(ot/We),st=Math.round(st/We);var lt=k("rgb("+$e+","+ot+","+st+")");m._hmpixcount=(m._hmpixcount||0)+We,m._hmlumcount=(m._hmlumcount||0)+We*lt.getLuminance();var gt=H.selectAll("image").data(P);gt.enter().append("svg:image").attr({xmlns:a.svg,preserveAspectRatio:"none"}),gt.attr({height:oe,width:le,x:O,y:V,"xlink:href":de.toDataURL("image/png")}),Te!=="fast"||he||gt.attr("style",h),p(H);var dt=ie.texttemplate;if(dt){var at=r(ie),kt={type:"linear",range:[at.min,at.max],_separators:A._separators,_numFormat:A._numFormat},wt=ie.type==="histogram2dcontour",Et=ie.type==="contour",Tt=Et?pe-1:pe,At=Et?1:0,Nt=Et?ge-1:ge,Wt=[];for(j=Et?1:0;j<Tt;j++){var on;if(Et)on=W.y[j];else if(wt){if(j===0||j===pe-1)continue;on=W.y[j]}else if(W.yCenter)on=W.yCenter[j];else{if(j+1===pe&&W.y[j+1]===void 0)continue;on=(W.y[j]+W.y[j+1])/2}var cn=Math.round(E.c2p(on));if(!(0>cn||cn>E._length))for(X=At;X<Nt;X++){var un;if(Et)un=W.x[X];else if(wt){if(X===0||X===ge-1)continue;un=W.x[X]}else if(W.xCenter)un=W.xCenter[X];else{if(X+1===ge&&W.x[X+1]===void 0)continue;un=(W.x[X]+W.x[X+1])/2}var Xt=Math.round(A.c2p(un));if(!(0>Xt||Xt>A._length)){var tn=t({x:un,y:on},ie,m._fullLayout);tn.x=un,tn.y=on;var kn=W.z[j][X];kn===void 0?(tn.z="",tn.zLabel=""):(tn.z=kn,tn.zLabel=b.tickText(kt,kn,"hover").text);var fn=W.text&&W.text[j]&&W.text[j][X];fn!==void 0&&fn!==!1||(fn=""),tn.text=fn;var Qt=f.texttemplateString(dt,tn,m._fullLayout._d3locale,tn,ie._meta||{});if(Qt){var pn=Qt.split("<br>"),nn=pn.length,sn=0;for(F=0;F<nn;F++)sn=Math.max(sn,pn[F].length);Wt.push({l:nn,c:sn,t:Qt,x:Xt,y:cn,z:kn})}}}}var Sn=ie.textfont,wn=Sn.size,Dn=m._fullLayout.font.size;if(!wn||wn==="auto"){var Tn=1/0,Pn=1/0,Nn=0,$n=0;for(F=0;F<Wt.length;F++){var pr=Wt[F];if(Nn=Math.max(Nn,pr.l),$n=Math.max($n,pr.c),F<Wt.length-1){var Hn=Wt[F+1],Qn=Math.abs(Hn.x-pr.x),er=Math.abs(Hn.y-pr.y);Qn&&(Tn=Math.min(Tn,Qn)),er&&(Pn=Math.min(Pn,er))}}isFinite(Tn)&&isFinite(Pn)?(Tn-=te,Pn-=Q,Tn/=$n,Pn/=Nn,Tn/=l/2,Pn/=l,wn=Math.min(Math.floor(Tn),Math.floor(Pn),Dn)):wn=Dn}if(wn<=0||!isFinite(wn))return;x(H).data(Wt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(ur){var $t=T.select(this),rn=Sn.color;rn&&rn!=="auto"||(rn=i.contrast(ur.z===void 0?m._fullLayout.plot_bgcolor:"rgba("+Le(ur.z).join()+")")),$t.attr("data-notex",1).call(s.positionText,function(On){return On.x}(ur),function(On){return On.y-wn*(On.l*l/2-1)}(ur)).call(_.font,{family:Sn.family,size:wn,color:rn,weight:Sn.weight,style:Sn.style,variant:Sn.variant,textcase:Sn.textcase,lineposition:Sn.lineposition,shadow:Sn.shadow}).text(ur.t).call(s.convertToTspans,m)})}})}},41648:function(U,C,e){var T=e(33428);U.exports=function(k){T.select(k).selectAll(".hm image").style("opacity",function(o){return o.trace.opacity})}},82748:function(U){U.exports=function(C,e,T){T("zsmooth")===!1&&(T("xgap"),T("ygap")),T("zhoverformat")}},51264:function(U,C,e){var T=e(38248),k=e(3400),o=e(24040);function _(b,f){var s=f(b);return(s?f(b+"type","array"):"scaled")==="scaled"&&(f(b+"0"),f("d"+b)),s}U.exports=function(b,f,s,t,i,r){var n,a,l=s("z");if(i=i||"x",r=r||"y",l===void 0||!l.length)return 0;if(k.isArray1D(l)){n=s(i),a=s(r);var u=k.minRowLength(n),h=k.minRowLength(a);if(u===0||h===0)return 0;f._length=Math.min(u,h,l.length)}else{if(n=_(i,s),a=_(r,s),!function(c){for(var x,p=!0,v=!1,g=!1,y=0;y<c.length;y++){if(x=c[y],!k.isArrayOrTypedArray(x)){p=!1;break}x.length>0&&(v=!0);for(var m=0;m<x.length;m++)if(T(x[m])){g=!0;break}}return p&&v&&g}(l))return 0;s("transpose"),f._length=null}return b.type==="heatmapgl"||o.getComponentMethod("calendars","handleTraceDefaults")(b,f,[i,r],t),!0}},74512:function(U,C,e){for(var T=e(83328),k=e(49084),o=e(92880).extendFlat,_=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],f={},s=0;s<b.length;s++){var t=b[s];f[t]=T[t]}f.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(f,k("",{cLetter:"z",autoColorDflt:!1})),U.exports=_(f,"calc","nested")},84656:function(U,C,e){var T=e(67792).gl_heatmap2d,k=e(54460),o=e(43080);function _(f,s){this.scene=f,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=T(f.glplot,this.options),this.heatmap._trace=this}var b=_.prototype;b.handlePick=function(f){var s=this.options,t=s.shape,i=f.pointId,r=i%t[0],n=Math.floor(i/t[0]),a=i;return{trace:this,dataCoord:f.dataCoord,traceCoord:[s.x[r],s.y[n],s.z[a]],textLabel:this.textLabels[i],name:this.name,pointIndex:[n,r],hoverinfo:this.hoverinfo}},b.update=function(f,s){var t=s[0];this.index=f.index,this.name=f.name,this.hoverinfo=f.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var r=i[0].length,n=i.length;this.options.shape=[r,n],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=f.zsmooth;var a=function(x){for(var p=x.colorscale,v=x.zmin,g=x.zmax,y=p.length,m=new Array(y),w=new Array(4*y),d=0;d<y;d++){var S=p[d],A=o(S[1]);m[d]=v+S[0]*(g-v);for(var E=0;E<4;E++)w[4*d+E]=A[E]}return{colorLevels:m,colorValues:w}}(f);this.options.colorLevels=a.colorLevels,this.options.colorValues=a.colorValues,this.textLabels=[].concat.apply([],f.text),this.heatmap.update(this.options);var l,u,h=this.scene.xaxis,c=this.scene.yaxis;f.zsmooth===!1&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),f._extremes[h._id]=k.findExtremes(h,t.x,l),f._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},U.exports=function(f,s,t){var i=new _(f,s.uid);return i.update(s,t),i}},86464:function(U,C,e){var T=e(3400),k=e(51264),o=e(27260),_=e(74512);U.exports=function(b,f,s,t){function i(r,n){return T.coerce(b,f,_,r,n)}k(b,f,i,t)?(i("text"),i("zsmooth"),o(b,f,t,i,{prefix:"",cLetter:"z"})):f.visible=!1}},45536:function(U,C,e){U.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(U,C,e){var T=e(20832),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(21776).Gw,b=e(25376),f=e(11120),s=e(73316),t=e(92880).extendFlat;U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),orientation:T.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:f("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:f("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({},{keys:s.eventDataKeys}),texttemplate:_({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},T.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:T.insidetextanchor,textangle:T.textangle,cliponaxis:T.cliponaxis,constraintext:T.constraintext,marker:T.marker,offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:T.selected,unselected:T.unselected,_deprecated:{bardir:T._deprecated.bardir},zorder:T.zorder}},2e3:function(U){U.exports=function(C,e){for(var T=C.length,k=0,o=0;o<T;o++)e[o]?(C[o]/=e[o],k+=C[o]):C[o]=null;return k}},11120:function(U){U.exports=function(C,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(U,C,e){var T=e(38248);U.exports={count:function(k,o,_){return _[k]++,1},sum:function(k,o,_,b){var f=b[o];return T(f)?(f=Number(f),_[k]+=f,f):0},avg:function(k,o,_,b,f){var s=b[o];return T(s)&&(s=Number(s),_[k]+=s,f[k]++),0},min:function(k,o,_,b){var f=b[o];if(T(f)){if(f=Number(f),!T(_[k]))return _[k]=f,f;if(_[k]>f){var s=f-_[k];return _[k]=f,s}}return 0},max:function(k,o,_,b){var f=b[o];if(T(f)){if(f=Number(f),!T(_[k]))return _[k]=f,f;if(_[k]<f){var s=f-_[k];return _[k]=f,s}}return 0}}},67712:function(U,C,e){var T=e(39032),k=T.ONEAVGYEAR,o=T.ONEAVGMONTH,_=T.ONEDAY,b=T.ONEHOUR,f=T.ONEMIN,s=T.ONESEC,t=e(54460).tickIncrement;function i(l,u,h,c){if(l*u<=0)return 1/0;for(var x=Math.abs(u-l),p=h.type==="date",v=r(x,p),g=0;g<10;g++){var y=r(80*v,p);if(v===y||!n(y,l,u,p,h,c))break;v=y}return v}function r(l,u){return u&&l>s?l>_?l>1.1*k?k:l>1.1*o?o:_:l>b?b:l>f?f:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function n(l,u,h,c,x,p){if(c&&l>_){var v=a(u,x,p),g=a(h,x,p),y=l===k?0:1;return v[y]!==g[y]}return Math.floor(h/l)-Math.floor(u/l)>.1}function a(l,u,h){var c=u.c2d(l,k,h).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}U.exports=function(l,u,h,c,x){var p,v,g=-1.1*u,y=-.1*u,m=l-y,w=h[0],d=h[1],S=Math.min(i(w+y,w+m,c,x),i(d+y,d+m,c,x)),A=Math.min(i(w+g,w+y,c,x),i(d+g,d+y,c,x));if(S>A&&A<Math.abs(d-w)/4e3?(p=S,v=!1):(p=Math.min(S,A),v=!0),c.type==="date"&&p>_){var E=p===k?1:6,P=p===k?"M12":"M1";return function(O,I){var D=c.c2d(O,k,x),V=D.indexOf("-",E);V>0&&(D=D.substr(0,V));var z=c.d2c(D,0,x);if(z<O){var j=t(z,P,!1,x);(z+j)/2<O+l&&(z=j)}return I&&v?t(z,P,!0,x):z}}return function(O,I){var D=p*Math.round(O/p);return D+p/10<O&&D+.9*p<O+l&&(D+=p),I&&v&&(D-=p),D}}},35852:function(U,C,e){var T=e(38248),k=e(3400),o=e(24040),_=e(54460),b=e(84664),f=e(16964),s=e(10648),t=e(2e3),i=e(67712);function r(n,a,l,u,h){var c,x,p,v,g,y,m,w=u+"bins",d=n._fullLayout,S=a["_"+u+"bingroup"],A=d._histogramBinOpts[S],E=d.barmode==="overlay",P=function(be){return l.r2c(be,0,v)},O=function(be){return l.c2r(be,0,v)},I=l.type==="date"?function(be){return be||be===0?k.cleanDate(be,null,v):null}:function(be){return T(be)?Number(be):null};function D(be,Te,Se){Te[be+"Found"]?(Te[be]=I(Te[be]),Te[be]===null&&(Te[be]=Se[be])):(y[be]=Te[be]=Se[be],k.nestedProperty(x[0],w+"."+be).set(Se[be]))}if(a["_"+u+"autoBinFinished"])delete a["_"+u+"autoBinFinished"];else{x=A.traces;var V=[],z=!0,j=!1,X=!1;for(c=0;c<x.length;c++)if((p=x[c]).visible){var F=A.dirs[c];g=p["_"+F+"pos0"]=l.makeCalcdata(p,F),V=k.concat(V,g),delete p["_"+u+"autoBinFinished"],a.visible===!0&&(z?z=!1:(delete p._autoBin,p["_"+u+"autoBinFinished"]=1),o.traceIs(p,"2dMap")&&(j=!0),p.type==="histogram2dcontour"&&(X=!0))}v=x[0][u+"calendar"];var H=_.autoBin(V,l,A.nbins,j,v,A.sizeFound&&A.size),W=x[0]._autoBin={};if(y=W[A.dirs[0]]={},X&&(A.size||(H.start=O(_.tickIncrement(P(H.start),H.size,!0,v))),A.end===void 0&&(H.end=O(_.tickIncrement(P(H.end),H.size,!1,v)))),E&&!o.traceIs(a,"2dMap")&&H._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&a.bingroup===""&&a.xbins===void 0){if(h)return[H,g,!0];H=function(be,Te,Se,Fe,xe){var le,oe,de,Ce=be._fullLayout,_e=function($e,ot){for(var st=ot.xaxis,mt=ot.yaxis,_t=ot.orientation,yt=[],it=$e._fullData,tt=0;tt<it.length;tt++){var Pt=it[tt];Pt.type==="histogram"&&Pt.visible===!0&&Pt.orientation===_t&&Pt.xaxis===st&&Pt.yaxis===mt&&yt.push(Pt)}return yt}(be,Te),Ae=!1,Le=1/0,ze=[Te];for(le=0;le<_e.length;le++)if((oe=_e[le])===Te)Ae=!0;else if(Ae){var Re=r(be,oe,Se,Fe,!0),ve=Re[0],ke=Re[2];oe["_"+Fe+"autoBinFinished"]=1,oe["_"+Fe+"pos0"]=Re[1],ke?ze.push(oe):Le=Math.min(Le,ve.size)}else de=Ce._histogramBinOpts[oe["_"+Fe+"bingroup"]],Le=Math.min(Le,de.size||oe[xe].size);var Ee=new Array(ze.length);for(le=0;le<ze.length;le++)for(var De=ze[le]["_"+Fe+"pos0"],Pe=0;Pe<De.length;Pe++)if(De[Pe]!==void 0){Ee[le]=De[Pe];break}for(isFinite(Le)||(Le=k.distinctVals(Ee).minDiff),le=0;le<ze.length;le++){var Ue=(oe=ze[le])[Fe+"calendar"],We={start:Se.c2r(Ee[le]-Le/2,0,Ue),end:Se.c2r(Ee[le]+Le/2,0,Ue),size:Le};oe._input[xe]=oe[xe]=We,(de=Ce._histogramBinOpts[oe["_"+Fe+"bingroup"]])&&k.extendFlat(de,We)}return Te[xe]}(n,a,l,u,w)}(m=p.cumulative||{}).enabled&&m.currentbin!=="include"&&(m.direction==="decreasing"?H.start=O(_.tickIncrement(P(H.start),H.size,!0,v)):H.end=O(_.tickIncrement(P(H.end),H.size,!1,v))),A.size=H.size,A.sizeFound||(y.size=H.size,k.nestedProperty(x[0],w+".size").set(H.size)),D("start",A,H),D("end",A,H)}g=a["_"+u+"pos0"],delete a["_"+u+"pos0"];var ie=a._input[w]||{},te=k.extendFlat({},A),Q=A.start,ne=l.r2l(ie.start),$=ne!==void 0;if((A.startFound||$)&&ne!==l.r2l(Q)){var J=$?ne:k.aggNums(Math.min,null,g),re={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:A.size,tick0:Q,calendar:v,range:[J,_.tickIncrement(J,A.size,!1,v)].map(l.l2r)},se=_.tickFirst(re);se>l.r2l(J)&&(se=_.tickIncrement(se,A.size,!0,v)),te.start=l.l2r(se),$||k.nestedProperty(a,w+".start").set(te.start)}var ue=A.end,he=l.r2l(ie.end),pe=he!==void 0;if((A.endFound||pe)&&he!==l.r2l(ue)){var ge=pe?he:k.aggNums(Math.max,null,g);te.end=l.l2r(ge),pe||k.nestedProperty(a,w+".start").set(te.end)}var ye="autobin"+u;return a._input[ye]===!1&&(a._input[w]=k.extendFlat({},a[w]||{}),delete a._input[ye],delete a[ye]),[te,g]}U.exports={calc:function(n,a){var l,u,h,c,x=[],p=[],v=a.orientation==="h",g=_.getFromId(n,v?a.yaxis:a.xaxis),y=v?"y":"x",m={x:"y",y:"x"}[y],w=a[y+"calendar"],d=a.cumulative,S=r(n,a,g,y),A=S[0],E=S[1],P=typeof A.size=="string",O=[],I=P?O:A,D=[],V=[],z=[],j=0,X=a.histnorm,F=a.histfunc,H=X.indexOf("density")!==-1;d.enabled&&H&&(X=X.replace(/ ?density$/,""),H=!1);var W,ie=F==="max"||F==="min"?null:0,te=f.count,Q=s[X],ne=!1,$=function(oe){return g.r2c(oe,0,w)};for(k.isArrayOrTypedArray(a[m])&&F!=="count"&&(W=a[m],ne=F==="avg",te=f[F]),l=$(A.start),h=$(A.end)+(l-_.tickIncrement(l,A.size,!1,w))/1e6;l<h&&x.length<1e6&&(u=_.tickIncrement(l,A.size,!1,w),x.push((l+u)/2),p.push(ie),z.push([]),O.push(l),H&&D.push(1/(u-l)),ne&&V.push(0),!(u<=l));)l=u;O.push(l),P||g.type!=="date"||(I={start:$(I.start),end:$(I.end),size:I.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var J=a["_"+y+"bingroup"],re={leftGap:1/0,rightGap:1/0};J&&(n._fullLayout._roundFnOpts[J]||(n._fullLayout._roundFnOpts[J]=re),re=n._fullLayout._roundFnOpts[J]);var se,ue=p.length,he=!0,pe=re.leftGap,ge=re.rightGap,ye={};for(l=0;l<E.length;l++){var be=E[l];(c=k.findBin(be,I))>=0&&c<ue&&(j+=te(c,l,p,W,V),he&&z[c].length&&be!==E[z[c][0]]&&(he=!1),z[c].push(l),ye[l]=c,pe=Math.min(pe,be-O[c]),ge=Math.min(ge,O[c+1]-be))}re.leftGap=pe,re.rightGap=ge,he||(se=function(oe,de){return function(){var Ce=n._fullLayout._roundFnOpts[J];return i(Ce.leftGap,Ce.rightGap,O,g,w)(oe,de)}}),ne&&(j=t(p,V)),Q&&Q(p,j,D),d.enabled&&function(oe,de,Ce){var _e,Ae,Le;function ze(ve){Le=oe[ve],oe[ve]/=2}function Re(ve){Ae=oe[ve],oe[ve]=Le+Ae/2,Le+=Ae}if(Ce==="half")if(de==="increasing")for(ze(0),_e=1;_e<oe.length;_e++)Re(_e);else for(ze(oe.length-1),_e=oe.length-2;_e>=0;_e--)Re(_e);else if(de==="increasing"){for(_e=1;_e<oe.length;_e++)oe[_e]+=oe[_e-1];Ce==="exclude"&&(oe.unshift(0),oe.pop())}else{for(_e=oe.length-2;_e>=0;_e--)oe[_e]+=oe[_e+1];Ce==="exclude"&&(oe.push(0),oe.shift())}}(p,d.direction,d.currentbin);var Te=Math.min(x.length,p.length),Se=[],Fe=0,xe=Te-1;for(l=0;l<Te;l++)if(p[l]){Fe=l;break}for(l=Te-1;l>=Fe;l--)if(p[l]){xe=l;break}for(l=Fe;l<=xe;l++)if(T(x[l])&&T(p[l])){var le={p:x[l],s:p[l],b:0};d.enabled||(le.pts=z[l],he?le.ph0=le.ph1=z[l].length?E[z[l][0]]:x[l]:(a._computePh=!0,le.ph0=se(O[l]),le.ph1=se(O[l+1],!0))),Se.push(le)}return Se.length===1&&(Se[0].width1=_.tickIncrement(Se[0].p,A.size,!1,w)-Se[0].p),b(Se,a),k.isArrayOrTypedArray(a.selectedpoints)&&k.tagSelected(Se,a,ye),Se},calcAllAutoBins:r}},73316:function(U){U.exports={eventDataKeys:["binNumber"]}},80536:function(U,C,e){var T=e(3400),k=e(79811),o=e(24040).traceIs,_=e(20011),b=e(31508).validateCornerradius,f=T.nestedProperty,s=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];U.exports=function(r,n){var a,l,u,h,c,x,p,v=n._histogramBinOpts={},g=[],y={},m=[];function w(ie,te){return T.coerce(a._input,a,a._module.attributes,ie,te)}function d(ie){return ie.orientation==="v"?"x":"y"}function S(ie,te,Q){var ne=ie.uid+"__"+Q;te||(te=ne);var $=function(ue,he){return k.getFromTrace({_fullLayout:n},ue,he).type}(ie,Q),J=ie[Q+"calendar"]||"",re=v[te],se=!0;re&&($===re.axType&&J===re.calendar?(se=!1,re.traces.push(ie),re.dirs.push(Q)):(te=ne,$!==re.axType&&T.warn(["Attempted to group the bins of trace",ie.index,"set on a","type:"+$,"axis","with bins on","type:"+re.axType,"axis."].join(" ")),J!==re.calendar&&T.warn(["Attempted to group the bins of trace",ie.index,"set with a",J,"calendar","with bins",re.calendar?"on a "+re.calendar+" calendar":"w/o a set calendar"].join(" ")))),se&&(v[te]={traces:[ie],dirs:[Q],axType:$,calendar:ie[Q+"calendar"]||""}),ie["_"+Q+"bingroup"]=te}for(c=0;c<r.length;c++)if(a=r[c],o(a,"histogram")){if(g.push(a),delete a._xautoBinFinished,delete a._yautoBinFinished,a.type==="histogram"){var A=w("marker.cornerradius",n.barcornerradius);a.marker&&(a.marker.cornerradius=b(A))}o(a,"2dMap")||_(a._input,a,n,w)}var E=n._alignmentOpts||{};for(c=0;c<g.length;c++){if(a=g[c],u="",!o(a,"2dMap")){if(h=d(a),n.barmode==="group"&&a.alignmentgroup){var P=a[h+"axis"],O=s(n,P)+a.orientation;(E[O]||{})[a.alignmentgroup]&&(u=O)}u||n.barmode==="overlay"||(u=s(n,a.xaxis)+s(n,a.yaxis)+d(a))}u?(y[u]||(y[u]=[]),y[u].push(a)):m.push(a)}for(u in y)if((l=y[u]).length!==1){var I=!1;for(l.length&&(a=l[0],I=w("bingroup")),u=I||u,c=0;c<l.length;c++){var D=(a=l[c])._input.bingroup;D&&D!==u&&T.warn(["Trace",a.index,"must match","within bingroup",u+".","Ignoring its bingroup:",D,"setting."].join(" ")),a.bingroup=u,S(a,u,d(a))}}else m.push(l[0]);for(c=0;c<m.length;c++){a=m[c];var V=w("bingroup");if(o(a,"2dMap"))for(p=0;p<2;p++){var z=w((h=i[p])+"bingroup",V?V+"__"+h:null);S(a,z,h)}else S(a,V,d(a))}for(u in v){var j=v[u];for(l=j.traces,x=0;x<t.length;x++){var X,F,H=t[x],W=H.name;if(W!=="nbins"||!j.sizeFound){for(c=0;c<l.length;c++){if(a=l[c],h=j.dirs[c],X=H.aStr[h],f(a._input,X).get()!==void 0){j[W]=w(X),j[W+"Found"]=!0;break}(F=(a._autoBin||{})[h]||{})[W]&&f(a,X).set(F[W])}if(W==="start"||W==="end")for(;c<l.length;c++)(a=l[c])["_"+h+"bingroup"]&&w(X,(F=(a._autoBin||{})[h]||{})[W]);W!=="nbins"||j.sizeFound||j.nbinsFound||(a=l[0],j[W]=w(X))}}}}},6616:function(U,C,e){var T=e(24040),k=e(3400),o=e(76308),_=e(31508).handleText,b=e(55592),f=e(40196);U.exports=function(s,t,i,r){function n(y,m){return k.coerce(s,t,f,y,m)}var a=n("x"),l=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var u=n("textposition");_(s,t,r,n,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var h=n("orientation",l&&!a?"h":"v"),c=h==="v"?"x":"y",x=h==="v"?"y":"x",p=a&&l?Math.min(k.minRowLength(a)&&k.minRowLength(l)):k.minRowLength(t[c]||[]);if(p){t._length=p,T.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],r),t[x]&&n("histfunc"),n("histnorm"),n("autobin"+c),b(s,t,n,i,r),k.coerceSelectionMarkerOpacity(t,n);var v=(t.marker.line||{}).color,g=T.getComponentMethod("errorbars","supplyDefaults");g(s,t,v||o.defaultLine,{axis:"y"}),g(s,t,v||o.defaultLine,{axis:"x",inherit:"y"}),n("zorder")}else t.visible=!1}},84980:function(U){U.exports=function(C,e,T,k,o){if(C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(C.z=e.zLabelVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),!(T.cumulative||{}).enabled){var _,b=Array.isArray(o)?k[0].pts[o[0]][o[1]]:k[o].pts;if(C.pointNumbers=b,C.binNumber=C.pointNumber,delete C.pointNumber,delete C.pointIndex,T._indexToPoints){_=[];for(var f=0;f<b.length;f++)_=_.concat(T._indexToPoints[b[f]])}else _=b;C.pointIndices=_}return C}},43339:function(U,C,e){var T=e(63400).hoverPoints,k=e(54460).hoverLabelText;U.exports=function(o,_,b,f,s){var t=T(o,_,b,f,s);if(t){var i=(o=t[0]).cd[o.index],r=o.cd[0].trace;if(!r.cumulative.enabled){var n=r.orientation==="h"?"y":"x";o[n+"Label"]=k(o[n+"a"],[i.ph0,i.ph1],r[n+"hoverformat"])}return t}}},42600:function(U,C,e){U.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(U){U.exports={percent:function(C,e){for(var T=C.length,k=100/e,o=0;o<T;o++)C[o]*=k},probability:function(C,e){for(var T=C.length,k=0;k<T;k++)C[k]/=e},density:function(C,e,T,k){var o=C.length;k=k||1;for(var _=0;_<o;_++)C[_]*=T[_]*k},"probability density":function(C,e,T,k){var o=C.length;k&&(e/=k);for(var _=0;_<o;_++)C[_]*=T[_]/e}}},37008:function(U,C,e){var T=e(40196),k=e(11120),o=e(83328),_=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(49084),i=e(92880).extendFlat;U.exports=i({x:T.x,y:T.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:T.histnorm,histfunc:T.histfunc,nbinsx:T.nbinsx,xbins:k("x"),nbinsy:T.nbinsy,ybins:k("y"),autobinx:T.autobinx,autobiny:T.autobiny,bingroup:i({},T.bingroup,{}),xbingroup:i({},T.bingroup,{}),ybingroup:i({},T.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:f({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:o.textfont,showlegend:i({},_.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(U,C,e){var T=e(3400),k=e(54460),o=e(16964),_=e(10648),b=e(2e3),f=e(67712),s=e(35852).calcAllAutoBins;function t(n,a,l,u){var h,c=new Array(n);if(u)for(h=0;h<n;h++)c[h]=1/(a[h+1]-a[h]);else{var x=1/l;for(h=0;h<n;h++)c[h]=x}return c}function i(n,a){return{start:n(a.start),end:n(a.end),size:a.size}}function r(n,a,l,u,h,c){var x,p=n.length-1,v=new Array(p),g=f(l,u,n,h,c);for(x=0;x<p;x++){var y=(a||[])[x];v[x]=y===void 0?[g(n[x]),g(n[x+1],!0)]:[y,y]}return v}U.exports=function(n,a){var l,u,h,c,x=k.getFromId(n,a.xaxis),p=k.getFromId(n,a.yaxis),v=a.xcalendar,g=a.ycalendar,y=function(mt){return x.r2c(mt,0,v)},m=function(mt){return p.r2c(mt,0,g)},w=s(n,a,x,"x"),d=w[0],S=w[1],A=s(n,a,p,"y"),E=A[0],P=A[1],O=a._length;S.length>O&&S.splice(O,S.length-O),P.length>O&&P.splice(O,P.length-O);var I=[],D=[],V=[],z=typeof d.size=="string",j=typeof E.size=="string",X=[],F=[],H=z?X:d,W=j?F:E,ie=0,te=[],Q=[],ne=a.histnorm,$=a.histfunc,J=ne.indexOf("density")!==-1,re=$==="max"||$==="min"?null:0,se=o.count,ue=_[ne],he=!1,pe=[],ge=[],ye="z"in a?a.z:"marker"in a&&Array.isArray(a.marker.color)?a.marker.color:"";ye&&$!=="count"&&(he=$==="avg",se=o[$]);var be=d.size,Te=y(d.start),Se=y(d.end)+(Te-k.tickIncrement(Te,be,!1,v))/1e6;for(l=Te;l<Se;l=k.tickIncrement(l,be,!1,v))D.push(re),X.push(l),he&&V.push(0);X.push(l);var Fe,xe=D.length,le=(l-Te)/xe,oe=(Fe=Te+le/2,x.c2r(Fe,0,v)),de=E.size,Ce=m(E.start),_e=m(E.end)+(Ce-k.tickIncrement(Ce,de,!1,g))/1e6;for(l=Ce;l<_e;l=k.tickIncrement(l,de,!1,g)){I.push(D.slice()),F.push(l);var Ae=new Array(xe);for(u=0;u<xe;u++)Ae[u]=[];Q.push(Ae),he&&te.push(V.slice())}F.push(l);var Le=I.length,ze=(l-Ce)/Le,Re=function(mt){return p.c2r(mt,0,g)}(Ce+ze/2);J&&(pe=t(D.length,H,le,z),ge=t(I.length,W,ze,j)),z||x.type!=="date"||(H=i(y,H)),j||p.type!=="date"||(W=i(m,W));var ve=!0,ke=!0,Ee=new Array(xe),De=new Array(Le),Pe=1/0,Ue=1/0,We=1/0,$e=1/0;for(l=0;l<O;l++){var ot=S[l],st=P[l];h=T.findBin(ot,H),c=T.findBin(st,W),h>=0&&h<xe&&c>=0&&c<Le&&(ie+=se(h,l,I[c],ye,te[c]),Q[c][h].push(l),ve&&(Ee[h]===void 0?Ee[h]=ot:Ee[h]!==ot&&(ve=!1)),ke&&(De[c]===void 0?De[c]=st:De[c]!==st&&(ke=!1)),Pe=Math.min(Pe,ot-X[h]),Ue=Math.min(Ue,X[h+1]-ot),We=Math.min(We,st-F[c]),$e=Math.min($e,F[c+1]-st))}if(he)for(c=0;c<Le;c++)ie+=b(I[c],te[c]);if(ue)for(c=0;c<Le;c++)ue(I[c],ie,pe,ge[c]);return{x:S,xRanges:r(X,ve&&Ee,Pe,Ue,x,v),x0:oe,dx:le,y:P,yRanges:r(F,ke&&De,We,$e,p,g),y0:Re,dy:ze,z:I,pts:Q}}},99784:function(U,C,e){var T=e(3400),k=e(56408),o=e(82748),_=e(27260),b=e(39096),f=e(37008);U.exports=function(s,t,i,r){function n(a,l){return T.coerce(s,t,f,a,l)}k(s,t,n,r),t.visible!==!1&&(o(s,t,n,r),_(s,t,r,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),b(n,r),n("xhoverformat"),n("yhoverformat"))}},59576:function(U,C,e){var T=e(55512),k=e(54460).hoverLabelText;U.exports=function(o,_,b,f,s){var t=T(o,_,b,f,s);if(t){var i=(o=t[0]).index,r=i[0],n=i[1],a=o.cd[0],l=a.trace,u=a.xRanges[n],h=a.yRanges[r];return o.xLabel=k(o.xa,[u[0],u[1]],l.xhoverformat),o.yLabel=k(o.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(U,C,e){U.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(U,C,e){var T=e(24040),k=e(3400);U.exports=function(o,_,b,f){var s=b("x"),t=b("y"),i=k.minRowLength(s),r=k.minRowLength(t);i&&r?(_._length=Math.min(i,r),T.getComponentMethod("calendars","handleTraceDefaults")(o,_,["x","y"],f),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):_.visible=!1}},81220:function(U,C,e){var T=e(37008),k=e(67104),o=e(49084),_=e(29736).axisHoverFormat,b=e(92880).extendFlat;U.exports=b({x:T.x,y:T.y,z:T.z,marker:T.marker,histnorm:T.histnorm,histfunc:T.histfunc,nbinsx:T.nbinsx,xbins:T.xbins,nbinsy:T.nbinsy,ybins:T.ybins,autobinx:T.autobinx,autobiny:T.autobiny,bingroup:T.bingroup,xbingroup:T.xbingroup,ybingroup:T.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:T.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},o("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(U,C,e){var T=e(3400),k=e(56408),o=e(84952),_=e(97680),b=e(39096),f=e(81220);U.exports=function(s,t,i,r){function n(a,l){return T.coerce(s,t,f,a,l)}k(s,t,n,r),t.visible!==!1&&(o(s,t,n,function(a){return T.coerce2(s,t,f,a)}),_(s,t,n,r),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(n,r))}},65664:function(U,C,e){U.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(49084),_=e(86968).u,b=e(74996),f=e(424),s=e(40516),t=e(32984),i=e(92880).extendFlat,r=e(98192).c;U.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:f.marker.colors,line:f.marker.line,pattern:r,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:f.leaf,pathbar:s.pathbar,text:b.text,textinfo:f.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:T({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:b.sort,root:f.root,domain:_({name:"icicle",trace:!0,editType:"calc"})}},59564:function(U,C,e){var T=e(7316);C.name="icicle",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},73876:function(U,C,e){var T=e(3776);C.r=function(k,o){return T.calc(k,o)},C.q=function(k){return T._runCrossTraceCalc("icicle",k)}},7045:function(U,C,e){var T=e(3400),k=e(97376),o=e(76308),_=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,r=t.handleDefaults;U.exports=function(n,a,l,u){function h(m,w){return T.coerce(n,a,k,m,w)}var c=h("labels"),x=h("parents");if(c&&c.length&&x&&x.length){var p=h("values");p&&p.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",T.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var g=h("pathbar.visible");b(n,a,u,h,"auto",{hasPathbar:g,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(n,a,u,h);var y=a._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis;y&&r(n,a,u,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",y?1:.7),a._hovered={marker:{line:{width:2,color:o.contrast(u.paper_bgcolor)}}},g&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),_(a,u,h),a._length=null}else a.visible=!1}},67880:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(72736),b=e(25132),f=e(47192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=e(96488).formatSliceLabel,n=!1;U.exports=function(a,l,u,h,c){var x=c.width,p=c.height,v=c.viewX,g=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,d=c.hasTransition,S=c.handleSlicesExit,A=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,P=c.prevEntry,O=a._context.staticPlot,I=a._fullLayout,D=l[0].trace,V=D.textposition.indexOf("left")!==-1,z=D.textposition.indexOf("right")!==-1,j=D.textposition.indexOf("bottom")!==-1,X=b(u,[x,p],{flipX:D.tiling.flip.indexOf("x")>-1,flipY:D.tiling.flip.indexOf("y")>-1,orientation:D.tiling.orientation,pad:{inner:D.tiling.pad},maxDepth:D._maxDepth}).descendants(),F=1/0,H=-1/0;X.forEach(function(ne){var $=ne.depth;$>=D._maxDepth?(ne.x0=ne.x1=(ne.x0+ne.x1)/2,ne.y0=ne.y1=(ne.y0+ne.y1)/2):(F=Math.min(F,$),H=Math.max(H,$))}),h=h.data(X,t.getPtId),D._maxVisibleLayers=isFinite(H)?H-F+1:0,h.enter().append("g").classed("slice",!0),S(h,n,{},[x,p],y),h.order();var W=null;if(d&&P){var ie=t.getPtId(P);h.each(function(ne){W===null&&t.getPtId(ne)===ie&&(W={x0:ne.x0,x1:ne.x1,y0:ne.y0,y1:ne.y1})})}var te=function(){return W||{x0:0,x1:x,y0:0,y1:p}},Q=h;return d&&(Q=Q.transition().each("end",function(){var ne=T.select(this);t.setSliceCursor(ne,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(ne){ne._x0=v(ne.x0),ne._x1=v(ne.x1),ne._y0=g(ne.y0),ne._y1=g(ne.y1),ne._hoverX=v(ne.x1-D.tiling.pad),ne._hoverY=g(j?ne.y1-D.tiling.pad/2:ne.y0+D.tiling.pad/2);var $=T.select(this),J=k.ensureSingle($,"path","surface",function(he){he.style("pointer-events",O?"none":"all")});d?J.transition().attrTween("d",function(he){var pe=A(he,n,te(),[x,p],{orientation:D.tiling.orientation,flipX:D.tiling.flip.indexOf("x")>-1,flipY:D.tiling.flip.indexOf("y")>-1});return function(ge){return y(pe(ge))}}):J.attr("d",y),$.call(i,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),J.call(f,ne,D,a,{hovered:!1}),ne.x0===ne.x1||ne.y0===ne.y1?ne._text="":ne._text=r(ne,u,D,l,I)||"";var re=k.ensureSingle($,"g","slicetext"),se=k.ensureSingle(re,"text","",function(he){he.attr("data-notex",1)}),ue=k.ensureUniformFontSize(a,t.determineTextFont(D,ne,I.font));se.text(ne._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":V?"start":"middle").call(o.font,ue).call(_.convertToTspans,a),ne.textBB=o.bBox(se.node()),ne.transform=m(ne,{fontSize:ue.size}),ne.transform.fontSize=ue.size,d?se.transition().attrTween("transform",function(he){var pe=E(he,n,te(),[x,p]);return function(ge){return w(pe(ge))}}):se.attr("transform",w(ne))}),W}},29044:function(U,C,e){U.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(U){U.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(U,C,e){var T=e(3400),k=e(90676);U.exports=function(o,_){function b(f,s){return T.coerce(o,_,k,f,s)}b("iciclecolorway",_.colorway),b("extendiciclecolors")}},25132:function(U,C,e){var T=e(74148),k=e(83024);U.exports=function(o,_,b){var f=b.flipX,s=b.flipY,t=b.orientation==="h",i=b.maxDepth,r=_[0],n=_[1];i&&(r=(o.height+1)*_[0]/Math.min(o.height+1,i),n=(o.height+1)*_[1]/Math.min(o.height+1,i));var a=T.partition().padding(b.pad.inner).size(t?[_[1],r]:[_[0],n])(o);return(t||f||s)&&k(a,_,{swapXY:t,flipX:f,flipY:s}),a}},38364:function(U,C,e){var T=e(95808),k=e(67880);U.exports=function(o,_,b,f){return T(o,_,b,f,{type:"icicle",drawDescendants:k})}},47192:function(U,C,e){var T=e(33428),k=e(76308),o=e(3400),_=e(82744).resizeText,b=e(60404);function f(s,t,i,r){var n=t.data.data,a=!t.children,l=n.i,u=o.castOption(i,l,"marker.line.color")||k.defaultLine,h=o.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,r).style("stroke-width",h).call(k.stroke,u).style("opacity",a?i.leaf.opacity:null)}U.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");_(s,t,"icicle"),t.each(function(i){var r=T.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(a){T.select(this).call(f,a,n,s)})})},styleOne:f}},95188:function(U,C,e){for(var T=e(45464),k=e(52904).zorder,o=e(21776).Ks,_=e(92880).extendFlat,b=e(47797).colormodel,f=["rgb","rgba","rgba256","hsl","hsla"],s=[],t=[],i=0;i<f.length;i++){var r=b[f[i]];s.push("For the `"+f[i]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),t.push("For the `"+f[i]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}U.exports=_({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:f,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:_({},T.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:o({},{keys:["z","color","colormodel"]}),zorder:k,transforms:void 0})},93336:function(U,C,e){var T=e(3400),k=e(47797),o=e(38248),_=e(54460),b=e(3400).maxRowLength,f=e(18712).i;function s(i,r,n,a){return function(l){return T.constrain((l-i)*r,n,a)}}function t(i,r){return function(n){return T.constrain(n,i,r)}}U.exports=function(i,r){var n,a;if(r._hasZ)n=r.z.length,a=b(r.z);else if(r._hasSource){var l=f(r.source);n=l.height,a=l.width}var u,h=_.getFromId(i,r.xaxis||"x"),c=_.getFromId(i,r.yaxis||"y"),x=h.d2c(r.x0)-r.dx/2,p=c.d2c(r.y0)-r.dy/2,v=[x,x+a*r.dx],g=[p,p+n*r.dy];if(h&&h.type==="log")for(u=0;u<a;u++)v.push(x+u*r.dx);if(c&&c.type==="log")for(u=0;u<n;u++)g.push(p+u*r.dy);return r._extremes[h._id]=_.findExtremes(h,v),r._extremes[c._id]=_.findExtremes(c,g),r._scaler=function(y){var m=k.colormodel[y.colormodel],w=(m.colormodel||y.colormodel).length;y._sArray=[];for(var d=0;d<w;d++)m.min[d]!==y.zmin[d]||m.max[d]!==y.zmax[d]?y._sArray.push(s(y.zmin[d],(m.max[d]-m.min[d])/(y.zmax[d]-y.zmin[d]),m.min[d],m.max[d])):y._sArray.push(t(m.min[d],m.max[d]));return function(S){for(var A=S.slice(0,w),E=0;E<w;E++){var P=A[E];if(!o(P))return!1;A[E]=y._sArray[E](P)}return A}}(r),[{x0:x,y0:p,z:r.z,w:a,h:n}]}},47797:function(U){U.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(C){return C.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(C){return C.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(C){var e=C.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(C){var e=C.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(U,C,e){var T=e(3400),k=e(95188),o=e(47797),_=e(81792).IMAGE_URL_PREFIX;U.exports=function(b,f){function s(r,n){return T.coerce(b,f,k,r,n)}s("source"),f.source&&!f.source.match(_)&&delete f.source,f._hasSource=!!f.source;var t,i=s("z");f._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),f._hasZ||f._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),f._hasZ?(s("colormodel","rgb"),s("zmin",(t=o.colormodel[f.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):f._hasSource&&(f.colormodel="rgba256",t=o.colormodel[f.colormodel],f.zmin=t.zminDflt,f.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),f._length=null,s("zorder")):f.visible=!1}},79972:function(U){U.exports=function(C,e){return"xVal"in e&&(C.x=e.xVal),"yVal"in e&&(C.y=e.yVal),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C.color=e.color,C.colormodel=e.trace.colormodel,C.z||(C.z=e.color),C}},18712:function(U,C,e){var T=e(19480),k=e(81792).IMAGE_URL_PREFIX,o=e(33576).Buffer;C.i=function(_){var b=_.replace(k,""),f=new o(b,"base64");return T(f)}},24892:function(U,C,e){var T=e(93024),k=e(3400),o=k.isArrayOrTypedArray,_=e(47797);U.exports=function(b,f,s){var t=b.cd[0],i=t.trace,r=b.xa,n=b.ya;if(!(T.inbox(f-t.x0,f-(t.x0+t.w*i.dx),0)>0||T.inbox(s-t.y0,s-(t.y0+t.h*i.dy),0)>0)){var a,l=Math.floor((f-t.x0)/i.dx),u=Math.floor(Math.abs(s-t.y0)/i.dy);if(i._hasZ?a=t.z[u][l]:i._hasSource&&(a=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),a){var h,c=t.hi||i.hoverinfo;if(c){var x=c.split("+");x.indexOf("all")!==-1&&(x=["color"]),x.indexOf("color")!==-1&&(h=!0)}var p,v=_.colormodel[i.colormodel],g=v.colormodel||i.colormodel,y=g.length,m=i._scaler(a),w=v.suffix,d=[];(i.hovertemplate||h)&&(d.push("["+[m[0]+w[0],m[1]+w[1],m[2]+w[2]].join(", ")),y===4&&d.push(", "+m[3]+w[3]),d.push("]"),d=d.join(""),b.extraText=g.toUpperCase()+": "+d),o(i.hovertext)&&o(i.hovertext[u])?p=i.hovertext[u][l]:o(i.text)&&o(i.text[u])&&(p=i.text[u][l]);var S=n.c2p(t.y0+(u+.5)*i.dy),A=t.x0+(l+.5)*i.dx,E=t.y0+(u+.5)*i.dy,P="["+a.slice(0,i.colormodel.length).join(", ")+"]";return[k.extendFlat(b,{index:[u,l],x0:r.c2p(t.x0+l*i.dx),x1:r.c2p(t.x0+(l+1)*i.dx),y0:S,y1:S,color:m,xVal:A,xLabelVal:A,yVal:E,yLabelVal:E,zLabelVal:P,text:p,hovertemplateLabels:{zLabel:P,colorLabel:d,"color[0]Label":m[0]+w[0],"color[1]Label":m[1]+w[1],"color[2]Label":m[2]+w[2],"color[3]Label":m[3]+w[3]}})]}}}},48928:function(U,C,e){U.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(U,C,e){var T=e(33428),k=e(3400),o=k.strTranslate,_=e(9616),b=e(47797),f=e(9188),s=e(2264).STYLE;U.exports=function(t,i,r,n){var a=i.xaxis,l=i.yaxis,u=!t._context._exportedPlot&&f();k.makeTraceGroups(n,r,"im").each(function(h){var c=T.select(this),x=h[0],p=x.trace,v=(p.zsmooth==="fast"||p.zsmooth===!1&&u)&&!p._hasZ&&p._hasSource&&a.type==="linear"&&l.type==="linear";p._realImage=v;var g,y,m,w,d,S,A=x.z,E=x.x0,P=x.y0,O=x.w,I=x.h,D=p.dx,V=p.dy;for(S=0;g===void 0&&S<O;)g=a.c2p(E+S*D),S++;for(S=O;y===void 0&&S>0;)y=a.c2p(E+S*D),S--;for(S=0;w===void 0&&S<I;)w=l.c2p(P+S*V),S++;for(S=I;d===void 0&&S>0;)d=l.c2p(P+S*V),S--;y<g&&(m=y,y=g,g=m),d<w&&(m=w,w=d,d=m),v||(g=Math.max(-.5*a._length,g),y=Math.min(1.5*a._length,y),w=Math.max(-.5*l._length,w),d=Math.min(1.5*l._length,d));var z=Math.round(y-g),j=Math.round(d-w);if(z<=0||j<=0)c.selectAll("image").data([]).exit().remove();else{var X=c.selectAll("image").data([h]);X.enter().append("svg:image").attr({xmlns:_.svg,preserveAspectRatio:"none"}),X.exit().remove();var F=p.zsmooth===!1?s:"";if(v){var H=k.simpleMap(a.range,a.r2l),W=k.simpleMap(l.range,l.r2l),ie=H[1]<H[0],te=W[1]>W[0];if(ie||te){var Q=g+z/2,ne=w+j/2;F+="transform:"+o(Q+"px",ne+"px")+"scale("+(ie?-1:1)+","+(te?-1:1)+")"+o(-Q+"px",-ne+"px")+";"}}X.attr("style",F);var $=new Promise(function(re){if(p._hasZ)re();else if(p._hasSource)if(p._canvas&&p._canvas.el.width===O&&p._canvas.el.height===I&&p._canvas.source===p.source)re();else{var se=document.createElement("canvas");se.width=O,se.height=I;var ue=se.getContext("2d",{willReadFrequently:!0});p._image=p._image||new Image;var he=p._image;he.onload=function(){ue.drawImage(he,0,0),p._canvas={el:se,source:p.source},re()},he.setAttribute("src",p.source)}}).then(function(){var re,se;if(p._hasZ)se=J(function(he,pe){var ge=A[pe][he];return k.isTypedArray(ge)&&(ge=Array.from(ge)),ge}),re=se.toDataURL("image/png");else if(p._hasSource)if(v)re=p.source;else{var ue=p._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,O,I).data;se=J(function(he,pe){var ge=4*(pe*O+he);return[ue[ge],ue[ge+1],ue[ge+2],ue[ge+3]]}),re=se.toDataURL("image/png")}X.attr({"xlink:href":re,height:j,width:z,x:g,y:w})});t._promises.push($)}function J(re){var se=document.createElement("canvas");se.width=z,se.height=j;var ue,he=se.getContext("2d",{willReadFrequently:!0}),pe=function(de){return k.constrain(Math.round(a.c2p(E+de*D)-g),0,z)},ge=function(de){return k.constrain(Math.round(l.c2p(P+de*V)-w),0,j)},ye=b.colormodel[p.colormodel],be=ye.colormodel||p.colormodel,Te=ye.fmt;for(S=0;S<x.w;S++){var Se=pe(S),Fe=pe(S+1);if(Fe!==Se&&!isNaN(Fe)&&!isNaN(Se))for(var xe=0;xe<x.h;xe++){var le=ge(xe),oe=ge(xe+1);oe===le||isNaN(oe)||isNaN(le)||!re(S,xe)||(ue=p._scaler(re(S,xe)),he.fillStyle=ue?be+"("+Te(ue).join(",")+")":"rgba(0,0,0,0)",he.fillRect(Se,le,Fe-Se,oe-le))}}return se}})}},28576:function(U,C,e){var T=e(33428);U.exports=function(k){T.select(k).selectAll(".im image").style("opacity",function(o){return o[0].trace.opacity})}},89864:function(U,C,e){var T=e(92880).extendFlat,k=e(92880).extendDeep,o=e(67824).overrideAll,_=e(25376),b=e(22548),f=e(86968).u,s=e(94724),t=e(31780).templatedArray,i=e(48164),r=e(29736).descriptionOnlyNumbers,n=_({editType:"plot",colorEditType:"plot"}),a={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},a,{range:l}));U.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:f({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:T({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:T({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:T({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},a,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:o({range:l,visible:T({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:T({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:_({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:T({},a.line.color,{}),width:T({},a.line.width,{dflt:1}),editType:"plot"},thickness:T({},a.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(U,C,e){var T=e(7316);C.name="indicator",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},79136:function(U){U.exports={calc:function(C,e){var T=[],k=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var o=e._lastValue,_=o;return e._hasDelta&&typeof e.delta.reference=="number"&&(_=e.delta.reference),T[0]={y:k,lastY:o,delta:k-_,relativeDelta:(k-_)/_},T}}},12096:function(U){U.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(U,C,e){var T=e(3400),k=e(89864),o=e(86968).Q,_=e(31780),b=e(51272),f=e(12096),s=e(26332),t=e(25404),i=e(95936),r=e(42568);function n(a,l){function u(h,c){return T.coerce(a,l,k.gauge.steps,h,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}U.exports={supplyDefaults:function(a,l,u,h){function c(D,V){return T.coerce(a,l,k,D,V)}o(l,h,c),c("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var x=c("value");l._range=[0,typeof x=="number"?1.5*x:1];var p,v,g=new Array(2);if(l._hasNumber){c("number.valueformat");var y=T.extendFlat({},h.font);y.size=void 0,T.coerceFont(c,"number.font",y),l.number.font.size===void 0&&(l.number.font.size=f.defaultNumberFontSize,g[0]=!0),c("number.prefix"),c("number.suffix"),p=l.number.font.size}if(l._hasDelta){var m=T.extendFlat({},h.font);m.size=void 0,T.coerceFont(c,"delta.font",m),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(p||f.defaultNumberFontSize),g[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),v=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||g[0])&&(!l._hasDelta||g[1])||!1;var w,d,S,A,E=T.extendFlat({},h.font);function P(D,V){return T.coerce(w,d,k.gauge,D,V)}function O(D,V){return T.coerce(S,A,k.gauge.axis,D,V)}if(E.size=.25*(p||v||f.defaultNumberFontSize),T.coerceFont(c,"title.font",E),c("title.text"),l._hasGauge){(w=a.gauge)||(w={}),d=_.newContainer(l,"gauge"),P("shape"),(l._isBullet=l.gauge.shape==="bullet")||c("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||c("align","center"),P("bgcolor",h.paper_bgcolor),P("borderwidth"),P("bordercolor"),P("bar.color"),P("bar.line.color"),P("bar.line.width"),P("bar.thickness",f.valueThickness*(l.gauge.shape==="bullet"?.5:1)),b(w,d,{name:"steps",handleItemDefaults:n}),P("threshold.value"),P("threshold.thickness"),P("threshold.line.width"),P("threshold.line.color"),S={},w&&(S=w.axis||{}),A=_.newContainer(d,"axis"),O("visible"),l._range=O("range",l._range);var I={font:h.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};s(S,A,O,"linear"),r(S,A,O,"linear",I),i(S,A,O,"linear",I),t(S,A,O,I)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(U,C,e){U.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(U,C,e){var T=e(33428),k=e(67756).qy,o=e(67756).Gz,_=e(3400),b=_.strScale,f=_.strTranslate,s=_.rad2deg,t=e(84284).MID_SHIFT,i=e(43616),r=e(12096),n=e(72736),a=e(54460),l=e(28336),u=e(37668),h=e(94724),c=e(76308),x={left:"start",center:"middle",right:"end"},p={left:0,center:.5,right:1},v=/[yzafpnmkMGTPEZY]/;function g(A){return A&&A.duration>0}function y(A){A.each(function(E){c.stroke(T.select(this),E.line.color)}).each(function(E){c.fill(T.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(A,E,P){var O=A._fullLayout,I=_.extendFlat({type:"linear",ticks:"outside",range:P,showline:!0},E),D={type:"linear",_id:"x"+E._id},V={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function z(j,X){return _.coerce(I,D,h,j,X)}return l(I,D,z,V,O),u(I,D,z,V),D}function w(A,E,P){return[Math.min(E/A.width,P/A.height),A,E+"x"+P]}function d(A,E,P,O){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),D=T.select(I);return D.text(A).attr("x",0).attr("y",0).attr("text-anchor",P).attr("data-unformatted",A).call(n.convertToTspans,O).call(i.font,E),i.bBox(D.node())}function S(A,E,P,O,I,D){var V="_cache"+E;A[V]&&A[V].key===I||(A[V]={key:I,value:P});var z=_.aggNums(D,null,[A[V].value,O],2);return A[V].value=z,z}U.exports=function(A,E,P,O){var I,D=A._fullLayout;g(P)&&O&&(I=O()),_.makeTraceGroups(D._indicatorlayer,E,"trace").each(function(V){var z,j,X,F,H,W=V[0].trace,ie=T.select(this),te=W._hasGauge,Q=W._isAngular,ne=W._isBullet,$=W.domain,J={w:D._size.w*($.x[1]-$.x[0]),h:D._size.h*($.y[1]-$.y[0]),l:D._size.l+D._size.w*$.x[0],r:D._size.r+D._size.w*(1-$.x[1]),t:D._size.t+D._size.h*(1-$.y[1]),b:D._size.b+D._size.h*$.y[0]},re=J.l+J.w/2,se=J.t+J.h/2,ue=Math.min(J.w/2,J.h),he=r.innerRadius*ue,pe=W.align||"center";if(j=se,te){if(Q&&(z=re,j=se+ue/2,X=function(le){return function(oe,de){return[de/Math.sqrt(oe.width/2*(oe.width/2)+oe.height*oe.height),oe,de]}(le,.9*he)}),ne){var ge=r.bulletPadding,ye=1-r.bulletNumberDomainSize+ge;z=J.l+(ye+(1-ye)*p[pe])*J.w,X=function(le){return w(le,(r.bulletNumberDomainSize-ge)*J.w,J.h)}}}else z=J.l+p[pe]*J.w,X=function(le){return w(le,J.w,J.h)};(function(le,oe,de,Ce){var _e,Ae,Le,ze=de[0].trace,Re=Ce.numbersX,ve=Ce.numbersY,ke=ze.align||"center",Ee=x[ke],De=Ce.transitionOpts,Pe=Ce.onComplete,Ue=_.ensureSingle(oe,"g","numbers"),We=[];ze._hasNumber&&We.push("number"),ze._hasDelta&&(We.push("delta"),ze.delta.position==="left"&&We.reverse());var $e=Ue.selectAll("text").data(We);function ot(Rt,Ft,Ot,Xe){if(!Rt.match("s")||Ot>=0==Xe>=0||Ft(Ot).slice(-1).match(v)||Ft(Xe).slice(-1).match(v))return Ft;var Je=Rt.slice().replace("s","f").replace(/\d+/,function(Ke){return parseInt(Ke)-1}),Ve=m(le,{tickformat:Je});return function(Ke){return Math.abs(Ke)<1?a.tickText(Ve,Ke).text:Ft(Ke)}}$e.enter().append("text"),$e.attr("text-anchor",function(){return Ee}).attr("class",function(Rt){return Rt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),$e.exit().remove();var st,mt=ze.mode+ze.align;if(ze._hasDelta&&(st=function(){var Rt=m(le,{tickformat:ze.delta.valueformat},ze._range);Rt.setScale(),a.prepTicks(Rt);var Ft=function(xt){return a.tickText(Rt,xt).text},Ot=ze.delta.suffix,Xe=ze.delta.prefix,Je=function(xt){return ze.delta.relative?xt.relativeDelta:xt.delta},Ve=function(xt,bt){return xt===0||typeof xt!="number"||isNaN(xt)?"-":(xt>0?ze.delta.increasing.symbol:ze.delta.decreasing.symbol)+Xe+bt(xt)+Ot},Ke=function(xt){return xt.delta>=0?ze.delta.increasing.color:ze.delta.decreasing.color};ze._deltaLastValue===void 0&&(ze._deltaLastValue=Je(de[0]));var ft=Ue.select("text.delta");function ut(){ft.text(Ve(Je(de[0]),Ft)).call(c.fill,Ke(de[0])).call(n.convertToTspans,le)}return ft.call(i.font,ze.delta.font).call(c.fill,Ke({delta:ze._deltaLastValue})),g(De)?ft.transition().duration(De.duration).ease(De.easing).tween("text",function(){var xt=T.select(this),bt=Je(de[0]),qe=ze._deltaLastValue,je=ot(ze.delta.valueformat,Ft,qe,bt),lt=o(qe,bt);return ze._deltaLastValue=bt,function(gt){xt.text(Ve(lt(gt),je)),xt.call(c.fill,Ke({delta:lt(gt)}))}}).each("end",function(){ut(),Pe&&Pe()}).each("interrupt",function(){ut(),Pe&&Pe()}):ut(),Ae=d(Ve(Je(de[0]),Ft),ze.delta.font,Ee,le),ft}(),mt+=ze.delta.position+ze.delta.font.size+ze.delta.font.family+ze.delta.valueformat,mt+=ze.delta.increasing.symbol+ze.delta.decreasing.symbol,Le=Ae),ze._hasNumber&&(function(){var Rt=m(le,{tickformat:ze.number.valueformat},ze._range);Rt.setScale(),a.prepTicks(Rt);var Ft=function(Ke){return a.tickText(Rt,Ke).text},Ot=ze.number.suffix,Xe=ze.number.prefix,Je=Ue.select("text.number");function Ve(){var Ke=typeof de[0].y=="number"?Xe+Ft(de[0].y)+Ot:"-";Je.text(Ke).call(i.font,ze.number.font).call(n.convertToTspans,le)}g(De)?Je.transition().duration(De.duration).ease(De.easing).each("end",function(){Ve(),Pe&&Pe()}).each("interrupt",function(){Ve(),Pe&&Pe()}).attrTween("text",function(){var Ke=T.select(this),ft=o(de[0].lastY,de[0].y);ze._lastValue=de[0].y;var ut=ot(ze.number.valueformat,Ft,de[0].lastY,de[0].y);return function(xt){Ke.text(Xe+ut(ft(xt))+Ot)}}):Ve(),_e=d(Xe+Ft(de[0].y)+Ot,ze.number.font,Ee,le)}(),mt+=ze.number.font.size+ze.number.font.family+ze.number.valueformat+ze.number.suffix+ze.number.prefix,Le=_e),ze._hasDelta&&ze._hasNumber){var _t,yt,it=[(_e.left+_e.right)/2,(_e.top+_e.bottom)/2],tt=[(Ae.left+Ae.right)/2,(Ae.top+Ae.bottom)/2],Pt=.75*ze.delta.font.size;ze.delta.position==="left"&&(_t=S(ze,"deltaPos",0,-1*(_e.width*p[ze.align]+Ae.width*(1-p[ze.align])+Pt),mt,Math.min),yt=it[1]-tt[1],Le={width:_e.width+Ae.width+Pt,height:Math.max(_e.height,Ae.height),left:Ae.left+_t,right:_e.right,top:Math.min(_e.top,Ae.top+yt),bottom:Math.max(_e.bottom,Ae.bottom+yt)}),ze.delta.position==="right"&&(_t=S(ze,"deltaPos",0,_e.width*(1-p[ze.align])+Ae.width*p[ze.align]+Pt,mt,Math.max),yt=it[1]-tt[1],Le={width:_e.width+Ae.width+Pt,height:Math.max(_e.height,Ae.height),left:_e.left,right:Ae.right+_t,top:Math.min(_e.top,Ae.top+yt),bottom:Math.max(_e.bottom,Ae.bottom+yt)}),ze.delta.position==="bottom"&&(_t=null,yt=Ae.height,Le={width:Math.max(_e.width,Ae.width),height:_e.height+Ae.height,left:Math.min(_e.left,Ae.left),right:Math.max(_e.right,Ae.right),top:_e.bottom-_e.height,bottom:_e.bottom+Ae.height}),ze.delta.position==="top"&&(_t=null,yt=_e.top,Le={width:Math.max(_e.width,Ae.width),height:_e.height+Ae.height,left:Math.min(_e.left,Ae.left),right:Math.max(_e.right,Ae.right),top:_e.bottom-_e.height-Ae.height,bottom:_e.bottom}),st.attr({dx:_t,dy:yt})}(ze._hasNumber||ze._hasDelta)&&Ue.attr("transform",function(){var Rt=Ce.numbersScaler(Le);mt+=Rt[2];var Ft,Ot=S(ze,"numbersScale",1,Rt[0],mt,Math.min);ze._scaleNumbers||(Ot=1),Ft=ze._isAngular?ve-Ot*Le.bottom:ve-Ot*(Le.top+Le.bottom)/2,ze._numbersTop=Ot*Le.top+Ft;var Xe=Le[ke];ke==="center"&&(Xe=(Le.left+Le.right)/2);var Je=Re-Ot*Xe;return Je=S(ze,"numbersTranslate",0,Je,mt,Math.max),f(Je,Ft)+b(Ot)})})(A,ie,V,{numbersX:z,numbersY:j,numbersScaler:X,transitionOpts:P,onComplete:I}),te&&(F={range:W.gauge.axis.range,color:W.gauge.bgcolor,line:{color:W.gauge.bordercolor,width:0},thickness:1},H={range:W.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:W.gauge.bordercolor,width:W.gauge.borderwidth},thickness:1});var be=ie.selectAll("g.angular").data(Q?V:[]);be.exit().remove();var Te=ie.selectAll("g.angularaxis").data(Q?V:[]);Te.exit().remove(),Q&&function(le,oe,de,Ce){var _e,Ae,Le,ze,Re=de[0].trace,ve=Ce.size,ke=Ce.radius,Ee=Ce.innerRadius,De=Ce.gaugeBg,Pe=Ce.gaugeOutline,Ue=[ve.l+ve.w/2,ve.t+ve.h/2+ke/2],We=Ce.gauge,$e=Ce.layer,ot=Ce.transitionOpts,st=Ce.onComplete,mt=Math.PI/2;function _t(gt){var dt=Re.gauge.axis.range[0],at=(gt-dt)/(Re.gauge.axis.range[1]-dt)*Math.PI-mt;return at<-mt?-mt:at>mt?mt:at}function yt(gt){return T.svg.arc().innerRadius((Ee+ke)/2-gt/2*(ke-Ee)).outerRadius((Ee+ke)/2+gt/2*(ke-Ee)).startAngle(-mt)}function it(gt){gt.attr("d",function(dt){return yt(dt.thickness).startAngle(_t(dt.range[0])).endAngle(_t(dt.range[1]))()})}We.enter().append("g").classed("angular",!0),We.attr("transform",f(Ue[0],Ue[1])),$e.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),$e.selectAll("g.xangularaxistick,path,text").remove(),(_e=m(le,Re.gauge.axis)).type="linear",_e.range=Re.gauge.axis.range,_e._id="xangularaxis",_e.ticklabeloverflow="allow",_e.setScale();var tt=function(gt){return(_e.range[0]-gt.x)/(_e.range[1]-_e.range[0])*Math.PI+Math.PI},Pt={},Rt=a.makeLabelFns(_e,0).labelStandoff;Pt.xFn=function(gt){var dt=tt(gt);return Math.cos(dt)*Rt},Pt.yFn=function(gt){var dt=tt(gt),at=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(Rt+gt.fontSize*at)+Math.abs(Math.cos(dt))*(gt.fontSize*t)},Pt.anchorFn=function(gt){var dt=tt(gt),at=Math.cos(dt);return Math.abs(at)<.1?"middle":at>0?"start":"end"},Pt.heightFn=function(gt,dt,at){var kt=tt(gt);return-.5*(1+Math.sin(kt))*at};var Ft=function(gt){return f(Ue[0]+ke*Math.cos(gt),Ue[1]-ke*Math.sin(gt))};if(Le=function(gt){return Ft(tt(gt))},Ae=a.calcTicks(_e),ze=a.getTickSigns(_e)[2],_e.visible){ze=_e.ticks==="inside"?-1:1;var Ot=(_e.linewidth||1)/2;a.drawTicks(le,_e,{vals:Ae,layer:$e,path:"M"+ze*Ot+",0h"+ze*_e.ticklen,transFn:function(gt){var dt=tt(gt);return Ft(dt)+"rotate("+-s(dt)+")"}}),a.drawLabels(le,_e,{vals:Ae,layer:$e,transFn:Le,labelFns:Pt})}var Xe=[De].concat(Re.gauge.steps),Je=We.selectAll("g.bg-arc").data(Xe);Je.enter().append("g").classed("bg-arc",!0).append("path"),Je.select("path").call(it).call(y),Je.exit().remove();var Ve=yt(Re.gauge.bar.thickness),Ke=We.selectAll("g.value-arc").data([Re.gauge.bar]);Ke.enter().append("g").classed("value-arc",!0).append("path");var ft,ut,xt,bt=Ke.select("path");g(ot)?(bt.transition().duration(ot.duration).ease(ot.easing).each("end",function(){st&&st()}).each("interrupt",function(){st&&st()}).attrTween("d",(ft=Ve,ut=_t(de[0].lastY),xt=_t(de[0].y),function(){var gt=k(ut,xt);return function(dt){return ft.endAngle(gt(dt))()}})),Re._lastValue=de[0].y):bt.attr("d",typeof de[0].y=="number"?Ve.endAngle(_t(de[0].y)):"M0,0Z"),bt.call(y),Ke.exit().remove(),Xe=[];var qe=Re.gauge.threshold.value;(qe||qe===0)&&Xe.push({range:[qe,qe],color:Re.gauge.threshold.color,line:{color:Re.gauge.threshold.line.color,width:Re.gauge.threshold.line.width},thickness:Re.gauge.threshold.thickness});var je=We.selectAll("g.threshold-arc").data(Xe);je.enter().append("g").classed("threshold-arc",!0).append("path"),je.select("path").call(it).call(y),je.exit().remove();var lt=We.selectAll("g.gauge-outline").data([Pe]);lt.enter().append("g").classed("gauge-outline",!0).append("path"),lt.select("path").call(it).call(y),lt.exit().remove()}(A,0,V,{radius:ue,innerRadius:he,gauge:be,layer:Te,size:J,gaugeBg:F,gaugeOutline:H,transitionOpts:P,onComplete:I});var Se=ie.selectAll("g.bullet").data(ne?V:[]);Se.exit().remove();var Fe=ie.selectAll("g.bulletaxis").data(ne?V:[]);Fe.exit().remove(),ne&&function(le,oe,de,Ce){var _e,Ae,Le,ze,Re,ve=de[0].trace,ke=Ce.gauge,Ee=Ce.layer,De=Ce.gaugeBg,Pe=Ce.gaugeOutline,Ue=Ce.size,We=ve.domain,$e=Ce.transitionOpts,ot=Ce.onComplete;ke.enter().append("g").classed("bullet",!0),ke.attr("transform",f(Ue.l,Ue.t)),Ee.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ee.selectAll("g.xbulletaxistick,path,text").remove();var st=Ue.h,mt=ve.gauge.bar.thickness*st,_t=We.x[0],yt=We.x[0]+(We.x[1]-We.x[0])*(ve._hasNumber||ve._hasDelta?1-r.bulletNumberDomainSize:1);function it(Je){Je.attr("width",function(Ve){return Math.max(0,_e.c2p(Ve.range[1])-_e.c2p(Ve.range[0]))}).attr("x",function(Ve){return _e.c2p(Ve.range[0])}).attr("y",function(Ve){return .5*(1-Ve.thickness)*st}).attr("height",function(Ve){return Ve.thickness*st})}(_e=m(le,ve.gauge.axis))._id="xbulletaxis",_e.domain=[_t,yt],_e.setScale(),Ae=a.calcTicks(_e),Le=a.makeTransTickFn(_e),ze=a.getTickSigns(_e)[2],Re=Ue.t+Ue.h,_e.visible&&(a.drawTicks(le,_e,{vals:_e.ticks==="inside"?a.clipEnds(_e,Ae):Ae,layer:Ee,path:a.makeTickPath(_e,Re,ze),transFn:Le}),a.drawLabels(le,_e,{vals:Ae,layer:Ee,transFn:Le,labelFns:a.makeLabelFns(_e,Re)}));var tt=[De].concat(ve.gauge.steps),Pt=ke.selectAll("g.bg-bullet").data(tt);Pt.enter().append("g").classed("bg-bullet",!0).append("rect"),Pt.select("rect").call(it).call(y),Pt.exit().remove();var Rt=ke.selectAll("g.value-bullet").data([ve.gauge.bar]);Rt.enter().append("g").classed("value-bullet",!0).append("rect"),Rt.select("rect").attr("height",mt).attr("y",(st-mt)/2).call(y),g($e)?Rt.select("rect").transition().duration($e.duration).ease($e.easing).each("end",function(){ot&&ot()}).each("interrupt",function(){ot&&ot()}).attr("width",Math.max(0,_e.c2p(Math.min(ve.gauge.axis.range[1],de[0].y)))):Rt.select("rect").attr("width",typeof de[0].y=="number"?Math.max(0,_e.c2p(Math.min(ve.gauge.axis.range[1],de[0].y))):0),Rt.exit().remove();var Ft=de.filter(function(){return ve.gauge.threshold.value||ve.gauge.threshold.value===0}),Ot=ke.selectAll("g.threshold-bullet").data(Ft);Ot.enter().append("g").classed("threshold-bullet",!0).append("line"),Ot.select("line").attr("x1",_e.c2p(ve.gauge.threshold.value)).attr("x2",_e.c2p(ve.gauge.threshold.value)).attr("y1",(1-ve.gauge.threshold.thickness)/2*st).attr("y2",(1-(1-ve.gauge.threshold.thickness)/2)*st).call(c.stroke,ve.gauge.threshold.line.color).style("stroke-width",ve.gauge.threshold.line.width),Ot.exit().remove();var Xe=ke.selectAll("g.gauge-outline").data([Pe]);Xe.enter().append("g").classed("gauge-outline",!0).append("rect"),Xe.select("rect").call(it).call(y),Xe.exit().remove()}(A,0,V,{gauge:Se,layer:Fe,size:J,gaugeBg:F,gaugeOutline:H,transitionOpts:P,onComplete:I});var xe=ie.selectAll("text.title").data(V);xe.exit().remove(),xe.enter().append("text").classed("title",!0),xe.attr("text-anchor",function(){return ne?x.right:x[W.title.align]}).text(W.title.text).call(i.font,W.title.font).call(n.convertToTspans,A),xe.attr("transform",function(){var le,oe=J.l+J.w*p[W.title.align],de=r.titlePadding,Ce=i.bBox(xe.node());return te?(Q&&(le=W.gauge.axis.visible?i.bBox(Te.node()).top-de-Ce.bottom:J.t+J.h/2-ue/2-Ce.bottom-de),ne&&(le=j-(Ce.top+Ce.bottom)/2,oe=J.l-r.bulletPadding*J.w)):le=W._numbersTop-de-Ce.bottom,f(oe,le)})})}},50048:function(U,C,e){var T=e(49084),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(52948),b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll,t=U.exports=s(f({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:f({},b.showlegend,{dflt:!1})},T("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,lightposition:_.lightposition,lighting:_.lighting,flatshading:_.flatshading,contour:_.contour,hoverinfo:f({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(U,C,e){var T=e(47128),k=e(3832).processGrid,o=e(3832).filter;U.exports=function(_,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=o(b.x,b._len),b._y=o(b.y,b._len),b._z=o(b.z,b._len),b._value=o(b.value,b._len);var f=k(b);b._gridFill=f.fill,b._Xs=f.Xs,b._Ys=f.Ys,b._Zs=f.Zs,b._len=f.len;for(var s=1/0,t=-1/0,i=0;i<b._len;i++){var r=b._value[i];s=Math.min(s,r),t=Math.max(t,r)}b._minValues=s,b._maxValues=t,b._vMin=b.isomin===void 0||b.isomin===null?s:b.isomin,b._vMax=b.isomax===void 0||b.isomax===null?t:b.isomax,T(_,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},31460:function(U,C,e){var T=e(67792).gl_mesh3d,k=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,_=e(43080),b=e(8932).extractOpts,f=e(52094),s=function(a,l){for(var u=l.length-1;u>0;u--){var h=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>h&&h<a&&a<=c)return{id:u,distRatio:(c-a)/(c-h)}}return{id:0,distRatio:0}};function t(a,l,u){this.scene=a,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(a){if(a.object===this.mesh){var l=a.data.index,u=this.data._meshX[l],h=this.data._meshY[l],c=this.data._meshZ[l],x=this.data._Ys.length,p=this.data._Zs.length,v=s(u,this.data._Xs).id,g=s(h,this.data._Ys).id,y=s(c,this.data._Zs).id,m=a.index=y+p*g+p*x*v;a.traceCoordinate=[this.data._meshX[m],this.data._meshY[m],this.data._meshZ[m],this.data._value[m]];var w=this.data.hovertext||this.data.text;return o(w)&&w[m]!==void 0?a.textLabel=w[m]:w&&(a.textLabel=w),!0}},i.update=function(a){var l=this.scene,u=l.fullSceneLayout;function h(p,v,g,y){return v.map(function(m){return p.d2l(m,0,y)*g})}this.data=n(a);var c={positions:f(h(u.xaxis,a._meshX,l.dataScale[0],a.xcalendar),h(u.yaxis,a._meshY,l.dataScale[1],a.ycalendar),h(u.zaxis,a._meshZ,l.dataScale[2],a.zcalendar)),cells:f(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,contourEnable:a.contour.show,contourColor:_(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},x=b(a);c.vertexIntensity=a._meshIntensity,c.vertexIntensityBounds=[x.min,x.max],c.colormap=k(a),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(a){a._meshI=[],a._meshJ=[],a._meshK=[];var l,u,h,c,x,p,v,g=a.surface.show,y=a.spaceframe.show,m=a.surface.fill,w=a.spaceframe.fill,d=!1,S=!1,A=0,E=a._Xs,P=a._Ys,O=a._Zs,I=E.length,D=P.length,V=O.length,z=r.indexOf(a._gridFill.replace(/-/g,"").replace(/\+/g,"")),j=function(Ee,De,Pe){switch(z){case 5:return Pe+V*De+V*D*Ee;case 4:return Pe+V*Ee+V*I*De;case 3:return De+D*Pe+D*V*Ee;case 2:return De+D*Ee+D*I*Pe;case 1:return Ee+I*Pe+I*V*De;default:return Ee+I*De+I*D*Pe}},X=a._minValues,F=a._maxValues,H=a._vMin,W=a._vMax;function ie(Ee,De,Pe){for(var Ue=p.length,We=u;We<Ue;We++)if(Ee===h[We]&&De===c[We]&&Pe===x[We])return We;return-1}function te(){u=l}function Q(){h=[],c=[],x=[],p=[],l=0,te()}function ne(Ee,De,Pe,Ue){return h.push(Ee),c.push(De),x.push(Pe),p.push(Ue),++l-1}function $(Ee,De,Pe){for(var Ue=[],We=0;We<Ee.length;We++)Ue[We]=Ee[We]*(1-Pe)+Pe*De[We];return Ue}function J(Ee){v=Ee}function re(Ee,De){return Ee==="all"||Ee===null||Ee.indexOf(De)>-1}function se(Ee,De){return Ee===null?De:Ee}function ue(Ee,De,Pe){te();var Ue,We,$e,ot=[De],st=[Pe];if(v>=1)ot=[De],st=[Pe];else if(v>0){var mt=function(Xe,Je){var Ve=Xe[0],Ke=Xe[1],ft=Xe[2],ut=function(at,kt,wt){for(var Et=[],Tt=0;Tt<at.length;Tt++)Et[Tt]=(at[Tt]+kt[Tt]+wt[Tt])/3;return Et}(Ve,Ke,ft),xt=Math.sqrt(1-v),bt=$(ut,Ve,xt),qe=$(ut,Ke,xt),je=$(ut,ft,xt),lt=Je[0],gt=Je[1],dt=Je[2];return{xyzv:[[Ve,Ke,qe],[qe,bt,Ve],[Ke,ft,je],[je,qe,Ke],[ft,Ve,bt],[bt,je,ft]],abc:[[lt,gt,-1],[-1,-1,lt],[gt,dt,-1],[-1,-1,gt],[dt,lt,-1],[-1,-1,dt]]}}(De,Pe);ot=mt.xyzv,st=mt.abc}for(var _t=0;_t<ot.length;_t++){De=ot[_t],Pe=st[_t];for(var yt=[],it=0;it<3;it++){var tt=De[it][0],Pt=De[it][1],Rt=De[it][2],Ft=De[it][3],Ot=Pe[it]>-1?Pe[it]:ie(tt,Pt,Rt);yt[it]=Ot>-1?Ot:ne(tt,Pt,Rt,se(Ee,Ft))}Ue=yt[0],We=yt[1],$e=yt[2],a._meshI.push(Ue),a._meshJ.push(We),a._meshK.push($e),++A}}function he(Ee,De,Pe,Ue){var We=Ee[3];We<Pe&&(We=Pe),We>Ue&&(We=Ue);for(var $e=(Ee[3]-We)/(Ee[3]-De[3]+1e-9),ot=[],st=0;st<4;st++)ot[st]=(1-$e)*Ee[st]+$e*De[st];return ot}function pe(Ee,De,Pe){return Ee>=De&&Ee<=Pe}function ge(Ee){var De=.001*(W-H);return Ee>=H-De&&Ee<=W+De}function ye(Ee){for(var De=[],Pe=0;Pe<4;Pe++){var Ue=Ee[Pe];De.push([a._x[Ue],a._y[Ue],a._z[Ue],a._value[Ue]])}return De}var be=3;function Te(Ee,De,Pe,Ue,We,$e){$e||($e=1),Pe=[-1,-1,-1];var ot=!1,st=[pe(De[0][3],Ue,We),pe(De[1][3],Ue,We),pe(De[2][3],Ue,We)];if(!st[0]&&!st[1]&&!st[2])return!1;var mt=function(yt,it,tt){return ge(it[0][3])&&ge(it[1][3])&&ge(it[2][3])?(ue(yt,it,tt),!0):$e<be&&Te(yt,it,tt,H,W,++$e)};if(st[0]&&st[1]&&st[2])return mt(Ee,De,Pe)||ot;var _t=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(yt){if(st[yt[0]]&&st[yt[1]]&&!st[yt[2]]){var it=De[yt[0]],tt=De[yt[1]],Pt=De[yt[2]],Rt=he(Pt,it,Ue,We),Ft=he(Pt,tt,Ue,We);ot=mt(Ee,[Ft,Rt,it],[-1,-1,Pe[yt[0]]])||ot,ot=mt(Ee,[it,tt,Ft],[Pe[yt[0]],Pe[yt[1]],-1])||ot,_t=!0}}),_t||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(yt){if(st[yt[0]]&&!st[yt[1]]&&!st[yt[2]]){var it=De[yt[0]],tt=De[yt[1]],Pt=De[yt[2]],Rt=he(tt,it,Ue,We),Ft=he(Pt,it,Ue,We);ot=mt(Ee,[Ft,Rt,it],[-1,-1,Pe[yt[0]]])||ot,_t=!0}}),ot}function Se(Ee,De,Pe,Ue){var We=!1,$e=ye(De),ot=[pe($e[0][3],Pe,Ue),pe($e[1][3],Pe,Ue),pe($e[2][3],Pe,Ue),pe($e[3][3],Pe,Ue)];if(!(ot[0]||ot[1]||ot[2]||ot[3]))return We;if(ot[0]&&ot[1]&&ot[2]&&ot[3])return S&&(We=function(mt,_t,yt){var it=function(tt,Pt,Rt){ue(mt,[_t[tt],_t[Pt],_t[Rt]],[yt[tt],yt[Pt],yt[Rt]])};it(0,1,2),it(3,0,1),it(2,3,0),it(1,2,3)}(Ee,$e,De)||We),We;var st=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(mt){if(ot[mt[0]]&&ot[mt[1]]&&ot[mt[2]]&&!ot[mt[3]]){var _t=$e[mt[0]],yt=$e[mt[1]],it=$e[mt[2]],tt=$e[mt[3]];if(S)We=ue(Ee,[_t,yt,it],[De[mt[0]],De[mt[1]],De[mt[2]]])||We;else{var Pt=he(tt,_t,Pe,Ue),Rt=he(tt,yt,Pe,Ue),Ft=he(tt,it,Pe,Ue);We=ue(null,[Pt,Rt,Ft],[-1,-1,-1])||We}st=!0}}),st||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(mt){if(ot[mt[0]]&&ot[mt[1]]&&!ot[mt[2]]&&!ot[mt[3]]){var _t=$e[mt[0]],yt=$e[mt[1]],it=$e[mt[2]],tt=$e[mt[3]],Pt=he(it,_t,Pe,Ue),Rt=he(it,yt,Pe,Ue),Ft=he(tt,yt,Pe,Ue),Ot=he(tt,_t,Pe,Ue);S?(We=ue(Ee,[_t,Ot,Pt],[De[mt[0]],-1,-1])||We,We=ue(Ee,[yt,Rt,Ft],[De[mt[1]],-1,-1])||We):We=function(Xe,Je,Ve){var Ke=function(ft,ut,xt){ue(null,[Je[ft],Je[ut],Je[xt]],[Ve[ft],Ve[ut],Ve[xt]])};Ke(0,1,2),Ke(2,3,0)}(0,[Pt,Rt,Ft,Ot],[-1,-1,-1,-1])||We,st=!0}}),st||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(mt){if(ot[mt[0]]&&!ot[mt[1]]&&!ot[mt[2]]&&!ot[mt[3]]){var _t=$e[mt[0]],yt=$e[mt[1]],it=$e[mt[2]],tt=$e[mt[3]],Pt=he(yt,_t,Pe,Ue),Rt=he(it,_t,Pe,Ue),Ft=he(tt,_t,Pe,Ue);S?(We=ue(Ee,[_t,Pt,Rt],[De[mt[0]],-1,-1])||We,We=ue(Ee,[_t,Rt,Ft],[De[mt[0]],-1,-1])||We,We=ue(Ee,[_t,Ft,Pt],[De[mt[0]],-1,-1])||We):We=ue(null,[Pt,Rt,Ft],[-1,-1,-1])||We,st=!0}})),We}function Fe(Ee,De,Pe,Ue,We,$e,ot,st,mt,_t,yt){var it=!1;return d&&(re(Ee,"A")&&(it=Se(null,[De,Pe,Ue,$e],_t,yt)||it),re(Ee,"B")&&(it=Se(null,[Pe,Ue,We,mt],_t,yt)||it),re(Ee,"C")&&(it=Se(null,[Pe,$e,ot,mt],_t,yt)||it),re(Ee,"D")&&(it=Se(null,[Ue,$e,st,mt],_t,yt)||it),re(Ee,"E")&&(it=Se(null,[Pe,Ue,$e,mt],_t,yt)||it)),S&&(it=Se(Ee,[Pe,Ue,$e,mt],_t,yt)||it),it}function xe(Ee,De,Pe,Ue,We,$e,ot,st){return[st[0]===!0||Te(Ee,ye([De,Pe,Ue]),[De,Pe,Ue],$e,ot),st[1]===!0||Te(Ee,ye([Ue,We,De]),[Ue,We,De],$e,ot)]}function le(Ee,De,Pe,Ue,We,$e,ot,st,mt){return st?xe(Ee,De,Pe,We,Ue,$e,ot,mt):xe(Ee,Pe,We,Ue,De,$e,ot,mt)}function oe(Ee,De,Pe,Ue,We,$e,ot){var st,mt,_t,yt,it=!1,tt=function(){it=Te(Ee,[st,mt,_t],[-1,-1,-1],We,$e)||it,it=Te(Ee,[_t,yt,st],[-1,-1,-1],We,$e)||it},Pt=ot[0],Rt=ot[1],Ft=ot[2];return Pt&&(st=$(ye([j(De,Pe-0,Ue-0)])[0],ye([j(De-1,Pe-0,Ue-0)])[0],Pt),mt=$(ye([j(De,Pe-0,Ue-1)])[0],ye([j(De-1,Pe-0,Ue-1)])[0],Pt),_t=$(ye([j(De,Pe-1,Ue-1)])[0],ye([j(De-1,Pe-1,Ue-1)])[0],Pt),yt=$(ye([j(De,Pe-1,Ue-0)])[0],ye([j(De-1,Pe-1,Ue-0)])[0],Pt),tt()),Rt&&(st=$(ye([j(De-0,Pe,Ue-0)])[0],ye([j(De-0,Pe-1,Ue-0)])[0],Rt),mt=$(ye([j(De-0,Pe,Ue-1)])[0],ye([j(De-0,Pe-1,Ue-1)])[0],Rt),_t=$(ye([j(De-1,Pe,Ue-1)])[0],ye([j(De-1,Pe-1,Ue-1)])[0],Rt),yt=$(ye([j(De-1,Pe,Ue-0)])[0],ye([j(De-1,Pe-1,Ue-0)])[0],Rt),tt()),Ft&&(st=$(ye([j(De-0,Pe-0,Ue)])[0],ye([j(De-0,Pe-0,Ue-1)])[0],Ft),mt=$(ye([j(De-0,Pe-1,Ue)])[0],ye([j(De-0,Pe-1,Ue-1)])[0],Ft),_t=$(ye([j(De-1,Pe-1,Ue)])[0],ye([j(De-1,Pe-1,Ue-1)])[0],Ft),yt=$(ye([j(De-1,Pe-0,Ue)])[0],ye([j(De-1,Pe-0,Ue-1)])[0],Ft),tt()),it}function de(Ee,De,Pe,Ue,We,$e,ot,st,mt,_t,yt,it){var tt=Ee;return it?(d&&Ee==="even"&&(tt=null),Fe(tt,De,Pe,Ue,We,$e,ot,st,mt,_t,yt)):(d&&Ee==="odd"&&(tt=null),Fe(tt,mt,st,ot,$e,We,Ue,Pe,De,_t,yt))}function Ce(Ee,De,Pe,Ue,We){for(var $e=[],ot=0,st=0;st<De.length;st++)for(var mt=De[st],_t=1;_t<V;_t++)for(var yt=1;yt<D;yt++)$e.push(le(Ee,j(mt,yt-1,_t-1),j(mt,yt-1,_t),j(mt,yt,_t-1),j(mt,yt,_t),Pe,Ue,(mt+yt+_t)%2,We&&We[ot]?We[ot]:[])),ot++;return $e}function _e(Ee,De,Pe,Ue,We){for(var $e=[],ot=0,st=0;st<De.length;st++)for(var mt=De[st],_t=1;_t<I;_t++)for(var yt=1;yt<V;yt++)$e.push(le(Ee,j(_t-1,mt,yt-1),j(_t,mt,yt-1),j(_t-1,mt,yt),j(_t,mt,yt),Pe,Ue,(_t+mt+yt)%2,We&&We[ot]?We[ot]:[])),ot++;return $e}function Ae(Ee,De,Pe,Ue,We){for(var $e=[],ot=0,st=0;st<De.length;st++)for(var mt=De[st],_t=1;_t<D;_t++)for(var yt=1;yt<I;yt++)$e.push(le(Ee,j(yt-1,_t-1,mt),j(yt-1,_t,mt),j(yt,_t-1,mt),j(yt,_t,mt),Pe,Ue,(yt+_t+mt)%2,We&&We[ot]?We[ot]:[])),ot++;return $e}function Le(Ee,De,Pe){for(var Ue=1;Ue<V;Ue++)for(var We=1;We<D;We++)for(var $e=1;$e<I;$e++)de(Ee,j($e-1,We-1,Ue-1),j($e-1,We-1,Ue),j($e-1,We,Ue-1),j($e-1,We,Ue),j($e,We-1,Ue-1),j($e,We-1,Ue),j($e,We,Ue-1),j($e,We,Ue),De,Pe,($e+We+Ue)%2)}function ze(Ee,De,Pe,Ue,We,$e){for(var ot=[],st=0,mt=0;mt<De.length;mt++)for(var _t=De[mt],yt=1;yt<V;yt++)for(var it=1;it<D;it++)ot.push(oe(Ee,_t,it,yt,Pe,Ue,We[mt],$e&&$e[st]&&$e[st])),st++;return ot}function Re(Ee,De,Pe,Ue,We,$e){for(var ot=[],st=0,mt=0;mt<De.length;mt++)for(var _t=De[mt],yt=1;yt<I;yt++)for(var it=1;it<V;it++)ot.push(oe(Ee,yt,_t,it,Pe,Ue,We[mt],$e&&$e[st]&&$e[st])),st++;return ot}function ve(Ee,De,Pe,Ue,We,$e){for(var ot=[],st=0,mt=0;mt<De.length;mt++)for(var _t=De[mt],yt=1;yt<D;yt++)for(var it=1;it<I;it++)ot.push(oe(Ee,it,yt,_t,Pe,Ue,We[mt],$e&&$e[st]&&$e[st])),st++;return ot}function ke(Ee,De){for(var Pe=[],Ue=Ee;Ue<De;Ue++)Pe.push(Ue);return Pe}return function(){Q(),function(){for(var mt=0;mt<I;mt++)for(var _t=0;_t<D;_t++)for(var yt=0;yt<V;yt++){var it=j(mt,_t,yt);ne(a._x[it],a._y[it],a._z[it],a._value[it])}}();var Ee=null;if(y&&w&&(J(w),S=!0,Le(Ee,H,W),S=!1),g&&m){J(m);for(var De=a.surface.pattern,Pe=a.surface.count,Ue=0;Ue<Pe;Ue++){var We=Pe===1?.5:Ue/(Pe-1),$e=(1-We)*H+We*W,ot=Math.abs($e-X)>Math.abs($e-F)?[X,$e]:[$e,F];d=!0,Le(De,ot[0],ot[1]),d=!1}}var st=[[Math.min(H,F),Math.max(H,F)],[Math.min(X,W),Math.max(X,W)]];["x","y","z"].forEach(function(mt){for(var _t=[],yt=0;yt<st.length;yt++){var it=0,tt=st[yt][0],Pt=st[yt][1],Rt=a.slices[mt];if(Rt.show&&Rt.fill){J(Rt.fill);var Ft=[],Ot=[],Xe=[];if(Rt.locations.length)for(var Je=0;Je<Rt.locations.length;Je++){var Ve=s(Rt.locations[Je],mt==="x"?E:mt==="y"?P:O);Ve.distRatio===0?Ft.push(Ve.id):Ve.id>0&&(Ot.push(Ve.id),mt==="x"?Xe.push([Ve.distRatio,0,0]):mt==="y"?Xe.push([0,Ve.distRatio,0]):Xe.push([0,0,Ve.distRatio]))}else Ft=ke(1,mt==="x"?I-1:mt==="y"?D-1:V-1);Ot.length>0&&(_t[it]=mt==="x"?ze(Ee,Ot,tt,Pt,Xe,_t[it]):mt==="y"?Re(Ee,Ot,tt,Pt,Xe,_t[it]):ve(Ee,Ot,tt,Pt,Xe,_t[it]),it++),Ft.length>0&&(_t[it]=mt==="x"?Ce(Ee,Ft,tt,Pt,_t[it]):mt==="y"?_e(Ee,Ft,tt,Pt,_t[it]):Ae(Ee,Ft,tt,Pt,_t[it]),it++)}var Ke=a.caps[mt];Ke.show&&Ke.fill&&(J(Ke.fill),_t[it]=mt==="x"?Ce(Ee,[0,I-1],tt,Pt,_t[it]):mt==="y"?_e(Ee,[0,D-1],tt,Pt,_t[it]):Ae(Ee,[0,V-1],tt,Pt,_t[it]),it++)}}),A===0&&Q(),a._meshX=h,a._meshY=c,a._meshZ=x,a._meshIntensity=p,a._Xs=E,a._Ys=P,a._Zs=O}(),a}U.exports={findNearestOnAxis:s,generateIsoMeshes:n,createIsosurfaceTrace:function(a,l){var u=a.glplot.gl,h=T({gl:u}),c=new t(a,h,l.uid);return h._trace=c,c.update(l),a.glplot.add(h),c}}},70548:function(U,C,e){var T=e(3400),k=e(24040),o=e(50048),_=e(27260);function b(f,s,t,i,r){var n=r("isomin"),a=r("isomax");a!=null&&n!=null&&n>a&&(s.isomin=null,s.isomax=null);var l=r("x"),u=r("y"),h=r("z"),c=r("value");l&&l.length&&u&&u.length&&h&&h.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(f,s,["x","y","z"],i),r("valuehoverformat"),["x","y","z"].forEach(function(x){r(x+"hoverformat");var p="caps."+x;r(p+".show")&&r(p+".fill");var v="slices."+x;r(v+".show")&&(r(v+".fill"),r(v+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){r(x)}),_(f,s,i,r,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}U.exports={supplyDefaults:function(f,s,t,i){b(f,s,0,i,function(r,n){return T.coerce(f,s,o,r,n)})},supplyIsoDefaults:b}},6296:function(U,C,e){U.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(U,C,e){var T=e(49084),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(16716),b=e(45464),f=e(92880).extendFlat;U.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},T("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},_.contours.x.show,{}),color:_.contours.x.color,width:_.contours.x.width,editType:"calc"},lightposition:{x:f({},_.lightposition.x,{dflt:1e5}),y:f({},_.lightposition.y,{dflt:1e5}),z:f({},_.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},_.lighting),hoverinfo:f({},b.hoverinfo,{editType:"calc"}),showlegend:f({},b.showlegend,{dflt:!1})})},1876:function(U,C,e){var T=e(47128);U.exports=function(k,o){o.intensity&&T(k,o,{vals:o.intensity,containerStr:"",cLetter:"c"})}},576:function(U,C,e){var T=e(67792).gl_mesh3d,k=e(67792).delaunay_triangulate,o=e(67792).alpha_shape,_=e(67792).convex_hull,b=e(33040).parseColorScale,f=e(3400).isArrayOrTypedArray,s=e(43080),t=e(8932).extractOpts,i=e(52094);function r(c,x,p){this.scene=c,this.uid=p,this.mesh=x,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=r.prototype;function a(c){for(var x=[],p=c.length,v=0;v<p;v++)x[v]=s(c[v]);return x}function l(c,x,p,v){for(var g=[],y=x.length,m=0;m<y;m++)g[m]=c.d2l(x[m],0,v)*p;return g}function u(c){for(var x=[],p=c.length,v=0;v<p;v++)x[v]=Math.round(c[v]);return x}function h(c,x){for(var p=c.length,v=0;v<p;v++)if(c[v]<=-.5||c[v]>=x-.5)return!1;return!0}n.handlePick=function(c){if(c.object===this.mesh){var x=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[x],this.data.y[x],this.data.z[x]];var p=this.data.hovertext||this.data.text;return f(p)&&p[x]!==void 0?c.textLabel=p[x]:p&&(c.textLabel=p),!0}},n.update=function(c){var x=this.scene,p=x.fullSceneLayout;this.data=c;var v,g=c.x.length,y=i(l(p.xaxis,c.x,x.dataScale[0],c.xcalendar),l(p.yaxis,c.y,x.dataScale[1],c.ycalendar),l(p.zaxis,c.z,x.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,g)||!h(c.j,g)||!h(c.k,g))return;v=i(u(c.i),u(c.j),u(c.k))}else v=c.alphahull===0?_(y):c.alphahull>0?o(c.alphahull,y):function(S,A){for(var E=["x","y","z"].indexOf(S),P=[],O=A.length,I=0;I<O;I++)P[I]=[A[I][(E+1)%3],A[I][(E+2)%3]];return k(P)}(c.delaunayaxis,y);var m={positions:y,cells:v,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var w=t(c);this.color="#fff";var d=c.intensitymode;m[d+"Intensity"]=c.intensity,m[d+"IntensityBounds"]=[w.min,w.max],m.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=a(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=a(c.facecolor)):(this.color=c.color,m.meshColor=s(c.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(c,x){var p=c.glplot.gl,v=T({gl:p}),g=new r(c,v,x.uid);return v._trace=g,g.update(x),c.glplot.add(v),g}},74212:function(U,C,e){var T=e(24040),k=e(3400),o=e(27260),_=e(52948);U.exports=function(b,f,s,t){function i(n,a){return k.coerce(b,f,_,n,a)}function r(n){var a=n.map(function(l){var u=i(l);return u&&k.isArrayOrTypedArray(u)?u:null});return a.every(function(l){return l&&l.length===a[0].length})&&a}r(["x","y","z"])?(r(["i","j","k"]),(!f.i||f.j&&f.k)&&(!f.j||f.k&&f.i)&&(!f.k||f.i&&f.j)?(T.getComponentMethod("calendars","handleTraceDefaults")(b,f,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){i(n)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),o(b,f,t,i,{prefix:"",cLetter:"c"})):(f.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),f._length=null):f.visible=!1):f.visible=!1}},7404:function(U,C,e){U.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(U,C,e){var T=e(3400).extendFlat,k=e(52904),o=e(29736).axisHoverFormat,_=e(98192).u,b=e(55756),f=e(48164),s=f.INCREASING.COLOR,t=f.DECREASING.COLOR,i=k.line;function r(n){return{line:{color:T({},i.color,{dflt:n}),width:i.width,dash:_,editType:"style"},editType:"style"}}U.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:T({},i.width,{}),dash:T({},_,{}),editType:"style"},increasing:r(s),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:T({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:k.zorder}},42812:function(U,C,e){var T=e(3400),k=T._,o=e(54460),_=e(1220),b=e(39032).BADNUM;function f(t,i,r,n){return{o:t,h:i,l:r,c:n}}function s(t,i,r,n,a,l){for(var u=a.makeCalcdata(i,"open"),h=a.makeCalcdata(i,"high"),c=a.makeCalcdata(i,"low"),x=a.makeCalcdata(i,"close"),p=T.isArrayOrTypedArray(i.text),v=T.isArrayOrTypedArray(i.hovertext),g=!0,y=null,m=!!i.xperiodalignment,w=[],d=0;d<n.length;d++){var S=n[d],A=u[d],E=h[d],P=c[d],O=x[d];if(S!==b&&A!==b&&E!==b&&P!==b&&O!==b){O===A?y!==null&&O!==y&&(g=O>y):g=O>A,y=O;var I=l(A,E,P,O);I.pos=S,I.yc=(A+O)/2,I.i=d,I.dir=g?"increasing":"decreasing",I.x=I.pos,I.y=[P,E],m&&(I.orig_p=r[d]),p&&(I.tx=i.text[d]),v&&(I.htx=i.hovertext[d]),w.push(I)}else w.push({pos:S,empty:!0})}return i._extremes[a._id]=o.findExtremes(a,T.concat(c,h),{padded:!0}),w.length&&(w[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),w}U.exports={calc:function(t,i){var r=o.getFromId(t,i.xaxis),n=o.getFromId(t,i.yaxis),a=function(x,p,v){var g=v._minDiff;if(!g){var y,m=x._fullData,w=[];for(g=1/0,y=0;y<m.length;y++){var d=m[y];if(d.type==="ohlc"&&d.visible===!0&&d.xaxis===p._id){w.push(d);var S=p.makeCalcdata(d,"x");d._origX=S;var A=_(v,p,"x",S).vals;d._xcalc=A;var E=T.distinctVals(A).minDiff;E&&isFinite(E)&&(g=Math.min(g,E))}}for(g===1/0&&(g=1),y=0;y<w.length;y++)w[y]._minDiff=g}return g*v.tickwidth}(t,r,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var h=i._xcalc;i._xcalc=null;var c=s(t,i,u,h,n,f);return i._extremes[r._id]=o.findExtremes(r,h,{vpad:l/2}),c.length?(T.extendFlat(c[0].t,{wHover:l/2,tickLen:a}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(U,C,e){var T=e(3400),k=e(52744),o=e(31147),_=e(20279);function b(f,s,t,i){t(i+".line.color"),t(i+".line.width",s.line.width),t(i+".line.dash",s.line.dash)}U.exports=function(f,s,t,i){function r(n,a){return T.coerce(f,s,_,n,a)}k(f,s,r,i)?(o(f,s,i,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),b(0,s,r,"increasing"),b(0,s,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),i._requestRangeslider[s.xaxis]=!0,r("zorder")):s.visible=!1}},18720:function(U,C,e){var T=e(54460),k=e(3400),o=e(93024),_=e(76308),b=e(3400).fillText,f=e(48164),s={increasing:f.INCREASING.SYMBOL,decreasing:f.DECREASING.SYMBOL};function t(n,a,l,u){var h,c,x=n.cd,p=n.xa,v=x[0].trace,g=x[0].t,y=v.type,m=y==="ohlc"?"l":"min",w=y==="ohlc"?"h":"max",d=g.bPos||0,S=function(F){return F.pos+d-a},A=g.bdPos||g.tickLen,E=g.wHover,P=Math.min(1,A/Math.abs(p.r2c(p.range[1])-p.r2c(p.range[0])));function O(F){var H=S(F);return o.inbox(H-E,H+E,h)}function I(F){var H=F[m],W=F[w];return H===W||o.inbox(H-l,W-l,h)}function D(F){return(O(F)+I(F))/2}h=n.maxHoverDistance-P,c=n.maxSpikeDistance-P;var V=o.getDistanceFunction(u,O,I,D);if(o.getClosest(x,V,n),n.index===!1)return null;var z=x[n.index];if(z.empty)return null;var j=v[z.dir],X=j.line.color;return _.opacity(X)&&j.line.width?n.color=X:n.color=j.fillcolor,n.x0=p.c2p(z.pos+d-A,!0),n.x1=p.c2p(z.pos+d+A,!0),n.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,n.spikeDistance=D(z)*c/h,n.xSpike=p.c2p(z.pos,!0),n}function i(n,a,l,u){var h=n.cd,c=n.ya,x=h[0].trace,p=h[0].t,v=[],g=t(n,a,l,u);if(!g)return[];var y=h[g.index].hi||x.hoverinfo,m=y.split("+");if(y!=="all"&&m.indexOf("y")===-1)return[];for(var w=["high","open","close","low"],d={},S=0;S<w.length;S++){var A,E=w[S],P=x[E][g.index],O=c.c2p(P,!0);P in d?(A=d[P]).yLabel+="<br>"+p.labels[E]+T.hoverLabelText(c,P,x.yhoverformat):((A=k.extendFlat({},g)).y0=A.y1=O,A.yLabelVal=P,A.yLabel=p.labels[E]+T.hoverLabelText(c,P,x.yhoverformat),A.name="",v.push(A),d[P]=A)}return v}function r(n,a,l,u){var h=n.cd,c=n.ya,x=h[0].trace,p=h[0].t,v=t(n,a,l,u);if(!v)return[];var g=h[v.index],y=v.index=g.i,m=g.dir;function w(I){return p.labels[I]+T.hoverLabelText(c,x[I][y],x.yhoverformat)}var d=g.hi||x.hoverinfo,S=d.split("+"),A=d==="all",E=A||S.indexOf("y")!==-1,P=A||S.indexOf("text")!==-1,O=E?[w("open"),w("high"),w("low"),w("close")+"  "+s[m]]:[];return P&&b(g,x,O),v.extraText=O.join("<br>"),v.y0=v.y1=c.c2p(g.yc,!0),[v]}U.exports={hoverPoints:function(n,a,l,u){return n.cd[0].trace.hoverlabel.split?i(n,a,l,u):r(n,a,l,u)},hoverSplit:i,hoverOnPoints:r}},65456:function(U,C,e){U.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(U,C,e){var T=e(24040),k=e(3400);U.exports=function(o,_,b,f){var s=b("x"),t=b("open"),i=b("high"),r=b("low"),n=b("close");if(b("hoverlabel.split"),T.getComponentMethod("calendars","handleTraceDefaults")(o,_,["x"],f),t&&i&&r&&n){var a=Math.min(t.length,i.length,r.length,n.length);return s&&(a=Math.min(a,k.minRowLength(s))),_._length=a,a}}},36664:function(U,C,e){var T=e(33428),k=e(3400);U.exports=function(o,_,b,f){var s=_.yaxis,t=_.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(f,b,"trace ohlc").each(function(r){var n=T.select(this),a=r[0],l=a.t;if(a.trace.visible!==!0||l.empty)n.remove();else{var u=l.tickLen,h=n.selectAll("path").data(k.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(c){if(c.empty)return"M0,0Z";var x=t.c2p(c.pos-u,!0),p=t.c2p(c.pos+u,!0),v=i?(x+p)/2:t.c2p(c.pos,!0);return"M"+x+","+s.c2p(c.o,!0)+"H"+v+"M"+v+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+p+","+s.c2p(c.c,!0)+"H"+v})}})}},97384:function(U){U.exports=function(C,e){var T,k=C.cd,o=C.xaxis,_=C.yaxis,b=[],f=k[0].t.bPos||0;if(e===!1)for(T=0;T<k.length;T++)k[T].selected=0;else for(T=0;T<k.length;T++){var s=k[T];e.contains([o.c2p(s.pos+f),_.c2p(s.yc)],null,s.i,C)?(b.push({pointNumber:s.i,x:o.c2d(s.pos),y:_.c2d(s.yc)}),s.selected=1):s.selected=0}return b}},14008:function(U,C,e){var T=e(33428),k=e(43616),o=e(76308);U.exports=function(_,b,f){var s=f||T.select(_).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=t[0].trace;T.select(this).selectAll("path").each(function(r){if(!r.empty){var n=i[r.dir].line;T.select(this).style("fill","none").call(o.stroke,n.color).call(k.dashLine,n.dash,n.width).style("opacity",i.selectedpoints&&!r.selected?.3:1)}})})}},72140:function(U,C,e){var T=e(92880).extendFlat,k=e(45464),o=e(25376),_=e(49084),b=e(21776).Ks,f=e(86968).u,s=T({editType:"calc"},_("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});U.exports={domain:f({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:T({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:o({editType:"calc"}),tickfont:o({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(U,C,e){var T=e(84888)._M,k=e(60268),o="parcats";C.name=o,C.plot=function(_,b,f,s){var t=T(_.calcdata,o);if(t.length){var i=t[0];k(_,i,f,s)}},C.clean=function(_,b,f,s){var t=s._has&&s._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(U,C,e){var T=e(71688).wrap,k=e(94288).hasColorscale,o=e(47128),_=e(68944),b=e(43616),f=e(3400),s=e(38248);function t(n,a,l){n.valueInds.push(a),n.count+=l}function i(n,a,l){return{categoryInds:n,color:a,rawColor:l,valueInds:[],count:0}}function r(n,a,l){n.valueInds.push(a),n.count+=l}U.exports=function(n,a){var l=f.filterVisible(a.dimensions);if(l.length===0)return[];var u,h,c,x=l.map(function(W){var ie;if(W.categoryorder==="trace")ie=null;else if(W.categoryorder==="array")ie=W.categoryarray;else{ie=_(W.values);for(var te=!0,Q=0;Q<ie.length;Q++)if(!s(ie[Q])){te=!1;break}ie.sort(te?f.sorterAsc:void 0),W.categoryorder==="category descending"&&(ie=ie.reverse())}return function(ne,$){$=$==null?[]:$.map(function(ye){return ye});var J={},re={},se=[];$.forEach(function(ye,be){J[ye]=0,re[ye]=be});for(var ue=0;ue<ne.length;ue++){var he,pe=ne[ue];J[pe]===void 0?(J[pe]=1,he=$.push(pe)-1,re[pe]=he):(J[pe]++,he=re[pe]),se.push(he)}var ge=$.map(function(ye){return J[ye]});return{uniqueValues:$,uniqueCounts:ge,inds:se}}(W.values,ie)});u=f.isArrayOrTypedArray(a.counts)?a.counts:[a.counts],function(W){var ie,te=W.map(function(Q){return Q.displayindex});if(function(Q){for(var ne=new Array(Q.length),$=0;$<Q.length;$++){if(Q[$]<0||Q[$]>=Q.length||ne[Q[$]]!==void 0)return!1;ne[Q[$]]=!0}return!0}(te))for(ie=0;ie<W.length;ie++)W[ie]._displayindex=W[ie].displayindex;else for(ie=0;ie<W.length;ie++)W[ie]._displayindex=ie}(l),l.forEach(function(W,ie){(function(te,Q){te._categoryarray=Q.uniqueValues,te.ticktext===null||te.ticktext===void 0?te._ticktext=[]:te._ticktext=te.ticktext.slice();for(var ne=te._ticktext.length;ne<Q.uniqueValues.length;ne++)te._ticktext.push(Q.uniqueValues[ne])})(W,x[ie])});var p,v=a.line;v?(k(a,"line")&&o(n,a,{vals:a.line.color,containerStr:"line",cLetter:"c"}),p=b.tryColorscale(v)):p=f.identity;var g,y,m,w,d,S=l[0].values.length,A={},E=x.map(function(W){return W.inds});for(c=0,g=0;g<S;g++){var P=[];for(y=0;y<E.length;y++)P.push(E[y][g]);h=u[g%u.length],c+=h;var O=(m=g,w=void 0,d=void 0,f.isArrayOrTypedArray(v.color)?d=w=v.color[m%v.color.length]:w=v.color,{color:p(w),rawColor:d}),I=P+"-"+O.rawColor;A[I]===void 0&&(A[I]=i(P,O.color,O.rawColor)),r(A[I],g,h)}var D,V=l.map(function(W,ie){return function(te,Q,ne,$,J){return{dimensionInd:te,containerInd:Q,displayInd:ne,dimensionLabel:$,count:J,categories:[],dragX:null}}(ie,W._index,W._displayindex,W.label,c)});for(g=0;g<S;g++)for(h=u[g%u.length],y=0;y<V.length;y++){var z=V[y].containerInd,j=x[y].inds[g],X=V[y].categories;if(X[j]===void 0){var F=a.dimensions[z]._categoryarray[j],H=a.dimensions[z]._ticktext[j];X[j]={dimensionInd:y,categoryInd:D=j,categoryValue:F,displayInd:D,categoryLabel:H,valueInds:[],count:0,dragY:null}}t(X[j],g,h)}return T(function(W,ie,te){var Q=W.map(function(ne){return ne.categories.length}).reduce(function(ne,$){return Math.max(ne,$)});return{dimensions:W,paths:ie,trace:void 0,maxCats:Q,count:te}}(V,A,c))}},76671:function(U,C,e){var T=e(3400),k=e(94288).hasColorscale,o=e(27260),_=e(86968).Q,b=e(51272),f=e(72140),s=e(26284),t=e(38116).isTypedArraySpec;function i(r,n){function a(v,g){return T.coerce(r,n,f.dimensions,v,g)}var l=a("values"),u=a("visible");if(l&&l.length||(u=n.visible=!1),u){a("label"),a("displayindex",n._index);var h,c=r.categoryarray,x=T.isArrayOrTypedArray(c)&&c.length>0||t(c);x&&(h="array");var p=a("categoryorder",h);p==="array"?(a("categoryarray"),a("ticktext")):(delete r.categoryarray,delete r.ticktext),x||p!=="array"||(n.categoryorder="trace")}}U.exports=function(r,n,a,l){function u(p,v){return T.coerce(r,n,f,p,v)}var h=b(r,n,{name:"dimensions",handleItemDefaults:i}),c=function(p,v,g,y,m){m("line.shape"),m("line.hovertemplate");var w=m("line.color",y.colorway[0]);if(k(p,"line")&&T.isArrayOrTypedArray(w)){if(w.length)return m("line.colorscale"),o(p,v,y,m,{prefix:"line.",cLetter:"c"}),w.length;v.line.color=g}return 1/0}(r,n,a,l,u);_(n,l,u),Array.isArray(h)&&h.length||(n.visible=!1),s(n,h,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var x=l.font;T.coerceFont(u,"labelfont",x,{overrideDflt:{size:Math.round(x.size)}}),T.coerceFont(u,"tickfont",x,{autoShadowDflt:!0,overrideDflt:{size:Math.round(x.size/1.2)}})}},22020:function(U,C,e){U.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(U,C,e){var T=e(33428),k=e(67756).Gz,o=e(36424),_=e(93024),b=e(3400),f=b.strTranslate,s=e(43616),t=e(49760),i=e(72736);function r(te,Q,ne,$){var J=Q._context.staticPlot,re=te.map(X.bind(0,Q,ne)),se=$.selectAll("g.parcatslayer").data([null]);se.enter().append("g").attr("class","parcatslayer").style("pointer-events",J?"none":"all");var ue=se.selectAll("g.trace.parcats").data(re,n),he=ue.enter().append("g").attr("class","trace parcats");ue.attr("transform",function(xe){return f(xe.x,xe.y)}),he.append("g").attr("class","paths");var pe=ue.select("g.paths").selectAll("path.path").data(function(xe){return xe.paths},n);pe.attr("fill",function(xe){return xe.model.color});var ge=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(xe){return xe.model.color}).attr("fill-opacity",0);v(ge),pe.attr("d",function(xe){return xe.svgD}),ge.empty()||pe.sort(l),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",h).on("click",p),he.append("g").attr("class","dimensions");var ye=ue.select("g.dimensions").selectAll("g.dimension").data(function(xe){return xe.dimensions},n);ye.enter().append("g").attr("class","dimension"),ye.attr("transform",function(xe){return f(xe.x,0)}),ye.exit().remove();var be=ye.selectAll("g.category").data(function(xe){return xe.categories},n),Te=be.enter().append("g").attr("class","category");be.attr("transform",function(xe){return f(0,xe.y)}),Te.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}),y(Te);var Se=be.selectAll("rect.bandrect").data(function(xe){return xe.bands},n);Se.each(function(){b.raiseToTop(this)}),Se.attr("fill",function(xe){return xe.color});var Fe=Se.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);Se.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}).attr("cursor",function(xe){return xe.parcatsViewModel.arrangement==="fixed"?"default":xe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Fe),Se.exit().remove(),Te.append("text").attr("class","catlabel").attr("pointer-events","none"),be.select("text.catlabel").attr("text-anchor",function(xe){return a(xe)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(xe){return a(xe)?xe.width+5:-5}).attr("y",function(xe){return xe.height/2}).text(function(xe){return xe.model.categoryLabel}).each(function(xe){s.font(T.select(this),xe.parcatsViewModel.categorylabelfont),i.convertToTspans(T.select(this),Q)}),Te.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(xe){return xe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(xe){return xe.width/2}).attr("y",-5).text(function(xe,le){return le===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null}).each(function(xe){s.font(T.select(this),xe.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",P),be.exit().remove(),ye.call(T.behavior.drag().origin(function(xe){return{x:xe.x,y:0}}).on("dragstart",O).on("drag",I).on("dragend",D)),ue.each(function(xe){xe.traceSelection=T.select(this),xe.pathSelection=T.select(this).selectAll("g.paths").selectAll("path.path"),xe.dimensionSelection=T.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ue.exit().remove()}function n(te){return te.key}function a(te){var Q=te.parcatsViewModel.dimensions.length,ne=te.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return te.model.dimensionInd===ne}function l(te,Q){return te.model.rawColor>Q.model.rawColor?1:te.model.rawColor<Q.model.rawColor?-1:0}function u(te){if(!te.parcatsViewModel.dragDimension&&te.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),g(T.select(this));var Q=c(te),ne=x(te);if(te.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:T.event,constraints:ne}),te.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $,J,re,se=T.mouse(this)[0],ue=te.parcatsViewModel.graphDiv,he=te.parcatsViewModel.trace,pe=ue._fullLayout,ge=pe._paperdiv.node().getBoundingClientRect(),ye=te.parcatsViewModel.graphDiv.getBoundingClientRect();for(re=0;re<te.leftXs.length-1;re++)if(te.leftXs[re]+te.dimWidths[re]-2<=se&&se<=te.leftXs[re+1]+2){var be=te.parcatsViewModel.dimensions[re],Te=te.parcatsViewModel.dimensions[re+1];$=(be.x+be.width+Te.x)/2,J=(te.topYs[re]+te.topYs[re+1]+te.height)/2;break}var Se=te.parcatsViewModel.x+$,Fe=te.parcatsViewModel.y+J,xe=t.mostReadable(te.model.color,["black","white"]),le=te.model.count,oe=le/te.parcatsViewModel.model.count,de={countLabel:le,probabilityLabel:oe.toFixed(3)},Ce=[];te.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ce.push(["Count:",de.countLabel].join(" ")),te.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ce.push(["P:",de.probabilityLabel].join(" "));var _e=Ce.join("<br>"),Ae=T.mouse(ue)[0];_.loneHover({trace:he,x:Se-ge.left+ye.left,y:Fe-ge.top+ye.top,text:_e,color:te.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:xe,idealAlign:Ae<Se?"right":"left",hovertemplate:(he.line||{}).hovertemplate,hovertemplateLabels:de,eventData:[{data:he._input,fullData:he,count:le,probability:oe}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:ue})}}}function h(te){if(!te.parcatsViewModel.dragDimension&&(v(T.select(this)),_.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),te.parcatsViewModel.pathSelection.sort(l),te.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=c(te),ne=x(te);te.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:T.event,constraints:ne})}}function c(te){for(var Q=[],ne=V(te.parcatsViewModel),$=0;$<te.model.valueInds.length;$++){var J=te.model.valueInds[$];Q.push({curveNumber:ne,pointNumber:J})}return Q}function x(te){for(var Q={},ne=te.parcatsViewModel.model.dimensions,$=0;$<ne.length;$++){var J=ne[$],re=J.categories[te.model.categoryInds[$]];Q[J.containerInd]=re.categoryValue}return te.model.rawColor!==void 0&&(Q.color=te.model.rawColor),Q}function p(te){if(te.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=c(te),ne=x(te);te.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:T.event,constraints:ne})}}function v(te){te.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function g(te){te.attr("fill-opacity",.8).attr("stroke",function(Q){return t.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function y(te){te.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(te){te.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function w(te){var Q=te.parcatsViewModel.pathSelection,ne=te.categoryViewModel.model.dimensionInd,$=te.categoryViewModel.model.categoryInd;return Q.filter(function(J){return J.model.categoryInds[ne]===$&&J.model.color===te.color})}function d(te,Q,ne){var $=T.select(te).datum(),J=$.categoryViewModel.model,re=$.parcatsViewModel.graphDiv,se=T.select(te.parentNode).selectAll("rect.bandrect"),ue=[];se.each(function(pe){w(pe).each(function(ge){Array.prototype.push.apply(ue,c(ge))})});var he={};he[J.dimensionInd]=J.categoryValue,re.emit(Q,{points:ue,event:ne,constraints:he})}function S(te,Q,ne){var $=T.select(te).datum(),J=$.categoryViewModel.model,re=$.parcatsViewModel.graphDiv,se=w($),ue=[];se.each(function(pe){Array.prototype.push.apply(ue,c(pe))});var he={};he[J.dimensionInd]=J.categoryValue,$.rawColor!==void 0&&(he.color=$.rawColor),re.emit(Q,{points:ue,event:ne,constraints:he})}function A(te,Q,ne){te._fullLayout._calcInverseTransform(te);var $,J,re=te._fullLayout._invScaleX,se=te._fullLayout._invScaleY,ue=T.select(ne.parentNode).select("rect.catrect"),he=ue.node().getBoundingClientRect(),pe=ue.datum(),ge=pe.parcatsViewModel,ye=ge.model.dimensions[pe.model.dimensionInd],be=ge.trace,Te=he.top+he.height/2;ge.dimensions.length>1&&ye.displayInd===ge.dimensions.length-1?($=he.left,J="left"):($=he.left+he.width,J="right");var Se=pe.model.count,Fe=pe.model.categoryLabel,xe=Se/pe.parcatsViewModel.model.count,le={countLabel:Se,categoryLabel:Fe,probabilityLabel:xe.toFixed(3)},oe=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&oe.push(["Count:",le.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&oe.push(["P("+le.categoryLabel+"):",le.probabilityLabel].join(" "));var de=oe.join("<br>");return{trace:be,x:re*($-Q.left),y:se*(Te-Q.top),text:de,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:J,hovertemplate:be.hovertemplate,hovertemplateLabels:le,eventData:[{data:be._input,fullData:be,count:Se,category:Fe,probability:xe}]}}function E(te){if(!te.parcatsViewModel.dragDimension&&te.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(T.mouse(this)[1]<-1)return;var Q,ne=te.parcatsViewModel.graphDiv,$=ne._fullLayout,J=$._paperdiv.node().getBoundingClientRect(),re=te.parcatsViewModel.hoveron,se=this;re==="color"?(function(ue){var he=T.select(ue).datum(),pe=w(he);g(pe),pe.each(function(){b.raiseToTop(this)}),T.select(ue.parentNode).selectAll("rect.bandrect").filter(function(ge){return ge.color===he.color}).each(function(){b.raiseToTop(this),T.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(se),S(se,"plotly_hover",T.event)):(function(ue){T.select(ue.parentNode).selectAll("rect.bandrect").each(function(he){var pe=w(he);g(pe),pe.each(function(){b.raiseToTop(this)})}),T.select(ue.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(se),d(se,"plotly_hover",T.event)),te.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(re==="category"?Q=A(ne,J,se):re==="color"?Q=function(ue,he,pe){ue._fullLayout._calcInverseTransform(ue);var ge,ye,be=ue._fullLayout._invScaleX,Te=ue._fullLayout._invScaleY,Se=pe.getBoundingClientRect(),Fe=T.select(pe).datum(),xe=Fe.categoryViewModel,le=xe.parcatsViewModel,oe=le.model.dimensions[xe.model.dimensionInd],de=le.trace,Ce=Se.y+Se.height/2;le.dimensions.length>1&&oe.displayInd===le.dimensions.length-1?(ge=Se.left,ye="left"):(ge=Se.left+Se.width,ye="right");var _e=xe.model.categoryLabel,Ae=Fe.parcatsViewModel.model.count,Le=0;Fe.categoryViewModel.bands.forEach(function($e){$e.color===Fe.color&&(Le+=$e.count)});var ze=xe.model.count,Re=0;le.pathSelection.each(function($e){$e.model.color===Fe.color&&(Re+=$e.model.count)});var ve=Le/Ae,ke=Le/Re,Ee=Le/ze,De={countLabel:Le,categoryLabel:_e,probabilityLabel:ve.toFixed(3)},Pe=[];xe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Pe.push(["Count:",De.countLabel].join(" ")),xe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Pe.push("P(color  "+_e+"): "+De.probabilityLabel),Pe.push("P("+_e+" | color): "+ke.toFixed(3)),Pe.push("P(color | "+_e+"): "+Ee.toFixed(3)));var Ue=Pe.join("<br>"),We=t.mostReadable(Fe.color,["black","white"]);return{trace:de,x:be*(ge-he.left),y:Te*(Ce-he.top),text:Ue,color:Fe.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:We,fontSize:10,idealAlign:ye,hovertemplate:de.hovertemplate,hovertemplateLabels:De,eventData:[{data:de._input,fullData:de,category:_e,count:Ae,probability:ve,categorycount:ze,colorcount:Re,bandcolorcount:Le}]}}(ne,J,se):re==="dimension"&&(Q=function(ue,he,pe){var ge=[];return T.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){ge.push(A(ue,he,this))}),ge}(ne,J,se)),Q&&_.loneHover(Q,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:ne}))}}function P(te){var Q=te.parcatsViewModel;Q.dragDimension||(v(Q.pathSelection),y(Q.dimensionSelection.selectAll("g.category")),m(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),_.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(l),Q.hoverinfoItems.indexOf("skip")!==-1)||(te.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",T.event):d(this,"plotly_unhover",T.event))}function O(te){te.parcatsViewModel.arrangement!=="fixed"&&(te.dragDimensionDisplayInd=te.model.displayInd,te.initialDragDimensionDisplayInds=te.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),te.dragHasMoved=!1,te.dragCategoryDisplayInd=null,T.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var ne=T.mouse(this)[0],$=T.mouse(this)[1];-2<=ne&&ne<=Q.width+2&&-2<=$&&$<=Q.height+2&&(te.dragCategoryDisplayInd=Q.model.displayInd,te.initialDragCategoryDisplayInds=te.model.categories.map(function(J){return J.displayInd}),Q.model.dragY=Q.y,b.raiseToTop(this.parentNode),T.select(this.parentNode).selectAll("rect.bandrect").each(function(J){J.y<$&&$<=J.y+J.height&&(te.potentialClickBand=this)}))}),te.parcatsViewModel.dragDimension=te,_.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(te){if(te.parcatsViewModel.arrangement!=="fixed"&&(te.dragHasMoved=!0,te.dragDimensionDisplayInd!==null)){var Q=te.dragDimensionDisplayInd,ne=Q-1,$=Q+1,J=te.parcatsViewModel.dimensions[Q];if(te.dragCategoryDisplayInd!==null){var re=J.categories[te.dragCategoryDisplayInd];re.model.dragY+=T.event.dy;var se=re.model.dragY,ue=re.model.displayInd,he=J.categories,pe=he[ue-1],ge=he[ue+1];pe!==void 0&&se<pe.y+pe.height/2&&(re.model.displayInd=pe.model.displayInd,pe.model.displayInd=ue),ge!==void 0&&se+re.height>ge.y+ge.height/2&&(re.model.displayInd=ge.model.displayInd,ge.model.displayInd=ue),te.dragCategoryDisplayInd=re.model.displayInd}if(te.dragCategoryDisplayInd===null||te.parcatsViewModel.arrangement==="freeform"){J.model.dragX=T.event.x;var ye=te.parcatsViewModel.dimensions[ne],be=te.parcatsViewModel.dimensions[$];ye!==void 0&&J.model.dragX<ye.x+ye.width&&(J.model.displayInd=ye.model.displayInd,ye.model.displayInd=Q),be!==void 0&&J.model.dragX+J.width>be.x&&(J.model.displayInd=be.model.displayInd,be.model.displayInd=te.dragDimensionDisplayInd),te.dragDimensionDisplayInd=J.model.displayInd}W(te.parcatsViewModel),H(te.parcatsViewModel),j(te.parcatsViewModel),z(te.parcatsViewModel)}}function D(te){if(te.parcatsViewModel.arrangement!=="fixed"&&te.dragDimensionDisplayInd!==null){T.select(this).selectAll("text").attr("font-weight","normal");var Q={},ne=V(te.parcatsViewModel),$=te.parcatsViewModel.model.dimensions.map(function(ge){return ge.displayInd}),J=te.initialDragDimensionDisplayInds.some(function(ge,ye){return ge!==$[ye]});J&&$.forEach(function(ge,ye){var be=te.parcatsViewModel.model.dimensions[ye].containerInd;Q["dimensions["+be+"].displayindex"]=ge});var re=!1;if(te.dragCategoryDisplayInd!==null){var se=te.model.categories.map(function(ge){return ge.displayInd});if(re=te.initialDragCategoryDisplayInds.some(function(ge,ye){return ge!==se[ye]})){var ue=te.model.categories.slice().sort(function(ge,ye){return ge.displayInd-ye.displayInd}),he=ue.map(function(ge){return ge.categoryValue}),pe=ue.map(function(ge){return ge.categoryLabel});Q["dimensions["+te.model.containerInd+"].categoryarray"]=[he],Q["dimensions["+te.model.containerInd+"].ticktext"]=[pe],Q["dimensions["+te.model.containerInd+"].categoryorder"]="array"}}te.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!te.dragHasMoved&&te.potentialClickBand&&(te.parcatsViewModel.hoveron==="color"?S(te.potentialClickBand,"plotly_click",T.event.sourceEvent):d(te.potentialClickBand,"plotly_click",T.event.sourceEvent)),te.model.dragX=null,te.dragCategoryDisplayInd!==null&&(te.parcatsViewModel.dimensions[te.dragDimensionDisplayInd].categories[te.dragCategoryDisplayInd].model.dragY=null,te.dragCategoryDisplayInd=null),te.dragDimensionDisplayInd=null,te.parcatsViewModel.dragDimension=null,te.dragHasMoved=null,te.potentialClickBand=null,W(te.parcatsViewModel),H(te.parcatsViewModel),T.transition().duration(300).ease("cubic-in-out").each(function(){j(te.parcatsViewModel,!0),z(te.parcatsViewModel,!0)}).each("end",function(){(J||re)&&o.restyle(te.parcatsViewModel.graphDiv,Q,[ne])})}}function V(te){for(var Q,ne=te.graphDiv._fullData,$=0;$<ne.length;$++)if(te.key===ne[$].uid){Q=$;break}return Q}function z(te,Q){var ne;Q===void 0&&(Q=!1),te.pathSelection.data(function($){return $.paths},n),(ne=te.pathSelection,Q?ne.transition():ne).attr("d",function($){return $.svgD})}function j(te,Q){function ne(se){return Q?se.transition():se}Q===void 0&&(Q=!1),te.dimensionSelection.data(function(se){return se.dimensions},n);var $=te.dimensionSelection.selectAll("g.category").data(function(se){return se.categories},n);ne(te.dimensionSelection).attr("transform",function(se){return f(se.x,0)}),ne($).attr("transform",function(se){return f(0,se.y)}),$.select(".dimlabel").text(function(se,ue){return ue===0?se.parcatsViewModel.model.dimensions[se.model.dimensionInd].dimensionLabel:null}),$.select(".catlabel").attr("text-anchor",function(se){return a(se)?"start":"end"}).attr("x",function(se){return a(se)?se.width+5:-5}).each(function(se){var ue,he;a(se)?(ue=se.width+5,he="start"):(ue=-5,he="end"),T.select(this).selectAll("tspan").attr("x",ue).attr("text-anchor",he)});var J=$.selectAll("rect.bandrect").data(function(se){return se.bands},n),re=J.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(se){return se.color}).attr("fill-opacity",0);J.attr("fill",function(se){return se.color}).attr("width",function(se){return se.width}).attr("height",function(se){return se.height}).attr("y",function(se){return se.y}),m(re),J.each(function(){b.raiseToTop(this)}),J.exit().remove()}function X(te,Q,ne){var $,J=ne[0],re=Q.margin||{l:80,r:80,t:100,b:80},se=J.trace,ue=se.domain,he=Q.width,pe=Q.height,ge=Math.floor(he*(ue.x[1]-ue.x[0])),ye=Math.floor(pe*(ue.y[1]-ue.y[0])),be=ue.x[0]*he+re.l,Te=Q.height-ue.y[1]*Q.height+re.t,Se=se.line.shape;$=se.hoverinfo==="all"?["count","probability"]:(se.hoverinfo||"").split("+");var Fe={trace:se,key:se.uid,model:J,x:be,y:Te,width:ge,height:ye,hoveron:se.hoveron,hoverinfoItems:$,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Se,dragDimension:null,margin:re,paths:[],dimensions:[],graphDiv:te,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(W(Fe),H(Fe)),Fe}function F(te,Q,ne,$,J){var re,se,ue=[],he=[];for(se=0;se<ne.length-1;se++)re=k(ne[se]+te[se],te[se+1]),ue.push(re(J)),he.push(re(1-J));var pe="M "+te[0]+","+Q[0];for(pe+="l"+ne[0]+",0 ",se=1;se<ne.length;se++)pe+="C"+ue[se-1]+","+Q[se-1]+" "+he[se-1]+","+Q[se]+" "+te[se]+","+Q[se],pe+="l"+ne[se]+",0 ";for(pe+="l0,"+$+" ",pe+="l -"+ne[ne.length-1]+",0 ",se=ne.length-2;se>=0;se--)pe+="C"+he[se]+","+(Q[se+1]+$)+" "+ue[se]+","+(Q[se]+$)+" "+(te[se]+ne[se])+","+(Q[se]+$),pe+="l-"+ne[se]+",0 ";return pe+"Z"}function H(te){var Q=te.dimensions,ne=te.model,$=Q.map(function(De){return De.categories.map(function(Pe){return Pe.y})}),J=te.model.dimensions.map(function(De){return De.categories.map(function(Pe){return Pe.displayInd})}),re=te.model.dimensions.map(function(De){return De.displayInd}),se=te.dimensions.map(function(De){return De.model.dimensionInd}),ue=Q.map(function(De){return De.x}),he=Q.map(function(De){return De.width}),pe=[];for(var ge in ne.paths)ne.paths.hasOwnProperty(ge)&&pe.push(ne.paths[ge]);function ye(De){var Pe=De.categoryInds.map(function(Ue,We){return J[We][Ue]});return se.map(function(Ue){return Pe[Ue]})}pe.sort(function(De,Pe){var Ue=ye(De),We=ye(Pe);return te.sortpaths==="backward"&&(Ue.reverse(),We.reverse()),Ue.push(De.valueInds[0]),We.push(Pe.valueInds[0]),te.bundlecolors&&(Ue.unshift(De.rawColor),We.unshift(Pe.rawColor)),Ue<We?-1:Ue>We?1:0});for(var be=new Array(pe.length),Te=Q[0].model.count,Se=Q[0].categories.map(function(De){return De.height}).reduce(function(De,Pe){return De+Pe}),Fe=0;Fe<pe.length;Fe++){var xe,le=pe[Fe];xe=Te>0?Se*(le.count/Te):0;for(var oe,de=new Array($.length),Ce=0;Ce<le.categoryInds.length;Ce++){var _e=le.categoryInds[Ce],Ae=J[Ce][_e],Le=re[Ce];de[Le]=$[Le][Ae],$[Le][Ae]+=xe;var ze=te.dimensions[Le].categories[Ae],Re=ze.bands.length,ve=ze.bands[Re-1];if(ve===void 0||le.rawColor!==ve.rawColor){var ke=ve===void 0?0:ve.y+ve.height;ze.bands.push({key:ke,color:le.color,rawColor:le.rawColor,height:xe,width:ze.width,count:le.count,y:ke,categoryViewModel:ze,parcatsViewModel:te})}else{var Ee=ze.bands[Re-1];Ee.height+=xe,Ee.count+=le.count}}oe=te.pathShape==="hspline"?F(ue,de,he,xe,.5):F(ue,de,he,xe,0),be[Fe]={key:le.valueInds[0],model:le,height:xe,leftXs:ue,topYs:de,dimWidths:he,svgD:oe,parcatsViewModel:te}}te.paths=be}function W(te){var Q=te.model.dimensions.map(function(se){return{displayInd:se.displayInd,dimensionInd:se.dimensionInd}});Q.sort(function(se,ue){return se.displayInd-ue.displayInd});var ne=[];for(var $ in Q){var J=Q[$].dimensionInd,re=te.model.dimensions[J];ne.push(ie(te,re))}te.dimensions=ne}function ie(te,Q){var ne,$=te.model.dimensions.length,J=Q.displayInd;ne=40+($>1?(te.width-80-16)/($-1):0)*J;var re,se,ue,he,pe,ge=[],ye=te.model.maxCats,be=Q.categories.length,Te=Q.count,Se=te.height-8*(ye-1),Fe=8*(ye-be)/2,xe=Q.categories.map(function(le){return{displayInd:le.displayInd,categoryInd:le.categoryInd}});for(xe.sort(function(le,oe){return le.displayInd-oe.displayInd}),pe=0;pe<be;pe++)he=xe[pe].categoryInd,se=Q.categories[he],re=Te>0?se.count/Te*Se:0,ue={key:se.valueInds[0],model:se,width:16,height:re,y:se.dragY!==null?se.dragY:Fe,bands:[],parcatsViewModel:te},Fe=Fe+re+8,ge.push(ue);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:ne,y:0,width:16,model:Q,categories:ge,parcatsViewModel:te,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}U.exports=function(te,Q,ne,$){r(ne,te,$,Q)}},60268:function(U,C,e){var T=e(51036);U.exports=function(k,o,_,b){var f=k._fullLayout,s=f._paper,t=f._size;T(k,s,o,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},_,b)}},82296:function(U,C,e){var T=e(49084),k=e(94724),o=e(25376),_=e(86968).u,b=e(92880).extendFlat,f=e(31780).templatedArray;U.exports={domain:_({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({autoShadowDflt:!0,editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:f("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},T("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(U,C,e){var T=e(30140),k=e(33428),o=e(71688).keyFun,_=e(71688).repeat,b=e(3400).sorterAsc,f=e(3400).strTranslate,s=T.bar.snapRatio;function t(A,E){return A*(1-s)+E*s}var i=T.bar.snapClose;function r(A,E){return A*(1-i)+E*i}function n(A,E,P,O){if(function(ie,te){for(var Q=0;Q<te.length;Q++)if(ie>=te[Q][0]&&ie<=te[Q][1])return!0;return!1}(P,O))return P;var I=A?-1:1,D=0,V=E.length-1;if(I<0){var z=D;D=V,V=z}for(var j=E[D],X=j,F=D;I*F<I*V;F+=I){var H=F+I,W=E[H];if(I*P<I*r(j,W))return t(j,X);if(I*P<I*W||H===V)return t(W,j);X=j,j=W}}function a(A){A.attr("x",-T.bar.captureWidth/2).attr("width",T.bar.captureWidth)}function l(A){A.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(A){if(!A.brush.filterSpecified)return"0,"+A.height;for(var E,P,O,I=h(A.brush.filter.getConsolidated(),A.height),D=[0],V=I.length?I[0][0]:null,z=0;z<I.length;z++)P=(E=I[z])[1]-E[0],D.push(V),D.push(P),(O=z+1)<I.length&&(V=I[O][0]-E[1]);return D.push(A.height),D}function h(A,E){return A.map(function(P){return P.map(function(O){return Math.max(0,O*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function x(A){A.attr("stroke-dasharray",u)}function p(A,E){var P=k.select(A).selectAll(".highlight, .highlight-shadow");x(E?P.transition().duration(T.bar.snapDuration).each("end",E):P)}function v(A,E){var P,O=A.brush,I=NaN,D={};if(O.filterSpecified){var V=A.height,z=O.filter.getConsolidated(),j=h(z,V),X=NaN,F=NaN,H=NaN;for(P=0;P<=j.length;P++){var W=j[P];if(W&&W[0]<=E&&E<=W[1]){X=P;break}if(F=P?P-1:NaN,W&&W[0]>E){H=P;break}}if(I=X,isNaN(I)&&(I=isNaN(F)||isNaN(H)?isNaN(F)?H:F:E-j[F][1]<j[H][0]-E?F:H),!isNaN(I)){var ie=j[I],te=function(J,re){var se=T.bar.handleHeight;if(!(re>J[1]+se||re<J[0]-se))return re>=.9*J[1]+.1*J[0]?"n":re<=.9*J[0]+.1*J[1]?"s":"ns"}(ie,E);te&&(D.interval=z[I],D.intervalPix=ie,D.region=te)}}if(A.ordinal&&!D.region){var Q=A.unitTickvals,ne=A.unitToPaddedPx.invert(E);for(P=0;P<Q.length;P++){var $=[.25*Q[Math.max(P-1,0)]+.75*Q[P],.25*Q[Math.min(P+1,Q.length-1)]+.75*Q[P]];if(ne>=$[0]&&ne<=$[1]){D.clickableOrdinalRange=$;break}}}return D}function g(A,E){k.event.sourceEvent.stopPropagation();var P=E.height-k.mouse(A)[1]-2*T.verticalPadding,O=E.brush.svgBrush;O.wasDragged=!0,O._dragging=!0,O.grabbingBar?O.newExtent=[P-O.grabPoint,P+O.barLength-O.grabPoint].map(E.unitToPaddedPx.invert):O.newExtent=[O.startExtent,E.unitToPaddedPx.invert(P)].sort(b),E.brush.filterSpecified=!0,O.extent=O.stayingIntervals.concat([O.newExtent]),O.brushCallback(E),p(A.parentNode)}function y(A,E){var P=v(E,E.height-k.mouse(A)[1]-2*T.verticalPadding),O="crosshair";P.clickableOrdinalRange?O="pointer":P.region&&(O=P.region+"-resize"),k.select(document.body).style("cursor",O)}function m(A){A.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){(function(P,O){k.event.sourceEvent.stopPropagation();var I=O.height-k.mouse(P)[1]-2*T.verticalPadding,D=O.unitToPaddedPx.invert(I),V=O.brush,z=v(O,I),j=z.interval,X=V.svgBrush;if(X.wasDragged=!1,X.grabbingBar=z.region==="ns",X.grabbingBar){var F=j.map(O.unitToPaddedPx);X.grabPoint=I-F[0]-T.verticalPadding,X.barLength=F[1]-F[0]}X.clickableOrdinalRange=z.clickableOrdinalRange,X.stayingIntervals=O.multiselect&&V.filterSpecified?V.filter.getConsolidated():[],j&&(X.stayingIntervals=X.stayingIntervals.filter(function(H){return H[0]!==j[0]&&H[1]!==j[1]})),X.startExtent=z.region?j[z.region==="s"?1:0]:D,O.parent.inBrushDrag=!0,X.brushStartCallback()})(this,E)}).on("drag",function(E){g(this,E)}).on("dragend",function(E){(function(P,O){var I=O.brush,D=I.filter,V=I.svgBrush;V._dragging||(y(P,O),g(P,O),O.brush.svgBrush.wasDragged=!1),V._dragging=!1,k.event.sourceEvent.stopPropagation();var z=V.grabbingBar;if(V.grabbingBar=!1,V.grabLocation=void 0,O.parent.inBrushDrag=!1,c(),!V.wasDragged)return V.wasDragged=void 0,V.clickableOrdinalRange?I.filterSpecified&&O.multiselect?V.extent.push(V.clickableOrdinalRange):(V.extent=[V.clickableOrdinalRange],I.filterSpecified=!0):z?(V.extent=V.stayingIntervals,V.extent.length===0&&d(I)):d(I),V.brushCallback(O),p(P.parentNode),void V.brushEndCallback(I.filterSpecified?D.getConsolidated():[]);var j=function(){D.set(D.getConsolidated())};if(O.ordinal){var X=O.unitTickvals;X[X.length-1]<X[0]&&X.reverse(),V.newExtent=[n(0,X,V.newExtent[0],V.stayingIntervals),n(1,X,V.newExtent[1],V.stayingIntervals)];var F=V.newExtent[1]>V.newExtent[0];V.extent=V.stayingIntervals.concat(F?[V.newExtent]:[]),V.extent.length||d(I),V.brushCallback(O),F?p(P.parentNode,j):(j(),p(P.parentNode))}else j();V.brushEndCallback(I.filterSpecified?D.getConsolidated():[])})(this,E)}))}function w(A,E){return A[0]-E[0]}function d(A){A.filterSpecified=!1,A.svgBrush.extent=[[-1/0,1/0]]}function S(A){for(var E,P=A.slice(),O=[],I=P.shift();I;){for(E=I.slice();(I=P.shift())&&I[0]<=E[1];)E[1]=Math.max(E[1],I[1]);O.push(E)}return O.length===1&&O[0][0]>O[0][1]&&(O=[]),O}U.exports={makeBrush:function(A,E,P,O,I,D){var V,z=function(){var j,X,F=[];return{set:function(H){(F=H.map(function(W){return W.slice().sort(b)}).sort(w)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),j=S(F),X=F.reduce(function(W,ie){return[Math.min(W[0],ie[0]),Math.max(W[1],ie[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return j},getBounds:function(){return X}}}();return z.set(P),{filter:z,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:O,brushCallback:(V=I,function(j){var X=j.brush,F=function(W){return W.svgBrush.extent.map(function(ie){return ie.slice()})}(X),H=F.slice();X.filter.set(H),V()}),brushEndCallback:D}}},ensureAxisBrush:function(A,E,P){var O=A.selectAll("."+T.cn.axisBrush).data(_,o);O.enter().append("g").classed(T.cn.axisBrush,!0),function(I,D,V){var z=V._context.staticPlot,j=I.selectAll(".background").data(_);j.enter().append("rect").classed("background",!0).call(a).call(l).style("pointer-events",z?"none":"auto").attr("transform",f(0,T.verticalPadding)),j.call(m).attr("height",function(H){return H.height-T.verticalPadding});var X=I.selectAll(".highlight-shadow").data(_);X.enter().append("line").classed("highlight-shadow",!0).attr("x",-T.bar.width/2).attr("stroke-width",T.bar.width+T.bar.strokeWidth).attr("stroke",D).attr("opacity",T.bar.strokeOpacity).attr("stroke-linecap","butt"),X.attr("y1",function(H){return H.height}).call(x);var F=I.selectAll(".highlight").data(_);F.enter().append("line").classed("highlight",!0).attr("x",-T.bar.width/2).attr("stroke-width",T.bar.width-T.bar.strokeWidth).attr("stroke",T.bar.fillColor).attr("opacity",T.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(H){return H.height}).call(x)}(O,E,P)},cleanRanges:function(A,E){if(Array.isArray(A[0])?(A=A.map(function(O){return O.sort(b)}),A=E.multiselect?S(A.sort(w)):[A[0]]):A=[A.sort(b)],E.tickvals){var P=E.tickvals.slice().sort(b);if(!(A=A.map(function(O){var I=[n(0,P,O[0],[]),n(1,P,O[1],[])];if(I[1]>I[0])return I}).filter(function(O){return O})).length)return}return A.length>1?A:A[0]}}},61664:function(U,C,e){U.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(U,C,e){var T=e(33428),k=e(84888)._M,o=e(24196),_=e(9616);C.name="parcoords",C.plot=function(b){var f=k(b.calcdata,"parcoords")[0];f.length&&o(b,f)},C.clean=function(b,f,s,t){var i=t._has&&t._has("parcoords"),r=f._has&&f._has("parcoords");i&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},C.toSVG=function(b){var f=b._fullLayout._glimages,s=T.select(b).selectAll(".svg-container");s.filter(function(t,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");f.append("svg:image").attr({xmlns:_.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){T.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(U,C,e){var T=e(3400).isArrayOrTypedArray,k=e(8932),o=e(71688).wrap;U.exports=function(_,b){var f,s;return k.hasColorscale(b,"line")&&T(b.line.color)?(f=b.line.color,s=k.extractOpts(b.line).colorscale,k.calc(_,b,{vals:f,containerStr:"line",cLetter:"c"})):(f=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=.5;return i}(b._length),s=[[0,b.line.color],[1,b.line.color]]),o({lineColor:f,cscale:s})}},30140:function(U){U.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(U,C,e){var T=e(3400),k=e(94288).hasColorscale,o=e(27260),_=e(86968).Q,b=e(51272),f=e(54460),s=e(82296),t=e(71864),i=e(30140).maxDimensionCount,r=e(26284);function n(a,l,u,h){function c(y,m){return T.coerce(a,l,s.dimensions,y,m)}var x=c("values"),p=c("visible");if(x&&x.length||(p=l.visible=!1),p){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var v=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},f.setConvert(l._ax,h.layout),c("multiselect");var g=c("constraintrange");g&&(l.constraintrange=t.cleanRanges(g,l))}}U.exports=function(a,l,u,h){function c(y,m){return T.coerce(a,l,s,y,m)}var x=a.dimensions;Array.isArray(x)&&x.length>i&&(T.log("parcoords traces support up to "+i+" dimensions at the moment"),x.splice(i));var p=b(a,l,{name:"dimensions",layout:h,handleItemDefaults:n}),v=function(y,m,w,d,S){var A=S("line.color",w);if(k(y,"line")&&T.isArrayOrTypedArray(A)){if(A.length)return S("line.colorscale"),o(y,m,d,S,{prefix:"line.",cLetter:"c"}),A.length;m.line.color=w}return 1/0}(a,l,u,h,c);_(l,h,c),Array.isArray(p)&&p.length||(l.visible=!1),r(l,p,"values",v);var g=T.extendFlat({},h.font,{size:Math.round(h.font.size/1.2)});T.coerceFont(c,"labelfont",g),T.coerceFont(c,"tickfont",g,{autoShadowDflt:!0}),T.coerceFont(c,"rangefont",g),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(U,C,e){var T=e(3400).isTypedArray;C.convertTypedArray=function(k){return T(k)?Array.prototype.slice.call(k):k},C.isOrdinal=function(k){return!!k.tickvals},C.isVisible=function(k){return k.visible||!("visible"in k)}},29928:function(U,C,e){var T=e(61664);T.plot=e(24196),U.exports=T},51352:function(U,C,e){var T=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),k=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),o=e(30140).maxDimensionCount,_=e(3400),b=1e-6,f=new Uint8Array(4),s=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(p,v,g,y,m){var w=p._gl;w.enable(w.SCISSOR_TEST),w.scissor(v,g,y,m),p.clear({color:[0,0,0,0],depth:1})}function r(p,v,g,y,m,w){var d=w.key;g.drawCompleted||(function(S){S.read({x:0,y:0,width:1,height:1,data:f})}(p),g.drawCompleted=!0),function S(A){var E=Math.min(y,m-A*y);A===0&&(window.cancelAnimationFrame(g.currentRafs[d]),delete g.currentRafs[d],i(p,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),g.clearOnly||(w.count=2*E,w.offset=2*A*y,v(w),A*y+E<m&&(g.currentRafs[d]=window.requestAnimationFrame(function(){S(A+1)})),g.drawCompleted=!1)}(0)}function n(p,v){for(var g=new Array(256),y=0;y<256;y++)g[y]=p(y/255).concat(v);return g}function a(p,v){return(p>>>8*v)%256/255}function l(p,v,g){for(var y=new Array(8*v),m=0,w=0;w<v;w++)for(var d=0;d<2;d++)for(var S=0;S<4;S++){var A=4*p+S,E=g[64*w+A];A===63&&d===0&&(E*=-1),y[m++]=E}return y}function u(p){var v="0"+p;return v.substr(v.length-2)}function h(p){return p<o?"p"+u(p+1)+"_"+u(p+4):"colors"}function c(p,v,g,y,m,w,d,S,A,E,P,O,I,D){for(var V=[[],[]],z=0;z<64;z++)V[0][z]=z===m?1:0,V[1][z]=z===w?1:0;d*=D,S*=D,A*=D,E*=D;var j=p.lines.canvasOverdrag*D,X=p.domain,F=p.canvasWidth*D,H=p.canvasHeight*D,W=p.pad.l*D,ie=p.pad.b*D,te=p.layoutHeight*D,Q=p.layoutWidth*D,ne=p.deselectedLines.color,$=p.deselectedLines.opacity;return _.extendFlat({key:P,resolution:[F,H],viewBoxPos:[d+j,S],viewBoxSize:[A,E],i0:m,i1:w,dim0A:V[0].slice(0,16),dim0B:V[0].slice(16,32),dim0C:V[0].slice(32,48),dim0D:V[0].slice(48,64),dim1A:V[1].slice(0,16),dim1B:V[1].slice(16,32),dim1C:V[1].slice(32,48),dim1D:V[1].slice(48,64),drwLayer:O,contextColor:[ne[0]/255,ne[1]/255,ne[2]/255,$!=="auto"?ne[3]*$:Math.max(.00392156862745098,Math.pow(1/p.lines.color.length,.3333333333333333))],scissorX:(y===v?0:d+j)+(W-j)+Q*X.x[0],scissorWidth:(y===g?F-d+j:A+.5)+(y===v?d+j:0),scissorY:S+ie+te*X.y[0],scissorHeight:E,viewportX:W-j+Q*X.x[0],viewportY:ie+te*X.y[0],viewportWidth:F,viewportHeight:H},I)}function x(p){var v=2047,g=Math.max(0,Math.floor(p[0]*v),0),y=Math.min(v,Math.ceil(p[1]*v),v);return[Math.min(g,y),Math.max(g,y)]}U.exports=function(p,v){var g,y,m,w,d,S=v.context,A=v.pick,E=v.regl,P=E._gl,O=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),I=Math.max(O[0],Math.min(O[1],v.viewModel.plotGlPixelRatio)),D={currentRafs:{},drawCompleted:!0,clearOnly:!1},V=function(H){for(var W={},ie=0;ie<=o;ie+=4)W[h(ie)]=H.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return W}(E),z=E.texture(t),j=[];F(v);var X=E({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:T,frag:k,primitive:"lines",lineWidth:I,attributes:V,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:z,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function F(H){g=H.model,y=H.viewModel,m=y.dimensions.slice(),w=m[0]?m[0].values.length:0;var W=g.lines,ie=A?W.color.map(function(Q,ne){return ne/W.color.length}):W.color,te=function(Q,ne,$){for(var J,re=new Array(Q*(o+4)),se=0,ue=0;ue<Q;ue++){for(var he=0;he<o;he++)re[se++]=he<ne.length?ne[he].paddedUnitValues[ue]:.5;re[se++]=a(ue,2),re[se++]=a(ue,1),re[se++]=a(ue,0),re[se++]=(J=$[ue],Math.max(b,Math.min(.999999,J)))}return re}(w,m,ie);(function(Q,ne,$){for(var J=0;J<=o;J+=4)Q[h(J)](l(J/4,ne,$))})(V,w,te),S||A||(z=E.texture(_.extendFlat({data:n(g.unitToColor,255)},t)))}return{render:function(H,W,ie){var te,Q,ne,$=H.length,J=1/0,re=-1/0;for(te=0;te<$;te++)H[te].dim0.canvasX<J&&(J=H[te].dim0.canvasX,Q=te),H[te].dim1.canvasX>re&&(re=H[te].dim1.canvasX,ne=te);$===0&&i(E,0,0,g.canvasWidth,g.canvasHeight);var se=function(xe){var le,oe,de,Ce=[[],[]];for(de=0;de<64;de++){var _e=!xe&&de<m.length?m[de].brush.filter.getBounds():[-1/0,1/0];Ce[0][de]=_e[0],Ce[1][de]=_e[1]}var Ae=new Array(16384);for(le=0;le<16384;le++)Ae[le]=255;if(!xe)for(le=0;le<m.length;le++){var Le=le%8,ze=(le-Le)/8,Re=Math.pow(2,Le),ve=m[le].brush.filter.get();if(!(ve.length<2)){var ke=x(ve[0])[1];for(oe=1;oe<ve.length;oe++){var Ee=x(ve[oe]);for(de=ke+1;de<Ee[0];de++)Ae[8*de+ze]&=~Re;ke=Math.max(ke,Ee[1])}}}var De={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return d?d(De):d=E.texture(De),{maskTexture:d,maskHeight:2048,loA:Ce[0].slice(0,16),loB:Ce[0].slice(16,32),loC:Ce[0].slice(32,48),loD:Ce[0].slice(48,64),hiA:Ce[1].slice(0,16),hiB:Ce[1].slice(16,32),hiC:Ce[1].slice(32,48),hiD:Ce[1].slice(48,64)}}(S);for(te=0;te<$;te++){var ue=H[te],he=ue.dim0.crossfilterDimensionIndex,pe=ue.dim1.crossfilterDimensionIndex,ge=ue.canvasX,ye=ue.canvasY,be=ge+ue.panelSizeX,Te=ue.plotGlPixelRatio;if(W||!j[he]||j[he][0]!==ge||j[he][1]!==be){j[he]=[ge,be];var Se=c(g,Q,ne,te,he,pe,ge,ye,ue.panelSizeX,ue.panelSizeY,ue.dim0.crossfilterDimensionIndex,S?0:A?2:1,se,Te);D.clearOnly=ie;var Fe=W?g.lines.blockLineCount:w;r(E,X,D,Fe,w,Se)}}},readPixel:function(H,W){return E.read({x:H,y:W,width:1,height:1,data:s}),s},readPixels:function(H,W,ie,te){var Q=new Uint8Array(4*ie*te);return E.read({x:H,y:W,width:ie,height:te,data:Q}),Q},destroy:function(){for(var H in p.style["pointer-events"]="none",z.destroy(),d&&d.destroy(),V)V[H].destroy()},update:F}}},26284:function(U){U.exports=function(C,e,T,k){var o,_;for(k||(k=1/0),o=0;o<e.length;o++)(_=e[o]).visible&&(k=Math.min(k,_[T].length));for(k===1/0&&(k=0),C._length=k,o=0;o<e.length;o++)(_=e[o]).visible&&(_._length=k);return k}},36336:function(U,C,e){var T=e(33428),k=e(3400),o=k.isArrayOrTypedArray,_=k.numberFormat,b=e(96824),f=e(54460),s=k.strRotate,t=k.strTranslate,i=e(72736),r=e(43616),n=e(8932),a=e(71688),l=a.keyFun,u=a.repeat,h=a.unwrap,c=e(95724),x=e(30140),p=e(71864),v=e(51352);function g(X,F,H){return k.aggNums(X,null,F,H)}function y(X,F){return w(g(Math.min,X,F),g(Math.max,X,F))}function m(X){var F=X.range;return F?w(F[0],F[1]):y(X.values,X._length)}function w(X,F){return!isNaN(X)&&isFinite(X)||(X=0),!isNaN(F)&&isFinite(F)||(F=0),X===F&&(X===0?(X-=1,F+=1):(X*=.9,F*=1.1)),[X,F]}function d(X,F,H,W,ie){var te,Q,ne=m(H);return W?T.scale.ordinal().domain(W.map((te=_(H.tickformat),Q=ie,Q?function($,J){var re=Q[J];return re??te($)}:te))).range(W.map(function($){var J=($-ne[0])/(ne[1]-ne[0]);return X-F+J*(2*F-X)})):T.scale.linear().domain(ne).range([X-F,F])}function S(X){if(X.tickvals){var F=m(X);return T.scale.ordinal().domain(X.tickvals).range(X.tickvals.map(function(H){return(H-F[0])/(F[1]-F[0])}))}}function A(X){var F=X.map(function(ie){return ie[0]}),H=X.map(function(ie){var te=b(ie[1]);return T.rgb("rgb("+te[0]+","+te[1]+","+te[2]+")")}),W="rgb".split("").map(function(ie){return T.scale.linear().clamp(!0).domain(F).range(H.map((te=ie,function(Q){return Q[te]})));var te});return function(ie){return W.map(function(te){return te(ie)})}}function E(X){return X.dimensions.some(function(F){return F.brush.filterSpecified})}function P(X,F,H){var W=h(F),ie=W.trace,te=c.convertTypedArray(W.lineColor),Q=ie.line,ne={color:b(ie.unselected.line.color),opacity:ie.unselected.line.opacity},$=n.extractOpts(Q),J=$.reversescale?n.flipScale(W.cscale):W.cscale,re=ie.domain,se=ie.dimensions,ue=X.width,he=ie.labelangle,pe=ie.labelside,ge=ie.labelfont,ye=ie.tickfont,be=ie.rangefont,Te=k.extendDeepNoArrays({},Q,{color:te.map(T.scale.linear().domain(m({values:te,range:[$.min,$.max],_length:ie._length}))),blockLineCount:x.blockLineCount,canvasOverdrag:x.overdrag*x.canvasPixelRatio}),Se=Math.floor(ue*(re.x[1]-re.x[0])),Fe=Math.floor(X.height*(re.y[1]-re.y[0])),xe=X.margin||{l:80,r:80,t:100,b:80},le=Se,oe=Fe;return{key:H,colCount:se.filter(c.isVisible).length,dimensions:se,tickDistance:x.tickDistance,unitToColor:A(J),lines:Te,deselectedLines:ne,labelAngle:he,labelSide:pe,labelFont:ge,tickFont:ye,rangeFont:be,layoutWidth:ue,layoutHeight:X.height,domain:re,translateX:re.x[0]*ue,translateY:X.height-re.y[1]*X.height,pad:xe,canvasWidth:le*x.canvasPixelRatio+2*Te.canvasOverdrag,canvasHeight:oe*x.canvasPixelRatio,width:le,height:oe,canvasPixelRatio:x.canvasPixelRatio}}function O(X,F,H){var W=H.width,ie=H.height,te=H.dimensions,Q=H.canvasPixelRatio,ne=function(ue){return W*ue/Math.max(1,H.colCount-1)},$=x.verticalPadding/ie,J=function(ue,he){return T.scale.linear().range([he,ue-he])}(ie,x.verticalPadding),re={key:H.key,xScale:ne,model:H,inBrushDrag:!1},se={};return re.dimensions=te.filter(c.isVisible).map(function(ue,he){var pe=function(Le,ze){return T.scale.linear().domain(m(Le)).range([ze,1-ze])}(ue,$),ge=se[ue.label];se[ue.label]=(ge||0)+1;var ye=ue.label+(ge?"__"+ge:""),be=ue.constraintrange,Te=be&&be.length;Te&&!o(be[0])&&(be=[be]);var Se=Te?be.map(function(Le){return Le.map(pe)}):[[-1/0,1/0]],Fe=ue.values;Fe.length>ue._length&&(Fe=Fe.slice(0,ue._length));var xe,le=ue.tickvals;function oe(Le,ze){return{val:Le,text:xe[ze]}}function de(Le,ze){return Le.val-ze.val}if(o(le)&&le.length){k.isTypedArray(le)&&(le=Array.from(le)),xe=ue.ticktext,o(xe)&&xe.length?xe.length>le.length?xe=xe.slice(0,le.length):le.length>xe.length&&(le=le.slice(0,xe.length)):xe=le.map(_(ue.tickformat));for(var Ce=1;Ce<le.length;Ce++)if(le[Ce]<le[Ce-1]){for(var _e=le.map(oe).sort(de),Ae=0;Ae<le.length;Ae++)le[Ae]=_e[Ae].val,xe[Ae]=_e[Ae].text;break}}else le=void 0;return Fe=c.convertTypedArray(Fe),{key:ye,label:ue.label,tickFormat:ue.tickformat,tickvals:le,ticktext:xe,ordinal:c.isOrdinal(ue),multiselect:ue.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ue._index,height:ie,values:Fe,paddedUnitValues:Fe.map(pe),unitTickvals:le&&le.map(pe),xScale:ne,x:ne(he),canvasX:ne(he)*Q,unitToPaddedPx:J,domainScale:d(ie,x.verticalPadding,ue,le,xe),ordinalScale:S(ue),parent:re,model:H,brush:p.makeBrush(X,Te,Se,function(){X.linePickActive(!1)},function(){var Le=re;Le.focusLayer&&Le.focusLayer.render(Le.panels,!0);var ze=E(Le);!X.contextShown()&&ze?(Le.contextLayer&&Le.contextLayer.render(Le.panels,!0),X.contextShown(!0)):X.contextShown()&&!ze&&(Le.contextLayer&&Le.contextLayer.render(Le.panels,!0,!0),X.contextShown(!1))},function(Le){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),X.linePickActive(!0),F&&F.filterChanged){var ze=pe.invert,Re=Le.map(function(ve){return ve.map(ze).sort(k.sorterAsc)}).sort(function(ve,ke){return ve[0]-ke[0]});F.filterChanged(re.key,ue._index,Re)}})}}),re}function I(X){X.classed(x.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function D(X,F){var H=F==="top"?1:-1,W=X*Math.PI/180;return{dir:H,dx:Math.sin(W),dy:Math.cos(W),degrees:X}}function V(X,F,H){for(var W=F.panels||(F.panels=[]),ie=X.data(),te=0;te<ie.length-1;te++){var Q=W[te]||(W[te]={}),ne=ie[te],$=ie[te+1];Q.dim0=ne,Q.dim1=$,Q.canvasX=ne.canvasX,Q.panelSizeX=$.canvasX-ne.canvasX,Q.panelSizeY=F.model.canvasHeight,Q.y=0,Q.canvasY=0,Q.plotGlPixelRatio=H}}function z(X,F){return f.tickText(X._ax,F,!1).text}function j(X,F){if(X.ordinal)return"";var H=X.domainScale.domain(),W=H[F?H.length-1:0];return z(X.model.dimensions[X.visibleIndex],W)}U.exports=function(X,F,H,W){var ie=X._context.staticPlot,te=X._fullLayout,Q=te._toppaper,ne=te._glcontainer,$=X._context.plotGlPixelRatio,J=X._fullLayout.paper_bgcolor;(function(Le){for(var ze=0;ze<Le.length;ze++)for(var Re=0;Re<Le[ze].length;Re++)for(var ve=Le[ze][Re].trace,ke=ve.dimensions,Ee=0;Ee<ke.length;Ee++){var De=ke[Ee].values,Pe=ke[Ee]._ax;Pe&&(Pe.range?Pe.range=w(Pe.range[0],Pe.range[1]):Pe.range=y(De,ve._length),Pe.dtick||(Pe.dtick=.01*(Math.abs(Pe.range[1]-Pe.range[0])||1)),Pe.tickformat=ke[Ee].tickformat,f.calcTicks(Pe),Pe.cleanRange())}})(F);var re,se,ue=(re=!0,se=!1,{linePickActive:function(Le){return arguments.length?re=!!Le:re},contextShown:function(Le){return arguments.length?se=!!Le:se}}),he=F.filter(function(Le){return h(Le).trace.visible}).map(P.bind(0,H)).map(O.bind(0,ue,W));ne.each(function(Le,ze){return k.extendFlat(Le,he[ze])});var pe=ne.selectAll(".gl-canvas").each(function(Le){Le.viewModel=he[0],Le.viewModel.plotGlPixelRatio=$,Le.viewModel.paperColor=J,Le.model=Le.viewModel?Le.viewModel.model:null}),ge=null;pe.filter(function(Le){return Le.pick}).style("pointer-events",ie?"none":"auto").on("mousemove",function(Le){if(ue.linePickActive()&&Le.lineLayer&&W&&W.hover){var ze=T.event,Re=this.width,ve=this.height,ke=T.mouse(this),Ee=ke[0],De=ke[1];if(Ee<0||De<0||Ee>=Re||De>=ve)return;var Pe=Le.lineLayer.readPixel(Ee,ve-1-De),Ue=Pe[3]!==0,We=Ue?Pe[2]+256*(Pe[1]+256*Pe[0]):null,$e={x:Ee,y:De,clientX:ze.clientX,clientY:ze.clientY,dataIndex:Le.model.key,curveNumber:We};We!==ge&&(Ue?W.hover($e):W.unhover&&W.unhover($e),ge=We)}}),pe.style("opacity",function(Le){return Le.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var ye=Q.selectAll("."+x.cn.parcoords).data(he,l);ye.exit().remove(),ye.enter().append("g").classed(x.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ye.attr("transform",function(Le){return t(Le.model.translateX,Le.model.translateY)});var be=ye.selectAll("."+x.cn.parcoordsControlView).data(u,l);be.enter().append("g").classed(x.cn.parcoordsControlView,!0),be.attr("transform",function(Le){return t(Le.model.pad.l,Le.model.pad.t)});var Te=be.selectAll("."+x.cn.yAxis).data(function(Le){return Le.dimensions},l);Te.enter().append("g").classed(x.cn.yAxis,!0),be.each(function(Le){V(Te,Le,$)}),pe.each(function(Le){if(Le.viewModel){!Le.lineLayer||W?Le.lineLayer=v(this,Le):Le.lineLayer.update(Le),(Le.key||Le.key===0)&&(Le.viewModel[Le.key]=Le.lineLayer);var ze=!Le.context||W;Le.lineLayer.render(Le.viewModel.panels,ze)}}),Te.attr("transform",function(Le){return t(Le.xScale(Le.xIndex),0)}),Te.call(T.behavior.drag().origin(function(Le){return Le}).on("drag",function(Le){var ze=Le.parent;ue.linePickActive(!1),Le.x=Math.max(-x.overdrag,Math.min(Le.model.width+x.overdrag,T.event.x)),Le.canvasX=Le.x*Le.model.canvasPixelRatio,Te.sort(function(Re,ve){return Re.x-ve.x}).each(function(Re,ve){Re.xIndex=ve,Re.x=Le===Re?Re.x:Re.xScale(Re.xIndex),Re.canvasX=Re.x*Re.model.canvasPixelRatio}),V(Te,ze,$),Te.filter(function(Re){return Math.abs(Le.xIndex-Re.xIndex)!==0}).attr("transform",function(Re){return t(Re.xScale(Re.xIndex),0)}),T.select(this).attr("transform",t(Le.x,0)),Te.each(function(Re,ve,ke){ke===Le.parent.key&&(ze.dimensions[ve]=Re)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer.render&&ze.focusLayer.render(ze.panels)}).on("dragend",function(Le){var ze=Le.parent;Le.x=Le.xScale(Le.xIndex),Le.canvasX=Le.x*Le.model.canvasPixelRatio,V(Te,ze,$),T.select(this).attr("transform",function(Re){return t(Re.x,0)}),ze.contextLayer&&ze.contextLayer.render(ze.panels,!1,!E(ze)),ze.focusLayer&&ze.focusLayer.render(ze.panels),ze.pickLayer&&ze.pickLayer.render(ze.panels,!0),ue.linePickActive(!0),W&&W.axesMoved&&W.axesMoved(ze.key,ze.dimensions.map(function(Re){return Re.crossfilterDimensionIndex}))})),Te.exit().remove();var Se=Te.selectAll("."+x.cn.axisOverlays).data(u,l);Se.enter().append("g").classed(x.cn.axisOverlays,!0),Se.selectAll("."+x.cn.axis).remove();var Fe=Se.selectAll("."+x.cn.axis).data(u,l);Fe.enter().append("g").classed(x.cn.axis,!0),Fe.each(function(Le){var ze=Le.model.height/Le.model.tickDistance,Re=Le.domainScale,ve=Re.domain();T.select(this).call(T.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(ze,Le.tickFormat).tickValues(Le.ordinal?ve:null).tickFormat(function(ke){return c.isOrdinal(Le)?ke:z(Le.model.dimensions[Le.visibleIndex],ke)}).scale(Re)),r.font(Fe.selectAll("text"),Le.model.tickFont)}),Fe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Fe.selectAll("text").style("cursor","default");var xe=Se.selectAll("."+x.cn.axisHeading).data(u,l);xe.enter().append("g").classed(x.cn.axisHeading,!0);var le=xe.selectAll("."+x.cn.axisTitle).data(u,l);le.enter().append("text").classed(x.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),le.text(function(Le){return Le.label}).each(function(Le){var ze=T.select(this);r.font(ze,Le.model.labelFont),i.convertToTspans(ze,X)}).attr("transform",function(Le){var ze=D(Le.model.labelAngle,Le.model.labelSide),Re=x.axisTitleOffset;return(ze.dir>0?"":t(0,2*Re+Le.model.height))+s(ze.degrees)+t(-Re*ze.dx,-Re*ze.dy)}).attr("text-anchor",function(Le){var ze=D(Le.model.labelAngle,Le.model.labelSide);return 2*Math.abs(ze.dx)>Math.abs(ze.dy)?ze.dir*ze.dx<0?"start":"end":"middle"});var oe=Se.selectAll("."+x.cn.axisExtent).data(u,l);oe.enter().append("g").classed(x.cn.axisExtent,!0);var de=oe.selectAll("."+x.cn.axisExtentTop).data(u,l);de.enter().append("g").classed(x.cn.axisExtentTop,!0),de.attr("transform",t(0,-x.axisExtentOffset));var Ce=de.selectAll("."+x.cn.axisExtentTopText).data(u,l);Ce.enter().append("text").classed(x.cn.axisExtentTopText,!0).call(I),Ce.text(function(Le){return j(Le,!0)}).each(function(Le){r.font(T.select(this),Le.model.rangeFont)});var _e=oe.selectAll("."+x.cn.axisExtentBottom).data(u,l);_e.enter().append("g").classed(x.cn.axisExtentBottom,!0),_e.attr("transform",function(Le){return t(0,Le.model.height+x.axisExtentOffset)});var Ae=_e.selectAll("."+x.cn.axisExtentBottomText).data(u,l);Ae.enter().append("text").classed(x.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(I),Ae.text(function(Le){return j(Le,!1)}).each(function(Le){r.font(T.select(this),Le.model.rangeFont)}),p.ensureAxisBrush(Se,J,X)}},24196:function(U,C,e){var T=e(36336),k=e(5048),o=e(95724).isVisible,_={};function b(f,s,t){var i=s.indexOf(t),r=f.indexOf(i);return r===-1&&(r+=s.length),r}(U.exports=function(f,s){var t=f._fullLayout;if(k(f,[],_)){var i={},r={},n={},a={},l=t._size;s.forEach(function(u,h){var c=u[0].trace;n[h]=c.index;var x=a[h]=c._fullInput.index;i[h]=f.data[x].dimensions,r[h]=f.data[x].dimensions.slice()}),T(f,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,h,c){var x=r[u][h],p=c.map(function(d){return d.slice()}),v="dimensions["+h+"].constraintrange",g=t._tracePreGUI[f._fullData[n[u]]._fullInput.uid];if(g[v]===void 0){var y=x.constraintrange;g[v]=y||null}var m=f._fullData[n[u]].dimensions[h];p.length?(p.length===1&&(p=p[0]),x.constraintrange=p,m.constraintrange=p.slice(),p=[p]):(delete x.constraintrange,delete m.constraintrange,p=null);var w={};w[v]=p,f.emit("plotly_restyle",[w,[a[u]]])},hover:function(u){f.emit("plotly_hover",u)},unhover:function(u){f.emit("plotly_unhover",u)},axesMoved:function(u,h){var c=function(x,p){return function(v,g){return b(x,p,v)-b(x,p,g)}}(h,r[u].filter(o));i[u].sort(c),r[u].filter(function(x){return!o(x)}).sort(function(x){return r[u].indexOf(x)}).forEach(function(x){i[u].splice(i[u].indexOf(x),1),i[u].splice(r[u].indexOf(x),0,x)}),f.emit("plotly_restyle",[{dimensions:[i[u]]},[a[u]]])}})}}).reglPrecompiled=_},74996:function(U,C,e){var T=e(45464),k=e(86968).u,o=e(25376),_=e(22548),b=e(21776).Ks,f=e(21776).Gw,s=e(92880).extendFlat,t=e(98192).c,i=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});U.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:_.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},T.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(U,C,e){var T=e(7316);C.name="pie",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},45768:function(U,C,e){var T=e(38248),k=e(49760),o=e(76308),_={};function b(s){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=o.addOpacity(t,t.getAlpha()),s[i]||(s[i]=t),t)}}function f(s,t){var i,r=JSON.stringify(s),n=t[r];if(!n){for(n=s.slice(),i=0;i<s.length;i++)n.push(k(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)n.push(k(s[i]).darken(20).toHexString());t[r]=n}return n}U.exports={calc:function(s,t){var i,r,n=[],a=s._fullLayout,l=a.hiddenlabels||[],u=t.labels,h=t.marker.colors||[],c=t.values,x=t._length,p=t._hasValues&&x;if(t.dlabel)for(u=new Array(x),i=0;i<x;i++)u[i]=String(t.label0+i*t.dlabel);var v={},g=b(a["_"+t.type+"colormap"]),y=0,m=!1;for(i=0;i<x;i++){var w,d,S;if(p){if(w=c[i],!T(w))continue;w=+w}else w=1;(d=u[i])!==void 0&&d!==""||(d=i);var A=v[d=String(d)];A===void 0?(v[d]=n.length,(S=l.indexOf(d)!==-1)||(y+=w),n.push({v:w,label:d,color:g(h[i],d),i,pts:[i],hidden:S})):(m=!0,(r=n[A]).v+=w,r.pts.push(i),r.hidden||(y+=w),r.color===!1&&h[i]&&(r.color=g(h[i],d)))}return n=n.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?m:t.sort)&&n.sort(function(E,P){return P.v-E.v}),n[0]&&(n[0].vTotal=y),n},crossTraceCalc:function(s,t){var i=(t||{}).type;i||(i="pie");var r=s._fullLayout,n=s.calcdata,a=r[i+"colorway"],l=r["_"+i+"colormap"];r["extend"+i+"colors"]&&(a=f(a,_));for(var u=0,h=0;h<n.length;h++){var c=n[h];if(c[0].trace.type===i)for(var x=0;x<c.length;x++){var p=c[x];p.color===!1&&(l[p.label]?p.color=l[p.label]:(l[p.label]=p.color=a[u%a.length],u++))}}},makePullColorFn:b,generateExtendedColors:f}},74174:function(U,C,e){var T=e(38248),k=e(3400),o=e(74996),_=e(86968).Q,b=e(31508).handleText,f=e(3400).coercePattern;function s(i,r){var n=k.isArrayOrTypedArray(i),a=k.isArrayOrTypedArray(r),l=Math.min(n?i.length:1/0,a?r.length:1/0);if(isFinite(l)||(l=0),l&&a){for(var u,h=0;h<l;h++){var c=r[h];if(T(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:n,hasValues:a,len:l}}function t(i,r,n,a,l){a("marker.line.width")&&a("marker.line.color",l?void 0:n.paper_bgcolor);var u=a("marker.colors");f(a,"marker.pattern",u),i.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=i.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=n.paper_bgcolor)}U.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(i,r,n,a){function l(m,w){return k.coerce(i,r,o,m,w)}var u=s(l("labels"),l("values")),h=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),h){r._length=h,t(i,r,a,l,!0),l("scalegroup");var c,x=l("text"),p=l("texttemplate");if(p||(c=l("textinfo",k.isArrayOrTypedArray(x)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||c&&c!=="none"){var v=l("textposition");b(i,r,a,l,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||v==="auto"||v==="outside")&&l("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&l("insidetextorientation")}else c==="none"&&l("textposition","none");_(r,a,l);var g=l("hole");if(l("title.text")){var y=l("title.position",g?"middle center":"top center");g||y!=="middle center"||(r.title.position="top center"),k.coerceFont(l,"title.font",a.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else r.visible=!1}}},53644:function(U,C,e){var T=e(10624).appendArrayMultiPointValues;U.exports=function(k,o){var _={curveNumber:o.index,pointNumbers:k.pts,data:o._input,fullData:o,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return k.pts.length===1&&(_.pointNumber=_.i=k.pts[0]),T(_,o,k.pts),o.type==="funnelarea"&&(delete _.v,delete _.i),_}},21552:function(U,C,e){var T=e(43616),k=e(76308);U.exports=function(o,_,b,f){var s=b.marker.pattern;s&&s.shape?T.pointStyle(o,b,f,_):k.fill(o,_.color)}},69656:function(U,C,e){var T=e(3400);function k(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}C.formatPiePercent=function(o,_){var b=k((100*o).toPrecision(3));return T.numSeparate(b,_)+"%"},C.formatPieValue=function(o,_){var b=k(o.toPrecision(10));return T.numSeparate(b,_)},C.getFirstFilled=function(o,_){if(T.isArrayOrTypedArray(o))for(var b=0;b<_.length;b++){var f=o[_[b]];if(f||f===0||f==="")return f}},C.castOption=function(o,_){return T.isArrayOrTypedArray(o)?C.getFirstFilled(o,_):o||void 0},C.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},75792:function(U,C,e){U.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(U){U.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(U,C,e){var T=e(3400),k=e(85204);U.exports=function(o,_){function b(f,s){return T.coerce(o,_,k,f,s)}b("hiddenlabels"),b("piecolorway",_.colorway),b("extendpiecolors")}},37820:function(U,C,e){var T=e(33428),k=e(7316),o=e(93024),_=e(76308),b=e(43616),f=e(3400),s=f.strScale,t=f.strTranslate,i=e(72736),r=e(82744),n=r.recordMinTextSize,a=r.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),h=e(53644),c=e(3400).isValidTextValue;function x(X,F,H){var W=H[0],ie=W.cx,te=W.cy,Q=W.trace,ne=Q.type==="funnelarea";"_hasHoverLabel"in Q||(Q._hasHoverLabel=!1),"_hasHoverEvent"in Q||(Q._hasHoverEvent=!1),X.on("mouseover",function($){var J=F._fullLayout,re=F._fullData[Q.index];if(!F._dragging&&J.hovermode!==!1){var se=re.hoverinfo;if(Array.isArray(se)&&(se=o.castHoverinfo({hoverinfo:[u.castOption(se,$.pts)],_module:Q._module},J,0)),se==="all"&&(se="label+text+value+percent+name"),re.hovertemplate||se!=="none"&&se!=="skip"&&se){var ue=$.rInscribed||0,he=ie+$.pxmid[0]*(1-ue),pe=te+$.pxmid[1]*(1-ue),ge=J.separators,ye=[];if(se&&se.indexOf("label")!==-1&&ye.push($.label),$.text=u.castOption(re.hovertext||re.text,$.pts),se&&se.indexOf("text")!==-1){var be=$.text;f.isValidTextValue(be)&&ye.push(be)}$.value=$.v,$.valueLabel=u.formatPieValue($.v,ge),se&&se.indexOf("value")!==-1&&ye.push($.valueLabel),$.percent=$.v/W.vTotal,$.percentLabel=u.formatPiePercent($.percent,ge),se&&se.indexOf("percent")!==-1&&ye.push($.percentLabel);var Te=re.hoverlabel,Se=Te.font,Fe=[];o.loneHover({trace:Q,x0:he-ue*W.r,x1:he+ue*W.r,y:pe,_x0:ne?ie+$.TL[0]:he-ue*W.r,_x1:ne?ie+$.TR[0]:he+ue*W.r,_y0:ne?te+$.TL[1]:pe-ue*W.r,_y1:ne?te+$.BL[1]:pe+ue*W.r,text:ye.join("<br>"),name:re.hovertemplate||se.indexOf("name")!==-1?re.name:void 0,idealAlign:$.pxmid[0]<0?"left":"right",color:u.castOption(Te.bgcolor,$.pts)||$.color,borderColor:u.castOption(Te.bordercolor,$.pts),fontFamily:u.castOption(Se.family,$.pts),fontSize:u.castOption(Se.size,$.pts),fontColor:u.castOption(Se.color,$.pts),nameLength:u.castOption(Te.namelength,$.pts),textAlign:u.castOption(Te.align,$.pts),hovertemplate:u.castOption(re.hovertemplate,$.pts),hovertemplateLabels:$,eventData:[h($,re)]},{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:F,inOut_bbox:Fe}),$.bbox=Fe[0],Q._hasHoverLabel=!0}Q._hasHoverEvent=!0,F.emit("plotly_hover",{points:[h($,re)],event:T.event})}}),X.on("mouseout",function($){var J=F._fullLayout,re=F._fullData[Q.index],se=T.select(this).datum();Q._hasHoverEvent&&($.originalEvent=T.event,F.emit("plotly_unhover",{points:[h(se,re)],event:T.event}),Q._hasHoverEvent=!1),Q._hasHoverLabel&&(o.loneUnhover(J._hoverlayer.node()),Q._hasHoverLabel=!1)}),X.on("click",function($){var J=F._fullLayout,re=F._fullData[Q.index];F._dragging||J.hovermode===!1||(F._hoverdata=[h($,re)],o.click(F,T.event))})}function p(X,F,H){var W=u.castOption(X.insidetextfont.color,F.pts);!W&&X._input.textfont&&(W=u.castOption(X._input.textfont.color,F.pts));var ie=u.castOption(X.insidetextfont.family,F.pts)||u.castOption(X.textfont.family,F.pts)||H.family,te=u.castOption(X.insidetextfont.size,F.pts)||u.castOption(X.textfont.size,F.pts)||H.size,Q=u.castOption(X.insidetextfont.weight,F.pts)||u.castOption(X.textfont.weight,F.pts)||H.weight,ne=u.castOption(X.insidetextfont.style,F.pts)||u.castOption(X.textfont.style,F.pts)||H.style,$=u.castOption(X.insidetextfont.variant,F.pts)||u.castOption(X.textfont.variant,F.pts)||H.variant,J=u.castOption(X.insidetextfont.textcase,F.pts)||u.castOption(X.textfont.textcase,F.pts)||H.textcase,re=u.castOption(X.insidetextfont.lineposition,F.pts)||u.castOption(X.textfont.lineposition,F.pts)||H.lineposition,se=u.castOption(X.insidetextfont.shadow,F.pts)||u.castOption(X.textfont.shadow,F.pts)||H.shadow;return{color:W||_.contrast(F.color),family:ie,size:te,weight:Q,style:ne,variant:$,textcase:J,lineposition:re,shadow:se}}function v(X,F){for(var H,W,ie=0;ie<X.length;ie++)if((W=(H=X[ie][0]).trace).title.text){var te=W.title.text;W._meta&&(te=f.templateString(te,W._meta));var Q=b.tester.append("text").attr("data-notex",1).text(te).call(b.font,W.title.font).call(i.convertToTspans,F),ne=b.bBox(Q.node(),!0);H.titleBox={width:ne.width,height:ne.height},Q.remove()}}function g(X,F,H){var W=H.r||F.rpx1,ie=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var te,Q=F.ring,ne=Q===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,$=F.halfangle,J=F.midangle,re=H.trace.insidetextorientation,se=re==="horizontal",ue=re==="tangential",he=re==="radial",pe=re==="auto",ge=[];if(!pe){var ye,be=function(oe,de){if(function(Le,ze){var Re=Le.startangle,ve=Le.stopangle;return Re>ze&&ze>ve||Re<ze&&ze<ve}(F,oe)){var Ce=Math.abs(oe-F.startangle),_e=Math.abs(oe-F.stopangle),Ae=Ce<_e?Ce:_e;(te=de==="tan"?m(X,W,Q,Ae,0):y(X,W,Q,Ae,Math.PI/2)).textPosAngle=oe,ge.push(te)}};if(se||ue){for(ye=4;ye>=-4;ye-=2)be(Math.PI*ye,"tan");for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+1),"tan")}if(se||he){for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+1.5),"rad");for(ye=4;ye>=-4;ye-=2)be(Math.PI*(ye+.5),"rad")}}if(ne||pe||se){var Te=Math.sqrt(X.width*X.width+X.height*X.height);if((te={scale:ie*W*2/Te,rCenter:1-ie,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,te.scale>=1)return te;ge.push(te)}(pe||he)&&((te=y(X,W,Q,$,J)).textPosAngle=(F.startangle+F.stopangle)/2,ge.push(te)),(pe||ue)&&((te=m(X,W,Q,$,J)).textPosAngle=(F.startangle+F.stopangle)/2,ge.push(te));for(var Se=0,Fe=0,xe=0;xe<ge.length;xe++){var le=ge[xe].scale;if(Fe<le&&(Fe=le,Se=xe),!pe&&Fe>=1)break}return ge[Se]}function y(X,F,H,W,ie){F=Math.max(0,F-2*l);var te=X.width/X.height,Q=S(te,W,F,H);return{scale:2*Q/X.height,rCenter:w(te,Q/F),rotate:d(ie)}}function m(X,F,H,W,ie){F=Math.max(0,F-2*l);var te=X.height/X.width,Q=S(te,W,F,H);return{scale:2*Q/X.width,rCenter:w(te,Q/F),rotate:d(ie+Math.PI/2)}}function w(X,F){return Math.cos(F)-X*F}function d(X){return(180/Math.PI*X+720)%180-90}function S(X,F,H,W){var ie=X+1/(2*Math.tan(F));return H*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),W/(Math.sqrt(X*X+W/2)+X))}function A(X,F){return X.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2):1}function E(X,F){var H=F.pxmid[0],W=F.pxmid[1],ie=X.width/2,te=X.height/2;return H<0&&(ie*=-1),W<0&&(te*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(te)*(ie>0?1:-1)/2,y:te/(1+H*H/(W*W)),outside:!0}}function P(X,F){var H,W,ie,te=X.trace,Q={x:X.cx,y:X.cy},ne={tx:0,ty:0};ne.ty+=te.title.font.size,ie=I(te),te.title.position.indexOf("top")!==-1?(Q.y-=(1+ie)*X.r,ne.ty-=X.titleBox.height):te.title.position.indexOf("bottom")!==-1&&(Q.y+=(1+ie)*X.r);var $,J=X.r/(($=X.trace.aspectratio)===void 0?1:$),re=F.w*(te.domain.x[1]-te.domain.x[0])/2;return te.title.position.indexOf("left")!==-1?(re+=J,Q.x-=(1+ie)*J,ne.tx+=X.titleBox.width/2):te.title.position.indexOf("center")!==-1?re*=2:te.title.position.indexOf("right")!==-1&&(re+=J,Q.x+=(1+ie)*J,ne.tx-=X.titleBox.width/2),H=re/X.titleBox.width,W=O(X,F)/X.titleBox.height,{x:Q.x,y:Q.y,scale:Math.min(H,W),tx:ne.tx,ty:ne.ty}}function O(X,F){var H=X.trace,W=F.h*(H.domain.y[1]-H.domain.y[0]);return Math.min(X.titleBox.height,W/2)}function I(X){var F,H=X.pull;if(!H)return 0;if(f.isArrayOrTypedArray(H))for(H=0,F=0;F<X.pull.length;F++)X.pull[F]>H&&(H=X.pull[F]);return H}function D(X,F){for(var H=[],W=0;W<X.length;W++){var ie=X[W][0],te=ie.trace,Q=te.domain,ne=F.w*(Q.x[1]-Q.x[0]),$=F.h*(Q.y[1]-Q.y[0]);te.title.text&&te.title.position!=="middle center"&&($-=O(ie,F));var J=ne/2,re=$/2;te.type!=="funnelarea"||te.scalegroup||(re/=te.aspectratio),ie.r=Math.min(J,re)/(1+I(te)),ie.cx=F.l+F.w*(te.domain.x[1]+te.domain.x[0])/2,ie.cy=F.t+F.h*(1-te.domain.y[0])-$/2,te.title.text&&te.title.position.indexOf("bottom")!==-1&&(ie.cy-=O(ie,F)),te.scalegroup&&H.indexOf(te.scalegroup)===-1&&H.push(te.scalegroup)}(function(se,ue){for(var he,pe,ge,ye=0;ye<ue.length;ye++){var be=1/0,Te=ue[ye];for(pe=0;pe<se.length;pe++)if((ge=(he=se[pe][0]).trace).scalegroup===Te){var Se;if(ge.type==="pie")Se=he.r*he.r;else if(ge.type==="funnelarea"){var Fe,xe;ge.aspectratio>1?xe=(Fe=he.r)/ge.aspectratio:Fe=(xe=he.r)*ge.aspectratio,Se=(Fe*=(1+ge.baseratio)/2)*xe}be=Math.min(be,Se/he.vTotal)}for(pe=0;pe<se.length;pe++)if((ge=(he=se[pe][0]).trace).scalegroup===Te){var le=be*he.vTotal;ge.type==="funnelarea"&&(le/=(1+ge.baseratio)/2,le/=ge.aspectratio),he.r=Math.sqrt(le)}}})(X,H)}function V(X,F){return[X*Math.sin(F),-X*Math.cos(F)]}function z(X,F,H){var W=X._fullLayout,ie=H.trace,te=ie.texttemplate,Q=ie.textinfo;if(!te&&Q&&Q!=="none"){var ne,$=Q.split("+"),J=function(Se){return $.indexOf(Se)!==-1},re=J("label"),se=J("text"),ue=J("value"),he=J("percent"),pe=W.separators;if(ne=re?[F.label]:[],se){var ge=u.getFirstFilled(ie.text,F.pts);c(ge)&&ne.push(ge)}ue&&ne.push(u.formatPieValue(F.v,pe)),he&&ne.push(u.formatPiePercent(F.v/H.vTotal,pe)),F.text=ne.join("<br>")}if(te){var ye=f.castOption(ie,F.i,"texttemplate");if(ye){var be=function(Se){return{label:Se.label,value:Se.v,valueLabel:u.formatPieValue(Se.v,W.separators),percent:Se.v/H.vTotal,percentLabel:u.formatPiePercent(Se.v/H.vTotal,W.separators),color:Se.color,text:Se.text,customdata:f.castOption(ie,Se.i,"customdata")}}(F),Te=u.getFirstFilled(ie.text,F.pts);(c(Te)||Te==="")&&(be.text=Te),F.text=f.texttemplateString(ye,be,X._fullLayout._d3locale,be,ie._meta||{})}else F.text=""}}function j(X,F){var H=X.rotate*Math.PI/180,W=Math.cos(H),ie=Math.sin(H),te=(F.left+F.right)/2,Q=(F.top+F.bottom)/2;X.textX=te*W-Q*ie,X.textY=te*ie+Q*W,X.noCenter=!0}U.exports={plot:function(X,F){var H=X._context.staticPlot,W=X._fullLayout,ie=W._size;a("pie",W),v(F,X),D(F,ie);var te=f.makeTraceGroups(W._pielayer,F,"trace").each(function(Q){var ne=T.select(this),$=Q[0],J=$.trace;(function(re){var se,ue,he,pe=re[0],ge=pe.r,ye=pe.trace,be=u.getRotationAngle(ye.rotation),Te=2*Math.PI/pe.vTotal,Se="px0",Fe="px1";if(ye.direction==="counterclockwise"){for(se=0;se<re.length&&re[se].hidden;se++);if(se===re.length)return;be+=Te*re[se].v,Te*=-1,Se="px1",Fe="px0"}for(he=V(ge,be),se=0;se<re.length;se++)(ue=re[se]).hidden||(ue[Se]=he,ue.startangle=be,be+=Te*ue.v/2,ue.pxmid=V(ge,be),ue.midangle=be,he=V(ge,be+=Te*ue.v/2),ue.stopangle=be,ue[Fe]=he,ue.largeArc=ue.v>pe.vTotal/2?1:0,ue.halfangle=Math.PI*Math.min(ue.v/pe.vTotal,.5),ue.ring=1-ye.hole,ue.rInscribed=A(ue,pe))})(Q),ne.attr("stroke-linejoin","round"),ne.each(function(){var re=T.select(this).selectAll("g.slice").data(Q);re.enter().append("g").classed("slice",!0),re.exit().remove();var se=[[[],[]],[[],[]]],ue=!1;re.each(function(Fe,xe){if(Fe.hidden)T.select(this).selectAll("path,g").remove();else{Fe.pointNumber=Fe.i,Fe.curveNumber=J.index,se[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var le=$.cx,oe=$.cy,de=T.select(this),Ce=de.selectAll("path.surface").data([Fe]);if(Ce.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),de.call(x,X,Q),J.pull){var _e=+u.castOption(J.pull,Fe.pts)||0;_e>0&&(le+=_e*Fe.pxmid[0],oe+=_e*Fe.pxmid[1])}Fe.cxFinal=le,Fe.cyFinal=oe;var Ae=J.hole;if(Fe.v===$.vTotal){var Le="M"+(le+Fe.px0[0])+","+(oe+Fe.px0[1])+Ee(Fe.px0,Fe.pxmid,!0,1)+Ee(Fe.pxmid,Fe.px0,!0,1)+"Z";Ae?Ce.attr("d","M"+(le+Ae*Fe.px0[0])+","+(oe+Ae*Fe.px0[1])+Ee(Fe.px0,Fe.pxmid,!1,Ae)+Ee(Fe.pxmid,Fe.px0,!1,Ae)+"Z"+Le):Ce.attr("d",Le)}else{var ze=Ee(Fe.px0,Fe.px1,!0,1);if(Ae){var Re=1-Ae;Ce.attr("d","M"+(le+Ae*Fe.px1[0])+","+(oe+Ae*Fe.px1[1])+Ee(Fe.px1,Fe.px0,!1,Ae)+"l"+Re*Fe.px0[0]+","+Re*Fe.px0[1]+ze+"Z")}else Ce.attr("d","M"+le+","+oe+"l"+Fe.px0[0]+","+Fe.px0[1]+ze+"Z")}z(X,Fe,$);var ve=u.castOption(J.textposition,Fe.pts),ke=de.selectAll("g.slicetext").data(Fe.text&&ve!=="none"?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var De=f.ensureSingle(T.select(this),"text","",function(_t){_t.attr("data-notex",1)}),Pe=f.ensureUniformFontSize(X,ve==="outside"?function(_t,yt,it){return{color:u.castOption(_t.outsidetextfont.color,yt.pts)||u.castOption(_t.textfont.color,yt.pts)||it.color,family:u.castOption(_t.outsidetextfont.family,yt.pts)||u.castOption(_t.textfont.family,yt.pts)||it.family,size:u.castOption(_t.outsidetextfont.size,yt.pts)||u.castOption(_t.textfont.size,yt.pts)||it.size,weight:u.castOption(_t.outsidetextfont.weight,yt.pts)||u.castOption(_t.textfont.weight,yt.pts)||it.weight,style:u.castOption(_t.outsidetextfont.style,yt.pts)||u.castOption(_t.textfont.style,yt.pts)||it.style,variant:u.castOption(_t.outsidetextfont.variant,yt.pts)||u.castOption(_t.textfont.variant,yt.pts)||it.variant,textcase:u.castOption(_t.outsidetextfont.textcase,yt.pts)||u.castOption(_t.textfont.textcase,yt.pts)||it.textcase,lineposition:u.castOption(_t.outsidetextfont.lineposition,yt.pts)||u.castOption(_t.textfont.lineposition,yt.pts)||it.lineposition,shadow:u.castOption(_t.outsidetextfont.shadow,yt.pts)||u.castOption(_t.textfont.shadow,yt.pts)||it.shadow}}(J,Fe,W.font):p(J,Fe,W.font));De.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Pe).call(i.convertToTspans,X);var Ue,We=b.bBox(De.node());if(ve==="outside")Ue=E(We,Fe);else if(Ue=g(We,Fe,$),ve==="auto"&&Ue.scale<1){var $e=f.ensureUniformFontSize(X,J.outsidetextfont);De.call(b.font,$e),Ue=E(We=b.bBox(De.node()),Fe)}var ot=Ue.textPosAngle,st=ot===void 0?Fe.pxmid:V($.r,ot);if(Ue.targetX=le+st[0]*Ue.rCenter+(Ue.x||0),Ue.targetY=oe+st[1]*Ue.rCenter+(Ue.y||0),j(Ue,We),Ue.outside){var mt=Ue.targetY;Fe.yLabelMin=mt-We.height/2,Fe.yLabelMid=mt,Fe.yLabelMax=mt+We.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,ue=!0}Ue.fontSize=Pe.size,n(J.type,Ue,W),Q[xe].transform=Ue,f.setTransormAndDisplay(De,Ue)})}function Ee(De,Pe,Ue,We){var $e=We*(Pe[0]-De[0]),ot=We*(Pe[1]-De[1]);return"a"+We*$.r+","+We*$.r+" 0 "+Fe.largeArc+(Ue?" 1 ":" 0 ")+$e+","+ot}});var he=T.select(this).selectAll("g.titletext").data(J.title.text?[0]:[]);if(he.enter().append("g").classed("titletext",!0),he.exit().remove(),he.each(function(){var Fe,xe=f.ensureSingle(T.select(this),"text","",function(oe){oe.attr("data-notex",1)}),le=J.title.text;J._meta&&(le=f.templateString(le,J._meta)),xe.text(le).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,J.title.font).call(i.convertToTspans,X),Fe=J.title.position==="middle center"?function(oe){var de=Math.sqrt(oe.titleBox.width*oe.titleBox.width+oe.titleBox.height*oe.titleBox.height);return{x:oe.cx,y:oe.cy,scale:oe.trace.hole*oe.r*2/de,tx:0,ty:-oe.titleBox.height/2+oe.trace.title.font.size}}($):P($,ie),xe.attr("transform",t(Fe.x,Fe.y)+s(Math.min(1,Fe.scale))+t(Fe.tx,Fe.ty))}),ue&&function(Fe,xe){var le,oe,de,Ce,_e,Ae,Le,ze,Re,ve,ke,Ee,De;function Pe(ot,st){return ot.pxmid[1]-st.pxmid[1]}function Ue(ot,st){return st.pxmid[1]-ot.pxmid[1]}function We(ot,st){st||(st={});var mt,_t,yt,it,tt=st.labelExtraY+(oe?st.yLabelMax:st.yLabelMin),Pt=oe?ot.yLabelMin:ot.yLabelMax,Rt=oe?ot.yLabelMax:ot.yLabelMin,Ft=ot.cyFinal+_e(ot.px0[1],ot.px1[1]),Ot=tt-Pt;if(Ot*Le>0&&(ot.labelExtraY=Ot),f.isArrayOrTypedArray(xe.pull))for(_t=0;_t<ve.length;_t++)(yt=ve[_t])===ot||(u.castOption(xe.pull,ot.pts)||0)>=(u.castOption(xe.pull,yt.pts)||0)||((ot.pxmid[1]-yt.pxmid[1])*Le>0?(Ot=yt.cyFinal+_e(yt.px0[1],yt.px1[1])-Pt-ot.labelExtraY)*Le>0&&(ot.labelExtraY+=Ot):(Rt+ot.labelExtraY-Ft)*Le>0&&(mt=3*Ae*Math.abs(_t-ve.indexOf(ot)),(it=yt.cxFinal+Ce(yt.px0[0],yt.px1[0])+mt-(ot.cxFinal+ot.pxmid[0])-ot.labelExtraX)*Ae>0&&(ot.labelExtraX+=it)))}for(oe=0;oe<2;oe++)for(de=oe?Pe:Ue,_e=oe?Math.max:Math.min,Le=oe?1:-1,le=0;le<2;le++){for(Ce=le?Math.max:Math.min,Ae=le?1:-1,(ze=Fe[oe][le]).sort(de),Re=Fe[1-oe][le],ve=Re.concat(ze),Ee=[],ke=0;ke<ze.length;ke++)ze[ke].yLabelMid!==void 0&&Ee.push(ze[ke]);for(De=!1,ke=0;oe&&ke<Re.length;ke++)if(Re[ke].yLabelMid!==void 0){De=Re[ke];break}for(ke=0;ke<Ee.length;ke++){var $e=ke&&Ee[ke-1];De&&!ke&&($e=De),We(Ee[ke],$e)}}}(se,J),function(Fe,xe){Fe.each(function(le){var oe=T.select(this);if(le.labelExtraX||le.labelExtraY){var de=oe.select("g.slicetext text");le.transform.targetX+=le.labelExtraX,le.transform.targetY+=le.labelExtraY,f.setTransormAndDisplay(de,le.transform);var Ce=le.cxFinal+le.pxmid[0],_e="M"+Ce+","+(le.cyFinal+le.pxmid[1]),Ae=(le.yLabelMax-le.yLabelMin)*(le.pxmid[0]<0?-1:1)/4;if(le.labelExtraX){var Le=le.labelExtraX*le.pxmid[1]/le.pxmid[0],ze=le.yLabelMid+le.labelExtraY-(le.cyFinal+le.pxmid[1]);Math.abs(Le)>Math.abs(ze)?_e+="l"+ze*le.pxmid[0]/le.pxmid[1]+","+ze+"H"+(Ce+le.labelExtraX+Ae):_e+="l"+le.labelExtraX+","+Le+"v"+(ze-Le)+"h"+Ae}else _e+="V"+(le.yLabelMid+le.labelExtraY)+"h"+Ae;f.ensureSingle(oe,"path","textline").call(_.stroke,xe.outsidetextfont.color).attr({"stroke-width":Math.min(2,xe.outsidetextfont.size/8),d:_e,fill:"none"})}else oe.select("path.textline").remove()})}(re,J),ue&&J.automargin){var pe=b.bBox(ne.node()),ge=J.domain,ye=ie.w*(ge.x[1]-ge.x[0]),be=ie.h*(ge.y[1]-ge.y[0]),Te=(.5*ye-$.r)/ie.w,Se=(.5*be-$.r)/ie.h;k.autoMargin(X,"pie."+J.uid+".automargin",{xl:ge.x[0]-Te,xr:ge.x[1]+Te,yb:ge.y[0]-Se,yt:ge.y[1]+Se,l:Math.max($.cx-$.r-pe.left,0),r:Math.max(pe.right-($.cx+$.r),0),b:Math.max(pe.bottom-($.cy+$.r),0),t:Math.max($.cy-$.r-pe.top,0),pad:5})}})});setTimeout(function(){te.selectAll("tspan").each(function(){var Q=T.select(this);Q.attr("dy")&&Q.attr("dy",Q.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:g,determineInsideTextFont:p,positionTitleOutside:P,prerenderTitles:v,layoutAreas:D,attachFxHandlers:x,computeTransform:j}},22152:function(U,C,e){var T=e(33428),k=e(10528),o=e(82744).resizeText;U.exports=function(_){var b=_._fullLayout._pielayer.selectAll(".trace");o(_,b,"pie"),b.each(function(f){var s=f[0].trace,t=T.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){T.select(this).call(k,i,s,_)})})}},10528:function(U,C,e){var T=e(76308),k=e(69656).castOption,o=e(21552);U.exports=function(_,b,f,s){var t=f.marker.line,i=k(t.color,b.pts)||T.defaultLine,r=k(t.width,b.pts)||0;_.call(o,b,f,s).style("stroke-width",r).call(T.stroke,i)}},35484:function(U,C,e){var T=e(52904);U.exports={x:T.x,y:T.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:T.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(U,C,e){var T=e(67792).gl_pointcloud2d,k=e(3400).isArrayOrTypedArray,o=e(43080),_=e(19280).findExtremes,b=e(44928);function f(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=T(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=f.prototype;s.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:k(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},s.updateFast=function(t){var i,r,n,a,l,u,h=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,x=this.pickXYData=t.xy,p=t.xbounds&&t.ybounds,v=t.indices,g=this.bounds;if(x){if(n=x,i=x.length>>>1,p)g[0]=t.xbounds[0],g[2]=t.xbounds[1],g[1]=t.ybounds[0],g[3]=t.ybounds[1];else for(u=0;u<i;u++)a=n[2*u],l=n[2*u+1],a<g[0]&&(g[0]=a),a>g[2]&&(g[2]=a),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);if(v)r=v;else for(r=new Int32Array(i),u=0;u<i;u++)r[u]=u}else for(i=h.length,n=new Float32Array(2*i),r=new Int32Array(i),u=0;u<i;u++)a=h[u],l=c[u],r[u]=u,n[2*u]=a,n[2*u+1]=l,a<g[0]&&(g[0]=a),a>g[2]&&(g[2]=a),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);this.idToIndex=r,this.pointcloudOptions.idToIndex=r,this.pointcloudOptions.positions=n;var y=o(t.marker.color),m=o(t.marker.border.color),w=t.opacity*t.marker.opacity;y[3]*=w,this.pointcloudOptions.color=y;var d=t.marker.blend;d===null&&(d=h.length<100||c.length<100),this.pointcloudOptions.blend=d,m[3]*=w,this.pointcloudOptions.borderColor=m;var S=t.marker.sizemin,A=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=A,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,P=this.scene.yaxis,O=A/2||.5;t._extremes[E._id]=_(E,[g[0],g[2]],{ppad:O}),t._extremes[P._id]=_(P,[g[1],g[3]],{ppad:O})},s.dispose=function(){this.pointcloud.dispose()},U.exports=function(t,i){var r=new f(t,i.uid);return r.update(i),r}},41904:function(U,C,e){var T=e(3400),k=e(35484);U.exports=function(o,_,b){function f(s,t){return T.coerce(o,_,k,s,t)}f("x"),f("y"),f("xbounds"),f("ybounds"),o.xy&&o.xy instanceof Float32Array&&(_.xy=o.xy),o.indices&&o.indices instanceof Int32Array&&(_.indices=o.indices),f("text"),f("marker.color",b),f("marker.opacity"),f("marker.blend"),f("marker.sizemin"),f("marker.sizemax"),f("marker.border.color",b),f("marker.border.arearatio"),_._length=null}},156:function(U,C,e){U.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(U,C,e){var T=e(25376),k=e(45464),o=e(22548),_=e(55756),b=e(86968).u,f=e(21776).Ks,s=e(49084),t=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,r=e(92880).extendFlat,n=e(67824).overrideAll;(U.exports=n({hoverinfo:r({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:_.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:T({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(U,C,e){var T=e(67824).overrideAll,k=e(84888)._M,o=e(59596),_=e(65460),b=e(93972),f=e(86476),s=e(22676).prepSelect,t=e(3400),i=e(24040),r="sankey";function n(a,l){var u=a._fullData[l],h=a._fullLayout,c=h.dragmode,x=h.dragmode==="pan"?"move":"crosshair",p=u._bgRect;if(p&&c!=="pan"&&c!=="zoom"){b(p,x);var v={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},g={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:a,element:p.node(),plotinfo:{id:l,xaxis:v,yaxis:g,fillRangeItems:t.noop},subplot:l,xaxes:[v],yaxes:[g],doneFnCompleted:function(m){var w,d=a._fullData[l],S=d.node.groups.slice(),A=[];function E(D){for(var V=d._sankey.graph.nodes,z=0;z<V.length;z++)if(V[z].pointNumber===D)return V[z]}for(var P=0;P<m.length;P++){var O=E(m[P].pointNumber);if(O)if(O.group){for(var I=0;I<O.childrenNodes.length;I++)A.push(O.childrenNodes[I].pointNumber);S[O.pointNumber-d.node._count]=!1}else A.push(O.pointNumber)}w=S.filter(Boolean).concat([A]),i.call("_guiRestyle",a,{"node.groups":[w]},l)},prepFn:function(m,w,d){s(m,w,d,y,c)}};f.init(y)}}C.name=r,C.baseLayoutAttrOverrides=T({hoverlabel:_.hoverlabel},"plot","nested"),C.plot=function(a){var l=k(a.calcdata,r)[0];o(a,l),C.updateFx(a)},C.clean=function(a,l,u,h){var c=h._has&&h._has(r),x=l._has&&l._has(r);c&&!x&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},C.updateFx=function(a){for(var l=0;l<a._fullData.length;l++)n(a,l)}},48068:function(U,C,e){var T=e(78484),k=e(3400),o=e(71688).wrap,_=k.isArrayOrTypedArray,b=k.isIndex,f=e(8932);U.exports=function(s,t){var i=function(r){var n,a=r.node,l=r.link,u=[],h=_(l.color),c=_(l.hovercolor),x=_(l.customdata),p={},v={},g=l.colorscales.length;for(n=0;n<g;n++){var y=l.colorscales[n],m=f.extractScale(y,{cLetter:"c"}),w=f.makeColorScaleFunc(m);v[y.label]=w}var d=0;for(n=0;n<l.value.length;n++)l.source[n]>d&&(d=l.source[n]),l.target[n]>d&&(d=l.target[n]);var S,A=d+1;r.node._count=A;var E=r.node.groups,P={};for(n=0;n<E.length;n++){var O=E[n];for(S=0;S<O.length;S++){var I=O[S],D=A+n;P.hasOwnProperty(I)?k.warn("Node "+I+" is already part of a group."):P[I]=D}}var V={source:[],target:[]};for(n=0;n<l.value.length;n++){var z=l.value[n],j=l.source[n],X=l.target[n];if(z>0&&b(j,A)&&b(X,A)&&(!P.hasOwnProperty(j)||!P.hasOwnProperty(X)||P[j]!==P[X])){P.hasOwnProperty(X)&&(X=P[X]),P.hasOwnProperty(j)&&(j=P[j]),X=+X,p[j=+j]=p[X]=!0;var F="";l.label&&l.label[n]&&(F=l.label[n]);var H=null;F&&v.hasOwnProperty(F)&&(H=v[F]),u.push({pointNumber:n,label:F,color:h?l.color[n]:l.color,hovercolor:c?l.hovercolor[n]:l.hovercolor,customdata:x?l.customdata[n]:l.customdata,concentrationscale:H,source:j,target:X,value:+z}),V.source.push(j),V.target.push(X)}}var W=A+E.length,ie=_(a.color),te=_(a.customdata),Q=[];for(n=0;n<W;n++)if(p[n]){var ne=a.label[n];Q.push({group:n>A-1,childrenNodes:[],pointNumber:n,label:ne,color:ie?a.color[n]:a.color,customdata:te?a.customdata[n]:a.customdata})}var $=!1;return function(J,re,se){for(var ue=k.init2dArray(J,0),he=0;he<Math.min(re.length,se.length);he++)if(k.isIndex(re[he],J)&&k.isIndex(se[he],J)){if(re[he]===se[he])return!0;ue[re[he]].push(se[he])}return T(ue).components.some(function(pe){return pe.length>1})}(W,V.source,V.target)&&($=!0),{circular:$,links:u,nodes:Q,groups:E,groupLookup:P}}(t);return o({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(U){U.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(U,C,e){var T=e(3400),k=e(41440),o=e(76308),_=e(49760),b=e(86968).Q,f=e(16132),s=e(31780),t=e(51272);function i(r,n){function a(l,u){return T.coerce(r,n,k.link.colorscales,l,u)}a("label"),a("cmin"),a("cmax"),a("colorscale")}U.exports=function(r,n,a,l){function u(E,P){return T.coerce(r,n,k,E,P)}var h=T.extendDeep(l.hoverlabel,r.hoverlabel),c=r.node,x=s.newContainer(n,"node");function p(E,P){return T.coerce(c,x,k.node,E,P)}p("label"),p("groups"),p("x"),p("y"),p("pad"),p("thickness"),p("line.color"),p("line.width"),p("hoverinfo",r.hoverinfo),f(c,x,p,h),p("hovertemplate"),p("align");var v=l.colorway;p("color",x.label.map(function(E,P){return o.addOpacity(function(O){return v[O%v.length]}(P),.8)})),p("customdata");var g=r.link||{},y=s.newContainer(n,"link");function m(E,P){return T.coerce(g,y,k.link,E,P)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",r.hoverinfo),f(g,y,m,h),m("hovertemplate");var w,d=_(l.paper_bgcolor).getLuminance()<.333,S=m("color",d?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function A(E){var P=_(E);if(!P.isValid())return E;var O=P.getAlpha();return O<=.8?P.setAlpha(O+.2):P=d?P.brighten():P.darken(),P.toRgbString()}m("hovercolor",Array.isArray(S)?S.map(A):A(S)),m("customdata"),t(g,y,{name:"colorscales",handleItemDefaults:i}),b(n,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),x.x.length&&x.y.length&&(w="freeform"),u("arrangement",w),T.coerceFont(u,"textfont",l.font,{autoShadowDflt:!0}),n._length=null}},45499:function(U,C,e){U.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(U,C,e){var T=e(33428),k=e(3400),o=k.numberFormat,_=e(83248),b=e(93024),f=e(76308),s=e(11820).cn,t=k._;function i(g){return g!==""}function r(g,y){return g.filter(function(m){return m.key===y.traceId})}function n(g,y){T.select(g).select("path").style("fill-opacity",y),T.select(g).select("rect").style("fill-opacity",y)}function a(g){T.select(g).select("text.name").style("fill","black")}function l(g){return function(y){return g.node.sourceLinks.indexOf(y.link)!==-1||g.node.targetLinks.indexOf(y.link)!==-1}}function u(g){return function(y){return y.node.sourceLinks.indexOf(g.link)!==-1||y.node.targetLinks.indexOf(g.link)!==-1}}function h(g,y,m){y&&m&&r(m,y).selectAll("."+s.sankeyLink).filter(l(y)).call(x.bind(0,y,m,!1))}function c(g,y,m){y&&m&&r(m,y).selectAll("."+s.sankeyLink).filter(l(y)).call(p.bind(0,y,m,!1))}function x(g,y,m,w){w.style("fill",function(d){if(!d.link.concentrationscale)return d.tinyColorHoverHue}).style("fill-opacity",function(d){if(!d.link.concentrationscale)return d.tinyColorHoverAlpha}),w.each(function(d){var S=d.link.label;S!==""&&r(y,g).selectAll("."+s.sankeyLink).filter(function(A){return A.link.label===S}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),m&&r(y,g).selectAll("."+s.sankeyNode).filter(u(g)).call(h)}function p(g,y,m,w){w.style("fill",function(d){return d.tinyColorHue}).style("fill-opacity",function(d){return d.tinyColorAlpha}),w.each(function(d){var S=d.link.label;S!==""&&r(y,g).selectAll("."+s.sankeyLink).filter(function(A){return A.link.label===S}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),m&&r(y,g).selectAll(s.sankeyNode).filter(u(g)).call(c)}function v(g,y){var m=g.hoverlabel||{},w=k.nestedProperty(m,y).get();return!Array.isArray(w)&&w}U.exports=function(g,y){for(var m=g._fullLayout,w=m._paper,d=m._size,S=0;S<g._fullData.length;S++)if(g._fullData[S].visible&&g._fullData[S].type===s.sankey&&!g._fullData[S]._viewInitial){var A=g._fullData[S].node;g._fullData[S]._viewInitial={node:{groups:A.groups.slice(),x:A.x.slice(),y:A.y.slice()}}}var E=t(g,"source:")+" ",P=t(g,"target:")+" ",O=t(g,"concentration:")+" ",I=t(g,"incoming flow count:")+" ",D=t(g,"outgoing flow count:")+" ";_(g,w,y,{width:d.w,height:d.h,margin:{t:d.t,r:d.r,b:d.b,l:d.l}},{linkEvents:{hover:function(V,z,j){g._fullLayout.hovermode!==!1&&(T.select(V).call(x.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,g.emit("plotly_hover",{event:T.event,points:[z.link]})))},follow:function(V,z){if(g._fullLayout.hovermode!==!1){var j=z.link.trace.link;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){for(var X=[],F=0,H=0;H<z.flow.links.length;H++){var W=z.flow.links[H];if(g._fullLayout.hovermode!=="closest"||z.link.pointNumber===W.pointNumber){z.link.pointNumber===W.pointNumber&&(F=H),W.fullData=W.trace,j=z.link.trace.link;var ie=Q(W),te={valueLabel:o(z.valueFormat)(W.value)+z.valueSuffix};X.push({x:ie[0],y:ie[1],name:te.valueLabel,text:[W.label||"",E+W.source.label,P+W.target.label,W.concentrationscale?O+o("%0.2f")(W.flow.labelConcentration):""].filter(i).join("<br>"),color:v(j,"bgcolor")||f.addOpacity(W.color,1),borderColor:v(j,"bordercolor"),fontFamily:v(j,"font.family"),fontSize:v(j,"font.size"),fontColor:v(j,"font.color"),fontWeight:v(j,"font.weight"),fontStyle:v(j,"font.style"),fontVariant:v(j,"font.variant"),fontTextcase:v(j,"font.textcase"),fontLineposition:v(j,"font.lineposition"),fontShadow:v(j,"font.shadow"),nameLength:v(j,"namelength"),textAlign:v(j,"align"),idealAlign:T.event.x<ie[0]?"right":"left",hovertemplate:j.hovertemplate,hovertemplateLabels:te,eventData:[W]})}}b.loneHover(X,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:g,anchorIndex:F}).each(function(){z.link.concentrationscale||n(this,.65),a(this)})}}function Q(ne){var $,J;ne.circular?($=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,J=ne.circularPathData.verticalFullExtent):($=(ne.source.x1+ne.target.x0)/2,J=(ne.y0+ne.y1)/2);var re=[$,J];return ne.trace.orientation==="v"&&re.reverse(),re[0]+=z.parent.translateX,re[1]+=z.parent.translateY,re}},unhover:function(V,z,j){g._fullLayout.hovermode!==!1&&(T.select(V).call(p.bind(0,z,j,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,g.emit("plotly_unhover",{event:T.event,points:[z.link]})),b.loneUnhover(m._hoverlayer.node()))},select:function(V,z){var j=z.link;j.originalEvent=T.event,g._hoverdata=[j],b.click(g,{target:!0})}},nodeEvents:{hover:function(V,z,j){g._fullLayout.hovermode!==!1&&(T.select(V).call(h,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,g.emit("plotly_hover",{event:T.event,points:[z.node]})))},follow:function(V,z){if(g._fullLayout.hovermode!==!1){var j=z.node.trace.node;if(j.hoverinfo!=="none"&&j.hoverinfo!=="skip"){var X=T.select(V).select("."+s.nodeRect),F=g._fullLayout._paperdiv.node().getBoundingClientRect(),H=X.node().getBoundingClientRect(),W=H.left-2-F.left,ie=H.right+2-F.left,te=H.top+H.height/4-F.top,Q={valueLabel:o(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,g._fullLayout._calcInverseTransform(g);var ne=g._fullLayout._invScaleX,$=g._fullLayout._invScaleY,J=b.loneHover({x0:ne*W,x1:ne*ie,y:$*te,name:o(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,I+z.node.targetLinks.length,D+z.node.sourceLinks.length].filter(i).join("<br>"),color:v(j,"bgcolor")||z.tinyColorHue,borderColor:v(j,"bordercolor"),fontFamily:v(j,"font.family"),fontSize:v(j,"font.size"),fontColor:v(j,"font.color"),fontWeight:v(j,"font.weight"),fontStyle:v(j,"font.style"),fontVariant:v(j,"font.variant"),fontTextcase:v(j,"font.textcase"),fontLineposition:v(j,"font.lineposition"),fontShadow:v(j,"font.shadow"),nameLength:v(j,"namelength"),textAlign:v(j,"align"),idealAlign:"left",hovertemplate:j.hovertemplate,hovertemplateLabels:Q,eventData:[z.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:g});n(J,.85),a(J)}}},unhover:function(V,z,j){g._fullLayout.hovermode!==!1&&(T.select(V).call(c,z,j),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,g.emit("plotly_unhover",{event:T.event,points:[z.node]})),b.loneUnhover(m._hoverlayer.node()))},select:function(V,z,j){var X=z.node;X.originalEvent=T.event,g._hoverdata=[X],T.select(V).call(c,z,j),b.click(g,{target:!0})}}})}},83248:function(U,C,e){var T=e(49812),k=e(67756).Gz,o=e(33428),_=e(26800),b=e(48932),f=e(11820),s=e(49760),t=e(76308),i=e(43616),r=e(3400),n=r.strTranslate,a=r.strRotate,l=e(71688),u=l.keyFun,h=l.repeat,c=l.unwrap,x=e(72736),p=e(24040),v=e(84284),g=v.CAP_SHIFT,y=v.LINE_SPACING;function m(H,W,ie){var te,Q=c(W),ne=Q.trace,$=ne.domain,J=ne.orientation==="h",re=ne.node.pad,se=ne.node.thickness,ue={justify:_.sankeyJustify,left:_.sankeyLeft,right:_.sankeyRight,center:_.sankeyCenter}[ne.node.align],he=H.width*($.x[1]-$.x[0]),pe=H.height*($.y[1]-$.y[0]),ge=Q._nodes,ye=Q._links,be=Q.circular;(te=be?b.sankeyCircular().circularLinkGap(0):_.sankey()).iterations(f.sankeyIterations).size(J?[he,pe]:[pe,he]).nodeWidth(se).nodePadding(re).nodeId(function(Le){return Le.pointNumber}).nodeAlign(ue).nodes(ge).links(ye);var Te,Se,Fe,xe=te();for(var le in te.nodePadding()<re&&r.warn("node.pad was reduced to ",te.nodePadding()," to fit within the figure."),Q._groupLookup){var oe,de=parseInt(Q._groupLookup[le]);for(Te=0;Te<xe.nodes.length;Te++)if(xe.nodes[Te].pointNumber===de){oe=xe.nodes[Te];break}if(oe){var Ce={pointNumber:parseInt(le),x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};xe.nodes.unshift(Ce),oe.childrenNodes.unshift(Ce)}}if(function(){for(Te=0;Te<xe.nodes.length;Te++){var Le,ze,Re=xe.nodes[Te],ve={};for(Se=0;Se<Re.targetLinks.length;Se++)Le=(ze=Re.targetLinks[Se]).source.pointNumber+":"+ze.target.pointNumber,ve.hasOwnProperty(Le)||(ve[Le]=[]),ve[Le].push(ze);var ke=Object.keys(ve);for(Se=0;Se<ke.length;Se++){var Ee=ve[Le=ke[Se]],De=0,Pe={};for(Fe=0;Fe<Ee.length;Fe++)Pe[(ze=Ee[Fe]).label]||(Pe[ze.label]=0),Pe[ze.label]+=ze.value,De+=ze.value;for(Fe=0;Fe<Ee.length;Fe++)(ze=Ee[Fe]).flow={value:De,labelConcentration:Pe[ze.label]/De,concentration:ze.value/De,links:Ee},ze.concentrationscale&&(ze.color=s(ze.concentrationscale(ze.flow.labelConcentration)))}var Ue=0;for(Se=0;Se<Re.sourceLinks.length;Se++)Ue+=Re.sourceLinks[Se].value;for(Se=0;Se<Re.sourceLinks.length;Se++)(ze=Re.sourceLinks[Se]).concentrationOut=ze.value/Ue;var We=0;for(Se=0;Se<Re.targetLinks.length;Se++)We+=Re.targetLinks[Se].value;for(Se=0;Se<Re.targetLinks.length;Se++)(ze=Re.targetLinks[Se]).concenrationIn=ze.value/We}}(),ne.node.x.length&&ne.node.y.length){for(Te=0;Te<Math.min(ne.node.x.length,ne.node.y.length,xe.nodes.length);Te++)if(ne.node.x[Te]&&ne.node.y[Te]){var _e=[ne.node.x[Te]*he,ne.node.y[Te]*pe];xe.nodes[Te].x0=_e[0]-se/2,xe.nodes[Te].x1=_e[0]+se/2;var Ae=xe.nodes[Te].y1-xe.nodes[Te].y0;xe.nodes[Te].y0=_e[1]-Ae/2,xe.nodes[Te].y1=_e[1]+Ae/2}ne.arrangement==="snap"&&function(Le){var ze,Re,ve=Le.map(function(Ue,We){return{x0:Ue.x0,index:We}}).sort(function(Ue,We){return Ue.x0-We.x0}),ke=[],Ee=-1,De=-1/0;for(Te=0;Te<ve.length;Te++){var Pe=Le[ve[Te].index];Pe.x0>De+se&&(Ee+=1,ze=Pe.x0),De=Pe.x0,ke[Ee]||(ke[Ee]=[]),ke[Ee].push(Pe),Re=ze-Pe.x0,Pe.x0+=Re,Pe.x1+=Re}return ke}(ge=xe.nodes).forEach(function(Le){var ze,Re,ve,ke=0,Ee=Le.length;for(Le.sort(function(De,Pe){return De.y0-Pe.y0}),ve=0;ve<Ee;++ve)(ze=Le[ve]).y0>=ke||(Re=ke-ze.y0)>1e-6&&(ze.y0+=Re,ze.y1+=Re),ke=ze.y1+re}),te.update(xe)}return{circular:be,key:ie,trace:ne,guid:r.randstr(),horizontal:J,width:he,height:pe,nodePad:ne.node.pad,nodeLineColor:ne.node.line.color,nodeLineWidth:ne.node.line.width,linkLineColor:ne.link.line.color,linkLineWidth:ne.link.line.width,linkArrowLength:ne.link.arrowlen,valueFormat:ne.valueformat,valueSuffix:ne.valuesuffix,textFont:ne.textfont,translateX:$.x[0]*H.width+H.margin.l,translateY:H.height-$.y[1]*H.height+H.margin.t,dragParallel:J?pe:he,dragPerpendicular:J?he:pe,arrangement:ne.arrangement,sankey:te,graph:xe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function w(H,W,ie){var te=s(W.color),Q=s(W.hovercolor),ne=W.source.label+"|"+W.target.label+"__"+ie;return W.trace=H.trace,W.curveNumber=H.trace.index,{circular:H.circular,key:ne,traceId:H.key,pointNumber:W.pointNumber,link:W,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),tinyColorHoverHue:t.tinyRGB(Q),tinyColorHoverAlpha:Q.getAlpha(),linkPath:d,linkLineColor:H.linkLineColor,linkLineWidth:H.linkLineWidth,linkArrowLength:H.linkArrowLength,valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,parent:H,interactionState:H.interactionState,flow:W.flow}}function d(){return function(H){var W=H.linkArrowLength;if(H.link.circular)return function(Te,Se){var Fe=Te.width/2,xe=Te.circularPathData;return Te.circularLinkType==="top"?"M "+(xe.targetX-Se)+" "+(xe.targetY+Fe)+" L"+(xe.rightInnerExtent-Se)+" "+(xe.targetY+Fe)+"A"+(xe.rightLargeArcRadius+Fe)+" "+(xe.rightSmallArcRadius+Fe)+" 0 0 1 "+(xe.rightFullExtent-Fe-Se)+" "+(xe.targetY-xe.rightSmallArcRadius)+"L"+(xe.rightFullExtent-Fe-Se)+" "+xe.verticalRightInnerExtent+"A"+(xe.rightLargeArcRadius+Fe)+" "+(xe.rightLargeArcRadius+Fe)+" 0 0 1 "+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent-Fe)+"L"+xe.leftInnerExtent+" "+(xe.verticalFullExtent-Fe)+"A"+(xe.leftLargeArcRadius+Fe)+" "+(xe.leftLargeArcRadius+Fe)+" 0 0 1 "+(xe.leftFullExtent+Fe)+" "+xe.verticalLeftInnerExtent+"L"+(xe.leftFullExtent+Fe)+" "+(xe.sourceY-xe.leftSmallArcRadius)+"A"+(xe.leftLargeArcRadius+Fe)+" "+(xe.leftSmallArcRadius+Fe)+" 0 0 1 "+xe.leftInnerExtent+" "+(xe.sourceY+Fe)+"L"+xe.sourceX+" "+(xe.sourceY+Fe)+"L"+xe.sourceX+" "+(xe.sourceY-Fe)+"L"+xe.leftInnerExtent+" "+(xe.sourceY-Fe)+"A"+(xe.leftLargeArcRadius-Fe)+" "+(xe.leftSmallArcRadius-Fe)+" 0 0 0 "+(xe.leftFullExtent-Fe)+" "+(xe.sourceY-xe.leftSmallArcRadius)+"L"+(xe.leftFullExtent-Fe)+" "+xe.verticalLeftInnerExtent+"A"+(xe.leftLargeArcRadius-Fe)+" "+(xe.leftLargeArcRadius-Fe)+" 0 0 0 "+xe.leftInnerExtent+" "+(xe.verticalFullExtent+Fe)+"L"+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent+Fe)+"A"+(xe.rightLargeArcRadius-Fe)+" "+(xe.rightLargeArcRadius-Fe)+" 0 0 0 "+(xe.rightFullExtent+Fe-Se)+" "+xe.verticalRightInnerExtent+"L"+(xe.rightFullExtent+Fe-Se)+" "+(xe.targetY-xe.rightSmallArcRadius)+"A"+(xe.rightLargeArcRadius-Fe)+" "+(xe.rightSmallArcRadius-Fe)+" 0 0 0 "+(xe.rightInnerExtent-Se)+" "+(xe.targetY-Fe)+"L"+(xe.targetX-Se)+" "+(xe.targetY-Fe)+(Se>0?"L"+xe.targetX+" "+xe.targetY:"")+"Z":"M "+(xe.targetX-Se)+" "+(xe.targetY-Fe)+" L"+(xe.rightInnerExtent-Se)+" "+(xe.targetY-Fe)+"A"+(xe.rightLargeArcRadius+Fe)+" "+(xe.rightSmallArcRadius+Fe)+" 0 0 0 "+(xe.rightFullExtent-Fe-Se)+" "+(xe.targetY+xe.rightSmallArcRadius)+"L"+(xe.rightFullExtent-Fe-Se)+" "+xe.verticalRightInnerExtent+"A"+(xe.rightLargeArcRadius+Fe)+" "+(xe.rightLargeArcRadius+Fe)+" 0 0 0 "+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent+Fe)+"L"+xe.leftInnerExtent+" "+(xe.verticalFullExtent+Fe)+"A"+(xe.leftLargeArcRadius+Fe)+" "+(xe.leftLargeArcRadius+Fe)+" 0 0 0 "+(xe.leftFullExtent+Fe)+" "+xe.verticalLeftInnerExtent+"L"+(xe.leftFullExtent+Fe)+" "+(xe.sourceY+xe.leftSmallArcRadius)+"A"+(xe.leftLargeArcRadius+Fe)+" "+(xe.leftSmallArcRadius+Fe)+" 0 0 0 "+xe.leftInnerExtent+" "+(xe.sourceY-Fe)+"L"+xe.sourceX+" "+(xe.sourceY-Fe)+"L"+xe.sourceX+" "+(xe.sourceY+Fe)+"L"+xe.leftInnerExtent+" "+(xe.sourceY+Fe)+"A"+(xe.leftLargeArcRadius-Fe)+" "+(xe.leftSmallArcRadius-Fe)+" 0 0 1 "+(xe.leftFullExtent-Fe)+" "+(xe.sourceY+xe.leftSmallArcRadius)+"L"+(xe.leftFullExtent-Fe)+" "+xe.verticalLeftInnerExtent+"A"+(xe.leftLargeArcRadius-Fe)+" "+(xe.leftLargeArcRadius-Fe)+" 0 0 1 "+xe.leftInnerExtent+" "+(xe.verticalFullExtent-Fe)+"L"+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent-Fe)+"A"+(xe.rightLargeArcRadius-Fe)+" "+(xe.rightLargeArcRadius-Fe)+" 0 0 1 "+(xe.rightFullExtent+Fe-Se)+" "+xe.verticalRightInnerExtent+"L"+(xe.rightFullExtent+Fe-Se)+" "+(xe.targetY+xe.rightSmallArcRadius)+"A"+(xe.rightLargeArcRadius-Fe)+" "+(xe.rightSmallArcRadius-Fe)+" 0 0 1 "+(xe.rightInnerExtent-Se)+" "+(xe.targetY+Fe)+"L"+(xe.targetX-Se)+" "+(xe.targetY+Fe)+(Se>0?"L"+xe.targetX+" "+xe.targetY:"")+"Z"}(H.link,W);var ie=Math.abs((H.link.target.x0-H.link.source.x1)/2);W>ie&&(W=ie);var te=H.link.source.x1,Q=H.link.target.x0-W,ne=k(te,Q),$=ne(.5),J=ne(.5),re=H.link.y0-H.link.width/2,se=H.link.y0+H.link.width/2,ue=H.link.y1-H.link.width/2,he=H.link.y1+H.link.width/2,pe="M"+te+","+re,ge="C"+$+","+re+" "+J+","+ue+" "+Q+","+ue,ye="C"+J+","+he+" "+$+","+se+" "+te+","+se,be=W>0?"L"+(Q+W)+","+(ue+H.link.width/2):"";return pe+ge+(be+="L"+Q+","+he)+ye+"Z"}}function S(H,W){var ie=s(W.color),te=f.nodePadAcross,Q=H.nodePad/2;W.dx=W.x1-W.x0,W.dy=W.y1-W.y0;var ne=W.dx,$=Math.max(.5,W.dy),J="node_"+W.pointNumber;return W.group&&(J=r.randstr()),W.trace=H.trace,W.curveNumber=H.trace.index,{index:W.pointNumber,key:J,partOfGroup:W.partOfGroup||!1,group:W.group,traceId:H.key,trace:H.trace,node:W,nodePad:H.nodePad,nodeLineColor:H.nodeLineColor,nodeLineWidth:H.nodeLineWidth,textFont:H.textFont,size:H.horizontal?H.height:H.width,visibleWidth:Math.ceil(ne),visibleHeight:$,zoneX:-te,zoneY:-Q,zoneWidth:ne+2*te,zoneHeight:$+2*Q,labelY:H.horizontal?W.dy/2+1:W.dx/2+1,left:W.originalLayer===1,sizeAcross:H.width,forceLayouts:H.forceLayouts,horizontal:H.horizontal,darkBackground:ie.getBrightness()<=128,tinyColorHue:t.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,graph:H.graph,arrangement:H.arrangement,uniqueNodeLabelPathId:[H.guid,H.key,J].join("_"),interactionState:H.interactionState,figure:H}}function A(H){H.attr("transform",function(W){return n(W.node.x0.toFixed(3),W.node.y0.toFixed(3))})}function E(H){H.call(A)}function P(H,W){H.call(E),W.attr("d",d())}function O(H){H.attr("width",function(W){return W.node.x1-W.node.x0}).attr("height",function(W){return W.visibleHeight})}function I(H){return H.link.width>1||H.linkLineWidth>0}function D(H){return n(H.translateX,H.translateY)+(H.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function V(H,W,ie){H.on(".basic",null).on("mouseover.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ie.hover(this,te,W),te.interactionState.hovered=[this,te])}).on("mousemove.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ie.follow(this,te),te.interactionState.hovered=[this,te])}).on("mouseout.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(ie.unhover(this,te,W),te.interactionState.hovered=!1)}).on("click.basic",function(te){te.interactionState.hovered&&(ie.unhover(this,te,W),te.interactionState.hovered=!1),te.interactionState.dragInProgress||te.partOfGroup||ie.select(this,te,W)})}function z(H,W,ie,te){var Q=o.behavior.drag().origin(function(ne){return{x:ne.node.x0+ne.visibleWidth/2,y:ne.node.y0+ne.visibleHeight/2}}).on("dragstart",function(ne){if(ne.arrangement!=="fixed"&&(r.ensureSingle(te._fullLayout._infolayer,"g","dragcover",function(J){te._fullLayout._dragCover=J}),r.raiseToTop(this),ne.interactionState.dragInProgress=ne.node,X(ne.node),ne.interactionState.hovered&&(ie.nodeEvents.unhover.apply(0,ne.interactionState.hovered),ne.interactionState.hovered=!1),ne.arrangement==="snap")){var $=ne.traceId+"|"+ne.key;ne.forceLayouts[$]?ne.forceLayouts[$].alpha(1):function(J,re,se,ue){(function(pe){for(var ge=0;ge<pe.length;ge++)pe[ge].y=(pe[ge].y0+pe[ge].y1)/2,pe[ge].x=(pe[ge].x0+pe[ge].x1)/2})(se.graph.nodes);var he=se.graph.nodes.filter(function(pe){return pe.originalX===se.node.originalX}).filter(function(pe){return!pe.partOfGroup});se.forceLayouts[re]=T.forceSimulation(he).alphaDecay(0).force("collide",T.forceCollide().radius(function(pe){return pe.dy/2+se.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",function(pe,ge,ye,be){return function(){for(var Te=0,Se=0;Se<ye.length;Se++){var Fe=ye[Se];Fe===be.interactionState.dragInProgress?(Fe.x=Fe.lastDraggedX,Fe.y=Fe.lastDraggedY):(Fe.vx=(Fe.originalX-Fe.x)/f.forceTicksPerFrame,Fe.y=Math.min(be.size-Fe.dy/2,Math.max(Fe.dy/2,Fe.y))),Te=Math.max(Te,Math.abs(Fe.vx),Math.abs(Fe.vy))}!be.interactionState.dragInProgress&&Te<.1&&be.forceLayouts[ge].alpha()>0&&be.forceLayouts[ge].alpha(0)}}(0,re,he,se)).stop()}(0,$,ne),function(J,re,se,ue,he){window.requestAnimationFrame(function pe(){var ge;for(ge=0;ge<f.forceTicksPerFrame;ge++)se.forceLayouts[ue].tick();if(function(be){for(var Te=0;Te<be.length;Te++)be[Te].y0=be[Te].y-be[Te].dy/2,be[Te].y1=be[Te].y0+be[Te].dy,be[Te].x0=be[Te].x-be[Te].dx/2,be[Te].x1=be[Te].x0+be[Te].dx}(se.graph.nodes),se.sankey.update(se.graph),P(J.filter(F(se)),re),se.forceLayouts[ue].alpha()>0)window.requestAnimationFrame(pe);else{var ye=se.node.originalX;se.node.x0=ye-se.visibleWidth/2,se.node.x1=ye+se.visibleWidth/2,j(se,he)}})}(H,W,ne,$,te)}}).on("drag",function(ne){if(ne.arrangement!=="fixed"){var $=o.event.x,J=o.event.y;ne.arrangement==="snap"?(ne.node.x0=$-ne.visibleWidth/2,ne.node.x1=$+ne.visibleWidth/2,ne.node.y0=J-ne.visibleHeight/2,ne.node.y1=J+ne.visibleHeight/2):(ne.arrangement==="freeform"&&(ne.node.x0=$-ne.visibleWidth/2,ne.node.x1=$+ne.visibleWidth/2),J=Math.max(0,Math.min(ne.size-ne.visibleHeight/2,J)),ne.node.y0=J-ne.visibleHeight/2,ne.node.y1=J+ne.visibleHeight/2),X(ne.node),ne.arrangement!=="snap"&&(ne.sankey.update(ne.graph),P(H.filter(F(ne)),W))}}).on("dragend",function(ne){if(ne.arrangement!=="fixed"){ne.interactionState.dragInProgress=!1;for(var $=0;$<ne.node.childrenNodes.length;$++)ne.node.childrenNodes[$].x=ne.node.x,ne.node.childrenNodes[$].y=ne.node.y;ne.arrangement!=="snap"&&j(ne,te)}});H.on(".drag",null).call(Q)}function j(H,W){for(var ie=[],te=[],Q=0;Q<H.graph.nodes.length;Q++){var ne=(H.graph.nodes[Q].x0+H.graph.nodes[Q].x1)/2,$=(H.graph.nodes[Q].y0+H.graph.nodes[Q].y1)/2;ie.push(ne/H.figure.width),te.push($/H.figure.height)}p.call("_guiRestyle",W,{"node.x":[ie],"node.y":[te]},H.trace.index).then(function(){W._fullLayout._dragCover&&W._fullLayout._dragCover.remove()})}function X(H){H.lastDraggedX=H.x0+H.dx/2,H.lastDraggedY=H.y0+H.dy/2}function F(H){return function(W){return W.node.originalX===H.node.originalX}}U.exports=function(H,W,ie,te,Q){var ne=H._context.staticPlot,$=!1;r.ensureSingle(H._fullLayout._infolayer,"g","first-render",function(){$=!0});var J=H._fullLayout._dragCover,re=ie.filter(function(Te){return c(Te).trace.visible}).map(m.bind(null,te)),se=W.selectAll("."+f.cn.sankey).data(re,u);se.exit().remove(),se.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ne?"none":"auto").attr("transform",D),se.each(function(Te,Se){H._fullData[Se]._sankey=Te;var Fe="bgsankey-"+Te.trace.uid+"-"+Se;r.ensureSingle(H._fullLayout._draggers,"rect",Fe),H._fullData[Se]._bgRect=o.select("."+Fe),H._fullData[Se]._bgRect.style("pointer-events",ne?"none":"all").attr("width",Te.width).attr("height",Te.height).attr("x",Te.translateX).attr("y",Te.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),se.transition().ease(f.ease).duration(f.duration).attr("transform",D);var ue=se.selectAll("."+f.cn.sankeyLinks).data(h,u);ue.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var he=ue.selectAll("."+f.cn.sankeyLink).data(function(Te){return Te.graph.links.filter(function(Se){return Se.value}).map(w.bind(null,Te))},u);he.enter().append("path").classed(f.cn.sankeyLink,!0).call(V,se,Q.linkEvents),he.style("stroke",function(Te){return I(Te)?t.tinyRGB(s(Te.linkLineColor)):Te.tinyColorHue}).style("stroke-opacity",function(Te){return I(Te)?t.opacity(Te.linkLineColor):Te.tinyColorAlpha}).style("fill",function(Te){return Te.tinyColorHue}).style("fill-opacity",function(Te){return Te.tinyColorAlpha}).style("stroke-width",function(Te){return I(Te)?Te.linkLineWidth:1}).attr("d",d()),he.style("opacity",function(){return H._context.staticPlot||$||J?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),he.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var pe=se.selectAll("."+f.cn.sankeyNodeSet).data(h,u);pe.enter().append("g").classed(f.cn.sankeyNodeSet,!0),pe.style("cursor",function(Te){switch(Te.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ge=pe.selectAll("."+f.cn.sankeyNode).data(function(Te){var Se=Te.graph.nodes;return function(Fe){var xe,le=[];for(xe=0;xe<Fe.length;xe++)Fe[xe].originalX=(Fe[xe].x0+Fe[xe].x1)/2,Fe[xe].originalY=(Fe[xe].y0+Fe[xe].y1)/2,le.indexOf(Fe[xe].originalX)===-1&&le.push(Fe[xe].originalX);for(le.sort(function(oe,de){return oe-de}),xe=0;xe<Fe.length;xe++)Fe[xe].originalLayerIndex=le.indexOf(Fe[xe].originalX),Fe[xe].originalLayer=Fe[xe].originalLayerIndex/(le.length-1)}(Se),Se.map(S.bind(null,Te))},u);ge.enter().append("g").classed(f.cn.sankeyNode,!0).call(A).style("opacity",function(Te){return!H._context.staticPlot&&!$||Te.partOfGroup?0:1}),ge.call(V,se,Q.nodeEvents).call(z,he,Q,H),ge.transition().ease(f.ease).duration(f.duration).call(A).style("opacity",function(Te){return Te.partOfGroup?0:1}),ge.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var ye=ge.selectAll("."+f.cn.nodeRect).data(h);ye.enter().append("rect").classed(f.cn.nodeRect,!0).call(O),ye.style("stroke-width",function(Te){return Te.nodeLineWidth}).style("stroke",function(Te){return t.tinyRGB(s(Te.nodeLineColor))}).style("stroke-opacity",function(Te){return t.opacity(Te.nodeLineColor)}).style("fill",function(Te){return Te.tinyColorHue}).style("fill-opacity",function(Te){return Te.tinyColorAlpha}),ye.transition().ease(f.ease).duration(f.duration).call(O);var be=ge.selectAll("."+f.cn.nodeLabel).data(h);be.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Te){return Te.node.label}).each(function(Te){var Se=o.select(this);i.font(Se,Te.textFont),x.convertToTspans(Se,H)}).attr("text-anchor",function(Te){return Te.horizontal&&Te.left?"end":"start"}).attr("transform",function(Te){var Se=o.select(this),Fe=x.lineCount(Se),xe=Te.textFont.size*((Fe-1)*y-g),le=Te.nodeLineWidth/2+3,oe=((Te.horizontal?Te.visibleHeight:Te.visibleWidth)-xe)/2;Te.horizontal&&(Te.left?le=-le:le+=Te.visibleWidth);var de=Te.horizontal?"":"scale(-1,1)"+a(90);return n(Te.horizontal?le:oe,Te.horizontal?oe:le)+de}),be.transition().ease(f.ease).duration(f.duration)}},81128:function(U){U.exports=function(C,e){for(var T=[],k=C.cd[0].trace,o=k._sankey.graph.nodes,_=0;_<o.length;_++){var b=o[_];if(!b.partOfGroup){var f=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];k.orientation==="v"&&f.reverse(),e&&e.contains(f,!1,_,C)&&T.push({pointNumber:b.pointNumber})}}return T}},20148:function(U,C,e){var T=e(3400);U.exports=function(k,o){for(var _=0;_<k.length;_++)k[_].i=_;T.mergeArray(o.text,k,"tx"),T.mergeArray(o.texttemplate,k,"txt"),T.mergeArray(o.hovertext,k,"htx"),T.mergeArray(o.customdata,k,"data"),T.mergeArray(o.textposition,k,"tp"),o.textfont&&(T.mergeArrayCastPositive(o.textfont.size,k,"ts"),T.mergeArray(o.textfont.color,k,"tc"),T.mergeArray(o.textfont.family,k,"tf"),T.mergeArray(o.textfont.weight,k,"tw"),T.mergeArray(o.textfont.style,k,"ty"),T.mergeArray(o.textfont.variant,k,"tv"),T.mergeArray(o.textfont.textcase,k,"tC"),T.mergeArray(o.textfont.lineposition,k,"tE"),T.mergeArray(o.textfont.shadow,k,"tS"));var b=o.marker;if(b){T.mergeArrayCastPositive(b.size,k,"ms"),T.mergeArrayCastPositive(b.opacity,k,"mo"),T.mergeArray(b.symbol,k,"mx"),T.mergeArray(b.angle,k,"ma"),T.mergeArray(b.standoff,k,"mf"),T.mergeArray(b.color,k,"mc");var f=b.line;b.line&&(T.mergeArray(f.color,k,"mlc"),T.mergeArrayCastPositive(f.width,k,"mlw"));var s=b.gradient;s&&s.type!=="none"&&(T.mergeArray(s.type,k,"mgt"),T.mergeArray(s.color,k,"mgc"))}}},52904:function(U,C,e){var T=e(29736).axisHoverFormat,k=e(21776).Gw,o=e(21776).Ks,_=e(49084),b=e(25376),f=e(98192).u,s=e(98192).c,t=e(43616),i=e(88200),r=e(92880).extendFlat,n=e(98304);U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:T("x"),yhoverformat:T("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:r({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},_("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},_("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(U,C,e){var T=e(38248),k=e(3400),o=e(54460),_=e(1220),b=e(39032).BADNUM,f=e(43028),s=e(90136),t=e(20148),i=e(4500);function r(h,c,x,p,v,g,y){var m=c._length,w=h._fullLayout,d=x._id,S=p._id,A=w._firstScatter[l(c)]===c.uid,E=(u(c,w,x,p)||{}).orientation,P=c.fill;x._minDtick=0,p._minDtick=0;var O={padded:!0},I={padded:!0};y&&(O.ppad=I.ppad=y);var D=m<2||v[0]!==v[m-1]||g[0]!==g[m-1];D&&(P==="tozerox"||P==="tonextx"&&(A||E==="h"))?O.tozero=!0:(c.error_y||{}).visible||P!=="tonexty"&&P!=="tozeroy"&&(f.hasMarkers(c)||f.hasText(c))||(O.padded=!1,O.ppad=0),D&&(P==="tozeroy"||P==="tonexty"&&(A||E==="v"))?I.tozero=!0:P!=="tonextx"&&P!=="tozerox"||(I.padded=!1),d&&(c._extremes[d]=o.findExtremes(x,v,O)),S&&(c._extremes[S]=o.findExtremes(p,g,I))}function n(h,c){if(f.hasMarkers(h)){var x,p=h.marker,v=1.6*(h.marker.sizeref||1);if(x=h.marker.sizemode==="area"?function(d){return Math.max(Math.sqrt((d||0)/v),3)}:function(d){return Math.max((d||0)/v,3)},k.isArrayOrTypedArray(p.size)){var g={type:"linear"};o.setConvert(g);for(var y=g.makeCalcdata(h.marker,"size"),m=new Array(c),w=0;w<c;w++)m[w]=x(y[w]);return m}return x(p.size)}}function a(h,c){var x=l(c),p=h._firstScatter;p[x]||(p[x]=c.uid)}function l(h){var c=h.stackgroup;return h.xaxis+h.yaxis+h.type+(c?"-"+c:"")}function u(h,c,x,p){var v=h.stackgroup;if(v){var g=c._scatterStackOpts[x._id+p._id][v],y=g.orientation==="v"?p:x;return y.type==="linear"||y.type==="log"?g:void 0}}U.exports={calc:function(h,c){var x,p,v,g,y,m,w=h._fullLayout,d=c._xA=o.getFromId(h,c.xaxis||"x","x"),S=c._yA=o.getFromId(h,c.yaxis||"y","y"),A=d.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),P=_(c,d,"x",A),O=_(c,S,"y",E),I=P.vals,D=O.vals,V=c._length,z=new Array(V),j=c.ids,X=u(c,w,d,S),F=!1;a(w,c);var H,W="x",ie="y";X?(k.pushUnique(X.traceIndices,c._expandedIndex),(x=X.orientation==="v")?(ie="s",H="x"):(W="s",H="y"),y=X.stackgaps==="interpolate"):r(h,c,d,S,I,D,n(c,V));var te=!!c.xperiodalignment,Q=!!c.yperiodalignment;for(p=0;p<V;p++){var ne=z[p]={},$=T(I[p]),J=T(D[p]);$&&J?(ne[W]=I[p],ne[ie]=D[p],te&&(ne.orig_x=A[p],ne.xEnd=P.ends[p],ne.xStart=P.starts[p]),Q&&(ne.orig_y=E[p],ne.yEnd=O.ends[p],ne.yStart=O.starts[p])):X&&(x?$:J)?(ne[H]=x?I[p]:D[p],ne.gap=!0,y?(ne.s=b,F=!0):ne.s=0):ne[W]=ne[ie]=b,j&&(ne.id=String(j[p]))}if(t(z,c),s(h,c),i(z,c),X){for(p=0;p<z.length;)z[p][H]===b?z.splice(p,1):p++;if(k.sort(z,function(he,pe){return he[H]-pe[H]||he.i-pe.i}),F){for(p=0;p<z.length-1&&z[p].gap;)p++;for((m=z[p].s)||(m=z[p].s=0),v=0;v<p;v++)z[v].s=m;for(g=z.length-1;g>p&&z[g].gap;)g--;for(m=z[g].s,v=z.length-1;v>g;v--)z[v].s=m;for(;p<g;)if(z[++p].gap){for(v=p+1;z[v].gap;)v++;for(var re=z[p-1][H],se=z[p-1].s,ue=(z[v].s-se)/(z[v][H]-re);p<v;)z[p].s=se+(z[p][H]-re)*ue,p++}}}return z},calcMarkerSize:n,calcAxisExpansion:r,setFirstScatter:a,getStackOpts:u}},4500:function(U,C,e){var T=e(3400);U.exports=function(k,o){T.isArrayOrTypedArray(o.selectedpoints)&&T.tagSelected(k,o)}},90136:function(U,C,e){var T=e(94288).hasColorscale,k=e(47128),o=e(43028);U.exports=function(_,b){o.hasLines(b)&&T(b,"line")&&k(_,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(b)&&(T(b,"marker")&&k(_,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),T(b,"marker.line")&&k(_,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(U){U.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(U,C,e){var T=e(16356),k=e(96376).setGroupPositions;function o(_,b,f,s,t,i,r){t[s]=!0;var n={i:null,gap:!0,s:0};if(n[r]=f,_.splice(b,0,n),b&&f===_[b-1][r]){var a=_[b-1];n.s=a.s,n.i=a.i,n.gap=a.gap}else i&&(n.s=function(l,u,h,c){var x=l[u-1],p=l[u+1];return p?x?x.s+(p.s-x.s)*(h-x[c])/(p[c]-x[c]):p.s:x.s}(_,b,f,r));b||(_[0].t=_[1].t,_[0].trace=_[1].trace,delete _[1].t,delete _[1].trace)}U.exports=function(_,b){_._fullLayout.scattermode==="group"&&function(H,W){for(var ie=W.xaxis,te=W.yaxis,Q=H._fullLayout,ne=H._fullData,$=H.calcdata,J=[],re=[],se=0;se<ne.length;se++){var ue=ne[se];ue.visible===!0&&ue.type==="scatter"&&ue.xaxis===ie._id&&ue.yaxis===te._id&&(ue.orientation==="h"?J.push($[se]):ue.orientation==="v"&&re.push($[se]))}var he={mode:Q.scattermode,gap:Q.scattergap};k(H,ie,te,re,he),k(H,te,ie,J,he)}(_,b);var f=b.xaxis,s=b.yaxis,t=f._id+s._id,i=_._fullLayout._scatterStackOpts[t];if(i){var r,n,a,l,u,h,c,x,p,v,g,y,m,w,d,S=_.calcdata;for(var A in i){var E=(v=i[A]).traceIndices;if(E.length){for(g=v.stackgaps==="interpolate",y=v.groupnorm,v.orientation==="v"?(m="x",w="y"):(m="y",w="x"),d=new Array(E.length),r=0;r<d.length;r++)d[r]=!1;h=S[E[0]];var P=new Array(h.length);for(r=0;r<h.length;r++)P[r]=h[r][m];for(r=1;r<E.length;r++){for(u=S[E[r]],n=a=0;n<u.length;n++){for(c=u[n][m];c>P[a]&&a<P.length;a++)o(u,n,P[a],r,d,g,m),n++;if(c!==P[a]){for(l=0;l<r;l++)o(S[E[l]],a,c,l,d,g,m);P.splice(a,0,c)}a++}for(;a<P.length;a++)o(u,n,P[a],r,d,g,m),n++}var O=P.length;for(n=0;n<h.length;n++){for(x=h[n][w]=h[n].s,r=1;r<E.length;r++)(u=S[E[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=O,x+=u[n].s,u[n][w]=x;if(y)for(p=(y==="fraction"?x:x/100)||1,r=0;r<E.length;r++){var I=S[E[r]][n];I[w]/=p,I.sNorm=I.s/p}}for(r=0;r<E.length;r++){var D=(u=S[E[r]])[0].trace,V=T.calcMarkerSize(D,D._rawLength),z=Array.isArray(V);if(V&&d[r]||z){var j=V;for(V=new Array(O),n=0;n<O;n++)V[n]=u[n].gap?0:z?j[u[n].i]:j}var X=new Array(O),F=new Array(O);for(n=0;n<O;n++)X[n]=u[n].x,F[n]=u[n].y;T.calcAxisExpansion(_,D,f,s,X,F,V),u[0].t.orientation=v.orientation}}}}}},35036:function(U,C,e){var T=e(3400),k=e(20011),o=e(52904);U.exports=function(_,b){var f,s,t;function i(u){return T.coerce(s._input,s,o,u)}if(b.scattermode==="group")for(t=0;t<_.length;t++)(s=_[t]).type==="scatter"&&(f=s._input,k(f,s,b,i));for(t=0;t<_.length;t++){var r=_[t];if(r.type==="scatter"){var n=r.fill;if(n!=="none"&&n!=="toself"&&(r.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var a=t-1;a>=0;a--){var l=_[a];if(l.type==="scatter"&&l.xaxis===r.xaxis&&l.yaxis===r.yaxis){l.opacity=void 0;break}}}}}},18800:function(U,C,e){var T=e(3400),k=e(24040),o=e(52904),_=e(88200),b=e(43028),f=e(43980),s=e(31147),t=e(43912),i=e(74428),r=e(66828),n=e(11731),a=e(124),l=e(70840),u=e(3400).coercePattern;U.exports=function(h,c,x,p){function v(E,P){return T.coerce(h,c,o,E,P)}var g=f(h,c,p,v);if(g||(c.visible=!1),c.visible){s(h,c,p,v),v("xhoverformat"),v("yhoverformat"),v("zorder");var y=t(h,c,p,v);p.scattermode==="group"&&c.orientation===void 0&&v("orientation","v");var m=!y&&g<_.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",m),b.hasMarkers(c)&&i(h,c,x,p,v,{gradient:!0}),b.hasLines(c)&&(r(h,c,x,p,v,{backoff:!0}),n(h,c,v),v("connectgaps"),v("line.simplify")),b.hasText(c)&&(v("texttemplate"),a(h,c,p,v));var w=[];(b.hasMarkers(c)||b.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),w.push("points")),v("fill",y?y.fillDflt:"none"),c.fill!=="none"&&(l(h,c,x,v,{moduleHasFillgradient:!0}),b.hasLines(c)||n(h,c,v),u(v,"fillpattern",c.fillcolor,!1));var d=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||w.push("fills"),v("hoveron",w.join("+")||"points"),c.hoveron!=="fills"&&v("hovertemplate");var A=k.getComponentMethod("errorbars","supplyDefaults");A(h,c,d||S||x,{axis:"y"}),A(h,c,d||S||x,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(c,v)}}},98304:function(U){U.exports=function(C){return{valType:"color",editType:"style",anim:!0}}},70840:function(U,C,e){var T=e(76308),k=e(3400).isArrayOrTypedArray;U.exports=function(o,_,b,f,s){s||(s={});var t,i=!1;if(_.marker){var r=_.marker.color,n=(_.marker.line||{}).color;r&&!k(r)?i=r:n&&!k(n)&&(i=n)}if(s.moduleHasFillgradient&&f("fillgradient.type")!=="none"){f("fillgradient.start"),f("fillgradient.stop");var a=f("fillgradient.colorscale");a&&(t=function(l){for(var u=T.interpolate(l[0][1],l[1][1],.5),h=2;h<l.length;h++){var c=T.interpolate(l[h-1][1],l[h][1],.5);u=T.interpolate(u,c,l[h-1][0]/l[h][0])}return u}(a))}f("fillcolor",T.addOpacity((_.line||{}).color||i||t||b,.5))}},76688:function(U,C,e){var T=e(54460);U.exports=function(k,o,_){var b={},f={_fullLayout:_},s=T.getFromTrace(f,o,"x"),t=T.getFromTrace(f,o,"y"),i=k.orig_x;i===void 0&&(i=k.x);var r=k.orig_y;return r===void 0&&(r=k.y),b.xLabel=T.tickText(s,s.c2l(i),!0).text,b.yLabel=T.tickText(t,t.c2l(r),!0).text,b}},44928:function(U,C,e){var T=e(76308),k=e(43028);U.exports=function(o,_){var b,f;if(o.mode==="lines")return(b=o.line.color)&&T.opacity(b)?b:o.fillcolor;if(o.mode==="none")return o.fill?o.fillcolor:"";var s=_.mcc||(o.marker||{}).color,t=_.mlcc||((o.marker||{}).line||{}).color;return(f=s&&T.opacity(s)?s:t&&T.opacity(t)&&(_.mlw||((o.marker||{}).line||{}).width)?t:"")?T.opacity(f)<.3?T.addOpacity(f,.3):f:(b=(o.line||{}).color)&&T.opacity(b)&&k.hasLines(o)&&o.line.width?b:o.fillcolor}},20011:function(U,C,e){var T=e(71888).getAxisGroup;U.exports=function(k,o,_,b){var f=o.orientation,s=o[{v:"x",h:"y"}[f]+"axis"],t=T(_,s)+f,i=_._alignmentOpts||{},r=b("alignmentgroup"),n=i[t];n||(n=i[t]={});var a=n[r];a?a.traces.push(o):a=n[r]={traces:[o],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var l=b("offsetgroup"),u=a.offsetGroups,h=u[l];l&&(h||(h=u[l]={offsetIndex:Object.keys(u).length}),o._offsetIndex=h.offsetIndex)}},98723:function(U,C,e){var T=e(3400),k=e(93024),o=e(24040),_=e(44928),b=e(76308),f=T.fillText;U.exports=function(s,t,i,r){var n=s.cd,a=n[0].trace,l=s.xa,u=s.ya,h=l.c2p(t),c=u.c2p(i),x=[h,c],p=a.hoveron||"",v=a.mode.indexOf("markers")!==-1?3:.5,g=!!a.xperiodalignment,y=!!a.yperiodalignment;if(p.indexOf("points")!==-1){var m=function(X){var F=Math.max(v,X.mrc||0),H=l.c2p(X.x)-h,W=u.c2p(X.y)-c;return Math.max(Math.sqrt(H*H+W*W)-F,1-v/F)},w=k.getDistanceFunction(r,function(X){if(g){var F=l.c2p(X.xStart),H=l.c2p(X.xEnd);return h>=Math.min(F,H)&&h<=Math.max(F,H)?0:1/0}var W=Math.max(3,X.mrc||0),ie=1-1/W,te=Math.abs(l.c2p(X.x)-h);return te<W?ie*te/W:te-W+ie},function(X){if(y){var F=u.c2p(X.yStart),H=u.c2p(X.yEnd);return c>=Math.min(F,H)&&c<=Math.max(F,H)?0:1/0}var W=Math.max(3,X.mrc||0),ie=1-1/W,te=Math.abs(u.c2p(X.y)-c);return te<W?ie*te/W:te-W+ie},m);if(k.getClosest(n,w,s),s.index!==!1){var d=n[s.index],S=l.c2p(d.x,!0),A=u.c2p(d.y,!0),E=d.mrc||1;s.index=d.i;var P=n[0].t.orientation,O=P&&(d.sNorm||d.s),I=P==="h"?O:d.orig_x!==void 0?d.orig_x:d.x,D=P==="v"?O:d.orig_y!==void 0?d.orig_y:d.y;return T.extendFlat(s,{color:_(a,d),x0:S-E,x1:S+E,xLabelVal:I,y0:A-E,y1:A+E,yLabelVal:D,spikeDistance:m(d),hovertemplate:a.hovertemplate}),f(d,a,s),o.getComponentMethod("errorbars","hoverInfo")(d,a,s),[s]}}function V(X){if(!X)return!1;var F=X.node();try{var H=new DOMPoint(x[0],x[1]);return F.isPointInFill(H)}catch{var W=F.ownerSVGElement.createSVGPoint();return W.x=x[0],W.y=x[1],F.isPointInFill(W)}}if(p.indexOf("fills")!==-1&&a._fillElement&&V(a._fillElement)&&!V(a._fillExclusionElement)){var z=function(X){var F,H,W,ie,te,Q,ne,$,J,re=[],se=1/0,ue=-1/0,he=1/0,pe=-1/0;for(F=0;F<X.length;F++){var ge=X[F];ge.contains(x)&&(re.push(ge),he=Math.min(he,ge.ymin),pe=Math.max(pe,ge.ymax))}if(re.length===0)return null;for(H=((he=Math.max(he,0))+(pe=Math.min(pe,u._length)))/2,F=0;F<re.length;F++)for(ie=re[F].pts,W=1;W<ie.length;W++)($=ie[W-1][1])>H!=(J=ie[W][1])>=H&&(Q=ie[W-1][0],ne=ie[W][0],J-$&&(te=Q+(ne-Q)*(H-$)/(J-$),se=Math.min(se,te),ue=Math.max(ue,te)));return{x0:se=Math.max(se,0),x1:ue=Math.min(ue,l._length),y0:H,y1:H}}(a._polygons);z===null&&(z={x0:x[0],x1:x[0],y0:x[1],y1:x[1]});var j=b.defaultLine;return b.opacity(a.fillcolor)?j=a.fillcolor:b.opacity((a.line||{}).color)&&(j=a.line.color),T.extendFlat(s,{distance:s.maxHoverDistance,x0:z.x0,x1:z.x1,y0:z.y0,y1:z.y1,color:j,hovertemplate:!1}),delete s.index,a.text&&!T.isArrayOrTypedArray(a.text)?s.text=String(a.text):s.text=a.name,[s]}}},65875:function(U,C,e){var T=e(43028);U.exports={hasLines:T.hasLines,hasMarkers:T.hasMarkers,hasText:T.hasText,isBubble:T.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(U){U.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(U,C,e){var T=e(3400),k=e(55308);U.exports=function(o,_){var b,f=_.barmode==="group";_.scattermode==="group"&&(b=f?_.bargap:.2,T.coerce(o,_,k,"scattergap",b))}},66828:function(U,C,e){var T=e(3400).isArrayOrTypedArray,k=e(94288).hasColorscale,o=e(27260);U.exports=function(_,b,f,s,t,i){i||(i={});var r=(_.marker||{}).color;r&&r._inputArray&&(r=r._inputArray),t("line.color",f),k(_,"line")?o(_,b,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!T(r)&&r||f),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(U,C,e){var T=e(43616),k=e(39032),o=k.BADNUM,_=k.LOG_CLIP,b=_+.5,f=_-.5,s=e(3400),t=s.segmentsIntersect,i=s.constrain,r=e(88200);U.exports=function(n,a){var l,u,h,c,x,p,v,g,y,m,w,d,S,A,E,P,O,I,D=a.trace||{},V=a.xaxis,z=a.yaxis,j=V.type==="log",X=z.type==="log",F=V._length,H=z._length,W=a.backoff,ie=D.marker,te=a.connectGaps,Q=a.baseTolerance,ne=a.shape,$=ne==="linear",J=D.fill&&D.fill!=="none",re=[],se=r.minTolerance,ue=n.length,he=new Array(ue),pe=0;function ge(Ot){var Xe=n[Ot];if(!Xe)return!1;var Je=a.linearized?V.l2p(Xe.x):V.c2p(Xe.x),Ve=a.linearized?z.l2p(Xe.y):z.c2p(Xe.y);if(Je===o){if(j&&(Je=V.c2p(Xe.x,!0)),Je===o)return!1;X&&Ve===o&&(Je*=Math.abs(V._m*H*(V._m>0?b:f)/(z._m*F*(z._m>0?b:f)))),Je*=1e3}if(Ve===o){if(X&&(Ve=z.c2p(Xe.y,!0)),Ve===o)return!1;Ve*=1e3}return[Je,Ve]}function ye(Ot,Xe,Je,Ve){var Ke=Je-Ot,ft=Ve-Xe,ut=.5-Ot,xt=.5-Xe,bt=Ke*Ke+ft*ft,qe=Ke*ut+ft*xt;if(qe>0&&qe<bt){var je=ut*ft-xt*Ke;if(je*je<bt)return!0}}function be(Ot,Xe){var Je=Ot[0]/F,Ve=Ot[1]/H,Ke=Math.max(0,-Je,Je-1,-Ve,Ve-1);return Ke&&O!==void 0&&ye(Je,Ve,O,I)&&(Ke=0),Ke&&Xe&&ye(Je,Ve,Xe[0]/F,Xe[1]/H)&&(Ke=0),(1+r.toleranceGrowth*Ke)*Q}function Te(Ot,Xe){var Je=Ot[0]-Xe[0],Ve=Ot[1]-Xe[1];return Math.sqrt(Je*Je+Ve*Ve)}var Se,Fe,xe,le,oe,de,Ce,_e=r.maxScreensAway,Ae=-F*_e,Le=F*(1+_e),ze=-H*_e,Re=H*(1+_e),ve=[[Ae,ze,Le,ze],[Le,ze,Le,Re],[Le,Re,Ae,Re],[Ae,Re,Ae,ze]];function ke(Ot){if(Ot[0]<Ae||Ot[0]>Le||Ot[1]<ze||Ot[1]>Re)return[i(Ot[0],Ae,Le),i(Ot[1],ze,Re)]}function Ee(Ot,Xe){return Ot[0]===Xe[0]&&(Ot[0]===Ae||Ot[0]===Le)||Ot[1]===Xe[1]&&(Ot[1]===ze||Ot[1]===Re)||void 0}function De(Ot,Xe,Je){return function(Ve,Ke){var ft=ke(Ve),ut=ke(Ke),xt=[];if(ft&&ut&&Ee(ft,ut))return xt;ft&&xt.push(ft),ut&&xt.push(ut);var bt=2*s.constrain((Ve[Ot]+Ke[Ot])/2,Xe,Je)-((ft||Ve)[Ot]+(ut||Ke)[Ot]);return bt&&((ft&&ut?bt>0==ft[Ot]>ut[Ot]?ft:ut:ft||ut)[Ot]+=bt),xt}}function Pe(Ot){var Xe=Ot[0],Je=Ot[1],Ve=Xe===he[pe-1][0],Ke=Je===he[pe-1][1];if(!Ve||!Ke)if(pe>1){var ft=Xe===he[pe-2][0],ut=Je===he[pe-2][1];Ve&&(Xe===Ae||Xe===Le)&&ft?ut?pe--:he[pe-1]=Ot:Ke&&(Je===ze||Je===Re)&&ut?ft?pe--:he[pe-1]=Ot:he[pe++]=Ot}else he[pe++]=Ot}function Ue(Ot){he[pe-1][0]!==Ot[0]&&he[pe-1][1]!==Ot[1]&&Pe([xe,le]),Pe(Ot),oe=null,xe=le=0}ne==="linear"||ne==="spline"?Ce=function(Ot,Xe){for(var Je=[],Ve=0,Ke=0;Ke<4;Ke++){var ft=ve[Ke],ut=t(Ot[0],Ot[1],Xe[0],Xe[1],ft[0],ft[1],ft[2],ft[3]);ut&&(!Ve||Math.abs(ut.x-Je[0][0])>1||Math.abs(ut.y-Je[0][1])>1)&&(ut=[ut.x,ut.y],Ve&&Te(ut,Ot)<Te(Je[0],Ot)?Je.unshift(ut):Je.push(ut),Ve++)}return Je}:ne==="hv"||ne==="vh"?Ce=function(Ot,Xe){var Je=[],Ve=ke(Ot),Ke=ke(Xe);return Ve&&Ke&&Ee(Ve,Ke)||(Ve&&Je.push(Ve),Ke&&Je.push(Ke)),Je}:ne==="hvh"?Ce=De(0,Ae,Le):ne==="vhv"&&(Ce=De(1,ze,Re));var We=s.isArrayOrTypedArray(ie);function $e(Ot){if(Ot&&W&&(Ot.i=l,Ot.d=n,Ot.trace=D,Ot.marker=We?ie[Ot.i]:ie,Ot.backoff=W),O=Ot[0]/F,I=Ot[1]/H,Se=Ot[0]<Ae?Ae:Ot[0]>Le?Le:0,Fe=Ot[1]<ze?ze:Ot[1]>Re?Re:0,Se||Fe){if(pe)if(oe){var Xe=Ce(oe,Ot);Xe.length>1&&(Ue(Xe[0]),he[pe++]=Xe[1])}else de=Ce(he[pe-1],Ot)[0],he[pe++]=de;else he[pe++]=[Se||Ot[0],Fe||Ot[1]];var Je=he[pe-1];Se&&Fe&&(Je[0]!==Se||Je[1]!==Fe)?(oe&&(xe!==Se&&le!==Fe?Pe(xe&&le?(Ve=oe,ft=(Ke=Ot)[0]-Ve[0],ut=(Ke[1]-Ve[1])/ft,(Ve[1]*Ke[0]-Ke[1]*Ve[0])/ft>0?[ut>0?Ae:Le,Re]:[ut>0?Le:Ae,ze]):[xe||Se,le||Fe]):xe&&le&&Pe([xe,le])),Pe([Se,Fe])):xe-Se&&le-Fe&&Pe([Se||xe,Fe||le]),oe=Ot,xe=Se,le=Fe}else oe&&Ue(Ce(oe,Ot)[0]),he[pe++]=Ot;var Ve,Ke,ft,ut}for(l=0;l<ue;l++)if(u=ge(l)){for(pe=0,oe=null,$e(u),l++;l<ue;l++){if(!(c=ge(l))){if(te)continue;break}if($&&a.simplify){var ot=ge(l+1);if(m=Te(c,u),J&&(pe===0||pe===ue-1)||!(m<be(c,ot)*se)){for(g=[(c[0]-u[0])/m,(c[1]-u[1])/m],x=u,w=m,d=A=E=0,v=!1,h=c,l++;l<n.length;l++){if(p=ot,ot=ge(l+1),!p){if(te)continue;break}if(P=(y=[p[0]-u[0],p[1]-u[1]])[0]*g[1]-y[1]*g[0],A=Math.min(A,P),(E=Math.max(E,P))-A>be(p,ot))break;h=p,(S=y[0]*g[0]+y[1]*g[1])>w?(w=S,c=p,v=!1):S<d&&(d=S,x=p,v=!0)}if(v?($e(c),h!==x&&$e(x)):(x!==u&&$e(x),h!==c&&$e(c)),$e(h),l>=n.length||!p)break;$e(p),u=p}}else $e(c)}oe&&Pe([xe||oe[0],le||oe[1]]),re.push(he.slice(0,pe))}var st=ne.slice(ne.length-1);if(W&&st!=="h"&&st!=="v"){for(var mt=!1,_t=-1,yt=[],it=0;it<re.length;it++)for(var tt=0;tt<re[it].length-1;tt++){var Pt=re[it][tt],Rt=re[it][tt+1],Ft=T.applyBackoff(Rt,Pt);Ft[0]===Rt[0]&&Ft[1]===Rt[1]||(mt=!0),yt[_t+1]||(yt[++_t]=[Pt,[Ft[0],Ft[1]]])}return mt?yt:re}return re}},11731:function(U){U.exports=function(C,e,T){T("line.shape")==="spline"&&T("line.smoothing")}},14328:function(U){var C={tonextx:1,tonexty:1,tonext:1};U.exports=function(e,T,k){var o,_,b,f,s,t={},i=!1,r=-1,n=0,a=-1;for(_=0;_<k.length;_++)(b=(o=k[_][0].trace).stackgroup||"")?b in t?s=t[b]:(s=t[b]=n,n++):o.fill in C&&a>=0?s=a:(s=a=n,n++),s<r&&(i=!0),o._groupIndex=r=s;var l=k.slice();i&&l.sort(function(h,c){var x=h[0].trace,p=c[0].trace;return x._groupIndex-p._groupIndex||x.index-p.index});var u={};for(_=0;_<l.length;_++)b=(o=l[_][0].trace).stackgroup||"",o.visible===!0?(o._nexttrace=null,o.fill in C&&(f=u[b],o._prevtrace=f||null,f&&(f._nexttrace=o)),o._ownfill=o.fill&&(o.fill.substr(0,6)==="tozero"||o.fill==="toself"||o.fill.substr(0,2)==="to"&&!o._prevtrace),u[b]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return l}},7152:function(U,C,e){var T=e(38248);U.exports=function(k,o){o||(o=2);var _=k.marker,b=_.sizeref||1,f=_.sizemin||0,s=_.sizemode==="area"?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=s(t/o);return T(i)&&i>0?Math.max(i,f):0}}},5528:function(U){U.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(U,C,e){var T=e(76308),k=e(94288).hasColorscale,o=e(27260),_=e(43028);U.exports=function(b,f,s,t,i,r){var n=_.isBubble(b),a=(b.line||{}).color;r=r||{},a&&(s=a),i("marker.symbol"),i("marker.opacity",n?.7:1),i("marker.size"),r.noAngle||(i("marker.angle"),r.noAngleRef||i("marker.angleref"),r.noStandOff||i("marker.standoff")),i("marker.color",s),k(b,"marker")&&o(b,f,t,i,{prefix:"marker.",cLetter:"c"}),r.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),r.noLine||(i("marker.line.color",a&&!Array.isArray(a)&&f.marker.color!==a?a:n?T.background:T.defaultLine),k(b,"marker.line")&&o(b,f,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",n?1:0)),n&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),r.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},31147:function(U,C,e){var T=e(3400).dateTick0,k=e(39032).ONEWEEK;function o(_,b){return T(b,_%k==0?1:0)}U.exports=function(_,b,f,s,t){if(t||(t={x:!0,y:!0}),t.x){var i=s("xperiod");i&&(s("xperiod0",o(i,b.xcalendar)),s("xperiodalignment"))}if(t.y){var r=s("yperiod");r&&(s("yperiod0",o(r,b.ycalendar)),s("yperiodalignment"))}}},96504:function(U,C,e){var T=e(33428),k=e(24040),o=e(3400),_=o.ensureSingle,b=o.identity,f=e(43616),s=e(43028),t=e(52340),i=e(14328),r=e(92065).tester;function n(a,l,u,h,c,x,p){var v,g=a._context.staticPlot;(function(Pe,Ue,We,$e,ot){var st=We.xaxis,mt=We.yaxis,_t=T.extent(o.simpleMap(st.range,st.r2c)),yt=T.extent(o.simpleMap(mt.range,mt.r2c)),it=$e[0].trace;if(s.hasMarkers(it)){var tt=it.marker.maxdisplayed;if(tt!==0){var Pt=$e.filter(function(Xe){return Xe.x>=_t[0]&&Xe.x<=_t[1]&&Xe.y>=yt[0]&&Xe.y<=yt[1]}),Rt=Math.ceil(Pt.length/tt),Ft=0;ot.forEach(function(Xe,Je){var Ve=Xe[0].trace;s.hasMarkers(Ve)&&Ve.marker.maxdisplayed>0&&Je<Ue&&Ft++});var Ot=Math.round(Ft*Rt/3+Math.floor(Ft/3)*Rt/7.1);$e.forEach(function(Xe){delete Xe.vis}),Pt.forEach(function(Xe,Je){Math.round((Je+Ot)%Rt)===0&&(Xe.vis=!0)})}}})(0,l,u,h,c);var y=!!p&&p.duration>0;function m(Pe){return y?Pe.transition():Pe}var w=u.xaxis,d=u.yaxis,S=h[0].trace,A=S.line,E=T.select(x),P=_(E,"g","errorbars"),O=_(E,"g","lines"),I=_(E,"g","points"),D=_(E,"g","text");if(k.getComponentMethod("errorbars","plot")(a,P,u,p),S.visible===!0){var V,z;m(E).style("opacity",S.opacity);var j,X,F=S.fill.charAt(S.fill.length-1);F!=="x"&&F!=="y"&&(F=""),F==="y"?(j=1,X=d.c2p(0,!0)):F==="x"&&(j=0,X=w.c2p(0,!0)),h[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var H,W,ie="",te=[],Q=S._prevtrace,ne=null,$=null;Q&&(ie=Q._prevRevpath||"",z=Q._nextFill,te=Q._ownPolygons,ne=Q._fillsegments,$=Q._fillElement);var J,re,se,ue,he,pe,ge="",ye="",be=[];S._polygons=[];var Te=[],Se=[],Fe=o.noop;if(V=S._ownFill,s.hasLines(S)||S.fill!=="none"){z&&z.datum(h),["hv","vh","hvh","vhv"].indexOf(A.shape)!==-1?(J=f.steps(A.shape),re=f.steps(A.shape.split("").reverse().join(""))):J=re=A.shape==="spline"?function(Pe){var Ue=Pe[Pe.length-1];return Pe.length>1&&Pe[0][0]===Ue[0]&&Pe[0][1]===Ue[1]?f.smoothclosed(Pe.slice(1),A.smoothing):f.smoothopen(Pe,A.smoothing)}:function(Pe){return"M"+Pe.join("L")},se=function(Pe){return re(Pe.reverse())},Se=t(h,{xaxis:w,yaxis:d,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(A.width||1,3)/4,shape:A.shape,backoff:A.backoff,simplify:A.simplify,fill:S.fill}),Te=new Array(Se.length);var xe=0;for(v=0;v<Se.length;v++){var le,oe=Se[v];le&&F?le.push.apply(le,oe):(le=oe.slice(),Te[xe]=le,xe++)}S._fillElement=null,S._fillExclusionElement=$,S._fillsegments=Te.slice(0,xe),Te=S._fillsegments,Se.length&&(ue=Se[0][0].slice(),pe=(he=Se[Se.length-1])[he.length-1].slice()),Fe=function(Pe){return function(Ue){if(H=J(Ue),W=se(Ue),ge?F?(ge+="L"+H.substr(1),ye=W+"L"+ye.substr(1)):(ge+="Z"+H,ye=W+"Z"+ye):(ge=H,ye=W),s.hasLines(S)){var We=T.select(this);if(We.datum(h),Pe)m(We.style("opacity",0).attr("d",H).call(f.lineGroupStyle)).style("opacity",1);else{var $e=m(We);$e.attr("d",H),f.singleLineStyle(h,$e)}}}}}var de=O.selectAll(".js-line").data(Se);m(de.exit()).style("opacity",0).remove(),de.each(Fe(!1)),de.enter().append("path").classed("js-line",!0).style("vector-effect",g?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(Fe(!0)),f.setClipUrl(de,u.layerClipId,a);var Ce=function(){var Pe=new Array(Te.length);for(v=0;v<Te.length;v++)Pe[v]=r(Te[v]);return Pe},_e=function(Pe){var Ue,We;if(Pe&&Pe.length!==0){for(Ue=new Array(Pe.length-1+Te.length),We=0;We<Pe.length-1;We++)Ue[We]=r(Pe[We]);var $e=Pe[Pe.length-1].slice();for($e.reverse(),We=0;We<Te.length;We++)Ue[Pe.length-1+We]=r(Te[We].concat($e))}else for(Ue=new Array(Te.length),We=0;We<Te.length;We++){var ot=Te[We][0].slice(),st=Te[We][Te[We].length-1].slice();ot[j]=st[j]=X;var mt=[st,ot].concat(Te[We]);Ue[We]=r(mt)}return Ue};Se.length?(V?(V.datum(h),ue&&pe&&(F?(ue[j]=pe[j]=X,m(V).attr("d","M"+pe+"L"+ue+"L"+ge.substr(1)).call(f.singleFillStyle,a),be=_e(null)):(m(V).attr("d",ge+"Z").call(f.singleFillStyle,a),be=Ce())),S._polygons=be,S._fillElement=V):z&&(S.fill.substr(0,6)==="tonext"&&ge&&ie?(S.fill==="tonext"?(m(z).attr("d",ge+"Z"+ie+"Z").call(f.singleFillStyle,a),be=Ce(),S._polygons=be.concat(te)):(m(z).attr("d",ge+"L"+ie.substr(1)+"Z").call(f.singleFillStyle,a),be=_e(ne),S._polygons=be),S._fillElement=z):Le(z)),S._prevRevpath=ye):(V?Le(V):z&&Le(z),S._prevRevpath=null),S._ownPolygons=be,I.datum(h),D.datum(h),function(Pe,Ue,We){var $e,ot=We[0].trace,st=s.hasMarkers(ot),mt=s.hasText(ot),_t=Ee(ot),yt=De,it=De;if(st||mt){var tt=b,Pt=ot.stackgroup,Rt=Pt&&a._fullLayout._scatterStackOpts[w._id+d._id][Pt].stackgaps==="infer zero";ot.marker.maxdisplayed||ot._needsCull?tt=Rt?Re:ze:Pt&&!Rt&&(tt=ve),st&&(yt=tt),mt&&(it=tt)}var Ft,Ot=($e=Pe.selectAll("path.point").data(yt,_t)).enter().append("path").classed("point",!0);y&&Ot.call(f.pointStyle,ot,a).call(f.translatePoints,w,d).style("opacity",0).transition().style("opacity",1),$e.order(),st&&(Ft=f.makePointStyleFns(ot)),$e.each(function(Xe){var Je=T.select(this),Ve=m(Je);f.translatePoint(Xe,Ve,w,d)?(f.singlePointStyle(Xe,Ve,ot,Ft,a),u.layerClipId&&f.hideOutsideRangePoint(Xe,Ve,w,d,ot.xcalendar,ot.ycalendar),ot.customdata&&Je.classed("plotly-customdata",Xe.data!==null&&Xe.data!==void 0)):Ve.remove()}),y?$e.exit().transition().style("opacity",0).remove():$e.exit().remove(),($e=Ue.selectAll("g").data(it,_t)).enter().append("g").classed("textpoint",!0).append("text"),$e.order(),$e.each(function(Xe){var Je=T.select(this),Ve=m(Je.select("text"));f.translatePoint(Xe,Ve,w,d)?u.layerClipId&&f.hideOutsideRangePoint(Xe,Je,w,d,ot.xcalendar,ot.ycalendar):Je.remove()}),$e.selectAll("text").call(f.textPointStyle,ot,a).each(function(Xe){var Je=w.c2p(Xe.x),Ve=d.c2p(Xe.y);T.select(this).selectAll("tspan.line").each(function(){m(T.select(this)).attr({x:Je,y:Ve})})}),$e.exit().remove()}(I,D,h);var Ae=S.cliponaxis===!1?null:u.layerClipId;f.setClipUrl(I,Ae,a),f.setClipUrl(D,Ae,a)}function Le(Pe){m(Pe).attr("d","M0,0Z")}function ze(Pe){return Pe.filter(function(Ue){return!Ue.gap&&Ue.vis})}function Re(Pe){return Pe.filter(function(Ue){return Ue.vis})}function ve(Pe){return Pe.filter(function(Ue){return!Ue.gap})}function ke(Pe){return Pe.id}function Ee(Pe){if(Pe.ids)return ke}function De(){return!1}}U.exports=function(a,l,u,h,c,x){var p,v,g=!c,y=!!c&&c.duration>0,m=i(a,l,u);(p=h.selectAll("g.trace").data(m,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),p.order(),function(w,d,S){d.each(function(A){var E=_(T.select(this),"g","fills");f.setClipUrl(E,S.layerClipId,w);var P=A[0].trace,O=[];P._ownfill&&O.push("_ownFill"),P._nexttrace&&O.push("_nextFill");var I=E.selectAll("g").data(O,b);I.enter().append("g"),I.exit().each(function(D){P[D]=null}).remove(),I.order().each(function(D){P[D]=_(T.select(this),"path","js-fill")})})}(a,p,l),y?(x&&(v=x()),T.transition().duration(c.duration).ease(c.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()}).each(function(){h.selectAll("g.trace").each(function(w,d){n(a,d,l,w,m,this,c)})})):p.each(function(w,d){n(a,d,l,w,m,this,c)}),g&&p.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(U,C,e){var T=e(43028);U.exports=function(k,o){var _,b,f,s,t=k.cd,i=k.xaxis,r=k.yaxis,n=[],a=t[0].trace;if(!T.hasMarkers(a)&&!T.hasText(a))return[];if(o===!1)for(_=0;_<t.length;_++)t[_].selected=0;else for(_=0;_<t.length;_++)b=t[_],f=i.c2p(b.x),s=r.c2p(b.y),b.i!==null&&o.contains([f,s],!1,_,k)?(n.push({pointNumber:b.i,x:i.c2d(b.x),y:r.c2d(b.y)}),b.selected=1):b.selected=0;return n}},43912:function(U){var C=["orientation","groupnorm","stackgaps"];U.exports=function(e,T,k,o){var _=k._scatterStackOpts,b=o("stackgroup");if(b){var f=T.xaxis+T.yaxis,s=_[f];s||(s=_[f]={});var t=s[b],i=!1;t?t.traces.push(T):(t=s[b]={traceIndices:[],traces:[T]},i=!0);for(var r={orientation:T.x&&!T.y?"h":"v"},n=0;n<C.length;n++){var a=C[n],l=a+"Found";if(!t[l]){var u=e[a]!==void 0,h=a==="orientation";if((u||i)&&(t[a]=o(a,r[a]),h&&(t.fillDflt=t[a]==="h"?"tonextx":"tonexty"),u&&(t[l]=!0,!i&&(delete t.traces[0][a],h))))for(var c=0;c<t.traces.length-1;c++){var x=t.traces[c];x._input.fill!==x.fill&&(x.fill=t.fillDflt)}}}return t}}},49224:function(U,C,e){var T=e(33428),k=e(43616),o=e(24040);function _(f,s,t){k.pointStyle(f.selectAll("path.point"),s,t)}function b(f,s,t){k.textPointStyle(f.selectAll("text"),s,t)}U.exports={style:function(f){var s=T.select(f).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){_(T.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.text").each(function(t){b(T.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.trace path.js-line").call(k.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,f,!1),o.getComponentMethod("errorbars","style")(s)},stylePoints:_,styleText:b,styleOnSelect:function(f,s,t){var i=s[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(_(t,i,f),b(t,i,f))}}},43028:function(U,C,e){var T=e(3400),k=e(38116).isTypedArraySpec;U.exports={hasLines:function(o){return o.visible&&o.mode&&o.mode.indexOf("lines")!==-1},hasMarkers:function(o){return o.visible&&(o.mode&&o.mode.indexOf("markers")!==-1||o.type==="splom")},hasText:function(o){return o.visible&&o.mode&&o.mode.indexOf("text")!==-1},isBubble:function(o){var _=o.marker;return T.isPlainObject(_)&&(T.isArrayOrTypedArray(_.size)||k(_.size))}}},124:function(U,C,e){var T=e(3400);U.exports=function(k,o,_,b,f){f=f||{},b("textposition"),T.coerceFont(b,"textfont",f.font||_.font,f),f.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(U,C,e){var T=e(3400),k=e(24040);U.exports=function(o,_,b,f){var s,t=f("x"),i=f("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(o,_,["x","y"],b),t){var r=T.minRowLength(t);i?s=Math.min(r,T.minRowLength(i)):(s=r,f("y0"),f("dy"))}else{if(!i)return 0;s=T.minRowLength(i),f("x0"),f("dx")}return _._length=s,s}},91592:function(U,C,e){var T=e(52904),k=e(25376),o=e(49084),_=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(45464),t=e(99168),i=e(87792),r=e(92880).extendFlat,n=e(67824).overrideAll,a=e(95376),l=T.line,u=T.marker,h=u.line,c=r({width:l.width,dash:{valType:"enumerated",values:a(t),dflt:"solid"}},o("line")),x=U.exports=n({x:T.x,y:T.y,z:{valType:"data_array"},text:r({},T.text,{}),texttemplate:f({},{}),hovertext:r({},T.hovertext,{}),hovertemplate:b(),xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z"),mode:r({},T.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:T.connectgaps,line:c,marker:r({symbol:{valType:"enumerated",values:a(i),dflt:"circle",arrayOk:!0},size:r({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:r({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:r({width:r({},h.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:r({},T.textposition,{dflt:"top center"}),textfont:k({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:s.opacity,hoverinfo:r({},s.hoverinfo)},"calc","nested");x.x.editType=x.y.editType=x.z.editType="calc+clearAxisTypes"},41484:function(U,C,e){var T=e(20148),k=e(90136);U.exports=function(o,_){var b=[{x:!1,y:!1,trace:_,t:{}}];return T(b,_),k(o,_),b}},45156:function(U,C,e){var T=e(24040);function k(o,_,b,f){if(!_||!_.visible)return null;for(var s=T.getComponentMethod("errorbars","makeComputeError")(_),t=new Array(o.length),i=0;i<o.length;i++){var r=s(+o[i],i);if(f.type==="log"){var n=f.c2l(o[i]),a=o[i]-r[0],l=o[i]+r[1];if(t[i]=[(f.c2l(a,!0)-n)*b,(f.c2l(l,!0)-n)*b],a>0){var u=f.c2l(a);f._lowerLogErrorBound||(f._lowerLogErrorBound=u),f._lowerErrorBound=Math.min(f._lowerLogErrorBound,u)}}else t[i]=[-r[0]*b,r[1]*b]}return t}U.exports=function(o,_,b){var f=[k(o.x,o.error_x,_[0],b.xaxis),k(o.y,o.error_y,_[1],b.yaxis),k(o.z,o.error_z,_[2],b.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(f);if(s===0)return null;for(var t=new Array(s),i=0;i<s;i++){for(var r=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(f[n])for(var a=0;a<2;a++)r[a][n]=f[n][i][a];t[i]=r}return t}},41064:function(U,C,e){var T=e(67792).gl_line3d,k=e(67792).gl_scatter3d,o=e(67792).gl_error3d,_=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,f=e(3400),s=e(43080),t=e(33040).formatColor,i=e(7152),r=e(99168),n=e(87792),a=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function h(d,S){this.scene=d,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=h.prototype;function x(d){return d==null?0:d.indexOf("left")>-1?-1:d.indexOf("right")>-1?1:0}function p(d){return d==null?0:d.indexOf("top")>-1?-1:d.indexOf("bottom")>-1?1:0}function v(d,S){return S(4*d)}function g(d){return n[d]}function y(d,S,A,E,P){var O=null;if(f.isArrayOrTypedArray(d)){O=[];for(var I=0;I<S;I++)d[I]===void 0?O[I]=E:O[I]=A(d[I],P)}else O=A(d,f.identity);return O}function m(d){if(f.isArrayOrTypedArray(d)){var S=d[0];return f.isArrayOrTypedArray(S)&&(d=S),"rgb("+d.slice(0,3).map(function(A){return Math.round(255*A)})+")"}return null}function w(d){return f.isArrayOrTypedArray(d)?d.length===4&&typeof d[0]=="number"?m(d):d.map(m):null}c.handlePick=function(d){if(d.object&&(d.object===this.linePlot||d.object===this.delaunayMesh||d.object===this.textMarkers||d.object===this.scatterPlot)){var S=d.index=d.data.index;return d.object.highlight&&d.object.highlight(null),this.scatterPlot&&(d.object=this.scatterPlot,this.scatterPlot.highlight(d.data)),d.textLabel="",this.textLabels&&(f.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(d.textLabel=this.textLabels[S]):d.textLabel=this.textLabels),d.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(d){var S,A,E,P,O=this.scene.glplot.gl,I=r.solid;this.data=d;var D=function(j,X){var F,H,W,ie,te,Q,ne=[],$=j.fullSceneLayout,J=j.dataScale,re=$.xaxis,se=$.yaxis,ue=$.zaxis,he=X.marker,pe=X.line,ge=X.x||[],ye=X.y||[],be=X.z||[],Te=ge.length,Se=X.xcalendar,Fe=X.ycalendar,xe=X.zcalendar;for(te=0;te<Te;te++)F=re.d2l(ge[te],0,Se)*J[0],H=se.d2l(ye[te],0,Fe)*J[1],W=ue.d2l(be[te],0,xe)*J[2],ne[te]=[F,H,W];if(Array.isArray(X.text))Q=X.text;else if(f.isTypedArray(X.text))Q=Array.from(X.text);else if(X.text!==void 0)for(Q=new Array(Te),te=0;te<Te;te++)Q[te]=X.text;function le(Ue,We){var $e=$[Ue];return a.tickText($e,$e.d2l(We),!0).text}var oe=X.texttemplate;if(oe){var de=j.fullLayout._d3locale,Ce=Array.isArray(oe),_e=Ce?Math.min(oe.length,Te):Te,Ae=Ce?function(Ue){return oe[Ue]}:function(){return oe};for(Q=new Array(_e),te=0;te<_e;te++){var Le={x:ge[te],y:ye[te],z:be[te]},ze={xLabel:le("xaxis",ge[te]),yLabel:le("yaxis",ye[te]),zLabel:le("zaxis",be[te])},Re={};l(Re,X,te);var ve=X._meta||{};Q[te]=f.texttemplateString(Ae(te),ze,de,Re,Le,ve)}}if(ie={position:ne,mode:X.mode,text:Q},"line"in X&&(ie.lineColor=t(pe,1,Te),ie.lineWidth=pe.width,ie.lineDashes=pe.dash),"marker"in X){var ke=i(X);ie.scatterColor=t(he,1,Te),ie.scatterSize=y(he.size,Te,v,20,ke),ie.scatterMarker=y(he.symbol,Te,g,""),ie.scatterLineWidth=he.line.width,ie.scatterLineColor=t(he.line,1,Te),ie.scatterAngle=0}"textposition"in X&&(ie.textOffset=function(Ue){var We=[0,0];if(Array.isArray(Ue))for(var $e=0;$e<Ue.length;$e++)We[$e]=[0,0],Ue[$e]&&(We[$e][0]=x(Ue[$e]),We[$e][1]=p(Ue[$e]));else We[0]=x(Ue),We[1]=p(Ue);return We}(X.textposition),ie.textColor=t(X.textfont,1,Te),ie.textSize=y(X.textfont.size,Te,f.identity,12),ie.textFontFamily=X.textfont.family,ie.textFontWeight=X.textfont.weight,ie.textFontStyle=X.textfont.style,ie.textFontVariant=X.textfont.variant,ie.textAngle=0);var Ee=["x","y","z"];for(ie.project=[!1,!1,!1],ie.projectScale=[1,1,1],ie.projectOpacity=[1,1,1],te=0;te<3;++te){var De=X.projection[Ee[te]];(ie.project[te]=De.show)&&(ie.projectOpacity[te]=De.opacity,ie.projectScale[te]=De.scale)}ie.errorBounds=u(X,J,$);var Pe=function(Ue){for(var We=[0,0,0],$e=[[0,0,0],[0,0,0],[0,0,0]],ot=[1,1,1],st=0;st<3;st++){var mt=Ue[st];mt&&mt.copy_zstyle!==!1&&Ue[2].visible!==!1&&(mt=Ue[2]),mt&&mt.visible&&(We[st]=mt.width/2,$e[st]=s(mt.color),ot[st]=mt.thickness)}return{capSize:We,color:$e,lineWidth:ot}}([X.error_x,X.error_y,X.error_z]);return ie.errorColor=Pe.color,ie.errorLineWidth=Pe.lineWidth,ie.errorCapSize=Pe.capSize,ie.delaunayAxis=X.surfaceaxis,ie.delaunayColor=s(X.surfacecolor),ie}(this.scene,d);"mode"in D&&(this.mode=D.mode),"lineDashes"in D&&D.lineDashes in r&&(I=r[D.lineDashes]),this.color=w(D.scatterColor)||w(D.lineColor),this.dataPoints=D.position,S={gl:this.scene.glplot.gl,position:D.position,color:D.lineColor,lineWidth:D.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:d.opacity,connectGaps:d.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=T(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=d.opacity;if(d.marker&&d.marker.opacity!==void 0&&(V*=d.marker.opacity),A={gl:this.scene.glplot.gl,position:D.position,color:D.scatterColor,size:D.scatterSize,glyph:D.scatterMarker,opacity:V,orthographic:!0,lineWidth:D.scatterLineWidth,lineColor:D.scatterLineColor,project:D.project,projectScale:D.projectScale,projectOpacity:D.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(A):(this.scatterPlot=k(A),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),P={gl:this.scene.glplot.gl,position:D.position,glyph:D.text,color:D.textColor,size:D.textSize,angle:D.textAngle,alignment:D.textOffset,font:D.textFontFamily,fontWeight:D.textFontWeight,fontStyle:D.textFontStyle,fontVariant:D.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:d.opacity},this.textLabels=d.hovertext||d.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(P):(this.textMarkers=k(P),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:D.position,color:D.errorColor,error:D.errorBounds,lineWidth:D.errorLineWidth,capSize:D.errorCapSize,opacity:d.opacity},this.errorBars?D.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):D.errorBounds&&(this.errorBars=o(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),D.delaunayAxis>=0){var z=function(j,X,F){var H,W=(F+1)%3,ie=(F+2)%3,te=[],Q=[];for(H=0;H<j.length;++H){var ne=j[H];!isNaN(ne[W])&&isFinite(ne[W])&&!isNaN(ne[ie])&&isFinite(ne[ie])&&(te.push([ne[W],ne[ie]]),Q.push(H))}var $=b(te);for(H=0;H<$.length;++H)for(var J=$[H],re=0;re<J.length;++re)J[re]=Q[J[re]];return{positions:j,cells:$,meshColor:X}}(D.position,D.delaunayColor,D.delaunayAxis);z.opacity=d.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=O,this.delaunayMesh=_(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},U.exports=function(d,S){var A=new h(d,S.uid);return A.update(S),A}},83484:function(U,C,e){var T=e(24040),k=e(3400),o=e(43028),_=e(74428),b=e(66828),f=e(124),s=e(91592);U.exports=function(t,i,r,n){function a(g,y){return k.coerce(t,i,s,g,y)}var l=function(g,y,m,w){var d=0,S=m("x"),A=m("y"),E=m("z");return T.getComponentMethod("calendars","handleTraceDefaults")(g,y,["x","y","z"],w),S&&A&&E&&(d=Math.min(S.length,A.length,E.length),y._length=y._xlength=y._ylength=y._zlength=d),d}(t,i,a,n);if(l){a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),a("mode"),o.hasMarkers(i)&&_(t,i,r,n,a,{noSelect:!0,noAngle:!0}),o.hasLines(i)&&(a("connectgaps"),b(t,i,r,n,a)),o.hasText(i)&&(a("texttemplate"),f(t,i,n,a,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(i.line||{}).color,h=(i.marker||{}).color;a("surfaceaxis")>=0&&a("surfacecolor",u||h);for(var c=["x","y","z"],x=0;x<3;++x){var p="projection."+c[x];a(p+".show")&&(a(p+".opacity"),a(p+".scale"))}var v=T.getComponentMethod("errorbars","supplyDefaults");v(t,i,u||h||r,{axis:"z"}),v(t,i,u||h||r,{axis:"y",inherit:"z"}),v(t,i,u||h||r,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(U,C,e){U.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(U,C,e){var T=e(98304),k=e(52904),o=e(45464),_=e(21776).Ks,b=e(21776).Gw,f=e(49084),s=e(92880).extendFlat,t=k.marker,i=k.line,r=t.line;U.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},k.mode,{dflt:"markers"}),text:s({},k.text,{}),texttemplate:b({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},k.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:k.connectgaps,fill:s({},k.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T(),marker:s({symbol:t.symbol,opacity:t.opacity,maxdisplayed:t.maxdisplayed,angle:t.angle,angleref:t.angleref,standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:r.width,editType:"calc"},f("marker.line")),gradient:t.gradient,editType:"calc"},f("marker")),textfont:k.textfont,textposition:k.textposition,selected:k.selected,unselected:k.unselected,hoverinfo:s({},o.hoverinfo,{flags:["a","b","text","name"]}),hoveron:k.hoveron,hovertemplate:_(),zorder:k.zorder}},48228:function(U,C,e){var T=e(38248),k=e(90136),o=e(20148),_=e(4500),b=e(16356).calcMarkerSize,f=e(50948);U.exports=function(s,t){var i=t._carpetTrace=f(s,t);if(i&&i.visible&&i.visible!=="legendonly"){var r;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var n,a,l=t._length,u=new Array(l),h=!1;for(r=0;r<l;r++)if(n=t.a[r],a=t.b[r],T(n)&&T(a)){var c=i.ab2xy(+n,+a,!0),x=i.isVisible(+n,+a);x||(h=!0),u[r]={x:c[0],y:c[1],a:n,b:a,vis:x}}else u[r]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=i,u[0].trace=t,b(t,l),k(s,t),o(u,t),_(u,t),u}}},6176:function(U,C,e){var T=e(3400),k=e(88200),o=e(43028),_=e(74428),b=e(66828),f=e(11731),s=e(124),t=e(70840),i=e(90372);U.exports=function(r,n,a,l){function u(v,g){return T.coerce(r,n,i,v,g)}u("carpet"),n.xaxis="x",n.yaxis="y";var h=u("a"),c=u("b"),x=Math.min(h.length,c.length);if(x){n._length=x,u("text"),u("texttemplate"),u("hovertext"),u("mode",x<k.PTS_LINESONLY?"lines+markers":"lines"),o.hasMarkers(n)&&_(r,n,a,l,u,{gradient:!0}),o.hasLines(n)&&(b(r,n,a,l,u,{backoff:!0}),f(r,n,u),u("connectgaps")),o.hasText(n)&&s(r,n,l,u);var p=[];(o.hasMarkers(n)||o.hasText(n))&&(u("marker.maxdisplayed"),p.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,a,u),o.hasLines(n)||f(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||p.push("fills"),u("hoveron",p.join("+")||"points")!=="fills"&&u("hovertemplate"),u("zorder"),T.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},89307:function(U){U.exports=function(C,e,T,k,o){var _=k[o];return C.a=_.a,C.b=_.b,C.y=_.y,C}},52364:function(U){U.exports=function(C,e){var T={},k=e._carpet,o=k.ab2ij([C.a,C.b]),_=Math.floor(o[0]),b=o[0]-_,f=Math.floor(o[1]),s=o[1]-f,t=k.evalxy([],_,f,b,s);return T.yLabel=t[1].toFixed(3),T}},58960:function(U,C,e){var T=e(98723),k=e(3400).fillText;U.exports=function(o,_,b,f){var s=T(o,_,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0){var i=1-t.y0/o.ya._length,r=o.xa._length,n=r*i/2,a=r-n;return t.x0=Math.max(Math.min(t.x0,a),n),t.x1=Math.max(Math.min(t.x1,a),n),s}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,h=u._carpet,c=u._module.formatLabels(l,u);t.yLabel=c.yLabel,delete t.text;var x=[];if(!u.hovertemplate){var p=(l.hi||u.hoverinfo).split("+");p.indexOf("all")!==-1&&(p=["a","b","text"]),p.indexOf("a")!==-1&&v(h.aaxis,l.a),p.indexOf("b")!==-1&&v(h.baxis,l.b),x.push("y: "+t.yLabel),p.indexOf("text")!==-1&&k(l,u,x),t.extraText=x.join("<br>")}return s}function v(g,y){var m;m=g.labelprefix&&g.labelprefix.length>0?g.labelprefix.replace(/ = $/,""):g._hovertitle,x.push(m+": "+y.toFixed(3)+g.labelsuffix)}}},4184:function(U,C,e){U.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(U,C,e){var T=e(96504),k=e(54460),o=e(43616);U.exports=function(_,b,f,s){var t,i,r,n=f[0][0].carpet,a=k.getFromId(_,n.xaxis||"x"),l=k.getFromId(_,n.yaxis||"y"),u={xaxis:a,yaxis:l,plot:b.plot};for(t=0;t<f.length;t++)(i=f[t][0].trace)._xA=a,i._yA=l;for(T(_,u,f,s),t=0;t<f.length;t++)i=f[t][0].trace,r=s.selectAll("g.trace"+i.uid+" .js-line"),o.setClipUrl(r,f[t][0].carpet._clipPathId,_)}},6096:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(98304),_=e(52904),b=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=e(67824).overrideAll,r=_.marker,n=_.line,a=r.line;U.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:t({},_.hovertext,{}),textfont:_.textfont,textposition:_.textposition,line:{color:n.color,width:n.width,dash:s},connectgaps:_.connectgaps,marker:t({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:t({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:t({width:a.width},f("marker.line")),gradient:r.gradient},f("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o(),selected:_.selected,unselected:_.unselected,hoverinfo:t({},b.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:T()},"calc","nested")},25212:function(U,C,e){var T=e(38248),k=e(39032).BADNUM,o=e(90136),_=e(20148),b=e(4500),f=e(3400).isArrayOrTypedArray,s=e(3400)._;function t(i){return i&&typeof i=="string"}U.exports=function(i,r){var n,a=f(r.locations),l=a?r.locations.length:r._length,u=new Array(l);n=r.geojson?function(g){return t(g)||T(g)}:t;for(var h=0;h<l;h++){var c=u[h]={};if(a){var x=r.locations[h];c.loc=n(x)?x:null}else{var p=r.lon[h],v=r.lat[h];T(p)&&T(v)?c.lonlat=[+p,+v]:c.lonlat=[k,k]}}return _(u,r),o(i,r),b(u,r),l&&(u[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),u}},86188:function(U,C,e){var T=e(3400),k=e(43028),o=e(74428),_=e(66828),b=e(124),f=e(70840),s=e(6096);U.exports=function(t,i,r,n){function a(v,g){return T.coerce(t,i,s,v,g)}var l,u=a("locations");if(u&&u.length){var h,c=a("geojson");(typeof c=="string"&&c!==""||T.isPlainObject(c))&&(h="geojson-id"),a("locationmode",h)==="geojson-id"&&a("featureidkey"),l=u.length}else{var x=a("lon")||[],p=a("lat")||[];l=Math.min(x.length,p.length)}l?(i._length=l,a("text"),a("hovertext"),a("hovertemplate"),a("mode"),k.hasMarkers(i)&&o(t,i,r,n,a,{gradient:!0}),k.hasLines(i)&&(_(t,i,r,n,a),a("connectgaps")),k.hasText(i)&&(a("texttemplate"),b(t,i,n,a)),a("fill"),i.fill!=="none"&&f(t,i,r,a),T.coerceSelectionMarkerOpacity(i,a)):i.visible=!1}},58544:function(U){U.exports=function(C,e,T,k,o){C.lon=e.lon,C.lat=e.lat,C.location=e.loc?e.loc:null;var _=k[o];return _.fIn&&_.fIn.properties&&(C.properties=_.fIn.properties),C}},56696:function(U,C,e){var T=e(54460);U.exports=function(k,o,_){var b={},f=_[o.geo]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=T.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=T.tickText(f,f.c2l(s[1]),!0).text,b}},64292:function(U,C,e){var T=e(93024),k=e(39032).BADNUM,o=e(44928),_=e(3400).fillText,b=e(6096);U.exports=function(f,s,t){var i=f.cd,r=i[0].trace,n=f.xa,a=f.ya,l=f.subplot,u=l.projection.isLonLatOverEdges,h=l.project;if(T.getClosest(i,function(m){var w=m.lonlat;if(w[0]===k||u(w))return 1/0;var d=h(w),S=h([s,t]),A=Math.abs(d[0]-S[0]),E=Math.abs(d[1]-S[1]),P=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(A*A+E*E)-P,1-3/P)},f),f.index!==!1){var c=i[f.index],x=c.lonlat,p=[n.c2p(x),a.c2p(x)],v=c.mrc||1;f.x0=p[0]-v,f.x1=p[0]+v,f.y0=p[1]-v,f.y1=p[1]+v,f.loc=c.loc,f.lon=x[0],f.lat=x[1];var g={};g[r.geo]={_subplot:l};var y=r._module.formatLabels(c,r,g);return f.lonLabel=y.lonLabel,f.latLabel=y.latLabel,f.color=o(r,c),f.extraText=function(m,w,d,S){if(!m.hovertemplate){var A=w.hi||m.hoverinfo,E=A==="all"?b.hoverinfo.flags:A.split("+"),P=E.indexOf("location")!==-1&&Array.isArray(m.locations),O=E.indexOf("lon")!==-1,I=E.indexOf("lat")!==-1,D=E.indexOf("text")!==-1,V=[];return P?V.push(w.loc):O&&I?V.push("("+z(d.latLabel)+", "+z(d.lonLabel)+")"):O?V.push(S.lon+z(d.lonLabel)):I&&V.push(S.lat+z(d.latLabel)),D&&_(w,m,V),V.join("<br>")}function z(j){return j+""}}(r,c,f,i[0].t.labels),f.hovertemplate=r.hovertemplate,[f]}}},36952:function(U,C,e){U.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(U,C,e){var T=e(33428),k=e(3400),o=e(59972).getTopojsonFeatures,_=e(44808),b=e(27144),f=e(19280).findExtremes,s=e(39032).BADNUM,t=e(16356).calcMarkerSize,i=e(43028),r=e(25064);U.exports={calcGeoJSON:function(n,a){var l,u,h=n[0].trace,c=a[h.geo],x=c._subplot,p=h._length;if(k.isArrayOrTypedArray(h.locations)){var v=h.locationmode,g=v==="geojson-id"?b.extractTraceFeature(n):o(h,x.topojson);for(l=0;l<p;l++){u=n[l];var y=v==="geojson-id"?u.fOut:b.locationToFeature(v,u.loc,g);u.lonlat=y?y.properties.ct:[s,s]}}var m,w,d={padded:!0};if(c.fitbounds==="geojson"&&h.locationmode==="geojson-id"){var S=b.computeBbox(b.getTraceGeojson(h));m=[S[0],S[2]],w=[S[1],S[3]]}else{for(m=new Array(p),w=new Array(p),l=0;l<p;l++)u=n[l],m[l]=u.lonlat[0],w[l]=u.lonlat[1];d.ppad=t(h,p)}h._extremes.lon=f(c.lonaxis._ax,m,d),h._extremes.lat=f(c.lataxis._ax,w,d)},plot:function(n,a,l){var u=a.layers.frontplot.select(".scatterlayer"),h=k.makeTraceGroups(u,l,"trace scattergeo");function c(x,p){x.lonlat[0]===s&&T.select(p).remove()}h.selectAll("*").remove(),h.each(function(x){var p=T.select(this),v=x[0].trace;if(i.hasLines(v)||v.fill!=="none"){var g=_.calcTraceToLineCoords(x),y=v.fill!=="none"?_.makePolygon(g):_.makeLine(g);p.selectAll("path.js-line").data([{geojson:y,trace:v}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(v)&&p.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(v)&&p.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(m){c(m,this)}),r(n,x)})}}},8796:function(U,C,e){var T=e(43028),k=e(39032).BADNUM;U.exports=function(o,_){var b,f,s,t,i,r=o.cd,n=o.xaxis,a=o.yaxis,l=[],u=r[0].trace;if(!T.hasMarkers(u)&&!T.hasText(u))return[];if(_===!1)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++)(f=(b=r[i]).lonlat)[0]!==k&&(s=n.c2p(f),t=a.c2p(f),_.contains([s,t],null,i,o)?(l.push({pointNumber:i,lon:f[0],lat:f[1]}),b.selected=1):b.selected=0);return l}},25064:function(U,C,e){var T=e(33428),k=e(43616),o=e(76308),_=e(49224),b=_.stylePoints,f=_.styleText;U.exports=function(s,t){t&&function(i,r){var n=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),b(a,n,i),f(a,n,i),a.selectAll("path.js-line").style("fill","none").each(function(l){var u=T.select(this),h=l.trace,c=h.line||{};u.call(o.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),h.fill!=="none"&&u.call(o.fill,h.fillcolor)})}(s,t)}},2876:function(U,C,e){var T=e(45464),k=e(25376),o=e(98304),_=e(52904),b=e(29736).axisHoverFormat,f=e(49084),s=e(95376),t=e(92880).extendFlat,i=e(67824).overrideAll,r=e(67072).DASHES,n=_.line,a=_.marker,l=a.line,u=U.exports=i({x:_.x,x0:_.x0,dx:_.dx,y:_.y,y0:_.y0,dy:_.dy,xperiod:_.xperiod,yperiod:_.yperiod,xperiod0:_.xperiod0,yperiod0:_.yperiod0,xperiodalignment:_.xperiodalignment,yperiodalignment:_.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),text:_.text,hovertext:_.hovertext,textposition:_.textposition,textfont:k({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(r),dflt:"solid"}},marker:t({},f("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:t({},f("marker.line"),{width:l.width})}),connectgaps:_.connectgaps,fill:t({},_.fill,{dflt:"none"}),fillcolor:o(),selected:{marker:_.selected.marker,textfont:_.selected.textfont},unselected:{marker:_.unselected.marker,textfont:_.unselected.textfont},opacity:T.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=_.hovertemplate,u.texttemplate=_.texttemplate},64628:function(U,C,e){var T=e(41272);U.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:T.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(U,C,e){var T=e(3108),k=e(3400),o=e(79811),_=e(19280).findExtremes,b=e(1220),f=e(16356),s=f.calcMarkerSize,t=f.calcAxisExpansion,i=f.setFirstScatter,r=e(90136),n=e(84236),a=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function h(c,x,p){var v=c._extremes[x._id],g=_(x,p._bnds,{padded:!0});v.min=v.min.concat(g.min),v.max=v.max.concat(g.max)}U.exports=function(c,x){var p,v=c._fullLayout,g=x._xA=o.getFromId(c,x.xaxis,"x"),y=x._yA=o.getFromId(c,x.yaxis,"y"),m=v._plots[x.xaxis+x.yaxis],w=x._length,d=w>=u,S=2*w,A={},E=g.makeCalcdata(x,"x"),P=y.makeCalcdata(x,"y"),O=b(x,g,"x",E),I=b(x,y,"y",P),D=O.vals,V=I.vals;x._x=D,x._y=V,x.xperiodalignment&&(x._origX=E,x._xStarts=O.starts,x._xEnds=O.ends),x.yperiodalignment&&(x._origY=P,x._yStarts=I.starts,x._yEnds=I.ends);var z=new Array(S),j=new Array(w);for(p=0;p<w;p++)z[2*p]=D[p]===l?NaN:D[p],z[2*p+1]=V[p]===l?NaN:V[p],j[p]=p;if(g.type==="log")for(p=0;p<S;p+=2)z[p]=g.c2l(z[p]);if(y.type==="log")for(p=1;p<S;p+=2)z[p]=y.c2l(z[p]);d&&g.type!=="log"&&y.type!=="log"?A.tree=T(z):A.ids=j,r(c,x);var X,F=function(W,ie,te,Q,ne,$){var J=n.style(W,te);if(J.marker&&(J.marker.positions=Q),J.line&&Q.length>1&&k.extendFlat(J.line,n.linePositions(W,te,Q)),J.errorX||J.errorY){var re=n.errorBarPositions(W,te,Q,ne,$);J.errorX&&k.extendFlat(J.errorX,re.x),J.errorY&&k.extendFlat(J.errorY,re.y)}return J.text&&(k.extendFlat(J.text,{positions:Q},n.textPosition(W,te,J.text,J.marker)),k.extendFlat(J.textSel,{positions:Q},n.textPosition(W,te,J.text,J.markerSel)),k.extendFlat(J.textUnsel,{positions:Q},n.textPosition(W,te,J.text,J.markerUnsel))),J}(c,0,x,z,D,V),H=a(c,m);return i(v,x),d?F.marker&&(X=F.marker.sizeAvg||Math.max(F.marker.size,3)):X=s(x,w),t(c,x,g,y,D,V,X),F.errorX&&h(x,g,F.errorX),F.errorY&&h(x,y,F.errorY),F.fill&&!H.fill2d&&(H.fill2d=!0),F.marker&&!H.scatter2d&&(H.scatter2d=!0),F.line&&!H.line2d&&(H.line2d=!0),!F.errorX&&!F.errorY||H.error2d||(H.error2d=!0),F.text&&!H.glText&&(H.glText=!0),F.marker&&(F.marker.snap=w),H.lineOptions.push(F.line),H.errorXOptions.push(F.errorX),H.errorYOptions.push(F.errorY),H.fillOptions.push(F.fill),H.markerOptions.push(F.marker),H.markerSelectedOptions.push(F.markerSel),H.markerUnselectedOptions.push(F.markerUnsel),H.textOptions.push(F.text),H.textSelectedOptions.push(F.textSel),H.textUnselectedOptions.push(F.textUnsel),H.selectBatch.push([]),H.unselectBatch.push([]),A._scene=H,A.index=H.count,A.x=D,A.y=V,A.positions=z,H.count++,[{x:!1,y:!1,t:A,trace:x}]}},67072:function(U){U.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(U,C,e){var T=e(38248),k=e(20472),o=e(72160),_=e(24040),b=e(3400),f=b.isArrayOrTypedArray,s=e(43616),t=e(79811),i=e(33040).formatColor,r=e(43028),n=e(7152),a=e(80088),l=e(67072),u=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function x(O,I){var D,V=O._fullLayout,z=I._length,j=I.textfont,X=I.textposition,F=f(X)?X:[X],H=j.color,W=j.size,ie=j.family,te=j.weight,Q=j.style,ne=j.variant,$={},J=O._context.plotGlPixelRatio,re=I.texttemplate;if(re){$.text=[];var se=V._d3locale,ue=Array.isArray(re),he=ue?Math.min(re.length,z):z,pe=ue?function(xe){return re[xe]}:function(){return re};for(D=0;D<he;D++){var ge={i:D},ye=I._module.formatLabels(ge,I,V),be={};c(be,I,D);var Te=I._meta||{};$.text.push(b.texttemplateString(pe(D),ye,se,be,ge,Te))}}else f(I.text)&&I.text.length<z?$.text=I.text.slice():$.text=I.text;if(f($.text))for(D=$.text.length;D<z;D++)$.text[D]="";for($.opacity=I.opacity,$.font={},$.align=[],$.baseline=[],D=0;D<F.length;D++){var Se=F[D].split(/\s+/);switch(Se[1]){case"left":$.align.push("right");break;case"right":$.align.push("left");break;default:$.align.push(Se[1])}switch(Se[0]){case"top":$.baseline.push("bottom");break;case"bottom":$.baseline.push("top");break;default:$.baseline.push(Se[0])}}if(f(H))for($.color=new Array(z),D=0;D<z;D++)$.color[D]=H[D];else $.color=H;if(f(W)||Array.isArray(ie)||f(te)||Array.isArray(Q)||Array.isArray(ne))for($.font=new Array(z),D=0;D<z;D++){var Fe=$.font[D]={};Fe.size=(b.isTypedArray(W)?W[D]:f(W)?T(W[D])?W[D]:0:W)*J,Fe.family=Array.isArray(ie)?ie[D]:ie,Fe.weight=p(f(te)?te[D]:te),Fe.style=Array.isArray(Q)?Q[D]:Q,Fe.variant=Array.isArray(ne)?ne[D]:ne}else $.font={size:W*J,family:ie,weight:p(te),style:Q,variant:ne};return $}function p(O){return O<=1e3?O>500?"bold":"normal":O}function v(O,I){var D,V,z=I._length,j=I.marker,X={},F=f(j.symbol),H=f(j.angle),W=f(j.color),ie=f(j.line.color),te=f(j.opacity),Q=f(j.size),ne=f(j.line.width);if(F||(V=a.isOpenSymbol(j.symbol)),F||W||ie||te||H){X.symbols=new Array(z),X.angles=new Array(z),X.colors=new Array(z),X.borderColors=new Array(z);var $=j.symbol,J=j.angle,re=i(j,j.opacity,z),se=i(j.line,j.opacity,z);if(!f(se[0])){var ue=se;for(se=Array(z),D=0;D<z;D++)se[D]=ue}if(!f(re[0])){var he=re;for(re=Array(z),D=0;D<z;D++)re[D]=he}if(!f($)){var pe=$;for($=Array(z),D=0;D<z;D++)$[D]=pe}if(!f(J)){var ge=J;for(J=Array(z),D=0;D<z;D++)J[D]=ge}for(X.symbols=$,X.angles=J,X.colors=re,X.borderColors=se,D=0;D<z;D++)F&&(V=a.isOpenSymbol(j.symbol[D])),V&&(se[D]=re[D].slice(),re[D]=re[D].slice(),re[D][3]=0);for(X.opacity=I.opacity,X.markers=new Array(z),D=0;D<z;D++)X.markers[D]=P({mx:X.symbols[D],ma:X.angles[D]},I)}else V?(X.color=o(j.color,"uint8"),X.color[3]=0,X.borderColor=o(j.color,"uint8")):(X.color=o(j.color,"uint8"),X.borderColor=o(j.line.color,"uint8")),X.opacity=I.opacity*j.opacity,X.marker=P({mx:j.symbol,ma:j.angle},I);var ye,be=n(I,1);if(Q||ne){var Te,Se=X.sizes=new Array(z),Fe=X.borderSizes=new Array(z),xe=0;if(Q){for(D=0;D<z;D++)Se[D]=be(j.size[D]),xe+=Se[D];Te=xe/z}else for(ye=be(j.size),D=0;D<z;D++)Se[D]=ye;if(ne)for(D=0;D<z;D++)Fe[D]=j.line.width[D];else for(ye=j.line.width,D=0;D<z;D++)Fe[D]=ye;X.sizeAvg=Te}else X.size=be(j&&j.size||10),X.borderSizes=be(j.line.width);return X}function g(O,I,D){var V=I.marker,z={};return D&&(D.marker&&D.marker.symbol?z=v(0,b.extendFlat({},V,D.marker)):D.marker&&(D.marker.size&&(z.size=D.marker.size),D.marker.color&&(z.colors=D.marker.color),D.marker.opacity!==void 0&&(z.opacity=D.marker.opacity))),z}function y(O,I,D){var V={};if(!D)return V;if(D.textfont){var z={opacity:1,text:I.text,texttemplate:I.texttemplate,textposition:I.textposition,textfont:b.extendFlat({},I.textfont)};D.textfont&&b.extendFlat(z.textfont,D.textfont),V=x(O,z)}return V}function m(O,I,D){var V={capSize:2*I.width*D,lineWidth:I.thickness*D,color:I.color};return I.copy_ystyle&&(V=O.error_y),V}var w=l.SYMBOL_SDF_SIZE,d=l.SYMBOL_SIZE,S=l.SYMBOL_STROKE,A={},E=s.symbolFuncs[0](.05*d);function P(O,I){var D,V,z=O.mx;if(z==="circle")return null;var j=s.symbolNumber(z),X=s.symbolFuncs[j%100],F=!!s.symbolNoDot[j%100],H=!!s.symbolNoFill[j%100],W=a.isDotSymbol(z);if(O.ma&&(z+="_"+O.ma),A[z])return A[z];var ie=s.getMarkerAngle(O,I);return D=W&&!F?X(1.1*d,ie)+E:X(d,ie),V=k(D,{w,h:w,viewBox:[-d,-d,d,d],stroke:H?S:-S}),A[z]=V,V||null}U.exports={style:function(O,I){var D,V={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=O._context.plotGlPixelRatio;if(I.visible!==!0)return V;if(r.hasText(I)&&(V.text=x(O,I),V.textSel=y(O,I,I.selected),V.textUnsel=y(O,I,I.unselected)),r.hasMarkers(I)&&(V.marker=v(0,I),V.markerSel=g(0,I,I.selected),V.markerUnsel=g(0,I,I.unselected),!I.unselected&&f(I.marker.opacity))){var j=I.marker.opacity;for(V.markerUnsel.opacity=new Array(j.length),D=0;D<j.length;D++)V.markerUnsel.opacity[D]=u*j[D]}if(r.hasLines(I)){V.line={overlay:!0,thickness:I.line.width*z,color:I.line.color,opacity:I.opacity};var X=(l.DASHES[I.line.dash]||[1]).slice();for(D=0;D<X.length;++D)X[D]*=I.line.width*z;V.line.dashes=X}return I.error_x&&I.error_x.visible&&(V.errorX=m(I,I.error_x,z)),I.error_y&&I.error_y.visible&&(V.errorY=m(I,I.error_y,z)),I.fill&&I.fill!=="none"&&(V.fill={closed:!0,fill:I.fillcolor,thickness:0}),V},markerStyle:v,markerSelection:g,linePositions:function(O,I,D){var V,z,j=D.length,X=j/2;if(r.hasLines(I)&&X)if(I.line.shape==="hv"){for(V=[],z=0;z<X-1;z++)isNaN(D[2*z])||isNaN(D[2*z+1])?V.push(NaN,NaN,NaN,NaN):(V.push(D[2*z],D[2*z+1]),isNaN(D[2*z+2])||isNaN(D[2*z+3])?V.push(NaN,NaN):V.push(D[2*z+2],D[2*z+1]));V.push(D[j-2],D[j-1])}else if(I.line.shape==="hvh"){for(V=[],z=0;z<X-1;z++)if(isNaN(D[2*z])||isNaN(D[2*z+1])||isNaN(D[2*z+2])||isNaN(D[2*z+3]))isNaN(D[2*z])||isNaN(D[2*z+1])?V.push(NaN,NaN):V.push(D[2*z],D[2*z+1]),V.push(NaN,NaN);else{var F=(D[2*z]+D[2*z+2])/2;V.push(D[2*z],D[2*z+1],F,D[2*z+1],F,D[2*z+3])}V.push(D[j-2],D[j-1])}else if(I.line.shape==="vhv"){for(V=[],z=0;z<X-1;z++)if(isNaN(D[2*z])||isNaN(D[2*z+1])||isNaN(D[2*z+2])||isNaN(D[2*z+3]))isNaN(D[2*z])||isNaN(D[2*z+1])?V.push(NaN,NaN):V.push(D[2*z],D[2*z+1]),V.push(NaN,NaN);else{var H=(D[2*z+1]+D[2*z+3])/2;V.push(D[2*z],D[2*z+1],D[2*z],H,D[2*z+2],H)}V.push(D[j-2],D[j-1])}else if(I.line.shape==="vh"){for(V=[],z=0;z<X-1;z++)isNaN(D[2*z])||isNaN(D[2*z+1])?V.push(NaN,NaN,NaN,NaN):(V.push(D[2*z],D[2*z+1]),isNaN(D[2*z+2])||isNaN(D[2*z+3])?V.push(NaN,NaN):V.push(D[2*z],D[2*z+3]));V.push(D[j-2],D[j-1])}else V=D;var W=!1;for(z=0;z<V.length;z++)if(isNaN(V[z])){W=!0;break}var ie=W||V.length>l.TOO_MANY_POINTS||r.hasMarkers(I)?"rect":"round";if(W&&I.connectgaps){var te=V[0],Q=V[1];for(z=0;z<V.length;z+=2)isNaN(V[z])||isNaN(V[z+1])?(V[z]=te,V[z+1]=Q):(te=V[z],Q=V[z+1])}return{join:ie,positions:V}},errorBarPositions:function(O,I,D,V,z){var j=_.getComponentMethod("errorbars","makeComputeError"),X=t.getFromId(O,I.xaxis,"x"),F=t.getFromId(O,I.yaxis,"y"),H=D.length/2,W={};function ie(te,Q){var ne=Q._id.charAt(0),$=I["error_"+ne];if($&&$.visible&&(Q.type==="linear"||Q.type==="log")){for(var J=j($),re={x:0,y:1}[ne],se={x:[0,1,2,3],y:[2,3,0,1]}[ne],ue=new Float64Array(4*H),he=1/0,pe=-1/0,ge=0,ye=0;ge<H;ge++,ye+=4){var be=te[ge];if(T(be)){var Te=D[2*ge+re],Se=J(be,ge),Fe=Se[0],xe=Se[1];if(T(Fe)&&T(xe)){var le=be-Fe,oe=be+xe;ue[ye+se[0]]=Te-Q.c2l(le),ue[ye+se[1]]=Q.c2l(oe)-Te,ue[ye+se[2]]=0,ue[ye+se[3]]=0,he=Math.min(he,be-Fe),pe=Math.max(pe,be+xe)}}}W[ne]={positions:D,errors:ue,_bnds:[he,pe]}}}return ie(V,X),ie(z,F),W},textPosition:function(O,I,D,V){var z,j=I._length,X={};if(r.hasMarkers(I)){var F=D.font,H=D.align,W=D.baseline;for(X.offset=new Array(j),z=0;z<j;z++){var ie=V.sizes?V.sizes[z]:V.size,te=f(F)?F[z].size:F.size,Q=f(H)?H.length>1?H[z]:H[0]:H,ne=f(W)?W.length>1?W[z]:W[0]:W,$=h[Q],J=h[ne],re=ie?ie/.8+1:0,se=-J*re-.5*J;X.offset[z]=[$*re/te,se/te]}}return X}}},80220:function(U,C,e){var T=e(3400),k=e(24040),o=e(80088),_=e(2876),b=e(88200),f=e(43028),s=e(43980),t=e(31147),i=e(74428),r=e(66828),n=e(70840),a=e(124);U.exports=function(l,u,h,c){function x(S,A){return T.coerce(l,u,_,S,A)}var p=!!l.marker&&o.isOpenSymbol(l.marker.symbol),v=f.isBubble(l),g=s(l,u,c,x);if(g){t(l,u,c,x),x("xhoverformat"),x("yhoverformat");var y=g<b.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("hovertemplate"),x("mode",y),f.hasMarkers(u)&&(i(l,u,h,c,x,{noAngleRef:!0,noStandOff:!0}),x("marker.line.width",p||v?1:0)),f.hasLines(u)&&(x("connectgaps"),r(l,u,h,c,x),x("line.shape")),f.hasText(u)&&(x("texttemplate"),a(l,u,c,x,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var m=(u.line||{}).color,w=(u.marker||{}).color;x("fill"),u.fill!=="none"&&n(l,u,h,x);var d=k.getComponentMethod("errorbars","supplyDefaults");d(l,u,m||w||h,{axis:"y"}),d(l,u,m||w||h,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1}},26768:function(U,C,e){var T=e(3400),k=e(76308),o=e(13448).DESELECTDIM;U.exports={styleTextSelection:function(_){var b,f,s=_[0],t=s.trace,i=s.t,r=i._scene,n=i.index,a=r.selectBatch[n],l=r.unselectBatch[n],u=r.textOptions[n],h=r.textSelectedOptions[n]||{},c=r.textUnselectedOptions[n]||{},x=T.extendFlat({},u);if(a.length||l.length){var p=h.color,v=c.color,g=u.color,y=T.isArrayOrTypedArray(g);for(x.color=new Array(t._length),b=0;b<a.length;b++)f=a[b],x.color[f]=p||(y?g[f]:g);for(b=0;b<l.length;b++){f=l[b];var m=y?g[f]:g;x.color[f]=v||(p?m:k.addOpacity(m,o))}}r.glText[n].update(x)}}},99396:function(U,C,e){var T=e(76688);U.exports=function(k,o,_){var b=k.i;return"x"in k||(k.x=o._x[b]),"y"in k||(k.y=o._y[b]),T(k,o,_)}},80088:function(U,C,e){var T=e(67072);C.isOpenSymbol=function(k){return typeof k=="string"?T.OPEN_RE.test(k):k%200>100},C.isDotSymbol=function(k){return typeof k=="string"?T.DOT_RE.test(k):k>200}},41272:function(U,C,e){var T=e(24040),k=e(3400),o=e(44928);function _(b,f,s,t){var i=b.xa,r=b.ya,n=b.distance,a=b.dxy,l=b.index,u={pointNumber:l,x:f[l],y:s[l]};u.tx=k.isArrayOrTypedArray(t.text)?t.text[l]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(u.ts=k.isArrayOrTypedArray(h.size)?h.size[l]:h.size,u.tc=k.isArrayOrTypedArray(h.color)?h.color[l]:h.color,u.tf=Array.isArray(h.family)?h.family[l]:h.family,u.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,u.ty=Array.isArray(h.style)?h.style[l]:h.style,u.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var x=c&&c.line;x&&(u.mlc=Array.isArray(x.color)?x.color[l]:x.color,u.mlw=k.isArrayOrTypedArray(x.width)?x.width[l]:x.width);var p=c&&c.gradient;p&&p.type!=="none"&&(u.mgt=Array.isArray(p.type)?p.type[l]:p.type,u.mgc=Array.isArray(p.color)?p.color[l]:p.color);var v=i.c2p(u.x,!0),g=r.c2p(u.y,!0),y=u.mrc||1,m=t.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[l]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[l]:m.bordercolor,u.hts=k.isArrayOrTypedArray(m.font.size)?m.font.size[l]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[l]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[l]:m.font.family,u.hnl=k.isArrayOrTypedArray(m.namelength)?m.namelength[l]:m.namelength);var w=t.hoverinfo;w&&(u.hi=Array.isArray(w)?w[l]:w);var d=t.hovertemplate;d&&(u.ht=Array.isArray(d)?d[l]:d);var S={};S[b.index]=u;var A=t._origX,E=t._origY,P=k.extendFlat({},b,{color:o(t,u),x0:v-y,x1:v+y,xLabelVal:A?A[l]:u.x,y0:g-y,y1:g+y,yLabelVal:E?E[l]:u.y,cd:S,distance:n,spikeDistance:a,hovertemplate:u.ht});return u.htx?P.text=u.htx:u.tx?P.text=u.tx:t.text&&(P.text=t.text),k.fillText(u,t,P),T.getComponentMethod("errorbars","hoverInfo")(u,t,P),P}U.exports={hoverPoints:function(b,f,s,t){var i,r,n,a,l,u,h,c,x,p,v=b.cd,g=v[0].t,y=v[0].trace,m=b.xa,w=b.ya,d=g.x,S=g.y,A=m.c2p(f),E=w.c2p(s),P=b.distance;if(g.tree){var O=m.p2c(A-P),I=m.p2c(A+P),D=w.p2c(E-P),V=w.p2c(E+P);i=t==="x"?g.tree.range(Math.min(O,I),Math.min(w._rl[0],w._rl[1]),Math.max(O,I),Math.max(w._rl[0],w._rl[1])):g.tree.range(Math.min(O,I),Math.min(D,V),Math.max(O,I),Math.max(D,V))}else i=g.ids;var z=P;if(t==="x"){var j=!!y.xperiodalignment,X=!!y.yperiodalignment;for(u=0;u<i.length;u++){if(a=d[r=i[u]],h=Math.abs(m.c2p(a)-A),j){var F=m.c2p(y._xStarts[r]),H=m.c2p(y._xEnds[r]);h=A>=Math.min(F,H)&&A<=Math.max(F,H)?0:1/0}if(h<z){if(z=h,l=S[r],c=w.c2p(l)-E,X){var W=w.c2p(y._yStarts[r]),ie=w.c2p(y._yEnds[r]);c=E>=Math.min(W,ie)&&E<=Math.max(W,ie)?0:1/0}p=Math.sqrt(h*h+c*c),n=i[u]}}}else for(u=i.length-1;u>-1;u--)a=d[r=i[u]],l=S[r],h=m.c2p(a)-A,c=w.c2p(l)-E,(x=Math.sqrt(h*h+c*c))<z&&(z=p=x,n=r);return b.index=n,b.distance=z,b.dxy=p,n===void 0?[b]:[_(b,d,S,y)]},calcHover:_}},38983:function(U,C,e){var T=e(64628);T.plot=e(89876),U.exports=T},89876:function(U,C,e){var T=e(38540),k=e(13472),o=e(24544),_=e(23352),b=e(3400),f=e(72760).selectMode,s=e(5048),t=e(43028),i=e(14328),r=e(26768).styleTextSelection,n={};function a(l,u,h,c){var x=l._size,p=l.width*c,v=l.height*c,g=x.l*c,y=x.b*c,m=x.r*c,w=x.t*c,d=x.w*c,S=x.h*c;return[g+u.domain[0]*d,y+h.domain[0]*S,p-m-(1-u.domain[1])*d,v-w-(1-h.domain[1])*S]}(U.exports=function(l,u,h){if(h.length){var c,x,p=l._fullLayout,v=u._scene,g=u.xaxis,y=u.yaxis;if(v)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var m=v.count,w=p._glcanvas.data()[0].regl;if(i(l,u,h),v.dirty){if(!v.line2d&&!v.error2d||v.scatter2d||v.fill2d||v.glText||w.clear({}),v.error2d===!0&&(v.error2d=o(w)),v.line2d===!0&&(v.line2d=k(w)),v.scatter2d===!0&&(v.scatter2d=T(w)),v.fill2d===!0&&(v.fill2d=k(w)),v.glText===!0)for(v.glText=new Array(m),c=0;c<m;c++)v.glText[c]=new _(w);if(v.glText){if(m>v.glText.length){var d=m-v.glText.length;for(c=0;c<d;c++)v.glText.push(new _(w))}else if(m<v.glText.length){var S=v.glText.length-m;v.glText.splice(m,S).forEach(function(re){re.destroy()})}for(c=0;c<m;c++)v.glText[c].update(v.textOptions[c])}if(v.line2d&&(v.line2d.update(v.lineOptions),v.lineOptions=v.lineOptions.map(function(re){if(re&&re.positions){for(var se=re.positions,ue=0;ue<se.length&&(isNaN(se[ue])||isNaN(se[ue+1]));)ue+=2;for(var he=se.length-2;he>ue&&(isNaN(se[he])||isNaN(se[he+1]));)he-=2;re.positions=se.slice(ue,he+2)}return re}),v.line2d.update(v.lineOptions)),v.error2d){var A=(v.errorXOptions||[]).concat(v.errorYOptions||[]);v.error2d.update(A)}v.scatter2d&&v.scatter2d.update(v.markerOptions),v.fillOrder=b.repeat(null,m),v.fill2d&&(v.fillOptions=v.fillOptions.map(function(re,se){var ue=h[se];if(re&&ue&&ue[0]&&ue[0].trace){var he,pe,ge=ue[0],ye=ge.trace,be=ge.t,Te=v.lineOptions[se],Se=[];ye._ownfill&&Se.push(se),ye._nexttrace&&Se.push(se+1),Se.length&&(v.fillOrder[se]=Se);var Fe,xe,le=[],oe=Te&&Te.positions||be.positions;if(ye.fill==="tozeroy"){for(Fe=0;Fe<oe.length&&isNaN(oe[Fe+1]);)Fe+=2;for(xe=oe.length-2;xe>Fe&&isNaN(oe[xe+1]);)xe-=2;oe[Fe+1]!==0&&(le=[oe[Fe],0]),le=le.concat(oe.slice(Fe,xe+2)),oe[xe+1]!==0&&(le=le.concat([oe[xe],0]))}else if(ye.fill==="tozerox"){for(Fe=0;Fe<oe.length&&isNaN(oe[Fe]);)Fe+=2;for(xe=oe.length-2;xe>Fe&&isNaN(oe[xe]);)xe-=2;oe[Fe]!==0&&(le=[0,oe[Fe+1]]),le=le.concat(oe.slice(Fe,xe+2)),oe[xe]!==0&&(le=le.concat([0,oe[xe+1]]))}else if(ye.fill==="toself"||ye.fill==="tonext"){for(le=[],he=0,re.splitNull=!0,pe=0;pe<oe.length;pe+=2)(isNaN(oe[pe])||isNaN(oe[pe+1]))&&((le=le.concat(oe.slice(he,pe))).push(oe[he],oe[he+1]),le.push(null,null),he=pe+2);le=le.concat(oe.slice(he)),he&&le.push(oe[he],oe[he+1])}else{var de=ye._nexttrace;if(de){var Ce=v.lineOptions[se+1];if(Ce){var _e=Ce.positions;if(ye.fill==="tonexty"){for(le=oe.slice(),se=Math.floor(_e.length/2);se--;){var Ae=_e[2*se],Le=_e[2*se+1];isNaN(Ae)||isNaN(Le)||le.push(Ae,Le)}re.fill=de.fillcolor}}}}if(ye._prevtrace&&ye._prevtrace.fill==="tonext"){var ze=v.lineOptions[se-1].positions,Re=le.length/2,ve=[he=Re];for(pe=0;pe<ze.length;pe+=2)(isNaN(ze[pe])||isNaN(ze[pe+1]))&&(ve.push(pe/2+Re+1),he=pe+2);le=le.concat(ze),re.hole=ve}return re.fillmode=ye.fill,re.opacity=ye.opacity,re.positions=le,re}}),v.fill2d.update(v.fillOptions))}var E=p.dragmode,P=f(E),O=p.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var I=h[c][0],D=I.trace,V=I.t,z=V.index,j=D._length,X=V.x,F=V.y;if(D.selectedpoints||P||O){if(P||(P=!0),D.selectedpoints){var H=v.selectBatch[z]=b.selIndices2selPoints(D),W={};for(x=0;x<H.length;x++)W[H[x]]=1;var ie=[];for(x=0;x<j;x++)W[x]||ie.push(x);v.unselectBatch[z]=ie}var te=V.xpx=new Array(j),Q=V.ypx=new Array(j);for(x=0;x<j;x++)te[x]=g.c2p(X[x]),Q[x]=y.c2p(F[x])}else V.xpx=V.ypx=null}if(P){if(v.select2d||(v.select2d=T(p._glcanvas.data()[1].regl)),v.scatter2d){var ne=new Array(m);for(c=0;c<m;c++)ne[c]=v.selectBatch[c].length||v.unselectBatch[c].length?v.markerUnselectedOptions[c]:{};v.scatter2d.update(ne)}v.select2d&&(v.select2d.update(v.markerOptions),v.select2d.update(v.markerSelectedOptions)),v.glText&&h.forEach(function(re){var se=((re||[])[0]||{}).trace||{};t.hasText(se)&&r(re)})}else v.scatter2d&&v.scatter2d.update(v.markerOptions);var $={viewport:a(p,g,y,l._context.plotGlPixelRatio),range:[(g._rl||g.range)[0],(y._rl||y.range)[0],(g._rl||g.range)[1],(y._rl||y.range)[1]]},J=b.repeat($,v.count);v.fill2d&&v.fill2d.update(J),v.line2d&&v.line2d.update(J),v.error2d&&v.error2d.update(J.concat(J)),v.scatter2d&&v.scatter2d.update(J),v.select2d&&v.select2d.update(J),v.glText&&v.glText.forEach(function(re){re.update($)})}else v.init()}}).reglPrecompiled=n},74588:function(U,C,e){var T=e(3400);U.exports=function(k,o){var _=o._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},f={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return o._scene||((_=o._scene={}).init=function(){T.extendFlat(_,f,b)},_.init(),_.update=function(s){var t=T.repeat(s,_.count);if(_.fill2d&&_.fill2d.update(t),_.scatter2d&&_.scatter2d.update(t),_.line2d&&_.line2d.update(t),_.error2d&&_.error2d.update(t.concat(t)),_.select2d&&_.select2d.update(t),_.glText)for(var i=0;i<_.count;i++)_.glText[i].update(s)},_.draw=function(){for(var s=_.count,t=_.fill2d,i=_.error2d,r=_.line2d,n=_.scatter2d,a=_.glText,l=_.select2d,u=_.selectBatch,h=_.unselectBatch,c=0;c<s;c++){if(t&&_.fillOrder[c]&&t.draw(_.fillOrder[c]),r&&_.lineOptions[c]&&r.draw(c),i&&(_.errorXOptions[c]&&i.draw(c),_.errorYOptions[c]&&i.draw(c+s)),n&&_.markerOptions[c])if(h[c].length){var x=T.repeat([],_.count);x[c]=h[c],n.draw(x)}else u[c].length||n.draw(c);a[c]&&_.textOptions[c]&&a[c].render()}l&&l.draw(u),_.dirty=!1},_.destroy=function(){_.fill2d&&_.fill2d.destroy&&_.fill2d.destroy(),_.scatter2d&&_.scatter2d.destroy&&_.scatter2d.destroy(),_.error2d&&_.error2d.destroy&&_.error2d.destroy(),_.line2d&&_.line2d.destroy&&_.line2d.destroy(),_.select2d&&_.select2d.destroy&&_.select2d.destroy(),_.glText&&_.glText.forEach(function(s){s.destroy&&s.destroy()}),_.lineOptions=null,_.fillOptions=null,_.markerOptions=null,_.markerSelectedOptions=null,_.markerUnselectedOptions=null,_.errorXOptions=null,_.errorYOptions=null,_.textOptions=null,_.textSelectedOptions=null,_.textUnselectedOptions=null,_.selectBatch=null,_.unselectBatch=null,o._scene=null}),_.dirty||T.extendFlat(_,b),_}},73224:function(U,C,e){var T=e(43028),k=e(26768).styleTextSelection;U.exports=function(o,_){var b=o.cd,f=o.xaxis,s=o.yaxis,t=[],i=b[0].trace,r=b[0].t,n=i._length,a=r.x,l=r.y,u=r._scene,h=r.index;if(!u)return t;var c=T.hasText(i),x=T.hasMarkers(i),p=!x&&!c;if(i.visible!==!0||p)return t;var v=[],g=[];if(_!==!1&&!_.degenerate)for(var y=0;y<n;y++)_.contains([r.xpx[y],r.ypx[y]],!1,y,o)?(v.push(y),t.push({pointNumber:y,x:f.c2d(a[y]),y:s.c2d(l[y])})):g.push(y);if(x){var m=u.scatter2d;if(v.length||g.length){if(!u.selectBatch[h].length&&!u.unselectBatch[h].length){var w=new Array(u.count);w[h]=u.markerUnselectedOptions[h],m.update.apply(m,w)}}else{var d=new Array(u.count);d[h]=u.markerOptions[h],m.update.apply(m,d)}}return u.selectBatch[h]=v,u.unselectBatch[h]=g,c&&k(b),t}},31512:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(98304),_=e(6096),b=e(52904),f=e(5232),s=e(45464),t=e(49084),i=e(92880).extendFlat,r=e(67824).overrideAll,n=e(5232),a=_.line,l=_.marker;U.exports=r({lon:_.lon,lat:_.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},b.mode,{dflt:"markers"}),text:i({},b.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},b.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:b.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},t("marker")),fill:_.fill,fillcolor:o(),textfont:f.layers.symbol.textfont,textposition:f.layers.symbol.textposition,below:{valType:"string"},selected:{marker:b.selected.marker},unselected:{marker:b.unselected.marker},hoverinfo:i({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:T()},"calc","nested")},79732:function(U){var C=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];U.exports={isSupportedFont:function(e){return C.indexOf(e)!==-1}}},59392:function(U,C,e){var T=e(38248),k=e(3400),o=e(39032).BADNUM,_=e(44808),b=e(8932),f=e(43616),s=e(7152),t=e(43028),i=e(79732).isSupportedFont,r=e(89032),n=e(10624).appendArrayPointValue,a=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;function u(g){return{type:g,geojson:_.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(g,y){return k.isArrayOrTypedArray(g)?y?function(m){return T(g[m])?+g[m]:0}:function(m){return g[m]}:g?function(){return g}:c}function c(){return""}function x(g){return g[0]===o}function p(g,y){var m;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(y)){m=["step",["get","point_count"],g[0]];for(var w=1;w<g.length;w++)m.push(y[w-1],g[w])}else m=g;return m}function v(g){var y=g.textfont,m=y.family,w=y.style,d=y.weight,S=m.split(" "),A=S[S.length-1]==="Italic";A&&S.pop(),A=A||w==="italic";var E=S.join(" ");return d==="bold"&&S.indexOf("Bold")===-1?E+=" Bold":d<=1e3&&(S[0]==="Metropolis"?(E="Metropolis",E+=d>850?" Black":d>750?" Extra Bold":d>650?" Bold":d>550?" Semi Bold":d>450?" Medium":d>350?" Regular":d>250?" Light":d>150?" Extra Light":" Thin"):S.slice(0,2).join(" ")==="Open Sans"?(E="Open Sans",E+=d>750?" Extrabold":d>650?" Bold":d>550?" Semibold":d>350?" Regular":" Light"):S.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(E="Klokantech Noto Sans",S[3]==="CJK"&&(E+=" CJK"),E+=d>500?" Bold":" Regular")),A&&(E+=" Italic"),E==="Open Sans Regular Italic"?E="Open Sans Italic":E==="Open Sans Regular Bold"?E="Open Sans Bold":E==="Open Sans Regular Bold Italic"?E="Open Sans Bold Italic":E==="Klokantech Noto Sans Regular Italic"&&(E="Klokantech Noto Sans Italic"),i(E)||(E=m),E.split(", ")}U.exports=function(g,y){var m,w=y[0].trace,d=w.visible===!0&&w._length!==0,S=w.fill!=="none",A=t.hasLines(w),E=t.hasMarkers(w),P=t.hasText(w),O=E&&w.marker.symbol==="circle",I=E&&w.marker.symbol!=="circle",D=w.cluster&&w.cluster.enabled,V=u("fill"),z=u("line"),j=u("circle"),X=u("symbol"),F={fill:V,line:z,circle:j,symbol:X};if(!d)return F;if((S||A)&&(m=_.calcTraceToLineCoords(y)),S&&(V.geojson=_.makePolygon(m),V.layout.visibility="visible",k.extendFlat(V.paint,{"fill-color":w.fillcolor})),A&&(z.geojson=_.makeLine(m),z.layout.visibility="visible",k.extendFlat(z.paint,{"line-width":w.line.width,"line-color":w.line.color,"line-opacity":w.opacity})),O){var H=function(te){var Q,ne,$,J,re=te[0].trace,se=re.marker,ue=re.selectedpoints,he=k.isArrayOrTypedArray(se.color),pe=k.isArrayOrTypedArray(se.size),ge=k.isArrayOrTypedArray(se.opacity);function ye(de){return re.opacity*de}he&&(ne=b.hasColorscale(re,"marker")?b.makeColorScaleFuncFromTrace(se):k.identity),pe&&($=s(re)),ge&&(J=function(de){return ye(T(de)?+k.constrain(de,0,1):0)});var be,Te,Se=[];for(Q=0;Q<te.length;Q++){var Fe=te[Q],xe=Fe.lonlat;if(!x(xe)){var le={};ne&&(le.mcc=Fe.mcc=ne(Fe.mc)),$&&(le.mrc=Fe.mrc=$(Fe.ms)),J&&(le.mo=J(Fe.mo)),ue&&(le.selected=Fe.selected||0),Se.push({type:"Feature",id:Q+1,geometry:{type:"Point",coordinates:xe},properties:le})}}if(ue)for(be=f.makeSelectedPointStyleFns(re),Q=0;Q<Se.length;Q++){var oe=Se[Q].properties;be.selectedOpacityFn&&(oe.mo=ye(be.selectedOpacityFn(oe))),be.selectedColorFn&&(oe.mcc=be.selectedColorFn(oe)),be.selectedSizeFn&&(oe.mrc=be.selectedSizeFn(oe))}return{geojson:{type:"FeatureCollection",features:Se},mcc:he||be&&be.selectedColorFn?{type:"identity",property:"mcc"}:se.color,mrc:pe||be&&be.selectedSizeFn?{type:"identity",property:"mrc"}:(Te=se.size,Te/2),mo:ge||be&&be.selectedOpacityFn?{type:"identity",property:"mo"}:ye(se.opacity)}}(y);j.geojson=H.geojson,j.layout.visibility="visible",D&&(j.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":p(w.cluster.color,w.cluster.step),"circle-radius":p(w.cluster.size,w.cluster.step),"circle-opacity":p(w.cluster.opacity,w.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":v(w),"text-size":12}}),k.extendFlat(j.paint,{"circle-color":H.mcc,"circle-radius":H.mrc,"circle-opacity":H.mo})}if(O&&D&&(j.filter=["!",["has","point_count"]]),(I||P)&&(X.geojson=function(te,Q){for(var ne=Q._fullLayout,$=te[0].trace,J=$.marker||{},re=J.symbol,se=J.angle,ue=re!=="circle"?h(re):c,he=se!=="auto"?h(se,!0):c,pe=t.hasText($)?h($.text):c,ge=[],ye=0;ye<te.length;ye++){var be=te[ye];if(!x(be.lonlat)){var Te,Se=$.texttemplate;if(Se){var Fe=Array.isArray(Se)?Se[ye]||"":Se,xe=$._module.formatLabels(be,$,ne),le={};n(le,$,be.i);var oe=$._meta||{};Te=k.texttemplateString(Fe,xe,ne._d3locale,le,be,oe)}else Te=pe(ye);Te&&(Te=Te.replace(a,"").replace(l,`
`)),ge.push({type:"Feature",geometry:{type:"Point",coordinates:be.lonlat},properties:{symbol:ue(ye),angle:he(ye),text:Te}})}}return{type:"FeatureCollection",features:ge}}(y,g),k.extendFlat(X.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),I&&(k.extendFlat(X.layout,{"icon-size":w.marker.size/10}),"angle"in w.marker&&w.marker.angle!=="auto"&&k.extendFlat(X.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),X.layout["icon-allow-overlap"]=w.marker.allowoverlap,k.extendFlat(X.paint,{"icon-opacity":w.opacity*w.marker.opacity,"icon-color":w.marker.color})),P)){var W=(w.marker||{}).size,ie=r(w.textposition,W);k.extendFlat(X.layout,{"text-size":w.textfont.size,"text-anchor":ie.anchor,"text-offset":ie.offset,"text-font":v(w)}),k.extendFlat(X.paint,{"text-color":w.textfont.color,"text-opacity":w.opacity})}return F}},15752:function(U,C,e){var T=e(3400),k=e(43028),o=e(74428),_=e(66828),b=e(124),f=e(70840),s=e(31512),t=e(79732).isSupportedFont;U.exports=function(i,r,n,a){function l(w,d){return T.coerce(i,r,s,w,d)}function u(w,d){return T.coerce2(i,r,s,w,d)}var h=function(w,d,S){var A=S("lon")||[],E=S("lat")||[],P=Math.min(A.length,E.length);return d._length=P,P}(0,r,l);if(h){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),k.hasMarkers(r)){o(i,r,n,a,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=r.marker;c.symbol!=="circle"&&(T.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),T.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}k.hasLines(r)&&(_(i,r,n,a,l,{noDash:!0}),l("connectgaps"));var x=u("cluster.maxzoom"),p=u("cluster.step"),v=u("cluster.color",r.marker&&r.marker.color||n),g=u("cluster.size"),y=u("cluster.opacity");if(l("cluster.enabled",x!==!1||p!==!1||v!==!1||g!==!1||y!==!1)||k.hasText(r)){var m=a.font.family;b(i,r,a,l,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:t(m)?m:"Open Sans Regular",weight:a.font.weight,style:a.font.style,size:a.font.size,color:a.font.color}})}l("fill"),r.fill!=="none"&&f(i,r,n,l),T.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},37920:function(U){U.exports=function(C,e){return C.lon=e.lon,C.lat=e.lat,C}},11960:function(U,C,e){var T=e(54460);U.exports=function(k,o,_){var b={},f=_[o.subplot]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=T.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=T.tickText(f,f.c2l(s[1]),!0).text,b}},63312:function(U,C,e){var T=e(93024),k=e(3400),o=e(44928),_=k.fillText,b=e(39032).BADNUM,f=e(47552).traceLayerPrefix;function s(t,i,r){if(!t.hovertemplate){var n=(i.hi||t.hoverinfo).split("+"),a=n.indexOf("all")!==-1,l=n.indexOf("lon")!==-1,u=n.indexOf("lat")!==-1,h=i.lonlat,c=[];return a||l&&u?c.push("("+x(h[1])+", "+x(h[0])+")"):l?c.push(r.lon+x(h[0])):u&&c.push(r.lat+x(h[1])),(a||n.indexOf("text")!==-1)&&_(i,t,c),c.join("<br>")}function x(p){return p+""}}U.exports={hoverPoints:function(t,i,r){var n=t.cd,a=n[0].trace,l=t.xa,u=t.ya,h=t.subplot,c=[],x=f+a.uid+"-circle",p=a.cluster&&a.cluster.enabled;if(p){var v=h.map.queryRenderedFeatures(null,{layers:[x]});c=v.map(function(I){return I.id})}var g=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),y=i-g;if(T.getClosest(n,function(I){var D=I.lonlat;if(D[0]===b||p&&c.indexOf(I.i+1)===-1)return 1/0;var V=k.modHalf(D[0],360),z=D[1],j=h.project([V,z]),X=j.x-l.c2p([y,z]),F=j.y-u.c2p([V,r]),H=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(X*X+F*F)-H,1-3/H)},t),t.index!==!1){var m=n[t.index],w=m.lonlat,d=[k.modHalf(w[0],360)+g,w[1]],S=l.c2p(d),A=u.c2p(d),E=m.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=A-E,t.y1=A+E;var P={};P[a.subplot]={_subplot:h};var O=a._module.formatLabels(m,a,P);return t.lonLabel=O.lonLabel,t.latLabel=O.latLabel,t.color=o(a,m),t.extraText=s(a,m,n[0].t.labels),t.hovertemplate=a.hovertemplate,[t]}},getExtraText:s}},11572:function(U,C,e){U.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(T,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(U,C,e){var T=e(3400),k=e(59392),o=e(47552).traceLayerPrefix,_={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(s,t,i,r){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=i,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:o+t+"-fill",line:o+t+"-line",circle:o+t+"-circle",symbol:o+t+"-symbol",cluster:o+t+"-cluster",clusterCount:o+t+"-cluster-count"},this.below=null}var f=b.prototype;f.addSource=function(s,t,i){var r={type:"geojson",data:t.geojson};i&&i.enabled&&T.extendFlat(r,{cluster:!0,clusterMaxZoom:i.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[s]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],r)},f.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},f.addLayer=function(s,t,i){var r={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var n,a=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===a){n=!0;break}n?(this.subplot.setOptions(a,"setLayoutProperty",r.layout),r.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",r.paint)):this.subplot.addLayer(r,i)},f.update=function(s){var t=s[0].trace,i=this.subplot,r=i.map,n=k(i.gd,s),a=i.belowLookup["trace-"+this.uid],l=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,h=this;function c(y){u?function(m){for(var w=_.cluster,d=w.length-1;d>=0;d--){var S=w[d];r.removeLayer(h.layerIds[S])}m||r.removeSource(h.sourceIds.circle)}(y):function(m){for(var w=_.nonCluster,d=w.length-1;d>=0;d--){var S=w[d];r.removeLayer(h.layerIds[S]),m||r.removeSource(h.sourceIds[S])}}(y)}function x(y){l?function(m){m||h.addSource("circle",n.circle,t.cluster);for(var w=_.cluster,d=0;d<w.length;d++){var S=w[d],A=n[S];h.addLayer(S,A,a)}}(y):function(m){for(var w=_.nonCluster,d=0;d<w.length;d++){var S=w[d],A=n[S];m||h.addSource(S,A),h.addLayer(S,A,a)}}(y)}function p(){for(var y=l?_.cluster:_.nonCluster,m=0;m<y.length;m++){var w=y[m],d=n[w];d&&(i.setOptions(h.layerIds[w],"setLayoutProperty",d.layout),d.layout.visibility==="visible"&&(w!=="cluster"&&h.setSourceData(w,d),i.setOptions(h.layerIds[w],"setPaintProperty",d.paint)))}}var v=this.isHidden,g=t.visible!==!0;g?v||c():v?g||x():u!==l?(c(),x()):(this.below!==a&&(c(!0),x(!0)),p()),this.clusterEnabled=l,this.isHidden=g,this.below=a,s[0].trace._glTrace=this},f.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?_.cluster:_.nonCluster,i=t.length-1;i>=0;i--){var r=t[i];s.removeLayer(this.layerIds[r]),s.removeSource(this.sourceIds[r])}},U.exports=function(s,t){var i,r,n,a=t[0].trace,l=a.cluster&&a.cluster.enabled,u=a.visible!==!0,h=new b(s,a.uid,l,u),c=k(s.gd,t),x=h.below=s.belowLookup["trace-"+a.uid];if(l)for(h.addSource("circle",c.circle,a.cluster),i=0;i<_.cluster.length;i++)n=c[r=_.cluster[i]],h.addLayer(r,n,x);else for(i=0;i<_.nonCluster.length;i++)n=c[r=_.nonCluster[i]],h.addSource(r,n,a.cluster),h.addLayer(r,n,x);return t[0].trace._glTrace=h,h}},404:function(U,C,e){var T=e(3400),k=e(43028),o=e(39032).BADNUM;U.exports=function(_,b){var f,s=_.cd,t=_.xaxis,i=_.yaxis,r=[],n=s[0].trace;if(!k.hasMarkers(n))return[];if(b===!1)for(f=0;f<s.length;f++)s[f].selected=0;else for(f=0;f<s.length;f++){var a=s[f],l=a.lonlat;if(l[0]!==o){var u=[T.modHalf(l[0],360),l[1]],h=[t.c2p(u),i.c2p(u)];b.contains(h,null,f,_)?(r.push({pointNumber:f,lon:l[0],lat:l[1]}),a.selected=1):a.selected=0}}return r}},8319:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(92880).extendFlat,_=e(98304),b=e(52904),f=e(45464),s=b.line;U.exports={mode:b.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:o({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:o({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:o({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_(),hoverinfo:o({},f.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:b.hoveron,hovertemplate:T(),selected:b.selected,unselected:b.unselected}},58320:function(U,C,e){var T=e(38248),k=e(39032).BADNUM,o=e(54460),_=e(90136),b=e(20148),f=e(4500),s=e(16356).calcMarkerSize;U.exports=function(t,i){for(var r=t._fullLayout,n=i.subplot,a=r[n].radialaxis,l=r[n].angularaxis,u=a.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),p=0;p<c;p++){var v=u[p],g=h[p],y=x[p]={};T(v)&&T(g)?(y.r=v,y.theta=g):y.r=k}var m=s(i,c);return i._extremes.x=o.findExtremes(a,u,{ppad:m}),_(t,i),b(x,i),f(x,i),x}},85968:function(U,C,e){var T=e(3400),k=e(43028),o=e(74428),_=e(66828),b=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(8319);function r(n,a,l,u){var h,c=u("r"),x=u("theta");if(T.isTypedArray(c)&&(a.r=c=Array.from(c)),T.isTypedArray(x)&&(a.theta=x=Array.from(x)),c)x?h=Math.min(c.length,x.length):(h=c.length,u("theta0"),u("dtheta"));else{if(!x)return 0;h=a.theta.length,u("r0"),u("dr")}return a._length=h,h}U.exports={handleRThetaDefaults:r,supplyDefaults:function(n,a,l,u){function h(p,v){return T.coerce(n,a,i,p,v)}var c=r(0,a,0,h);if(c){h("thetaunit"),h("mode",c<t?"lines+markers":"lines"),h("text"),h("hovertext"),a.hoveron!=="fills"&&h("hovertemplate"),k.hasMarkers(a)&&o(n,a,l,u,h,{gradient:!0}),k.hasLines(a)&&(_(n,a,l,u,h,{backoff:!0}),b(n,a,h),h("connectgaps")),k.hasText(a)&&(h("texttemplate"),f(n,a,u,h));var x=[];(k.hasMarkers(a)||k.hasText(a))&&(h("cliponaxis"),h("marker.maxdisplayed"),x.push("points")),h("fill"),a.fill!=="none"&&(s(n,a,l,h),k.hasLines(a)||b(n,a,h)),a.fill!=="tonext"&&a.fill!=="toself"||x.push("fills"),h("hoveron",x.join("+")||"points"),T.coerceSelectionMarkerOpacity(a,h)}else a.visible=!1}}},22852:function(U,C,e){var T=e(3400),k=e(54460);U.exports=function(o,_,b){var f,s,t={},i=b[_.subplot]._subplot;i?(f=i.radialAxis,s=i.angularAxis):(f=(i=b[_.subplot]).radialaxis,s=i.angularaxis);var r=f.c2l(o.r);t.rLabel=k.tickText(f,r,!0).text;var n=s.thetaunit==="degrees"?T.rad2deg(o.theta):o.theta;return t.thetaLabel=k.tickText(s,n,!0).text,t}},8504:function(U,C,e){var T=e(98723);function k(o,_,b,f){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="r",t._hovertitle="";var i={};i[_.subplot]={_subplot:b};var r=_._module.formatLabels(o,_,i);f.rLabel=r.rLabel,f.thetaLabel=r.thetaLabel;var n=o.hi||_.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!_.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(s,f.rLabel),u.indexOf("theta")!==-1&&l(t,f.thetaLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}U.exports={hoverPoints:function(o,_,b,f){var s=T(o,_,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=o.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},76924:function(U,C,e){U.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(U,C,e){var T=e(96504),k=e(39032).BADNUM;U.exports=function(o,_,b){for(var f=_.layers.frontplot.select("g.scatterlayer"),s=_.xaxis,t=_.yaxis,i={xaxis:s,yaxis:t,plot:_.framework,layerClipId:_._hasClipOnAxisFalse?_.clipIds.forTraces:null},r=_.radialAxis,n=_.angularAxis,a=0;a<b.length;a++)for(var l=b[a],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=s,l[0].trace._yA=t);var h=l[u],c=h.r;if(c===k)h.x=h.y=k;else{var x=r.c2g(c),p=n.c2g(h.theta);h.x=x*Math.cos(p),h.y=x*Math.sin(p)}}T(o,i,b,f)}},24396:function(U,C,e){var T=e(8319),k=e(2876),o=e(21776).Gw;U.exports={mode:T.mode,r:T.r,theta:T.theta,r0:T.r0,dr:T.dr,theta0:T.theta0,dtheta:T.dtheta,thetaunit:T.thetaunit,text:T.text,texttemplate:o({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,hovertemplate:T.hovertemplate,line:{color:k.line.color,width:k.line.width,dash:k.line.dash,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:T.hoverinfo,selected:T.selected,unselected:T.unselected}},27160:function(U,C,e){U.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(U,C,e){var T=e(90136),k=e(16356).calcMarkerSize,o=e(84236),_=e(54460),b=e(67072).TOO_MANY_POINTS;U.exports=function(f,s){var t=f._fullLayout,i=s.subplot,r=t[i].radialaxis,n=t[i].angularaxis,a=s._r=r.makeCalcdata(s,"r"),l=s._theta=n.makeCalcdata(s,"theta"),u=s._length,h={};u<a.length&&(a=a.slice(0,u)),u<l.length&&(l=l.slice(0,u)),h.r=a,h.theta=l,T(f,s);var c,x=h.opts=o.style(f,s);return u<b?c=k(s,u):x.marker&&(c=2*(x.marker.sizeAvg||Math.max(x.marker.size,3))),s._extremes.x=_.findExtremes(r,a,{ppad:c}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(U,C,e){var T=e(3400),k=e(43028),o=e(85968).handleRThetaDefaults,_=e(74428),b=e(66828),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(24396);U.exports=function(r,n,a,l){function u(c,x){return T.coerce(r,n,i,c,x)}var h=o(r,n,l,u);h?(u("thetaunit"),u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(n)&&_(r,n,a,l,u,{noAngleRef:!0,noStandOff:!0}),k.hasLines(n)&&(b(r,n,a,l,u),u("connectgaps")),k.hasText(n)&&(u("texttemplate"),f(r,n,l,u,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),u("fill"),n.fill!=="none"&&s(r,n,a,u),T.coerceSelectionMarkerOpacity(n,u)):n.visible=!1}},94120:function(U,C,e){var T=e(22852);U.exports=function(k,o,_){var b=k.i;return"r"in k||(k.r=o._r[b]),"theta"in k||(k.theta=o._theta[b]),T(k,o,_)}},1600:function(U,C,e){var T=e(41272),k=e(8504).makeHoverPointText;U.exports={hoverPoints:function(o,_,b,f){var s=o.cd[0].t,t=s.r,i=s.theta,r=T.hoverPoints(o,_,b,f);if(r&&r[0].index!==!1){var n=r[0];if(n.index===void 0)return r;var a=o.subplot,l=n.cd[n.index],u=n.trace;if(l.r=t[n.index],l.theta=i[n.index],a.isPtInside(l))return n.xLabelVal=void 0,n.yLabelVal=void 0,k(l,u,a,n),r}}}},62944:function(U,C,e){var T=e(27160);T.plot=e(56512),U.exports=T},56512:function(U,C,e){var T=e(3108),k=e(38248),o=e(89876),_=e(74588),b=e(84236),f=e(3400),s=e(67072).TOO_MANY_POINTS;U.exports=function(t,i,r){if(r.length){var n=i.radialAxis,a=i.angularAxis,l=_(t,i);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var h,c=u[0],x=c.trace,p=c.t,v=x._length,g=p.r,y=p.theta,m=p.opts,w=g.slice(),d=y.slice();for(h=0;h<g.length;h++)i.isPtInside({r:g[h],theta:y[h]})||(w[h]=NaN,d[h]=NaN);var S=new Array(2*v),A=Array(v),E=Array(v);for(h=0;h<v;h++){var P,O,I=w[h];if(k(I)){var D=n.c2g(I),V=a.c2g(d[h],x.thetaunit);P=D*Math.cos(V),O=D*Math.sin(V)}else P=O=NaN;A[h]=S[2*h]=P,E[h]=S[2*h+1]=O}p.tree=T(S),m.marker&&v>=s&&(m.marker.cluster=p.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&f.extendFlat(m.line,b.linePositions(t,x,S)),m.text&&(f.extendFlat(m.text,{positions:S},b.textPosition(t,x,m.text,m.marker)),f.extendFlat(m.textSel,{positions:S},b.textPosition(t,x,m.text,m.markerSel)),f.extendFlat(m.textUnsel,{positions:S},b.textPosition(t,x,m.text,m.markerUnsel))),m.fill&&!l.fill2d&&(l.fill2d=!0),m.marker&&!l.scatter2d&&(l.scatter2d=!0),m.line&&!l.line2d&&(l.line2d=!0),m.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(m.line),l.fillOptions.push(m.fill),l.markerOptions.push(m.marker),l.markerSelectedOptions.push(m.markerSel),l.markerUnselectedOptions.push(m.markerUnsel),l.textOptions.push(m.text),l.textSelectedOptions.push(m.textSel),l.textUnselectedOptions.push(m.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),p.x=A,p.y=E,p.rawx=A,p.rawy=E,p.r=g,p.theta=y,p.positions=S,p._scene=l,p.index=l.count,l.count++}}),o(t,i,r)}},U.exports.reglPrecompiled={}},69496:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(92880).extendFlat,_=e(98304),b=e(52904),f=e(45464),s=b.line;U.exports={mode:b.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:o({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:o({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:o({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_(),hoverinfo:o({},f.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:b.hoveron,hovertemplate:T(),selected:b.selected,unselected:b.unselected}},47507:function(U,C,e){var T=e(38248),k=e(39032).BADNUM,o=e(90136),_=e(20148),b=e(4500),f=e(16356).calcMarkerSize;U.exports=function(s,t){for(var i=s._fullLayout,r=t.subplot,n=i[r].realaxis,a=i[r].imaginaryaxis,l=n.makeCalcdata(t,"real"),u=a.makeCalcdata(t,"imag"),h=t._length,c=new Array(h),x=0;x<h;x++){var p=l[x],v=u[x],g=c[x]={};T(p)&&T(v)?(g.real=p,g.imag=v):g.real=k}return f(t,h),o(s,t),_(c,t),b(c,t),c}},76716:function(U,C,e){var T=e(3400),k=e(43028),o=e(74428),_=e(66828),b=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,i=e(69496);U.exports=function(r,n,a,l){function u(x,p){return T.coerce(r,n,i,x,p)}var h=function(x,p,v,g){var y,m=g("real"),w=g("imag");return m&&w&&(y=Math.min(m.length,w.length)),T.isTypedArray(m)&&(p.real=m=Array.from(m)),T.isTypedArray(w)&&(p.imag=w=Array.from(w)),p._length=y,y}(0,n,0,u);if(h){u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(n)&&o(r,n,a,l,u,{gradient:!0}),k.hasLines(n)&&(_(r,n,a,l,u,{backoff:!0}),b(r,n,u),u("connectgaps")),k.hasText(n)&&(u("texttemplate"),f(r,n,l,u));var c=[];(k.hasMarkers(n)||k.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),n.fill!=="none"&&(s(r,n,a,u),k.hasLines(n)||b(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),T.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},49504:function(U,C,e){var T=e(54460);U.exports=function(k,o,_){var b={},f=_[o.subplot]._subplot;return b.realLabel=T.tickText(f.radialAxis,k.real,!0).text,b.imagLabel=T.tickText(f.angularAxis,k.imag,!0).text,b}},25292:function(U,C,e){var T=e(98723);function k(o,_,b,f){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="real",t._hovertitle="imag";var i={};i[_.subplot]={_subplot:b};var r=_._module.formatLabels(o,_,i);f.realLabel=r.realLabel,f.imagLabel=r.imagLabel;var n=o.hi||_.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!_.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(s,f.realLabel),u.indexOf("imag")!==-1&&l(t,f.imagLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}U.exports={hoverPoints:function(o,_,b,f){var s=T(o,_,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=o.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},95443:function(U,C,e){U.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(U,C,e){var T=e(96504),k=e(39032).BADNUM,o=e(36416).smith;U.exports=function(_,b,f){for(var s=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,r={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},n=0;n<f.length;n++)for(var a=f[n],l=0;l<a.length;l++){l===0&&(a[0].trace._xA=t,a[0].trace._yA=i);var u=a[l],h=u.real;if(h===k)u.x=u.y=k;else{var c=o([h,u.imag]);u.x=c[0],u.y=c[1]}}T(_,r,f,s)}},5896:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(98304),_=e(52904),b=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,i=_.marker,r=_.line,n=i.line;U.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:t({},_.hovertext,{}),line:{color:r.color,width:r.width,dash:s,backoff:r.backoff,shape:t({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:_.connectgaps,cliponaxis:_.cliponaxis,fill:t({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o(),marker:t({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:t({width:n.width,editType:"calc"},f("marker.line")),gradient:i.gradient,editType:"calc"},f("marker")),textfont:_.textfont,textposition:_.textposition,selected:_.selected,unselected:_.unselected,hoverinfo:t({},b.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:_.hoveron,hovertemplate:T()}},34335:function(U,C,e){var T=e(38248),k=e(90136),o=e(20148),_=e(4500),b=e(16356).calcMarkerSize,f=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};U.exports=function(t,i){var r,n,a,l,u,h,c=t._fullLayout[i.subplot].sum,x=i.sum||c,p={a:i.a,b:i.b,c:i.c};for(r=0;r<f.length;r++)if(!p[a=f[r]]){for(u=p[s[a][0]],h=p[s[a][1]],l=new Array(u.length),n=0;n<u.length;n++)l[n]=x-u[n]-h[n];p[a]=l}var v,g,y,m,w,d,S=i._length,A=new Array(S);for(r=0;r<S;r++)v=p.a[r],g=p.b[r],y=p.c[r],T(v)&&T(g)&&T(y)?((m=c/((v=+v)+(g=+g)+(y=+y)))!=1&&(v*=m,g*=m,y*=m),d=v,w=y-g,A[r]={x:w,y:d,a:v,b:g,c:y}):A[r]={x:!1,y:!1};return b(i,S),k(t,i),o(A,i),_(A,i),A}},84256:function(U,C,e){var T=e(3400),k=e(88200),o=e(43028),_=e(74428),b=e(66828),f=e(11731),s=e(124),t=e(70840),i=e(5896);U.exports=function(r,n,a,l){function u(g,y){return T.coerce(r,n,i,g,y)}var h,c=u("a"),x=u("b"),p=u("c");if(c?(h=c.length,x?(h=Math.min(h,x.length),p&&(h=Math.min(h,p.length))):h=p?Math.min(h,p.length):0):x&&p&&(h=Math.min(x.length,p.length)),h){n._length=h,u("sum"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),u("mode",h<k.PTS_LINESONLY?"lines+markers":"lines"),o.hasMarkers(n)&&_(r,n,a,l,u,{gradient:!0}),o.hasLines(n)&&(b(r,n,a,l,u,{backoff:!0}),f(r,n,u),u("connectgaps")),o.hasText(n)&&(u("texttemplate"),s(r,n,l,u));var v=[];(o.hasMarkers(n)||o.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),v.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,a,u),o.hasLines(n)||f(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||v.push("fills"),u("hoveron",v.join("+")||"points"),T.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},97476:function(U){U.exports=function(C,e,T,k,o){if(e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),k[o]){var _=k[o];C.a=_.a,C.b=_.b,C.c=_.c}else C.a=e.a,C.b=e.b,C.c=e.c;return C}},90404:function(U,C,e){var T=e(54460);U.exports=function(k,o,_){var b={},f=_[o.subplot]._subplot;return b.aLabel=T.tickText(f.aaxis,k.a,!0).text,b.bLabel=T.tickText(f.baxis,k.b,!0).text,b.cLabel=T.tickText(f.caxis,k.c,!0).text,b}},26596:function(U,C,e){var T=e(98723);U.exports=function(k,o,_,b){var f=T(k,o,_,b);if(f&&f[0].index!==!1){var s=f[0];if(s.index===void 0){var t=1-s.y0/k.ya._length,i=k.xa._length,r=i*t/2,n=i-r;return s.x0=Math.max(Math.min(s.x0,n),r),s.x1=Math.max(Math.min(s.x1,n),r),f}var a=s.cd[s.index],l=s.trace,u=s.subplot;s.a=a.a,s.b=a.b,s.c=a.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:u};var c=l._module.formatLabels(a,l,h);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var x=a.hi||l.hoverinfo,p=[];if(!l.hovertemplate){var v=x.split("+");v.indexOf("all")!==-1&&(v=["a","b","c"]),v.indexOf("a")!==-1&&g(u.aaxis,s.aLabel),v.indexOf("b")!==-1&&g(u.baxis,s.bLabel),v.indexOf("c")!==-1&&g(u.caxis,s.cLabel)}return s.extraText=p.join("<br>"),s.hovertemplate=l.hovertemplate,f}function g(y,m){p.push(y._hovertitle+": "+m)}}},34864:function(U,C,e){U.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(U,C,e){var T=e(96504);U.exports=function(k,o,_){var b=o.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var f=o.xaxis,s=o.yaxis,t={xaxis:f,yaxis:s,plot:b,layerClipId:o._hasClipOnAxisFalse?o.clipIdRelative:null},i=o.layers.frontplot.select("g.scatterlayer"),r=0;r<_.length;r++){var n=_[r];n.length&&(n[0].trace._xA=f,n[0].trace._yA=s)}T(k,t,_,i)}},44524:function(U,C,e){var T=e(52904),k=e(49084),o=e(29736).axisHoverFormat,_=e(21776).Ks,b=e(2876),f=e(33816).idRegex,s=e(31780).templatedArray,t=e(92880).extendFlat,i=T.marker,r=i.line,n=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),a=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:n,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:f[u],editType:"plot"}}}a.color.editType=a.cmin.editType=a.cmax.editType="style",U.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:_(),xhoverformat:o("x"),yhoverformat:o("y"),marker:a,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(U,C,e){var T=e(24040),k=e(12704);U.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},T.register(k)},99332:function(U,C,e){var T=e(13472),k=e(24040),o=e(5048),_=e(84888)._M,b=e(57952),f=e(79811).getFromId,s=e(54460).shouldShowZeroLine,t="splom",i={};function r(a,l,u){for(var h=u.matrixOptions.data.length,c=l._visibleDims,x=u.viewOpts.ranges=new Array(h),p=0;p<c.length;p++){var v=c[p],g=x[p]=new Array(4),y=f(a,l._diag[v][0]);y&&(g[0]=y.r2l(y.range[0]),g[2]=y.r2l(y.range[1]));var m=f(a,l._diag[v][1]);m&&(g[1]=m.r2l(m.range[0]),g[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:x},{ranges:x}):u.matrix.update({ranges:x})}function n(a){var l=a._fullLayout,u=l._glcanvas.data()[0].regl,h=l._splomGrid;h||(h=l._splomGrid=T(u)),h.update(function(c){var x,p=c._context.plotGlPixelRatio,v=c._fullLayout,g=v._size,y=[0,0,v.width*p,v.height*p],m={};function w(W,ie,te,Q,ne,$){te*=p,Q*=p,ne*=p,$*=p;var J=ie[W+"color"],re=ie[W+"width"],se=String(J+re);se in m?m[se].data.push(NaN,NaN,te,Q,ne,$):m[se]={data:[te,Q,ne,$],join:"rect",thickness:re*p,color:J,viewport:y,range:y,overlay:!1}}for(x in v._splomSubplots){var d,S,A=v._plots[x],E=A.xaxis,P=A.yaxis,O=E._gridVals,I=P._gridVals,D=E._offset,V=E._length,z=P._length,j=g.b+P.domain[0]*g.h,X=-P._m,F=-X*P.r2l(P.range[0],P.calendar);if(E.showgrid)for(x=0;x<O.length;x++)d=D+E.l2p(O[x].x),w("grid",E,d,j,d,j+z);if(P.showgrid)for(x=0;x<I.length;x++)w("grid",P,D,S=j+F+X*I[x].x,D+V,S);s(c,E,P)&&(d=D+E.l2p(0),w("zeroline",E,d,j,d,j+z)),s(c,P,E)&&w("zeroline",P,D,S=j+F+0,D+V,S)}var H=[];for(x in m)H.push(m[x]);return H}(a))}U.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(a){var l=a._fullLayout,u=k.getModule(t),h=_(a.calcdata,u)[0];o(a,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&n(a),u.plot(a,{},h))},drag:function(a){var l=a.calcdata,u=a._fullLayout;u._hasOnlyLargeSploms&&n(a);for(var h=0;h<l.length;h++){var c=l[h][0].trace,x=u._splomScenes[c.uid];c.type==="splom"&&x&&x.matrix&&r(a,c,x)}},updateGrid:n,clean:function(a,l,u,h){var c,x={};if(h._splomScenes){for(c=0;c<a.length;c++){var p=a[c];p.type==="splom"&&(x[p.uid]=1)}for(c=0;c<u.length;c++){var v=u[c];if(!x[v.uid]){var g=h._splomScenes[v.uid];g&&g.destroy&&g.destroy(),h._splomScenes[v.uid]=null,delete h._splomScenes[v.uid]}}}Object.keys(h._splomScenes||{}).length===0&&delete h._splomScenes,h._splomGrid&&!l._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),b.clean(a,l,u,h)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},66821:function(U,C,e){var T=e(3400),k=e(79811),o=e(16356).calcMarkerSize,_=e(16356).calcAxisExpansion,b=e(90136),f=e(84236).markerSelection,s=e(84236).markerStyle,t=e(72308),i=e(39032).BADNUM,r=e(67072).TOO_MANY_POINTS;U.exports=function(n,a){var l,u,h,c,x,p,v=a.dimensions,g=a._length,y={},m=y.cdata=[],w=y.data=[],d=a._visibleDims=[];function S(E,P){for(var O=E.makeCalcdata({v:P.values,vcalendar:a.calendar},"v"),I=0;I<O.length;I++)O[I]=O[I]===i?NaN:O[I];m.push(O),w.push(E.type==="log"?T.simpleMap(O,E.c2l):O)}for(l=0;l<v.length;l++)if((h=v[l]).visible){if(c=k.getFromId(n,a._diag[l][0]),x=k.getFromId(n,a._diag[l][1]),c&&x&&c.type!==x.type){T.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(S(c,h),x&&x.type==="category"&&(x._categories=c._categories.slice())):S(x,h),d.push(l)}for(b(n,a),T.extendFlat(y,s(n,a)),p=m.length*g>r?y.sizeAvg||Math.max(y.size,3):o(a,g),u=0;u<d.length;u++)h=v[l=d[u]],c=k.getFromId(n,a._diag[l][0])||{},x=k.getFromId(n,a._diag[l][1])||{},_(n,a,c,x,m[u],m[u],p);var A=t(n,a);return A.matrix||(A.matrix=!0),A.matrixOptions=y,A.selectedOptions=f(n,a,a.selected),A.unselectedOptions=f(n,a,a.unselected),[{x:!1,y:!1,t:{},trace:a}]}},69544:function(U,C,e){var T=e(3400),k=e(51272),o=e(44524),_=e(43028),b=e(74428),f=e(26284),s=e(80088).isOpenSymbol;function t(i,r){function n(l,u){return T.coerce(i,r,o.dimensions,l,u)}n("label");var a=n("values");a&&a.length?n("visible"):r.visible=!1,n("axis.type"),n("axis.matches")}U.exports=function(i,r,n,a){function l(g,y){return T.coerce(i,r,o,g,y)}var u=k(i,r,{name:"dimensions",handleItemDefaults:t}),h=l("diagonal.visible"),c=l("showupperhalf"),x=l("showlowerhalf");if(f(r,u,"values")&&(h||c||x)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(i,r,n,a,l,{noAngleRef:!0,noStandOff:!0});var p=s(r.marker.symbol),v=_.isBubble(r);l("marker.line.width",p||v?1:0),function(g,y,m,w){var d,S,A=y.dimensions,E=A.length,P=y.showupperhalf,O=y.showlowerhalf,I=y.diagonal.visible,D=new Array(E),V=new Array(E);for(d=0;d<E;d++){var z=d?d+1:"";D[d]="x"+z,V[d]="y"+z}var j=w("xaxes",D),X=w("yaxes",V),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var H=[],W=[];function ie(he,pe,ge,ye){if(he){var be=he.charAt(0),Te=m._splomAxes[be];if(y["_"+be+"axes"][he]=1,ye.push(he),!(he in Te)){var Se=Te[he]={};ge&&(Se.label=ge.label||"",ge.visible&&ge.axis&&(ge.axis.type&&(Se.type=ge.axis.type),ge.axis.matches&&(Se.matches=pe)))}}}var te=!I&&!O,Q=!I&&!P;for(y._axesDim={},d=0;d<E;d++){var ne=A[d],$=d===0,J=d===E-1,re=$&&te||J&&Q?void 0:j[d],se=$&&Q||J&&te?void 0:X[d];ie(re,se,ne,H),ie(se,re,ne,W),F[d]=[re,se],y._axesDim[re]=d,y._axesDim[se]=d}for(d=0;d<H.length;d++)for(S=0;S<W.length;S++){var ue=H[d]+W[S];d>S&&P||d<S&&O?m._splomSubplots[ue]=1:d!==S||!I&&O&&P||(m._splomSubplots[ue]=1)}(!O||!I&&P&&O)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,r,a,l),T.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},83156:function(U,C,e){var T=e(3400),k=e(90136),o=e(84236).markerStyle;U.exports=function(_,b){var f=b.trace,s=_._fullLayout._splomScenes[f.uid];if(s){k(_,f),T.extendFlat(s.matrixOptions,o(_,f));var t=T.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},50328:function(U,C){C.getDimIndex=function(e,T){for(var k=T._id,o={x:0,y:1}[k.charAt(0)],_=e._visibleDims,b=0;b<_.length;b++){var f=_[b];if(e._diag[f][o]===k)return b}return!1}},72248:function(U,C,e){var T=e(50328),k=e(41272).calcHover,o=e(54460).getFromId,_=e(92880).extendFlat;function b(f,s,t,i){var r=f.cd[0].trace,n=f.scene.matrixOptions.cdata,a=f.xa,l=f.ya,u=a.c2p(s),h=l.c2p(t),c=f.distance,x=T.getDimIndex(r,a),p=T.getDimIndex(r,l);if(x===!1||p===!1)return[f];for(var v,g,y=n[x],m=n[p],w=c,d=0;d<y.length;d++)if(!i||d===f.index){var S=y[d],A=m[d],E=a.c2p(S)-u,P=l.c2p(A)-h,O=Math.sqrt(E*E+P*P);(i||O<w)&&(w=g=O,v=d)}return f.index=v,f.distance=w,f.dxy=g,v===void 0?[f]:[k(f,y,m,r)]}U.exports={hoverPoints:function(f,s,t,i,r){r||(r={});var n=(i||"").charAt(0)==="x",a=(i||"").charAt(0)==="y",l=b(f,s,t);if((n||a)&&r.hoversubplots==="axis"&&l[0])for(var u=(n?f.xa:f.ya)._subplotsWith,h=r.gd,c=_({},f),x=0;x<u.length;x++){var p=u[x];if(p!==f.xa._id+f.ya._id){a?c.xa=o(h,p,"x"):c.ya=o(h,p,"y");var v=b(c,s,t,n||a);l=l.concat(v)}}return l}}},97924:function(U,C,e){var T=e(28888);T.basePlotModule=e(99332),U.exports=T},54840:function(U,C,e){var T=e(55795),k=e(3400),o=e(79811),_=e(72760).selectMode;function b(f,s){var t,i,r,n,a,l=f._fullLayout,u=l._size,h=s.trace,c=s.t,x=l._splomScenes[h.uid],p=x.matrixOptions,v=p.cdata,g=l._glcanvas.data()[0].regl,y=l.dragmode;if(v.length!==0){p.lower=h.showupperhalf,p.upper=h.showlowerhalf,p.diagonal=h.diagonal.visible;var m=h._visibleDims,w=v.length,d=x.viewOpts={};for(d.ranges=new Array(w),d.domains=new Array(w),a=0;a<m.length;a++){r=m[a];var S=d.ranges[a]=new Array(4),A=d.domains[a]=new Array(4);(t=o.getFromId(f,h._diag[r][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],A[0]=t.domain[0],A[2]=t.domain[1]),(i=o.getFromId(f,h._diag[r][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],A[1]=i.domain[0],A[3]=i.domain[1])}var E=f._context.plotGlPixelRatio,P=u.l*E,O=u.b*E,I=u.w*E,D=u.h*E;d.viewport=[P,O,I+P,D+O],x.matrix===!0&&(x.matrix=T(g));var V=l.clickmode.indexOf("select")>-1,z=!0;if(_(y)||h.selectedpoints||V){var j=h._length;if(h.selectedpoints){x.selectBatch=h.selectedpoints;var X=h.selectedpoints,F={};for(r=0;r<X.length;r++)F[X[r]]=!0;var H=[];for(r=0;r<j;r++)F[r]||H.push(r);x.unselectBatch=H}var W=c.xpx=new Array(w),ie=c.ypx=new Array(w);for(a=0;a<m.length;a++){if(r=m[a],t=o.getFromId(f,h._diag[r][0]))for(W[a]=new Array(j),n=0;n<j;n++)W[a][n]=t.c2p(v[a][n]);if(i=o.getFromId(f,h._diag[r][1]))for(ie[a]=new Array(j),n=0;n<j;n++)ie[a][n]=i.c2p(v[a][n])}if(x.selectBatch.length||x.unselectBatch.length){var te=k.extendFlat({},p,x.unselectedOptions,d),Q=k.extendFlat({},p,x.selectedOptions,d);x.matrix.update(te,Q),z=!1}}else c.xpx=c.ypx=null;if(z){var ne=k.extendFlat({},p,d);x.matrix.update(ne,null)}}}U.exports=function(f,s,t){if(t.length)for(var i=0;i<t.length;i++)b(f,t[i][0])}},72308:function(U,C,e){var T=e(3400);U.exports=function(k,o){var _=k._fullLayout,b=o.uid,f=_._splomScenes;f||(f=_._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=f[o.uid];return t||((t=f[b]=T.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||T.extendFlat(t,s),t}},62500:function(U,C,e){var T=e(3400),k=T.pushUnique,o=e(43028),_=e(50328);U.exports=function(b,f){var s=b.cd,t=s[0].trace,i=s[0].t,r=b.scene,n=r.matrixOptions.cdata,a=b.xaxis,l=b.yaxis,u=[];if(!r)return u;var h=!o.hasMarkers(t)&&!o.hasText(t);if(t.visible!==!0||h)return u;var c=_.getDimIndex(t,a),x=_.getDimIndex(t,l);if(c===!1||x===!1)return u;var p=i.xpx[c],v=i.ypx[x],g=n[c],y=n[x],m=(b.scene.selectBatch||[]).slice(),w=[];if(f!==!1&&!f.degenerate)for(var d=0;d<g.length;d++)f.contains([p[d],v[d]],null,d,b)?(u.push({pointNumber:d,x:g[d],y:y[d]}),k(m,d)):m.indexOf(d)!==-1?k(m,d):w.push(d);var S=r.matrixOptions;return m.length||w.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,T.extendFlat({},S,r.selectedOptions,r.viewOpts)):r.matrix.update(S,null),r.selectBatch=m,r.unselectBatch=w,u}},90167:function(U,C,e){var T=e(49084),k=e(29736).axisHoverFormat,o=e(21776).Ks,_=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,T("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,U.exports=s},3832:function(U,C,e){var T=e(3400),k=e(47128);function o(f){var s,t,i,r,n,a,l,u,h,c,x,p,v=f._x,g=f._y,y=f._z,m=f._len,w=-1/0,d=1/0,S=-1/0,A=1/0,E=-1/0,P=1/0,O="";for(m&&(l=v[0],h=g[0],x=y[0]),m>1&&(u=v[m-1],c=g[m-1],p=y[m-1]),s=0;s<m;s++)w=Math.max(w,v[s]),d=Math.min(d,v[s]),S=Math.max(S,g[s]),A=Math.min(A,g[s]),E=Math.max(E,y[s]),P=Math.min(P,y[s]),r||v[s]===l||(r=!0,O+="x"),n||g[s]===h||(n=!0,O+="y"),a||y[s]===x||(a=!0,O+="z");r||(O+="x"),n||(O+="y"),a||(O+="z");var I=_(f._x),D=_(f._y),V=_(f._z);O=(O=(O=O.replace("x",(l>u?"-":"+")+"x")).replace("y",(h>c?"-":"+")+"y")).replace("z",(x>p?"-":"+")+"z");var z=function(){m=0,I=[],D=[],V=[]};(!m||m<I.length*D.length*V.length)&&z();var j=function(be){return be==="x"?v:be==="y"?g:y},X=function(be){return be==="x"?I:be==="y"?D:V},F=function(be){return be[m-1]<be[0]?-1:1},H=j(O[1]),W=j(O[3]),ie=j(O[5]),te=X(O[1]).length,Q=X(O[3]).length,ne=X(O[5]).length,$=!1,J=function(be,Te,Se){return te*(Q*be+Te)+Se},re=F(j(O[1])),se=F(j(O[3])),ue=F(j(O[5]));for(s=0;s<ne-1;s++){for(t=0;t<Q-1;t++){for(i=0;i<te-1;i++){var he=J(s,t,i),pe=J(s,t,i+1),ge=J(s,t+1,i),ye=J(s+1,t,i);if(H[he]*re<H[pe]*re&&W[he]*se<W[ge]*se&&ie[he]*ue<ie[ye]*ue||($=!0),$)break}if($)break}if($)break}return $&&(T.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:d,yMin:A,zMin:P,xMax:w,yMax:S,zMax:E,Xs:I,Ys:D,Zs:V,len:m,fill:O}}function _(f){return T.distinctVals(f).vals}function b(f,s){if(s===void 0&&(s=f.length),T.isTypedArray(f))return f.subarray(0,s);for(var t=[],i=0;i<s;i++)t[i]=+f[i];return t}U.exports={calc:function(f,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=b(s.u,s._len),s._v=b(s.v,s._len),s._w=b(s.w,s._len),s._x=b(s.x,s._len),s._y=b(s.y,s._len),s._z=b(s.z,s._len);var t=o(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var i,r,n,a=0;s.starts&&(i=b(s.starts.x||[]),r=b(s.starts.y||[]),n=b(s.starts.z||[]),a=Math.min(i.length,r.length,n.length)),s._startsX=i||[],s._startsY=r||[],s._startsZ=n||[];var l,u=0,h=1/0;for(l=0;l<s._len;l++){var c=s._u[l],x=s._v[l],p=s._w[l],v=Math.sqrt(c*c+x*x+p*p);u=Math.max(u,v),h=Math.min(h,v)}for(k(f,s,{vals:[h,u],containerStr:"",cLetter:"c"}),l=0;l<a;l++){var g=i[l];t.xMax=Math.max(t.xMax,g),t.xMin=Math.min(t.xMin,g);var y=r[l];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var m=n[l];t.zMax=Math.max(t.zMax,m),t.zMin=Math.min(t.zMin,m)}s._slen=a,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:o}},25668:function(U,C,e){var T=e(67792).gl_streamtube3d,k=T.createTubeMesh,o=e(3400),_=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function t(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function r(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function n(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function a(l,u){var h=l.fullSceneLayout,c=l.dataScale,x=u._len,p={};function v(te,Q){var ne=h[Q],$=c[s[Q]];return o.simpleMap(te,function(J){return ne.d2l(J)*$})}if(p.vectors=f(v(u._u,"xaxis"),v(u._v,"yaxis"),v(u._w,"zaxis"),x),!x)return{positions:[],cells:[]};var g=v(u._Xs,"xaxis"),y=v(u._Ys,"yaxis"),m=v(u._Zs,"zaxis");if(p.meshgrid=[g,y,m],p.gridFill=u._gridFill,u._slen)p.startingPositions=f(v(u._startsX,"xaxis"),v(u._startsY,"yaxis"),v(u._startsZ,"zaxis"));else{for(var w=y[0],d=r(g),S=r(m),A=new Array(d.length*S.length),E=0,P=0;P<d.length;P++)for(var O=0;O<S.length;O++)A[E++]=[d[P],w,S[O]];p.startingPositions=A}p.colormap=_(u),p.tubeSize=u.sizeref,p.maxLength=u.maxdisplayed;var I=v(u._xbnds,"xaxis"),D=v(u._ybnds,"yaxis"),V=v(u._zbnds,"zaxis"),z=n(g),j=n(y),X=n(m),F=[[I[0]-z[0],D[0]-j[0],V[0]-X[0]],[I[1]+z[1],D[1]+j[1],V[1]+X[1]]],H=T(p,F),W=b(u);H.vertexIntensityBounds=[W.min/u._normMax,W.max/u._normMax];var ie=u.lightposition;return H.lightPosition=[ie.x,ie.y,ie.z],H.ambient=u.lighting.ambient,H.diffuse=u.lighting.diffuse,H.specular=u.lighting.specular,H.roughness=u.lighting.roughness,H.fresnel=u.lighting.fresnel,H.opacity=u.opacity,u._pad=H.tubeScale*u.sizeref*2,H}i.handlePick=function(l){var u=this.scene.fullSceneLayout,h=this.scene.dataScale;function c(v,g){var y=u[g],m=h[s[g]];return y.l2c(v)/m}if(l.object===this.mesh){var x=l.data.position,p=l.data.velocity;return l.traceCoordinate=[c(x[0],"xaxis"),c(x[1],"yaxis"),c(x[2],"zaxis"),c(p[0],"xaxis"),c(p[1],"yaxis"),c(p[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=a(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(l,u){var h=l.glplot.gl,c=a(l,u),x=k(h,c),p=new t(l,u.uid);return p.mesh=x,p.data=u,x._trace=p,l.glplot.add(x),p}},54304:function(U,C,e){var T=e(3400),k=e(27260),o=e(90167);U.exports=function(_,b,f,s){function t(h,c){return T.coerce(_,b,o,h,c)}var i=t("u"),r=t("v"),n=t("w"),a=t("x"),l=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&a&&a.length&&l&&l.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},15436:function(U,C,e){U.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(T,k){return T.tubex=T.x,T.tubey=T.y,T.tubez=T.z,T.tubeu=k.traceCoordinate[3],T.tubev=k.traceCoordinate[4],T.tubew=k.traceCoordinate[5],T.norm=k.traceCoordinate[6],T.divergence=k.traceCoordinate[7],delete T.x,delete T.y,delete T.z,T},meta:{}}},424:function(U,C,e){var T=e(45464),k=e(21776).Ks,o=e(21776).Gw,_=e(49084),b=e(86968).u,f=e(74996),s=e(27328),t=e(92880).extendFlat,i=e(98192).c;U.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},f.marker.line.color,{dflt:null}),width:t({},f.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},_("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:f.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:o({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:f.hovertext,hoverinfo:t({},T.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:s.eventDataKeys}),textfont:f.textfont,insidetextorientation:f.insidetextorientation,insidetextfont:f.insidetextfont,outsidetextfont:t({},f.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:f.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(U,C,e){var T=e(7316);C.name="sunburst",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},3776:function(U,C,e){var T=e(74148),k=e(38248),o=e(3400),_=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,f=e(45768).generateExtendedColors,s=e(8932).calc,t=e(39032).ALMOST_EQUAL,i={},r={},n={};function a(l,u,h){var c=0,x=l.children;if(x){for(var p=x.length,v=0;v<p;v++)c+=a(x[v],u,h);h.branches&&c++}else h.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}C.calc=function(l,u){var h,c,x,p,v,g,y=l._fullLayout,m=u.ids,w=o.isArrayOrTypedArray(m),d=u.labels,S=u.parents,A=u.values,E=o.isArrayOrTypedArray(A),P=[],O={},I={},D=function(ue){return ue||typeof ue=="number"},V=function(ue){return!E||k(A[ue])&&A[ue]>=0};w?(h=Math.min(m.length,S.length),c=function(ue){return D(m[ue])&&V(ue)},x=function(ue){return String(m[ue])}):(h=Math.min(d.length,S.length),c=function(ue){return D(d[ue])&&V(ue)},x=function(ue){return String(d[ue])}),E&&(h=Math.min(h,A.length));for(var z=0;z<h;z++)if(c(z)){var j=x(z),X=D(S[z])?String(S[z]):"",F={i:z,id:j,pid:X,label:D(d[z])?String(d[z]):""};E&&(F.v=+A[z]),P.push(F),v=j,O[p=X]?O[p].push(v):O[p]=[v],I[v]=1}if(O[""]){if(O[""].length>1){for(var H=o.randstr(),W=0;W<P.length;W++)P[W].pid===""&&(P[W].pid=H);P.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var ie,te=[];for(ie in O)I[ie]||te.push(ie);if(te.length!==1)return o.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",te.join(", ")].join(" "));ie=te[0],P.unshift({hasImpliedRoot:!0,id:ie,pid:"",label:ie})}try{g=T.stratify().id(function(ue){return ue.id}).parentId(function(ue){return ue.pid})(P)}catch(ue){return o.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ue.message].join(" "))}var Q=T.hierarchy(g),ne=!1;if(E)switch(u.branchvalues){case"remainder":Q.sum(function(ue){return ue.data.v});break;case"total":Q.each(function(ue){var he=ue.data.data,pe=he.v;if(ue.children){var ge=ue.children.reduce(function(ye,be){return ye+be.data.data.v},0);if((he.hasImpliedRoot||he.hasMultipleRoots)&&(pe=ge),pe<ge*t)return ne=!0,o.warn(["Total value for node",ue.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,ge].join(" "))}ue.value=pe})}else a(Q,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ne){var $,J;u.sort&&Q.sort(function(ue,he){return he.value-ue.value});var re=u.marker.colors||[],se=!!re.length;return u._hasColorscale?(se||(re=E?u.values:u._values),s(l,u,{vals:re,containerStr:"marker",cLetter:"c"}),J=_(u.marker)):$=b(y["_"+u.type+"colormap"]),Q.each(function(ue){var he=ue.data.data;he.color=u._hasColorscale?J(re[he.i]):$(re[he.i],he.id)}),P[0].hierarchy=Q,P}},C._runCrossTraceCalc=function(l,u){var h=u._fullLayout,c=u.calcdata,x=h[l+"colorway"],p=h["_"+l+"colormap"];h["extend"+l+"colors"]&&(x=f(x,l==="icicle"?n:l==="treemap"?r:i));var v,g=0;function y(d){var S=d.data.data,A=S.id;S.color===!1&&(p[A]?S.color=p[A]:d.parent?d.parent.parent?S.color=d.parent.data.data.color:(p[A]=S.color=x[g%x.length],g++):S.color=v)}for(var m=0;m<c.length;m++){var w=c[m][0];w.trace.type===l&&w.hierarchy&&(v=w.trace.root.color,w.hierarchy.each(y))}},C.crossTraceCalc=function(l){return C._runCrossTraceCalc("sunburst",l)}},27328:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(U,C,e){var T=e(3400),k=e(424),o=e(86968).Q,_=e(31508).handleText,b=e(74174).handleMarkerDefaults,f=e(8932),s=f.hasColorscale,t=f.handleDefaults;U.exports=function(i,r,n,a){function l(v,g){return T.coerce(i,r,k,v,g)}var u=l("labels"),h=l("parents");if(u&&u.length&&h&&h.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(i,r,a,l);var x=r._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;x&&t(i,r,a,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",x?1:.7);var p=l("text");l("texttemplate"),r.texttemplate||l("textinfo",T.isArrayOrTypedArray(p)?"text+label":"label"),l("hovertext"),l("hovertemplate"),_(i,r,a,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),o(r,a,l),r._length=null}else r.visible=!1}},60404:function(U,C,e){var T=e(43616),k=e(76308);U.exports=function(o,_,b,f,s){var t=_.data.data,i=t.i,r=s||t.color;if(i>=0){_.i=t.i;var n=b.marker;n.pattern&&n.colors&&n.pattern.shape||(n.color=r,_.color=r),T.pointStyle(o,b,f,_)}else k.fill(o,r)}},45716:function(U,C,e){var T=e(33428),k=e(24040),o=e(10624).appendArrayPointValue,_=e(93024),b=e(3400),f=e(95924),s=e(78176),t=e(69656).formatPieValue;function i(r,n,a){for(var l=r.data.data,u={curveNumber:n.index,pointNumber:l.i,data:n._input,fullData:n},h=0;h<a.length;h++){var c=a[h];c in r&&(u[c]=r[c])}return"parentString"in r&&!s.isHierarchyRoot(r)&&(u.parent=r.parentString),o(u,n,l.i),u}U.exports=function(r,n,a,l,u){var h=l[0],c=h.trace,x=h.hierarchy,p=c.type==="sunburst",v=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(g){var y=a._fullLayout;if(!a._dragging&&y.hovermode!==!1){var m,w=a._fullData[c.index],d=g.data.data,S=d.i,A=s.isHierarchyRoot(g),E=s.getParent(x,g),P=s.getValue(g),O=function(re){return b.castOption(w,S,re)},I=O("hovertemplate"),D=_.castHoverinfo(w,y,S),V=y.separators;if(I||D&&D!=="none"&&D!=="skip"){var z,j;p&&(z=h.cx+g.pxmid[0]*(1-g.rInscribed),j=h.cy+g.pxmid[1]*(1-g.rInscribed)),v&&(z=g._hoverX,j=g._hoverY);var X,F={},H=[],W=[],ie=function(re){return H.indexOf(re)!==-1};D&&(H=D==="all"?w._module.attributes.hoverinfo.flags:D.split("+")),F.label=d.label,ie("label")&&F.label&&W.push(F.label),d.hasOwnProperty("v")&&(F.value=d.v,F.valueLabel=t(F.value,V),ie("value")&&W.push(F.valueLabel)),F.currentPath=g.currentPath=s.getPath(g.data),ie("current path")&&!A&&W.push(F.currentPath);var te=[],Q=function(){te.indexOf(X)===-1&&(W.push(X),te.push(X))};F.percentParent=g.percentParent=P/s.getValue(E),F.parent=g.parentString=s.getPtLabel(E),ie("percent parent")&&(X=s.formatPercent(F.percentParent,V)+" of "+F.parent,Q()),F.percentEntry=g.percentEntry=P/s.getValue(n),F.entry=g.entry=s.getPtLabel(n),!ie("percent entry")||A||g.onPathbar||(X=s.formatPercent(F.percentEntry,V)+" of "+F.entry,Q()),F.percentRoot=g.percentRoot=P/s.getValue(x),F.root=g.root=s.getPtLabel(x),ie("percent root")&&!A&&(X=s.formatPercent(F.percentRoot,V)+" of "+F.root,Q()),F.text=O("hovertext")||O("text"),ie("text")&&(X=F.text,b.isValidTextValue(X)&&W.push(X)),m=[i(g,w,u.eventDataKeys)];var ne={trace:w,y:j,_x0:g._x0,_x1:g._x1,_y0:g._y0,_y1:g._y1,text:W.join("<br>"),name:I||ie("name")?w.name:void 0,color:O("hoverlabel.bgcolor")||d.color,borderColor:O("hoverlabel.bordercolor"),fontFamily:O("hoverlabel.font.family"),fontSize:O("hoverlabel.font.size"),fontColor:O("hoverlabel.font.color"),fontWeight:O("hoverlabel.font.weight"),fontStyle:O("hoverlabel.font.style"),fontVariant:O("hoverlabel.font.variant"),nameLength:O("hoverlabel.namelength"),textAlign:O("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:F,eventData:m};p&&(ne.x0=z-g.rInscribed*g.rpx1,ne.x1=z+g.rInscribed*g.rpx1,ne.idealAlign=g.pxmid[0]<0?"left":"right"),v&&(ne.x=z,ne.idealAlign=z<0?"left":"right");var $=[];_.loneHover(ne,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:a,inOut_bbox:$}),m[0].bbox=$[0],c._hasHoverLabel=!0}if(v){var J=r.select("path.surface");u.styleOne(J,g,w,a,{hovered:!0})}c._hasHoverEvent=!0,a.emit("plotly_hover",{points:m||[i(g,w,u.eventDataKeys)],event:T.event})}}),r.on("mouseout",function(g){var y=a._fullLayout,m=a._fullData[c.index],w=T.select(this).datum();if(c._hasHoverEvent&&(g.originalEvent=T.event,a.emit("plotly_unhover",{points:[i(w,m,u.eventDataKeys)],event:T.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(_.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),v){var d=r.select("path.surface");u.styleOne(d,w,m,a,{hovered:!1})}}),r.on("click",function(g){var y=a._fullLayout,m=a._fullData[c.index],w=p&&(s.isHierarchyRoot(g)||s.isLeaf(g)),d=s.getPtId(g),S=s.isEntry(g)?s.findEntryWithChild(x,d):s.findEntryWithLevel(x,d),A=s.getPtId(S),E={points:[i(g,m,u.eventDataKeys)],event:T.event};w||(E.nextLevel=A);var P=f.triggerHandler(a,"plotly_"+c.type+"click",E);if(P!==!1&&y.hovermode&&(a._hoverdata=[i(g,m,u.eventDataKeys)],_.click(a,T.event)),!w&&P!==!1&&!a._dragging&&!a._transitioning){k.call("_storeDirectGUIEdit",m,y._tracePreGUI[m.uid],{level:m.level});var O={data:[{level:A}],traces:[c.index]},I={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};_.loneUnhover(y._hoverlayer.node()),k.call("animate",a,O,I)}})}},78176:function(U,C,e){var T=e(3400),k=e(76308),o=e(93972),_=e(69656);function b(f){return f.data.data.pid}C.findEntryWithLevel=function(f,s){var t;return s&&f.eachAfter(function(i){if(C.getPtId(i)===s)return t=i.copy()}),t||f},C.findEntryWithChild=function(f,s){var t;return f.eachAfter(function(i){for(var r=i.children||[],n=0;n<r.length;n++){var a=r[n];if(C.getPtId(a)===s)return t=i.copy()}}),t||f},C.isEntry=function(f){return!f.parent},C.isLeaf=function(f){return!f.children},C.getPtId=function(f){return f.data.data.id},C.getPtLabel=function(f){return f.data.data.label},C.getValue=function(f){return f.value},C.isHierarchyRoot=function(f){return b(f)===""},C.setSliceCursor=function(f,s,t){var i=t.isTransitioning;if(!i){var r=f.datum();i=t.hideOnRoot&&C.isHierarchyRoot(r)||t.hideOnLeaves&&C.isLeaf(r)}o(f,i?null:"pointer")},C.getInsideTextFontKey=function(f,s,t,i,r){var n=(r||{}).onPathbar?"pathbar.textfont":"insidetextfont",a=t.data.data.i;return T.castOption(s,a,n+"."+f)||T.castOption(s,a,"textfont."+f)||i.size},C.getOutsideTextFontKey=function(f,s,t,i){var r=t.data.data.i;return T.castOption(s,r,"outsidetextfont."+f)||T.castOption(s,r,"textfont."+f)||i.size},C.isOutsideText=function(f,s){return!f._hasColorscale&&C.isHierarchyRoot(s)},C.determineTextFont=function(f,s,t,i){return C.isOutsideText(f,s)?function(r,n,a){return{color:C.getOutsideTextFontKey("color",r,n,a),family:C.getOutsideTextFontKey("family",r,n,a),size:C.getOutsideTextFontKey("size",r,n,a),weight:C.getOutsideTextFontKey("weight",r,n,a),style:C.getOutsideTextFontKey("style",r,n,a),variant:C.getOutsideTextFontKey("variant",r,n,a),textcase:C.getOutsideTextFontKey("textcase",r,n,a),lineposition:C.getOutsideTextFontKey("lineposition",r,n,a),shadow:C.getOutsideTextFontKey("shadow",r,n,a)}}(f,s,t):function(r,n,a,l){var u=(l||{}).onPathbar,h=n.data.data,c=h.i,x=T.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!x&&r._input.textfont&&(x=T.castOption(r._input,c,"textfont.color")),{color:x||k.contrast(h.color),family:C.getInsideTextFontKey("family",r,n,a,l),size:C.getInsideTextFontKey("size",r,n,a,l),weight:C.getInsideTextFontKey("weight",r,n,a,l),style:C.getInsideTextFontKey("style",r,n,a,l),variant:C.getInsideTextFontKey("variant",r,n,a,l),textcase:C.getInsideTextFontKey("textcase",r,n,a,l),lineposition:C.getInsideTextFontKey("lineposition",r,n,a,l),shadow:C.getInsideTextFontKey("shadow",r,n,a,l)}}(f,s,t,i)},C.hasTransition=function(f){return!!(f&&f.duration>0)},C.getMaxDepth=function(f){return f.maxdepth>=0?f.maxdepth:1/0},C.isHeader=function(f,s){return!(C.isLeaf(f)||f.depth===s._maxDepth-1)},C.getParent=function(f,s){return C.findEntryWithLevel(f,b(s))},C.listPath=function(f,s){var t=f.parent;if(!t)return[];var i=s?[t.data[s]]:[t];return C.listPath(t,s).concat(i)},C.getPath=function(f){return C.listPath(f,"label").join("/")+"/"},C.formatValue=_.formatPieValue,C.formatPercent=function(f,s){var t=T.formatPercent(f,0);return t==="0%"&&(t=_.formatPiePercent(f,s)),t}},5621:function(U,C,e){U.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(U){U.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(U,C,e){var T=e(3400),k=e(84920);U.exports=function(o,_){function b(f,s){return T.coerce(o,_,k,f,s)}b("sunburstcolorway",_.colorway),b("extendsunburstcolors")}},96488:function(U,C,e){var T=e(33428),k=e(74148),o=e(67756).qy,_=e(43616),b=e(3400),f=e(72736),s=e(82744),t=s.recordMinTextSize,i=s.clearMinTextSize,r=e(37820),n=e(69656).getRotationAngle,a=r.computeTransform,l=r.transformInsideText,u=e(85676).styleOne,h=e(60100).resizeText,c=e(45716),x=e(27328),p=e(78176);function v(y,m,w,d){var S=y._context.staticPlot,A=y._fullLayout,E=!A.uniformtext.mode&&p.hasTransition(d),P=T.select(w).selectAll("g.slice"),O=m[0],I=O.trace,D=O.hierarchy,V=p.findEntryWithLevel(D,I.level),z=p.getMaxDepth(I),j=A._size,X=I.domain,F=j.w*(X.x[1]-X.x[0]),H=j.h*(X.y[1]-X.y[0]),W=.5*Math.min(F,H),ie=O.cx=j.l+j.w*(X.x[1]+X.x[0])/2,te=O.cy=j.t+j.h*(1-X.y[0])-H/2;if(!V)return P.remove();var Q=null,ne={};E&&P.each(function(oe){ne[p.getPtId(oe)]={rpx0:oe.rpx0,rpx1:oe.rpx1,x0:oe.x0,x1:oe.x1,transform:oe.transform},!Q&&p.isEntry(oe)&&(Q=oe)});var $=function(oe){return k.partition().size([2*Math.PI,oe.height+1])(oe)}(V).descendants(),J=V.height+1,re=0,se=z;O.hasMultipleRoots&&p.isHierarchyRoot(V)&&($=$.slice(1),J-=1,re=1,se+=1),$=$.filter(function(oe){return oe.y1<=se});var ue=n(I.rotation);ue&&$.forEach(function(oe){oe.x0+=ue,oe.x1+=ue});var he=Math.min(J,z),pe=function(oe){return(oe-re)/he*W},ge=function(oe,de){return[oe*Math.cos(de),-oe*Math.sin(de)]},ye=function(oe){return b.pathAnnulus(oe.rpx0,oe.rpx1,oe.x0,oe.x1,ie,te)},be=function(oe){return ie+g(oe)[0]*(oe.transform.rCenter||0)+(oe.transform.x||0)},Te=function(oe){return te+g(oe)[1]*(oe.transform.rCenter||0)+(oe.transform.y||0)};(P=P.data($,p.getPtId)).enter().append("g").classed("slice",!0),E?P.exit().transition().each(function(){var oe=T.select(this);oe.select("path.surface").transition().attrTween("d",function(de){var Ce=function(_e){var Ae,Le=p.getPtId(_e),ze=ne[Le],Re=ne[p.getPtId(V)];if(Re){var ve=(_e.x1>Re.x1?2*Math.PI:0)+ue;Ae=_e.rpx1<Re.rpx1?{x0:_e.x0,x1:_e.x1,rpx0:0,rpx1:0}:{x0:ve,x1:ve,rpx0:_e.rpx0,rpx1:_e.rpx1}}else{var ke,Ee=p.getPtId(_e.parent);P.each(function($e){if(p.getPtId($e)===Ee)return ke=$e});var De,Pe=ke.children;Pe.forEach(function($e,ot){if(p.getPtId($e)===Le)return De=ot});var Ue=Pe.length,We=o(ke.x0,ke.x1);Ae={rpx0:W,rpx1:W,x0:We(De/Ue),x1:We((De+1)/Ue)}}return o(ze,Ae)}(de);return function(_e){return ye(Ce(_e))}}),oe.select("g.slicetext").attr("opacity",0)}).remove():P.exit().remove(),P.order();var Se=null;if(E&&Q){var Fe=p.getPtId(Q);P.each(function(oe){Se===null&&p.getPtId(oe)===Fe&&(Se=oe.x1)})}var xe=P;function le(oe){var de=oe.parent,Ce=ne[p.getPtId(de)],_e={};if(Ce){var Ae=de.children,Le=Ae.indexOf(oe),ze=Ae.length,Re=o(Ce.x0,Ce.x1);_e.x0=Re(Le/ze),_e.x1=Re(Le/ze)}else _e.x0=_e.x1=0;return _e}E&&(xe=xe.transition().each("end",function(){var oe=T.select(this);p.setSliceCursor(oe,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(oe){var de=T.select(this),Ce=b.ensureSingle(de,"path","surface",function(ve){ve.style("pointer-events",S?"none":"all")});oe.rpx0=pe(oe.y0),oe.rpx1=pe(oe.y1),oe.xmid=(oe.x0+oe.x1)/2,oe.pxmid=ge(oe.rpx1,oe.xmid),oe.midangle=-(oe.xmid-Math.PI/2),oe.startangle=-(oe.x0-Math.PI/2),oe.stopangle=-(oe.x1-Math.PI/2),oe.halfangle=.5*Math.min(b.angleDelta(oe.x0,oe.x1)||Math.PI,Math.PI),oe.ring=1-oe.rpx0/oe.rpx1,oe.rInscribed=function(ve){return ve.rpx0===0&&b.isFullCircle([ve.x0,ve.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(ve.halfangle)),ve.ring/2))}(oe),E?Ce.transition().attrTween("d",function(ve){var ke=function(Ee){var De,Pe=ne[p.getPtId(Ee)],Ue={x0:Ee.x0,x1:Ee.x1,rpx0:Ee.rpx0,rpx1:Ee.rpx1};if(Pe)De=Pe;else if(Q)if(Ee.parent)if(Se){var We=(Ee.x1>Se?2*Math.PI:0)+ue;De={x0:We,x1:We}}else De={rpx0:W,rpx1:W},b.extendFlat(De,le(Ee));else De={rpx0:0,rpx1:0};else De={x0:ue,x1:ue};return o(De,Ue)}(ve);return function(Ee){return ye(ke(Ee))}}):Ce.attr("d",ye),de.call(c,V,y,m,{eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(p.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Ce.call(u,oe,I,y);var _e=b.ensureSingle(de,"g","slicetext"),Ae=b.ensureSingle(_e,"text","",function(ve){ve.attr("data-notex",1)}),Le=b.ensureUniformFontSize(y,p.determineTextFont(I,oe,A.font));Ae.text(C.formatSliceLabel(oe,V,I,m,A)).classed("slicetext",!0).attr("text-anchor","middle").call(_.font,Le).call(f.convertToTspans,y);var ze=_.bBox(Ae.node());oe.transform=l(ze,oe,O),oe.transform.targetX=be(oe),oe.transform.targetY=Te(oe);var Re=function(ve,ke){var Ee=ve.transform;return a(Ee,ke),Ee.fontSize=Le.size,t(I.type,Ee,A),b.getTextTransform(Ee)};E?Ae.transition().attrTween("transform",function(ve){var ke=function(Ee){var De,Pe=ne[p.getPtId(Ee)],Ue=Ee.transform;if(Pe)De=Pe;else if(De={rpx1:Ee.rpx1,transform:{textPosAngle:Ue.textPosAngle,scale:0,rotate:Ue.rotate,rCenter:Ue.rCenter,x:Ue.x,y:Ue.y}},Q)if(Ee.parent)if(Se){var We=Ee.x1>Se?2*Math.PI:0;De.x0=De.x1=We}else b.extendFlat(De,le(Ee));else De.x0=De.x1=ue;else De.x0=De.x1=ue;var $e=o(De.transform.textPosAngle,Ee.transform.textPosAngle),ot=o(De.rpx1,Ee.rpx1),st=o(De.x0,Ee.x0),mt=o(De.x1,Ee.x1),_t=o(De.transform.scale,Ue.scale),yt=o(De.transform.rotate,Ue.rotate),it=Ue.rCenter===0?3:De.transform.rCenter===0?1/3:1,tt=o(De.transform.rCenter,Ue.rCenter);return function(Pt){var Rt=ot(Pt),Ft=st(Pt),Ot=mt(Pt),Xe=function(Ve){return tt(Math.pow(Ve,it))}(Pt),Je={pxmid:ge(Rt,(Ft+Ot)/2),rpx1:Rt,transform:{textPosAngle:$e(Pt),rCenter:Xe,x:Ue.x,y:Ue.y}};return t(I.type,Ue,A),{transform:{targetX:be(Je),targetY:Te(Je),scale:_t(Pt),rotate:yt(Pt),rCenter:Xe}}}}(ve);return function(Ee){return Re(ke(Ee),ze)}}):Ae.attr("transform",Re(oe,ze))})}function g(y){return m=y.rpx1,w=y.transform.textPosAngle,[m*Math.sin(w),-m*Math.cos(w)];var m,w}C.plot=function(y,m,w,d){var S,A,E=y._fullLayout,P=E._sunburstlayer,O=!w,I=!E.uniformtext.mode&&p.hasTransition(w);i("sunburst",E),(S=P.selectAll("g.trace.sunburst").data(m,function(D){return D[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),I?(d&&(A=d()),T.transition().duration(w.duration).ease(w.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){P.selectAll("g.trace").each(function(D){v(y,D,this,w)})})):(S.each(function(D){v(y,D,this,w)}),E.uniformtext.mode&&h(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),O&&S.exit().remove()},C.formatSliceLabel=function(y,m,w,d,S){var A=w.texttemplate,E=w.textinfo;if(!(A||E&&E!=="none"))return"";var P=S.separators,O=d[0],I=y.data.data,D=O.hierarchy,V=p.isHierarchyRoot(y),z=p.getParent(D,y),j=p.getValue(y);if(!A){var X,F=E.split("+"),H=function(se){return F.indexOf(se)!==-1},W=[];if(H("label")&&I.label&&W.push(I.label),I.hasOwnProperty("v")&&H("value")&&W.push(p.formatValue(I.v,P)),!V){H("current path")&&W.push(p.getPath(y.data));var ie=0;H("percent parent")&&ie++,H("percent entry")&&ie++,H("percent root")&&ie++;var te=ie>1;if(ie){var Q,ne=function(se){X=p.formatPercent(Q,P),te&&(X+=" of "+se),W.push(X)};H("percent parent")&&!V&&(Q=j/p.getValue(z),ne("parent")),H("percent entry")&&(Q=j/p.getValue(m),ne("entry")),H("percent root")&&(Q=j/p.getValue(D),ne("root"))}}return H("text")&&(X=b.castOption(w,I.i,"text"),b.isValidTextValue(X)&&W.push(X)),W.join("<br>")}var $=b.castOption(w,I.i,"texttemplate");if(!$)return"";var J={};I.label&&(J.label=I.label),I.hasOwnProperty("v")&&(J.value=I.v,J.valueLabel=p.formatValue(I.v,P)),J.currentPath=p.getPath(y.data),V||(J.percentParent=j/p.getValue(z),J.percentParentLabel=p.formatPercent(J.percentParent,P),J.parent=p.getPtLabel(z)),J.percentEntry=j/p.getValue(m),J.percentEntryLabel=p.formatPercent(J.percentEntry,P),J.entry=p.getPtLabel(m),J.percentRoot=j/p.getValue(D),J.percentRootLabel=p.formatPercent(J.percentRoot,P),J.root=p.getPtLabel(D),I.hasOwnProperty("color")&&(J.color=I.color);var re=b.castOption(w,I.i,"text");return(b.isValidTextValue(re)||re==="")&&(J.text=re),J.customdata=b.castOption(w,I.i,"customdata"),b.texttemplateString($,J,S._d3locale,J,w._meta||{})}},85676:function(U,C,e){var T=e(33428),k=e(76308),o=e(3400),_=e(82744).resizeText,b=e(60404);function f(s,t,i,r){var n=t.data.data,a=!t.children,l=n.i,u=o.castOption(i,l,"marker.line.color")||k.defaultLine,h=o.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,r).style("stroke-width",h).call(k.stroke,u).style("opacity",a?i.leaf.opacity:null)}U.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");_(s,t,"sunburst"),t.each(function(i){var r=T.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(a){T.select(this).call(f,a,n,s)})})},styleOne:f}},16716:function(U,C,e){var T=e(76308),k=e(49084),o=e(29736).axisHoverFormat,_=e(21776).Ks,b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:T.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:T.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=U.exports=s(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:_(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},k.zauto,{}),zmin:f({},k.zmin,{}),zmax:f({},k.zmax,{})},hoverinfo:f({},b.hoverinfo),showlegend:f({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(U,C,e){var T=e(47128);U.exports=function(k,o){o.surfacecolor?T(k,o,{vals:o.surfacecolor,containerStr:"",cLetter:"c"}):T(k,o,{vals:o.z,containerStr:"",cLetter:"c"})}},79164:function(U,C,e){var T=e(67792).gl_surface3d,k=e(67792).ndarray,o=e(67792).ndarray_linear_interpolate.d2,_=e(70448),b=e(11240),f=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,t=e(43080),i=e(8932).extractOpts;function r(w,d,S){this.scene=w,this.uid=S,this.surface=d,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=r.prototype;n.getXat=function(w,d,S,A){var E=f(this.data.x)?f(this.data.x[0])?this.data.x[d][w]:this.data.x[w]:w;return S===void 0?E:A.d2l(E,0,S)},n.getYat=function(w,d,S,A){var E=f(this.data.y)?f(this.data.y[0])?this.data.y[d][w]:this.data.y[d]:d;return S===void 0?E:A.d2l(E,0,S)},n.getZat=function(w,d,S,A){var E=this.data.z[d][w];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[d][w]),S===void 0?E:A.d2l(E,0,S)},n.handlePick=function(w){if(w.object===this.surface){var d=(w.data.index[0]-1)/this.dataScaleX-1,S=(w.data.index[1]-1)/this.dataScaleY-1,A=Math.max(Math.min(Math.round(d),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);w.index=[A,E],w.traceCoordinate=[this.getXat(A,E),this.getYat(A,E),this.getZat(A,E)],w.dataCoordinate=[this.getXat(A,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(A,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(A,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var P=0;P<3;P++)w.dataCoordinate[P]!=null&&(w.dataCoordinate[P]*=this.scene.dataScale[P]);var O=this.data.hovertext||this.data.text;return f(O)&&O[E]&&O[E][A]!==void 0?w.textLabel=O[E][A]:w.textLabel=O||"",w.data.dataCoordinate=w.dataCoordinate.slice(),this.surface.highlight(w.data),this.scene.glplot.spikes.position=w.dataCoordinate,!0}};var a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(w,d){if(w<d)return 0;for(var S=0;Math.floor(w%d)===0;)w/=d,S++;return S}function u(w){for(var d=[],S=0;S<a.length;S++){var A=a[S];d.push(l(w,A))}return d}function h(w){for(var d=u(w),S=w,A=0;A<a.length;A++)if(d[A]>0){S=a[A];break}return S}function c(w,d){if(!(w<1||d<1)){for(var S=u(w),A=u(d),E=1,P=0;P<a.length;P++)E*=Math.pow(a[P],Math.max(S[P],A[P]));return E}}n.calcXnums=function(w){var d,S=[];for(d=1;d<w;d++){var A=this.getXat(d-1,0),E=this.getXat(d,0);S[d-1]=E!==A&&A!=null&&E!=null?Math.abs(E-A):0}var P=0;for(d=1;d<w;d++)P+=S[d-1];for(d=1;d<w;d++)S[d-1]===0?S[d-1]=1:S[d-1]=Math.round(P/S[d-1]);return S},n.calcYnums=function(w){var d,S=[];for(d=1;d<w;d++){var A=this.getYat(0,d-1),E=this.getYat(0,d);S[d-1]=E!==A&&A!=null&&E!=null?Math.abs(E-A):0}var P=0;for(d=1;d<w;d++)P+=S[d-1];for(d=1;d<w;d++)S[d-1]===0?S[d-1]=1:S[d-1]=Math.round(P/S[d-1]);return S};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=x[9],v=x[13];function g(w,d,S){var A=S[8]+S[2]*d[0]+S[5]*d[1];return w[0]=(S[6]+S[0]*d[0]+S[3]*d[1])/A,w[1]=(S[7]+S[1]*d[0]+S[4]*d[1])/A,w}function y(w,d,S){return function(A,E,P,O){for(var I=[0,0],D=A.shape[0],V=A.shape[1],z=0;z<D;z++)for(var j=0;j<V;j++)P(I,[z,j],O),A.set(z,j,o(E,I[0],I[1]))}(w,d,g,S),w}function m(w,d){for(var S=!1,A=0;A<w.length;A++)if(d===w[A]){S=!0;break}S===!1&&w.push(d)}n.estimateScale=function(w,d){for(var S=1+function(E){if(E.length!==0){for(var P=1,O=0;O<E.length;O++)P=c(P,E[O]);return P}}(d===0?this.calcXnums(w):this.calcYnums(w));S<p;)S*=2;for(;S>v;)S--,S/=h(S),++S<p&&(S=v);var A=Math.round(S/w);return A>1?A:1},n.refineCoords=function(w){for(var d=this.dataScaleX,S=this.dataScaleY,A=w[0].shape[0],E=w[0].shape[1],P=0|Math.floor(w[0].shape[0]*d+1),O=0|Math.floor(w[0].shape[1]*S+1),I=1+A+1,D=1+E+1,V=k(new Float32Array(I*D),[I,D]),z=[1/d,0,0,0,1/S,0,0,0,1],j=0;j<w.length;++j){this.surface.padField(V,w[j]);var X=k(new Float32Array(P*O),[P,O]);y(X,V,z),w[j]=X}},n.setContourLevels=function(){var w,d,S,A=[[],[],[]],E=[!1,!1,!1],P=!1;for(w=0;w<3;++w)if(this.showContour[w]&&(P=!0,this.contourSize[w]>0&&this.contourStart[w]!==null&&this.contourEnd[w]!==null&&this.contourEnd[w]>this.contourStart[w]))for(E[w]=!0,d=this.contourStart[w];d<this.contourEnd[w];d+=this.contourSize[w])S=d*this.scene.dataScale[w],m(A[w],S);if(P){var O=[[],[],[]];for(w=0;w<3;++w)this.showContour[w]&&(O[w]=E[w]?A[w]:this.scene.contourLevels[w]);this.surface.update({levels:O})}},n.update=function(w){var d,S,A,E,P=this.scene,O=P.fullSceneLayout,I=this.surface,D=s(w),V=P.dataScale,z=w.z[0].length,j=w._ylength,X=P.contourLevels;this.data=w;var F=[];for(d=0;d<3;d++)for(F[d]=[],S=0;S<z;S++)F[d][S]=[];for(S=0;S<z;S++)for(A=0;A<j;A++)F[0][S][A]=this.getXat(S,A,w.xcalendar,O.xaxis),F[1][S][A]=this.getYat(S,A,w.ycalendar,O.yaxis),F[2][S][A]=this.getZat(S,A,w.zcalendar,O.zaxis);if(w.connectgaps)for(w._emptypoints=b(F[2]),_(F[2],w._emptypoints),w._interpolatedZ=[],S=0;S<z;S++)for(w._interpolatedZ[S]=[],A=0;A<j;A++)w._interpolatedZ[S][A]=F[2][S][A];for(d=0;d<3;d++)for(S=0;S<z;S++)for(A=0;A<j;A++)(E=F[d][S][A])==null?F[d][S][A]=NaN:E=F[d][S][A]*=V[d];for(d=0;d<3;d++)for(S=0;S<z;S++)for(A=0;A<j;A++)(E=F[d][S][A])!=null&&(this.minValues[d]>E&&(this.minValues[d]=E),this.maxValues[d]<E&&(this.maxValues[d]=E));for(d=0;d<3;d++)this.objectOffset[d]=.5*(this.minValues[d]+this.maxValues[d]);for(d=0;d<3;d++)for(S=0;S<z;S++)for(A=0;A<j;A++)(E=F[d][S][A])!=null&&(F[d][S][A]-=this.objectOffset[d]);var H=[k(new Float32Array(z*j),[z,j]),k(new Float32Array(z*j),[z,j]),k(new Float32Array(z*j),[z,j])];for(d=0;d<3;d++)for(S=0;S<z;S++)for(A=0;A<j;A++)H[d].set(S,A,F[d][S][A]);F=[];var W={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!w.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:w.opacityscale,opacity:w.opacity},ie=i(w);if(W.intensityBounds=[ie.min,ie.max],w.surfacecolor){var te=k(new Float32Array(z*j),[z,j]);for(S=0;S<z;S++)for(A=0;A<j;A++)te.set(S,A,w.surfacecolor[A][S]);H.push(te)}else W.intensityBounds[0]*=V[2],W.intensityBounds[1]*=V[2];(v<H[0].shape[0]||v<H[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(H[0].shape[0],0),this.dataScaleY=this.estimateScale(H[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(H)),w.surfacecolor&&(W.intensity=H.pop());var Q=[!0,!0,!0],ne=["x","y","z"];for(d=0;d<3;++d){var $=w.contours[ne[d]];Q[d]=$.highlight,W.showContour[d]=$.show||$.highlight,W.showContour[d]&&(W.contourProject[d]=[$.project.x,$.project.y,$.project.z],$.show?(this.showContour[d]=!0,W.levels[d]=X[d],I.highlightColor[d]=W.contourColor[d]=t($.color),$.usecolormap?I.highlightTint[d]=W.contourTint[d]=0:I.highlightTint[d]=W.contourTint[d]=1,W.contourWidth[d]=$.width,this.contourStart[d]=$.start,this.contourEnd[d]=$.end,this.contourSize[d]=$.size):(this.showContour[d]=!1,this.contourStart[d]=null,this.contourEnd[d]=null,this.contourSize[d]=0),$.highlight&&(W.dynamicColor[d]=t($.highlightcolor),W.dynamicWidth[d]=$.highlightwidth))}(function(J){var re=J[0].rgb,se=J[J.length-1].rgb;return re[0]===se[0]&&re[1]===se[1]&&re[2]===se[2]&&re[3]===se[3]})(D)&&(W.vertexColor=!0),W.objectOffset=this.objectOffset,W.coords=H,I.update(W),I.visible=w.visible,I.enableDynamic=Q,I.enableHighlight=Q,I.snapToData=!0,"lighting"in w&&(I.ambientLight=w.lighting.ambient,I.diffuseLight=w.lighting.diffuse,I.specularLight=w.lighting.specular,I.roughness=w.lighting.roughness,I.fresnel=w.lighting.fresnel),"lightposition"in w&&(I.lightPosition=[w.lightposition.x,w.lightposition.y,w.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},U.exports=function(w,d){var S=w.glplot.gl,A=T({gl:S}),E=new r(w,A,d.uid);return A._trace=E,E.update(d),w.glplot.add(A),E}},60192:function(U,C,e){var T=e(24040),k=e(3400),o=e(27260),_=e(16716);function b(s,t,i,r){var n=r("opacityscale");n==="max"?t.opacityscale=[[0,.1],[1,1]]:n==="min"?t.opacityscale=[[0,1],[1,.1]]:n==="extremes"?t.opacityscale=function(a,l){for(var u=[],h=0;h<32;h++){var c=h/31,x=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,x))])}return u}():function(a){var l=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var u=0;u<a.length;u++){var h=a[u];if(h.length!==2||+h[0]<l)return!1;l=+h[0]}return!0}(n)||(t.opacityscale=void 0)}function f(s,t,i){t in s&&!(i in s)&&(s[i]=s[t])}U.exports={supplyDefaults:function(s,t,i,r){var n,a;function l(m,w){return k.coerce(s,t,_,m,w)}var u=l("x"),h=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||h&&h.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,T.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],r),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){l(m)});var x=l("surfacecolor"),p=["x","y","z"];for(n=0;n<3;++n){var v="contours."+p[n],g=l(v+".show"),y=l(v+".highlight");if(g||y)for(a=0;a<3;++a)l(v+".project."+p[a]);g&&(l(v+".color"),l(v+".width"),l(v+".usecolormap")),y&&(l(v+".highlightcolor"),l(v+".highlightwidth")),l(v+".start"),l(v+".end"),l(v+".size")}x||(f(s,"zmin","cmin"),f(s,"zmax","cmax"),f(s,"zauto","cauto")),o(s,t,r,l,{prefix:"",cLetter:"c"}),b(0,t,0,l),t._length=null}},opacityscaleDefaults:b}},91304:function(U,C,e){U.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(U,C,e){var T=e(13916),k=e(92880).extendFlat,o=e(67824).overrideAll,_=e(25376),b=e(86968).u,f=e(29736).descriptionOnlyNumbers;(U.exports=o({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},T.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},T.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(U,C,e){var T=e(84888)._M,k=e(24752),o="table";C.name=o,C.plot=function(_){var b=T(_.calcdata,o)[0];b.length&&k(_,b)},C.clean=function(_,b,f,s){var t=s._has&&s._has(o),i=b._has&&b._has(o);t&&!i&&s._paperdiv.selectAll(".table").remove()}},39312:function(U,C,e){var T=e(71688).wrap;U.exports=function(){return T({})}},23536:function(U){U.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(U,C,e){var T=e(23536),k=e(92880).extendFlat,o=e(38248),_=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;function f(l){if(b(l)){for(var u=0,h=0;h<l.length;h++)u=Math.max(u,f(l[h]));return u}return l}function s(l,u){return l+u}function t(l){var u,h=l.slice(),c=1/0,x=0;for(u=0;u<h.length;u++)_(h[u])?h[u]=Array.from(h[u]):b(h[u])||(h[u]=[h[u]]),c=Math.min(c,h[u].length),x=Math.max(x,h[u].length);if(c!==x)for(u=0;u<h.length;u++){var p=x-h[u].length;p&&(h[u]=h[u].concat(i(p)))}return h}function i(l){for(var u=new Array(l),h=0;h<l;h++)u[h]="";return u}function r(l){return l.calcdata.columns.reduce(function(u,h){return h.xIndex<l.xIndex?u+h.columnWidth:u},0)}function n(l,u){return Object.keys(l).map(function(h){return k({},l[h],{auxiliaryBlocks:u})})}function a(l,u){for(var h,c={},x=0,p=0,v={firstRowIndex:null,lastRowIndex:null,rows:[]},g=0,y=0,m=0;m<l.length;m++)h=l[m],v.rows.push({rowIndex:m,rowHeight:h}),((p+=h)>=u||m===l.length-1)&&(c[x]=v,v.key=y++,v.firstRowIndex=g,v.lastRowIndex=m,v={firstRowIndex:null,lastRowIndex:null,rows:[]},x+=p,g=m+1,p=0);return c}U.exports=function(l,u){var h=t(u.cells.values),c=function(j){return j.slice(u.header.values.length,j.length)},x=t(u.header.values);x.length&&!x[0].length&&(x[0]=[""],x=t(x));var p=x.concat(c(h).map(function(){return i((x[0]||[""]).length)})),v=u.domain,g=Math.floor(l._fullLayout._size.w*(v.x[1]-v.x[0])),y=Math.floor(l._fullLayout._size.h*(v.y[1]-v.y[0])),m=u.header.values.length?p[0].map(function(){return u.header.height}):[T.emptyHeaderHeight],w=h.length?h[0].map(function(){return u.cells.height}):[],d=m.reduce(s,0),S=a(w,y-d+T.uplift),A=n(a(m,d),[]),E=n(S,A),P={},O=u._fullInput.columnorder;b(O)&&(O=Array.from(O)),O=O.concat(c(h.map(function(j,X){return X})));var I=p.map(function(j,X){var F=b(u.columnwidth)?u.columnwidth[Math.min(X,u.columnwidth.length-1)]:u.columnwidth;return o(F)?Number(F):1}),D=I.reduce(s,0);I=I.map(function(j){return j/D*g});var V=Math.max(f(u.header.line.width),f(u.cells.line.width)),z={key:u.uid+l._context.staticPlot,translateX:v.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-v.y[1]),size:l._fullLayout._size,width:g,maxLineWidth:V,height:y,columnOrder:O,groupHeight:y,rowBlocks:E,headerRowBlocks:A,scrollY:0,cells:k({},u.cells,{values:h}),headerCells:k({},u.header,{values:p}),gdColumns:p.map(function(j){return j[0]}),gdColumnsOriginalOrder:p.map(function(j){return j[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(j,X){var F=P[j];return P[j]=(F||0)+1,{key:j+"__"+P[j],label:j,specIndex:X,xIndex:O[X],xScale:r,x:void 0,calcdata:void 0,columnWidth:I[X]}})};return z.columns.forEach(function(j){j.calcdata=z,j.x=r(j)}),z}},53056:function(U,C,e){var T=e(92880).extendFlat;C.splitToPanels=function(k){var o=[0,0],_=T({},k,{key:"header",type:"header",page:0,prevPages:o,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:T({},k.calcdata,{cells:k.calcdata.headerCells})});return[T({},k,{key:"cells1",type:"cells",page:0,prevPages:o,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),T({},k,{key:"cells2",type:"cells",page:1,prevPages:o,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),_]},C.splitToCells=function(k){var o=function(_){var b=_.rowBlocks[_.page],f=b?b.rows[0].rowIndex:0;return[f,b?f+b.rows.length:0]}(k);return(k.values||[]).slice(o[0],o[1]).map(function(_,b){return{keyWithinBlock:b+(typeof _=="string"&&_.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:o[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:_}})}},53212:function(U,C,e){var T=e(3400),k=e(60520),o=e(86968).Q;U.exports=function(_,b,f,s){function t(i,r){return T.coerce(_,b,k,i,r)}o(b,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),T.coerceFont(t,"header.font",s.font),function(i,r){for(var n=i.columnorder||[],a=i.header.values.length,l=n.slice(0,a),u=l.slice().sort(function(x,p){return x-p}),h=l.map(function(x){return u.indexOf(x)}),c=h.length;c<a;c++)h.push(c);r("columnorder",h)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),T.coerceFont(t,"cells.font",s.font),b._length=null}},41724:function(U,C,e){U.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(U,C,e){var T=e(23536),k=e(33428),o=e(3400),_=o.numberFormat,b=e(71688),f=e(43616),s=e(72736),t=e(3400).raiseToTop,i=e(3400).strTranslate,r=e(3400).cancelTransition,n=e(55992),a=e(53056),l=e(76308);function u(W){return Math.ceil(W.calcdata.maxLineWidth/2)}function h(W,ie){return"clip"+W._fullLayout._uid+"_scrollAreaBottomClip_"+ie.key}function c(W,ie){return"clip"+W._fullLayout._uid+"_columnBoundaryClippath_"+ie.calcdata.key+"_"+ie.specIndex}function x(W){return[].concat.apply([],W.map(function(ie){return ie})).map(function(ie){return ie.__data__})}function p(W,ie,te){var Q=W.selectAll("."+T.cn.scrollbarKit).data(b.repeat,b.keyFun);Q.enter().append("g").classed(T.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),Q.each(function(se){var ue=se.scrollbarState;ue.totalHeight=function(he){var pe=he.rowBlocks;return j(pe,pe.length-1)+(pe.length?X(pe[pe.length-1],1/0):1)}(se),ue.scrollableAreaHeight=se.groupHeight-A(se),ue.currentlyVisibleHeight=Math.min(ue.totalHeight,ue.scrollableAreaHeight),ue.ratio=ue.currentlyVisibleHeight/ue.totalHeight,ue.barLength=Math.max(ue.ratio*ue.currentlyVisibleHeight,T.goldenRatio*T.scrollbarWidth),ue.barWiggleRoom=ue.currentlyVisibleHeight-ue.barLength,ue.wiggleRoom=Math.max(0,ue.totalHeight-ue.scrollableAreaHeight),ue.topY=ue.barWiggleRoom===0?0:se.scrollY/ue.wiggleRoom*ue.barWiggleRoom,ue.bottomY=ue.topY+ue.barLength,ue.dragMultiplier=ue.wiggleRoom/ue.barWiggleRoom}).attr("transform",function(se){var ue=se.width+T.scrollbarWidth/2+T.scrollbarOffset;return i(ue,A(se))});var ne=Q.selectAll("."+T.cn.scrollbar).data(b.repeat,b.keyFun);ne.enter().append("g").classed(T.cn.scrollbar,!0);var $=ne.selectAll("."+T.cn.scrollbarSlider).data(b.repeat,b.keyFun);$.enter().append("g").classed(T.cn.scrollbarSlider,!0),$.attr("transform",function(se){return i(0,se.scrollbarState.topY||0)});var J=$.selectAll("."+T.cn.scrollbarGlyph).data(b.repeat,b.keyFun);J.enter().append("line").classed(T.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",T.scrollbarWidth).attr("stroke-linecap","round").attr("y1",T.scrollbarWidth/2),J.attr("y2",function(se){return se.scrollbarState.barLength-T.scrollbarWidth/2}).attr("stroke-opacity",function(se){return se.columnDragInProgress||!se.scrollbarState.barWiggleRoom||te?0:.4}),J.transition().delay(0).duration(0),J.transition().delay(T.scrollbarHideDelay).duration(T.scrollbarHideDuration).attr("stroke-opacity",0);var re=ne.selectAll("."+T.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);re.enter().append("line").classed(T.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",T.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(se){var ue=k.event.y,he=this.getBoundingClientRect(),pe=se.scrollbarState,ge=ue-he.top,ye=k.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=ge&&ge<=pe.bottomY||P(ie,W,null,ye(ge-pe.barLength/2))(se)}).call(k.behavior.drag().origin(function(se){return k.event.stopPropagation(),se.scrollbarState.scrollbarScrollInProgress=!0,se}).on("drag",P(ie,W)).on("dragend",function(){})),re.attr("y2",function(se){return se.scrollbarState.scrollableAreaHeight}),ie._context.staticPlot&&(J.remove(),re.remove())}function v(W,ie,te,Q){var ne=function(ue){var he=ue.selectAll("."+T.cn.columnCells).data(b.repeat,b.keyFun);return he.enter().append("g").classed(T.cn.columnCells,!0),he.exit().remove(),he}(te),$=function(ue){var he=ue.selectAll("."+T.cn.columnCell).data(a.splitToCells,function(pe){return pe.keyWithinBlock});return he.enter().append("g").classed(T.cn.columnCell,!0),he.exit().remove(),he}(ne);(function(ue){ue.each(function(he,pe){var ge=he.calcdata.cells.font,ye=he.column.specIndex,be={size:m(ge.size,ye,pe),color:m(ge.color,ye,pe),family:m(ge.family,ye,pe),weight:m(ge.weight,ye,pe),style:m(ge.style,ye,pe),variant:m(ge.variant,ye,pe),textcase:m(ge.textcase,ye,pe),lineposition:m(ge.lineposition,ye,pe),shadow:m(ge.shadow,ye,pe)};he.rowNumber=he.key,he.align=m(he.calcdata.cells.align,ye,pe),he.cellBorderWidth=m(he.calcdata.cells.line.width,ye,pe),he.font=be})})($);var J=function(ue){var he=ue.selectAll("."+T.cn.cellRect).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("rect").classed(T.cn.cellRect,!0),he}($);(function(ue){ue.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var pe=k.select(this);l.stroke(pe,m(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),l.fill(pe,m(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})})(J);var re=function(ue){var he=ue.selectAll("."+T.cn.cellTextHolder).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("g").classed(T.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}($),se=function(ue){var he=ue.selectAll("."+T.cn.cellText).data(b.repeat,function(pe){return pe.keyWithinBlock});return he.enter().append("text").classed(T.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),he}(re);(function(ue){ue.each(function(he){f.font(k.select(this),he.font)})})(se),g(se,ie,Q,W),z($)}function g(W,ie,te,Q){W.text(function(ne){var $=ne.column.specIndex,J=ne.rowNumber,re=ne.value,se=typeof re=="string",ue=se&&re.match(/<br>/i),he=!se||ue;ne.mayHaveMarkup=se&&re.match(/[<&>]/);var pe,ge=typeof(pe=re)=="string"&&pe.match(T.latexCheck);ne.latex=ge;var ye,be,Te=ge?"":m(ne.calcdata.cells.prefix,$,J)||"",Se=ge?"":m(ne.calcdata.cells.suffix,$,J)||"",Fe=ge?null:m(ne.calcdata.cells.format,$,J)||null,xe=Te+(Fe?_(Fe)(ne.value):ne.value)+Se;if(ne.wrappingNeeded=!ne.wrapped&&!he&&!ge&&(ye=y(xe)),ne.cellHeightMayIncrease=ue||ge||ne.mayHaveMarkup||(ye===void 0?y(xe):ye),ne.needsConvertToTspans=ne.mayHaveMarkup||ne.wrappingNeeded||ne.latex,ne.wrappingNeeded){var le=(T.wrapSplitCharacter===" "?xe.replace(/<a href=/gi,"<a_href="):xe).split(T.wrapSplitCharacter),oe=T.wrapSplitCharacter===" "?le.map(function(de){return de.replace(/<a_href=/gi,"<a href=")}):le;ne.fragments=oe.map(function(de){return{text:de,width:null}}),ne.fragments.push({fragment:T.wrapSpacer,width:null}),be=oe.join(T.lineBreaker)+T.lineBreaker+T.wrapSpacer}else delete ne.fragments,be=xe;return be}).attr("dy",function(ne){return ne.needsConvertToTspans?0:"0.75em"}).each(function(ne){var $=this,J=k.select($),re=ne.wrappingNeeded?I:D;ne.needsConvertToTspans?s.convertToTspans(J,Q,re(te,$,ie,Q,ne)):k.select($.parentNode).attr("transform",function(se){return i(V(se),T.cellPad)}).attr("text-anchor",function(se){return{left:"start",center:"middle",right:"end"}[se.align]})})}function y(W){return W.indexOf(T.wrapSplitCharacter)!==-1}function m(W,ie,te){if(o.isArrayOrTypedArray(W)){var Q=W[Math.min(ie,W.length-1)];return o.isArrayOrTypedArray(Q)?Q[Math.min(te,Q.length-1)]:Q}return W}function w(W,ie,te){W.transition().ease(T.releaseTransitionEase).duration(T.releaseTransitionDuration).attr("transform",i(ie.x,te))}function d(W){return W.type==="cells"}function S(W){return W.type==="header"}function A(W){return(W.rowBlocks.length?W.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(ie,te){return ie+X(te,1/0)},0)}function E(W,ie,te){var Q=x(ie)[0];if(Q!==void 0){var ne=Q.rowBlocks,$=Q.calcdata,J=j(ne,ne.length),re=Q.calcdata.groupHeight-A(Q),se=$.scrollY=Math.max(0,Math.min(J-re,$.scrollY)),ue=function(he,pe,ge){for(var ye=[],be=0,Te=0;Te<he.length;Te++){for(var Se=he[Te],Fe=Se.rows,xe=0,le=0;le<Fe.length;le++)xe+=Fe[le].rowHeight;Se.allRowsHeight=xe,pe<be+xe&&pe+ge>be&&ye.push(Te),be+=xe}return ye}(ne,se,re);ue.length===1&&(ue[0]===ne.length-1?ue.unshift(ue[0]-1):ue.push(ue[0]+1)),ue[0]%2&&ue.reverse(),ie.each(function(he,pe){he.page=ue[pe],he.scrollY=se}),ie.attr("transform",function(he){var pe=j(he.rowBlocks,he.page)-he.scrollY;return i(0,pe)}),W&&(O(W,te,ie,ue,Q.prevPages,Q,0),O(W,te,ie,ue,Q.prevPages,Q,1),p(te,W))}}function P(W,ie,te,Q){return function(ne){var $=ne.calcdata?ne.calcdata:ne,J=ie.filter(function(he){return $.key===he.key}),re=te||$.scrollbarState.dragMultiplier,se=$.scrollY;$.scrollY=Q===void 0?$.scrollY+re*k.event.dy:Q;var ue=J.selectAll("."+T.cn.yColumn).selectAll("."+T.cn.columnBlock).filter(d);return E(W,ue,J),$.scrollY===se}}function O(W,ie,te,Q,ne,$,J){Q[J]!==ne[J]&&(clearTimeout($.currentRepaint[J]),$.currentRepaint[J]=setTimeout(function(){var re=te.filter(function(se,ue){return ue===J&&Q[ue]!==ne[ue]});v(W,ie,re,te),ne[J]=Q[J]}))}function I(W,ie,te,Q){return function(){var ne=k.select(ie.parentNode);ne.each(function($){var J=$.fragments;ne.selectAll("tspan.line").each(function(be,Te){J[Te].width=this.getComputedTextLength()});var re,se,ue=J[J.length-1].width,he=J.slice(0,-1),pe=[],ge=0,ye=$.column.columnWidth-2*T.cellPad;for($.value="";he.length;)ge+(se=(re=he.shift()).width+ue)>ye&&($.value+=pe.join(T.wrapSpacer)+T.lineBreaker,pe=[],ge=0),pe.push(re.text),ge+=se;ge&&($.value+=pe.join(T.wrapSpacer)),$.wrapped=!0}),ne.selectAll("tspan.line").remove(),g(ne.select("."+T.cn.cellText),te,W,Q),k.select(ie.parentNode.parentNode).call(z)}}function D(W,ie,te,Q,ne){return function(){if(!ne.settledY){var $=k.select(ie.parentNode),J=H(ne),re=ne.key-J.firstRowIndex,se=J.rows[re].rowHeight,ue=ne.cellHeightMayIncrease?ie.parentNode.getBoundingClientRect().height+2*T.cellPad:se,he=Math.max(ue,se);he-J.rows[re].rowHeight&&(J.rows[re].rowHeight=he,W.selectAll("."+T.cn.columnCell).call(z),E(null,W.filter(d),0),p(te,Q,!0)),$.attr("transform",function(){var pe=this,ge=pe.parentNode.getBoundingClientRect(),ye=k.select(pe.parentNode).select("."+T.cn.cellRect).node().getBoundingClientRect(),be=pe.transform.baseVal.consolidate(),Te=ye.top-ge.top+(be?be.matrix.f:T.cellPad);return i(V(ne,k.select(pe.parentNode).select("."+T.cn.cellTextHolder).node().getBoundingClientRect().width),Te)}),ne.settledY=!0}}}function V(W,ie){switch(W.align){case"left":default:return T.cellPad;case"right":return W.column.columnWidth-(ie||0)-T.cellPad;case"center":return(W.column.columnWidth-(ie||0))/2}}function z(W){W.attr("transform",function(ie){var te=ie.rowBlocks[0].auxiliaryBlocks.reduce(function(ne,$){return ne+X($,1/0)},0),Q=X(H(ie),ie.key);return i(0,Q+te)}).selectAll("."+T.cn.cellRect).attr("height",function(ie){return(te=H(ie),Q=ie.key,te.rows[Q-te.firstRowIndex]).rowHeight;var te,Q})}function j(W,ie){for(var te=0,Q=ie-1;Q>=0;Q--)te+=F(W[Q]);return te}function X(W,ie){for(var te=0,Q=0;Q<W.rows.length&&W.rows[Q].rowIndex<ie;Q++)te+=W.rows[Q].rowHeight;return te}function F(W){var ie=W.allRowsHeight;if(ie!==void 0)return ie;for(var te=0,Q=0;Q<W.rows.length;Q++)te+=W.rows[Q].rowHeight;return W.allRowsHeight=te,te}function H(W){return W.rowBlocks[W.page]}U.exports=function(W,ie){var te=!W._context.staticPlot,Q=W._fullLayout._paper.selectAll("."+T.cn.table).data(ie.map(function(Se){var Fe=b.unwrap(Se).trace;return n(W,Fe)}),b.keyFun);Q.exit().remove(),Q.enter().append("g").classed(T.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),Q.attr("width",function(Se){return Se.width+Se.size.l+Se.size.r}).attr("height",function(Se){return Se.height+Se.size.t+Se.size.b}).attr("transform",function(Se){return i(Se.translateX,Se.translateY)});var ne=Q.selectAll("."+T.cn.tableControlView).data(b.repeat,b.keyFun),$=ne.enter().append("g").classed(T.cn.tableControlView,!0).style("box-sizing","content-box");if(te){var J="onwheel"in document?"wheel":"mousewheel";$.on("mousemove",function(Se){ne.filter(function(Fe){return Se===Fe}).call(p,W)}).on(J,function(Se){if(!Se.scrollbarState.wheeling){Se.scrollbarState.wheeling=!0;var Fe=Se.scrollY+k.event.deltaY;P(W,ne,null,Fe)(Se)||(k.event.stopPropagation(),k.event.preventDefault()),Se.scrollbarState.wheeling=!1}}).call(p,W,!0)}ne.attr("transform",function(Se){return i(Se.size.l,Se.size.t)});var re=ne.selectAll("."+T.cn.scrollBackground).data(b.repeat,b.keyFun);re.enter().append("rect").classed(T.cn.scrollBackground,!0).attr("fill","none"),re.attr("width",function(Se){return Se.width}).attr("height",function(Se){return Se.height}),ne.each(function(Se){f.setClipUrl(k.select(this),h(W,Se),W)});var se=ne.selectAll("."+T.cn.yColumn).data(function(Se){return Se.columns},b.keyFun);se.enter().append("g").classed(T.cn.yColumn,!0),se.exit().remove(),se.attr("transform",function(Se){return i(Se.x,0)}),te&&se.call(k.behavior.drag().origin(function(Se){return w(k.select(this),Se,-T.uplift),t(this),Se.calcdata.columnDragInProgress=!0,p(ne.filter(function(Fe){return Se.calcdata.key===Fe.key}),W),Se}).on("drag",function(Se){var Fe=k.select(this),xe=function(le){return(Se===le?k.event.x:le.x)+le.columnWidth/2};Se.x=Math.max(-T.overdrag,Math.min(Se.calcdata.width+T.overdrag-Se.columnWidth,k.event.x)),x(se).filter(function(le){return le.calcdata.key===Se.calcdata.key}).sort(function(le,oe){return xe(le)-xe(oe)}).forEach(function(le,oe){le.xIndex=oe,le.x=Se===le?le.x:le.xScale(le)}),se.filter(function(le){return Se!==le}).transition().ease(T.transitionEase).duration(T.transitionDuration).attr("transform",function(le){return i(le.x,0)}),Fe.call(r).attr("transform",i(Se.x,-T.uplift))}).on("dragend",function(Se){var Fe=k.select(this),xe=Se.calcdata;Se.x=Se.xScale(Se),Se.calcdata.columnDragInProgress=!1,w(Fe,Se,0),function(le,oe,de){var Ce=oe.gdColumnsOriginalOrder;oe.gdColumns.sort(function(_e,Ae){return de[Ce.indexOf(_e)]-de[Ce.indexOf(Ae)]}),oe.columnorder=de,le.emit("plotly_restyle")}(W,xe,xe.columns.map(function(le){return le.xIndex}))})),se.each(function(Se){f.setClipUrl(k.select(this),c(W,Se),W)});var ue=se.selectAll("."+T.cn.columnBlock).data(a.splitToPanels,b.keyFun);ue.enter().append("g").classed(T.cn.columnBlock,!0).attr("id",function(Se){return Se.key}),ue.style("cursor",function(Se){return Se.dragHandle?"ew-resize":Se.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var he=ue.filter(S),pe=ue.filter(d);te&&pe.call(k.behavior.drag().origin(function(Se){return k.event.stopPropagation(),Se}).on("drag",P(W,ne,-1)).on("dragend",function(){})),v(W,ne,he,ue),v(W,ne,pe,ue);var ge=ne.selectAll("."+T.cn.scrollAreaClip).data(b.repeat,b.keyFun);ge.enter().append("clipPath").classed(T.cn.scrollAreaClip,!0).attr("id",function(Se){return h(W,Se)});var ye=ge.selectAll("."+T.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);ye.enter().append("rect").classed(T.cn.scrollAreaClipRect,!0).attr("x",-T.overdrag).attr("y",-T.uplift).attr("fill","none"),ye.attr("width",function(Se){return Se.width+2*T.overdrag}).attr("height",function(Se){return Se.height+T.uplift}),se.selectAll("."+T.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(T.cn.columnBoundary,!0);var be=se.selectAll("."+T.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);be.enter().append("clipPath").classed(T.cn.columnBoundaryClippath,!0),be.attr("id",function(Se){return c(W,Se)});var Te=be.selectAll("."+T.cn.columnBoundaryRect).data(b.repeat,b.keyFun);Te.enter().append("rect").classed(T.cn.columnBoundaryRect,!0).attr("fill","none"),Te.attr("width",function(Se){return Se.columnWidth+2*u(Se)}).attr("height",function(Se){return Se.calcdata.height+2*u(Se)+T.uplift}).attr("x",function(Se){return-u(Se)}).attr("y",function(Se){return-u(Se)}),E(null,pe,ne)}},40516:function(U,C,e){var T=e(21776).Ks,k=e(21776).Gw,o=e(49084),_=e(86968).u,b=e(74996),f=e(424),s=e(32984),t=e(92880).extendFlat,i=e(98192).c;U.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:f.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:f.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:f.textinfo,texttemplate:k({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:T({},{keys:s.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:f.root,domain:_({name:"treemap",trace:!0,editType:"calc"})}},79516:function(U,C,e){var T=e(7316);C.name="treemap",C.plot=function(k,o,_,b){T.plotBasePlot(C.name,k,o,_,b)},C.clean=function(k,o,_,b){T.cleanBasePlot(C.name,k,o,_,b)}},97840:function(U,C,e){var T=e(3776);C.r=function(k,o){return T.calc(k,o)},C.q=function(k){return T._runCrossTraceCalc("treemap",k)}},32984:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(U,C,e){var T=e(3400),k=e(40516),o=e(76308),_=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,r=t.handleDefaults;U.exports=function(n,a,l,u){function h(w,d){return T.coerce(n,a,k,w,d)}var c=h("labels"),x=h("parents");if(c&&c.length&&x&&x.length){var p=h("values");p&&p.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.packing")==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",T.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var g=h("pathbar.visible");b(n,a,u,h,"auto",{hasPathbar:g,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=a.textposition.indexOf("bottom")!==-1;s(n,a,u,h),(a._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis)?r(n,a,u,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(a.marker.colors||[]).length);var m=2*a.textfont.size;h("marker.pad.t",y?m/4:m),h("marker.pad.l",m/4),h("marker.pad.r",m/4),h("marker.pad.b",y?m:m/4),h("marker.cornerradius"),a._hovered={marker:{line:{width:2,color:o.contrast(u.paper_bgcolor)}}},g&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),_(a,u,h),a._length=null}else a.visible=!1}},95808:function(U,C,e){var T=e(33428),k=e(78176),o=e(82744).clearMinTextSize,_=e(60100).resizeText,b=e(52960);U.exports=function(f,s,t,i,r){var n,a,l=r.type,u=r.drawDescendants,h=f._fullLayout,c=h["_"+l+"layer"],x=!t;o(l,h),(n=c.selectAll("g.trace."+l).data(s,function(p){return p[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),n.order(),!h.uniformtext.mode&&k.hasTransition(t)?(i&&(a=i()),T.transition().duration(t.duration).ease(t.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()}).each(function(){c.selectAll("g.trace").each(function(p){b(f,p,this,t,u)})})):(n.each(function(p){b(f,p,this,t,u)}),h.uniformtext.mode&&_(f,c.selectAll(".trace"),l)),x&&n.exit().remove()}},27336:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=!0;U.exports=function(n,a,l,u,h){var c=h.barDifY,x=h.width,p=h.height,v=h.viewX,g=h.viewY,y=h.pathSlice,m=h.toMoveInsideSlice,w=h.strTransform,d=h.hasTransition,S=h.handleSlicesExit,A=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,P={},O=n._context.staticPlot,I=n._fullLayout,D=a[0],V=D.trace,z=D.hierarchy,j=x/V._entryDepth,X=t.listPath(l.data,"id"),F=b(z.copy(),[x,p],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(W){var ie=X.indexOf(W.data.id);return ie!==-1&&(W.x0=j*ie,W.x1=j*(ie+1),W.y0=c,W.y1=c+p,W.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,r,P,[x,p],y),u.order();var H=u;d&&(H=H.transition().each("end",function(){var W=T.select(this);t.setSliceCursor(W,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(W){W._x0=v(W.x0),W._x1=v(W.x1),W._y0=g(W.y0),W._y1=g(W.y1),W._hoverX=v(W.x1-Math.min(x,p)/2),W._hoverY=g(W.y1-p/2);var ie=T.select(this),te=k.ensureSingle(ie,"path","surface",function(J){J.style("pointer-events",O?"none":"all")});d?te.transition().attrTween("d",function(J){var re=A(J,r,P,[x,p]);return function(se){return y(re(se))}}):te.attr("d",y),ie.call(i,l,n,a,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),te.call(f,W,V,n,{hovered:!1}),W._text=(t.getPtLabel(W)||"").split("<br>").join(" ")||"";var Q=k.ensureSingle(ie,"g","slicetext"),ne=k.ensureSingle(Q,"text","",function(J){J.attr("data-notex",1)}),$=k.ensureUniformFontSize(n,t.determineTextFont(V,W,I.font,{onPathbar:!0}));ne.text(W._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,$).call(_.convertToTspans,n),W.textBB=o.bBox(ne.node()),W.transform=m(W,{fontSize:$.size,onPathbar:!0}),W.transform.fontSize=$.size,d?ne.transition().attrTween("transform",function(J){var re=E(J,r,P,[x,p]);return function(se){return w(re(se))}}):ne.attr("transform",w(W))})}},76477:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),i=e(45716),r=e(96488).formatSliceLabel,n=!1;U.exports=function(a,l,u,h,c){var x=c.width,p=c.height,v=c.viewX,g=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,d=c.hasTransition,S=c.handleSlicesExit,A=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,P=c.prevEntry,O=a._context.staticPlot,I=a._fullLayout,D=l[0].trace,V=D.textposition.indexOf("left")!==-1,z=D.textposition.indexOf("right")!==-1,j=D.textposition.indexOf("bottom")!==-1,X=!j&&!D.marker.pad.t||j&&!D.marker.pad.b,F=b(u,[x,p],{packing:D.tiling.packing,squarifyratio:D.tiling.squarifyratio,flipX:D.tiling.flip.indexOf("x")>-1,flipY:D.tiling.flip.indexOf("y")>-1,pad:{inner:D.tiling.pad,top:D.marker.pad.t,left:D.marker.pad.l,right:D.marker.pad.r,bottom:D.marker.pad.b}}).descendants(),H=1/0,W=-1/0;F.forEach(function($){var J=$.depth;J>=D._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(H=Math.min(H,J),W=Math.max(W,J))}),h=h.data(F,t.getPtId),D._maxVisibleLayers=isFinite(W)?W-H+1:0,h.enter().append("g").classed("slice",!0),S(h,n,{},[x,p],y),h.order();var ie=null;if(d&&P){var te=t.getPtId(P);h.each(function($){ie===null&&t.getPtId($)===te&&(ie={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var Q=function(){return ie||{x0:0,x1:x,y0:0,y1:p}},ne=h;return d&&(ne=ne.transition().each("end",function(){var $=T.select(this);t.setSliceCursor($,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ne.each(function($){var J=t.isHeader($,D);$._x0=v($.x0),$._x1=v($.x1),$._y0=g($.y0),$._y1=g($.y1),$._hoverX=v($.x1-D.marker.pad.r),$._hoverY=g(j?$.y1-D.marker.pad.b/2:$.y0+D.marker.pad.t/2);var re=T.select(this),se=k.ensureSingle(re,"path","surface",function(be){be.style("pointer-events",O?"none":"all")});d?se.transition().attrTween("d",function(be){var Te=A(be,n,Q(),[x,p]);return function(Se){return y(Te(Se))}}):se.attr("d",y),re.call(i,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),se.call(f,$,D,a,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=J?X?"":t.getPtLabel($)||"":r($,u,D,l,I)||"";var ue=k.ensureSingle(re,"g","slicetext"),he=k.ensureSingle(ue,"text","",function(be){be.attr("data-notex",1)}),pe=k.ensureUniformFontSize(a,t.determineTextFont(D,$,I.font)),ge=$._text||" ",ye=J&&ge.indexOf("<br>")===-1;he.text(ge).classed("slicetext",!0).attr("text-anchor",z?"end":V||ye?"start":"middle").call(o.font,pe).call(_.convertToTspans,a),$.textBB=o.bBox(he.node()),$.transform=m($,{fontSize:pe.size,isHeader:J}),$.transform.fontSize=pe.size,d?he.transition().attrTween("transform",function(be){var Te=E(be,n,Q(),[x,p]);return function(Se){return w(Te(Se))}}):he.attr("transform",w($))}),ie}},83024:function(U){U.exports=function C(e,T,k){var o;k.swapXY&&(o=e.x0,e.x0=e.y0,e.y0=o,o=e.x1,e.x1=e.y1,e.y1=o),k.flipX&&(o=e.x0,e.x0=T[0]-e.x1,e.x1=T[0]-o),k.flipY&&(o=e.y0,e.y0=T[1]-e.y1,e.y1=T[1]-o);var _=e.children;if(_)for(var b=0;b<_.length;b++)C(_[b],T,k)}},31991:function(U,C,e){U.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(U){U.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(U,C,e){var T=e(3400),k=e(45392);U.exports=function(o,_){function b(f,s){return T.coerce(o,_,k,f,s)}b("treemapcolorway",_.colorway),b("extendtreemapcolors")}},13832:function(U,C,e){var T=e(74148),k=e(83024);U.exports=function(o,_,b){var f,s=b.flipX,t=b.flipY,i=b.packing==="dice-slice",r=b.pad[t?"bottom":"top"],n=b.pad[s?"right":"left"],a=b.pad[s?"left":"right"],l=b.pad[t?"top":"bottom"];i&&(f=n,n=r,r=f,f=a,a=l,l=f);var u=T.treemap().tile(function(h,c){switch(h){case"squarify":return T.treemapSquarify.ratio(c);case"binary":return T.treemapBinary;case"dice":return T.treemapDice;case"slice":return T.treemapSlice;default:return T.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(n).paddingRight(a).paddingTop(r).paddingBottom(l).size(i?[_[1],_[0]]:_)(o);return(i||s||t)&&k(u,_,{swapXY:i,flipX:s,flipY:t}),u}},53264:function(U,C,e){var T=e(95808),k=e(76477);U.exports=function(o,_,b,f){return T(o,_,b,f,{type:"treemap",drawDescendants:k})}},52960:function(U,C,e){var T=e(33428),k=e(67756).qy,o=e(78176),_=e(3400),b=e(78048).TEXTPAD,f=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,t=e(32984),i=e(27336);function r(n){return o.isHierarchyRoot(n)?"":o.getPtId(n)}U.exports=function(n,a,l,u,h){var c=n._fullLayout,x=a[0],p=x.trace,v=p.type==="icicle",g=x.hierarchy,y=o.findEntryWithLevel(g,p.level),m=T.select(l),w=m.selectAll("g.pathbar"),d=m.selectAll("g.slice");if(!y)return w.remove(),void d.remove();var S=o.isHierarchyRoot(y),A=!c.uniformtext.mode&&o.hasTransition(u),E=o.getMaxDepth(p),P=c._size,O=p.domain,I=P.w*(O.x[1]-O.x[0]),D=P.h*(O.y[1]-O.y[0]),V=I,z=p.pathbar.thickness,j=p.marker.line.width+t.gapWithPathbar,X=p.pathbar.visible?p.pathbar.side.indexOf("bottom")>-1?D+j:-(z+j):0,F={x0:V,x1:V,y0:X,y1:X+z},H=function(ke,Ee,De){var Pe=p.tiling.pad,Ue=function(st){return st-Pe<=Ee.x0},We=function(st){return st+Pe>=Ee.x1},$e=function(st){return st-Pe<=Ee.y0},ot=function(st){return st+Pe>=Ee.y1};return ke.x0===Ee.x0&&ke.x1===Ee.x1&&ke.y0===Ee.y0&&ke.y1===Ee.y1?{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1}:{x0:Ue(ke.x0-Pe)?0:We(ke.x0-Pe)?De[0]:ke.x0,x1:Ue(ke.x1+Pe)?0:We(ke.x1+Pe)?De[0]:ke.x1,y0:$e(ke.y0-Pe)?0:ot(ke.y0-Pe)?De[1]:ke.y0,y1:$e(ke.y1+Pe)?0:ot(ke.y1+Pe)?De[1]:ke.y1}},W=null,ie={},te={},Q=null,ne=function(ke,Ee){return Ee?ie[r(ke)]:te[r(ke)]};x.hasMultipleRoots&&S&&E++,p._maxDepth=E,p._backgroundColor=c.paper_bgcolor,p._entryDepth=y.data.depth,p._atRootLevel=S;var $=-I/2+P.l+P.w*(O.x[1]+O.x[0])/2,J=-D/2+P.t+P.h*(1-(O.y[1]+O.y[0])/2),re=function(ke){return $+ke},se=function(ke){return J+ke},ue=se(0),he=re(0),pe=function(ke){return he+ke},ge=function(ke){return ue+ke};function ye(ke,Ee){return ke+","+Ee}var be=pe(0),Te=function(ke){ke.x=Math.max(be,ke.x)},Se=p.pathbar.edgeshape,Fe=p[v?"tiling":"marker"].pad,xe=function(ke){return p.textposition.indexOf(ke)!==-1},le=xe("top"),oe=xe("left"),de=xe("right"),Ce=xe("bottom"),_e=function(ke,Ee){var De=ke.x0,Pe=ke.x1,Ue=ke.y0,We=ke.y1,$e=ke.textBB,ot=le||Ee.isHeader&&!Ce?"start":Ce?"end":"middle",st=xe("right"),mt=xe("left")||Ee.onPathbar?-1:st?1:0;if(Ee.isHeader){if((De+=(v?Fe:Fe.l)-b)>=(Pe-=(v?Fe:Fe.r)-b)){var _t=(De+Pe)/2;De=_t,Pe=_t}var yt;Ce?Ue<(yt=We-(v?Fe:Fe.b))&&yt<We&&(Ue=yt):Ue<(yt=Ue+(v?Fe:Fe.t))&&yt<We&&(We=yt)}var it=f(De,Pe,Ue,We,$e,{isHorizontal:!1,constrained:!0,angle:0,anchor:ot,leftToRight:mt});return it.fontSize=Ee.fontSize,it.targetX=re(it.targetX),it.targetY=se(it.targetY),isNaN(it.targetX)||isNaN(it.targetY)?{}:(De!==Pe&&Ue!==We&&s(p.type,it,c),{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY})},Ae=function(ke,Ee){for(var De,Pe=0,Ue=ke;!De&&Pe<E;)Pe++,(Ue=Ue.parent)?De=ne(Ue,Ee):Pe=E;return De||{}},Le=function(ke,Ee,De,Pe,Ue){var We,$e=ne(ke,Ee);if($e)We=$e;else if(Ee)We=F;else if(W)if(ke.parent){var ot=Q||De;ot&&!Ee?We=H(ke,ot,Pe):(We={},_.extendFlat(We,Ae(ke,Ee)))}else We=_.extendFlat({},ke),v&&(Ue.orientation==="h"?Ue.flipX?We.x0=ke.x1:We.x1=0:Ue.flipY?We.y0=ke.y1:We.y1=0);else We={};return k(We,{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1})},ze=function(ke,Ee,De,Pe){var Ue=ne(ke,Ee),We={},$e=function(st,mt,_t,yt){if(mt)return ie[r(g)]||F;var it=te[p.level]||_t;return function(tt){return tt.data.depth-y.data.depth<E}(st)?H(st,it,yt):{}}(ke,Ee,De,Pe);_.extendFlat(We,{transform:_e({x0:$e.x0,x1:$e.x1,y0:$e.y0,y1:$e.y1,textBB:ke.textBB,_text:ke._text},{isHeader:o.isHeader(ke,p)})}),Ue?We=Ue:ke.parent&&_.extendFlat(We,Ae(ke,Ee));var ot=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&s(p.type,ot,c),k(We,{transform:{scale:ot.scale,rotate:ot.rotate,textX:ot.textX,textY:ot.textY,anchorX:ot.anchorX,anchorY:ot.anchorY,targetX:ot.targetX,targetY:ot.targetY}})},Re=function(ke,Ee,De,Pe,Ue){var We=Pe[0],$e=Pe[1];A?ke.exit().transition().each(function(){var ot=T.select(this);ot.select("path.surface").transition().attrTween("d",function(st){var mt=function(_t,yt,it,tt){var Pt,Rt=ne(_t,yt);if(yt)Pt=F;else{var Ft=ne(y,yt);Pt=Ft?H(_t,Ft,tt):{}}return k(Rt,Pt)}(st,Ee,0,[We,$e]);return function(_t){return Ue(mt(_t))}}),ot.select("g.slicetext").attr("opacity",0)}).remove():ke.exit().remove()},ve=function(ke){var Ee=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&s(p.type,Ee,c),_.getTextTransform({textX:Ee.textX,textY:Ee.textY,anchorX:Ee.anchorX,anchorY:Ee.anchorY,targetX:Ee.targetX,targetY:Ee.targetY,scale:Ee.scale,rotate:Ee.rotate})};A&&(w.each(function(ke){ie[r(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(ie[r(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate})}),d.each(function(ke){te[r(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(te[r(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate}),!W&&o.isEntry(ke)&&(W=ke)})),Q=h(n,a,y,d,{width:I,height:D,viewX:re,viewY:se,pathSlice:function(ke){var Ee=re(ke.x0),De=re(ke.x1),Pe=se(ke.y0),Ue=se(ke.y1),We=De-Ee,$e=Ue-Pe;if(!We||!$e)return"";var ot=p.marker.cornerradius||0,st=Math.min(ot,We/2,$e/2);st&&ke.data&&ke.data.data&&ke.data.data.label&&(le&&(st=Math.min(st,Fe.t)),oe&&(st=Math.min(st,Fe.l)),de&&(st=Math.min(st,Fe.r)),Ce&&(st=Math.min(st,Fe.b)));var mt=function(_t,yt){return st?"a"+ye(st,st)+" 0 0 1 "+ye(_t,yt):""};return"M"+ye(Ee,Pe+st)+mt(st,-st)+"L"+ye(De-st,Pe)+mt(st,st)+"L"+ye(De,Ue-st)+mt(-st,st)+"L"+ye(Ee+st,Ue)+mt(-st,-st)+"Z"},toMoveInsideSlice:_e,prevEntry:W,makeUpdateSliceInterpolator:Le,makeUpdateTextInterpolator:ze,handleSlicesExit:Re,hasTransition:A,strTransform:ve}),p.pathbar.visible?i(n,a,y,w,{barDifY:X,width:V,height:z,viewX:pe,viewY:ge,pathSlice:function(ke){var Ee=pe(Math.max(Math.min(ke.x0,ke.x0),0)),De=pe(Math.min(Math.max(ke.x1,ke.x1),V)),Pe=ge(ke.y0),Ue=ge(ke.y1),We=z/2,$e={},ot={};$e.x=Ee,ot.x=De,$e.y=ot.y=(Pe+Ue)/2;var st={x:Ee,y:Pe},mt={x:De,y:Pe},_t={x:De,y:Ue},yt={x:Ee,y:Ue};return Se===">"?(st.x-=We,mt.x-=We,_t.x-=We,yt.x-=We):Se==="/"?(_t.x-=We,yt.x-=We,$e.x-=We/2,ot.x-=We/2):Se==="\\"?(st.x-=We,mt.x-=We,$e.x-=We/2,ot.x-=We/2):Se==="<"&&($e.x-=We,ot.x-=We),Te(st),Te(yt),Te($e),Te(mt),Te(_t),Te(ot),"M"+ye(st.x,st.y)+"L"+ye(mt.x,mt.y)+"L"+ye(ot.x,ot.y)+"L"+ye(_t.x,_t.y)+"L"+ye(yt.x,yt.y)+"L"+ye($e.x,$e.y)+"Z"},toMoveInsideSlice:_e,makeUpdateSliceInterpolator:Le,makeUpdateTextInterpolator:ze,handleSlicesExit:Re,hasTransition:A,strTransform:ve}):w.remove()}},66192:function(U,C,e){var T=e(33428),k=e(76308),o=e(3400),_=e(78176),b=e(82744).resizeText,f=e(60404);function s(t,i,r,n,a){var l,u,h=(a||{}).hovered,c=i.data.data,x=c.i,p=c.color,v=_.isHierarchyRoot(i),g=1;if(h)l=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(v&&p===r.root.color)g=100,l="rgba(0,0,0,0)",u=0;else if(l=o.castOption(r,x,"marker.line.color")||k.defaultLine,u=o.castOption(r,x,"marker.line.width")||0,!r._hasColorscale&&!i.onPathbar){var y=r.marker.depthfade;if(y){var m,w=k.combine(k.addOpacity(r._backgroundColor,.75),p);if(y===!0){var d=_.getMaxDepth(r);m=isFinite(d)?_.isLeaf(i)?0:r._maxVisibleLayers-(i.data.depth-r._entryDepth):i.data.height+1}else m=i.data.depth-r._entryDepth,r._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var A=.5*S/m;p=k.combine(k.addOpacity(w,A),p)}}}t.call(f,i,r,n,p).style("stroke-width",u).call(k.stroke,l).style("opacity",g)}U.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(r){var n=T.select(this),a=r[0].trace;n.style("opacity",a.opacity),n.selectAll("path.surface").each(function(l){T.select(this).call(s,l,a,t,{hovered:!1})})})},styleOne:s}},13988:function(U,C,e){var T=e(63188),k=e(92880).extendFlat,o=e(29736).axisHoverFormat;U.exports={y:T.y,x:T.x,x0:T.x0,y0:T.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:k({},T.name,{}),orientation:k({},T.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:T.fillcolor,points:k({},T.boxpoints,{}),jitter:k({},T.jitter,{}),pointpos:k({},T.pointpos,{}),width:k({},T.width,{}),marker:T.marker,text:T.text,hovertext:T.hovertext,hovertemplate:T.hovertemplate,quartilemethod:T.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:T.selected,unselected:T.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:T.zorder}},67064:function(U,C,e){var T=e(3400),k=e(54460),o=e(62555),_=e(63800),b=e(39032).BADNUM;function f(t,i,r){var n=i.max-i.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var a=r.length,l=T.stdev(r,a-1,i.mean);return Math.max(function(u,h,c){return 1.059*Math.min(h,c/1.349)*Math.pow(u,-.2)}(a,l,i.q3-i.q1),n/100)}function s(t,i,r,n){var a,l=t.spanmode,u=t.span||[],h=[i.min,i.max],c=[i.min-2*n,i.max+2*n];function x(v){var g=u[v],y=r.type==="multicategory"?r.r2c(g):r.d2c(g,0,t[i.valLetter+"calendar"]);return y===b?c[v]:y}var p={type:"linear",range:a=l==="soft"?c:l==="hard"?h:[x(0),x(1)]};return k.setConvert(p),p.cleanRange(),a}U.exports=function(t,i){var r=o(t,i);if(r[0].t.empty)return r;for(var n=t._fullLayout,a=k.getFromId(t,i[i.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,h=0,c=0,x=0;x<r.length;x++){var p=r[x],v=p.pts.map(_.extractVal),g=p.bandwidth=f(i,p,v),y=p.span=s(i,p,a,g);if(p.min===p.max&&g===0)y=p.span=[p.min,p.max],p.density=[{v:1,t:y[0]}],p.bandwidth=g,h=Math.max(h,1);else{var m=y[1]-y[0],w=Math.ceil(m/(g/3)),d=m/w;if(!isFinite(d)||!isFinite(w))return T.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var S=_.makeKDE(p,i,v);p.density=new Array(w);for(var A=0,E=y[0];E<y[1]+d/2;A++,E+=d){var P=S(E);p.density[A]={v:P,t:E},h=Math.max(h,P)}}c=Math.max(c,v.length),l=Math.min(l,y[0]),u=Math.max(u,y[1])}var O=k.findExtremes(a,[l,u],{padded:!0});if(i._extremes[a._id]=O,i.width)r[0].t.maxKDE=h;else{var I=n._violinScaleGroupStats,D=i.scalegroup,V=I[D];V?(V.maxKDE=Math.max(V.maxKDE,h),V.maxCount=Math.max(V.maxCount,c)):I[D]={maxKDE:h,maxCount:c}}return r[0].t.labels.kde=T._(t,"kde:"),r}},14348:function(U,C,e){var T=e(96404).setPositionOffset,k=["v","h"];U.exports=function(o,_){for(var b=o.calcdata,f=_.xaxis,s=_.yaxis,t=0;t<k.length;t++){for(var i=k[t],r=i==="h"?s:f,n=[],a=0;a<b.length;a++){var l=b[a],u=l[0].t,h=l[0].trace;h.visible!==!0||h.type!=="violin"||u.empty||h.orientation!==i||h.xaxis!==f._id||h.yaxis!==s._id||n.push(a)}T("violin",o,n,r)}}},36240:function(U,C,e){var T=e(3400),k=e(76308),o=e(90624),_=e(13988);U.exports=function(b,f,s,t){function i(m,w){return T.coerce(b,f,_,m,w)}function r(m,w){return T.coerce2(b,f,_,m,w)}if(o.handleSampleDefaults(b,f,i,t),f.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",f.name),i("scalemode"));var n,a=i("span");Array.isArray(a)&&(n="manual"),i("spanmode",n);var l=i("line.color",(b.marker||{}).color||s),u=i("line.width"),h=i("fillcolor",k.addOpacity(f.line.color,.5));o.handlePointsDefaults(b,f,i,{prefix:""});var c=r("box.width"),x=r("box.fillcolor",h),p=r("box.line.color",l),v=r("box.line.width",u);i("box.visible",!!(c||x||p||v))||(f.box={visible:!1});var g=r("meanline.color",l),y=r("meanline.width",u);i("meanline.visible",!!(g||y))||(f.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(U,C,e){var T=e(3400),k=function(o){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)};C.makeKDE=function(o,_,b){var f=b.length,s=k,t=o.bandwidth,i=1/(f*t);return function(r){for(var n=0,a=0;a<f;a++)n+=s((r-b[a])/t);return i*n}},C.getPositionOnKdePath=function(o,_,b){var f,s;_.orientation==="h"?(f="y",s="x"):(f="x",s="y");var t=T.findPointOnPath(o.path,b,s,{pathLength:o.pathLength}),i=o.posCenterPx,r=t[f];return[r,_.side==="both"?2*i-r:i]},C.getKdeValue=function(o,_,b){var f=o.pts.map(C.extractVal);return C.makeKDE(o,_,f)(b)/o.posDensityScale},C.extractVal=function(o){return o.v}},78e3:function(U,C,e){var T=e(76308),k=e(3400),o=e(54460),_=e(27576),b=e(63800);U.exports=function(f,s,t,i,r){r||(r={});var n,a,l=r.hoverLayer,u=f.cd,h=u[0].trace,c=h.hoveron,x=c.indexOf("violins")!==-1,p=c.indexOf("kde")!==-1,v=[];if(x||p){var g=_.hoverOnBoxes(f,s,t,i);if(p&&g.length>0){var y,m,w,d,S,A=f.xa,E=f.ya;h.orientation==="h"?(S=s,y="y",w=E,m="x",d=A):(S=t,y="x",w=A,m="y",d=E);var P=u[f.index];if(S>=P.span[0]&&S<=P.span[1]){var O=k.extendFlat({},f),I=d.c2p(S,!0),D=b.getKdeValue(P,h,S),V=b.getPositionOnKdePath(P,h,I),z=w._offset,j=w._length;O[y+"0"]=V[0],O[y+"1"]=V[1],O[m+"0"]=O[m+"1"]=I,O[m+"Label"]=m+": "+o.hoverLabelText(d,S,h[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+D.toFixed(3);for(var X=0,F=0;F<g.length;F++)if(g[F].attr==="med"){X=F;break}O.spikeDistance=g[X].spikeDistance;var H=y+"Spike";O[H]=g[X][H],g[X].spikeDistance=void 0,g[X][H]=void 0,O.hovertemplate=!1,v.push(O),(a={})[y+"1"]=k.constrain(z+V[0],z,z+j),a[y+"2"]=k.constrain(z+V[1],z,z+j),a[m+"1"]=a[m+"2"]=d._offset+I}}x&&(v=v.concat(g))}c.indexOf("points")!==-1&&(n=_.hoverOnPoints(f,s,t));var W=l.selectAll(".violinline-"+h.uid).data(a?[0]:[]);return W.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),W.exit().remove(),W.attr(a).call(T.stroke,f.color),i==="closest"?n?[n]:v:(n&&v.push(n),v)}},22869:function(U,C,e){U.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(U,C,e){var T=e(16560),k=e(3400).extendFlat;U.exports={violinmode:k({},T.boxmode,{}),violingap:k({},T.boxgap,{}),violingroupgap:k({},T.boxgroupgap,{})}},8939:function(U,C,e){var T=e(3400),k=e(98228),o=e(68832);U.exports=function(_,b,f){o._supply(_,b,f,function(s,t){return T.coerce(_,b,k,s,t)},"violin")}},5140:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(18728),b=e(52340),f=e(63800);U.exports=function(s,t,i,r){var n=s._context.staticPlot,a=s._fullLayout,l=t.xaxis,u=t.yaxis;function h(c,x){var p=b(c,{xaxis:l,yaxis:u,trace:x,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(p[0],1)}k.makeTraceGroups(r,i,"trace violins").each(function(c){var x=T.select(this),p=c[0],v=p.t,g=p.trace;if(g.visible!==!0||v.empty)x.remove();else{var y=v.bPos,m=v.bdPos,w=t[v.valLetter+"axis"],d=t[v.posLetter+"axis"],S=g.side==="both",A=S||g.side==="positive",E=S||g.side==="negative",P=x.selectAll("path.violin").data(k.identity);P.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),P.exit().remove(),P.each(function(F){var H,W,ie,te,Q,ne,$,J,re=T.select(this),se=F.density,ue=se.length,he=d.c2l(F.pos+y,!0),pe=d.l2p(he);if(g.width)H=v.maxKDE/m;else{var ge=a._violinScaleGroupStats[g.scalegroup];H=g.scalemode==="count"?ge.maxKDE/m*(ge.maxCount/F.pts.length):ge.maxKDE/m}if(A){for($=new Array(ue),Q=0;Q<ue;Q++)(J=$[Q]={})[v.posLetter]=he+se[Q].v/H,J[v.valLetter]=w.c2l(se[Q].t,!0);W=h($,g)}if(E){for($=new Array(ue),ne=0,Q=ue-1;ne<ue;ne++,Q--)(J=$[ne]={})[v.posLetter]=he-se[Q].v/H,J[v.valLetter]=w.c2l(se[Q].t,!0);ie=h($,g)}if(S)te=W+"L"+ie.substr(1)+"Z";else{var ye=[pe,w.c2p(se[0].t)],be=[pe,w.c2p(se[ue-1].t)];g.orientation==="h"&&(ye.reverse(),be.reverse()),te=A?"M"+ye+"L"+W.substr(1)+"L"+be:"M"+be+"L"+ie.substr(1)+"L"+ye}re.attr("d",te),F.posCenterPx=pe,F.posDensityScale=H*m,F.path=re.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var O,I,D,V=g.box,z=V.width,j=(V.line||{}).width;S?(O=m*z,I=0):A?(O=[0,m*z/2],I=j*{x:1,y:-1}[v.posLetter]):(O=[m*z/2,0],I=j*{x:-1,y:1}[v.posLetter]),_.plotBoxAndWhiskers(x,{pos:d,val:w},g,{bPos:y,bdPos:O,bPosPxOffset:I}),_.plotBoxMean(x,{pos:d,val:w},g,{bPos:y,bdPos:O,bPosPxOffset:I}),!g.box.visible&&g.meanline.visible&&(D=k.identity);var X=x.selectAll("path.meanline").data(D||[]);X.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),X.exit().remove(),X.each(function(F){var H=w.c2p(F.mean,!0),W=f.getPositionOnKdePath(F,g,H);T.select(this).attr("d",g.orientation==="h"?"M"+H+","+W[0]+"V"+W[1]:"M"+W[0]+","+H+"H"+W[1])}),_.plotPoints(x,{x:l,y:u},g,v)}})}},95908:function(U,C,e){var T=e(33428),k=e(76308),o=e(49224).stylePoints;U.exports=function(_){var b=T.select(_).selectAll("g.trace.violins");b.style("opacity",function(f){return f[0].trace.opacity}),b.each(function(f){var s=f[0].trace,t=T.select(this),i=s.box||{},r=i.line||{},n=s.meanline||{},a=n.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(k.stroke,s.line.color).call(k.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(k.stroke,r.color).call(k.fill,i.fillcolor);var l={"stroke-width":a+"px","stroke-dasharray":2*a+"px,"+a+"px"};t.selectAll("path.mean").style(l).call(k.stroke,n.color),t.selectAll("path.meanline").style(l).call(k.stroke,n.color),o(t,s,_)})}},58168:function(U,C,e){var T=e(49084),k=e(50048),o=e(16716),_=e(45464),b=e(92880).extendFlat,f=e(67824).overrideAll,s=U.exports=f(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},T("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:o.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},_.hoverinfo),showlegend:b({},_.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(U,C,e){var T=e(67792).gl_mesh3d,k=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,_=e(43080),b=e(8932).extractOpts,f=e(52094),s=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function i(n,a,l){this.scene=n,this.uid=l,this.mesh=a,this.name="",this.data=null,this.showContour=!1}var r=i.prototype;r.handlePick=function(n){if(n.object===this.mesh){var a=n.data.index,l=this.data._meshX[a],u=this.data._meshY[a],h=this.data._meshZ[a],c=this.data._Ys.length,x=this.data._Zs.length,p=s(l,this.data._Xs).id,v=s(u,this.data._Ys).id,g=s(h,this.data._Zs).id,y=n.index=g+x*v+x*c*p;n.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var m=this.data.hovertext||this.data.text;return o(m)&&m[y]!==void 0?n.textLabel=m[y]:m&&(n.textLabel=m),!0}},r.update=function(n){var a=this.scene,l=a.fullSceneLayout;function u(x,p,v,g){return p.map(function(y){return x.d2l(y,0,g)*v})}this.data=t(n);var h={positions:f(u(l.xaxis,n._meshX,a.dataScale[0],n.xcalendar),u(l.yaxis,n._meshY,a.dataScale[1],n.ycalendar),u(l.zaxis,n._meshZ,a.dataScale[2],n.zcalendar)),cells:f(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:_(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},c=b(n);h.vertexIntensity=n._meshIntensity,h.vertexIntensityBounds=[c.min,c.max],h.colormap=k(n),this.mesh.update(h)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},U.exports=function(n,a){var l=n.glplot.gl,u=T({gl:l}),h=new i(n,u,a.uid);return u._trace=h,h.update(a),n.glplot.add(u),h}},12448:function(U,C,e){var T=e(3400),k=e(58168),o=e(70548).supplyIsoDefaults,_=e(60192).opacityscaleDefaults;U.exports=function(b,f,s,t){function i(r,n){return T.coerce(b,f,k,r,n)}o(b,f,s,t,i),_(b,f,t,i)}},67776:function(U,C,e){U.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(U,C,e){var T=e(20832),k=e(52904).line,o=e(45464),_=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(10213),t=e(92880).extendFlat,i=e(76308);function r(n){return{marker:{color:t({},T.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},T.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},T.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}U.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),hovertext:T.hovertext,hovertemplate:b({},{keys:s.eventDataKeys}),hoverinfo:t({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:f({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:T.text,textposition:T.textposition,insidetextanchor:T.insidetextanchor,textangle:T.textangle,textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:T.outsidetextfont,constraintext:T.constraintext,cliponaxis:T.cliponaxis,orientation:T.orientation,offset:T.offset,width:T.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,zorder:T.zorder}},73540:function(U,C,e){var T=e(54460),k=e(1220),o=e(3400).mergeArray,_=e(4500),b=e(39032).BADNUM;function f(t){return t==="a"||t==="absolute"}function s(t){return t==="t"||t==="total"}U.exports=function(t,i){var r,n,a,l,u,h,c=T.getFromId(t,i.xaxis||"x"),x=T.getFromId(t,i.yaxis||"y");i.orientation==="h"?(r=c.makeCalcdata(i,"x"),a=x.makeCalcdata(i,"y"),l=k(i,x,"y",a),u=!!i.yperiodalignment,h="y"):(r=x.makeCalcdata(i,"y"),a=c.makeCalcdata(i,"x"),l=k(i,c,"x",a),u=!!i.xperiodalignment,h="x"),n=l.vals;for(var p,v=Math.min(n.length,r.length),g=new Array(v),y=0,m=!1,w=0;w<v;w++){var d=r[w]||0,S=!1;(r[w]!==b||s(i.measure[w])||f(i.measure[w]))&&w+1<v&&(r[w+1]!==b||s(i.measure[w+1])||f(i.measure[w+1]))&&(S=!0);var A=g[w]={i:w,p:n[w],s:d,rawS:d,cNext:S};f(i.measure[w])?(y=A.s,A.isSum=!0,A.dir="totals",A.s=y):s(i.measure[w])?(A.isSum=!0,A.dir="totals",A.s=y):(A.isSum=!1,A.dir=A.rawS<0?"decreasing":"increasing",p=A.s,A.s=y+p,y+=p),A.dir==="totals"&&(m=!0),u&&(g[w].orig_p=a[w],g[w][h+"End"]=l.ends[w],g[w][h+"Start"]=l.starts[w]),i.ids&&(A.id=String(i.ids[w])),A.v=(i.base||0)+y}return g.length&&(g[0].hasTotals=m),o(i.text,g,"tx"),o(i.hovertext,g,"htx"),_(g,i),g}},10213:function(U){U.exports={eventDataKeys:["initial","delta","final"]}},50152:function(U,C,e){var T=e(96376).setGroupPositions;U.exports=function(k,o){var _,b,f=k._fullLayout,s=k._fullData,t=k.calcdata,i=o.xaxis,r=o.yaxis,n=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b];u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="waterfall"&&(_=t[b],u.orientation==="h"?l.push(_):a.push(_),n.push(_))}var h={mode:f.waterfallmode,norm:f.waterfallnorm,gap:f.waterfallgap,groupgap:f.waterfallgroupgap};for(T(k,i,r,a,h),T(k,r,i,l,h),b=0;b<n.length;b++){_=n[b];for(var c=0;c<_.length;c++){var x=_[c];x.isSum===!1&&(x.s0+=c===0?0:_[c-1].s),c+1<_.length&&(_[c].nextP0=_[c+1].p0,_[c].nextS0=_[c+1].s0)}}}},24224:function(U,C,e){var T=e(3400),k=e(20011),o=e(31508).handleText,_=e(43980),b=e(31147),f=e(65776),s=e(76308),t=e(48164),i=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function n(a,l,u){a(l+".marker.color",u),a(l+".marker.line.color",s.defaultLine),a(l+".marker.line.width")}U.exports={supplyDefaults:function(a,l,u,h){function c(p,v){return T.coerce(a,l,f,p,v)}if(_(a,l,h,c)){b(a,l,h,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");o(a,l,h,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(c("texttemplate"),l.texttemplate||c("textinfo")),n(c,"increasing",i),n(c,"decreasing",r),n(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash"))),c("zorder")}else l.visible=!1},crossTraceDefaults:function(a,l){var u,h;function c(p){return T.coerce(h._input,h,f,p)}if(l.waterfallmode==="group")for(var x=0;x<a.length;x++)u=(h=a[x])._input,k(u,h,l,c)}}},53256:function(U){U.exports=function(C,e){return C.x="xVal"in e?e.xVal:e.x,C.y="yVal"in e?e.yVal:e.y,"initial"in e&&(C.initial=e.initial),"delta"in e&&(C.delta=e.delta),"final"in e&&(C.final=e.final),e.xa&&(C.xaxis=e.xa),e.ya&&(C.yaxis=e.ya),C}},94196:function(U,C,e){var T=e(54460).hoverLabelText,k=e(76308).opacity,o=e(63400).hoverOnBars,_=e(48164),b=_.INCREASING.SYMBOL,f=_.DECREASING.SYMBOL;U.exports=function(s,t,i,r,n){var a=o(s,t,i,r,n);if(a){var l=a.cd,u=l[0].trace,h=u.orientation==="h",c=h?"x":"y",x=h?s.xa:s.ya,p=l[a.index],v=p.isSum?p.b+p.s:p.rawS;a.initial=p.b+p.s-v,a.delta=v,a.final=a.initial+a.delta;var g=A(Math.abs(a.delta));a.deltaLabel=v<0?"("+g+")":g,a.finalLabel=A(a.final),a.initialLabel=A(a.initial);var y=p.hi||u.hoverinfo,m=[];if(y&&y!=="none"&&y!=="skip"){var w=y==="all",d=y.split("+"),S=function(E){return w||d.indexOf(E)!==-1};p.isSum||(!S("final")||S(h?"x":"y")||m.push(a.finalLabel),S("delta")&&(v<0?m.push(a.deltaLabel+" "+f):m.push(a.deltaLabel+" "+b)),S("initial")&&m.push("Initial: "+a.initialLabel))}return m.length&&(a.extraText=m.join("<br>")),a.color=function(E,P){var O=E[P.dir].marker,I=O.color,D=O.line.color,V=O.line.width;return k(I)?I:k(D)&&V?D:void 0}(u,p),[a]}function A(E){return T(x,E,u[c+"hoverformat"])}}},95952:function(U,C,e){U.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(U){U.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(U,C,e){var T=e(3400),k=e(91352);U.exports=function(o,_,b){var f=!1;function s(r,n){return T.coerce(o,_,k,r,n)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="waterfall"){f=!0;break}}f&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(U,C,e){var T=e(33428),k=e(3400),o=e(43616),_=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;U.exports=function(s,t,i,r){var n=s._fullLayout;f("waterfall",n),b.plot(s,t,i,r,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),function(a,l,u,h){var c=l.xaxis,x=l.yaxis;k.makeTraceGroups(h,u,"trace bars").each(function(p){var v=T.select(this),g=p[0].trace,y=k.ensureSingle(v,"g","lines");if(g.connector&&g.connector.visible){var m=g.orientation==="h",w=g.connector.mode,d=y.selectAll("g.line").data(k.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var S=d.size();d.each(function(A,E){if(E===S-1||A.cNext){var P=function(V,z,j,X){var F=[],H=[],W=X?z:j,ie=X?j:z;return F[0]=W.c2p(V.s0,!0),H[0]=ie.c2p(V.p0,!0),F[1]=W.c2p(V.s1,!0),H[1]=ie.c2p(V.p1,!0),F[2]=W.c2p(V.nextS0,!0),H[2]=ie.c2p(V.nextP0,!0),X?[F,H]:[H,F]}(A,c,x,m),O=P[0],I=P[1],D="";O[0]!==_&&I[0]!==_&&O[1]!==_&&I[1]!==_&&(w==="spanning"&&!A.isSum&&E>0&&(D+=m?"M"+O[0]+","+I[1]+"V"+I[0]:"M"+O[1]+","+I[0]+"H"+O[0]),w!=="between"&&(A.isSum||E<S-1)&&(D+=m?"M"+O[1]+","+I[0]+"V"+I[1]:"M"+O[0]+","+I[1]+"H"+O[1]),O[2]!==_&&I[2]!==_&&(D+=m?"M"+O[1]+","+I[1]+"V"+I[2]:"M"+O[1]+","+I[1]+"H"+O[2])),D===""&&(D="M0,0Z"),k.ensureSingle(T.select(this),"path").attr("d",D).call(o.setClipUrl,l.layerClipId,a)}})}else y.remove()})}(s,t,i,r)}},12252:function(U,C,e){var T=e(33428),k=e(43616),o=e(76308),_=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;U.exports={style:function(t,i,r){var n=r||T.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");f(t,n,"waterfall"),n.style("opacity",function(a){return a[0].trace.opacity}),n.each(function(a){var l=T.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u[h.dir].marker;T.select(this).call(o.fill,c.color).call(o.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!h.selected?_:1)}}),s(l,u,t),l.selectAll(".lines").each(function(){var h=u.connector.line;k.lineGroupStyle(T.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(U,C,e){var T=e(54460),k=e(3400),o=e(73060),_=e(60468).W,b=e(39032).BADNUM;C.moduleType="transform",C.name="aggregate";var f=C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=f.aggregations;function t(a,l,u,h){if(h.enabled){for(var c=h.target,x=k.nestedProperty(l,c),p=x.get(),v=function(m,w){var d=m.func,S=w.d2c,A=w.c2d;switch(d){case"count":return i;case"first":return r;case"last":return n;case"sum":return function(E,P){for(var O=0,I=0;I<P.length;I++){var D=S(E[P[I]]);D!==b&&(O+=D)}return A(O)};case"avg":return function(E,P){for(var O=0,I=0,D=0;D<P.length;D++){var V=S(E[P[D]]);V!==b&&(O+=V,I++)}return I?A(O/I):b};case"min":return function(E,P){for(var O=1/0,I=0;I<P.length;I++){var D=S(E[P[I]]);D!==b&&(O=Math.min(O,D))}return O===1/0?b:A(O)};case"max":return function(E,P){for(var O=-1/0,I=0;I<P.length;I++){var D=S(E[P[I]]);D!==b&&(O=Math.max(O,D))}return O===-1/0?b:A(O)};case"range":return function(E,P){for(var O=1/0,I=-1/0,D=0;D<P.length;D++){var V=S(E[P[D]]);V!==b&&(O=Math.min(O,V),I=Math.max(I,V))}return I===-1/0||O===1/0?b:A(I-O)};case"change":return function(E,P){var O=S(E[P[0]]),I=S(E[P[P.length-1]]);return O===b||I===b?b:A(I-O)};case"median":return function(E,P){for(var O=[],I=0;I<P.length;I++){var D=S(E[P[I]]);D!==b&&O.push(D)}if(!O.length)return b;O.sort(k.sorterAsc);var V=(O.length-1)/2;return A((O[Math.floor(V)]+O[Math.ceil(V)])/2)};case"mode":return function(E,P){for(var O={},I=0,D=b,V=0;V<P.length;V++){var z=S(E[P[V]]);if(z!==b){var j=O[z]=(O[z]||0)+1;j>I&&(I=j,D=z)}}return I?A(D):b};case"rms":return function(E,P){for(var O=0,I=0,D=0;D<P.length;D++){var V=S(E[P[D]]);V!==b&&(O+=V*V,I++)}return I?A(Math.sqrt(O/I)):b};case"stddev":return function(E,P){var O,I=0,D=0,V=1,z=b;for(O=0;O<P.length&&z===b;O++)z=S(E[P[O]]);if(z===b)return b;for(;O<P.length;O++){var j=S(E[P[O]]);if(j!==b){var X=j-z;I+=X,D+=X*X,V++}}var F=m.funcmode==="sample"?V-1:V;return F?Math.sqrt((D-I*I/V)/F):0}}}(h,T.getDataConversions(a,l,c,p)),g=new Array(u.length),y=0;y<u.length;y++)g[y]=v(p,u[y]);x.set(g),h.func==="count"&&k.pushUnique(l._arrayAttrs,c)}}function i(a,l){return l.length}function r(a,l){return a[l[0]]}function n(a,l){return a[l[l.length-1]]}C.supplyDefaults=function(a,l){var u,h={};function c(A,E){return k.coerce(a,h,f,A,E)}if(!c("enabled"))return h;var x=o.findArrayAttributes(l),p={};for(u=0;u<x.length;u++)p[x[u]]=1;var v=c("groups");if(!Array.isArray(v)){if(!p[v])return h.enabled=!1,h;p[v]=0}var g,y=a.aggregations||[],m=h.aggregations=new Array(y.length);function w(A,E){return k.coerce(y[u],g,s,A,E)}for(u=0;u<y.length;u++){g={_index:u};var d=w("target"),S=w("func");w("enabled")&&d&&(p[d]||S==="count"&&p[d]===void 0)?(S==="stddev"&&w("funcmode"),p[d]=0,m[u]=g):m[u]={enabled:!1,_index:u}}for(u=0;u<x.length;u++)p[x[u]]&&m.push({target:x[u],func:s.func.dflt,enabled:!0,_index:-1});return h},C.calcTransform=function(a,l,u){if(u.enabled){var h=u.groups,c=k.getTargetArray(l,{target:h});if(c){var x,p,v,g,y={},m={},w=[],d=_(l.transforms,u),S=c.length;for(l._length&&(S=Math.min(S,l._length)),x=0;x<S;x++)(v=y[p=c[x]])===void 0?(y[p]=w.length,g=[x],w.push(g),m[y[p]]=d(x)):(w[v].push(x),m[y[p]]=(m[y[p]]||[]).concat(d(x)));u._indexToPoints=m;var A=u.aggregations;for(x=0;x<A.length;x++)t(a,l,w,A[x]);typeof h=="string"&&t(a,l,w,{target:h,func:"first",enabled:!0}),l._length=w.length}}}},76744:function(U,C,e){var T=e(3400),k=e(24040),o=e(54460),_=e(60468).W,b=e(69104),f=b.COMPARISON_OPS,s=b.INTERVAL_OPS,t=b.SET_OPS;C.moduleType="transform",C.name="filter",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},C.supplyDefaults=function(i){var r={};function n(u,h){return T.coerce(i,r,C.attributes,u,h)}if(n("enabled")){var a=n("target");if(T.isArrayOrTypedArray(a)&&a.length===0)return r.enabled=!1,r;n("preservegaps"),n("operation"),n("value");var l=k.getComponentMethod("calendars","handleDefaults");l(i,r,"valuecalendar",null),l(i,r,"targetcalendar",null)}return r},C.calcTransform=function(i,r,n){if(n.enabled){var a=T.getTargetArray(r,n);if(a){var l=n.target,u=a.length;r._length&&(u=Math.min(u,r._length));var h=n.targetcalendar,c=r._arrayAttrs,x=n.preservegaps;if(typeof l=="string"){var p=T.nestedProperty(r,l+"calendar").get();p&&(h=p)}var v,g,y=function(P,O,I){var D=P.operation,V=P.value,z=T.isArrayOrTypedArray(V);function j(W){return W.indexOf(D)!==-1}var X,F=function(W){return O(W,0,P.valuecalendar)},H=function(W){return O(W,0,I)};switch(j(f)?X=F(z?V[0]:V):j(s)?X=z?[F(V[0]),F(V[1])]:[F(V),F(V)]:j(t)&&(X=z?V.map(F):[F(V)]),D){case"=":return function(W){return H(W)===X};case"!=":return function(W){return H(W)!==X};case"<":return function(W){return H(W)<X};case"<=":return function(W){return H(W)<=X};case">":return function(W){return H(W)>X};case">=":return function(W){return H(W)>=X};case"[]":return function(W){var ie=H(W);return ie>=X[0]&&ie<=X[1]};case"()":return function(W){var ie=H(W);return ie>X[0]&&ie<X[1]};case"[)":return function(W){var ie=H(W);return ie>=X[0]&&ie<X[1]};case"(]":return function(W){var ie=H(W);return ie>X[0]&&ie<=X[1]};case"][":return function(W){var ie=H(W);return ie<=X[0]||ie>=X[1]};case")(":return function(W){var ie=H(W);return ie<X[0]||ie>X[1]};case"](":return function(W){var ie=H(W);return ie<=X[0]||ie>X[1]};case")[":return function(W){var ie=H(W);return ie<X[0]||ie>=X[1]};case"{}":return function(W){return X.indexOf(H(W))!==-1};case"}{":return function(W){return X.indexOf(H(W))===-1}}}(n,o.getDataToCoordFunc(i,r,l,a),h),m={},w={},d=0;x?(v=function(P){m[P.astr]=T.extendDeep([],P.get()),P.set(new Array(u))},g=function(P,O){var I=m[P.astr][O];P.get()[O]=I}):(v=function(P){m[P.astr]=T.extendDeep([],P.get()),P.set([])},g=function(P,O){var I=m[P.astr][O];P.get().push(I)}),E(v);for(var S=_(r.transforms,n),A=0;A<u;A++)y(a[A])?(E(g,A),w[d++]=S(A)):x&&d++;n._indexToPoints=w,r._length=d}}function E(P,O){for(var I=0;I<c.length;I++)P(T.nestedProperty(r,c[I]),O)}}},32028:function(U,C,e){var T=e(3400),k=e(73060),o=e(7316),_=e(60468).W;function b(f,s){var t,i,r,n,a,l,u,h,c,x,p=s.transform,v=s.transformIndex,g=f.transforms[v].groups,y=_(f.transforms,p);if(!T.isArrayOrTypedArray(g)||g.length===0)return[f];var m=T.filterUnique(g),w=new Array(m.length),d=g.length,S=k.findArrayAttributes(f),A=p.styles||[],E={};for(t=0;t<A.length;t++)E[A[t].target]=A[t].value;p.styles&&(x=T.keyedContainer(p,"styles","target","value.name"));var P={},O={};for(t=0;t<m.length;t++){P[l=m[t]]=t,O[l]=0,(u=w[t]=T.extendDeepNoArrays({},f))._group=l,u.transforms[v]._indexToPoints={};var I=null;for(x&&(I=x.get(l)),u.name=I||I===""?I:T.templateString(p.nameformat,{trace:f.name,group:l}),h=u.transforms,u.transforms=[],i=0;i<h.length;i++)u.transforms[i]=T.extendDeepNoArrays({},h[i]);for(i=0;i<S.length;i++)T.nestedProperty(u,S[i]).set([])}for(r=0;r<S.length;r++){for(n=S[r],i=0,c=[];i<m.length;i++)c[i]=T.nestedProperty(w[i],n).get();for(a=T.nestedProperty(f,n).get(),i=0;i<d;i++)c[P[g[i]]].push(a[i])}for(i=0;i<d;i++)(u=w[P[g[i]]]).transforms[v]._indexToPoints[O[g[i]]]=y(i),O[g[i]]++;for(t=0;t<m.length;t++)l=m[t],u=w[t],o.clearExpandedTraceDefaultColors(u),u=T.extendDeepNoArrays(u,E[l]||{});return w}C.moduleType="transform",C.name="groupby",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},C.supplyDefaults=function(f,s,t){var i,r={};function n(c,x){return T.coerce(f,r,C.attributes,c,x)}if(!n("enabled"))return r;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var a=f.styles,l=r.styles=[];if(a)for(i=0;i<a.length;i++){var u=l[i]={};T.coerce(a[i],l[i],C.attributes.styles,"target");var h=T.coerce(a[i],l[i],C.attributes.styles,"value");T.isPlainObject(h)?u.value=T.extendDeep({},h):h&&delete u.value}return r},C.transform=function(f,s){var t,i,r,n=[];for(i=0;i<f.length;i++)for(t=b(f[i],s),r=0;r<t.length;r++)n.push(t[r]);return n}},60468:function(U,C){C.W=function(e,T){for(var k,o,_=0;_<e.length&&(k=e[_])!==T;_++)k._indexToPoints&&k.enabled!==!1&&(o=k._indexToPoints);var b=o?function(f){return o[f]}:function(f){return[f]};return b}},76272:function(U,C,e){var T=e(3400),k=e(54460),o=e(60468).W,_=e(39032).BADNUM;C.moduleType="transform",C.name="sort",C.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},C.supplyDefaults=function(b){var f={};function s(t,i){return T.coerce(b,f,C.attributes,t,i)}return s("enabled")&&(s("target"),s("order")),f},C.calcTransform=function(b,f,s){if(s.enabled){var t=T.getTargetArray(f,s);if(t){var i=s.target,r=t.length;f._length&&(r=Math.min(r,f._length));var n,a,l=f._arrayAttrs,u=function(g,y,m,w){var d,S=new Array(w),A=new Array(w);for(d=0;d<w;d++)S[d]={v:y[d],i:d};for(S.sort(function(E,P){switch(E.order){case"ascending":return function(O,I){var D=P(O.v),V=P(I.v);return D===_?1:V===_?-1:D-V};case"descending":return function(O,I){var D=P(O.v),V=P(I.v);return D===_?1:V===_?-1:V-D}}}(g,m)),d=0;d<w;d++)A[d]=S[d].i;return A}(s,t,k.getDataToCoordFunc(b,f,i,t),r),h=o(f.transforms,s),c={};for(n=0;n<l.length;n++){var x=T.nestedProperty(f,l[n]),p=x.get(),v=new Array(r);for(a=0;a<r;a++)v[a]=p[u[a]];x.set(v)}for(a=0;a<r;a++)c[a]=h(u[a]);s._indexToPoints=c,f._length=r}}}},25788:function(U,C){C.version="2.34.0"},67792:function(U,C,e){var T=e(4168);(function(){var k={1964:function(f,s,t){f.exports={alpha_shape:t(3502),convex_hull:t(7352),delaunay_triangulate:t(7642),gl_cone3d:t(6405),gl_error3d:t(9165),gl_heatmap2d:t(2510),gl_line3d:t(5714),gl_mesh3d:t(7201),gl_plot2d:t(1850),gl_plot3d:t(4100),gl_pointcloud2d:t(4696),gl_scatter3d:t(8418),gl_select_box:t(3161),gl_spikes2d:t(4098),gl_streamtube3d:t(7815),gl_surface3d:t(9499),ndarray:t(9618),ndarray_linear_interpolate:t(4317)}},4793:function(f,s,t){function i(ve,ke){for(var Ee=0;Ee<ke.length;Ee++){var De=ke[Ee];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ve,r(De.key),De)}}function r(ve){var ke=function(Ee,De){if(u(Ee)!="object"||!Ee)return Ee;var Pe=Ee[Symbol.toPrimitive];if(Pe!==void 0){var Ue=Pe.call(Ee,"string");if(u(Ue)!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ee)}(ve);return u(ke)=="symbol"?ke:ke+""}function n(){try{var ve=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n=function(){return!!ve})()}function a(ve){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ke){return ke.__proto__||Object.getPrototypeOf(ke)},a(ve)}function l(ve,ke){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,De){return Ee.__proto__=De,Ee},l(ve,ke)}function u(ve){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},u(ve)}var h=t(7507),c=t(3778),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=g,s.IS=50;var p=2147483647;function v(ve){if(ve>p)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var ke=new Uint8Array(ve);return Object.setPrototypeOf(ke,g.prototype),ke}function g(ve,ke,Ee){if(typeof ve=="number"){if(typeof ke=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(ve)}return y(ve,ke,Ee)}function y(ve,ke,Ee){if(typeof ve=="string")return function(Ue,We){if(typeof We=="string"&&We!==""||(We="utf8"),!g.isEncoding(We))throw new TypeError("Unknown encoding: "+We);var $e=0|E(Ue,We),ot=v($e),st=ot.write(Ue,We);return st!==$e&&(ot=ot.slice(0,st)),ot}(ve,ke);if(ArrayBuffer.isView(ve))return function(Ue){if(_e(Ue,Uint8Array)){var We=new Uint8Array(Ue);return S(We.buffer,We.byteOffset,We.byteLength)}return d(Ue)}(ve);if(ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ve));if(_e(ve,ArrayBuffer)||ve&&_e(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(ve,SharedArrayBuffer)||ve&&_e(ve.buffer,SharedArrayBuffer)))return S(ve,ke,Ee);if(typeof ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var De=ve.valueOf&&ve.valueOf();if(De!=null&&De!==ve)return g.from(De,ke,Ee);var Pe=function(Ue){if(g.isBuffer(Ue)){var We=0|A(Ue.length),$e=v(We);return $e.length===0||Ue.copy($e,0,0,We),$e}return Ue.length!==void 0?typeof Ue.length!="number"||Ae(Ue.length)?v(0):d(Ue):Ue.type==="Buffer"&&Array.isArray(Ue.data)?d(Ue.data):void 0}(ve);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ve[Symbol.toPrimitive]=="function")return g.from(ve[Symbol.toPrimitive]("string"),ke,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ve))}function m(ve){if(typeof ve!="number")throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function w(ve){return m(ve),v(ve<0?0:0|A(ve))}function d(ve){for(var ke=ve.length<0?0:0|A(ve.length),Ee=v(ke),De=0;De<ke;De+=1)Ee[De]=255&ve[De];return Ee}function S(ve,ke,Ee){if(ke<0||ve.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<ke+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var De;return De=ke===void 0&&Ee===void 0?new Uint8Array(ve):Ee===void 0?new Uint8Array(ve,ke):new Uint8Array(ve,ke,Ee),Object.setPrototypeOf(De,g.prototype),De}function A(ve){if(ve>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|ve}function E(ve,ke){if(g.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||_e(ve,ArrayBuffer))return ve.byteLength;if(typeof ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ve));var Ee=ve.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&Ee===0)return 0;for(var Pe=!1;;)switch(ke){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return oe(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ee;case"hex":return Ee>>>1;case"base64":return de(ve).length;default:if(Pe)return De?-1:oe(ve).length;ke=(""+ke).toLowerCase(),Pe=!0}}function P(ve,ke,Ee){var De=!1;if((ke===void 0||ke<0)&&(ke=0),ke>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0)<=(ke>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return ne(this,ke,Ee);case"utf8":case"utf-8":return W(this,ke,Ee);case"ascii":return te(this,ke,Ee);case"latin1":case"binary":return Q(this,ke,Ee);case"base64":return H(this,ke,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,ke,Ee);default:if(De)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),De=!0}}function O(ve,ke,Ee){var De=ve[ke];ve[ke]=ve[Ee],ve[Ee]=De}function I(ve,ke,Ee,De,Pe){if(ve.length===0)return-1;if(typeof Ee=="string"?(De=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ae(Ee=+Ee)&&(Ee=Pe?0:ve.length-1),Ee<0&&(Ee=ve.length+Ee),Ee>=ve.length){if(Pe)return-1;Ee=ve.length-1}else if(Ee<0){if(!Pe)return-1;Ee=0}if(typeof ke=="string"&&(ke=g.from(ke,De)),g.isBuffer(ke))return ke.length===0?-1:D(ve,ke,Ee,De,Pe);if(typeof ke=="number")return ke&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(ve,ke,Ee):Uint8Array.prototype.lastIndexOf.call(ve,ke,Ee):D(ve,[ke],Ee,De,Pe);throw new TypeError("val must be string, number or Buffer")}function D(ve,ke,Ee,De,Pe){var Ue,We=1,$e=ve.length,ot=ke.length;if(De!==void 0&&((De=String(De).toLowerCase())==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(ve.length<2||ke.length<2)return-1;We=2,$e/=2,ot/=2,Ee/=2}function st(it,tt){return We===1?it[tt]:it.readUInt16BE(tt*We)}if(Pe){var mt=-1;for(Ue=Ee;Ue<$e;Ue++)if(st(ve,Ue)===st(ke,mt===-1?0:Ue-mt)){if(mt===-1&&(mt=Ue),Ue-mt+1===ot)return mt*We}else mt!==-1&&(Ue-=Ue-mt),mt=-1}else for(Ee+ot>$e&&(Ee=$e-ot),Ue=Ee;Ue>=0;Ue--){for(var _t=!0,yt=0;yt<ot;yt++)if(st(ve,Ue+yt)!==st(ke,yt)){_t=!1;break}if(_t)return Ue}return-1}function V(ve,ke,Ee,De){Ee=Number(Ee)||0;var Pe=ve.length-Ee;De?(De=Number(De))>Pe&&(De=Pe):De=Pe;var Ue,We=ke.length;for(De>We/2&&(De=We/2),Ue=0;Ue<De;++Ue){var $e=parseInt(ke.substr(2*Ue,2),16);if(Ae($e))return Ue;ve[Ee+Ue]=$e}return Ue}function z(ve,ke,Ee,De){return Ce(oe(ke,ve.length-Ee),ve,Ee,De)}function j(ve,ke,Ee,De){return Ce(function(Pe){for(var Ue=[],We=0;We<Pe.length;++We)Ue.push(255&Pe.charCodeAt(We));return Ue}(ke),ve,Ee,De)}function X(ve,ke,Ee,De){return Ce(de(ke),ve,Ee,De)}function F(ve,ke,Ee,De){return Ce(function(Pe,Ue){for(var We,$e,ot,st=[],mt=0;mt<Pe.length&&!((Ue-=2)<0);++mt)$e=(We=Pe.charCodeAt(mt))>>8,ot=We%256,st.push(ot),st.push($e);return st}(ke,ve.length-Ee),ve,Ee,De)}function H(ve,ke,Ee){return ke===0&&Ee===ve.length?h.fromByteArray(ve):h.fromByteArray(ve.slice(ke,Ee))}function W(ve,ke,Ee){Ee=Math.min(ve.length,Ee);for(var De=[],Pe=ke;Pe<Ee;){var Ue=ve[Pe],We=null,$e=Ue>239?4:Ue>223?3:Ue>191?2:1;if(Pe+$e<=Ee){var ot=void 0,st=void 0,mt=void 0,_t=void 0;switch($e){case 1:Ue<128&&(We=Ue);break;case 2:(192&(ot=ve[Pe+1]))==128&&(_t=(31&Ue)<<6|63&ot)>127&&(We=_t);break;case 3:ot=ve[Pe+1],st=ve[Pe+2],(192&ot)==128&&(192&st)==128&&(_t=(15&Ue)<<12|(63&ot)<<6|63&st)>2047&&(_t<55296||_t>57343)&&(We=_t);break;case 4:ot=ve[Pe+1],st=ve[Pe+2],mt=ve[Pe+3],(192&ot)==128&&(192&st)==128&&(192&mt)==128&&(_t=(15&Ue)<<18|(63&ot)<<12|(63&st)<<6|63&mt)>65535&&_t<1114112&&(We=_t)}}We===null?(We=65533,$e=1):We>65535&&(We-=65536,De.push(We>>>10&1023|55296),We=56320|1023&We),De.push(We),Pe+=$e}return function(yt){var it=yt.length;if(it<=ie)return String.fromCharCode.apply(String,yt);for(var tt="",Pt=0;Pt<it;)tt+=String.fromCharCode.apply(String,yt.slice(Pt,Pt+=ie));return tt}(De)}g.TYPED_ARRAY_SUPPORT=function(){try{var ve=new Uint8Array(1),ke={foo:function(){return 42}};return Object.setPrototypeOf(ke,Uint8Array.prototype),Object.setPrototypeOf(ve,ke),ve.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(ve,ke,Ee){return y(ve,ke,Ee)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(ve,ke,Ee){return function(De,Pe,Ue){return m(De),De<=0?v(De):Pe!==void 0?typeof Ue=="string"?v(De).fill(Pe,Ue):v(De).fill(Pe):v(De)}(ve,ke,Ee)},g.allocUnsafe=function(ve){return w(ve)},g.allocUnsafeSlow=function(ve){return w(ve)},g.isBuffer=function(ve){return ve!=null&&ve._isBuffer===!0&&ve!==g.prototype},g.compare=function(ve,ke){if(_e(ve,Uint8Array)&&(ve=g.from(ve,ve.offset,ve.byteLength)),_e(ke,Uint8Array)&&(ke=g.from(ke,ke.offset,ke.byteLength)),!g.isBuffer(ve)||!g.isBuffer(ke))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===ke)return 0;for(var Ee=ve.length,De=ke.length,Pe=0,Ue=Math.min(Ee,De);Pe<Ue;++Pe)if(ve[Pe]!==ke[Pe]){Ee=ve[Pe],De=ke[Pe];break}return Ee<De?-1:De<Ee?1:0},g.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ve,ke){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return g.alloc(0);var Ee;if(ke===void 0)for(ke=0,Ee=0;Ee<ve.length;++Ee)ke+=ve[Ee].length;var De=g.allocUnsafe(ke),Pe=0;for(Ee=0;Ee<ve.length;++Ee){var Ue=ve[Ee];if(_e(Ue,Uint8Array))Pe+Ue.length>De.length?(g.isBuffer(Ue)||(Ue=g.from(Ue)),Ue.copy(De,Pe)):Uint8Array.prototype.set.call(De,Ue,Pe);else{if(!g.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(De,Pe)}Pe+=Ue.length}return De},g.byteLength=E,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ke=0;ke<ve;ke+=2)O(this,ke,ke+1);return this},g.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ke=0;ke<ve;ke+=4)O(this,ke,ke+3),O(this,ke+1,ke+2);return this},g.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ke=0;ke<ve;ke+=8)O(this,ke,ke+7),O(this,ke+1,ke+6),O(this,ke+2,ke+5),O(this,ke+3,ke+4);return this},g.prototype.toString=function(){var ve=this.length;return ve===0?"":arguments.length===0?W(this,0,ve):P.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(ve){if(!g.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||g.compare(this,ve)===0},g.prototype.inspect=function(){var ve="",ke=s.IS;return ve=this.toString("hex",0,ke).replace(/(.{2})/g,"$1 ").trim(),this.length>ke&&(ve+=" ... "),"<Buffer "+ve+">"},x&&(g.prototype[x]=g.prototype.inspect),g.prototype.compare=function(ve,ke,Ee,De,Pe){if(_e(ve,Uint8Array)&&(ve=g.from(ve,ve.offset,ve.byteLength)),!g.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ve));if(ke===void 0&&(ke=0),Ee===void 0&&(Ee=ve?ve.length:0),De===void 0&&(De=0),Pe===void 0&&(Pe=this.length),ke<0||Ee>ve.length||De<0||Pe>this.length)throw new RangeError("out of range index");if(De>=Pe&&ke>=Ee)return 0;if(De>=Pe)return-1;if(ke>=Ee)return 1;if(this===ve)return 0;for(var Ue=(Pe>>>=0)-(De>>>=0),We=(Ee>>>=0)-(ke>>>=0),$e=Math.min(Ue,We),ot=this.slice(De,Pe),st=ve.slice(ke,Ee),mt=0;mt<$e;++mt)if(ot[mt]!==st[mt]){Ue=ot[mt],We=st[mt];break}return Ue<We?-1:We<Ue?1:0},g.prototype.includes=function(ve,ke,Ee){return this.indexOf(ve,ke,Ee)!==-1},g.prototype.indexOf=function(ve,ke,Ee){return I(this,ve,ke,Ee,!0)},g.prototype.lastIndexOf=function(ve,ke,Ee){return I(this,ve,ke,Ee,!1)},g.prototype.write=function(ve,ke,Ee,De){if(ke===void 0)De="utf8",Ee=this.length,ke=0;else if(Ee===void 0&&typeof ke=="string")De=ke,Ee=this.length,ke=0;else{if(!isFinite(ke))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ke>>>=0,isFinite(Ee)?(Ee>>>=0,De===void 0&&(De="utf8")):(De=Ee,Ee=void 0)}var Pe=this.length-ke;if((Ee===void 0||Ee>Pe)&&(Ee=Pe),ve.length>0&&(Ee<0||ke<0)||ke>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");for(var Ue=!1;;)switch(De){case"hex":return V(this,ve,ke,Ee);case"utf8":case"utf-8":return z(this,ve,ke,Ee);case"ascii":case"latin1":case"binary":return j(this,ve,ke,Ee);case"base64":return X(this,ve,ke,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,ve,ke,Ee);default:if(Ue)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ue=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ie=4096;function te(ve,ke,Ee){var De="";Ee=Math.min(ve.length,Ee);for(var Pe=ke;Pe<Ee;++Pe)De+=String.fromCharCode(127&ve[Pe]);return De}function Q(ve,ke,Ee){var De="";Ee=Math.min(ve.length,Ee);for(var Pe=ke;Pe<Ee;++Pe)De+=String.fromCharCode(ve[Pe]);return De}function ne(ve,ke,Ee){var De=ve.length;(!ke||ke<0)&&(ke=0),(!Ee||Ee<0||Ee>De)&&(Ee=De);for(var Pe="",Ue=ke;Ue<Ee;++Ue)Pe+=Le[ve[Ue]];return Pe}function $(ve,ke,Ee){for(var De=ve.slice(ke,Ee),Pe="",Ue=0;Ue<De.length-1;Ue+=2)Pe+=String.fromCharCode(De[Ue]+256*De[Ue+1]);return Pe}function J(ve,ke,Ee){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+ke>Ee)throw new RangeError("Trying to access beyond buffer length")}function re(ve,ke,Ee,De,Pe,Ue){if(!g.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(ke>Pe||ke<Ue)throw new RangeError('"value" argument is out of bounds');if(Ee+De>ve.length)throw new RangeError("Index out of range")}function se(ve,ke,Ee,De,Pe){Se(ke,De,Pe,ve,Ee,7);var Ue=Number(ke&BigInt(4294967295));ve[Ee++]=Ue,Ue>>=8,ve[Ee++]=Ue,Ue>>=8,ve[Ee++]=Ue,Ue>>=8,ve[Ee++]=Ue;var We=Number(ke>>BigInt(32)&BigInt(4294967295));return ve[Ee++]=We,We>>=8,ve[Ee++]=We,We>>=8,ve[Ee++]=We,We>>=8,ve[Ee++]=We,Ee}function ue(ve,ke,Ee,De,Pe){Se(ke,De,Pe,ve,Ee,7);var Ue=Number(ke&BigInt(4294967295));ve[Ee+7]=Ue,Ue>>=8,ve[Ee+6]=Ue,Ue>>=8,ve[Ee+5]=Ue,Ue>>=8,ve[Ee+4]=Ue;var We=Number(ke>>BigInt(32)&BigInt(4294967295));return ve[Ee+3]=We,We>>=8,ve[Ee+2]=We,We>>=8,ve[Ee+1]=We,We>>=8,ve[Ee]=We,Ee+8}function he(ve,ke,Ee,De,Pe,Ue){if(Ee+De>ve.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function pe(ve,ke,Ee,De,Pe){return ke=+ke,Ee>>>=0,Pe||he(ve,0,Ee,4),c.write(ve,ke,Ee,De,23,4),Ee+4}function ge(ve,ke,Ee,De,Pe){return ke=+ke,Ee>>>=0,Pe||he(ve,0,Ee,8),c.write(ve,ke,Ee,De,52,8),Ee+8}g.prototype.slice=function(ve,ke){var Ee=this.length;(ve=~~ve)<0?(ve+=Ee)<0&&(ve=0):ve>Ee&&(ve=Ee),(ke=ke===void 0?Ee:~~ke)<0?(ke+=Ee)<0&&(ke=0):ke>Ee&&(ke=Ee),ke<ve&&(ke=ve);var De=this.subarray(ve,ke);return Object.setPrototypeOf(De,g.prototype),De},g.prototype.readUintLE=g.prototype.readUIntLE=function(ve,ke,Ee){ve>>>=0,ke>>>=0,Ee||J(ve,ke,this.length);for(var De=this[ve],Pe=1,Ue=0;++Ue<ke&&(Pe*=256);)De+=this[ve+Ue]*Pe;return De},g.prototype.readUintBE=g.prototype.readUIntBE=function(ve,ke,Ee){ve>>>=0,ke>>>=0,Ee||J(ve,ke,this.length);for(var De=this[ve+--ke],Pe=1;ke>0&&(Pe*=256);)De+=this[ve+--ke]*Pe;return De},g.prototype.readUint8=g.prototype.readUInt8=function(ve,ke){return ve>>>=0,ke||J(ve,1,this.length),this[ve]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(ve,ke){return ve>>>=0,ke||J(ve,2,this.length),this[ve]|this[ve+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(ve,ke){return ve>>>=0,ke||J(ve,2,this.length),this[ve]<<8|this[ve+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},g.prototype.readBigUInt64LE=ze(function(ve){Fe(ve>>>=0,"offset");var ke=this[ve],Ee=this[ve+7];ke!==void 0&&Ee!==void 0||xe(ve,this.length-8);var De=ke+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),Pe=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(De)+(BigInt(Pe)<<BigInt(32))}),g.prototype.readBigUInt64BE=ze(function(ve){Fe(ve>>>=0,"offset");var ke=this[ve],Ee=this[ve+7];ke!==void 0&&Ee!==void 0||xe(ve,this.length-8);var De=ke*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],Pe=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ee;return(BigInt(De)<<BigInt(32))+BigInt(Pe)}),g.prototype.readIntLE=function(ve,ke,Ee){ve>>>=0,ke>>>=0,Ee||J(ve,ke,this.length);for(var De=this[ve],Pe=1,Ue=0;++Ue<ke&&(Pe*=256);)De+=this[ve+Ue]*Pe;return De>=(Pe*=128)&&(De-=Math.pow(2,8*ke)),De},g.prototype.readIntBE=function(ve,ke,Ee){ve>>>=0,ke>>>=0,Ee||J(ve,ke,this.length);for(var De=ke,Pe=1,Ue=this[ve+--De];De>0&&(Pe*=256);)Ue+=this[ve+--De]*Pe;return Ue>=(Pe*=128)&&(Ue-=Math.pow(2,8*ke)),Ue},g.prototype.readInt8=function(ve,ke){return ve>>>=0,ke||J(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},g.prototype.readInt16LE=function(ve,ke){ve>>>=0,ke||J(ve,2,this.length);var Ee=this[ve]|this[ve+1]<<8;return 32768&Ee?4294901760|Ee:Ee},g.prototype.readInt16BE=function(ve,ke){ve>>>=0,ke||J(ve,2,this.length);var Ee=this[ve+1]|this[ve]<<8;return 32768&Ee?4294901760|Ee:Ee},g.prototype.readInt32LE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},g.prototype.readInt32BE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},g.prototype.readBigInt64LE=ze(function(ve){Fe(ve>>>=0,"offset");var ke=this[ve],Ee=this[ve+7];ke!==void 0&&Ee!==void 0||xe(ve,this.length-8);var De=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(De)<<BigInt(32))+BigInt(ke+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),g.prototype.readBigInt64BE=ze(function(ve){Fe(ve>>>=0,"offset");var ke=this[ve],Ee=this[ve+7];ke!==void 0&&Ee!==void 0||xe(ve,this.length-8);var De=(ke<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(De)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ee)}),g.prototype.readFloatLE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),c.read(this,ve,!0,23,4)},g.prototype.readFloatBE=function(ve,ke){return ve>>>=0,ke||J(ve,4,this.length),c.read(this,ve,!1,23,4)},g.prototype.readDoubleLE=function(ve,ke){return ve>>>=0,ke||J(ve,8,this.length),c.read(this,ve,!0,52,8)},g.prototype.readDoubleBE=function(ve,ke){return ve>>>=0,ke||J(ve,8,this.length),c.read(this,ve,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(ve,ke,Ee,De){ve=+ve,ke>>>=0,Ee>>>=0,De||re(this,ve,ke,Ee,Math.pow(2,8*Ee)-1,0);var Pe=1,Ue=0;for(this[ke]=255&ve;++Ue<Ee&&(Pe*=256);)this[ke+Ue]=ve/Pe&255;return ke+Ee},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(ve,ke,Ee,De){ve=+ve,ke>>>=0,Ee>>>=0,De||re(this,ve,ke,Ee,Math.pow(2,8*Ee)-1,0);var Pe=Ee-1,Ue=1;for(this[ke+Pe]=255&ve;--Pe>=0&&(Ue*=256);)this[ke+Pe]=ve/Ue&255;return ke+Ee},g.prototype.writeUint8=g.prototype.writeUInt8=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,1,255,0),this[ke]=255&ve,ke+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,2,65535,0),this[ke]=255&ve,this[ke+1]=ve>>>8,ke+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,2,65535,0),this[ke]=ve>>>8,this[ke+1]=255&ve,ke+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,4,4294967295,0),this[ke+3]=ve>>>24,this[ke+2]=ve>>>16,this[ke+1]=ve>>>8,this[ke]=255&ve,ke+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,4,4294967295,0),this[ke]=ve>>>24,this[ke+1]=ve>>>16,this[ke+2]=ve>>>8,this[ke+3]=255&ve,ke+4},g.prototype.writeBigUInt64LE=ze(function(ve){return se(this,ve,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=ze(function(ve){return ue(this,ve,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(ve,ke,Ee,De){if(ve=+ve,ke>>>=0,!De){var Pe=Math.pow(2,8*Ee-1);re(this,ve,ke,Ee,Pe-1,-Pe)}var Ue=0,We=1,$e=0;for(this[ke]=255&ve;++Ue<Ee&&(We*=256);)ve<0&&$e===0&&this[ke+Ue-1]!==0&&($e=1),this[ke+Ue]=(ve/We>>0)-$e&255;return ke+Ee},g.prototype.writeIntBE=function(ve,ke,Ee,De){if(ve=+ve,ke>>>=0,!De){var Pe=Math.pow(2,8*Ee-1);re(this,ve,ke,Ee,Pe-1,-Pe)}var Ue=Ee-1,We=1,$e=0;for(this[ke+Ue]=255&ve;--Ue>=0&&(We*=256);)ve<0&&$e===0&&this[ke+Ue+1]!==0&&($e=1),this[ke+Ue]=(ve/We>>0)-$e&255;return ke+Ee},g.prototype.writeInt8=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,1,127,-128),ve<0&&(ve=255+ve+1),this[ke]=255&ve,ke+1},g.prototype.writeInt16LE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,2,32767,-32768),this[ke]=255&ve,this[ke+1]=ve>>>8,ke+2},g.prototype.writeInt16BE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,2,32767,-32768),this[ke]=ve>>>8,this[ke+1]=255&ve,ke+2},g.prototype.writeInt32LE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,4,2147483647,-2147483648),this[ke]=255&ve,this[ke+1]=ve>>>8,this[ke+2]=ve>>>16,this[ke+3]=ve>>>24,ke+4},g.prototype.writeInt32BE=function(ve,ke,Ee){return ve=+ve,ke>>>=0,Ee||re(this,ve,ke,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[ke]=ve>>>24,this[ke+1]=ve>>>16,this[ke+2]=ve>>>8,this[ke+3]=255&ve,ke+4},g.prototype.writeBigInt64LE=ze(function(ve){return se(this,ve,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=ze(function(ve){return ue(this,ve,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(ve,ke,Ee){return pe(this,ve,ke,!0,Ee)},g.prototype.writeFloatBE=function(ve,ke,Ee){return pe(this,ve,ke,!1,Ee)},g.prototype.writeDoubleLE=function(ve,ke,Ee){return ge(this,ve,ke,!0,Ee)},g.prototype.writeDoubleBE=function(ve,ke,Ee){return ge(this,ve,ke,!1,Ee)},g.prototype.copy=function(ve,ke,Ee,De){if(!g.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),De||De===0||(De=this.length),ke>=ve.length&&(ke=ve.length),ke||(ke=0),De>0&&De<Ee&&(De=Ee),De===Ee||ve.length===0||this.length===0)return 0;if(ke<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),ve.length-ke<De-Ee&&(De=ve.length-ke+Ee);var Pe=De-Ee;return this===ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ke,Ee,De):Uint8Array.prototype.set.call(ve,this.subarray(Ee,De),ke),Pe},g.prototype.fill=function(ve,ke,Ee,De){if(typeof ve=="string"){if(typeof ke=="string"?(De=ke,ke=0,Ee=this.length):typeof Ee=="string"&&(De=Ee,Ee=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!g.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(ve.length===1){var Pe=ve.charCodeAt(0);(De==="utf8"&&Pe<128||De==="latin1")&&(ve=Pe)}}else typeof ve=="number"?ve&=255:typeof ve=="boolean"&&(ve=Number(ve));if(ke<0||this.length<ke||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=ke)return this;var Ue;if(ke>>>=0,Ee=Ee===void 0?this.length:Ee>>>0,ve||(ve=0),typeof ve=="number")for(Ue=ke;Ue<Ee;++Ue)this[Ue]=ve;else{var We=g.isBuffer(ve)?ve:g.from(ve,De),$e=We.length;if($e===0)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(Ue=0;Ue<Ee-ke;++Ue)this[Ue+ke]=We[Ue%$e]}return this};var ye={};function be(ve,ke,Ee){ye[ve]=function(De){function Pe(){var $e,ot,st,mt;return function(_t,yt){if(!(_t instanceof yt))throw new TypeError("Cannot call a class as a function")}(this,Pe),ot=this,st=a(st=Pe),$e=function(_t,yt){if(yt&&(u(yt)==="object"||typeof yt=="function"))return yt;if(yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}(_t)}(ot,n()?Reflect.construct(st,[],a(ot).constructor):st.apply(ot,mt)),Object.defineProperty($e,"message",{value:ke.apply($e,arguments),writable:!0,configurable:!0}),$e.name="".concat($e.name," [").concat(ve,"]"),$e.stack,delete $e.name,$e}return function($e,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(ot&&ot.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),Object.defineProperty($e,"prototype",{writable:!1}),ot&&l($e,ot)}(Pe,De),Ue=Pe,(We=[{key:"code",get:function(){return ve},set:function($e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ve,"]: ").concat(this.message)}}])&&i(Ue.prototype,We),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue;var Ue,We}(Ee)}function Te(ve){for(var ke="",Ee=ve.length,De=ve[0]==="-"?1:0;Ee>=De+4;Ee-=3)ke="_".concat(ve.slice(Ee-3,Ee)).concat(ke);return"".concat(ve.slice(0,Ee)).concat(ke)}function Se(ve,ke,Ee,De,Pe,Ue){if(ve>Ee||ve<ke){var We,$e=typeof ke=="bigint"?"n":"";throw We=ke===0||ke===BigInt(0)?">= 0".concat($e," and < 2").concat($e," ** ").concat(8*(Ue+1)).concat($e):">= -(2".concat($e," ** ").concat(8*(Ue+1)-1).concat($e,") and < 2 ** ")+"".concat(8*(Ue+1)-1).concat($e),new ye.ERR_OUT_OF_RANGE("value",We,ve)}(function(ot,st,mt){Fe(st,"offset"),ot[st]!==void 0&&ot[st+mt]!==void 0||xe(st,ot.length-(mt+1))})(De,Pe,Ue)}function Fe(ve,ke){if(typeof ve!="number")throw new ye.ERR_INVALID_ARG_TYPE(ke,"number",ve)}function xe(ve,ke,Ee){throw Math.floor(ve)!==ve?(Fe(ve,Ee),new ye.ERR_OUT_OF_RANGE("offset","an integer",ve)):ke<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(ke),ve)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?"".concat(ve," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(ve,ke){return'The "'.concat(ve,'" argument must be of type number. Received type ').concat(u(ke))},TypeError),be("ERR_OUT_OF_RANGE",function(ve,ke,Ee){var De='The value of "'.concat(ve,'" is out of range.'),Pe=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?Pe=Te(String(Ee)):typeof Ee=="bigint"&&(Pe=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(Pe=Te(Pe)),Pe+="n"),De+" It must be ".concat(ke,". Received ").concat(Pe)},RangeError);var le=/[^+/0-9A-Za-z-_]/g;function oe(ve,ke){var Ee;ke=ke||1/0;for(var De=ve.length,Pe=null,Ue=[],We=0;We<De;++We){if((Ee=ve.charCodeAt(We))>55295&&Ee<57344){if(!Pe){if(Ee>56319){(ke-=3)>-1&&Ue.push(239,191,189);continue}if(We+1===De){(ke-=3)>-1&&Ue.push(239,191,189);continue}Pe=Ee;continue}if(Ee<56320){(ke-=3)>-1&&Ue.push(239,191,189),Pe=Ee;continue}Ee=65536+(Pe-55296<<10|Ee-56320)}else Pe&&(ke-=3)>-1&&Ue.push(239,191,189);if(Pe=null,Ee<128){if((ke-=1)<0)break;Ue.push(Ee)}else if(Ee<2048){if((ke-=2)<0)break;Ue.push(Ee>>6|192,63&Ee|128)}else if(Ee<65536){if((ke-=3)<0)break;Ue.push(Ee>>12|224,Ee>>6&63|128,63&Ee|128)}else{if(!(Ee<1114112))throw new Error("Invalid code point");if((ke-=4)<0)break;Ue.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,63&Ee|128)}}return Ue}function de(ve){return h.toByteArray(function(ke){if((ke=(ke=ke.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;ke.length%4!=0;)ke+="=";return ke}(ve))}function Ce(ve,ke,Ee,De){var Pe;for(Pe=0;Pe<De&&!(Pe+Ee>=ke.length||Pe>=ve.length);++Pe)ke[Pe+Ee]=ve[Pe];return Pe}function _e(ve,ke){return ve instanceof ke||ve!=null&&ve.constructor!=null&&ve.constructor.name!=null&&ve.constructor.name===ke.name}function Ae(ve){return ve!=ve}var Le=function(){for(var ve="0123456789abcdef",ke=new Array(256),Ee=0;Ee<16;++Ee)for(var De=16*Ee,Pe=0;Pe<16;++Pe)ke[De+Pe]=ve[Ee]+ve[Pe];return ke}();function ze(ve){return typeof BigInt>"u"?Re:ve}function Re(){throw new Error("BigInt not supported")}},9216:function(f){f.exports=r,f.exports.isMobile=r,f.exports.default=r;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function r(n){n||(n={});var a=n.ua;if(a||typeof navigator>"u"||(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;var l=s.test(a)&&!t.test(a)||!!n.tablet&&i.test(a);return!l&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(f,s,t){f.exports=function(u){var h=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],x=u.up||[0,1,0],p=u.distanceLimits||[0,1/0],v=u.mode||"turntable",g=i(),y=r(),m=n();return g.setDistanceLimits(p[0],p[1]),g.lookAt(0,h,c,x),y.setDistanceLimits(p[0],p[1]),y.lookAt(0,h,c,x),m.setDistanceLimits(p[0],p[1]),m.lookAt(0,h,c,x),new a({turntable:g,orbit:y,matrix:m},v)};var i=t(7261),r=t(9977),n=t(4192);function a(u,h){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=h,this._active=u[h],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=a.prototype;l.flush=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].flush(u)},l.idle=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].idle(u)},l.lookAt=function(u,h,c,x){for(var p=this._controllerList,v=0;v<p.length;++v)p[v].lookAt(u,h,c,x)},l.rotate=function(u,h,c,x){for(var p=this._controllerList,v=0;v<p.length;++v)p[v].rotate(u,h,c,x)},l.pan=function(u,h,c,x){for(var p=this._controllerList,v=0;v<p.length;++v)p[v].pan(u,h,c,x)},l.translate=function(u,h,c,x){for(var p=this._controllerList,v=0;v<p.length;++v)p[v].translate(u,h,c,x)},l.setMatrix=function(u,h){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(u,h)},l.setDistanceLimits=function(u,h){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(u,h)},l.setDistance=function(u,h){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(u,h)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var h=this._controllerNames.indexOf(u);if(!(h<0)){var c=this._active,x=this._controllerList[h],p=Math.max(c.lastT(),x.lastT());c.recalcMatrix(p),x.setMatrix(p,c.computedMatrix),this._active=x,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},7169:function(f,s,t){var i=typeof WeakMap>"u"?t(1538):WeakMap,r=t(2762),n=t(8116),a=new i;f.exports=function(l){var u=a.get(l),h=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var c=r(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=n(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,a.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},1085:function(f,s,t){var i=t(1371);f.exports=function(r,n,a){n=typeof n=="number"?n:1,a=a||": ";var l=r.split(/\r?\n/),u=String(l.length+n-1).length;return l.map(function(h,c){var x=c+n,p=String(x).length;return i(x,u-p)+a+h}).join(`
`)}},3952:function(f,s,t){f.exports=function(n){var a=n.length;if(a===0)return[];if(a===1)return[0];for(var l=n[0].length,u=[n[0]],h=[0],c=1;c<a;++c)if(u.push(n[c]),r(u,l)){if(h.push(c),h.length===l+1)return h}else u.pop();return h};var i=t(3250);function r(n,a){for(var l=new Array(a+1),u=0;u<n.length;++u)l[u]=n[u];for(u=0;u<=n.length;++u){for(var h=n.length;h<=a;++h){for(var c=new Array(a),x=0;x<a;++x)c[x]=Math.pow(h+1-u,x);l[h]=c}if(i.apply(void 0,l))return!0}return!1}},5995:function(f,s,t){f.exports=function(n,a){return i(a).filter(function(l){for(var u=new Array(l.length),h=0;h<l.length;++h)u[h]=a[l[h]];return r(u)*n<1})};var i=t(7642),r=t(6037)},3502:function(f,s,t){f.exports=function(n,a){return r(i(n,a))};var i=t(5995),r=t(9127)},6468:function(f){f.exports=function(s){return atob(s)}},2642:function(f,s,t){f.exports=function(n,a){for(var l=a.length,u=new Array(l+1),h=0;h<l;++h){for(var c=new Array(l+1),x=0;x<=l;++x)c[x]=n[x][h];u[h]=c}for(u[l]=new Array(l+1),h=0;h<=l;++h)u[l][h]=1;var p=new Array(l+1);for(h=0;h<l;++h)p[h]=a[h];p[l]=1;var v=i(u,p),g=r(v[l+1]);g===0&&(g=1);var y=new Array(l+1);for(h=0;h<=l;++h)y[h]=r(v[h])/g;return y};var i=t(727);function r(n){for(var a=0,l=0;l<n.length;++l)a+=n[l];return a}},7507:function(f,s){s.byteLength=function(h){var c=l(h),x=c[0],p=c[1];return 3*(x+p)/4-p},s.toByteArray=function(h){var c,x,p=l(h),v=p[0],g=p[1],y=new r(function(d,S,A){return 3*(S+A)/4-A}(0,v,g)),m=0,w=g>0?v-4:v;for(x=0;x<w;x+=4)c=i[h.charCodeAt(x)]<<18|i[h.charCodeAt(x+1)]<<12|i[h.charCodeAt(x+2)]<<6|i[h.charCodeAt(x+3)],y[m++]=c>>16&255,y[m++]=c>>8&255,y[m++]=255&c;return g===2&&(c=i[h.charCodeAt(x)]<<2|i[h.charCodeAt(x+1)]>>4,y[m++]=255&c),g===1&&(c=i[h.charCodeAt(x)]<<10|i[h.charCodeAt(x+1)]<<4|i[h.charCodeAt(x+2)]>>2,y[m++]=c>>8&255,y[m++]=255&c),y},s.fromByteArray=function(h){for(var c,x=h.length,p=x%3,v=[],g=16383,y=0,m=x-p;y<m;y+=g)v.push(u(h,y,y+g>m?m:y+g));return p===1?(c=h[x-1],v.push(t[c>>2]+t[c<<4&63]+"==")):p===2&&(c=(h[x-2]<<8)+h[x-1],v.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),v.join("")};for(var t=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)t[a]=n[a],i[n.charCodeAt(a)]=a;function l(h){var c=h.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=h.indexOf("=");return x===-1&&(x=c),[x,x===c?0:4-x%4]}function u(h,c,x){for(var p,v,g=[],y=c;y<x;y+=3)p=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(255&h[y+2]),g.push(t[(v=p)>>18&63]+t[v>>12&63]+t[v>>6&63]+t[63&v]);return g.join("")}i[45]=62,i[95]=63},3865:function(f,s,t){var i=t(869);f.exports=function(r,n){return i(r[0].mul(n[1]).add(n[0].mul(r[1])),r[1].mul(n[1]))}},1318:function(f){f.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},8697:function(f,s,t){var i=t(869);f.exports=function(r,n){return i(r[0].mul(n[1]),r[1].mul(n[0]))}},7842:function(f,s,t){var i=t(6330),r=t(1533),n=t(2651),a=t(4387),l=t(869),u=t(8697);f.exports=function h(c,x){if(i(c))return x?u(c,h(x)):[c[0].clone(),c[1].clone()];var p,v,g=0;if(r(c))p=c.clone();else if(typeof c=="string")p=a(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))p=n(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),g-=256;p=n(c)}}if(i(x))p.mul(x[1]),v=x[0].clone();else if(r(x))v=x.clone();else if(typeof x=="string")v=a(x);else if(x)if(x===Math.floor(x))v=n(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),g+=256;v=n(x)}else v=n(1);return g>0?p=p.ushln(g):g<0&&(v=v.ushln(-g)),l(p,v)}},6330:function(f,s,t){var i=t(1533);f.exports=function(r){return Array.isArray(r)&&r.length===2&&i(r[0])&&i(r[1])}},5716:function(f,s,t){var i=t(6859);f.exports=function(r){return r.cmp(new i(0))}},1369:function(f,s,t){var i=t(5716);f.exports=function(r){var n=r.length,a=r.words,l=0;if(n===1)l=a[0];else if(n===2)l=a[0]+67108864*a[1];else for(var u=0;u<n;u++)l+=a[u]*Math.pow(67108864,u);return i(r)*l}},4025:function(f,s,t){var i=t(2361),r=t(8828).countTrailingZeros;f.exports=function(n){var a=r(i.lo(n));if(a<32)return a;var l=r(i.hi(n));return l>20?52:l+32}},1533:function(f,s,t){t(6859),f.exports=function(i){return i&&typeof i=="object"&&!!i.words}},2651:function(f,s,t){var i=t(6859),r=t(2361);f.exports=function(n){var a=r.exponent(n);return a<52?new i(n):new i(n*Math.pow(2,52-a)).ushln(a-52)}},869:function(f,s,t){var i=t(2651),r=t(5716);f.exports=function(n,a){var l=r(n),u=r(a);if(l===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(n=n.neg(),a=a.neg());var h=n.gcd(a);return h.cmpn(1)?[n.div(h),a.div(h)]:[n,a]}},4387:function(f,s,t){var i=t(6859);f.exports=function(r){return new i(r)}},6504:function(f,s,t){var i=t(869);f.exports=function(r,n){return i(r[0].mul(n[0]),r[1].mul(n[1]))}},7721:function(f,s,t){var i=t(5716);f.exports=function(r){return i(r[0])*i(r[1])}},5572:function(f,s,t){var i=t(869);f.exports=function(r,n){return i(r[0].mul(n[1]).sub(r[1].mul(n[0])),r[1].mul(n[1]))}},946:function(f,s,t){var i=t(1369),r=t(4025);f.exports=function(n){var a=n[0],l=n[1];if(a.cmpn(0)===0)return 0;var u=a.abs().divmod(l.abs()),h=u.div,c=i(h),x=u.mod,p=a.negative!==l.negative?-1:1;if(x.cmpn(0)===0)return p*c;if(c){var v=r(c)+4;return p*(c+(y=i(x.ushln(v).divRound(l)))*Math.pow(2,-v))}var g=l.bitLength()-x.bitLength()+53,y=i(x.ushln(g).divRound(l));return g<1023?p*y*Math.pow(2,-g):p*(y*=Math.pow(2,-1023))*Math.pow(2,1023-g)}},2478:function(f){function s(l,u,h,c,x){for(var p=x+1;c<=x;){var v=c+x>>>1,g=l[v];(h!==void 0?h(g,u):g-u)>=0?(p=v,x=v-1):c=v+1}return p}function t(l,u,h,c,x){for(var p=x+1;c<=x;){var v=c+x>>>1,g=l[v];(h!==void 0?h(g,u):g-u)>0?(p=v,x=v-1):c=v+1}return p}function i(l,u,h,c,x){for(var p=c-1;c<=x;){var v=c+x>>>1,g=l[v];(h!==void 0?h(g,u):g-u)<0?(p=v,c=v+1):x=v-1}return p}function r(l,u,h,c,x){for(var p=c-1;c<=x;){var v=c+x>>>1,g=l[v];(h!==void 0?h(g,u):g-u)<=0?(p=v,c=v+1):x=v-1}return p}function n(l,u,h,c,x){for(;c<=x;){var p=c+x>>>1,v=l[p],g=h!==void 0?h(v,u):v-u;if(g===0)return p;g<=0?c=p+1:x=p-1}return-1}function a(l,u,h,c,x,p){return typeof h=="function"?p(l,u,h,c===void 0?0:0|c,x===void 0?l.length-1:0|x):p(l,u,void 0,h===void 0?0:0|h,c===void 0?l.length-1:0|c)}f.exports={ge:function(l,u,h,c,x){return a(l,u,h,c,x,s)},gt:function(l,u,h,c,x){return a(l,u,h,c,x,t)},lt:function(l,u,h,c,x){return a(l,u,h,c,x,i)},le:function(l,u,h,c,x){return a(l,u,h,c,x,r)},eq:function(l,u,h,c,x){return a(l,u,h,c,x,n)}}},8828:function(f,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,a;return n=(r>65535)<<4,n|=a=((r>>>=n)>255)<<3,n|=a=((r>>>=a)>15)<<2,(n|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var a=n,l=n,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[n]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},6859:function(f,s,t){(function(i,r){function n(z,j){if(!z)throw new Error(j||"Assertion failed")}function a(z,j){z.super_=j;var X=function(){};X.prototype=j.prototype,z.prototype=new X,z.prototype.constructor=z}function l(z,j,X){if(l.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&(j!=="le"&&j!=="be"||(X=j,j=10),this._init(z||0,j||10,X||"be"))}var u;typeof i=="object"?i.exports=l:r.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(7790).Buffer}catch{}function h(z,j){var X=z.charCodeAt(j);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function c(z,j,X){var F=h(z,X);return X-1>=j&&(F|=h(z,X-1)<<4),F}function x(z,j,X,F){for(var H=0,W=Math.min(z.length,X),ie=j;ie<W;ie++){var te=z.charCodeAt(ie)-48;H*=F,H+=te>=49?te-49+10:te>=17?te-17+10:te}return H}l.isBN=function(z){return z instanceof l||z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,j){return z.cmp(j)>0?z:j},l.min=function(z,j){return z.cmp(j)<0?z:j},l.prototype._init=function(z,j,X){if(typeof z=="number")return this._initNumber(z,j,X);if(typeof z=="object")return this._initArray(z,j,X);j==="hex"&&(j=16),n(j===(0|j)&&j>=2&&j<=36);var F=0;(z=z.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<z.length&&(j===16?this._parseHex(z,F,X):(this._parseBase(z,j,F),X==="le"&&this._initArray(this.toArray(),j,X)))},l.prototype._initNumber=function(z,j,X){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),j,X)},l.prototype._initArray=function(z,j,X){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var H,W,ie=0;if(X==="be")for(F=z.length-1,H=0;F>=0;F-=3)W=z[F]|z[F-1]<<8|z[F-2]<<16,this.words[H]|=W<<ie&67108863,this.words[H+1]=W>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);else if(X==="le")for(F=0,H=0;F<z.length;F+=3)W=z[F]|z[F+1]<<8|z[F+2]<<16,this.words[H]|=W<<ie&67108863,this.words[H+1]=W>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);return this.strip()},l.prototype._parseHex=function(z,j,X){this.length=Math.ceil((z.length-j)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var H,W=0,ie=0;if(X==="be")for(F=z.length-1;F>=j;F-=2)H=c(z,j,F)<<W,this.words[ie]|=67108863&H,W>=18?(W-=18,ie+=1,this.words[ie]|=H>>>26):W+=8;else for(F=(z.length-j)%2==0?j+1:j;F<z.length;F+=2)H=c(z,j,F)<<W,this.words[ie]|=67108863&H,W>=18?(W-=18,ie+=1,this.words[ie]|=H>>>26):W+=8;this.strip()},l.prototype._parseBase=function(z,j,X){this.words=[0],this.length=1;for(var F=0,H=1;H<=67108863;H*=j)F++;F--,H=H/j|0;for(var W=z.length-X,ie=W%F,te=Math.min(W,W-ie)+X,Q=0,ne=X;ne<te;ne+=F)Q=x(z,ne,ne+F,j),this.imuln(H),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(ie!==0){var $=1;for(Q=x(z,ne,z.length,j),ne=0;ne<ie;ne++)$*=j;this.imuln($),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var j=0;j<this.length;j++)z.words[j]=this.words[j];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(z,j,X){X.negative=j.negative^z.negative;var F=z.length+j.length|0;X.length=F,F=F-1|0;var H=0|z.words[0],W=0|j.words[0],ie=H*W,te=67108863&ie,Q=ie/67108864|0;X.words[0]=te;for(var ne=1;ne<F;ne++){for(var $=Q>>>26,J=67108863&Q,re=Math.min(ne,j.length-1),se=Math.max(0,ne-z.length+1);se<=re;se++){var ue=ne-se|0;$+=(ie=(H=0|z.words[ue])*(W=0|j.words[se])+J)/67108864|0,J=67108863&ie}X.words[ne]=0|J,Q=0|$}return Q!==0?X.words[ne]=0|Q:X.length--,X.strip()}l.prototype.toString=function(z,j){var X;if(j=0|j||1,(z=z||10)===16||z==="hex"){X="";for(var F=0,H=0,W=0;W<this.length;W++){var ie=this.words[W],te=(16777215&(ie<<F|H)).toString(16);X=(H=ie>>>24-F&16777215)!=0||W!==this.length-1?p[6-te.length]+te+X:te+X,(F+=2)>=26&&(F-=26,W--)}for(H!==0&&(X=H.toString(16)+X);X.length%j!=0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(z===(0|z)&&z>=2&&z<=36){var Q=v[z],ne=g[z];X="";var $=this.clone();for($.negative=0;!$.isZero();){var J=$.modn(ne).toString(z);X=($=$.idivn(ne)).isZero()?J+X:p[Q-J.length]+J+X}for(this.isZero()&&(X="0"+X);X.length%j!=0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=67108864*this.words[1]:this.length===3&&this.words[2]===1?z+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,j){return n(u!==void 0),this.toArrayLike(u,z,j)},l.prototype.toArray=function(z,j){return this.toArrayLike(Array,z,j)},l.prototype.toArrayLike=function(z,j,X){var F=this.byteLength(),H=X||Math.max(1,F);n(F<=H,"byte array longer than desired length"),n(H>0,"Requested array length <= 0"),this.strip();var W,ie,te=j==="le",Q=new z(H),ne=this.clone();if(te){for(ie=0;!ne.isZero();ie++)W=ne.andln(255),ne.iushrn(8),Q[ie]=W;for(;ie<H;ie++)Q[ie]=0}else{for(ie=0;ie<H-F;ie++)Q[ie]=0;for(ie=0;!ne.isZero();ie++)W=ne.andln(255),ne.iushrn(8),Q[H-ie-1]=W}return Q},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var j=z,X=0;return j>=4096&&(X+=13,j>>>=13),j>=64&&(X+=7,j>>>=7),j>=8&&(X+=4,j>>>=4),j>=2&&(X+=2,j>>>=2),X+j},l.prototype._zeroBits=function(z){if(z===0)return 26;var j=z,X=0;return!(8191&j)&&(X+=13,j>>>=13),!(127&j)&&(X+=7,j>>>=7),!(15&j)&&(X+=4,j>>>=4),!(3&j)&&(X+=2,j>>>=2),!(1&j)&&X++,X},l.prototype.bitLength=function(){var z=this.words[this.length-1],j=this._countBits(z);return 26*(this.length-1)+j},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,j=0;j<this.length;j++){var X=this._zeroBits(this.words[j]);if(z+=X,X!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var j=0;j<z.length;j++)this.words[j]=this.words[j]|z.words[j];return this.strip()},l.prototype.ior=function(z){return n((this.negative|z.negative)==0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var j;j=this.length>z.length?z:this;for(var X=0;X<j.length;X++)this.words[X]=this.words[X]&z.words[X];return this.length=j.length,this.strip()},l.prototype.iand=function(z){return n((this.negative|z.negative)==0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var j,X;this.length>z.length?(j=this,X=z):(j=z,X=this);for(var F=0;F<X.length;F++)this.words[F]=j.words[F]^X.words[F];if(this!==j)for(;F<j.length;F++)this.words[F]=j.words[F];return this.length=j.length,this.strip()},l.prototype.ixor=function(z){return n((this.negative|z.negative)==0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var j=0|Math.ceil(z/26),X=z%26;this._expand(j),X>0&&j--;for(var F=0;F<j;F++)this.words[F]=67108863&~this.words[F];return X>0&&(this.words[F]=~this.words[F]&67108863>>26-X),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,j){n(typeof z=="number"&&z>=0);var X=z/26|0,F=z%26;return this._expand(X+1),this.words[X]=j?this.words[X]|1<<F:this.words[X]&~(1<<F),this.strip()},l.prototype.iadd=function(z){var j,X,F;if(this.negative!==0&&z.negative===0)return this.negative=0,j=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,j=this.isub(z),z.negative=1,j._normSign();this.length>z.length?(X=this,F=z):(X=z,F=this);for(var H=0,W=0;W<F.length;W++)j=(0|X.words[W])+(0|F.words[W])+H,this.words[W]=67108863&j,H=j>>>26;for(;H!==0&&W<X.length;W++)j=(0|X.words[W])+H,this.words[W]=67108863&j,H=j>>>26;if(this.length=X.length,H!==0)this.words[this.length]=H,this.length++;else if(X!==this)for(;W<X.length;W++)this.words[W]=X.words[W];return this},l.prototype.add=function(z){var j;return z.negative!==0&&this.negative===0?(z.negative=0,j=this.sub(z),z.negative^=1,j):z.negative===0&&this.negative!==0?(this.negative=0,j=z.sub(this),this.negative=1,j):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var j=this.iadd(z);return z.negative=1,j._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var X,F,H=this.cmp(z);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;H>0?(X=this,F=z):(X=z,F=this);for(var W=0,ie=0;ie<F.length;ie++)W=(j=(0|X.words[ie])-(0|F.words[ie])+W)>>26,this.words[ie]=67108863&j;for(;W!==0&&ie<X.length;ie++)W=(j=(0|X.words[ie])+W)>>26,this.words[ie]=67108863&j;if(W===0&&ie<X.length&&X!==this)for(;ie<X.length;ie++)this.words[ie]=X.words[ie];return this.length=Math.max(this.length,ie),X!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};var m=function(z,j,X){var F,H,W,ie=z.words,te=j.words,Q=X.words,ne=0,$=0|ie[0],J=8191&$,re=$>>>13,se=0|ie[1],ue=8191&se,he=se>>>13,pe=0|ie[2],ge=8191&pe,ye=pe>>>13,be=0|ie[3],Te=8191&be,Se=be>>>13,Fe=0|ie[4],xe=8191&Fe,le=Fe>>>13,oe=0|ie[5],de=8191&oe,Ce=oe>>>13,_e=0|ie[6],Ae=8191&_e,Le=_e>>>13,ze=0|ie[7],Re=8191&ze,ve=ze>>>13,ke=0|ie[8],Ee=8191&ke,De=ke>>>13,Pe=0|ie[9],Ue=8191&Pe,We=Pe>>>13,$e=0|te[0],ot=8191&$e,st=$e>>>13,mt=0|te[1],_t=8191&mt,yt=mt>>>13,it=0|te[2],tt=8191&it,Pt=it>>>13,Rt=0|te[3],Ft=8191&Rt,Ot=Rt>>>13,Xe=0|te[4],Je=8191&Xe,Ve=Xe>>>13,Ke=0|te[5],ft=8191&Ke,ut=Ke>>>13,xt=0|te[6],bt=8191&xt,qe=xt>>>13,je=0|te[7],lt=8191&je,gt=je>>>13,dt=0|te[8],at=8191&dt,kt=dt>>>13,wt=0|te[9],Et=8191&wt,Tt=wt>>>13;X.negative=z.negative^j.negative,X.length=19;var At=(ne+(F=Math.imul(J,ot))|0)+((8191&(H=(H=Math.imul(J,st))+Math.imul(re,ot)|0))<<13)|0;ne=((W=Math.imul(re,st))+(H>>>13)|0)+(At>>>26)|0,At&=67108863,F=Math.imul(ue,ot),H=(H=Math.imul(ue,st))+Math.imul(he,ot)|0,W=Math.imul(he,st);var Nt=(ne+(F=F+Math.imul(J,_t)|0)|0)+((8191&(H=(H=H+Math.imul(J,yt)|0)+Math.imul(re,_t)|0))<<13)|0;ne=((W=W+Math.imul(re,yt)|0)+(H>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,F=Math.imul(ge,ot),H=(H=Math.imul(ge,st))+Math.imul(ye,ot)|0,W=Math.imul(ye,st),F=F+Math.imul(ue,_t)|0,H=(H=H+Math.imul(ue,yt)|0)+Math.imul(he,_t)|0,W=W+Math.imul(he,yt)|0;var Wt=(ne+(F=F+Math.imul(J,tt)|0)|0)+((8191&(H=(H=H+Math.imul(J,Pt)|0)+Math.imul(re,tt)|0))<<13)|0;ne=((W=W+Math.imul(re,Pt)|0)+(H>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,F=Math.imul(Te,ot),H=(H=Math.imul(Te,st))+Math.imul(Se,ot)|0,W=Math.imul(Se,st),F=F+Math.imul(ge,_t)|0,H=(H=H+Math.imul(ge,yt)|0)+Math.imul(ye,_t)|0,W=W+Math.imul(ye,yt)|0,F=F+Math.imul(ue,tt)|0,H=(H=H+Math.imul(ue,Pt)|0)+Math.imul(he,tt)|0,W=W+Math.imul(he,Pt)|0;var on=(ne+(F=F+Math.imul(J,Ft)|0)|0)+((8191&(H=(H=H+Math.imul(J,Ot)|0)+Math.imul(re,Ft)|0))<<13)|0;ne=((W=W+Math.imul(re,Ot)|0)+(H>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(xe,ot),H=(H=Math.imul(xe,st))+Math.imul(le,ot)|0,W=Math.imul(le,st),F=F+Math.imul(Te,_t)|0,H=(H=H+Math.imul(Te,yt)|0)+Math.imul(Se,_t)|0,W=W+Math.imul(Se,yt)|0,F=F+Math.imul(ge,tt)|0,H=(H=H+Math.imul(ge,Pt)|0)+Math.imul(ye,tt)|0,W=W+Math.imul(ye,Pt)|0,F=F+Math.imul(ue,Ft)|0,H=(H=H+Math.imul(ue,Ot)|0)+Math.imul(he,Ft)|0,W=W+Math.imul(he,Ot)|0;var cn=(ne+(F=F+Math.imul(J,Je)|0)|0)+((8191&(H=(H=H+Math.imul(J,Ve)|0)+Math.imul(re,Je)|0))<<13)|0;ne=((W=W+Math.imul(re,Ve)|0)+(H>>>13)|0)+(cn>>>26)|0,cn&=67108863,F=Math.imul(de,ot),H=(H=Math.imul(de,st))+Math.imul(Ce,ot)|0,W=Math.imul(Ce,st),F=F+Math.imul(xe,_t)|0,H=(H=H+Math.imul(xe,yt)|0)+Math.imul(le,_t)|0,W=W+Math.imul(le,yt)|0,F=F+Math.imul(Te,tt)|0,H=(H=H+Math.imul(Te,Pt)|0)+Math.imul(Se,tt)|0,W=W+Math.imul(Se,Pt)|0,F=F+Math.imul(ge,Ft)|0,H=(H=H+Math.imul(ge,Ot)|0)+Math.imul(ye,Ft)|0,W=W+Math.imul(ye,Ot)|0,F=F+Math.imul(ue,Je)|0,H=(H=H+Math.imul(ue,Ve)|0)+Math.imul(he,Je)|0,W=W+Math.imul(he,Ve)|0;var un=(ne+(F=F+Math.imul(J,ft)|0)|0)+((8191&(H=(H=H+Math.imul(J,ut)|0)+Math.imul(re,ft)|0))<<13)|0;ne=((W=W+Math.imul(re,ut)|0)+(H>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(Ae,ot),H=(H=Math.imul(Ae,st))+Math.imul(Le,ot)|0,W=Math.imul(Le,st),F=F+Math.imul(de,_t)|0,H=(H=H+Math.imul(de,yt)|0)+Math.imul(Ce,_t)|0,W=W+Math.imul(Ce,yt)|0,F=F+Math.imul(xe,tt)|0,H=(H=H+Math.imul(xe,Pt)|0)+Math.imul(le,tt)|0,W=W+Math.imul(le,Pt)|0,F=F+Math.imul(Te,Ft)|0,H=(H=H+Math.imul(Te,Ot)|0)+Math.imul(Se,Ft)|0,W=W+Math.imul(Se,Ot)|0,F=F+Math.imul(ge,Je)|0,H=(H=H+Math.imul(ge,Ve)|0)+Math.imul(ye,Je)|0,W=W+Math.imul(ye,Ve)|0,F=F+Math.imul(ue,ft)|0,H=(H=H+Math.imul(ue,ut)|0)+Math.imul(he,ft)|0,W=W+Math.imul(he,ut)|0;var Xt=(ne+(F=F+Math.imul(J,bt)|0)|0)+((8191&(H=(H=H+Math.imul(J,qe)|0)+Math.imul(re,bt)|0))<<13)|0;ne=((W=W+Math.imul(re,qe)|0)+(H>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,F=Math.imul(Re,ot),H=(H=Math.imul(Re,st))+Math.imul(ve,ot)|0,W=Math.imul(ve,st),F=F+Math.imul(Ae,_t)|0,H=(H=H+Math.imul(Ae,yt)|0)+Math.imul(Le,_t)|0,W=W+Math.imul(Le,yt)|0,F=F+Math.imul(de,tt)|0,H=(H=H+Math.imul(de,Pt)|0)+Math.imul(Ce,tt)|0,W=W+Math.imul(Ce,Pt)|0,F=F+Math.imul(xe,Ft)|0,H=(H=H+Math.imul(xe,Ot)|0)+Math.imul(le,Ft)|0,W=W+Math.imul(le,Ot)|0,F=F+Math.imul(Te,Je)|0,H=(H=H+Math.imul(Te,Ve)|0)+Math.imul(Se,Je)|0,W=W+Math.imul(Se,Ve)|0,F=F+Math.imul(ge,ft)|0,H=(H=H+Math.imul(ge,ut)|0)+Math.imul(ye,ft)|0,W=W+Math.imul(ye,ut)|0,F=F+Math.imul(ue,bt)|0,H=(H=H+Math.imul(ue,qe)|0)+Math.imul(he,bt)|0,W=W+Math.imul(he,qe)|0;var tn=(ne+(F=F+Math.imul(J,lt)|0)|0)+((8191&(H=(H=H+Math.imul(J,gt)|0)+Math.imul(re,lt)|0))<<13)|0;ne=((W=W+Math.imul(re,gt)|0)+(H>>>13)|0)+(tn>>>26)|0,tn&=67108863,F=Math.imul(Ee,ot),H=(H=Math.imul(Ee,st))+Math.imul(De,ot)|0,W=Math.imul(De,st),F=F+Math.imul(Re,_t)|0,H=(H=H+Math.imul(Re,yt)|0)+Math.imul(ve,_t)|0,W=W+Math.imul(ve,yt)|0,F=F+Math.imul(Ae,tt)|0,H=(H=H+Math.imul(Ae,Pt)|0)+Math.imul(Le,tt)|0,W=W+Math.imul(Le,Pt)|0,F=F+Math.imul(de,Ft)|0,H=(H=H+Math.imul(de,Ot)|0)+Math.imul(Ce,Ft)|0,W=W+Math.imul(Ce,Ot)|0,F=F+Math.imul(xe,Je)|0,H=(H=H+Math.imul(xe,Ve)|0)+Math.imul(le,Je)|0,W=W+Math.imul(le,Ve)|0,F=F+Math.imul(Te,ft)|0,H=(H=H+Math.imul(Te,ut)|0)+Math.imul(Se,ft)|0,W=W+Math.imul(Se,ut)|0,F=F+Math.imul(ge,bt)|0,H=(H=H+Math.imul(ge,qe)|0)+Math.imul(ye,bt)|0,W=W+Math.imul(ye,qe)|0,F=F+Math.imul(ue,lt)|0,H=(H=H+Math.imul(ue,gt)|0)+Math.imul(he,lt)|0,W=W+Math.imul(he,gt)|0;var kn=(ne+(F=F+Math.imul(J,at)|0)|0)+((8191&(H=(H=H+Math.imul(J,kt)|0)+Math.imul(re,at)|0))<<13)|0;ne=((W=W+Math.imul(re,kt)|0)+(H>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(Ue,ot),H=(H=Math.imul(Ue,st))+Math.imul(We,ot)|0,W=Math.imul(We,st),F=F+Math.imul(Ee,_t)|0,H=(H=H+Math.imul(Ee,yt)|0)+Math.imul(De,_t)|0,W=W+Math.imul(De,yt)|0,F=F+Math.imul(Re,tt)|0,H=(H=H+Math.imul(Re,Pt)|0)+Math.imul(ve,tt)|0,W=W+Math.imul(ve,Pt)|0,F=F+Math.imul(Ae,Ft)|0,H=(H=H+Math.imul(Ae,Ot)|0)+Math.imul(Le,Ft)|0,W=W+Math.imul(Le,Ot)|0,F=F+Math.imul(de,Je)|0,H=(H=H+Math.imul(de,Ve)|0)+Math.imul(Ce,Je)|0,W=W+Math.imul(Ce,Ve)|0,F=F+Math.imul(xe,ft)|0,H=(H=H+Math.imul(xe,ut)|0)+Math.imul(le,ft)|0,W=W+Math.imul(le,ut)|0,F=F+Math.imul(Te,bt)|0,H=(H=H+Math.imul(Te,qe)|0)+Math.imul(Se,bt)|0,W=W+Math.imul(Se,qe)|0,F=F+Math.imul(ge,lt)|0,H=(H=H+Math.imul(ge,gt)|0)+Math.imul(ye,lt)|0,W=W+Math.imul(ye,gt)|0,F=F+Math.imul(ue,at)|0,H=(H=H+Math.imul(ue,kt)|0)+Math.imul(he,at)|0,W=W+Math.imul(he,kt)|0;var fn=(ne+(F=F+Math.imul(J,Et)|0)|0)+((8191&(H=(H=H+Math.imul(J,Tt)|0)+Math.imul(re,Et)|0))<<13)|0;ne=((W=W+Math.imul(re,Tt)|0)+(H>>>13)|0)+(fn>>>26)|0,fn&=67108863,F=Math.imul(Ue,_t),H=(H=Math.imul(Ue,yt))+Math.imul(We,_t)|0,W=Math.imul(We,yt),F=F+Math.imul(Ee,tt)|0,H=(H=H+Math.imul(Ee,Pt)|0)+Math.imul(De,tt)|0,W=W+Math.imul(De,Pt)|0,F=F+Math.imul(Re,Ft)|0,H=(H=H+Math.imul(Re,Ot)|0)+Math.imul(ve,Ft)|0,W=W+Math.imul(ve,Ot)|0,F=F+Math.imul(Ae,Je)|0,H=(H=H+Math.imul(Ae,Ve)|0)+Math.imul(Le,Je)|0,W=W+Math.imul(Le,Ve)|0,F=F+Math.imul(de,ft)|0,H=(H=H+Math.imul(de,ut)|0)+Math.imul(Ce,ft)|0,W=W+Math.imul(Ce,ut)|0,F=F+Math.imul(xe,bt)|0,H=(H=H+Math.imul(xe,qe)|0)+Math.imul(le,bt)|0,W=W+Math.imul(le,qe)|0,F=F+Math.imul(Te,lt)|0,H=(H=H+Math.imul(Te,gt)|0)+Math.imul(Se,lt)|0,W=W+Math.imul(Se,gt)|0,F=F+Math.imul(ge,at)|0,H=(H=H+Math.imul(ge,kt)|0)+Math.imul(ye,at)|0,W=W+Math.imul(ye,kt)|0;var Qt=(ne+(F=F+Math.imul(ue,Et)|0)|0)+((8191&(H=(H=H+Math.imul(ue,Tt)|0)+Math.imul(he,Et)|0))<<13)|0;ne=((W=W+Math.imul(he,Tt)|0)+(H>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,F=Math.imul(Ue,tt),H=(H=Math.imul(Ue,Pt))+Math.imul(We,tt)|0,W=Math.imul(We,Pt),F=F+Math.imul(Ee,Ft)|0,H=(H=H+Math.imul(Ee,Ot)|0)+Math.imul(De,Ft)|0,W=W+Math.imul(De,Ot)|0,F=F+Math.imul(Re,Je)|0,H=(H=H+Math.imul(Re,Ve)|0)+Math.imul(ve,Je)|0,W=W+Math.imul(ve,Ve)|0,F=F+Math.imul(Ae,ft)|0,H=(H=H+Math.imul(Ae,ut)|0)+Math.imul(Le,ft)|0,W=W+Math.imul(Le,ut)|0,F=F+Math.imul(de,bt)|0,H=(H=H+Math.imul(de,qe)|0)+Math.imul(Ce,bt)|0,W=W+Math.imul(Ce,qe)|0,F=F+Math.imul(xe,lt)|0,H=(H=H+Math.imul(xe,gt)|0)+Math.imul(le,lt)|0,W=W+Math.imul(le,gt)|0,F=F+Math.imul(Te,at)|0,H=(H=H+Math.imul(Te,kt)|0)+Math.imul(Se,at)|0,W=W+Math.imul(Se,kt)|0;var pn=(ne+(F=F+Math.imul(ge,Et)|0)|0)+((8191&(H=(H=H+Math.imul(ge,Tt)|0)+Math.imul(ye,Et)|0))<<13)|0;ne=((W=W+Math.imul(ye,Tt)|0)+(H>>>13)|0)+(pn>>>26)|0,pn&=67108863,F=Math.imul(Ue,Ft),H=(H=Math.imul(Ue,Ot))+Math.imul(We,Ft)|0,W=Math.imul(We,Ot),F=F+Math.imul(Ee,Je)|0,H=(H=H+Math.imul(Ee,Ve)|0)+Math.imul(De,Je)|0,W=W+Math.imul(De,Ve)|0,F=F+Math.imul(Re,ft)|0,H=(H=H+Math.imul(Re,ut)|0)+Math.imul(ve,ft)|0,W=W+Math.imul(ve,ut)|0,F=F+Math.imul(Ae,bt)|0,H=(H=H+Math.imul(Ae,qe)|0)+Math.imul(Le,bt)|0,W=W+Math.imul(Le,qe)|0,F=F+Math.imul(de,lt)|0,H=(H=H+Math.imul(de,gt)|0)+Math.imul(Ce,lt)|0,W=W+Math.imul(Ce,gt)|0,F=F+Math.imul(xe,at)|0,H=(H=H+Math.imul(xe,kt)|0)+Math.imul(le,at)|0,W=W+Math.imul(le,kt)|0;var nn=(ne+(F=F+Math.imul(Te,Et)|0)|0)+((8191&(H=(H=H+Math.imul(Te,Tt)|0)+Math.imul(Se,Et)|0))<<13)|0;ne=((W=W+Math.imul(Se,Tt)|0)+(H>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(Ue,Je),H=(H=Math.imul(Ue,Ve))+Math.imul(We,Je)|0,W=Math.imul(We,Ve),F=F+Math.imul(Ee,ft)|0,H=(H=H+Math.imul(Ee,ut)|0)+Math.imul(De,ft)|0,W=W+Math.imul(De,ut)|0,F=F+Math.imul(Re,bt)|0,H=(H=H+Math.imul(Re,qe)|0)+Math.imul(ve,bt)|0,W=W+Math.imul(ve,qe)|0,F=F+Math.imul(Ae,lt)|0,H=(H=H+Math.imul(Ae,gt)|0)+Math.imul(Le,lt)|0,W=W+Math.imul(Le,gt)|0,F=F+Math.imul(de,at)|0,H=(H=H+Math.imul(de,kt)|0)+Math.imul(Ce,at)|0,W=W+Math.imul(Ce,kt)|0;var sn=(ne+(F=F+Math.imul(xe,Et)|0)|0)+((8191&(H=(H=H+Math.imul(xe,Tt)|0)+Math.imul(le,Et)|0))<<13)|0;ne=((W=W+Math.imul(le,Tt)|0)+(H>>>13)|0)+(sn>>>26)|0,sn&=67108863,F=Math.imul(Ue,ft),H=(H=Math.imul(Ue,ut))+Math.imul(We,ft)|0,W=Math.imul(We,ut),F=F+Math.imul(Ee,bt)|0,H=(H=H+Math.imul(Ee,qe)|0)+Math.imul(De,bt)|0,W=W+Math.imul(De,qe)|0,F=F+Math.imul(Re,lt)|0,H=(H=H+Math.imul(Re,gt)|0)+Math.imul(ve,lt)|0,W=W+Math.imul(ve,gt)|0,F=F+Math.imul(Ae,at)|0,H=(H=H+Math.imul(Ae,kt)|0)+Math.imul(Le,at)|0,W=W+Math.imul(Le,kt)|0;var Sn=(ne+(F=F+Math.imul(de,Et)|0)|0)+((8191&(H=(H=H+Math.imul(de,Tt)|0)+Math.imul(Ce,Et)|0))<<13)|0;ne=((W=W+Math.imul(Ce,Tt)|0)+(H>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,F=Math.imul(Ue,bt),H=(H=Math.imul(Ue,qe))+Math.imul(We,bt)|0,W=Math.imul(We,qe),F=F+Math.imul(Ee,lt)|0,H=(H=H+Math.imul(Ee,gt)|0)+Math.imul(De,lt)|0,W=W+Math.imul(De,gt)|0,F=F+Math.imul(Re,at)|0,H=(H=H+Math.imul(Re,kt)|0)+Math.imul(ve,at)|0,W=W+Math.imul(ve,kt)|0;var wn=(ne+(F=F+Math.imul(Ae,Et)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Tt)|0)+Math.imul(Le,Et)|0))<<13)|0;ne=((W=W+Math.imul(Le,Tt)|0)+(H>>>13)|0)+(wn>>>26)|0,wn&=67108863,F=Math.imul(Ue,lt),H=(H=Math.imul(Ue,gt))+Math.imul(We,lt)|0,W=Math.imul(We,gt),F=F+Math.imul(Ee,at)|0,H=(H=H+Math.imul(Ee,kt)|0)+Math.imul(De,at)|0,W=W+Math.imul(De,kt)|0;var Dn=(ne+(F=F+Math.imul(Re,Et)|0)|0)+((8191&(H=(H=H+Math.imul(Re,Tt)|0)+Math.imul(ve,Et)|0))<<13)|0;ne=((W=W+Math.imul(ve,Tt)|0)+(H>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,F=Math.imul(Ue,at),H=(H=Math.imul(Ue,kt))+Math.imul(We,at)|0,W=Math.imul(We,kt);var Tn=(ne+(F=F+Math.imul(Ee,Et)|0)|0)+((8191&(H=(H=H+Math.imul(Ee,Tt)|0)+Math.imul(De,Et)|0))<<13)|0;ne=((W=W+Math.imul(De,Tt)|0)+(H>>>13)|0)+(Tn>>>26)|0,Tn&=67108863;var Pn=(ne+(F=Math.imul(Ue,Et))|0)+((8191&(H=(H=Math.imul(Ue,Tt))+Math.imul(We,Et)|0))<<13)|0;return ne=((W=Math.imul(We,Tt))+(H>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,Q[0]=At,Q[1]=Nt,Q[2]=Wt,Q[3]=on,Q[4]=cn,Q[5]=un,Q[6]=Xt,Q[7]=tn,Q[8]=kn,Q[9]=fn,Q[10]=Qt,Q[11]=pn,Q[12]=nn,Q[13]=sn,Q[14]=Sn,Q[15]=wn,Q[16]=Dn,Q[17]=Tn,Q[18]=Pn,ne!==0&&(Q[19]=ne,X.length++),X};function w(z,j,X){return new d().mulp(z,j,X)}function d(z,j){this.x=z,this.y=j}Math.imul||(m=y),l.prototype.mulTo=function(z,j){var X,F=this.length+z.length;return X=this.length===10&&z.length===10?m(this,z,j):F<63?y(this,z,j):F<1024?function(H,W,ie){ie.negative=W.negative^H.negative,ie.length=H.length+W.length;for(var te=0,Q=0,ne=0;ne<ie.length-1;ne++){var $=Q;Q=0;for(var J=67108863&te,re=Math.min(ne,W.length-1),se=Math.max(0,ne-H.length+1);se<=re;se++){var ue=ne-se,he=(0|H.words[ue])*(0|W.words[se]),pe=67108863&he;J=67108863&(pe=pe+J|0),Q+=($=($=$+(he/67108864|0)|0)+(pe>>>26)|0)>>>26,$&=67108863}ie.words[ne]=J,te=$,$=Q}return te!==0?ie.words[ne]=te:ie.length--,ie.strip()}(this,z,j):w(this,z,j),X},d.prototype.makeRBT=function(z){for(var j=new Array(z),X=l.prototype._countBits(z)-1,F=0;F<z;F++)j[F]=this.revBin(F,X,z);return j},d.prototype.revBin=function(z,j,X){if(z===0||z===X-1)return z;for(var F=0,H=0;H<j;H++)F|=(1&z)<<j-H-1,z>>=1;return F},d.prototype.permute=function(z,j,X,F,H,W){for(var ie=0;ie<W;ie++)F[ie]=j[z[ie]],H[ie]=X[z[ie]]},d.prototype.transform=function(z,j,X,F,H,W){this.permute(W,z,j,X,F,H);for(var ie=1;ie<H;ie<<=1)for(var te=ie<<1,Q=Math.cos(2*Math.PI/te),ne=Math.sin(2*Math.PI/te),$=0;$<H;$+=te)for(var J=Q,re=ne,se=0;se<ie;se++){var ue=X[$+se],he=F[$+se],pe=X[$+se+ie],ge=F[$+se+ie],ye=J*pe-re*ge;ge=J*ge+re*pe,pe=ye,X[$+se]=ue+pe,F[$+se]=he+ge,X[$+se+ie]=ue-pe,F[$+se+ie]=he-ge,se!==te&&(ye=Q*J-ne*re,re=Q*re+ne*J,J=ye)}},d.prototype.guessLen13b=function(z,j){var X=1|Math.max(j,z),F=1&X,H=0;for(X=X/2|0;X;X>>>=1)H++;return 1<<H+1+F},d.prototype.conjugate=function(z,j,X){if(!(X<=1))for(var F=0;F<X/2;F++){var H=z[F];z[F]=z[X-F-1],z[X-F-1]=H,H=j[F],j[F]=-j[X-F-1],j[X-F-1]=-H}},d.prototype.normalize13b=function(z,j){for(var X=0,F=0;F<j/2;F++){var H=8192*Math.round(z[2*F+1]/j)+Math.round(z[2*F]/j)+X;z[F]=67108863&H,X=H<67108864?0:H/67108864|0}return z},d.prototype.convert13b=function(z,j,X,F){for(var H=0,W=0;W<j;W++)H+=0|z[W],X[2*W]=8191&H,H>>>=13,X[2*W+1]=8191&H,H>>>=13;for(W=2*j;W<F;++W)X[W]=0;n(H===0),n((-8192&H)==0)},d.prototype.stub=function(z){for(var j=new Array(z),X=0;X<z;X++)j[X]=0;return j},d.prototype.mulp=function(z,j,X){var F=2*this.guessLen13b(z.length,j.length),H=this.makeRBT(F),W=this.stub(F),ie=new Array(F),te=new Array(F),Q=new Array(F),ne=new Array(F),$=new Array(F),J=new Array(F),re=X.words;re.length=F,this.convert13b(z.words,z.length,ie,F),this.convert13b(j.words,j.length,ne,F),this.transform(ie,W,te,Q,F,H),this.transform(ne,W,$,J,F,H);for(var se=0;se<F;se++){var ue=te[se]*$[se]-Q[se]*J[se];Q[se]=te[se]*J[se]+Q[se]*$[se],te[se]=ue}return this.conjugate(te,Q,F),this.transform(te,Q,re,W,F,H),this.conjugate(re,W,F),this.normalize13b(re,F),X.negative=z.negative^j.negative,X.length=z.length+j.length,X.strip()},l.prototype.mul=function(z){var j=new l(null);return j.words=new Array(this.length+z.length),this.mulTo(z,j)},l.prototype.mulf=function(z){var j=new l(null);return j.words=new Array(this.length+z.length),w(this,z,j)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var j=0,X=0;X<this.length;X++){var F=(0|this.words[X])*z,H=(67108863&F)+(67108863&j);j>>=26,j+=F/67108864|0,j+=H>>>26,this.words[X]=67108863&H}return j!==0&&(this.words[X]=j,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var j=function(W){for(var ie=new Array(W.bitLength()),te=0;te<ie.length;te++){var Q=te/26|0,ne=te%26;ie[te]=(W.words[Q]&1<<ne)>>>ne}return ie}(z);if(j.length===0)return new l(1);for(var X=this,F=0;F<j.length&&j[F]===0;F++,X=X.sqr());if(++F<j.length)for(var H=X.sqr();F<j.length;F++,H=H.sqr())j[F]!==0&&(X=X.mul(H));return X},l.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var j,X=z%26,F=(z-X)/26,H=67108863>>>26-X<<26-X;if(X!==0){var W=0;for(j=0;j<this.length;j++){var ie=this.words[j]&H,te=(0|this.words[j])-ie<<X;this.words[j]=te|W,W=ie>>>26-X}W&&(this.words[j]=W,this.length++)}if(F!==0){for(j=this.length-1;j>=0;j--)this.words[j+F]=this.words[j];for(j=0;j<F;j++)this.words[j]=0;this.length+=F}return this.strip()},l.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,j,X){var F;n(typeof z=="number"&&z>=0),F=j?(j-j%26)/26:0;var H=z%26,W=Math.min((z-H)/26,this.length),ie=67108863^67108863>>>H<<H,te=X;if(F-=W,F=Math.max(0,F),te){for(var Q=0;Q<W;Q++)te.words[Q]=this.words[Q];te.length=W}if(W!==0)if(this.length>W)for(this.length-=W,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+W];else this.words[0]=0,this.length=1;var ne=0;for(Q=this.length-1;Q>=0&&(ne!==0||Q>=F);Q--){var $=0|this.words[Q];this.words[Q]=ne<<26-H|$>>>H,ne=$&ie}return te&&ne!==0&&(te.words[te.length++]=ne),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,j,X){return n(this.negative===0),this.iushrn(z,j,X)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var j=z%26,X=(z-j)/26,F=1<<j;return!(this.length<=X||!(this.words[X]&F))},l.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var j=z%26,X=(z-j)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(j!==0&&X++,this.length=Math.min(X,this.length),j!==0){var F=67108863^67108863>>>j<<j;this.words[this.length-1]&=F}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},l.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,j,X){var F,H,W=z.length+X;this._expand(W);var ie=0;for(F=0;F<z.length;F++){H=(0|this.words[F+X])+ie;var te=(0|z.words[F])*j;ie=((H-=67108863&te)>>26)-(te/67108864|0),this.words[F+X]=67108863&H}for(;F<this.length-X;F++)ie=(H=(0|this.words[F+X])+ie)>>26,this.words[F+X]=67108863&H;if(ie===0)return this.strip();for(n(ie===-1),ie=0,F=0;F<this.length;F++)ie=(H=-(0|this.words[F])+ie)>>26,this.words[F]=67108863&H;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,j){var X=(this.length,z.length),F=this.clone(),H=z,W=0|H.words[H.length-1];(X=26-this._countBits(W))!=0&&(H=H.ushln(X),F.iushln(X),W=0|H.words[H.length-1]);var ie,te=F.length-H.length;if(j!=="mod"){(ie=new l(null)).length=te+1,ie.words=new Array(ie.length);for(var Q=0;Q<ie.length;Q++)ie.words[Q]=0}var ne=F.clone()._ishlnsubmul(H,1,te);ne.negative===0&&(F=ne,ie&&(ie.words[te]=1));for(var $=te-1;$>=0;$--){var J=67108864*(0|F.words[H.length+$])+(0|F.words[H.length+$-1]);for(J=Math.min(J/W|0,67108863),F._ishlnsubmul(H,J,$);F.negative!==0;)J--,F.negative=0,F._ishlnsubmul(H,1,$),F.isZero()||(F.negative^=1);ie&&(ie.words[$]=J)}return ie&&ie.strip(),F.strip(),j!=="div"&&X!==0&&F.iushrn(X),{div:ie||null,mod:F}},l.prototype.divmod=function(z,j,X){return n(!z.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&z.negative===0?(W=this.neg().divmod(z,j),j!=="mod"&&(F=W.div.neg()),j!=="div"&&(H=W.mod.neg(),X&&H.negative!==0&&H.iadd(z)),{div:F,mod:H}):this.negative===0&&z.negative!==0?(W=this.divmod(z.neg(),j),j!=="mod"&&(F=W.div.neg()),{div:F,mod:W.mod}):this.negative&z.negative?(W=this.neg().divmod(z.neg(),j),j!=="div"&&(H=W.mod.neg(),X&&H.negative!==0&&H.isub(z)),{div:W.div,mod:H}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?j==="div"?{div:this.divn(z.words[0]),mod:null}:j==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,j);var F,H,W},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var j=this.divmod(z);if(j.mod.isZero())return j.div;var X=j.div.negative!==0?j.mod.isub(z):j.mod,F=z.ushrn(1),H=z.andln(1),W=X.cmp(F);return W<0||H===1&&W===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},l.prototype.modn=function(z){n(z<=67108863);for(var j=67108864%z,X=0,F=this.length-1;F>=0;F--)X=(j*X+(0|this.words[F]))%z;return X},l.prototype.idivn=function(z){n(z<=67108863);for(var j=0,X=this.length-1;X>=0;X--){var F=(0|this.words[X])+67108864*j;this.words[X]=F/z|0,j=F%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var j=this,X=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F=new l(1),H=new l(0),W=new l(0),ie=new l(1),te=0;j.isEven()&&X.isEven();)j.iushrn(1),X.iushrn(1),++te;for(var Q=X.clone(),ne=j.clone();!j.isZero();){for(var $=0,J=1;!(j.words[0]&J)&&$<26;++$,J<<=1);if($>0)for(j.iushrn($);$-- >0;)(F.isOdd()||H.isOdd())&&(F.iadd(Q),H.isub(ne)),F.iushrn(1),H.iushrn(1);for(var re=0,se=1;!(X.words[0]&se)&&re<26;++re,se<<=1);if(re>0)for(X.iushrn(re);re-- >0;)(W.isOdd()||ie.isOdd())&&(W.iadd(Q),ie.isub(ne)),W.iushrn(1),ie.iushrn(1);j.cmp(X)>=0?(j.isub(X),F.isub(W),H.isub(ie)):(X.isub(j),W.isub(F),ie.isub(H))}return{a:W,b:ie,gcd:X.iushln(te)}},l.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var j=this,X=z.clone();j=j.negative!==0?j.umod(z):j.clone();for(var F,H=new l(1),W=new l(0),ie=X.clone();j.cmpn(1)>0&&X.cmpn(1)>0;){for(var te=0,Q=1;!(j.words[0]&Q)&&te<26;++te,Q<<=1);if(te>0)for(j.iushrn(te);te-- >0;)H.isOdd()&&H.iadd(ie),H.iushrn(1);for(var ne=0,$=1;!(X.words[0]&$)&&ne<26;++ne,$<<=1);if(ne>0)for(X.iushrn(ne);ne-- >0;)W.isOdd()&&W.iadd(ie),W.iushrn(1);j.cmp(X)>=0?(j.isub(X),H.isub(W)):(X.isub(j),W.isub(H))}return(F=j.cmpn(1)===0?H:W).cmpn(0)<0&&F.iadd(z),F},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var j=this.clone(),X=z.clone();j.negative=0,X.negative=0;for(var F=0;j.isEven()&&X.isEven();F++)j.iushrn(1),X.iushrn(1);for(;;){for(;j.isEven();)j.iushrn(1);for(;X.isEven();)X.iushrn(1);var H=j.cmp(X);if(H<0){var W=j;j=X,X=W}else if(H===0||X.cmpn(1)===0)break;j.isub(X)}return X.iushln(F)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){n(typeof z=="number");var j=z%26,X=(z-j)/26,F=1<<j;if(this.length<=X)return this._expand(X+1),this.words[X]|=F,this;for(var H=F,W=X;H!==0&&W<this.length;W++){var ie=0|this.words[W];H=(ie+=H)>>>26,ie&=67108863,this.words[W]=ie}return H!==0&&(this.words[W]=H,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var j,X=z<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;if(this.strip(),this.length>1)j=1;else{X&&(z=-z),n(z<=67108863,"Number is too big");var F=0|this.words[0];j=F===z?0:F<z?-1:1}return this.negative!==0?0|-j:j},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var j=this.ucmp(z);return this.negative!==0?0|-j:j},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var j=0,X=this.length-1;X>=0;X--){var F=0|this.words[X],H=0|z.words[X];if(F!==H){F<H?j=-1:F>H&&(j=1);break}}return j},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new D(z)},l.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var S={k256:null,p224:null,p192:null,p25519:null};function A(z,j){this.name=z,this.p=new l(j,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function D(z){if(typeof z=="string"){var j=l._prime(z);this.m=j.p,this.prime=j}else n(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function V(z){D.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},A.prototype.ireduce=function(z){var j,X=z;do this.split(X,this.tmp),j=(X=(X=this.imulK(X)).iadd(this.tmp)).bitLength();while(j>this.n);var F=j<this.n?-1:X.ucmp(this.p);return F===0?(X.words[0]=0,X.length=1):F>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},A.prototype.split=function(z,j){z.iushrn(this.n,0,j)},A.prototype.imulK=function(z){return z.imul(this.k)},a(E,A),E.prototype.split=function(z,j){for(var X=4194303,F=Math.min(z.length,9),H=0;H<F;H++)j.words[H]=z.words[H];if(j.length=F,z.length<=9)return z.words[0]=0,void(z.length=1);var W=z.words[9];for(j.words[j.length++]=W&X,H=10;H<z.length;H++){var ie=0|z.words[H];z.words[H-10]=(ie&X)<<4|W>>>22,W=ie}W>>>=22,z.words[H-10]=W,W===0&&z.length>10?z.length-=10:z.length-=9},E.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var j=0,X=0;X<z.length;X++){var F=0|z.words[X];j+=977*F,z.words[X]=67108863&j,j=64*F+(j/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z},a(P,A),a(O,A),a(I,A),I.prototype.imulK=function(z){for(var j=0,X=0;X<z.length;X++){var F=19*(0|z.words[X])+j,H=67108863&F;F>>>=26,z.words[X]=H,j=F}return j!==0&&(z.words[z.length++]=j),z},l._prime=function(z){if(S[z])return S[z];var j;if(z==="k256")j=new E;else if(z==="p224")j=new P;else if(z==="p192")j=new O;else{if(z!=="p25519")throw new Error("Unknown prime "+z);j=new I}return S[z]=j,j},D.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},D.prototype._verify2=function(z,j){n((z.negative|j.negative)==0,"red works only with positives"),n(z.red&&z.red===j.red,"red works only with red numbers")},D.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},D.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},D.prototype.add=function(z,j){this._verify2(z,j);var X=z.add(j);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},D.prototype.iadd=function(z,j){this._verify2(z,j);var X=z.iadd(j);return X.cmp(this.m)>=0&&X.isub(this.m),X},D.prototype.sub=function(z,j){this._verify2(z,j);var X=z.sub(j);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},D.prototype.isub=function(z,j){this._verify2(z,j);var X=z.isub(j);return X.cmpn(0)<0&&X.iadd(this.m),X},D.prototype.shl=function(z,j){return this._verify1(z),this.imod(z.ushln(j))},D.prototype.imul=function(z,j){return this._verify2(z,j),this.imod(z.imul(j))},D.prototype.mul=function(z,j){return this._verify2(z,j),this.imod(z.mul(j))},D.prototype.isqr=function(z){return this.imul(z,z.clone())},D.prototype.sqr=function(z){return this.mul(z,z)},D.prototype.sqrt=function(z){if(z.isZero())return z.clone();var j=this.m.andln(3);if(n(j%2==1),j===3){var X=this.m.add(new l(1)).iushrn(2);return this.pow(z,X)}for(var F=this.m.subn(1),H=0;!F.isZero()&&F.andln(1)===0;)H++,F.iushrn(1);n(!F.isZero());var W=new l(1).toRed(this),ie=W.redNeg(),te=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,te).cmp(ie)!==0;)Q.redIAdd(ie);for(var ne=this.pow(Q,F),$=this.pow(z,F.addn(1).iushrn(1)),J=this.pow(z,F),re=H;J.cmp(W)!==0;){for(var se=J,ue=0;se.cmp(W)!==0;ue++)se=se.redSqr();n(ue<re);var he=this.pow(ne,new l(1).iushln(re-ue-1));$=$.redMul(he),ne=he.redSqr(),J=J.redMul(ne),re=ue}return $},D.prototype.invm=function(z){var j=z._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},D.prototype.pow=function(z,j){if(j.isZero())return new l(1).toRed(this);if(j.cmpn(1)===0)return z.clone();var X=new Array(16);X[0]=new l(1).toRed(this),X[1]=z;for(var F=2;F<X.length;F++)X[F]=this.mul(X[F-1],z);var H=X[0],W=0,ie=0,te=j.bitLength()%26;for(te===0&&(te=26),F=j.length-1;F>=0;F--){for(var Q=j.words[F],ne=te-1;ne>=0;ne--){var $=Q>>ne&1;H!==X[0]&&(H=this.sqr(H)),$!==0||W!==0?(W<<=1,W|=$,(++ie==4||F===0&&ne===0)&&(H=this.mul(H,X[W]),ie=0,W=0)):ie=0}te=26}return H},D.prototype.convertTo=function(z){var j=z.umod(this.m);return j===z?j.clone():j},D.prototype.convertFrom=function(z){var j=z.clone();return j.red=null,j},l.mont=function(z){return new V(z)},a(V,D),V.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},V.prototype.convertFrom=function(z){var j=this.imod(z.mul(this.rinv));return j.red=null,j},V.prototype.imul=function(z,j){if(z.isZero()||j.isZero())return z.words[0]=0,z.length=1,z;var X=z.imul(j),F=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=X.isub(F).iushrn(this.shift),W=H;return H.cmp(this.m)>=0?W=H.isub(this.m):H.cmpn(0)<0&&(W=H.iadd(this.m)),W._forceRed(this)},V.prototype.mul=function(z,j){if(z.isZero()||j.isZero())return new l(0)._forceRed(this);var X=z.mul(j),F=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=X.isub(F).iushrn(this.shift),W=H;return H.cmp(this.m)>=0?W=H.isub(this.m):H.cmpn(0)<0&&(W=H.iadd(this.m)),W._forceRed(this)},V.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}})(f=t.nmd(f),this)},6204:function(f){f.exports=function(s){var t,i,r,n=s.length,a=0;for(t=0;t<n;++t)a+=s[t].length;var l=new Array(a),u=0;for(t=0;t<n;++t){var h=s[t],c=h.length;for(i=0;i<c;++i){var x=l[u++]=new Array(c-1),p=0;for(r=0;r<c;++r)r!==i&&(x[p++]=h[r]);if(1&i){var v=x[1];x[1]=x[0],x[0]=v}}}return l}},6867:function(f,s,t){f.exports=function(x,p,v){switch(arguments.length){case 1:return i=[],h(g=x,g,c,!0),i;case 2:return typeof p=="function"?h(x,x,p,!0):function(y,m){return i=[],h(y,m,c,!1),i}(x,p);case 3:return h(x,p,v,!1);default:throw new Error("box-intersect: Invalid arguments")}var g};var i,r=t(1888),n=t(855),a=t(7150);function l(x,p){for(var v=0;v<x;++v)if(!(p[v]<=p[v+x]))return!0;return!1}function u(x,p,v,g){for(var y=0,m=0,w=0,d=x.length;w<d;++w){var S=x[w];if(!l(p,S)){for(var A=0;A<2*p;++A)v[y++]=S[A];g[m++]=w}}return m}function h(x,p,v,g){var y=x.length,m=p.length;if(!(y<=0||m<=0)){var w=x[0].length>>>1;if(!(w<=0)){var d,S=r.mallocDouble(2*w*y),A=r.mallocInt32(y);if((y=u(x,w,S,A))>0){if(w===1&&g)n.init(y),d=n.sweepComplete(w,v,0,y,S,A,0,y,S,A);else{var E=r.mallocDouble(2*w*m),P=r.mallocInt32(m);(m=u(p,w,E,P))>0&&(n.init(y+m),d=w===1?n.sweepBipartite(w,v,0,y,S,A,0,m,E,P):a(w,v,g,y,S,A,m,E,P),r.free(E),r.free(P))}r.free(S),r.free(A)}return d}}}function c(x,p){i.push([x,p])}},2455:function(f,s){function t(i){return i?function(r,n,a,l,u,h,c,x,p,v,g){return u-l>p-x?function(y,m,w,d,S,A,E,P,O,I,D){for(var V=2*y,z=d,j=V*d;z<S;++z,j+=V){var X=A[m+j],F=A[m+j+y],H=E[z];e:for(var W=P,ie=V*P;W<O;++W,ie+=V){var te=I[m+ie],Q=I[m+ie+y],ne=D[W];if(!(Q<X||F<te)){for(var $=m+1;$<y;++$){var J=A[$+j],re=A[$+y+j],se=I[$+ie],ue=I[$+y+ie];if(re<se||ue<J)continue e}var he=w(H,ne);if(he!==void 0)return he}}}}(r,n,a,l,u,h,c,x,p,v,g):function(y,m,w,d,S,A,E,P,O,I,D){for(var V=2*y,z=P,j=V*P;z<O;++z,j+=V){var X=I[m+j],F=I[m+j+y],H=D[z];e:for(var W=d,ie=V*d;W<S;++W,ie+=V){var te=A[m+ie],Q=A[m+ie+y],ne=E[W];if(!(F<te||Q<X)){for(var $=m+1;$<y;++$){var J=A[$+ie],re=A[$+y+ie],se=I[$+j],ue=I[$+y+j];if(re<se||ue<J)continue e}var he=w(ne,H);if(he!==void 0)return he}}}}(r,n,a,l,u,h,c,x,p,v,g)}:function(r,n,a,l,u,h,c,x,p,v,g,y){return h-u>v-p?l?function(m,w,d,S,A,E,P,O,I,D,V){for(var z=2*m,j=S,X=z*S;j<A;++j,X+=z){var F=E[w+X],H=E[w+X+m],W=P[j];e:for(var ie=O,te=z*O;ie<I;++ie,te+=z){var Q=D[w+te],ne=V[ie];if(!(Q<=F||H<Q)){for(var $=w+1;$<m;++$){var J=E[$+X],re=E[$+m+X],se=D[$+te],ue=D[$+m+te];if(re<se||ue<J)continue e}var he=d(ne,W);if(he!==void 0)return he}}}}(r,n,a,u,h,c,x,p,v,g,y):function(m,w,d,S,A,E,P,O,I,D,V){for(var z=2*m,j=S,X=z*S;j<A;++j,X+=z){var F=E[w+X],H=E[w+X+m],W=P[j];e:for(var ie=O,te=z*O;ie<I;++ie,te+=z){var Q=D[w+te],ne=V[ie];if(!(Q<F||H<Q)){for(var $=w+1;$<m;++$){var J=E[$+X],re=E[$+m+X],se=D[$+te],ue=D[$+m+te];if(re<se||ue<J)continue e}var he=d(W,ne);if(he!==void 0)return he}}}}(r,n,a,u,h,c,x,p,v,g,y):l?function(m,w,d,S,A,E,P,O,I,D,V){for(var z=2*m,j=O,X=z*O;j<I;++j,X+=z){var F=D[w+X],H=V[j];e:for(var W=S,ie=z*S;W<A;++W,ie+=z){var te=E[w+ie],Q=E[w+ie+m],ne=P[W];if(!(F<=te||Q<F)){for(var $=w+1;$<m;++$){var J=E[$+ie],re=E[$+m+ie],se=D[$+X],ue=D[$+m+X];if(re<se||ue<J)continue e}var he=d(H,ne);if(he!==void 0)return he}}}}(r,n,a,u,h,c,x,p,v,g,y):function(m,w,d,S,A,E,P,O,I,D,V){for(var z=2*m,j=O,X=z*O;j<I;++j,X+=z){var F=D[w+X],H=V[j];e:for(var W=S,ie=z*S;W<A;++W,ie+=z){var te=E[w+ie],Q=E[w+ie+m],ne=P[W];if(!(F<te||Q<F)){for(var $=w+1;$<m;++$){var J=E[$+ie],re=E[$+m+ie],se=D[$+X],ue=D[$+m+X];if(re<se||ue<J)continue e}var he=d(ne,H);if(he!==void 0)return he}}}}(r,n,a,u,h,c,x,p,v,g,y)}}s.partial=t(!1),s.full=t(!0)},7150:function(f,s,t){f.exports=function(z,j,X,F,H,W,ie,te,Q){(function(De,Pe){var Ue=8*r.log2(Pe+1)*(De+1)|0,We=r.nextPow2(A*Ue);P.length<We&&(i.free(P),P=i.mallocInt32(We));var $e=r.nextPow2(E*Ue);O.length<$e&&(i.free(O),O=i.mallocDouble($e))})(z,F+ie);var ne,$=0,J=2*z;for(I($++,0,0,F,0,ie,X?16:0,-1/0,1/0),X||I($++,0,0,ie,0,F,1,-1/0,1/0);$>0;){var re=($-=1)*A,se=P[re],ue=P[re+1],he=P[re+2],pe=P[re+3],ge=P[re+4],ye=P[re+5],be=$*E,Te=O[be],Se=O[be+1],Fe=1&ye,xe=!!(16&ye),le=H,oe=W,de=te,Ce=Q;if(Fe&&(le=te,oe=Q,de=H,Ce=W),!(2&ye&&ue>=(he=m(z,se,ue,he,le,oe,Se))||4&ye&&(ue=w(z,se,ue,he,le,oe,Te))>=he)){var _e=he-ue,Ae=ge-pe;if(xe){if(z*_e*(_e+Ae)<v){if((ne=u.scanComplete(z,se,j,ue,he,le,oe,pe,ge,de,Ce))!==void 0)return ne;continue}}else{if(z*Math.min(_e,Ae)<x){if((ne=a(z,se,j,Fe,ue,he,le,oe,pe,ge,de,Ce))!==void 0)return ne;continue}if(z*_e*Ae<p){if((ne=u.scanBipartite(z,se,j,Fe,ue,he,le,oe,pe,ge,de,Ce))!==void 0)return ne;continue}}var Le=g(z,se,ue,he,le,oe,Te,Se);if(ue<Le)if(z*(Le-ue)<x){if((ne=l(z,se+1,j,ue,Le,le,oe,pe,ge,de,Ce))!==void 0)return ne}else if(se===z-2){if((ne=Fe?u.sweepBipartite(z,j,pe,ge,de,Ce,ue,Le,le,oe):u.sweepBipartite(z,j,ue,Le,le,oe,pe,ge,de,Ce))!==void 0)return ne}else I($++,se+1,ue,Le,pe,ge,Fe,-1/0,1/0),I($++,se+1,pe,ge,ue,Le,1^Fe,-1/0,1/0);if(Le<he){var ze=h(z,se,pe,ge,de,Ce),Re=de[J*ze+se],ve=y(z,se,ze,ge,de,Ce,Re);if(ve<ge&&I($++,se,Le,he,ve,ge,(4|Fe)+(xe?16:0),Re,Se),pe<ze&&I($++,se,Le,he,pe,ze,(2|Fe)+(xe?16:0),Te,Re),ze+1===ve){if((ne=xe?V(z,se,j,Le,he,le,oe,ze,de,Ce[ze]):D(z,se,j,Fe,Le,he,le,oe,ze,de,Ce[ze]))!==void 0)return ne}else if(ze<ve){var ke;if(xe){if(Le<(ke=d(z,se,Le,he,le,oe,Re))){var Ee=y(z,se,Le,ke,le,oe,Re);if(se===z-2){if(Le<Ee&&(ne=u.sweepComplete(z,j,Le,Ee,le,oe,ze,ve,de,Ce))!==void 0||Ee<ke&&(ne=u.sweepBipartite(z,j,Ee,ke,le,oe,ze,ve,de,Ce))!==void 0)return ne}else Le<Ee&&I($++,se+1,Le,Ee,ze,ve,16,-1/0,1/0),Ee<ke&&(I($++,se+1,Ee,ke,ze,ve,0,-1/0,1/0),I($++,se+1,ze,ve,Ee,ke,1,-1/0,1/0))}}else Le<(ke=Fe?S(z,se,Le,he,le,oe,Re):d(z,se,Le,he,le,oe,Re))&&(se===z-2?ne=Fe?u.sweepBipartite(z,j,ze,ve,de,Ce,Le,ke,le,oe):u.sweepBipartite(z,j,Le,ke,le,oe,ze,ve,de,Ce):(I($++,se+1,Le,ke,ze,ve,Fe,-1/0,1/0),I($++,se+1,ze,ve,Le,ke,1^Fe,-1/0,1/0)))}}}}};var i=t(1888),r=t(8828),n=t(2455),a=n.partial,l=n.full,u=t(855),h=t(3545),c=t(8105),x=128,p=1<<22,v=1<<22,g=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),m=c("lo<p0"),w=c("hi<=p0"),d=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),A=6,E=2,P=i.mallocInt32(1024),O=i.mallocDouble(1024);function I(z,j,X,F,H,W,ie,te,Q){var ne=A*z;P[ne]=j,P[ne+1]=X,P[ne+2]=F,P[ne+3]=H,P[ne+4]=W,P[ne+5]=ie;var $=E*z;O[$]=te,O[$+1]=Q}function D(z,j,X,F,H,W,ie,te,Q,ne,$){var J=2*z,re=Q*J,se=ne[re+j];e:for(var ue=H,he=H*J;ue<W;++ue,he+=J){var pe=ie[he+j],ge=ie[he+j+z];if(!(se<pe||ge<se||F&&se===pe)){for(var ye,be=te[ue],Te=j+1;Te<z;++Te){pe=ie[he+Te],ge=ie[he+Te+z];var Se=ne[re+Te],Fe=ne[re+Te+z];if(ge<Se||Fe<pe)continue e}if((ye=F?X($,be):X(be,$))!==void 0)return ye}}}function V(z,j,X,F,H,W,ie,te,Q,ne){var $=2*z,J=te*$,re=Q[J+j];e:for(var se=F,ue=F*$;se<H;++se,ue+=$){var he=ie[se];if(he!==ne){var pe=W[ue+j],ge=W[ue+j+z];if(!(re<pe||ge<re)){for(var ye=j+1;ye<z;++ye){pe=W[ue+ye],ge=W[ue+ye+z];var be=Q[J+ye],Te=Q[J+ye+z];if(ge<be||Te<pe)continue e}var Se=X(he,ne);if(Se!==void 0)return Se}}}}},3545:function(f,s,t){f.exports=function(a,l,u,h,c,x){if(h<=u+1)return u;for(var p=u,v=h,g=h+u>>>1,y=2*a,m=g,w=c[y*g+l];p<v;){if(v-p<r){n(a,l,p,v,c,x),w=c[y*g+l];break}var d=v-p,S=Math.random()*d+p|0,A=c[y*S+l],E=Math.random()*d+p|0,P=c[y*E+l],O=Math.random()*d+p|0,I=c[y*O+l];A<=P?I>=P?(m=E,w=P):A>=I?(m=S,w=A):(m=O,w=I):P>=I?(m=E,w=P):I>=A?(m=S,w=A):(m=O,w=I);for(var D=y*(v-1),V=y*m,z=0;z<y;++z,++D,++V){var j=c[D];c[D]=c[V],c[V]=j}var X=x[v-1];for(x[v-1]=x[m],x[m]=X,D=y*(v-1),V=y*(m=i(a,l,p,v-1,c,x,w)),z=0;z<y;++z,++D,++V)j=c[D],c[D]=c[V],c[V]=j;if(X=x[v-1],x[v-1]=x[m],x[m]=X,g<m){for(v=m-1;p<v&&c[y*(v-1)+l]===w;)v-=1;v+=1}else{if(!(m<g))break;for(p=m+1;p<v&&c[y*p+l]===w;)p+=1}}return i(a,l,u,g,c,x,c[y*g+l])};var i=t(8105)("lo<p0"),r=8;function n(a,l,u,h,c,x){for(var p=2*a,v=p*(u+1)+l,g=u+1;g<h;++g,v+=p)for(var y=c[v],m=g,w=p*(g-1);m>u&&c[w+l]>y;--m,w-=p){for(var d=w,S=w+p,A=0;A<p;++A,++d,++S){var E=c[d];c[d]=c[S],c[S]=E}var P=x[m];x[m]=x[m-1],x[m-1]=P}}},8105:function(f){f.exports=function(t){return s[t]};var s={"lo===p0":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=i,g=r;n>g;++g,c+=h)if(a[c+v]===u)if(p===g)p+=1,x+=h;else{for(var y=0;h>y;++y){var m=a[c+y];a[c+y]=a[x],a[x++]=m}var w=l[g];l[g]=l[p],l[p++]=w}return p},"lo<p0":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=i,g=r;n>g;++g,c+=h)if(a[c+v]<u)if(p===g)p+=1,x+=h;else{for(var y=0;h>y;++y){var m=a[c+y];a[c+y]=a[x],a[x++]=m}var w=l[g];l[g]=l[p],l[p++]=w}return p},"lo<=p0":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=t+i,g=r;n>g;++g,c+=h)if(a[c+v]<=u)if(p===g)p+=1,x+=h;else{for(var y=0;h>y;++y){var m=a[c+y];a[c+y]=a[x],a[x++]=m}var w=l[g];l[g]=l[p],l[p++]=w}return p},"hi<=p0":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=t+i,g=r;n>g;++g,c+=h)if(a[c+v]<=u)if(p===g)p+=1,x+=h;else{for(var y=0;h>y;++y){var m=a[c+y];a[c+y]=a[x],a[x++]=m}var w=l[g];l[g]=l[p],l[p++]=w}return p},"lo<p0&&p0<=hi":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=i,g=t+i,y=r;n>y;++y,c+=h){var m=a[c+v],w=a[c+g];if(m<u&&u<=w)if(p===y)p+=1,x+=h;else{for(var d=0;h>d;++d){var S=a[c+d];a[c+d]=a[x],a[x++]=S}var A=l[y];l[y]=l[p],l[p++]=A}}return p},"lo<=p0&&p0<=hi":function(t,i,r,n,a,l,u){for(var h=2*t,c=h*r,x=c,p=r,v=i,g=t+i,y=r;n>y;++y,c+=h){var m=a[c+v],w=a[c+g];if(m<=u&&u<=w)if(p===y)p+=1,x+=h;else{for(var d=0;h>d;++d){var S=a[c+d];a[c+d]=a[x],a[x++]=S}var A=l[y];l[y]=l[p],l[p++]=A}}return p},"!(lo>=p0)&&!(p1>=hi)":function(t,i,r,n,a,l,u,h){for(var c=2*t,x=c*r,p=x,v=r,g=i,y=t+i,m=r;n>m;++m,x+=c){var w=a[x+g],d=a[x+y];if(!(w>=u||h>=d))if(v===m)v+=1,p+=c;else{for(var S=0;c>S;++S){var A=a[x+S];a[x+S]=a[p],a[p++]=A}var E=l[m];l[m]=l[v],l[v++]=E}}return v}}},1811:function(f){f.exports=function(c,x){x<=4*s?t(0,x-1,c):h(0,x-1,c)};var s=32;function t(c,x,p){for(var v=2*(c+1),g=c+1;g<=x;++g){for(var y=p[v++],m=p[v++],w=g,d=v-2;w-- >c;){var S=p[d-2],A=p[d-1];if(S<y||S===y&&A<m)break;p[d]=S,p[d+1]=A,d-=2}p[d]=y,p[d+1]=m}}function i(c,x,p){x*=2;var v=p[c*=2],g=p[c+1];p[c]=p[x],p[c+1]=p[x+1],p[x]=v,p[x+1]=g}function r(c,x,p){x*=2,p[c*=2]=p[x],p[c+1]=p[x+1]}function n(c,x,p,v){x*=2,p*=2;var g=v[c*=2],y=v[c+1];v[c]=v[x],v[c+1]=v[x+1],v[x]=v[p],v[x+1]=v[p+1],v[p]=g,v[p+1]=y}function a(c,x,p,v,g){x*=2,g[c*=2]=g[x],g[x]=p,g[c+1]=g[x+1],g[x+1]=v}function l(c,x,p){x*=2;var v=p[c*=2],g=p[x];return!(v<g)&&(v!==g||p[c+1]>p[x+1])}function u(c,x,p,v){var g=v[c*=2];return g<x||g===x&&v[c+1]<p}function h(c,x,p){var v=(x-c+1)/6|0,g=c+v,y=x-v,m=c+x>>1,w=m-v,d=m+v,S=g,A=w,E=m,P=d,O=y,I=c+1,D=x-1,V=0;l(S,A,p)&&(V=S,S=A,A=V),l(P,O,p)&&(V=P,P=O,O=V),l(S,E,p)&&(V=S,S=E,E=V),l(A,E,p)&&(V=A,A=E,E=V),l(S,P,p)&&(V=S,S=P,P=V),l(E,P,p)&&(V=E,E=P,P=V),l(A,O,p)&&(V=A,A=O,O=V),l(A,E,p)&&(V=A,A=E,E=V),l(P,O,p)&&(V=P,P=O,O=V);for(var z=p[2*A],j=p[2*A+1],X=p[2*P],F=p[2*P+1],H=2*S,W=2*E,ie=2*O,te=2*g,Q=2*m,ne=2*y,$=0;$<2;++$){var J=p[H+$],re=p[W+$],se=p[ie+$];p[te+$]=J,p[Q+$]=re,p[ne+$]=se}r(w,c,p),r(d,x,p);for(var ue=I;ue<=D;++ue)if(u(ue,z,j,p))ue!==I&&i(ue,I,p),++I;else if(!u(ue,X,F,p))for(;;){if(u(D,X,F,p)){u(D,z,j,p)?(n(ue,I,D,p),++I,--D):(i(ue,D,p),--D);break}if(--D<ue)break}a(c,I-1,z,j,p),a(x,D+1,X,F,p),I-2-c<=s?t(c,I-2,p):h(c,I-2,p),x-(D+2)<=s?t(D+2,x,p):h(D+2,x,p),D-I<=s?t(I,D,p):h(I,D,p)}},855:function(f,s,t){f.exports={init:function(w){var d=r.nextPow2(w);u.length<d&&(i.free(u),u=i.mallocInt32(d)),h.length<d&&(i.free(h),h=i.mallocInt32(d)),c.length<d&&(i.free(c),c=i.mallocInt32(d)),x.length<d&&(i.free(x),x=i.mallocInt32(d)),p.length<d&&(i.free(p),p=i.mallocInt32(d)),v.length<d&&(i.free(v),v=i.mallocInt32(d));var S=8*d;g.length<S&&(i.free(g),g=i.mallocDouble(S))},sweepBipartite:function(w,d,S,A,E,P,O,I,D,V){for(var z=0,j=2*w,X=w-1,F=j-1,H=S;H<A;++H){var W=P[H],ie=j*H;g[z++]=E[ie+X],g[z++]=-(W+1),g[z++]=E[ie+F],g[z++]=W}for(H=O;H<I;++H){W=V[H]+a;var te=j*H;g[z++]=D[te+X],g[z++]=-W,g[z++]=D[te+F],g[z++]=W}var Q=z>>>1;n(g,Q);var ne=0,$=0;for(H=0;H<Q;++H){var J=0|g[2*H+1];if(J>=a)y(c,x,$--,J=J-a|0);else if(J>=0)y(u,h,ne--,J);else if(J<=-a){J=-J-a|0;for(var re=0;re<ne;++re)if((se=d(u[re],J))!==void 0)return se;m(c,x,$++,J)}else{for(J=-J-1|0,re=0;re<$;++re){var se;if((se=d(J,c[re]))!==void 0)return se}m(u,h,ne++,J)}}},sweepComplete:function(w,d,S,A,E,P,O,I,D,V){for(var z=0,j=2*w,X=w-1,F=j-1,H=S;H<A;++H){var W=P[H]+1<<1,ie=j*H;g[z++]=E[ie+X],g[z++]=-W,g[z++]=E[ie+F],g[z++]=W}for(H=O;H<I;++H){W=V[H]+1<<1;var te=j*H;g[z++]=D[te+X],g[z++]=1|-W,g[z++]=D[te+F],g[z++]=1|W}var Q=z>>>1;n(g,Q);var ne=0,$=0,J=0;for(H=0;H<Q;++H){var re=0|g[2*H+1],se=1&re;if(H<Q-1&&re>>1==g[2*H+3]>>1&&(se=2,H+=1),re<0){for(var ue=-(re>>1)-1,he=0;he<J;++he)if((pe=d(p[he],ue))!==void 0)return pe;if(se!==0){for(he=0;he<ne;++he)if((pe=d(u[he],ue))!==void 0)return pe}if(se!==1)for(he=0;he<$;++he){var pe;if((pe=d(c[he],ue))!==void 0)return pe}se===0?m(u,h,ne++,ue):se===1?m(c,x,$++,ue):se===2&&m(p,v,J++,ue)}else ue=(re>>1)-1,se===0?y(u,h,ne--,ue):se===1?y(c,x,$--,ue):se===2&&y(p,v,J--,ue)}},scanBipartite:function(w,d,S,A,E,P,O,I,D,V,z,j){var X=0,F=2*w,H=d,W=d+w,ie=1,te=1;A?te=a:ie=a;for(var Q=E;Q<P;++Q){var ne=Q+ie,$=F*Q;g[X++]=O[$+H],g[X++]=-ne,g[X++]=O[$+W],g[X++]=ne}for(Q=D;Q<V;++Q){ne=Q+te;var J=F*Q;g[X++]=z[J+H],g[X++]=-ne}var re=X>>>1;n(g,re);var se=0;for(Q=0;Q<re;++Q){var ue=0|g[2*Q+1];if(ue<0){var he=!1;if((ne=-ue)>=a?(he=!A,ne-=a):(he=!!A,ne-=1),he)m(u,h,se++,ne);else{var pe=j[ne],ge=F*ne,ye=z[ge+d+1],be=z[ge+d+1+w];e:for(var Te=0;Te<se;++Te){var Se=u[Te],Fe=F*Se;if(!(be<O[Fe+d+1]||O[Fe+d+1+w]<ye)){for(var xe=d+2;xe<w;++xe)if(z[ge+xe+w]<O[Fe+xe]||O[Fe+xe+w]<z[ge+xe])continue e;var le,oe=I[Se];if((le=A?S(pe,oe):S(oe,pe))!==void 0)return le}}}}else y(u,h,se--,ue-ie)}},scanComplete:function(w,d,S,A,E,P,O,I,D,V,z){for(var j=0,X=2*w,F=d,H=d+w,W=A;W<E;++W){var ie=W+a,te=X*W;g[j++]=P[te+F],g[j++]=-ie,g[j++]=P[te+H],g[j++]=ie}for(W=I;W<D;++W){ie=W+1;var Q=X*W;g[j++]=V[Q+F],g[j++]=-ie}var ne=j>>>1;n(g,ne);var $=0;for(W=0;W<ne;++W){var J=0|g[2*W+1];if(J<0)if((ie=-J)>=a)u[$++]=ie-a;else{var re=z[ie-=1],se=X*ie,ue=V[se+d+1],he=V[se+d+1+w];e:for(var pe=0;pe<$;++pe){var ge=u[pe],ye=O[ge];if(ye===re)break;var be=X*ge;if(!(he<P[be+d+1]||P[be+d+1+w]<ue)){for(var Te=d+2;Te<w;++Te)if(V[se+Te+w]<P[be+Te]||P[be+Te+w]<V[se+Te])continue e;var Se=S(ye,re);if(Se!==void 0)return Se}}}else{for(ie=J-a,pe=$-1;pe>=0;--pe)if(u[pe]===ie){for(Te=pe+1;Te<$;++Te)u[Te-1]=u[Te];break}--$}}}};var i=t(1888),r=t(8828),n=t(1811),a=1<<28,l=1024,u=i.mallocInt32(l),h=i.mallocInt32(l),c=i.mallocInt32(l),x=i.mallocInt32(l),p=i.mallocInt32(l),v=i.mallocInt32(l),g=i.mallocDouble(8192);function y(w,d,S,A){var E=d[A],P=w[S-1];w[E]=P,d[P]=E}function m(w,d,S,A){w[S]=A,d[A]=S}},2538:function(f,s,t){var i=t(8902),r=t(5542),n=t(2272),a=t(5023);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,x){return c[0]-x[0]||c[1]-x[1]}function h(c,x,p){return x in c?c[x]:p}f.exports=function(c,x,p){Array.isArray(x)?(p=p||{},x=x||[]):(p=x||{},x=[]);var v=!!h(p,"delaunay",!0),g=!!h(p,"interior",!0),y=!!h(p,"exterior",!0),m=!!h(p,"infinity",!1);if(!g&&!y||c.length===0)return[];var w=i(c,x);if(v||g!==y||m){for(var d=r(c.length,function(E){return E.map(l).sort(u)}(x)),S=0;S<w.length;++S){var A=w[S];d.addTriangle(A[0],A[1],A[2])}return v&&n(c,d),y?g?m?a(d,0,m):d.cells():a(d,1,m):a(d,-1)}return w}},2272:function(f,s,t){var i=t(2646)[4];function r(n,a,l,u,h,c){var x=a.opposite(u,h);if(!(x<0)){if(h<u){var p=u;u=h,h=p,p=c,c=x,x=p}a.isConstraint(u,h)||i(n[u],n[h],n[c],n[x])<0&&l.push(u,h)}}t(2478),f.exports=function(n,a){for(var l=[],u=n.length,h=a.stars,c=0;c<u;++c)for(var x=h[c],p=1;p<x.length;p+=2)if(!((m=x[p])<c||a.isConstraint(c,m))){for(var v=x[p-1],g=-1,y=1;y<x.length;y+=2)if(x[y-1]===m){g=x[y];break}g<0||i(n[c],n[m],n[v],n[g])<0&&l.push(c,m)}for(;l.length>0;){for(var m=l.pop(),w=(v=-1,g=-1,x=h[c=l.pop()],1);w<x.length;w+=2){var d=x[w-1],S=x[w];d===m?g=S:S===m&&(v=d)}v<0||g<0||i(n[c],n[m],n[v],n[g])>=0||(a.flip(c,m),r(n,a,l,v,c,g),r(n,a,l,c,g,v),r(n,a,l,g,m,v),r(n,a,l,m,v,g))}}},5023:function(f,s,t){var i,r=t(2478);function n(l,u,h,c,x,p,v){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=h,this.active=x,this.next=p,this.boundary=v}function a(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}f.exports=function(l,u,h){var c=function(O,I){for(var D=O.cells(),V=D.length,z=0;z<V;++z){var j=(J=D[z])[0],X=J[1],F=J[2];X<F?X<j&&(J[0]=X,J[1]=F,J[2]=j):F<j&&(J[0]=F,J[1]=j,J[2]=X)}D.sort(a);var H=new Array(V);for(z=0;z<H.length;++z)H[z]=0;var W=[],ie=[],te=new Array(3*V),Q=new Array(3*V),ne=null;I&&(ne=[]);var $=new n(D,te,Q,H,W,ie,ne);for(z=0;z<V;++z)for(var J=D[z],re=0;re<3;++re){j=J[re],X=J[(re+1)%3];var se=te[3*z+re]=$.locate(X,j,O.opposite(X,j)),ue=Q[3*z+re]=O.isConstraint(j,X);se<0&&(ue?ie.push(z):(W.push(z),H[z]=1),I&&ne.push([X,j,-1]))}return $}(l,h);if(u===0)return h?c.cells.concat(c.boundary):c.cells;for(var x=1,p=c.active,v=c.next,g=c.flags,y=c.cells,m=c.constraint,w=c.neighbor;p.length>0||v.length>0;){for(;p.length>0;){var d=p.pop();if(g[d]!==-x){g[d]=x,y[d];for(var S=0;S<3;++S){var A=w[3*d+S];A>=0&&g[A]===0&&(m[3*d+S]?v.push(A):(p.push(A),g[A]=x))}}}var E=v;v=p,p=E,v.length=0,x=-x}var P=function(O,I,D){for(var V=0,z=0;z<O.length;++z)I[z]===D&&(O[V++]=O[z]);return O.length=V,O}(y,g,u);return h?P.concat(c.boundary):P},n.prototype.locate=(i=[0,0,0],function(l,u,h){var c=l,x=u,p=h;return u<h?u<l&&(c=u,x=h,p=l):h<l&&(c=h,x=l,p=u),c<0?-1:(i[0]=c,i[1]=x,i[2]=p,r.eq(this.cells,i,a))})},8902:function(f,s,t){var i=t(2478),r=t(3250)[3];function n(v,g,y,m,w){this.a=v,this.b=g,this.idx=y,this.lowerIds=m,this.upperIds=w}function a(v,g,y,m){this.a=v,this.b=g,this.type=y,this.idx=m}function l(v,g){var y=v.a[0]-g.a[0]||v.a[1]-g.a[1]||v.type-g.type;return y||(v.type!==0&&(y=r(v.a,v.b,g.b))?y:v.idx-g.idx)}function u(v,g){return r(v.a,v.b,g)}function h(v,g,y,m,w){for(var d=i.lt(g,m,u),S=i.gt(g,m,u),A=d;A<S;++A){for(var E=g[A],P=E.lowerIds,O=P.length;O>1&&r(y[P[O-2]],y[P[O-1]],m)>0;)v.push([P[O-1],P[O-2],w]),O-=1;P.length=O,P.push(w);var I=E.upperIds;for(O=I.length;O>1&&r(y[I[O-2]],y[I[O-1]],m)<0;)v.push([I[O-2],I[O-1],w]),O-=1;I.length=O,I.push(w)}}function c(v,g){var y;return(y=v.a[0]<g.a[0]?r(v.a,v.b,g.a):r(g.b,g.a,v.a))?y:(y=g.b[0]<v.b[0]?r(v.a,v.b,g.b):r(g.b,g.a,v.b))||v.idx-g.idx}function x(v,g,y){var m=i.le(v,y,c),w=v[m],d=w.upperIds,S=d[d.length-1];w.upperIds=[S],v.splice(m+1,0,new n(y.a,y.b,y.idx,[S],d))}function p(v,g,y){var m=y.a;y.a=y.b,y.b=m;var w=i.eq(v,y,c),d=v[w];v[w-1].upperIds=d.upperIds,v.splice(w,1)}f.exports=function(v,g){for(var y=v.length,m=g.length,w=[],d=0;d<y;++d)w.push(new a(v[d],null,0,d));for(d=0;d<m;++d){var S=g[d],A=v[S[0]],E=v[S[1]];A[0]<E[0]?w.push(new a(A,E,2,d),new a(E,A,1,d)):A[0]>E[0]&&w.push(new a(E,A,2,d),new a(A,E,1,d))}w.sort(l);for(var P=w[0].a[0]-(1+Math.abs(w[0].a[0]))*Math.pow(2,-52),O=[new n([P,1],[P,0],-1,[],[])],I=[],D=(d=0,w.length);d<D;++d){var V=w[d],z=V.type;z===0?h(I,O,v,V.a,V.idx):z===2?x(O,0,V):p(O,0,V)}return I}},5542:function(f,s,t){var i=t(2478);function r(l,u){this.stars=l,this.edges=u}f.exports=function(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=[];return new r(h,u)};var n=r.prototype;function a(l,u,h){for(var c=1,x=l.length;c<x;c+=2)if(l[c-1]===u&&l[c]===h)return l[c-1]=l[x-2],l[c]=l[x-1],void(l.length=x-2)}n.isConstraint=function(){var l=[0,0];function u(h,c){return h[0]-c[0]||h[1]-c[1]}return function(h,c){return l[0]=Math.min(h,c),l[1]=Math.max(h,c),i.eq(this.edges,l,u)>=0}}(),n.removeTriangle=function(l,u,h){var c=this.stars;a(c[l],u,h),a(c[u],h,l),a(c[h],l,u)},n.addTriangle=function(l,u,h){var c=this.stars;c[l].push(u,h),c[u].push(h,l),c[h].push(l,u)},n.opposite=function(l,u){for(var h=this.stars[u],c=1,x=h.length;c<x;c+=2)if(h[c]===l)return h[c-1];return-1},n.flip=function(l,u){var h=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,h),this.removeTriangle(u,l,c),this.addTriangle(l,c,h),this.addTriangle(u,h,c)},n.edges=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var x=l[h],p=0,v=x.length;p<v;p+=2)u.push([x[p],x[p+1]]);return u},n.cells=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var x=l[h],p=0,v=x.length;p<v;p+=2){var g=x[p],y=x[p+1];h<Math.min(g,y)&&u.push([h,g,y])}return u}},2419:function(f){f.exports=function(s){for(var t=1,i=1;i<s.length;++i)for(var r=0;r<i;++r)if(s[i]<s[r])t=-t;else if(s[r]===s[i])return 0;return t}},3628:function(f,s,t){var i=t(1338),r=t(727);function n(u,h){for(var c=0,x=u.length,p=0;p<x;++p)c+=u[p]*h[p];return c}function a(u){var h=u.length;if(h===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),x=i([u.length+1],1);c[h][h]=0;for(var p=0;p<h;++p){for(var v=0;v<=p;++v)c[v][p]=c[p][v]=2*n(u[p],u[v]);x[p]=n(u[p],u[p])}var g=r(c,x),y=0,m=g[h+1];for(p=0;p<m.length;++p)y+=m[p];var w=new Array(h);for(p=0;p<h;++p){m=g[p];var d=0;for(v=0;v<m.length;++v)d+=m[v];w[p]=d/y}return w}function l(u){if(u.length===0)return[];for(var h=u[0].length,c=i([h]),x=a(u),p=0;p<u.length;++p)for(var v=0;v<h;++v)c[v]+=u[p][v]*x[p];return c}l.barycenetric=a,f.exports=l},6037:function(f,s,t){f.exports=function(r){for(var n=i(r),a=0,l=0;l<r.length;++l)for(var u=r[l],h=0;h<n.length;++h)a+=Math.pow(u[h]-n[h],2);return Math.sqrt(a/r.length)};var i=t(3628)},332:function(f,s,t){f.exports=function(S,A,E){var P;if(E){P=A;for(var O=new Array(A.length),I=0;I<A.length;++I){var D=A[I];O[I]=[D[0],D[1],E[I]]}A=O}for(var V=function(z,j,X){var F=g(z,[],v(z));return w(j,F,X),!!F}(S,A,!!E);d(S,A,!!E);)V=!0;if(E&&V)for(P.length=0,E.length=0,I=0;I<A.length;++I)D=A[I],P.push([D[0],D[1]]),E.push(D[2]);return V};var i=t(1755),r=t(6867),n=t(1125),a=t(7842),l=t(1318),u=t(946),h=t(5838),c=t(1278),x=t(3637);function p(S){var A=u(S);return[c(A,-1/0),c(A,1/0)]}function v(S){for(var A=new Array(S.length),E=0;E<S.length;++E){var P=S[E];A[E]=[c(P[0],-1/0),c(P[1],-1/0),c(P[0],1/0),c(P[1],1/0)]}return A}function g(S,A,E){for(var P=A.length,O=new i(P),I=[],D=0;D<A.length;++D){var V=A[D],z=p(V[0]),j=p(V[1]);I.push([c(z[0],-1/0),c(j[0],-1/0),c(z[1],1/0),c(j[1],1/0)])}r(I,function(ie,te){O.link(ie,te)});var X=!0,F=new Array(P);for(D=0;D<P;++D)(W=O.find(D))!==D&&(X=!1,S[W]=[Math.min(S[D][0],S[W][0]),Math.min(S[D][1],S[W][1])]);if(X)return null;var H=0;for(D=0;D<P;++D){var W;(W=O.find(D))===D?(F[D]=H,S[H++]=S[D]):F[D]=-1}for(S.length=H,D=0;D<P;++D)F[D]<0&&(F[D]=F[O.find(D)]);return F}function y(S,A){return S[0]-A[0]||S[1]-A[1]}function m(S,A){return S[0]-A[0]||S[1]-A[1]||(S[2]<A[2]?-1:S[2]>A[2]?1:0)}function w(S,A,E){if(S.length!==0){if(A)for(var P=0;P<S.length;++P){var O=A[(D=S[P])[0]],I=A[D[1]];D[0]=Math.min(O,I),D[1]=Math.max(O,I)}else for(P=0;P<S.length;++P){var D;O=(D=S[P])[0],I=D[1],D[0]=Math.min(O,I),D[1]=Math.max(O,I)}E?S.sort(m):S.sort(y);var V=1;for(P=1;P<S.length;++P){var z=S[P-1],j=S[P];(j[0]!==z[0]||j[1]!==z[1]||E&&j[2]!==z[2])&&(S[V++]=j)}S.length=V}}function d(S,A,E){var P=function(z,j){for(var X=new Array(j.length),F=0;F<j.length;++F){var H=j[F],W=z[H[0]],ie=z[H[1]];X[F]=[c(Math.min(W[0],ie[0]),-1/0),c(Math.min(W[1],ie[1]),-1/0),c(Math.max(W[0],ie[0]),1/0),c(Math.max(W[1],ie[1]),1/0)]}return X}(S,A),O=function(z,j,X){var F=[];return r(X,function(H,W){var ie=j[H],te=j[W];if(ie[0]!==te[0]&&ie[0]!==te[1]&&ie[1]!==te[0]&&ie[1]!==te[1]){var Q=z[ie[0]],ne=z[ie[1]],$=z[te[0]],J=z[te[1]];n(Q,ne,$,J)&&F.push([H,W])}}),F}(S,A,P),I=function(z,j,X,F){var H=[];return r(X,F,function(W,ie){var te=j[W];if(te[0]!==ie&&te[1]!==ie){var Q=z[ie],ne=z[te[0]],$=z[te[1]];n(ne,$,Q,Q)&&H.push([W,ie])}}),H}(S,A,P,v(S)),D=function(z,j,X,F,H){var W,ie,te=z.map(function(le){return[a(le[0]),a(le[1])]});for(W=0;W<X.length;++W){var Q=X[W];ie=Q[0];var ne=Q[1],$=j[ie],J=j[ne],re=x(h(z[$[0]]),h(z[$[1]]),h(z[J[0]]),h(z[J[1]]));if(re){var se=z.length;z.push([u(re[0]),u(re[1])]),te.push(re),F.push([ie,se],[ne,se])}}for(F.sort(function(le,oe){if(le[0]!==oe[0])return le[0]-oe[0];var de=te[le[1]],Ce=te[oe[1]];return l(de[0],Ce[0])||l(de[1],Ce[1])}),W=F.length-1;W>=0;--W){var ue=j[ie=(Fe=F[W])[0]],he=ue[0],pe=ue[1],ge=z[he],ye=z[pe];if((ge[0]-ye[0]||ge[1]-ye[1])<0){var be=he;he=pe,pe=be}ue[0]=he;var Te,Se=ue[1]=Fe[1];for(H&&(Te=ue[2]);W>0&&F[W-1][0]===ie;){var Fe,xe=(Fe=F[--W])[1];H?j.push([Se,xe,Te]):j.push([Se,xe]),Se=xe}H?j.push([Se,pe,Te]):j.push([Se,pe])}return te}(S,A,O,I,E),V=g(S,D);return w(A,V,E),!!V||O.length>0||I.length>0}},3637:function(f,s,t){f.exports=function(x,p,v,g){var y=l(p,x),m=l(g,v),w=c(y,m);if(a(w)===0)return null;var d=c(m,l(x,v)),S=r(d,w),A=h(y,S);return u(x,A)};var i=t(6504),r=t(8697),n=t(5572),a=t(7721),l=t(544),u=t(2653),h=t(8987);function c(x,p){return n(i(x[0],p[1]),i(x[1],p[0]))}},3642:function(f){f.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(f,s,t){var i=t(3642),r=t(395);function n(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function a(u){for(var h,c="#",x=0;x<3;++x)c+=("00"+(h=(h=u[x]).toString(16))).substr(h.length);return c}function l(u){return"rgba("+u.join(",")+")"}f.exports=function(u){var h,c,x,p,v,g,y,m,w,d;if(u||(u={}),m=(u.nshades||72)-1,y=u.format||"hex",(g=u.colormap)||(g="jet"),typeof g=="string"){if(g=g.toLowerCase(),!i[g])throw Error(g+" not a supported colorscale");v=i[g]}else{if(!Array.isArray(g))throw Error("unsupported colormap option",g);v=g.slice()}if(v.length>m+1)throw new Error(g+" map requires nshades to be at least size "+v.length);w=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],h=v.map(function(O){return Math.round(O.index*m)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var S=v.map(function(O,I){var D=v[I].index,V=v[I].rgb.slice();return V.length===4&&V[3]>=0&&V[3]<=1||(V[3]=w[0]+(w[1]-w[0])*D),V}),A=[];for(d=0;d<h.length-1;++d){p=h[d+1]-h[d],c=S[d],x=S[d+1];for(var E=0;E<p;E++){var P=E/p;A.push([Math.round(r(c[0],x[0],P)),Math.round(r(c[1],x[1],P)),Math.round(r(c[2],x[2],P)),r(c[3],x[3],P)])}}return A.push(v[v.length-1].rgb.concat(w[1])),y==="hex"?A=A.map(a):y==="rgbaString"?A=A.map(l):y==="float"&&(A=A.map(n)),A}},3140:function(f,s,t){f.exports=function(h,c,x,p){var v=i(c,x,p);if(v===0){var g=r(i(h,c,x)),y=r(i(h,c,p));if(g===y){if(g===0){var m=u(h,c,x);return m===u(h,c,p)?0:m?1:-1}return 0}return y===0?g>0||u(h,c,p)?-1:1:g===0?y>0||u(h,c,x)?1:-1:r(y-g)}var w=i(h,c,x);return w>0?v>0&&i(h,c,p)>0?1:-1:w<0?v>0||i(h,c,p)>0?1:-1:i(h,c,p)>0||u(h,c,x)?1:-1};var i=t(3250),r=t(8572),n=t(9362),a=t(5382),l=t(8210);function u(h,c,x){var p=n(h[0],-c[0]),v=n(h[1],-c[1]),g=n(x[0],-c[0]),y=n(x[1],-c[1]),m=l(a(p,g),a(v,y));return m[m.length-1]>=0}},8572:function(f){f.exports=function(s){return s<0?-1:s>0?1:0}},8507:function(f){f.exports=function(i,r){var n=i.length,a=i.length-r.length;if(a)return a;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return i[0]+i[1]-r[0]-r[1]||s(i[0],i[1])-s(r[0],r[1]);case 3:var l=i[0]+i[1],u=r[0]+r[1];if(a=l+i[2]-(u+r[2]))return a;var h=s(i[0],i[1]),c=s(r[0],r[1]);return s(h,i[2])-s(c,r[2])||s(h+i[2],l)-s(c+r[2],u);case 4:var x=i[0],p=i[1],v=i[2],g=i[3],y=r[0],m=r[1],w=r[2],d=r[3];return x+p+v+g-(y+m+w+d)||s(x,p,v,g)-s(y,m,w,d,y)||s(x+p,x+v,x+g,p+v,p+g,v+g)-s(y+m,y+w,y+d,m+w,m+d,w+d)||s(x+p+v,x+p+g,x+v+g,p+v+g)-s(y+m+w,y+m+d,y+w+d,m+w+d);default:for(var S=i.slice().sort(t),A=r.slice().sort(t),E=0;E<n;++E)if(a=S[E]-A[E])return a;return 0}};var s=Math.min;function t(i,r){return i-r}},3788:function(f,s,t){var i=t(8507),r=t(2419);f.exports=function(n,a){return i(n,a)||r(n)-r(a)}},7352:function(f,s,t){var i=t(5721),r=t(4750),n=t(2690);f.exports=function(a){var l=a.length;if(l===0)return[];if(l===1)return[[0]];var u=a[0].length;return u===0?[]:u===1?i(a):u===2?r(a):n(a,u)}},5721:function(f){f.exports=function(s){for(var t=0,i=0,r=1;r<s.length;++r)s[r][0]<s[t][0]&&(t=r),s[r][0]>s[i][0]&&(i=r);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},4750:function(f,s,t){f.exports=function(r){var n=i(r),a=n.length;if(a<=2)return[];for(var l=new Array(a),u=n[a-1],h=0;h<a;++h){var c=n[h];l[h]=[u,c],u=c}return l};var i=t(3090)},2690:function(f,s,t){f.exports=function(n,a){try{return i(n,!0)}catch{var l=r(n);if(l.length<=a)return[];var u=function(c,x){for(var p=c.length,v=new Array(p),g=0;g<x.length;++g)v[g]=c[x[g]];var y=x.length;for(g=0;g<p;++g)x.indexOf(g)<0&&(v[y++]=c[g]);return v}(n,l);return function(c,x){for(var p=c.length,v=x.length,g=0;g<p;++g)for(var y=c[g],m=0;m<y.length;++m){var w=y[m];if(w<v)y[m]=x[w];else{w-=v;for(var d=0;d<v;++d)w>=x[d]&&(w+=1);y[m]=w}}return c}(i(u,!0),l)}};var i=t(8954),r=t(3952)},4769:function(f){f.exports=function(s,t,i,r,n,a){var l=n-1,u=n*n,h=l*l,c=(1+2*n)*h,x=n*h,p=u*(3-2*n),v=u*l;if(s.length){a||(a=new Array(s.length));for(var g=s.length-1;g>=0;--g)a[g]=c*s[g]+x*t[g]+p*i[g]+v*r[g];return a}return c*s+x*t+p*i+v*r},f.exports.derivative=function(s,t,i,r,n,a){var l=6*n*n-6*n,u=3*n*n-4*n+1,h=-6*n*n+6*n,c=3*n*n-2*n;if(s.length){a||(a=new Array(s.length));for(var x=s.length-1;x>=0;--x)a[x]=l*s[x]+u*t[x]+h*i[x]+c*r[x];return a}return l*s+u*t+h*i[x]+c*r}},7642:function(f,s,t){var i=t(8954),r=t(1682);function n(l,u){this.point=l,this.index=u}function a(l,u){for(var h=l.point,c=u.point,x=h.length,p=0;p<x;++p){var v=c[p]-h[p];if(v)return v}return 0}f.exports=function(l,u){var h=l.length;if(h===0)return[];var c=l[0].length;if(c<1)return[];if(c===1)return function(D,V,z){if(D===1)return z?[[-1,0]]:[];var j=V.map(function(ie,te){return[ie[0],te]});j.sort(function(ie,te){return ie[0]-te[0]});for(var X=new Array(D-1),F=1;F<D;++F){var H=j[F-1],W=j[F];X[F-1]=[H[1],W[1]]}return z&&X.push([-1,X[0][1]],[X[D-1][1],-1]),X}(h,l,u);for(var x=new Array(h),p=1,v=0;v<h;++v){for(var g=l[v],y=new Array(c+1),m=0,w=0;w<c;++w){var d=g[w];y[w]=d,m+=d*d}y[c]=m,x[v]=new n(y,v),p=Math.max(m,p)}r(x,a),h=x.length;var S=new Array(h+c+1),A=new Array(h+c+1),E=(c+1)*(c+1)*p,P=new Array(c+1);for(v=0;v<=c;++v)P[v]=0;for(P[c]=E,S[0]=P.slice(),A[0]=-1,v=0;v<=c;++v)(y=P.slice())[v]=1,S[v+1]=y,A[v+1]=-1;for(v=0;v<h;++v){var O=x[v];S[v+c+1]=O.point,A[v+c+1]=O.index}var I=i(S,!1);if(I=u?I.filter(function(D){for(var V=0,z=0;z<=c;++z){var j=A[D[z]];if(j<0&&++V>=2)return!1;D[z]=j}return!0}):I.filter(function(D){for(var V=0;V<=c;++V){var z=A[D[V]];if(z<0)return!1;D[V]=z}return!0}),1&c)for(v=0;v<I.length;++v)y=(O=I[v])[0],O[0]=O[1],O[1]=y;return I}},2361:function(f){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,s=!0,i[1]===1072693248?(f.exports=function(n){return t[0]=n,[i[0],i[1]]},f.exports.pack=function(n,a){return i[0]=n,i[1]=a,t[0]},f.exports.lo=function(n){return t[0]=n,i[0]},f.exports.hi=function(n){return t[0]=n,i[1]}):i[0]===1072693248?(f.exports=function(n){return t[0]=n,[i[1],i[0]]},f.exports.pack=function(n,a){return i[1]=n,i[0]=a,t[0]},f.exports.lo=function(n){return t[0]=n,i[1]},f.exports.hi=function(n){return t[0]=n,i[0]}):s=!1}if(!s){var r=new Buffer(8);f.exports=function(n){return r.writeDoubleLE(n,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},f.exports.pack=function(n,a){return r.writeUInt32LE(n,0,!0),r.writeUInt32LE(a,4,!0),r.readDoubleLE(0,!0)},f.exports.lo=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(0,!0)},f.exports.hi=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(4,!0)}}f.exports.sign=function(n){return f.exports.hi(n)>>>31},f.exports.exponent=function(n){return(f.exports.hi(n)<<1>>>21)-1023},f.exports.fraction=function(n){var a=f.exports.lo(n),l=f.exports.hi(n),u=1048575&l;return 2146435072&l&&(u+=1048576),[a,u]},f.exports.denormalized=function(n){return!(2146435072&f.exports.hi(n))}},1338:function(f){function s(t,i,r){var n=0|t[r];if(n<=0)return[];var a,l=new Array(n);if(r===t.length-1)for(a=0;a<n;++a)l[a]=i;else for(a=0;a<n;++a)l[a]=s(t,i,r+1);return l}f.exports=function(t,i){switch(i===void 0&&(i=0),typeof t){case"number":if(t>0)return function(r,n){var a,l;for(a=new Array(r),l=0;l<r;++l)a[l]=n;return a}(0|t,i);break;case"object":if(typeof t.length=="number")return s(t,i,0)}return[]}},3134:function(f,s,t){f.exports=function(r,n){var a=r.length;if(typeof n!="number"){n=0;for(var l=0;l<a;++l){var u=r[l];n=Math.max(n,u[0],u[1])}n=1+(0|n)}n|=0;var h=new Array(n);for(l=0;l<n;++l)h[l]=[];for(l=0;l<a;++l)h[(u=r[l])[0]].push(u[1]),h[u[1]].push(u[0]);for(var c=0;c<n;++c)i(h[c],function(x,p){return x-p});return h};var i=t(1682)},5033:function(f){f.exports=function(s,t,i){var r=t||0,n=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[r*s[12]+s[8],r*s[13]+s[9],r*s[14]+s[10],r*s[15]+s[11]],[n*s[12]-s[8],n*s[13]-s[9],n*s[14]-s[10],n*s[15]-s[11]]]}},9215:function(f,s,t){f.exports=function(h,c,x){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return typeof h=="number"?new a(p=u(h),p,0):new a(h,u(h.length),0);case 2:var p;if(typeof c=="number")return new a(h,p=u(h.length),+c);x=0;case 3:if(h.length!==c.length)throw new Error("state and velocity lengths must match");return new a(h,c,x)}};var i=t(4769),r=t(2478);function n(h,c,x){return Math.min(c,Math.max(h,x))}function a(h,c,x){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var p=0;p<this.dimension;++p)this.bounds[0][p]=-1/0,this.bounds[1][p]=1/0;this._state=h.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=a.prototype;function u(h){for(var c=new Array(h),x=0;x<h;++x)c[x]=0;return c}l.flush=function(h){var c=r.gt(this._time,h)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(h){var c=this._time,x=c.length,p=r.le(c,h),v=this._scratch[0],g=this._state,y=this._velocity,m=this.dimension,w=this.bounds;if(p<0)for(var d=m-1,S=0;S<m;++S,--d)v[S]=g[d];else if(p>=x-1){d=g.length-1;var A=h-c[x-1];for(S=0;S<m;++S,--d)v[S]=g[d]+A*y[d]}else{d=m*(p+1)-1;var E=c[p],P=c[p+1]-E||1,O=this._scratch[1],I=this._scratch[2],D=this._scratch[3],V=this._scratch[4],z=!0;for(S=0;S<m;++S,--d)O[S]=g[d],D[S]=y[d]*P,I[S]=g[d+m],V[S]=y[d+m]*P,z=z&&O[S]===I[S]&&D[S]===V[S]&&D[S]===0;if(z)for(S=0;S<m;++S)v[S]=O[S];else i(O,D,I,V,(h-E)/P,v)}var j=w[0],X=w[1];for(S=0;S<m;++S)v[S]=n(j[S],X[S],v[S]);return v},l.dcurve=function(h){var c=this._time,x=c.length,p=r.le(c,h),v=this._scratch[0],g=this._state,y=this._velocity,m=this.dimension;if(p>=x-1)for(var w=g.length-1,d=(c[x-1],0);d<m;++d,--w)v[d]=y[w];else{w=m*(p+1)-1;var S=c[p],A=c[p+1]-S||1,E=this._scratch[1],P=this._scratch[2],O=this._scratch[3],I=this._scratch[4],D=!0;for(d=0;d<m;++d,--w)E[d]=g[w],O[d]=y[w]*A,P[d]=g[w+m],I[d]=y[w+m]*A,D=D&&E[d]===P[d]&&O[d]===I[d]&&O[d]===0;if(D)for(d=0;d<m;++d)v[d]=0;else for(i.derivative(E,O,P,I,(h-S)/A,v),d=0;d<m;++d)v[d]/=A}return v},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,c=h.length,x=this.dimension-1;x>=0;--x)if(h[--c])return!1;return!0},l.jump=function(h){var c=this.lastT(),x=this.dimension;if(!(h<c||arguments.length!==x+1)){var p=this._state,v=this._velocity,g=p.length-this.dimension,y=this.bounds,m=y[0],w=y[1];this._time.push(c,h);for(var d=0;d<2;++d)for(var S=0;S<x;++S)p.push(p[g++]),v.push(0);for(this._time.push(h),S=x;S>0;--S)p.push(n(m[S-1],w[S-1],arguments[S])),v.push(0)}},l.push=function(h){var c=this.lastT(),x=this.dimension;if(!(h<c||arguments.length!==x+1)){var p=this._state,v=this._velocity,g=p.length-this.dimension,y=h-c,m=this.bounds,w=m[0],d=m[1],S=y>1e-6?1/y:0;this._time.push(h);for(var A=x;A>0;--A){var E=n(w[A-1],d[A-1],arguments[A]);p.push(E),v.push((E-p[g++])*S)}}},l.set=function(h){var c=this.dimension;if(!(h<this.lastT()||arguments.length!==c+1)){var x=this._state,p=this._velocity,v=this.bounds,g=v[0],y=v[1];this._time.push(h);for(var m=c;m>0;--m)x.push(n(g[m-1],y[m-1],arguments[m])),p.push(0)}},l.move=function(h){var c=this.lastT(),x=this.dimension;if(!(h<=c||arguments.length!==x+1)){var p=this._state,v=this._velocity,g=p.length-this.dimension,y=this.bounds,m=y[0],w=y[1],d=h-c,S=d>1e-6?1/d:0;this._time.push(h);for(var A=x;A>0;--A){var E=arguments[A];p.push(n(m[A-1],w[A-1],p[g++]+E)),v.push(E*S)}}},l.idle=function(h){var c=this.lastT();if(!(h<c)){var x=this.dimension,p=this._state,v=this._velocity,g=p.length-x,y=this.bounds,m=y[0],w=y[1],d=h-c;this._time.push(h);for(var S=x-1;S>=0;--S)p.push(n(m[S],w[S],p[g]+d*v[g])),v.push(0),g+=1}}},3840:function(f){function s(g,y,m,w,d,S){this._color=g,this.key=y,this.value=m,this.left=w,this.right=d,this._count=S}function t(g){return new s(g._color,g.key,g.value,g.left,g.right,g._count)}function i(g,y){return new s(g,y.key,y.value,y.left,y.right,y._count)}function r(g){g._count=1+(g.left?g.left._count:0)+(g.right?g.right._count:0)}function n(g,y){this._compare=g,this.root=y}f.exports=function(g){return new n(g||v,null)};var a=n.prototype;function l(g,y){var m;return y.left&&(m=l(g,y.left))?m:(m=g(y.key,y.value))||(y.right?l(g,y.right):void 0)}function u(g,y,m,w){if(y(g,w.key)<=0){var d;if(w.left&&(d=u(g,y,m,w.left))||(d=m(w.key,w.value)))return d}if(w.right)return u(g,y,m,w.right)}function h(g,y,m,w,d){var S,A=m(g,d.key),E=m(y,d.key);if(A<=0&&(d.left&&(S=h(g,y,m,w,d.left))||E>0&&(S=w(d.key,d.value))))return S;if(E>0&&d.right)return h(g,y,m,w,d.right)}function c(g,y){this.tree=g,this._stack=y}Object.defineProperty(a,"keys",{get:function(){var g=[];return this.forEach(function(y,m){g.push(y)}),g}}),Object.defineProperty(a,"values",{get:function(){var g=[];return this.forEach(function(y,m){g.push(m)}),g}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(g,y){for(var m=this._compare,w=this.root,d=[],S=[];w;){var A=m(g,w.key);d.push(w),S.push(A),w=A<=0?w.left:w.right}d.push(new s(0,g,y,null,null,1));for(var E=d.length-2;E>=0;--E)w=d[E],S[E]<=0?d[E]=new s(w._color,w.key,w.value,d[E+1],w.right,w._count+1):d[E]=new s(w._color,w.key,w.value,w.left,d[E+1],w._count+1);for(E=d.length-1;E>1;--E){var P=d[E-1];if(w=d[E],P._color===1||w._color===1)break;var O=d[E-2];if(O.left===P)if(P.left===w){if(!(I=O.right)||I._color!==0){O._color=0,O.left=P.right,P._color=1,P.right=O,d[E-2]=P,d[E-1]=w,r(O),r(P),E>=3&&((D=d[E-3]).left===O?D.left=P:D.right=P);break}P._color=1,O.right=i(1,I),O._color=0,E-=1}else{if(!(I=O.right)||I._color!==0){P.right=w.left,O._color=0,O.left=w.right,w._color=1,w.left=P,w.right=O,d[E-2]=w,d[E-1]=P,r(O),r(P),r(w),E>=3&&((D=d[E-3]).left===O?D.left=w:D.right=w);break}P._color=1,O.right=i(1,I),O._color=0,E-=1}else if(P.right===w){if(!(I=O.left)||I._color!==0){O._color=0,O.right=P.left,P._color=1,P.left=O,d[E-2]=P,d[E-1]=w,r(O),r(P),E>=3&&((D=d[E-3]).right===O?D.right=P:D.left=P);break}P._color=1,O.left=i(1,I),O._color=0,E-=1}else{var I;if(!(I=O.left)||I._color!==0){var D;P.left=w.right,O._color=0,O.right=w.left,w._color=1,w.right=P,w.left=O,d[E-2]=w,d[E-1]=P,r(O),r(P),r(w),E>=3&&((D=d[E-3]).right===O?D.right=w:D.left=w);break}P._color=1,O.left=i(1,I),O._color=0,E-=1}}return d[0]._color=1,new n(m,d[0])},a.forEach=function(g,y,m){if(this.root)switch(arguments.length){case 1:return l(g,this.root);case 2:return u(y,this._compare,g,this.root);case 3:return this._compare(y,m)>=0?void 0:h(y,m,this._compare,g,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var g=[],y=this.root;y;)g.push(y),y=y.left;return new c(this,g)}}),Object.defineProperty(a,"end",{get:function(){for(var g=[],y=this.root;y;)g.push(y),y=y.right;return new c(this,g)}}),a.at=function(g){if(g<0)return new c(this,[]);for(var y=this.root,m=[];;){if(m.push(y),y.left){if(g<y.left._count){y=y.left;continue}g-=y.left._count}if(!g)return new c(this,m);if(g-=1,!y.right||g>=y.right._count)break;y=y.right}return new c(this,[])},a.ge=function(g){for(var y=this._compare,m=this.root,w=[],d=0;m;){var S=y(g,m.key);w.push(m),S<=0&&(d=w.length),m=S<=0?m.left:m.right}return w.length=d,new c(this,w)},a.gt=function(g){for(var y=this._compare,m=this.root,w=[],d=0;m;){var S=y(g,m.key);w.push(m),S<0&&(d=w.length),m=S<0?m.left:m.right}return w.length=d,new c(this,w)},a.lt=function(g){for(var y=this._compare,m=this.root,w=[],d=0;m;){var S=y(g,m.key);w.push(m),S>0&&(d=w.length),m=S<=0?m.left:m.right}return w.length=d,new c(this,w)},a.le=function(g){for(var y=this._compare,m=this.root,w=[],d=0;m;){var S=y(g,m.key);w.push(m),S>=0&&(d=w.length),m=S<0?m.left:m.right}return w.length=d,new c(this,w)},a.find=function(g){for(var y=this._compare,m=this.root,w=[];m;){var d=y(g,m.key);if(w.push(m),d===0)return new c(this,w);m=d<=0?m.left:m.right}return new c(this,[])},a.remove=function(g){var y=this.find(g);return y?y.remove():this},a.get=function(g){for(var y=this._compare,m=this.root;m;){var w=y(g,m.key);if(w===0)return m.value;m=w<=0?m.left:m.right}};var x=c.prototype;function p(g,y){g.key=y.key,g.value=y.value,g.left=y.left,g.right=y.right,g._color=y._color,g._count=y._count}function v(g,y){return g<y?-1:g>y?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var g=this._stack;if(g.length===0)return this.tree;var y=new Array(g.length),m=g[g.length-1];y[y.length-1]=new s(m._color,m.key,m.value,m.left,m.right,m._count);for(var w=g.length-2;w>=0;--w)(m=g[w]).left===g[w+1]?y[w]=new s(m._color,m.key,m.value,y[w+1],m.right,m._count):y[w]=new s(m._color,m.key,m.value,m.left,y[w+1],m._count);if((m=y[y.length-1]).left&&m.right){var d=y.length;for(m=m.left;m.right;)y.push(m),m=m.right;var S=y[d-1];for(y.push(new s(m._color,S.key,S.value,m.left,m.right,m._count)),y[d-1].key=m.key,y[d-1].value=m.value,w=y.length-2;w>=d;--w)m=y[w],y[w]=new s(m._color,m.key,m.value,m.left,y[w+1],m._count);y[d-1].left=y[d]}if((m=y[y.length-1])._color===0){var A=y[y.length-2];for(A.left===m?A.left=null:A.right===m&&(A.right=null),y.pop(),w=0;w<y.length;++w)y[w]._count--;return new n(this.tree._compare,y[0])}if(m.left||m.right){for(m.left?p(m,m.left):m.right&&p(m,m.right),m._color=1,w=0;w<y.length-1;++w)y[w]._count--;return new n(this.tree._compare,y[0])}if(y.length===1)return new n(this.tree._compare,null);for(w=0;w<y.length;++w)y[w]._count--;var E=y[y.length-2];return function(P){for(var O,I,D,V,z=P.length-1;z>=0;--z){if(O=P[z],z===0)return void(O._color=1);if((I=P[z-1]).left===O){if((D=I.right).right&&D.right._color===0)return V=(D=I.right=t(D)).right=t(D.right),I.right=D.left,D.left=I,D.right=V,D._color=I._color,O._color=1,I._color=1,V._color=1,r(I),r(D),z>1&&((j=P[z-2]).left===I?j.left=D:j.right=D),void(P[z-1]=D);if(D.left&&D.left._color===0)return V=(D=I.right=t(D)).left=t(D.left),I.right=V.left,D.left=V.right,V.left=I,V.right=D,V._color=I._color,I._color=1,D._color=1,O._color=1,r(I),r(D),r(V),z>1&&((j=P[z-2]).left===I?j.left=V:j.right=V),void(P[z-1]=V);if(D._color===1){if(I._color===0)return I._color=1,void(I.right=i(0,D));I.right=i(0,D);continue}D=t(D),I.right=D.left,D.left=I,D._color=I._color,I._color=0,r(I),r(D),z>1&&((j=P[z-2]).left===I?j.left=D:j.right=D),P[z-1]=D,P[z]=I,z+1<P.length?P[z+1]=O:P.push(O),z+=2}else{if((D=I.left).left&&D.left._color===0)return V=(D=I.left=t(D)).left=t(D.left),I.left=D.right,D.right=I,D.left=V,D._color=I._color,O._color=1,I._color=1,V._color=1,r(I),r(D),z>1&&((j=P[z-2]).right===I?j.right=D:j.left=D),void(P[z-1]=D);if(D.right&&D.right._color===0)return V=(D=I.left=t(D)).right=t(D.right),I.left=V.right,D.right=V.left,V.right=I,V.left=D,V._color=I._color,I._color=1,D._color=1,O._color=1,r(I),r(D),r(V),z>1&&((j=P[z-2]).right===I?j.right=V:j.left=V),void(P[z-1]=V);if(D._color===1){if(I._color===0)return I._color=1,void(I.left=i(0,D));I.left=i(0,D);continue}var j;D=t(D),I.left=D.right,D.right=I,D._color=I._color,I._color=0,r(I),r(D),z>1&&((j=P[z-2]).right===I?j.right=D:j.left=D),P[z-1]=D,P[z]=I,z+1<P.length?P[z+1]=O:P.push(O),z+=2}}}(y),E.left===m?E.left=null:E.right=null,new n(this.tree._compare,y[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var g=0,y=this._stack;if(y.length===0){var m=this.tree.root;return m?m._count:0}y[y.length-1].left&&(g=y[y.length-1].left._count);for(var w=y.length-2;w>=0;--w)y[w+1]===y[w].right&&(++g,y[w].left&&(g+=y[w].left._count));return g},enumerable:!0}),x.next=function(){var g=this._stack;if(g.length!==0){var y=g[g.length-1];if(y.right)for(y=y.right;y;)g.push(y),y=y.left;else for(g.pop();g.length>0&&g[g.length-1].right===y;)y=g[g.length-1],g.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].right)return!0;for(var y=g.length-1;y>0;--y)if(g[y-1].left===g[y])return!0;return!1}}),x.update=function(g){var y=this._stack;if(y.length===0)throw new Error("Can't update empty node!");var m=new Array(y.length),w=y[y.length-1];m[m.length-1]=new s(w._color,w.key,g,w.left,w.right,w._count);for(var d=y.length-2;d>=0;--d)(w=y[d]).left===y[d+1]?m[d]=new s(w._color,w.key,w.value,m[d+1],w.right,w._count):m[d]=new s(w._color,w.key,w.value,w.left,m[d+1],w._count);return new n(this.tree._compare,m[0])},x.prev=function(){var g=this._stack;if(g.length!==0){var y=g[g.length-1];if(y.left)for(y=y.left;y;)g.push(y),y=y.right;else for(g.pop();g.length>0&&g[g.length-1].left===y;)y=g[g.length-1],g.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var g=this._stack;if(g.length===0)return!1;if(g[g.length-1].left)return!0;for(var y=g.length-1;y>0;--y)if(g[y-1].right===g[y])return!0;return!1}})},3837:function(f,s,t){f.exports=function(O,I){var D=new v(O);return D.update(I),D};var i=t(4935),r=t(501),n=t(5304),a=t(6429),l=t(6444),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=ArrayBuffer,c=DataView;function x(O){return Array.isArray(O)||function(I){return h.isView(I)&&!(I instanceof c)}(O)}function p(O,I){return O[0]=I[0],O[1]=I[1],O[2]=I[2],O}function v(O){this.gl=O,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(O)}var g=v.prototype;function y(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}g.update=function(O){function I(J,re,se){if(se in O){var ue,he=O[se],pe=this[se];(J?x(he)&&x(he[0]):x(he))?this[se]=ue=[re(he[0]),re(he[1]),re(he[2])]:this[se]=ue=[re(he),re(he),re(he)];for(var ge=0;ge<3;++ge)if(ue[ge]!==pe[ge])return!0}return!1}O=O||{};var D,V=I.bind(this,!1,Number),z=I.bind(this,!1,Boolean),j=I.bind(this,!1,String),X=I.bind(this,!0,function(J){if(x(J)){if(J.length===3)return[+J[0],+J[1],+J[2],1];if(J.length===4)return[+J[0],+J[1],+J[2],+J[3]]}return[0,0,0,1]}),F=!1,H=!1;if("bounds"in O)for(var W=O.bounds,ie=0;ie<2;++ie)for(var te=0;te<3;++te)W[ie][te]!==this.bounds[ie][te]&&(H=!0),this.bounds[ie][te]=W[ie][te];if("ticks"in O)for(D=O.ticks,F=!0,this.autoTicks=!1,ie=0;ie<3;++ie)this.tickSpacing[ie]=0;else V("tickSpacing")&&(this.autoTicks=!0,H=!0);if(this._firstInit&&("ticks"in O||"tickSpacing"in O||(this.autoTicks=!0),H=!0,F=!0,this._firstInit=!1),H&&this.autoTicks&&(D=l.create(this.bounds,this.tickSpacing),F=!0),F){for(ie=0;ie<3;++ie)D[ie].sort(function(J,re){return J.x-re.x});l.equal(D,this.ticks)?F=!1:this.ticks=D}z("tickEnable"),j("tickFont")&&(F=!0),j("tickFontStyle")&&(F=!0),j("tickFontWeight")&&(F=!0),j("tickFontVariant")&&(F=!0),V("tickSize"),V("tickAngle"),V("tickPad"),X("tickColor");var Q=j("labels");j("labelFont")&&(Q=!0),j("labelFontStyle")&&(Q=!0),j("labelFontWeight")&&(Q=!0),j("labelFontVariant")&&(Q=!0),z("labelEnable"),V("labelSize"),V("labelPad"),X("labelColor"),z("lineEnable"),z("lineMirror"),V("lineWidth"),X("lineColor"),z("lineTickEnable"),z("lineTickMirror"),V("lineTickLength"),V("lineTickWidth"),X("lineTickColor"),z("gridEnable"),V("gridWidth"),X("gridColor"),z("zeroEnable"),X("zeroLineColor"),V("zeroLineWidth"),z("backgroundEnable"),X("backgroundColor");var ne=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],$=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(Q||F)&&this._text.update(this.bounds,this.labels,ne,this.ticks,$):this._text=i(this.gl,this.bounds,this.labels,ne,this.ticks,$),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var m=[new y,new y,new y];function w(O,I,D,V,z){for(var j=O.primalOffset,X=O.primalMinor,F=O.mirrorOffset,H=O.mirrorMinor,W=V[I],ie=0;ie<3;++ie)if(I!==ie){var te=j,Q=F,ne=X,$=H;W&1<<ie&&(te=F,Q=j,ne=H,$=X),te[ie]=D[0][ie],Q[ie]=D[1][ie],z[ie]>0?(ne[ie]=-1,$[ie]=0):(ne[ie]=0,$[ie]=1)}}var d=[0,0,0],S={model:u,view:u,projection:u,_ortho:!1};g.isOpaque=function(){return!0},g.isTransparent=function(){return!1},g.drawTransparent=function(O){};var A=[0,0,0],E=[0,0,0],P=[0,0,0];g.draw=function(O){O=O||S;for(var I=this.gl,D=O.model||u,V=O.view||u,z=O.projection||u,j=this.bounds,X=O._ortho||!1,F=a(D,V,z,j,X),H=F.cubeEdges,W=F.axis,ie=V[12],te=V[13],Q=V[14],ne=V[15],$=(X?2:1)*this.pixelRatio*(z[3]*ie+z[7]*te+z[11]*Q+z[15]*ne)/I.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=H[J],this.lastCubeProps.axis[J]=W[J];var re=m;for(J=0;J<3;++J)w(m[J],J,this.bounds,H,W);I=this.gl;var se,ue,he,pe=d;for(J=0;J<3;++J)this.backgroundEnable[J]?pe[J]=W[J]:pe[J]=0;for(this._background.draw(D,V,z,j,pe,this.backgroundColor),this._lines.bind(D,V,z,this),J=0;J<3;++J){var ge=[0,0,0];W[J]>0?ge[J]=j[1][J]:ge[J]=j[0][J];for(var ye=0;ye<2;++ye){var be=(J+1+ye)%3,Te=(J+1+(1^ye))%3;this.gridEnable[be]&&this._lines.drawGrid(be,Te,this.bounds,ge,this.gridColor[be],this.gridWidth[be]*this.pixelRatio)}for(ye=0;ye<2;++ye)be=(J+1+ye)%3,Te=(J+1+(1^ye))%3,this.zeroEnable[Te]&&Math.min(j[0][Te],j[1][Te])<=0&&Math.max(j[0][Te],j[1][Te])>=0&&this._lines.drawZero(be,Te,this.bounds,ge,this.zeroLineColor[Te],this.zeroLineWidth[Te]*this.pixelRatio)}for(J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,re[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,re[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);var Se=p(A,re[J].primalMinor),Fe=p(E,re[J].mirrorMinor),xe=this.lineTickLength;for(ye=0;ye<3;++ye){var le=$/D[5*ye];Se[ye]*=xe[ye]*le,Fe[ye]*=xe[ye]*le}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,re[J].primalOffset,Se,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,re[J].mirrorOffset,Fe,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}function oe(ze){(he=[0,0,0])[ze]=1}function de(ze,Re,ve){var ke=(ze+1)%3,Ee=(ze+2)%3,De=Re[ke],Pe=Re[Ee],Ue=ve[ke],We=ve[Ee];De>0&&We>0||De>0&&We<0||De<0&&We>0||De<0&&We<0?oe(ke):(Pe>0&&Ue>0||Pe>0&&Ue<0||Pe<0&&Ue>0||Pe<0&&Ue<0)&&oe(Ee)}for(this._lines.unbind(),this._text.bind(D,V,z,this.pixelRatio),J=0;J<3;++J){var Ce=re[J].primalMinor,_e=re[J].mirrorMinor,Ae=p(P,re[J].primalOffset);for(ye=0;ye<3;++ye)this.lineTickEnable[J]&&(Ae[ye]+=$*Ce[ye]*Math.max(this.lineTickLength[ye],0)/D[5*ye]);var Le=[0,0,0];if(Le[J]=1,this.tickEnable[J]){for(this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,ue=1,(se=[this.tickAlign[J],.5,ue])[0]==="auto"?se[0]=0:se[0]=parseInt(""+se[0]),he=[0,0,0],de(J,Ce,_e),ye=0;ye<3;++ye)Ae[ye]+=$*Ce[ye]*this.tickPad[ye]/D[5*ye];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ae,this.tickColor[J],Le,he,se)}if(this.labelEnable[J]){for(ue=0,he=[0,0,0],this.labels[J].length>4&&(oe(J),ue=1),(se=[this.labelAlign[J],.5,ue])[0]==="auto"?se[0]=0:se[0]=parseInt(""+se[0]),ye=0;ye<3;++ye)Ae[ye]+=$*Ce[ye]*this.labelPad[ye]/D[5*ye];Ae[J]+=.5*(j[0][J]+j[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ae,this.labelColor[J],[0,0,0],he,se)}}this._text.unbind()},g.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(f,s,t){f.exports=function(u){for(var h=[],c=[],x=0,p=0;p<3;++p)for(var v=(p+1)%3,g=(p+2)%3,y=[0,0,0],m=[0,0,0],w=-1;w<=1;w+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),y[p]=w,m[p]=w;for(var d=-1;d<=1;d+=2){y[v]=d;for(var S=-1;S<=1;S+=2)y[g]=S,h.push(y[0],y[1],y[2],m[0],m[1],m[2]),x+=1}var A=v;v=g,g=A}var E=i(u,new Float32Array(h)),P=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),O=r(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],P),I=n(u);return I.attributes.position.location=0,I.attributes.normal.location=1,new a(u,E,O,I)};var i=t(2762),r=t(8116),n=t(1879).bg;function a(u,h,c,x){this.gl=u,this.buffer=h,this.vao=c,this.shader=x}var l=a.prototype;l.draw=function(u,h,c,x,p,v){for(var g=!1,y=0;y<3;++y)g=g||p[y];if(g){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:h,projection:c,bounds:x,enable:p,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(f,s,t){f.exports=function(d,S,A,E,P){r(l,S,d),r(l,A,l);for(var O=0,I=0;I<2;++I){c[2]=E[I][2];for(var D=0;D<2;++D){c[1]=E[D][1];for(var V=0;V<2;++V)c[0]=E[V][0],p(u[O],c,l),O+=1}}var z=-1;for(I=0;I<8;++I){for(var j=u[I][3],X=0;X<3;++X)h[I][X]=u[I][X]/j;P&&(h[I][2]*=-1),j<0&&(z<0||h[I][2]<h[z][2])&&(z=I)}if(z<0){z=0;for(var F=0;F<3;++F){for(var H=(F+2)%3,W=(F+1)%3,ie=-1,te=-1,Q=0;Q<2;++Q){var ne=(J=Q<<F)+(Q<<H)+(1-Q<<W),$=J+(1-Q<<H)+(Q<<W);a(h[J],h[ne],h[$],x)<0||(Q?ie=1:te=1)}if(ie<0||te<0)te>ie&&(z|=1<<F);else{for(Q=0;Q<2;++Q){ne=(J=Q<<F)+(Q<<H)+(1-Q<<W),$=J+(1-Q<<H)+(Q<<W);var J,re=g([u[J],u[ne],u[$],u[J+(1<<H)+(1<<W)]]);Q?ie=re:te=re}te>ie&&(z|=1<<F)}}}var se=7^z,ue=-1;for(I=0;I<8;++I)I!==z&&I!==se&&(ue<0||h[ue][1]>h[I][1])&&(ue=I);var he=-1;for(I=0;I<3;++I)(ge=ue^1<<I)!==z&&ge!==se&&(he<0&&(he=ge),(W=h[ge])[0]<h[he][0]&&(he=ge));var pe=-1;for(I=0;I<3;++I){var ge;(ge=ue^1<<I)!==z&&ge!==se&&ge!==he&&(pe<0&&(pe=ge),(W=h[ge])[0]>h[pe][0]&&(pe=ge))}var ye=y;ye[0]=ye[1]=ye[2]=0,ye[i.log2(he^ue)]=ue&he,ye[i.log2(ue^pe)]=ue&pe;var be=7^pe;be===z||be===se?(be=7^he,ye[i.log2(pe^be)]=be&pe):ye[i.log2(he^be)]=be&he;var Te=m,Se=z;for(F=0;F<3;++F)Te[F]=Se&1<<F?-1:1;return w};var i=t(8828),r=t(6760),n=t(5202),a=t(3250),l=new Array(16),u=new Array(8),h=new Array(8),c=new Array(3),x=[0,0,0];function p(d,S,A){for(var E=0;E<4;++E){d[E]=A[12+E];for(var P=0;P<3;++P)d[E]+=S[P]*A[4*P+E]}}(function(){for(var d=0;d<8;++d)u[d]=[1,1,1,1],h[d]=[1,1,1]})();var v=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function g(d){for(var S=0;S<v.length;++S)if((d=n.positive(d,v[S])).length<3)return 0;var A=d[0],E=A[0]/A[3],P=A[1]/A[3],O=0;for(S=1;S+1<d.length;++S){var I=d[S],D=d[S+1],V=I[0]/I[3]-E,z=I[1]/I[3]-P,j=D[0]/D[3]-E,X=D[1]/D[3]-P;O+=Math.abs(V*X-z*j)}return O}var y=[1,1,1],m=[0,0,0],w={cubeEdges:y,axis:m}},501:function(f,s,t){f.exports=function(y,m,w){var d=[],S=[0,0,0],A=[0,0,0],E=[0,0,0],P=[0,0,0];d.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var I=d.length/3|0,D=0;D<w[O].length;++D){var V=+w[O][D].x;d.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var z=d.length/3|0;S[O]=I,A[O]=z-I,I=d.length/3|0;for(var j=0;j<w[O].length;++j)V=+w[O][j].x,d.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1);z=d.length/3|0,E[O]=I,P[O]=z-I}var X=i(y,new Float32Array(d)),F=r(y,[{buffer:X,type:y.FLOAT,size:3,stride:0,offset:0}]),H=n(y);return H.attributes.position.location=0,new v(y,X,F,H,A,S,P,E)};var i=t(2762),r=t(8116),n=t(1879).n,a=[0,0,0],l=[0,0,0],u=[0,0,0],h=[0,0,0],c=[1,1];function x(y){return y[0]=y[1]=y[2]=0,y}function p(y,m){return y[0]=m[0],y[1]=m[1],y[2]=m[2],y}function v(y,m,w,d,S,A,E,P){this.gl=y,this.vertBuffer=m,this.vao=w,this.shader=d,this.tickCount=S,this.tickOffset=A,this.gridCount=E,this.gridOffset=P}var g=v.prototype;g.bind=function(y,m,w){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=m,this.shader.uniforms.projection=w,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},g.unbind=function(){this.vao.unbind()},g.drawAxisLine=function(y,m,w,d,S){var A=x(l);this.shader.uniforms.majorAxis=l,A[y]=m[1][y]-m[0][y],this.shader.uniforms.minorAxis=A;var E,P=p(h,w);P[y]+=m[0][y],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=d,(E=x(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=x(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},g.drawAxisTicks=function(y,m,w,d,S){if(this.tickCount[y]){var A=x(a);A[y]=1,this.shader.uniforms.majorAxis=A,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=d,this.shader.uniforms.lineWidth=S;var E=x(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},g.drawGrid=function(y,m,w,d,S,A){if(this.gridCount[y]){var E=x(l);E[m]=w[1][m]-w[0][m],this.shader.uniforms.minorAxis=E;var P=p(h,d);P[m]+=w[0][m],this.shader.uniforms.offset=P;var O=x(a);O[y]=1,this.shader.uniforms.majorAxis=O;var I=x(u);I[y]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},g.drawZero=function(y,m,w,d,S,A){var E=x(l);this.shader.uniforms.majorAxis=E,E[y]=w[1][y]-w[0][y],this.shader.uniforms.minorAxis=E;var P=p(h,d);P[y]+=w[0][y],this.shader.uniforms.offset=P;var O=x(u);O[m]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},g.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(f,s,t){var i=t(3236),r=t(9405),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.n=function(x){return r(x,n,a,null,[{name:"position",type:"vec3"}])};var l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.Q=function(x){return r(x,l,u,null,[{name:"position",type:"vec3"}])};var h=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(x){return r(x,h,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(f,s,t){f.exports=function(p,v,g,y,m,w){var d=i(p),S=r(p,[{buffer:d,size:3}]),A=a(p);A.attributes.position.location=0;var E=new h(p,A,d,S);return E.update(v,g,y,m,w),E};var i=t(2762),r=t(8116),n=t(4359),a=t(1879).Q,l=window||T.global||{},u=l.__TEXT_CACHE||{};function h(p,v,g,y){this.gl=p,this.shader=v,this.buffer=g,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=h.prototype,x=[0,0];c.bind=function(p,v,g,y){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=p,m.view=v,m.projection=g,m.pixelScale=y,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(p,v,g,y,m){var w=[];function d(z,j,X,F,H,W){var ie=[X.style,X.weight,X.variant,X.family].join("_"),te=u[ie];te||(te=u[ie]={});var Q=te[j];Q||(Q=te[j]=function(ge,ye){try{return n(ge,ye)}catch(be){return console.warn('error vectorizing text:"'+ge+'" error:',be),{cells:[],positions:[]}}}(j,{triangles:!0,font:X.family,fontStyle:X.style,fontWeight:X.weight,fontVariant:X.variant,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:W}));for(var ne=(F||12)/12,$=Q.positions,J=Q.cells,re=0,se=J.length;re<se;++re)for(var ue=J[re],he=2;he>=0;--he){var pe=$[ue[he]];w.push(ne*pe[0],-ne*pe[1],z)}}for(var S=[0,0,0],A=[0,0,0],E=[0,0,0],P=[0,0,0],O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){E[I]=w.length/3|0,d(.5*(p[0][I]+p[1][I]),v[I],g[I],12,1.25,O),P[I]=(w.length/3|0)-E[I],S[I]=w.length/3|0;for(var D=0;D<y[I].length;++D)if(y[I][D].text){var V={family:y[I][D].font||m[I].family,style:m[I].fontStyle||m[I].style,weight:m[I].fontWeight||m[I].weight,variant:m[I].fontVariant||m[I].variant};d(y[I][D].x,y[I][D].text,V,y[I][D].fontSize||12,1.25,O)}A[I]=(w.length/3|0)-S[I]}this.buffer.update(w),this.tickOffset=S,this.tickCount=A,this.labelOffset=E,this.labelCount=P},c.drawTicks=function(p,v,g,y,m,w,d,S){this.tickCount[p]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=g,this.shader.uniforms.scale=v,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[p],this.tickOffset[p]))},c.drawLabel=function(p,v,g,y,m,w,d,S){this.labelCount[p]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=g,this.shader.uniforms.scale=v,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[p],this.labelOffset[p]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(f,s){function t(i,r){var n=i+"",a=n.indexOf("."),l=0;a>=0&&(l=n.length-a-1);var u=Math.pow(10,l),h=Math.round(i*r*u),c=h+"";if(c.indexOf("e")>=0)return c;var x=h/u,p=h%u;h<0?(x=0|-Math.ceil(x),p=0|-p):(x=0|Math.floor(x),p|=0);var v=""+x;if(h<0&&(v="-"+v),l){for(var g=""+p;g.length<l;)g="0"+g;return v+"."+g}return v}s.create=function(i,r){for(var n=[],a=0;a<3;++a){for(var l=[],u=(i[0][a],i[1][a],0);u*r[a]<=i[1][a];++u)l.push({x:u*r[a],text:t(r[a],u)});for(u=-1;u*r[a]>=i[0][a];--u)l.push({x:u*r[a],text:t(r[a],u)});n.push(l)}return n},s.equal=function(i,r){for(var n=0;n<3;++n){if(i[n].length!==r[n].length)return!1;for(var a=0;a<i[n].length;++a){var l=i[n][a],u=r[n][a];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},5445:function(f,s,t){f.exports=function(w,d,S,A,E){var P=d.model||h,O=d.view||h,I=d.projection||h,D=d._ortho||!1,V=w.bounds,z=(E=E||n(P,O,I,V,D)).axis;a(c,O,P),a(c,I,c);for(var j=y,X=0;X<3;++X)j[X].lo=1/0,j[X].hi=-1/0,j[X].pixelsPerDataUnit=1/0;var F=i(l(c,c));l(c,c);for(var H=0;H<3;++H){var W=(H+1)%3,ie=(H+2)%3,te=m;e:for(X=0;X<2;++X){var Q=[];if(z[H]<0!=!!X){te[H]=V[X][H];for(var ne=0;ne<2;++ne){te[W]=V[ne^X][W];for(var $=0;$<2;++$)te[ie]=V[$^ne^X][ie],Q.push(te.slice())}var J=D?5:4;for(ne=J;ne===J;++ne){if(Q.length===0)continue e;Q=r.positive(Q,F[ne])}for(ne=0;ne<Q.length;++ne){ie=Q[ne];var re=g(m,c,ie,S,A);for($=0;$<3;++$)j[$].lo=Math.min(j[$].lo,ie[$]),j[$].hi=Math.max(j[$].hi,ie[$]),$!==H&&(j[$].pixelsPerDataUnit=Math.min(j[$].pixelsPerDataUnit,Math.abs(re[$])))}}}}return j};var i=t(5033),r=t(5202),n=t(6429),a=t(6760),l=t(5665),u=t(5352),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(w,d,S){this.lo=w,this.hi=d,this.pixelsPerDataUnit=S}var p=[0,0,0,1],v=[0,0,0,1];function g(w,d,S,A,E){for(var P=0;P<3;++P){for(var O=p,I=v,D=0;D<3;++D)I[D]=O[D]=S[D];I[3]=O[3]=1,I[P]+=1,u(I,I,d),I[3]<0&&(w[P]=1/0),O[P]-=1,u(O,O,d),O[3]<0&&(w[P]=1/0);var V=(O[0]/O[3]-I[0]/I[3])*A,z=(O[1]/O[3]-I[1]/I[3])*E;w[P]=.25*Math.sqrt(V*V+z*z)}return w}var y=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],m=[0,0,0]},2762:function(f,s,t){var i=t(1888),r=t(5298),n=t(9618),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(x,p,v,g,y){this.gl=x,this.type=p,this.handle=v,this.length=g,this.usage=y}var u=l.prototype;function h(x,p,v,g,y,m){var w=y.length*y.BYTES_PER_ELEMENT;if(m<0)return x.bufferData(p,y,g),w;if(w+m>v)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(p,m,y),v}function c(x,p){for(var v=i.malloc(x.length,p),g=x.length,y=0;y<g;++y)v[y]=x[y];return v}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(x,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof x=="object"&&x.shape!==void 0){var v=x.dtype;if(a.indexOf(v)<0&&(v="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(v=gl.getExtension("OES_element_index_uint")&&v!=="uint16"?"uint32":"uint16"),v===x.dtype&&function(w,d){for(var S=1,A=d.length-1;A>=0;--A){if(d[A]!==S)return!1;S*=w[A]}return!0}(x.shape,x.stride))x.offset===0&&x.data.length===x.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,x.data,p):this.length=h(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),p);else{var g=i.malloc(x.size,v),y=n(g,x.shape);r.assign(y,x),this.length=h(this.gl,this.type,this.length,this.usage,p<0?g:g.subarray(0,x.size),p),i.free(g)}}else if(Array.isArray(x)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(x,"uint16"):c(x,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,p<0?m:m.subarray(0,x.length),p),i.free(m)}else if(typeof x=="object"&&typeof x.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,x,p);else{if(typeof x!="number"&&x!==void 0)throw new Error("gl-buffer: Invalid data type");if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},f.exports=function(x,p,v,g){if(v=v||x.ARRAY_BUFFER,g=g||x.DYNAMIC_DRAW,v!==x.ARRAY_BUFFER&&v!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(g!==x.DYNAMIC_DRAW&&g!==x.STATIC_DRAW&&g!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=x.createBuffer(),m=new l(x,v,y,0,g);return m.update(p),m}},6405:function(f,s,t){var i=t(2931);f.exports=function(n,a){var l=n.positions,u=n.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return a&&(a[0]=[0,0,0],a[1]=[0,0,0]),h;for(var c=0,x=1/0,p=-1/0,v=1/0,g=-1/0,y=1/0,m=-1/0,w=null,d=null,S=[],A=1/0,E=!1,P=n.coneSizemode==="raw",O=0;O<l.length;O++){var I=l[O];x=Math.min(I[0],x),p=Math.max(I[0],p),v=Math.min(I[1],v),g=Math.max(I[1],g),y=Math.min(I[2],y),m=Math.max(I[2],m);var D=u[O];if(i.length(D)>c&&(c=i.length(D)),O&&!P){var V=2*i.distance(w,I)/(i.length(d)+i.length(D));V?(A=Math.min(A,V),E=!1):E=!0}E||(w=I,d=D),S.push(D)}var z=[x,v,y],j=[p,g,m];a&&(a[0]=z,a[1]=j),c===0&&(c=1);var X=1/c;isFinite(A)||(A=1),h.vectorScale=A;var F=n.coneSize||(P?1:.5);n.absoluteConeSize&&(F=n.absoluteConeSize*X),h.coneScale=F,O=0;for(var H=0;O<l.length;O++)for(var W=(I=l[O])[0],ie=I[1],te=I[2],Q=S[O],ne=i.length(Q)*X,$=0;$<8;$++){h.positions.push([W,ie,te,H++]),h.positions.push([W,ie,te,H++]),h.positions.push([W,ie,te,H++]),h.positions.push([W,ie,te,H++]),h.positions.push([W,ie,te,H++]),h.positions.push([W,ie,te,H++]),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vectors.push(Q),h.vertexIntensity.push(ne,ne,ne),h.vertexIntensity.push(ne,ne,ne);var J=h.positions.length;h.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return h};var r=t(614);f.exports.createMesh=t(9060),f.exports.createConeMesh=function(n,a){return f.exports.createMesh(n,a,{shaders:r,traceType:"cone"})}},9060:function(f,s,t){var i=t(9405),r=t(2762),n=t(8116),a=t(7766),l=t(6760),u=t(7608),h=t(9618),c=t(6729),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(g,y,m,w,d,S,A,E,P,O,I){this.gl=g,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=m,this.pickShader=w,this.trianglePositions=d,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=P,this.triangleIds=A,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var v=p.prototype;v.isOpaque=function(){return this.opacity>=1},v.isTransparent=function(){return this.opacity<1},v.pickSlots=1,v.setPickBase=function(g){this.pickId=g},v.update=function(g){g=g||{};var y=this.gl;this.dirty=!0,"lightPosition"in g&&(this.lightPosition=g.lightPosition),"opacity"in g&&(this.opacity=g.opacity),"ambient"in g&&(this.ambientLight=g.ambient),"diffuse"in g&&(this.diffuseLight=g.diffuse),"specular"in g&&(this.specularLight=g.specular),"roughness"in g&&(this.roughness=g.roughness),"fresnel"in g&&(this.fresnel=g.fresnel),g.tubeScale!==void 0&&(this.tubeScale=g.tubeScale),g.vectorScale!==void 0&&(this.vectorScale=g.vectorScale),g.coneScale!==void 0&&(this.coneScale=g.coneScale),g.coneOffset!==void 0&&(this.coneOffset=g.coneOffset),g.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(re){for(var se=c({colormap:re,nshades:256,format:"rgba"}),ue=new Uint8Array(1024),he=0;he<256;++he){for(var pe=se[he],ge=0;ge<3;++ge)ue[4*he+ge]=pe[ge];ue[4*he+3]=255*pe[3]}return h(ue,[256,256,4],[4,0,1])}(g.colormap)),this.texture.generateMipmap());var m=g.cells,w=g.positions,d=g.vectors;if(w&&m&&d){var S=[],A=[],E=[],P=[],O=[];this.cells=m,this.positions=w,this.vectors=d;var I=g.meshColor||[1,1,1,1],D=g.vertexIntensity,V=1/0,z=-1/0;if(D)if(g.vertexIntensityBounds)V=+g.vertexIntensityBounds[0],z=+g.vertexIntensityBounds[1];else for(var j=0;j<D.length;++j){var X=D[j];V=Math.min(V,X),z=Math.max(z,X)}else for(j=0;j<w.length;++j)X=w[j][2],V=Math.min(V,X),z=Math.max(z,X);for(this.intensity=D||function(re){for(var se=re.length,ue=new Array(se),he=0;he<se;++he)ue[he]=re[he][2];return ue}(w),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],j=0;j<w.length;++j)for(var F=w[j],H=0;H<3;++H)!isNaN(F[H])&&isFinite(F[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],F[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],F[H]));var W=0;e:for(j=0;j<m.length;++j){var ie=m[j];if(ie.length===3){for(H=0;H<3;++H){F=w[Q=ie[H]];for(var te=0;te<3;++te)if(isNaN(F[te])||!isFinite(F[te]))continue e}for(H=0;H<3;++H){var Q;F=w[Q=ie[2-H]],S.push(F[0],F[1],F[2],F[3]);var ne=d[Q];A.push(ne[0],ne[1],ne[2],ne[3]||0);var $,J=I;J.length===3?E.push(J[0],J[1],J[2],1):E.push(J[0],J[1],J[2],J[3]),$=D?[(D[Q]-V)/(z-V),0]:[(F[2]-V)/(z-V),0],P.push($[0],$[1]),O.push(j)}W+=1}}this.triangleCount=W,this.trianglePositions.update(S),this.triangleVectors.update(A),this.triangleColors.update(E),this.triangleUVs.update(P),this.triangleIds.update(new Uint32Array(O))}},v.drawTransparent=v.draw=function(g){g=g||{};for(var y=this.gl,m=g.model||x,w=g.view||x,d=g.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],A=0;A<3;++A)S[0][A]=Math.max(S[0][A],this.clipBounds[0][A]),S[1][A]=Math.min(S[1][A],this.clipBounds[1][A]);var E={model:m,view:w,projection:d,inverseModel:x.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var P=new Array(16);for(l(P,E.view,E.model),l(P,E.projection,P),u(P,P),A=0;A<3;++A)E.eyePosition[A]=P[12+A]/P[15];var O=P[15];for(A=0;A<3;++A)O+=this.lightPosition[A]*P[4*A+3];for(A=0;A<3;++A){for(var I=P[12+A],D=0;D<3;++D)I+=P[4*D+A]*this.lightPosition[D];E.lightPosition[A]=I/O}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},v.drawPick=function(g){g=g||{};for(var y=this.gl,m=g.model||x,w=g.view||x,d=g.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],A=0;A<3;++A)S[0][A]=Math.max(S[0][A],this.clipBounds[0][A]),S[1][A]=Math.min(S[1][A],this.clipBounds[1][A]);this._model=[].slice.call(m),this._view=[].slice.call(w),this._projection=[].slice.call(d),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:m,view:w,projection:d,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},P=this.pickShader;P.bind(),P.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},v.pick=function(g){if(!g||g.id!==this.pickId)return null;var y=g.value[0]+256*g.value[1]+65536*g.value[2],m=this.cells[y],w=this.positions[m[1]].slice(0,3),d={position:w,dataCoordinate:w,index:Math.floor(m[1]/48)};return this.traceType==="cone"?d.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(d.intensity=this.intensity[m[1]],d.velocity=this.vectors[m[1]].slice(0,3),d.divergence=this.vectors[m[1]][3],d.index=y),d},v.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},f.exports=function(g,y,m){var w=m.shaders;arguments.length===1&&(g=(y=g).gl);var d=function(z,j){var X=i(z,j.meshShader.vertex,j.meshShader.fragment,null,j.meshShader.attributes);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.vector.location=4,X}(g,w),S=function(z,j){var X=i(z,j.pickShader.vertex,j.pickShader.fragment,null,j.pickShader.attributes);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.vector.location=4,X}(g,w),A=a(g,h(new Uint8Array([255,255,255,255]),[1,1,4]));A.generateMipmap(),A.minFilter=g.LINEAR_MIPMAP_LINEAR,A.magFilter=g.LINEAR;var E=r(g),P=r(g),O=r(g),I=r(g),D=r(g),V=new p(g,A,d,S,E,P,D,O,I,n(g,[{buffer:E,type:g.FLOAT,size:4},{buffer:D,type:g.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:g.FLOAT,size:4},{buffer:I,type:g.FLOAT,size:2},{buffer:P,type:g.FLOAT,size:4}]),m.traceType||"cone");return V.update(y),V}},614:function(f,s,t){var i=t(3236),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(f){f.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(f,s,t){var i=t(737);f.exports=function(r){return i[r]}},9165:function(f,s,t){f.exports=function(p){var v=p.gl,g=i(v),y=r(v,[{buffer:g,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:g,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:g,type:v.FLOAT,size:3,offset:28,stride:40}]),m=n(v);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var w=new l(v,g,y,m);return w.update(p),w};var i=t(2762),r=t(8116),n=t(3436),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(p,v,g,y){this.gl=p,this.shader=y,this.buffer=v,this.vao=g,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function h(p,v){for(var g=0;g<3;++g)p[0][g]=Math.min(p[0][g],v[g]),p[1][g]=Math.max(p[1][g],v[g])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(p){var v=this.gl,g=this.shader.uniforms;this.shader.bind();var y=g.view=p.view||a,m=g.projection=p.projection||a;g.model=p.model||a,g.clipBounds=this.clipBounds,g.opacity=this.opacity;var w=y[12],d=y[13],S=y[14],A=y[15],E=(p._ortho?2:1)*this.pixelRatio*(m[3]*w+m[7]*d+m[11]*S+m[15]*A)/v.drawingBufferHeight;this.vao.bind();for(var P=0;P<3;++P)v.lineWidth(this.lineWidth[P]*this.pixelRatio),g.capSize=this.capSize[P]*E,this.lineCount[P]&&v.drawArrays(v.LINES,this.lineOffset[P],this.lineCount[P]);this.vao.unbind()};var c=function(){for(var p=new Array(3),v=0;v<3;++v){for(var g=[],y=1;y<=2;++y)for(var m=-1;m<=1;m+=2){var w=[0,0,0];w[(y+v)%3]=m,g.push(w)}p[v]=g}return p}();function x(p,v,g,y){for(var m=c[y],w=0;w<m.length;++w){var d=m[w];p.push(v[0],v[1],v[2],g[0],g[1],g[2],g[3],d[0],d[1],d[2])}return m.length}u.update=function(p){"lineWidth"in(p=p||{})&&(this.lineWidth=p.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in p&&(this.capSize=p.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in p&&(this.opacity=+p.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=p.color||[[0,0,0],[0,0,0],[0,0,0]],g=p.position,y=p.error;if(Array.isArray(v[0])||(v=[v,v,v]),g&&y){var m=[],w=g.length,d=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=d;e:for(var A=0;A<w;++A){for(var E=g[A],P=0;P<3;++P)if(isNaN(E[P])||!isFinite(E[P]))continue e;var O,I=y[A],D=v[S];Array.isArray(D[0])&&(D=v[A]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!isNaN(I[0][S])&&!isNaN(I[1][S])&&(I[0][S]<0&&((O=E.slice())[S]+=I[0][S],m.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,O[0],O[1],O[2],D[0],D[1],D[2],D[3],0,0,0),h(this.bounds,O),d+=2+x(m,O,D,S)),I[1][S]>0&&((O=E.slice())[S]+=I[1][S],m.push(E[0],E[1],E[2],D[0],D[1],D[2],D[3],0,0,0,O[0],O[1],O[2],D[0],D[1],D[2],D[3],0,0,0),h(this.bounds,O),d+=2+x(m,O,D,S)))}this.lineCount[S]=d-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(f,s,t){var i=t(3236),r=t(9405),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);f.exports=function(l){return r(l,n,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(f,s,t){var i=t(7766);f.exports=function(w,d,S,A){r||(r=w.FRAMEBUFFER_UNSUPPORTED,n=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=w.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(j,X){var F=j.getParameter(X.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var H=0;H<=F;++H){for(var W=new Array(F),ie=0;ie<H;++ie)W[ie]=j.COLOR_ATTACHMENT0+ie;for(ie=H;ie<F;++ie)W[ie]=j.NONE;u[H]=W}}(w,E),Array.isArray(d)&&(A=S,S=0|d[1],d=0|d[0]),typeof d!="number")throw new Error("gl-fbo: Missing shape parameter");var P=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(d<0||d>P||S<0||S>P)throw new Error("gl-fbo: Parameters are too large for FBO");var O=1;if("color"in(A=A||{})){if((O=Math.max(0|A.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(O>w.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}}var I=w.UNSIGNED_BYTE,D=w.getExtension("OES_texture_float");if(A.float&&O>0){if(!D)throw new Error("gl-fbo: Context does not support floating point textures");I=w.FLOAT}else A.preferFloat&&O>0&&D&&(I=w.FLOAT);var V=!0;"depth"in A&&(V=!!A.depth);var z=!1;return"stencil"in A&&(z=!!A.stencil),new g(w,d,S,I,O,V,z,E)};var r,n,a,l,u=null;function h(w){return[w.getParameter(w.FRAMEBUFFER_BINDING),w.getParameter(w.RENDERBUFFER_BINDING),w.getParameter(w.TEXTURE_BINDING_2D)]}function c(w,d){w.bindFramebuffer(w.FRAMEBUFFER,d[0]),w.bindRenderbuffer(w.RENDERBUFFER,d[1]),w.bindTexture(w.TEXTURE_2D,d[2])}function x(w){switch(w){case r:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function p(w,d,S,A,E,P){if(!A)return null;var O=i(w,d,S,E,A);return O.magFilter=w.NEAREST,O.minFilter=w.NEAREST,O.mipSamples=1,O.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,P,w.TEXTURE_2D,O.handle,0),O}function v(w,d,S,A,E){var P=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,P),w.renderbufferStorage(w.RENDERBUFFER,A,d,S),w.framebufferRenderbuffer(w.FRAMEBUFFER,E,w.RENDERBUFFER,P),P}function g(w,d,S,A,E,P,O,I){this.gl=w,this._shape=[0|d,0|S],this._destroyed=!1,this._ext=I,this.color=new Array(E);for(var D=0;D<E;++D)this.color[D]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=P,this._useStencil=O;var V=this,z=[0|d,0|S];Object.defineProperties(z,{0:{get:function(){return V._shape[0]},set:function(j){return V.width=j}},1:{get:function(){return V._shape[1]},set:function(j){return V.height=j}}}),this._shapeVector=z,function(j){var X=h(j.gl),F=j.gl,H=j.handle=F.createFramebuffer(),W=j._shape[0],ie=j._shape[1],te=j.color.length,Q=j._ext,ne=j._useStencil,$=j._useDepth,J=j._colorType;F.bindFramebuffer(F.FRAMEBUFFER,H);for(var re=0;re<te;++re)j.color[re]=p(F,W,ie,J,F.RGBA,F.COLOR_ATTACHMENT0+re);te===0?(j._color_rb=v(F,W,ie,F.RGBA4,F.COLOR_ATTACHMENT0),Q&&Q.drawBuffersWEBGL(u[0])):te>1&&Q.drawBuffersWEBGL(u[te]);var se=F.getExtension("WEBGL_depth_texture");se?ne?j.depth=p(F,W,ie,se.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):$&&(j.depth=p(F,W,ie,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):$&&ne?j._depth_rb=v(F,W,ie,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):$?j._depth_rb=v(F,W,ie,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):ne&&(j._depth_rb=v(F,W,ie,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var ue=F.checkFramebufferStatus(F.FRAMEBUFFER);if(ue!==F.FRAMEBUFFER_COMPLETE){for(j._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(j.handle),j.handle=null,j.depth&&(j.depth.dispose(),j.depth=null),j._depth_rb&&(F.deleteRenderbuffer(j._depth_rb),j._depth_rb=null),re=0;re<j.color.length;++re)j.color[re].dispose(),j.color[re]=null;j._color_rb&&(F.deleteRenderbuffer(j._color_rb),j._color_rb=null),c(F,X),x(ue)}c(F,X)}(this)}var y=g.prototype;function m(w,d,S){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(w._shape[0]!==d||w._shape[1]!==S){var A=w.gl,E=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(d<0||d>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=d,w._shape[1]=S;for(var P=h(A),O=0;O<w.color.length;++O)w.color[O].shape=w._shape;w._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,w._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,w._shape[0],w._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,w.handle);var I=A.checkFramebufferStatus(A.FRAMEBUFFER);I!==A.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(A,P),x(I)),c(A,P)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[0|w,0|w]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var d=0|w[0],S=0|w[1];return m(this,d,S),[d,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return m(this,w|=0,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w|=0,m(this,this._shape[0],w),w},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var d=0;d<this.color.length;++d)this.color[d].dispose(),this.color[d]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(f,s,t){var i=t(3387).sprintf,r=t(5171),n=t(1848),a=t(1085);f.exports=function(l,u,h){var c=n(u)||"of unknown name (see npm glsl-shader-name)",x="unknown type";h!==void 0&&(x=h===r.FRAGMENT_SHADER?"fragment":"vertex");for(var p=i(`Error compiling %s shader %s:
`,x,c),v=i("%s%s",p,l),g=l.split(`
`),y={},m=0;m<g.length;m++){var w=g[m];if(w!==""&&w!=="\0"){var d=parseInt(w.split(":")[2]);if(isNaN(d))throw new Error(i("Could not parse error: %s",w));y[d]=w}}var S=a(u).split(`
`);for(m=0;m<S.length;m++)if((y[m+3]||y[m+2]||y[m+1])&&(p+=S[m]+`
`,y[m+1])){var A=y[m+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),p+=i(`^^^ %s

`,A)}return{long:p.trim(),short:v.trim()}}},2510:function(f,s,t){f.exports=function(v,g){var y=v.gl,m=new h(v,a(y,u.vertex,u.fragment),a(y,u.pickVertex,u.pickFragment),l(y),l(y),l(y),l(y));return m.update(g),v.addObject(m),m};var i=t(2478),r=t(7762),n=t(1888),a=t(9405),l=t(2762),u=t(6768);function h(v,g,y,m,w,d,S){this.plot=v,this.shader=g,this.pickShader=y,this.positionBuffer=m,this.weightBuffer=w,this.colorBuffer=d,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,x=h.prototype,p=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var v=this.plot,g=this.shader,y=this.bounds,m=this.numVertices;if(!(m<=0)){var w=v.gl,d=v.dataBox,S=y[2]-y[0],A=y[3]-y[1],E=d[2]-d[0],P=d[3]-d[1];c[0]=2*S/E,c[4]=2*A/P,c[6]=2*(y[0]-d[0])/E-1,c[7]=2*(y[1]-d[1])/P-1,g.bind();var O=g.uniforms;O.viewTransform=c,O.shape=this.shape;var I=g.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,m)}}),x.drawPick=function(){var v=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(y){var m=this.plot,w=this.pickShader,d=this.bounds,S=this.numVertices;if(!(S<=0)){var A=m.gl,E=m.dataBox,P=d[2]-d[0],O=d[3]-d[1],I=E[2]-E[0],D=E[3]-E[1];v[0]=2*P/I,v[4]=2*O/D,v[6]=2*(d[0]-E[0])/I-1,v[7]=2*(d[1]-E[1])/D-1;for(var V=0;V<4;++V)g[V]=y>>8*V&255;this.pickOffset=y,w.bind();var z=w.uniforms;z.viewTransform=v,z.pickOffset=g,z.shape=this.shape;var j=w.attributes;return this.positionBuffer.bind(),j.position.pointer(),this.weightBuffer.bind(),j.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),j.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}}(),x.pick=function(v,g,y){var m=this.pickOffset,w=this.shape[0]*this.shape[1];if(y<m||y>=m+w)return null;var d=y-m,S=this.xData,A=this.yData;return{object:this,pointId:d,dataCoord:[S[d%this.shape[0]],A[d/this.shape[0]|0]]}},x.update=function(v){var g=(v=v||{}).shape||[0,0],y=v.x||r(g[0]),m=v.y||r(g[1]),w=v.z||new Float32Array(g[0]*g[1]),d=v.zsmooth!==!1;this.xData=y,this.yData=m;var S,A,E,P,O=v.colorLevels||[0],I=v.colorValues||[0,0,0,1],D=O.length,V=this.bounds;d?(S=V[0]=y[0],A=V[1]=m[0],E=V[2]=y[y.length-1],P=V[3]=m[m.length-1]):(S=V[0]=y[0]+(y[1]-y[0])/2,A=V[1]=m[0]+(m[1]-m[0])/2,E=V[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,P=V[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var z=1/(E-S),j=1/(P-A),X=g[0],F=g[1];this.shape=[X,F];var H=(d?(X-1)*(F-1):X*F)*(p.length>>>1);this.numVertices=H;for(var W=n.mallocUint8(4*H),ie=n.mallocFloat32(2*H),te=n.mallocUint8(2*H),Q=n.mallocUint32(H),ne=0,$=d?X-1:X,J=d?F-1:F,re=0;re<J;++re){var se,ue;d?(se=j*(m[re]-A),ue=j*(m[re+1]-A)):(se=re<F-1?j*(m[re]-(m[re+1]-m[re])/2-A):j*(m[re]-(m[re]-m[re-1])/2-A),ue=re<F-1?j*(m[re]+(m[re+1]-m[re])/2-A):j*(m[re]+(m[re]-m[re-1])/2-A));for(var he=0;he<$;++he){var pe,ge;d?(pe=z*(y[he]-S),ge=z*(y[he+1]-S)):(pe=he<X-1?z*(y[he]-(y[he+1]-y[he])/2-S):z*(y[he]-(y[he]-y[he-1])/2-S),ge=he<X-1?z*(y[he]+(y[he+1]-y[he])/2-S):z*(y[he]+(y[he]-y[he-1])/2-S));for(var ye=0;ye<p.length;ye+=2){var be,Te,Se,Fe,xe=p[ye],le=p[ye+1],oe=w[d?(re+le)*X+(he+xe):re*X+he],de=i.le(O,oe);if(de<0)be=I[0],Te=I[1],Se=I[2],Fe=I[3];else if(de===D-1)be=I[4*D-4],Te=I[4*D-3],Se=I[4*D-2],Fe=I[4*D-1];else{var Ce=(oe-O[de])/(O[de+1]-O[de]),_e=1-Ce,Ae=4*de,Le=4*(de+1);be=_e*I[Ae]+Ce*I[Le],Te=_e*I[Ae+1]+Ce*I[Le+1],Se=_e*I[Ae+2]+Ce*I[Le+2],Fe=_e*I[Ae+3]+Ce*I[Le+3]}W[4*ne]=255*be,W[4*ne+1]=255*Te,W[4*ne+2]=255*Se,W[4*ne+3]=255*Fe,ie[2*ne]=.5*pe+.5*ge,ie[2*ne+1]=.5*se+.5*ue,te[2*ne]=xe,te[2*ne+1]=le,Q[ne]=re*X+he,ne+=1}}}this.positionBuffer.update(ie),this.weightBuffer.update(te),this.colorBuffer.update(W),this.idBuffer.update(Q),n.free(ie),n.free(W),n.free(te),n.free(Q)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(f,s,t){var i=t(3236);f.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(f,s,t){var i=t(3236),r=t(9405),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return r(h,n,a,null,u)},s.createPickShader=function(h){return r(h,n,l,null,u)}},5714:function(f,s,t){f.exports=function(S){var A=S.gl||S.scene&&S.scene.gl,E=x(A);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var P=p(A);P.attributes.position.location=0,P.attributes.nextPosition.location=1,P.attributes.arcLength.location=2,P.attributes.lineWidth.location=3,P.attributes.color.location=4;for(var O=i(A),I=r(A,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),D=h(new Array(1024),[256,1,4]),V=0;V<1024;++V)D.data[V]=255;var z=n(A,D);z.wrap=A.REPEAT;var j=new w(A,E,P,O,I,z);return j.update(S),j};var i=t(2762),r=t(8116),n=t(7766),a=new Uint8Array(4),l=new Float32Array(a.buffer),u=t(2478),h=t(9618),c=t(7319),x=c.createShader,p=c.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(S,A){for(var E=0,P=0;P<3;++P){var O=S[P]-A[P];E+=O*O}return Math.sqrt(E)}function y(S){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)A[0][E]=Math.max(S[0][E],A[0][E]),A[1][E]=Math.min(S[1][E],A[1][E]);return A}function m(S,A,E,P){this.arcLength=S,this.position=A,this.index=E,this.dataCoordinate=P}function w(S,A,E,P,O,I){this.gl=S,this.shader=A,this.pickShader=E,this.buffer=P,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=I,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var d=w.prototype;d.isTransparent=function(){return this.hasAlpha},d.isOpaque=function(){return!this.hasAlpha},d.pickSlots=1,d.setPickBase=function(S){this.pickId=S},d.drawTransparent=d.draw=function(S){if(this.vertexCount){var A=this.gl,E=this.shader,P=this.vao;E.bind(),E.uniforms={model:S.model||v,view:S.view||v,projection:S.projection||v,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(A.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},d.drawPick=function(S){if(this.vertexCount){var A=this.gl,E=this.pickShader,P=this.vao;E.bind(),E.uniforms={model:S.model||v,view:S.view||v,projection:S.projection||v,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(A.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},d.update=function(S){var A,E;this.dirty=!0;var P=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],I=[],D=[],V=0,z=0,j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],X=S.position||S.positions;if(X){var F=S.color||S.colors||[0,0,0,1],H=S.lineWidth||1,W=!1;e:for(A=1;A<X.length;++A){var ie,te,Q,ne=X[A-1],$=X[A];for(I.push(V),D.push(ne.slice()),E=0;E<3;++E){if(isNaN(ne[E])||isNaN($[E])||!isFinite(ne[E])||!isFinite($[E])){if(!P&&O.length>0){for(var J=0;J<24;++J)O.push(O[O.length-12]);z+=2,W=!0}continue e}j[0][E]=Math.min(j[0][E],ne[E],$[E]),j[1][E]=Math.max(j[1][E],ne[E],$[E])}Array.isArray(F[0])?(ie=F.length>A-1?F[A-1]:F.length>0?F[F.length-1]:[0,0,0,1],te=F.length>A?F[A]:F.length>0?F[F.length-1]:[0,0,0,1]):ie=te=F,ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),te.length===3&&(te=[te[0],te[1],te[2],1]),!this.hasAlpha&&ie[3]<1&&(this.hasAlpha=!0),Q=Array.isArray(H)?H.length>A-1?H[A-1]:H.length>0?H[H.length-1]:[0,0,0,1]:H;var re=V;if(V+=g(ne,$),W){for(E=0;E<2;++E)O.push(ne[0],ne[1],ne[2],$[0],$[1],$[2],re,Q,ie[0],ie[1],ie[2],ie[3]);z+=2,W=!1}O.push(ne[0],ne[1],ne[2],$[0],$[1],$[2],re,Q,ie[0],ie[1],ie[2],ie[3],ne[0],ne[1],ne[2],$[0],$[1],$[2],re,-Q,ie[0],ie[1],ie[2],ie[3],$[0],$[1],$[2],ne[0],ne[1],ne[2],V,-Q,te[0],te[1],te[2],te[3],$[0],$[1],$[2],ne[0],ne[1],ne[2],V,Q,te[0],te[1],te[2],te[3]),z+=4}}if(this.buffer.update(O),I.push(V),D.push(X[X.length-1].slice()),this.bounds=j,this.vertexCount=z,this.points=D,this.arcLength=I,"dashes"in S){var se=S.dashes.slice();for(se.unshift(0),A=1;A<se.length;++A)se[A]=se[A-1]+se[A];var ue=h(new Array(1024),[256,1,4]);for(A=0;A<256;++A){for(E=0;E<4;++E)ue.set(A,0,E,0);1&u.le(se,se[se.length-1]*A/255)?ue.set(A,0,0,0):ue.set(A,0,0,255)}this.texture.setPixels(ue)}},d.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},d.pick=function(S){if(!S||S.id!==this.pickId)return null;var A=function(X,F,H,W){return a[0]=0,a[1]=H,a[2]=F,a[3]=X,l[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,A);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var P=this.points[E],O=this.points[Math.min(E+1,this.points.length-1)],I=(A-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),D=1-I,V=[0,0,0],z=0;z<3;++z)V[z]=D*P[z]+I*O[z];var j=Math.min(I<.5?E:E+1,this.points.length-1);return new m(A,V,j,this.points[j])}},1903:function(f){f.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},6864:function(f){f.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9921:function(f){f.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3],a=s[4],l=s[5],u=s[6],h=s[7],c=s[8],x=s[9],p=s[10],v=s[11],g=s[12],y=s[13],m=s[14],w=s[15];return(t*l-i*a)*(p*w-v*m)-(t*u-r*a)*(x*w-v*y)+(t*h-n*a)*(x*m-p*y)+(i*u-r*l)*(c*w-v*g)-(i*h-n*l)*(c*m-p*g)+(r*h-n*u)*(c*y-x*g)}},7399:function(f){f.exports=function(s,t){var i=t[0],r=t[1],n=t[2],a=t[3],l=i+i,u=r+r,h=n+n,c=i*l,x=r*l,p=r*u,v=n*l,g=n*u,y=n*h,m=a*l,w=a*u,d=a*h;return s[0]=1-p-y,s[1]=x+d,s[2]=v-w,s[3]=0,s[4]=x-d,s[5]=1-c-y,s[6]=g+m,s[7]=0,s[8]=v+w,s[9]=g-m,s[10]=1-c-p,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},6743:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=t[3],u=r+r,h=n+n,c=a+a,x=r*u,p=r*h,v=r*c,g=n*h,y=n*c,m=a*c,w=l*u,d=l*h,S=l*c;return s[0]=1-(g+m),s[1]=p+S,s[2]=v-d,s[3]=0,s[4]=p-S,s[5]=1-(x+m),s[6]=y+w,s[7]=0,s[8]=v+d,s[9]=y-w,s[10]=1-(x+g),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},7894:function(f){f.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7608:function(f){f.exports=function(s,t){var i=t[0],r=t[1],n=t[2],a=t[3],l=t[4],u=t[5],h=t[6],c=t[7],x=t[8],p=t[9],v=t[10],g=t[11],y=t[12],m=t[13],w=t[14],d=t[15],S=i*u-r*l,A=i*h-n*l,E=i*c-a*l,P=r*h-n*u,O=r*c-a*u,I=n*c-a*h,D=x*m-p*y,V=x*w-v*y,z=x*d-g*y,j=p*w-v*m,X=p*d-g*m,F=v*d-g*w,H=S*F-A*X+E*j+P*z-O*V+I*D;return H?(H=1/H,s[0]=(u*F-h*X+c*j)*H,s[1]=(n*X-r*F-a*j)*H,s[2]=(m*I-w*O+d*P)*H,s[3]=(v*O-p*I-g*P)*H,s[4]=(h*z-l*F-c*V)*H,s[5]=(i*F-n*z+a*V)*H,s[6]=(w*E-y*I-d*A)*H,s[7]=(x*I-v*E+g*A)*H,s[8]=(l*X-u*z+c*D)*H,s[9]=(r*z-i*X-a*D)*H,s[10]=(y*O-m*E+d*S)*H,s[11]=(p*E-x*O-g*S)*H,s[12]=(u*V-l*j-h*D)*H,s[13]=(i*j-r*V+n*D)*H,s[14]=(m*A-y*P-w*S)*H,s[15]=(x*P-p*A+v*S)*H,s):null}},6582:function(f,s,t){var i=t(7894);f.exports=function(r,n,a,l){var u,h,c,x,p,v,g,y,m,w,d=n[0],S=n[1],A=n[2],E=l[0],P=l[1],O=l[2],I=a[0],D=a[1],V=a[2];return Math.abs(d-I)<1e-6&&Math.abs(S-D)<1e-6&&Math.abs(A-V)<1e-6?i(r):(g=d-I,y=S-D,m=A-V,u=P*(m*=w=1/Math.sqrt(g*g+y*y+m*m))-O*(y*=w),h=O*(g*=w)-E*m,c=E*y-P*g,(w=Math.sqrt(u*u+h*h+c*c))?(u*=w=1/w,h*=w,c*=w):(u=0,h=0,c=0),x=y*c-m*h,p=m*u-g*c,v=g*h-y*u,(w=Math.sqrt(x*x+p*p+v*v))?(x*=w=1/w,p*=w,v*=w):(x=0,p=0,v=0),r[0]=u,r[1]=x,r[2]=g,r[3]=0,r[4]=h,r[5]=p,r[6]=y,r[7]=0,r[8]=c,r[9]=v,r[10]=m,r[11]=0,r[12]=-(u*d+h*S+c*A),r[13]=-(x*d+p*S+v*A),r[14]=-(g*d+y*S+m*A),r[15]=1,r)}},6760:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=t[3],u=t[4],h=t[5],c=t[6],x=t[7],p=t[8],v=t[9],g=t[10],y=t[11],m=t[12],w=t[13],d=t[14],S=t[15],A=i[0],E=i[1],P=i[2],O=i[3];return s[0]=A*r+E*u+P*p+O*m,s[1]=A*n+E*h+P*v+O*w,s[2]=A*a+E*c+P*g+O*d,s[3]=A*l+E*x+P*y+O*S,A=i[4],E=i[5],P=i[6],O=i[7],s[4]=A*r+E*u+P*p+O*m,s[5]=A*n+E*h+P*v+O*w,s[6]=A*a+E*c+P*g+O*d,s[7]=A*l+E*x+P*y+O*S,A=i[8],E=i[9],P=i[10],O=i[11],s[8]=A*r+E*u+P*p+O*m,s[9]=A*n+E*h+P*v+O*w,s[10]=A*a+E*c+P*g+O*d,s[11]=A*l+E*x+P*y+O*S,A=i[12],E=i[13],P=i[14],O=i[15],s[12]=A*r+E*u+P*p+O*m,s[13]=A*n+E*h+P*v+O*w,s[14]=A*a+E*c+P*g+O*d,s[15]=A*l+E*x+P*y+O*S,s}},4040:function(f){f.exports=function(s,t,i,r,n,a,l){var u=1/(t-i),h=1/(r-n),c=1/(a-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+i)*u,s[13]=(n+r)*h,s[14]=(l+a)*c,s[15]=1,s}},4772:function(f){f.exports=function(s,t,i,r,n){var a=1/Math.tan(t/2),l=1/(r-n);return s[0]=a/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=a,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+r)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*r*l,s[15]=0,s}},6079:function(f){f.exports=function(s,t,i,r){var n,a,l,u,h,c,x,p,v,g,y,m,w,d,S,A,E,P,O,I,D,V,z,j,X=r[0],F=r[1],H=r[2],W=Math.sqrt(X*X+F*F+H*H);return Math.abs(W)<1e-6?null:(X*=W=1/W,F*=W,H*=W,n=Math.sin(i),l=1-(a=Math.cos(i)),u=t[0],h=t[1],c=t[2],x=t[3],p=t[4],v=t[5],g=t[6],y=t[7],m=t[8],w=t[9],d=t[10],S=t[11],A=X*X*l+a,E=F*X*l+H*n,P=H*X*l-F*n,O=X*F*l-H*n,I=F*F*l+a,D=H*F*l+X*n,V=X*H*l+F*n,z=F*H*l-X*n,j=H*H*l+a,s[0]=u*A+p*E+m*P,s[1]=h*A+v*E+w*P,s[2]=c*A+g*E+d*P,s[3]=x*A+y*E+S*P,s[4]=u*O+p*I+m*D,s[5]=h*O+v*I+w*D,s[6]=c*O+g*I+d*D,s[7]=x*O+y*I+S*D,s[8]=u*V+p*z+m*j,s[9]=h*V+v*z+w*j,s[10]=c*V+g*z+d*j,s[11]=x*V+y*z+S*j,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},5567:function(f){f.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],x=t[9],p=t[10],v=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=a*n+c*r,s[5]=l*n+x*r,s[6]=u*n+p*r,s[7]=h*n+v*r,s[8]=c*n-a*r,s[9]=x*n-l*r,s[10]=p*n-u*r,s[11]=v*n-h*r,s}},2408:function(f){f.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),a=t[0],l=t[1],u=t[2],h=t[3],c=t[8],x=t[9],p=t[10],v=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=a*n-c*r,s[1]=l*n-x*r,s[2]=u*n-p*r,s[3]=h*n-v*r,s[8]=a*r+c*n,s[9]=l*r+x*n,s[10]=u*r+p*n,s[11]=h*r+v*n,s}},7089:function(f){f.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),a=t[0],l=t[1],u=t[2],h=t[3],c=t[4],x=t[5],p=t[6],v=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=a*n+c*r,s[1]=l*n+x*r,s[2]=u*n+p*r,s[3]=h*n+v*r,s[4]=c*n-a*r,s[5]=x*n-l*r,s[6]=p*n-u*r,s[7]=v*n-h*r,s}},2504:function(f){f.exports=function(s,t,i){var r=i[0],n=i[1],a=i[2];return s[0]=t[0]*r,s[1]=t[1]*r,s[2]=t[2]*r,s[3]=t[3]*r,s[4]=t[4]*n,s[5]=t[5]*n,s[6]=t[6]*n,s[7]=t[7]*n,s[8]=t[8]*a,s[9]=t[9]*a,s[10]=t[10]*a,s[11]=t[11]*a,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},7656:function(f){f.exports=function(s,t,i){var r,n,a,l,u,h,c,x,p,v,g,y,m=i[0],w=i[1],d=i[2];return t===s?(s[12]=t[0]*m+t[4]*w+t[8]*d+t[12],s[13]=t[1]*m+t[5]*w+t[9]*d+t[13],s[14]=t[2]*m+t[6]*w+t[10]*d+t[14],s[15]=t[3]*m+t[7]*w+t[11]*d+t[15]):(r=t[0],n=t[1],a=t[2],l=t[3],u=t[4],h=t[5],c=t[6],x=t[7],p=t[8],v=t[9],g=t[10],y=t[11],s[0]=r,s[1]=n,s[2]=a,s[3]=l,s[4]=u,s[5]=h,s[6]=c,s[7]=x,s[8]=p,s[9]=v,s[10]=g,s[11]=y,s[12]=r*m+u*w+p*d+t[12],s[13]=n*m+h*w+v*d+t[13],s[14]=a*m+c*w+g*d+t[14],s[15]=l*m+x*w+y*d+t[15]),s}},5665:function(f){f.exports=function(s,t){if(s===t){var i=t[1],r=t[2],n=t[3],a=t[6],l=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=i,s[6]=t[9],s[7]=t[13],s[8]=r,s[9]=a,s[11]=t[14],s[12]=n,s[13]=l,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},7626:function(f,s,t){var i=t(2642),r=t(9346);function n(u,h){for(var c=[0,0,0,0],x=0;x<4;++x)for(var p=0;p<4;++p)c[p]+=u[4*x+p]*h[x];return c}function a(u,h,c,x,p){for(var v=n(x,n(c,n(h,[u[0],u[1],u[2],1]))),g=0;g<3;++g)v[g]/=v[3];return[.5*p[0]*(1+v[0]),.5*p[1]*(1-v[1])]}function l(u,h){for(var c=[0,0,0],x=0;x<u.length;++x)for(var p=u[x],v=h[x],g=0;g<3;++g)c[g]+=v*p[g];return c}f.exports=function(u,h,c,x,p,v){if(u.length===1)return[0,u[0].slice()];for(var g=new Array(u.length),y=0;y<u.length;++y)g[y]=a(u[y],c,x,p,v);var m=0,w=1/0;for(y=0;y<g.length;++y){for(var d=0,S=0;S<2;++S)d+=Math.pow(g[y][S]-h[S],2);d<w&&(w=d,m=y)}var A=function(P,O){if(P.length===2){for(var I=0,D=0,V=0;V<2;++V)I+=Math.pow(O[V]-P[0][V],2),D+=Math.pow(O[V]-P[1][V],2);return(I=Math.sqrt(I))+(D=Math.sqrt(D))<1e-6?[1,0]:[D/(I+D),I/(D+I)]}if(P.length===3){var z=[0,0];return r(P[0],P[1],P[2],O,z),i(P,z)}return[]}(g,h),E=0;for(y=0;y<3;++y){if(A[y]<-.001||A[y]>1.0001)return null;E+=A[y]}return Math.abs(E-1)>.001?null:[m,l(u,A),A]}},840:function(f,s,t){var i=t(3236),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),x=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),p=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),v=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),g=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:p,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:v,fragment:g,attributes:[{name:"position",type:"vec3"}]}},7201:function(f,s,t){var i=t(9405),r=t(2762),n=t(8116),a=t(7766),l=t(8406),u=t(6760),h=t(7608),c=t(9618),x=t(6729),p=t(7765),v=t(1888),g=t(840),y=t(7626),m=g.meshShader,w=g.wireShader,d=g.pointShader,S=g.pickShader,A=g.pointPickShader,E=g.contourShader,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(F,H,W,ie,te,Q,ne,$,J,re,se,ue,he,pe,ge,ye,be,Te,Se,Fe,xe,le,oe,de,Ce,_e,Ae){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=H,this.dirty=!0,this.triShader=W,this.lineShader=ie,this.pointShader=te,this.pickShader=Q,this.pointPickShader=ne,this.contourShader=$,this.trianglePositions=J,this.triangleColors=se,this.triangleNormals=he,this.triangleUVs=ue,this.triangleIds=re,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ge,this.edgeColors=be,this.edgeUVs=Te,this.edgeIds=ye,this.edgeVAO=Se,this.edgeCount=0,this.pointPositions=Fe,this.pointColors=le,this.pointUVs=oe,this.pointSizes=de,this.pointIds=xe,this.pointVAO=Ce,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=_e,this.contourVAO=Ae,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=P,this._view=P,this._projection=P,this._resolution=[1,1]}var I=O.prototype;function D(F,H){if(!H||!H.length)return 1;for(var W=0;W<H.length;++W){if(H.length<2)return 1;if(H[W][0]===F)return H[W][1];if(H[W][0]>F&&W>0){var ie=(H[W][0]-F)/(H[W][0]-H[W-1][0]);return H[W][1]*(1-ie)+ie*H[W-1][1]}}return 1}function V(F){var H=i(F,d.vertex,d.fragment);return H.attributes.position.location=0,H.attributes.color.location=2,H.attributes.uv.location=3,H.attributes.pointSize.location=4,H}function z(F){var H=i(F,S.vertex,S.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H}function j(F){var H=i(F,A.vertex,A.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H.attributes.pointSize.location=4,H}function X(F){var H=i(F,E.vertex,E.fragment);return H.attributes.position.location=0,H}I.isOpaque=function(){return!this.hasAlpha},I.isTransparent=function(){return this.hasAlpha},I.pickSlots=1,I.setPickBase=function(F){this.pickId=F},I.highlight=function(F){if(F&&this.contourEnable){for(var H=p(this.cells,this.intensity,F.intensity),W=H.cells,ie=H.vertexIds,te=H.vertexWeights,Q=W.length,ne=v.mallocFloat32(6*Q),$=0,J=0;J<Q;++J)for(var re=W[J],se=0;se<2;++se){var ue=re[0];re.length===2&&(ue=re[se]);for(var he=ie[ue][0],pe=ie[ue][1],ge=te[ue],ye=1-ge,be=this.positions[he],Te=this.positions[pe],Se=0;Se<3;++Se)ne[$++]=ge*be[Se]+ye*Te[Se]}this.contourCount=$/3|0,this.contourPositions.update(ne.subarray(0,$)),v.free(ne)}else this.contourCount=0},I.update=function(F){F=F||{};var H=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=a(H,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=H.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=H.LINEAR,this.texture.setPixels(function(Rt,Ft){for(var Ot=x({colormap:Rt,nshades:256,format:"rgba"}),Xe=new Uint8Array(1024),Je=0;Je<256;++Je){for(var Ve=Ot[Je],Ke=0;Ke<3;++Ke)Xe[4*Je+Ke]=Ve[Ke];Xe[4*Je+3]=Ft?255*D(Je/255,Ft):255*Ve[3]}return c(Xe,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var W=F.cells,ie=F.positions;if(ie&&W){var te=[],Q=[],ne=[],$=[],J=[],re=[],se=[],ue=[],he=[],pe=[],ge=[],ye=[],be=[],Te=[];this.cells=W,this.positions=ie;var Se=F.vertexNormals,Fe=F.cellNormals,xe=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,le=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!Fe&&(Fe=l.faceNormals(W,ie,le)),Fe||Se||(Se=l.vertexNormals(W,ie,xe));var oe=F.vertexColors,de=F.cellColors,Ce=F.meshColor||[1,1,1,1],_e=F.vertexUVs,Ae=F.vertexIntensity,Le=F.cellUVs,ze=F.cellIntensity,Re=1/0,ve=-1/0;if(!_e&&!Le)if(Ae)if(F.vertexIntensityBounds)Re=+F.vertexIntensityBounds[0],ve=+F.vertexIntensityBounds[1];else for(var ke=0;ke<Ae.length;++ke){var Ee=Ae[ke];Re=Math.min(Re,Ee),ve=Math.max(ve,Ee)}else if(ze)if(F.cellIntensityBounds)Re=+F.cellIntensityBounds[0],ve=+F.cellIntensityBounds[1];else for(ke=0;ke<ze.length;++ke)Ee=ze[ke],Re=Math.min(Re,Ee),ve=Math.max(ve,Ee);else for(ke=0;ke<ie.length;++ke)Ee=ie[ke][2],Re=Math.min(Re,Ee),ve=Math.max(ve,Ee);this.intensity=Ae||ze||function(Rt){for(var Ft=Rt.length,Ot=new Array(Ft),Xe=0;Xe<Ft;++Xe)Ot[Xe]=Rt[Xe][2];return Ot}(ie),this.pickVertex=!(ze||de);var De=F.pointSizes,Pe=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ke=0;ke<ie.length;++ke)for(var Ue=ie[ke],We=0;We<3;++We)!isNaN(Ue[We])&&isFinite(Ue[We])&&(this.bounds[0][We]=Math.min(this.bounds[0][We],Ue[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ue[We]));var $e=0,ot=0,st=0;e:for(ke=0;ke<W.length;++ke){var mt=W[ke];switch(mt.length){case 1:for(Ue=ie[yt=mt[0]],We=0;We<3;++We)if(isNaN(Ue[We])||!isFinite(Ue[We]))continue e;pe.push(Ue[0],Ue[1],Ue[2]),it=oe?oe[yt]:de?de[ke]:Ce,this.opacityscale&&Ae?Q.push(it[0],it[1],it[2],this.opacity*D((Ae[yt]-Re)/(ve-Re),this.opacityscale)):it.length===3?ge.push(it[0],it[1],it[2],this.opacity):(ge.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),tt=_e?_e[yt]:Ae?[(Ae[yt]-Re)/(ve-Re),0]:Le?Le[ke]:ze?[(ze[ke]-Re)/(ve-Re),0]:[(Ue[2]-Re)/(ve-Re),0],ye.push(tt[0],tt[1]),De?be.push(De[yt]):be.push(Pe),Te.push(ke),st+=1;break;case 2:for(We=0;We<2;++We){Ue=ie[yt=mt[We]];for(var _t=0;_t<3;++_t)if(isNaN(Ue[_t])||!isFinite(Ue[_t]))continue e}for(We=0;We<2;++We)Ue=ie[yt=mt[We]],re.push(Ue[0],Ue[1],Ue[2]),it=oe?oe[yt]:de?de[ke]:Ce,this.opacityscale&&Ae?Q.push(it[0],it[1],it[2],this.opacity*D((Ae[yt]-Re)/(ve-Re),this.opacityscale)):it.length===3?se.push(it[0],it[1],it[2],this.opacity):(se.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),tt=_e?_e[yt]:Ae?[(Ae[yt]-Re)/(ve-Re),0]:Le?Le[ke]:ze?[(ze[ke]-Re)/(ve-Re),0]:[(Ue[2]-Re)/(ve-Re),0],ue.push(tt[0],tt[1]),he.push(ke);ot+=1;break;case 3:for(We=0;We<3;++We)for(Ue=ie[yt=mt[We]],_t=0;_t<3;++_t)if(isNaN(Ue[_t])||!isFinite(Ue[_t]))continue e;for(We=0;We<3;++We){var yt,it,tt,Pt;Ue=ie[yt=mt[2-We]],te.push(Ue[0],Ue[1],Ue[2]),(it=oe?oe[yt]:de?de[ke]:Ce)?this.opacityscale&&Ae?Q.push(it[0],it[1],it[2],this.opacity*D((Ae[yt]-Re)/(ve-Re),this.opacityscale)):it.length===3?Q.push(it[0],it[1],it[2],this.opacity):(Q.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)):Q.push(.5,.5,.5,1),tt=_e?_e[yt]:Ae?[(Ae[yt]-Re)/(ve-Re),0]:Le?Le[ke]:ze?[(ze[ke]-Re)/(ve-Re),0]:[(Ue[2]-Re)/(ve-Re),0],$.push(tt[0],tt[1]),Pt=Se?Se[yt]:Fe[ke],ne.push(Pt[0],Pt[1],Pt[2]),J.push(ke)}$e+=1}}this.pointCount=st,this.edgeCount=ot,this.triangleCount=$e,this.pointPositions.update(pe),this.pointColors.update(ge),this.pointUVs.update(ye),this.pointSizes.update(be),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(re),this.edgeColors.update(se),this.edgeUVs.update(ue),this.edgeIds.update(new Uint32Array(he)),this.trianglePositions.update(te),this.triangleColors.update(Q),this.triangleUVs.update($),this.triangleNormals.update(ne),this.triangleIds.update(new Uint32Array(J))}},I.drawTransparent=I.draw=function(F){F=F||{};for(var H=this.gl,W=F.model||P,ie=F.view||P,te=F.projection||P,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ne=0;ne<3;++ne)Q[0][ne]=Math.max(Q[0][ne],this.clipBounds[0][ne]),Q[1][ne]=Math.min(Q[1][ne],this.clipBounds[1][ne]);var $={model:W,view:ie,projection:te,inverseModel:P.slice(),clipBounds:Q,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=h($.inverseModel,$.model),H.disable(H.CULL_FACE),this.texture.bind(0);var J=new Array(16);for(u(J,$.view,$.model),u(J,$.projection,J),h(J,J),ne=0;ne<3;++ne)$.eyePosition[ne]=J[12+ne]/J[15];var re,se=J[15];for(ne=0;ne<3;++ne)se+=this.lightPosition[ne]*J[4*ne+3];for(ne=0;ne<3;++ne){for(var ue=J[12+ne],he=0;he<3;++he)ue+=J[4*he+ne]*this.lightPosition[he];$.lightPosition[ne]=ue/se}this.triangleCount>0&&((re=this.triShader).bind(),re.uniforms=$,this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((re=this.lineShader).bind(),re.uniforms=$,this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointShader).bind(),re.uniforms=$,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((re=this.contourShader).bind(),re.uniforms=$,this.contourVAO.bind(),H.drawArrays(H.LINES,0,this.contourCount),this.contourVAO.unbind())},I.drawPick=function(F){F=F||{};for(var H=this.gl,W=F.model||P,ie=F.view||P,te=F.projection||P,Q=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ne=0;ne<3;++ne)Q[0][ne]=Math.max(Q[0][ne],this.clipBounds[0][ne]),Q[1][ne]=Math.min(Q[1][ne],this.clipBounds[1][ne]);this._model=[].slice.call(W),this._view=[].slice.call(ie),this._projection=[].slice.call(te),this._resolution=[H.drawingBufferWidth,H.drawingBufferHeight];var $,J={model:W,view:ie,projection:te,clipBounds:Q,pickId:this.pickId/255};($=this.pickShader).bind(),$.uniforms=J,this.triangleCount>0&&(this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&(($=this.pointPickShader).bind(),$.uniforms=J,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind())},I.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var H=F.value[0]+256*F.value[1]+65536*F.value[2],W=this.cells[H],ie=this.positions,te=new Array(W.length),Q=0;Q<W.length;++Q)te[Q]=ie[W[Q]];var ne=F.coord[0],$=F.coord[1];if(!this.pickVertex){var J=this.positions[W[0]],re=this.positions[W[1]],se=this.positions[W[2]],ue=[(J[0]+re[0]+se[0])/3,(J[1]+re[1]+se[1])/3,(J[2]+re[2]+se[2])/3];return{_cellCenter:!0,position:[ne,$],index:H,cell:W,cellId:H,intensity:this.intensity[H],dataCoordinate:ue}}var he=y(te,[ne*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!he)return null;var pe=he[2],ge=0;for(Q=0;Q<W.length;++Q)ge+=pe[Q]*this.intensity[W[Q]];return{position:he[1],index:W[he[0]],cell:W,cellId:H,intensity:ge,dataCoordinate:this.positions[W[he[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},f.exports=function(F,H){if(arguments.length===1&&(F=(H=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var W=function(ze){var Re=i(ze,m.vertex,m.fragment);return Re.attributes.position.location=0,Re.attributes.color.location=2,Re.attributes.uv.location=3,Re.attributes.normal.location=4,Re}(F),ie=function(ze){var Re=i(ze,w.vertex,w.fragment);return Re.attributes.position.location=0,Re.attributes.color.location=2,Re.attributes.uv.location=3,Re}(F),te=V(F),Q=z(F),ne=j(F),$=X(F),J=a(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));J.generateMipmap(),J.minFilter=F.LINEAR_MIPMAP_LINEAR,J.magFilter=F.LINEAR;var re=r(F),se=r(F),ue=r(F),he=r(F),pe=r(F),ge=n(F,[{buffer:re,type:F.FLOAT,size:3},{buffer:pe,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:se,type:F.FLOAT,size:4},{buffer:ue,type:F.FLOAT,size:2},{buffer:he,type:F.FLOAT,size:3}]),ye=r(F),be=r(F),Te=r(F),Se=r(F),Fe=n(F,[{buffer:ye,type:F.FLOAT,size:3},{buffer:Se,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:F.FLOAT,size:4},{buffer:Te,type:F.FLOAT,size:2}]),xe=r(F),le=r(F),oe=r(F),de=r(F),Ce=r(F),_e=n(F,[{buffer:xe,type:F.FLOAT,size:3},{buffer:Ce,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:le,type:F.FLOAT,size:4},{buffer:oe,type:F.FLOAT,size:2},{buffer:de,type:F.FLOAT,size:1}]),Ae=r(F),Le=new O(F,J,W,ie,te,Q,ne,$,re,pe,se,ue,he,ge,ye,Se,be,Te,Fe,xe,Ce,le,oe,de,_e,Ae,n(F,[{buffer:Ae,type:F.FLOAT,size:3}]));return Le.update(H),Le}},8120:function(f,s,t){f.exports=function(c){var x=c.gl;return new a(c,i(x,[0,0,0,1,1,0,1,1]),r(x,n.boxVert,n.lineFrag))};var i=t(2762),r=t(9405),n=t(3603);function a(c,x,p){this.plot=c,this.vbo=x,this.shader=p}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawBox=(l=[0,0],u=[0,0],function(c,x,p,v,g){var y=this.plot,m=this.shader,w=y.gl;l[0]=c,l[1]=x,u[0]=p,u[1]=v,m.uniforms.lo=l,m.uniforms.hi=u,m.uniforms.color=g,w.drawArrays(w.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(f,s,t){f.exports=function(y){var m=y.gl;return new l(y,i(m),r(m,a.gridVert,a.gridFrag),r(m,a.tickVert,a.gridFrag))};var i=t(2762),r=t(9405),n=t(2478),a=t(3603);function l(y,m,w,d){this.plot=y,this.vbo=m,this.shader=w,this.tickShader=d,this.ticks=[[],[]]}function u(y,m){return y-m}var h,c,x,p,v,g=l.prototype;g.draw=(h=[0,0],c=[0,0],x=[0,0],function(){for(var y=this.plot,m=this.vbo,w=this.shader,d=this.ticks,S=y.gl,A=y._tickBounds,E=y.dataBox,P=y.viewBox,O=y.gridLineWidth,I=y.gridLineColor,D=y.gridLineEnable,V=y.pixelRatio,z=0;z<2;++z){var j=A[z],X=A[z+2]-j,F=.5*(E[z+2]+E[z]),H=E[z+2]-E[z];c[z]=2*X/H,h[z]=2*(j-F)/H}w.bind(),m.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=h,w.uniforms.dataScale=c;var W=0;for(z=0;z<2;++z){x[0]=x[1]=0,x[z]=1,w.uniforms.dataAxis=x,w.uniforms.lineWidth=O[z]/(P[z+2]-P[z])*V,w.uniforms.color=I[z];var ie=6*d[z].length;D[z]&&ie&&S.drawArrays(S.TRIANGLES,W,ie),W+=ie}}),g.drawTickMarks=function(){var y=[0,0],m=[0,0],w=[1,0],d=[0,1],S=[0,0],A=[0,0];return function(){for(var E=this.plot,P=this.vbo,O=this.tickShader,I=this.ticks,D=E.gl,V=E._tickBounds,z=E.dataBox,j=E.viewBox,X=E.pixelRatio,F=E.screenBox,H=F[2]-F[0],W=F[3]-F[1],ie=j[2]-j[0],te=j[3]-j[1],Q=0;Q<2;++Q){var ne=V[Q],$=V[Q+2]-ne,J=.5*(z[Q+2]+z[Q]),re=z[Q+2]-z[Q];m[Q]=2*$/re,y[Q]=2*(ne-J)/re}m[0]*=ie/H,y[0]*=ie/H,m[1]*=te/W,y[1]*=te/W,O.bind(),P.bind(),O.attributes.dataCoord.pointer();var se=O.uniforms;se.dataShift=y,se.dataScale=m;var ue=E.tickMarkLength,he=E.tickMarkWidth,pe=E.tickMarkColor,ge=6*I[0].length,ye=Math.min(n.ge(I[0],(z[0]-V[0])/(V[2]-V[0]),u),I[0].length),be=Math.min(n.gt(I[0],(z[2]-V[0])/(V[2]-V[0]),u),I[0].length),Te=0+6*ye,Se=6*Math.max(0,be-ye),Fe=Math.min(n.ge(I[1],(z[1]-V[1])/(V[3]-V[1]),u),I[1].length),xe=Math.min(n.gt(I[1],(z[3]-V[1])/(V[3]-V[1]),u),I[1].length),le=ge+6*Fe,oe=6*Math.max(0,xe-Fe);S[0]=2*(j[0]-ue[1])/H-1,S[1]=(j[3]+j[1])/W-1,A[0]=ue[1]*X/H,A[1]=he[1]*X/W,oe&&(se.color=pe[1],se.tickScale=A,se.dataAxis=d,se.screenOffset=S,D.drawArrays(D.TRIANGLES,le,oe)),S[0]=(j[2]+j[0])/H-1,S[1]=2*(j[1]-ue[0])/W-1,A[0]=he[0]*X/H,A[1]=ue[0]*X/W,Se&&(se.color=pe[0],se.tickScale=A,se.dataAxis=w,se.screenOffset=S,D.drawArrays(D.TRIANGLES,Te,Se)),S[0]=2*(j[2]+ue[3])/H-1,S[1]=(j[3]+j[1])/W-1,A[0]=ue[3]*X/H,A[1]=he[3]*X/W,oe&&(se.color=pe[3],se.tickScale=A,se.dataAxis=d,se.screenOffset=S,D.drawArrays(D.TRIANGLES,le,oe)),S[0]=(j[2]+j[0])/H-1,S[1]=2*(j[3]+ue[2])/W-1,A[0]=he[2]*X/H,A[1]=ue[2]*X/W,Se&&(se.color=pe[2],se.tickScale=A,se.dataAxis=w,se.screenOffset=S,D.drawArrays(D.TRIANGLES,Te,Se))}}(),g.update=(p=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1],function(y){for(var m=y.ticks,w=y.bounds,d=new Float32Array(18*(m[0].length+m[1].length)),S=(this.plot.zeroLineEnable,0),A=[[],[]],E=0;E<2;++E)for(var P=A[E],O=m[E],I=w[E],D=w[E+2],V=0;V<O.length;++V){var z=(O[V].x-I)/(D-I);P.push(z);for(var j=0;j<6;++j)d[S++]=z,d[S++]=p[j],d[S++]=v[j]}this.ticks=A,this.vbo.update(d)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(f,s,t){f.exports=function(c){var x=c.gl;return new a(c,i(x,[-1,-1,-1,1,1,-1,1,1]),r(x,n.lineVert,n.lineFrag))};var i=t(2762),r=t(9405),n=t(3603);function a(c,x,p){this.plot=c,this.vbo=x,this.shader=p}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawLine=(l=[0,0],u=[0,0],function(c,x,p,v,g,y){var m=this.plot,w=this.shader,d=m.gl;l[0]=c,l[1]=x,u[0]=p,u[1]=v,w.uniforms.start=l,w.uniforms.end=u,w.uniforms.width=g*m.pixelRatio,w.uniforms.color=y,d.drawArrays(d.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(f,s,t){var i=t(3236),r=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);f.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:r,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:r,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:r,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(f,s,t){f.exports=function(m){var w=m.gl;return new u(m,i(w),r(w,l.textVert,l.textFrag))};var i=t(2762),r=t(9405),n=t(529),a=t(2478),l=t(3603);function u(m,w,d){this.plot=m,this.vbo=w,this.shader=d,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,c,x,p,v,g,y=u.prototype;y.drawTicks=(h=[0,0],c=[0,0],x=[0,0],function(m){var w=this.plot,d=this.shader,S=this.tickX[m],A=this.tickOffset[m],E=w.gl,P=w.viewBox,O=w.dataBox,I=w.screenBox,D=w.pixelRatio,V=w.tickEnable,z=w.tickPad,j=w.tickColor,X=w.tickAngle,F=w.labelEnable,H=w.labelPad,W=w.labelColor,ie=w.labelAngle,te=this.labelOffset[m],Q=this.labelCount[m],ne=a.lt(S,O[m]),$=a.le(S,O[m+2]);h[0]=h[1]=0,h[m]=1,c[m]=(P[2+m]+P[m])/(I[2+m]-I[m])-1;var J=2/I[2+(1^m)]-I[1^m];c[1^m]=J*P[1^m]-1,V[m]&&(c[1^m]-=J*D*z[m],ne<$&&A[$]>A[ne]&&(d.uniforms.dataAxis=h,d.uniforms.screenOffset=c,d.uniforms.color=j[m],d.uniforms.angle=X[m],E.drawArrays(E.TRIANGLES,A[ne],A[$]-A[ne]))),F[m]&&Q&&(c[1^m]-=J*D*H[m],d.uniforms.dataAxis=x,d.uniforms.screenOffset=c,d.uniforms.color=W[m],d.uniforms.angle=ie[m],E.drawArrays(E.TRIANGLES,te,Q)),c[1^m]=J*P[2+(1^m)]-1,V[m+2]&&(c[1^m]+=J*D*z[m+2],ne<$&&A[$]>A[ne]&&(d.uniforms.dataAxis=h,d.uniforms.screenOffset=c,d.uniforms.color=j[m+2],d.uniforms.angle=X[m+2],E.drawArrays(E.TRIANGLES,A[ne],A[$]-A[ne]))),F[m+2]&&Q&&(c[1^m]+=J*D*H[m+2],d.uniforms.dataAxis=x,d.uniforms.screenOffset=c,d.uniforms.color=W[m+2],d.uniforms.angle=ie[m+2],E.drawArrays(E.TRIANGLES,te,Q))}),y.drawTitle=function(){var m=[0,0],w=[0,0];return function(){var d=this.plot,S=this.shader,A=d.gl,E=d.screenBox,P=d.titleCenter,O=d.titleAngle,I=d.titleColor,D=d.pixelRatio;if(this.titleCount){for(var V=0;V<2;++V)w[V]=2*(P[V]*D-E[V])/(E[2+V]-E[V])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=w,S.uniforms.angle=O,S.uniforms.color=I,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=(p=[0,0],v=[0,0],g=[0,0],function(){var m=this.plot,w=this.shader,d=m._tickBounds,S=m.dataBox,A=m.screenBox,E=m.viewBox;w.bind();for(var P=0;P<2;++P){var O=d[P],I=d[P+2]-O,D=.5*(S[P+2]+S[P]),V=S[P+2]-S[P],z=E[P],j=E[P+2]-z,X=A[P],F=A[P+2]-X;v[P]=2*I/V*j/F,p[P]=2*(O-D)/V*j/F}g[1]=2*m.pixelRatio/(A[3]-A[1]),g[0]=g[1]*(A[3]-A[1])/(A[2]-A[0]),w.uniforms.dataScale=v,w.uniforms.dataShift=p,w.uniforms.textScale=g,this.vbo.bind(),w.attributes.textCoordinate.pointer()}),y.update=function(m){var w,d,S,A,E,P=[],O=m.ticks,I=m.bounds;for(E=0;E<2;++E){var D=[Math.floor(P.length/3)],V=[-1/0],z=O[E];for(w=0;w<z.length;++w){var j=z[w],X=j.x,F=j.text,H=j.font||"sans-serif",W=j.fontStyle||"normal",ie=j.fontWeight||"normal",te=j.fontVariant||"normal";A=j.fontSize||12;for(var Q=1/(I[E+2]-I[E]),ne=I[E],$=F.split(`
`),J=0;J<$.length;J++)for(S=n(H,$[J],{fontStyle:W,fontWeight:ie,fontVariant:te}).data,d=0;d<S.length;d+=2)P.push(S[d]*A,-S[d+1]*A-J*A*1.2,(X-ne)*Q);D.push(Math.floor(P.length/3)),V.push(X)}this.tickOffset[E]=D,this.tickX[E]=V}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(P.length/3),S=n(m.labelFont[E],m.labels[E],{fontStyle:m.labelFontStyle[E],fontWeight:m.labelFontWeight[E],fontVariant:m.labelFontVariant[E],textAlign:"center"}).data,A=m.labelSize[E],w=0;w<S.length;w+=2)P.push(S[w]*A,-S[w+1]*A,0);this.labelCount[E]=Math.floor(P.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(P.length/3),S=n(m.titleFont,m.title,{fontStyle:m.titleFontStyle,fontWeight:m.titleFontWeight,fontVariant:m.titleFontVariant}).data,A=m.titleSize,w=0;w<S.length;w+=2)P.push(S[w]*A,-S[w+1]*A,0);this.titleCount=Math.floor(P.length/3)-this.titleOffset,this.vbo.update(P)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(f,s,t){f.exports=function(p){var v=p.gl,g=new u(v,i(v,[v.drawingBufferWidth,v.drawingBufferHeight]));return g.grid=r(g),g.text=n(g),g.line=a(g),g.box=l(g),g.update(p),g};var i=t(3589),r=t(1913),n=t(2142),a=t(4747),l=t(8120);function u(p,v){this.gl=p,this.pickBuffer=v,this.screenBox=[0,0,p.drawingBufferWidth,p.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=u.prototype;function c(p){for(var v=p.slice(),g=0;g<v.length;++g)v[g]=v[g].slice();return v}function x(p,v){return p.x-v.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var p=this.gl,v=this.screenBox,g=this.viewBox,y=this.dataBox,m=this.pixelRatio,w=this.grid,d=this.line,S=this.text,A=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,p.bindFramebuffer(p.FRAMEBUFFER,null),p.enable(p.SCISSOR_TEST),p.disable(p.DEPTH_TEST),p.depthFunc(p.LESS),p.depthMask(!1),p.enable(p.BLEND),p.blendEquation(p.FUNC_ADD,p.FUNC_ADD),p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA),this.borderColor){p.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]);var E=this.borderColor;p.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT)}p.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),p.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]);var P=this.backgroundColor;p.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),p.clear(p.COLOR_BUFFER_BIT),w.draw();var O=this.zeroLineEnable,I=this.zeroLineColor,D=this.zeroLineWidth;if(O[0]||O[1]){d.bind();for(var V=0;V<2;++V)if(O[V]&&y[V]<=0&&y[V+2]>=0){var z=v[V]-y[V]*(v[V+2]-v[V])/(y[V+2]-y[V]);V===0?d.drawLine(z,v[1],z,v[3],D[V],I[V]):d.drawLine(v[0],z,v[2],z,D[V],I[V])}}for(V=0;V<A.length;++V)A[V].draw();p.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]),p.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),this.grid.drawTickMarks(),d.bind();var j=this.borderLineEnable,X=this.borderLineWidth,F=this.borderLineColor;for(j[1]&&d.drawLine(g[0],g[1]-.5*X[1]*m,g[0],g[3]+.5*X[3]*m,X[1],F[1]),j[0]&&d.drawLine(g[0]-.5*X[0]*m,g[1],g[2]+.5*X[2]*m,g[1],X[0],F[0]),j[3]&&d.drawLine(g[2],g[1]-.5*X[1]*m,g[2],g[3]+.5*X[3]*m,X[3],F[3]),j[2]&&d.drawLine(g[0]-.5*X[0]*m,g[3],g[2]+.5*X[2]*m,g[3],X[2],F[2]),S.bind(),V=0;V<2;++V)S.drawTicks(V);this.titleEnable&&S.drawTitle();var H=this.overlays;for(V=0;V<H.length;++V)H[V].draw();p.disable(p.SCISSOR_TEST),p.disable(p.BLEND),p.depthMask(!0)}},h.drawPick=function(){if(!this.static){var p=this.pickBuffer;this.gl,this._pickTimeout=null,p.begin();for(var v=1,g=this.objects,y=0;y<g.length;++y)v=g[y].drawPick(v);p.end()}},h.pick=function(p,v){if(!this.static){var g=this.pixelRatio,y=this.pickPixelRatio,m=this.viewBox,w=0|Math.round((p-m[0]/g)*y),d=0|Math.round((v-m[1]/g)*y),S=this.pickBuffer.query(w,d,this.pickRadius);if(!S)return null;for(var A=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,P=0;P<E.length;++P){var O=E[P].pick(w,d,A);if(O)return O}return null}},h.setScreenBox=function(p){var v=this.screenBox,g=this.pixelRatio;v[0]=0|Math.round(p[0]*g),v[1]=0|Math.round(p[1]*g),v[2]=0|Math.round(p[2]*g),v[3]=0|Math.round(p[3]*g),this.setDirty()},h.setDataBox=function(p){var v=this.dataBox;(v[0]!==p[0]||v[1]!==p[1]||v[2]!==p[2]||v[3]!==p[3])&&(v[0]=p[0],v[1]=p[1],v[2]=p[2],v[3]=p[3],this.setDirty())},h.setViewBox=function(p){var v=this.pixelRatio,g=this.viewBox;g[0]=0|Math.round(p[0]*v),g[1]=0|Math.round(p[1]*v),g[2]=0|Math.round(p[2]*v),g[3]=0|Math.round(p[3]*v);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((p[2]-p[0])*y),0|Math.round((p[3]-p[1])*y)],this.setDirty()},h.update=function(p){p=p||{};var v=this.gl;this.pixelRatio=p.pixelRatio||1;var g=this.pixelRatio;this.pickPixelRatio=Math.max(g,1),this.setScreenBox(p.screenBox||[0,0,v.drawingBufferWidth/g,v.drawingBufferHeight/g]),this.screenBox,this.setViewBox(p.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/g,.125*(this.screenBox[3]-this.screenBox[1])/g,.875*(this.screenBox[2]-this.screenBox[0])/g,.875*(this.screenBox[3]-this.screenBox[1])/g]);var y=this.viewBox,m=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(p.dataBox||[-10,-10/m,10,10/m]),this.borderColor=p.borderColor!==!1&&(p.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(p.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(p.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(p.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(p.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(p.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(p.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(p.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(p.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(p.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(p.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(p.titleCenter||[.5*(y[0]+y[2])/g,(y[3]+120)/g]).slice(),this.titleEnable=!("titleEnable"in p)||!!p.titleEnable,this.titleAngle=p.titleAngle||0,this.titleColor=(p.titleColor||[0,0,0,1]).slice(),this.labelPad=(p.labelPad||[15,15,15,15]).slice(),this.labelAngle=(p.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(p.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(p.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(p.tickPad||[15,15,15,15]).slice(),this.tickAngle=(p.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(p.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(p.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(p.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(p.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(p.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=p.ticks||[[],[]],d=this._tickBounds;d[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var S=0;S<2;++S){var A=w[S].slice(0);A.length!==0&&(A.sort(x),d[S]=Math.min(d[S],A[0].x),d[S+2]=Math.max(d[S+2],A[A.length-1].x))}this.grid.update({bounds:d,ticks:w}),this.text.update({bounds:d,ticks:w,labels:p.labels||["x","y"],labelSize:p.labelSize||[12,12],labelFont:p.labelFont||["sans-serif","sans-serif"],labelFontStyle:p.labelFontStyle||["normal","normal"],labelFontWeight:p.labelFontWeight||["normal","normal"],labelFontVariant:p.labelFontVariant||["normal","normal"],title:p.title||"",titleSize:p.titleSize||18,titleFont:p.titleFont||"sans-serif",titleFontStyle:p.titleFontStyle||"normal",titleFontWeight:p.titleFontWeight||"normal",titleFontVariant:p.titleFontVariant||"normal"}),this.static=!!p.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var p=this.objects.length-1;p>=0;--p)this.objects[p].dispose();for(this.objects.length=0,p=this.overlays.length-1;p>=0;--p)this.overlays[p].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(p){this.objects.indexOf(p)<0&&(this.objects.push(p),this.setDirty())},h.removeObject=function(p){for(var v=this.objects,g=0;g<v.length;++g)if(v[g]===p){v.splice(g,1),this.setDirty();break}},h.addOverlay=function(p){this.overlays.indexOf(p)<0&&(this.overlays.push(p),this.setOverlayDirty())},h.removeOverlay=function(p){for(var v=this.overlays,g=0;g<v.length;++g)if(v[g]===p){v.splice(g,1),this.setOverlayDirty();break}}},4437:function(f,s,t){f.exports=function(h,c){h=h||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var p=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0,y=h.clientWidth,m=h.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:p,element:h,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:p.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var d=i(),S=this.delay,A=d-2*S;p.idle(d-S),p.recalcMatrix(A),p.flush(d-(100+2*S));for(var E=!0,P=p.computedMatrix,O=0;O<16;++O)E=E&&v[O]===P[O],v[O]=P[O];var I=h.clientWidth===y&&h.clientHeight===m;return y=h.clientWidth,m=h.clientHeight,E?!I:(g=Math.exp(p.computedRadius[0]),!0)},lookAt:function(d,S,A){p.lookAt(p.lastT(),d,S,A)},rotate:function(d,S,A){p.rotate(p.lastT(),d,S,A)},pan:function(d,S,A){p.pan(p.lastT(),d,S,A)},translate:function(d,S,A){p.translate(p.lastT(),d,S,A)}};return Object.defineProperties(w,{matrix:{get:function(){return p.computedMatrix},set:function(d){return p.setMatrix(p.lastT(),d),p.computedMatrix},enumerable:!0},mode:{get:function(){return p.getMode()},set:function(d){var S=p.computedUp.slice(),A=p.computedEye.slice(),E=p.computedCenter.slice();if(p.setMode(d),d==="turntable"){var P=i();p._active.lookAt(P,A,E,S),p._active.lookAt(P+500,A,E,[0,0,1]),p._active.flush(P)}return p.getMode()},enumerable:!0},center:{get:function(){return p.computedCenter},set:function(d){return p.lookAt(p.lastT(),null,d),p.computedCenter},enumerable:!0},eye:{get:function(){return p.computedEye},set:function(d){return p.lookAt(p.lastT(),d),p.computedEye},enumerable:!0},up:{get:function(){return p.computedUp},set:function(d){return p.lookAt(p.lastT(),null,null,d),p.computedUp},enumerable:!0},distance:{get:function(){return g},set:function(d){return p.setDistance(p.lastT(),d),d},enumerable:!0},distanceLimits:{get:function(){return p.getDistanceLimits(x)},set:function(d){return p.setDistanceLimits(d),d},enumerable:!0}}),h.addEventListener("contextmenu",function(d){return d.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){function d(S,A,E,P){var O=w.keyBindingMode;if(O!==!1){var I=O==="rotate",D=O==="pan",V=O==="zoom",z=!!P.control,j=!!P.alt,X=!!P.shift,F=!!(1&S),H=!!(2&S),W=!!(4&S),ie=1/h.clientHeight,te=ie*(A-w._lastX),Q=ie*(E-w._lastY),ne=w.flipX?1:-1,$=w.flipY?1:-1,J=Math.PI*w.rotateSpeed,re=i();if(w._lastX!==-1&&w._lastY!==-1&&((I&&F&&!z&&!j&&!X||F&&!z&&!j&&X)&&p.rotate(re,ne*J*te,-$*J*Q,0),(D&&F&&!z&&!j&&!X||H||F&&z&&!j&&!X)&&p.pan(re,-w.translateSpeed*te*g,w.translateSpeed*Q*g,0),V&&F&&!z&&!j&&!X||W||F&&!z&&j&&!X)){var se=-w.zoomSpeed*Q/window.innerHeight*(re-p.lastT())*100;p.pan(re,0,0,g*(Math.exp(se)-1))}return w._lastX=A,w._lastY=E,w._lastMods=P,!0}}w.mouseListener=n(h,d),h.addEventListener("touchstart",function(S){var A=l(S.changedTouches[0],h);d(0,A[0],A[1],w._lastMods),d(1,A[0],A[1],w._lastMods)},!!u&&{passive:!0}),h.addEventListener("touchmove",function(S){var A=l(S.changedTouches[0],h);d(1,A[0],A[1],w._lastMods),S.preventDefault()},!!u&&{passive:!1}),h.addEventListener("touchend",function(S){d(0,w._lastX,w._lastY,w._lastMods)},!!u&&{passive:!0}),w.wheelListener=a(h,function(S,A){if(w.keyBindingMode!==!1&&w.enableWheel){var E=w.flipX?1:-1,P=w.flipY?1:-1,O=i();if(Math.abs(S)>Math.abs(A))p.rotate(O,0,0,-S*E*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var I=-w.zoomSpeed*P*A/window.innerHeight*(O-p.lastT())/20;p.pan(O,0,0,g*(Math.exp(I)-1))}}},!0)},w.enableMouseListeners(),w};var i=t(3025),r=t(6296),n=t(351),a=t(8512),l=t(24),u=t(7520)},799:function(f,s,t){var i=t(3236),r=t(9405),n=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),a=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);f.exports=function(l){return r(l,n,a,null,[{name:"position",type:"vec2"}])}},4100:function(f,s,t){var i=t(4437),r=t(3837),n=t(5445),a=t(4449),l=t(3589),u=t(2260),h=t(7169),c=t(351),x=t(4772),p=t(4040),v=t(799),g=t(9216)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(d){var S=Math.round(Math.log(Math.abs(d))/Math.log(10));if(S<0){var A=Math.round(Math.pow(10,-S));return Math.ceil(d*A)/A}return S>0?(A=Math.round(Math.pow(10,S)),Math.ceil(d/A)*A):Math.ceil(d)}function w(d){return typeof d!="boolean"||d}f.exports={createScene:function(d){(d=d||{}).camera=d.camera||{};var S=d.canvas;S||(S=document.createElement("canvas"),d.container?d.container.appendChild(S):document.body.appendChild(S));var A=d.gl;if(A||(d.glOptions&&(g=!!d.glOptions.preserveDrawingBuffer),A=function(Se,Fe){var xe=null;try{(xe=Se.getContext("webgl",Fe))||(xe=Se.getContext("experimental-webgl",Fe))}catch{return null}return xe}(S,d.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:g})),!A)throw new Error("webgl not supported");var E=d.bounds||[[-10,-10,-10],[10,10,10]],P=new y,O=u(A,A.drawingBufferWidth,A.drawingBufferHeight,{preferFloat:!g}),I=v(A),D=d.cameraObject&&d.cameraObject._ortho===!0||d.camera.projection&&d.camera.projection.type==="orthographic"||!1,V={eye:d.camera.eye||[2,0,0],center:d.camera.center||[0,0,0],up:d.camera.up||[0,1,0],zoomMin:d.camera.zoomMax||.1,zoomMax:d.camera.zoomMin||100,mode:d.camera.mode||"turntable",_ortho:D},z=d.axes||{},j=r(A,z);j.enable=!z.disable;var X=d.spikes||{},F=a(A,X),H=[],W=[],ie=[],te=[],Q=!0,ne=!0,$={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},J=(ne=!0,[A.drawingBufferWidth,A.drawingBufferHeight]),re=d.cameraObject||i(S,V),se={gl:A,contextLost:!1,pixelRatio:d.pixelRatio||1,canvas:S,selection:P,camera:re,axes:j,axesPixels:null,spikes:F,bounds:E,objects:H,shape:J,aspect:d.aspectRatio||[1,1,1],pickRadius:d.pickRadius||10,zNear:d.zNear||.01,zFar:d.zFar||1e3,fovy:d.fovy||Math.PI/4,clearColor:d.clearColor||[0,0,0,0],autoResize:w(d.autoResize),autoBounds:w(d.autoBounds),autoScale:!!d.autoScale,autoCenter:w(d.autoCenter),clipToBounds:w(d.clipToBounds),snapToData:!!d.snapToData,onselect:d.onselect||null,onrender:d.onrender||null,onclick:d.onclick||null,cameraParams:$,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Se){this.aspect[0]=Se.x,this.aspect[1]=Se.y,this.aspect[2]=Se.z,ne=!0},setBounds:function(Se,Fe){this.bounds[0][Se]=Fe.min,this.bounds[1][Se]=Fe.max},setClearColor:function(Se){this.clearColor=Se},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ue=[A.drawingBufferWidth/se.pixelRatio|0,A.drawingBufferHeight/se.pixelRatio|0];function he(){if(!se._stopped&&se.autoResize){var Se=S.parentNode,Fe=1,xe=1;Se&&Se!==document.body?(Fe=Se.clientWidth,xe=Se.clientHeight):(Fe=window.innerWidth,xe=window.innerHeight);var le=0|Math.ceil(Fe*se.pixelRatio),oe=0|Math.ceil(xe*se.pixelRatio);if(le!==S.width||oe!==S.height){S.width=le,S.height=oe;var de=S.style;de.position=de.position||"absolute",de.left="0px",de.top="0px",de.width=Fe+"px",de.height=xe+"px",Q=!0}}}function pe(){for(var Se=H.length,Fe=te.length,xe=0;xe<Fe;++xe)ie[xe]=0;e:for(xe=0;xe<Se;++xe){var le=H[xe],oe=le.pickSlots;if(oe){for(var de=0;de<Fe;++de)if(ie[de]+oe<255){W[xe]=de,le.setPickBase(ie[de]+1),ie[de]+=oe;continue e}var Ce=l(A,J);W[xe]=Fe,te.push(Ce),ie.push(oe),le.setPickBase(1),Fe+=1}else W[xe]=-1}for(;Fe>0&&ie[Fe-1]===0;)ie.pop(),te.pop().dispose()}function ge(){if(se.contextLost)return!0;A.isContextLost()&&(se.contextLost=!0,se.mouseListener.enabled=!1,se.selection.object=null,se.oncontextloss&&se.oncontextloss())}se.autoResize&&he(),window.addEventListener("resize",he),se.update=function(Se){se._stopped||(Q=!0,ne=!0)},se.add=function(Se){se._stopped||(Se.axes=j,H.push(Se),W.push(-1),Q=!0,ne=!0,pe())},se.remove=function(Se){if(!se._stopped){var Fe=H.indexOf(Se);Fe<0||(H.splice(Fe,1),W.pop(),Q=!0,ne=!0,pe())}},se.dispose=function(){if(!se._stopped&&(se._stopped=!0,window.removeEventListener("resize",he),S.removeEventListener("webglcontextlost",ge),se.mouseListener.enabled=!1,!se.contextLost)){j.dispose(),F.dispose();for(var Se=0;Se<H.length;++Se)H[Se].dispose();for(O.dispose(),Se=0;Se<te.length;++Se)te[Se].dispose();I.dispose(),A=null,j=null,F=null,H=[]}},se._mouseRotating=!1,se._prevButtons=0,se.enableMouseListeners=function(){se.mouseListener=c(S,function(Se,Fe,xe){if(!se._stopped){var le=te.length,oe=H.length,de=P.object;P.distance=1/0,P.mouse[0]=Fe,P.mouse[1]=xe,P.object=null,P.screen=null,P.dataCoordinate=P.dataPosition=null;var Ce=!1;if(Se&&se._prevButtons)se._mouseRotating=!0;else{se._mouseRotating&&(ne=!0),se._mouseRotating=!1;for(var _e=0;_e<le;++_e){var Ae=te[_e].query(Fe,ue[1]-xe-1,se.pickRadius);if(Ae){if(Ae.distance>P.distance)continue;for(var Le=0;Le<oe;++Le){var ze=H[Le];if(W[Le]===_e){var Re=ze.pick(Ae);Re&&(P.buttons=Se,P.screen=Ae.coord,P.distance=Ae.distance,P.object=ze,P.index=Re.distance,P.dataPosition=Re.position,P.dataCoordinate=Re.dataCoordinate,P.data=Re,Ce=!0)}}}}}de&&de!==P.object&&(de.highlight&&de.highlight(null),Q=!0),P.object&&(P.object.highlight&&P.object.highlight(P.data),Q=!0),(Ce=Ce||P.object!==de)&&se.onselect&&se.onselect(P),1&Se&&!(1&se._prevButtons)&&se.onclick&&se.onclick(P),se._prevButtons=Se}})},S.addEventListener("webglcontextlost",ge);var ye=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],be=[ye[0].slice(),ye[1].slice()];function Te(){if(!ge()){he();var Se=se.camera.tick();$.view=se.camera.matrix,Q=Q||Se,ne=ne||Se,j.pixelRatio=se.pixelRatio,F.pixelRatio=se.pixelRatio;var Fe=H.length,xe=ye[0],le=ye[1];xe[0]=xe[1]=xe[2]=1/0,le[0]=le[1]=le[2]=-1/0;for(var oe=0;oe<Fe;++oe){(Pe=H[oe]).pixelRatio=se.pixelRatio,Pe.axes=se.axes,Q=Q||!!Pe.dirty,ne=ne||!!Pe.dirty;var de=Pe.bounds;if(de)for(var Ce=de[0],_e=de[1],Ae=0;Ae<3;++Ae)xe[Ae]=Math.min(xe[Ae],Ce[Ae]),le[Ae]=Math.max(le[Ae],_e[Ae])}var Le=se.bounds;if(se.autoBounds)for(Ae=0;Ae<3;++Ae){if(le[Ae]<xe[Ae])xe[Ae]=-1,le[Ae]=1;else{xe[Ae]===le[Ae]&&(xe[Ae]-=1,le[Ae]+=1);var ze=.05*(le[Ae]-xe[Ae]);xe[Ae]=xe[Ae]-ze,le[Ae]=le[Ae]+ze}Le[0][Ae]=xe[Ae],Le[1][Ae]=le[Ae]}var Re=!1;for(Ae=0;Ae<3;++Ae)Re=Re||be[0][Ae]!==Le[0][Ae]||be[1][Ae]!==Le[1][Ae],be[0][Ae]=Le[0][Ae],be[1][Ae]=Le[1][Ae];if(ne=ne||Re,Q=Q||Re){if(Re){var ve=[0,0,0];for(oe=0;oe<3;++oe)ve[oe]=m((Le[1][oe]-Le[0][oe])/10);j.autoTicks?j.update({bounds:Le,tickSpacing:ve}):j.update({bounds:Le})}var ke=A.drawingBufferWidth,Ee=A.drawingBufferHeight;for(J[0]=ke,J[1]=Ee,ue[0]=0|Math.max(ke/se.pixelRatio,1),ue[1]=0|Math.max(Ee/se.pixelRatio,1),function(Ue,We){var $e=Ue.bounds,ot=Ue.cameraParams,st=ot.projection,mt=ot.model,_t=Ue.gl.drawingBufferWidth,yt=Ue.gl.drawingBufferHeight,it=Ue.zNear,tt=Ue.zFar,Pt=Ue.fovy,Rt=_t/yt;We?(p(st,-Rt,Rt,-1,1,it,tt),ot._ortho=!0):(x(st,Pt,Rt,it,tt),ot._ortho=!1);for(var Ft=0;Ft<16;++Ft)mt[Ft]=0;mt[15]=1;var Ot=0;for(Ft=0;Ft<3;++Ft)Ot=Math.max(Ot,$e[1][Ft]-$e[0][Ft]);for(Ft=0;Ft<3;++Ft)Ue.autoScale?mt[5*Ft]=Ue.aspect[Ft]/($e[1][Ft]-$e[0][Ft]):mt[5*Ft]=1/Ot,Ue.autoCenter&&(mt[12+Ft]=.5*-mt[5*Ft]*($e[0][Ft]+$e[1][Ft]))}(se,D),oe=0;oe<Fe;++oe)(Pe=H[oe]).axesBounds=Le,se.clipToBounds&&(Pe.clipBounds=Le);P.object&&(se.snapToData?F.position=P.dataCoordinate:F.position=P.dataPosition,F.bounds=Le),ne&&(ne=!1,function(){if(!ge()){A.colorMask(!0,!0,!0,!0),A.depthMask(!0),A.disable(A.BLEND),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL);for(var Ue=H.length,We=te.length,$e=0;$e<We;++$e){var ot=te[$e];ot.shape=ue,ot.begin();for(var st=0;st<Ue;++st)if(W[st]===$e){var mt=H[st];mt.drawPick&&(mt.pixelRatio=1,mt.drawPick($))}ot.end()}}}()),se.axesPixels=n(se.axes,$,ke,Ee),se.onrender&&se.onrender(),A.bindFramebuffer(A.FRAMEBUFFER,null),A.viewport(0,0,ke,Ee),se.clearRGBA(),A.depthMask(!0),A.colorMask(!0,!0,!0,!0),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.disable(A.BLEND),A.disable(A.CULL_FACE);var De=!1;for(j.enable&&(De=De||j.isTransparent(),j.draw($)),F.axes=j,P.object&&F.draw($),A.disable(A.CULL_FACE),oe=0;oe<Fe;++oe)(Pe=H[oe]).axes=j,Pe.pixelRatio=se.pixelRatio,Pe.isOpaque&&Pe.isOpaque()&&Pe.draw($),Pe.isTransparent&&Pe.isTransparent()&&(De=!0);if(De){for(O.shape=J,O.bind(),A.clear(A.DEPTH_BUFFER_BIT),A.colorMask(!1,!1,!1,!1),A.depthMask(!0),A.depthFunc(A.LESS),j.enable&&j.isTransparent()&&j.drawTransparent($),oe=0;oe<Fe;++oe)(Pe=H[oe]).isOpaque&&Pe.isOpaque()&&Pe.draw($);for(A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.colorMask(!0,!0,!0,!0),A.depthMask(!1),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent($),oe=0;oe<Fe;++oe){var Pe;(Pe=H[oe]).isTransparent&&Pe.isTransparent()&&Pe.drawTransparent($)}A.bindFramebuffer(A.FRAMEBUFFER,null),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.disable(A.DEPTH_TEST),I.bind(),O.color[0].bind(0),I.uniforms.accumBuffer=0,h(A),A.disable(A.BLEND)}for(Q=!1,oe=0;oe<Fe;++oe)H[oe].dirty=!1}}}return se.enableMouseListeners(),function Se(){se._stopped||se.contextLost||(Te(),requestAnimationFrame(Se))}(),se.redraw=function(){se._stopped||(Q=!0,Te())},se},createCamera:i}},6640:function(f,s,t){var i=t(3236);s.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(f,s,t){var i=t(9405),r=t(2762),n=t(1888),a=t(6640);function l(x,p,v,g,y){this.plot=x,this.offsetBuffer=p,this.pickBuffer=v,this.shader=g,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}f.exports=function(x,p){var v=x.gl,g=new l(x,r(v),r(v),i(v,a.pointVertex,a.pointFragment),i(v,a.pickVertex,a.pickFragment));return g.update(p),x.addObject(g),g};var u,h,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var p;function v(A,E){return A in x?x[A]:E}x=x||{},this.sizeMin=v("sizeMin",.5),this.sizeMax=v("sizeMax",20),this.color=v("color",[1,0,0,1]).slice(),this.areaRatio=v("areaRatio",1),this.borderColor=v("borderColor",[0,0,0,1]).slice(),this.blend=v("blend",!1);var g=x.positions.length>>>1,y=x.positions instanceof Float32Array,m=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=g,w=x.positions,d=y?w:n.mallocFloat32(w.length),S=m?x.idToIndex:n.mallocInt32(g);if(y||d.set(w),!m)for(d.set(w),p=0;p<g;p++)S[p]=p;this.points=w,this.offsetBuffer.update(d),this.pickBuffer.update(S),y||n.free(d),m||n.free(S),this.pointCount=g,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(x){var p=x!==void 0,v=p?this.pickShader:this.shader,g=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return x;var m=y[2]-y[0],w=y[3]-y[1],d=function(P,O){var I,D=0,V=P.length>>>1;for(I=0;I<V;I++){var z=P[2*I],j=P[2*I+1];z>=O[0]&&z<=O[2]&&j>=O[1]&&j<=O[3]&&D++}return D}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(d,.33333)));u[0]=2/m,u[4]=2/w,u[6]=-2*y[0]/m-1,u[7]=-2*y[1]/w-1,this.offsetBuffer.bind(),v.bind(),v.attributes.position.pointer(),v.uniforms.matrix=u,v.uniforms.color=this.color,v.uniforms.borderColor=this.borderColor,v.uniforms.pointCloud=S<5,v.uniforms.pointSize=S,v.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=255&x,h[1]=x>>8&255,h[2]=x>>16&255,h[3]=x>>24&255,this.pickBuffer.bind(),v.attributes.pickId.pointer(g.UNSIGNED_BYTE),v.uniforms.pickOffset=h,this.pickOffset=x);var A=g.getParameter(g.BLEND),E=g.getParameter(g.DITHER);return A&&!this.blend&&g.disable(g.BLEND),E&&g.disable(g.DITHER),g.drawArrays(g.POINTS,0,this.pointCount),A&&!this.blend&&g.enable(g.BLEND),E&&g.enable(g.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,p,v){var g=this.pickOffset,y=this.pointCount;if(v<g||v>=g+y)return null;var m=v-g,w=this.points;return{object:this,pointId:m,dataCoord:[w[2*m],w[2*m+1]]}}},783:function(f){f.exports=function(s,t,i,r){var n,a,l,u,h,c=t[0],x=t[1],p=t[2],v=t[3],g=i[0],y=i[1],m=i[2],w=i[3];return(a=c*g+x*y+p*m+v*w)<0&&(a=-a,g=-g,y=-y,m=-m,w=-w),1-a>1e-6?(n=Math.acos(a),l=Math.sin(n),u=Math.sin((1-r)*n)/l,h=Math.sin(r*n)/l):(u=1-r,h=r),s[0]=u*c+h*g,s[1]=u*x+h*y,s[2]=u*p+h*m,s[3]=u*v+h*w,s}},5964:function(f){f.exports=function(s){return s||s===0?s.toString():""}},9366:function(f,s,t){var i=t(4359);f.exports=function(n,a,l){var u=[a.style,a.weight,a.variant,a.family].join("_"),h=r[u];if(h||(h=r[u]={}),n in h)return h[n];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:a.family,fontStyle:a.style,fontWeight:a.weight,fontVariant:a.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},x=i(n,c);c.triangles=!1;var p,v,g=i(n,c);if(l&&l!==1){for(p=0;p<x.positions.length;++p)for(v=0;v<x.positions[p].length;++v)x.positions[p][v]/=l;for(p=0;p<g.positions.length;++p)for(v=0;v<g.positions[p].length;++v)g.positions[p][v]/=l}var y=[[1/0,1/0],[-1/0,-1/0]],m=g.positions.length;for(p=0;p<m;++p){var w=g.positions[p];for(v=0;v<2;++v)y[0][v]=Math.min(y[0][v],w[v]),y[1][v]=Math.max(y[1][v],w[v])}return h[n]=[x,g,y]};var r={}},1283:function(f,s,t){var i=t(9405),r=t(3236),n=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),a=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:n,fragment:u,attributes:c},p={vertex:a,fragment:u,attributes:c},v={vertex:l,fragment:u,attributes:c},g={vertex:n,fragment:h,attributes:c},y={vertex:a,fragment:h,attributes:c},m={vertex:l,fragment:h,attributes:c};function w(d,S){var A=i(d,S),E=A.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,A}s.createPerspective=function(d){return w(d,x)},s.createOrtho=function(d){return w(d,p)},s.createProject=function(d){return w(d,v)},s.createPickPerspective=function(d){return w(d,g)},s.createPickOrtho=function(d){return w(d,y)},s.createPickProject=function(d){return w(d,m)}},8418:function(f,s,t){var i=t(5219),r=t(2762),n=t(8116),a=t(1888),l=t(6760),u=t(1283),h=t(9366),c=t(5964),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p=ArrayBuffer,v=DataView;function g(Q){return Array.isArray(Q)||function(ne){return p.isView(ne)&&!(ne instanceof v)}(Q)}function y(Q,ne){var $=Q[0],J=Q[1],re=Q[2],se=Q[3];return Q[0]=ne[0]*$+ne[4]*J+ne[8]*re+ne[12]*se,Q[1]=ne[1]*$+ne[5]*J+ne[9]*re+ne[13]*se,Q[2]=ne[2]*$+ne[6]*J+ne[10]*re+ne[14]*se,Q[3]=ne[3]*$+ne[7]*J+ne[11]*re+ne[15]*se,Q}function m(Q,ne,$,J){return y(J,J),y(J,J),y(J,J)}function w(Q,ne){this.index=Q,this.dataCoordinate=this.position=ne}function d(Q){return Q===!0||Q>1?1:Q}function S(Q,ne,$,J,re,se,ue,he,pe,ge,ye,be){this.gl=Q,this.pixelRatio=1,this.shader=ne,this.orthoShader=$,this.projectShader=J,this.pointBuffer=re,this.colorBuffer=se,this.glyphBuffer=ue,this.idBuffer=he,this.vao=pe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ge,this.pickOrthoShader=ye,this.pickProjectShader=be,this.points=[],this._selectResult=new w(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}f.exports=function(Q){var ne=Q.gl,$=u.createPerspective(ne),J=u.createOrtho(ne),re=u.createProject(ne),se=u.createPickPerspective(ne),ue=u.createPickOrtho(ne),he=u.createPickProject(ne),pe=r(ne),ge=r(ne),ye=r(ne),be=r(ne),Te=new S(ne,$,J,re,pe,ge,ye,be,n(ne,[{buffer:pe,size:3,type:ne.FLOAT},{buffer:ge,size:4,type:ne.FLOAT},{buffer:ye,size:2,type:ne.FLOAT},{buffer:be,size:4,type:ne.UNSIGNED_BYTE,normalized:!0}]),se,ue,he);return Te.update(Q),Te};var A=S.prototype;A.pickSlots=1,A.setPickBase=function(Q){this.pickId=Q},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var E=[0,0],P=[0,0,0],O=[0,0,0],I=[0,0,0,1],D=[0,0,0,1],V=x.slice(),z=[0,0,0],j=[[0,0,0],[0,0,0]];function X(Q){return Q[0]=Q[1]=Q[2]=0,Q}function F(Q,ne){return Q[0]=ne[0],Q[1]=ne[1],Q[2]=ne[2],Q[3]=1,Q}function H(Q,ne,$,J){return Q[0]=ne[0],Q[1]=ne[1],Q[2]=ne[2],Q[$]=J,Q}var W=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function ie(Q,ne,$,J,re,se,ue){var he=$.gl;if((se===$.projectHasAlpha||ue)&&function(ge,ye,be,Te){var Se,Fe=ye.axesProject,xe=ye.gl,le=ge.uniforms,oe=be.model||x,de=be.view||x,Ce=be.projection||x,_e=ye.axesBounds,Ae=function(mt){for(var _t=j,yt=0;yt<2;++yt)for(var it=0;it<3;++it)_t[yt][it]=Math.max(Math.min(mt[yt][it],1e8),-1e8);return _t}(ye.clipBounds);Se=ye.axes&&ye.axes.lastCubeProps?ye.axes.lastCubeProps.axis:[1,1,1],E[0]=2/xe.drawingBufferWidth,E[1]=2/xe.drawingBufferHeight,ge.bind(),le.view=de,le.projection=Ce,le.screenSize=E,le.highlightId=ye.highlightId,le.highlightScale=ye.highlightScale,le.clipBounds=Ae,le.pickGroup=ye.pickId/255,le.pixelRatio=Te;for(var Le=0;Le<3;++Le)if(Fe[Le]){le.scale=ye.projectScale[Le],le.opacity=ye.projectOpacity[Le];for(var ze=V,Re=0;Re<16;++Re)ze[Re]=0;for(Re=0;Re<4;++Re)ze[5*Re]=1;ze[5*Le]=0,Se[Le]<0?ze[12+Le]=_e[0][Le]:ze[12+Le]=_e[1][Le],l(ze,oe,ze),le.model=ze;var ve=(Le+1)%3,ke=(Le+2)%3,Ee=X(P),De=X(O);Ee[ve]=1,De[ke]=1;var Pe=m(0,0,0,F(I,Ee)),Ue=m(0,0,0,F(D,De));if(Math.abs(Pe[1])>Math.abs(Ue[1])){var We=Pe;Pe=Ue,Ue=We,We=Ee,Ee=De,De=We;var $e=ve;ve=ke,ke=$e}Pe[0]<0&&(Ee[ve]=-1),Ue[1]>0&&(De[ke]=-1);var ot=0,st=0;for(Re=0;Re<4;++Re)ot+=Math.pow(oe[4*ve+Re],2),st+=Math.pow(oe[4*ke+Re],2);Ee[ve]/=Math.sqrt(ot),De[ke]/=Math.sqrt(st),le.axes[0]=Ee,le.axes[1]=De,le.fragClipBounds[0]=H(z,Ae[0],Le,-1e8),le.fragClipBounds[1]=H(z,Ae[1],Le,1e8),ye.vao.bind(),ye.vao.draw(xe.TRIANGLES,ye.vertexCount),ye.lineWidth>0&&(xe.lineWidth(ye.lineWidth*Te),ye.vao.draw(xe.LINES,ye.lineVertexCount,ye.vertexCount)),ye.vao.unbind()}}(ne,$,J,re),se===$.hasAlpha||ue){Q.bind();var pe=Q.uniforms;pe.model=J.model||x,pe.view=J.view||x,pe.projection=J.projection||x,E[0]=2/he.drawingBufferWidth,E[1]=2/he.drawingBufferHeight,pe.screenSize=E,pe.highlightId=$.highlightId,pe.highlightScale=$.highlightScale,pe.fragClipBounds=W,pe.clipBounds=$.axes.bounds,pe.opacity=$.opacity,pe.pickGroup=$.pickId/255,pe.pixelRatio=re,$.vao.bind(),$.vao.draw(he.TRIANGLES,$.vertexCount),$.lineWidth>0&&(he.lineWidth($.lineWidth*re),$.vao.draw(he.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}function te(Q,ne,$,J){var re;re=g(Q)?ne<Q.length?Q[ne]:void 0:Q,re=c(re);var se=!0;i(re)&&(re="",se=!1),$||($={});var ue=$.family;g(ue)&&(ue=ue[ne]),ue||(ue="normal");var he=$.weight;g(he)&&(he=he[ne]),he||(he="normal");var pe=$.style;g(pe)&&(pe=pe[ne]),pe||(pe="normal");var ge=$.variant;g(ge)&&(ge=ge[ne]),ge||(ge="normal");var ye=h(re,{family:ue,weight:he,style:pe,variant:ge},J);return{mesh:(ye=h(re,$,J))[0],lines:ye[1],bounds:ye[2],visible:se}}A.draw=function(Q){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Q,this.pixelRatio,!1,!1)},A.drawTransparent=function(Q){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Q,this.pixelRatio,!0,!1)},A.drawPick=function(Q){ie(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,Q,1,!0,!0)},A.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var ne=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(ne>=this.pointCount||ne<0)return null;var $=this.points[ne],J=this._selectResult;J.index=ne;for(var re=0;re<3;++re)J.position[re]=J.dataCoordinate[re]=$[re];return J},A.highlight=function(Q){if(Q){var ne=Q.index,$=255&ne,J=ne>>8&255,re=ne>>16&255;this.highlightId=[$/255,J/255,re/255,0]}else this.highlightId=[1,1,1,1]},A.update=function(Q){if("perspective"in(Q=Q||{})&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(g(Q.project))this.axesProject=Q.project;else{var ne=!!Q.project;this.axesProject=[ne,ne,ne]}if("projectScale"in Q)if(g(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var $=+Q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){g(Q.projectOpacity)?this.projectOpacity=Q.projectOpacity.slice():($=+Q.projectOpacity,this.projectOpacity=[$,$,$]);for(var J=0;J<3;++J)this.projectOpacity[J]=d(this.projectOpacity[J]),this.projectOpacity[J]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=d(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re,se,ue=Q.position,he={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},pe=Q.alignment||[0,0];if(pe.length===2)re=pe[0],se=pe[1];else for(re=[],se=[],J=0;J<pe.length;++J)re[J]=pe[J][0],se[J]=pe[J][1];var ge=[1/0,1/0,1/0],ye=[-1/0,-1/0,-1/0],be=Q.glyph,Te=Q.color,Se=Q.size,Fe=Q.angle,xe=Q.lineColor,le=-1,oe=0,de=0,Ce=0;if(ue.length){Ce=ue.length;e:for(J=0;J<Ce;++J){for(var _e=ue[J],Ae=0;Ae<3;++Ae)if(isNaN(_e[Ae])||!isFinite(_e[Ae]))continue e;var Le=(_t=te(be,J,he,this.pixelRatio)).mesh,ze=_t.lines,Re=_t.bounds;oe+=3*Le.cells.length,de+=2*ze.edges.length}}var ve=oe+de,ke=a.mallocFloat(3*ve),Ee=a.mallocFloat(4*ve),De=a.mallocFloat(2*ve),Pe=a.mallocUint32(ve);if(ve>0){var Ue=0,We=oe,$e=[0,0,0,1],ot=[0,0,0,1],st=g(Te)&&g(Te[0]),mt=g(xe)&&g(xe[0]);e:for(J=0;J<Ce;++J){for(le+=1,_e=ue[J],Ae=0;Ae<3;++Ae){if(isNaN(_e[Ae])||!isFinite(_e[Ae]))continue e;ye[Ae]=Math.max(ye[Ae],_e[Ae]),ge[Ae]=Math.min(ge[Ae],_e[Ae])}Le=(_t=te(be,J,he,this.pixelRatio)).mesh,ze=_t.lines,Re=_t.bounds;var _t,yt=_t.visible;if(yt)if(g(Te)){if((it=st?J<Te.length?Te[J]:[0,0,0,0]:Te).length===3){for(Ae=0;Ae<3;++Ae)$e[Ae]=it[Ae];$e[3]=1}else if(it.length===4){for(Ae=0;Ae<4;++Ae)$e[Ae]=it[Ae];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else $e[0]=$e[1]=$e[2]=0,$e[3]=1;else $e=[1,1,1,0];if(yt)if(g(xe)){var it;if((it=mt?J<xe.length?xe[J]:[0,0,0,0]:xe).length===3){for(Ae=0;Ae<3;++Ae)ot[Ae]=it[Ae];ot[Ae]=1}else if(it.length===4){for(Ae=0;Ae<4;++Ae)ot[Ae]=it[Ae];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else ot[0]=ot[1]=ot[2]=0,ot[3]=1;else ot=[1,1,1,0];var tt=.5;yt?g(Se)?tt=J<Se.length?+Se[J]:12:Se?tt=+Se:this.useOrtho&&(tt=12):tt=0;var Pt=0;g(Fe)?Pt=J<Fe.length?+Fe[J]:0:Fe&&(Pt=+Fe);var Rt=Math.cos(Pt),Ft=Math.sin(Pt);for(_e=ue[J],Ae=0;Ae<3;++Ae)ye[Ae]=Math.max(ye[Ae],_e[Ae]),ge[Ae]=Math.min(ge[Ae],_e[Ae]);var Ot=re,Xe=se;Ot=0,g(re)?Ot=J<re.length?re[J]:0:re&&(Ot=re),Xe=0,g(se)?Xe=J<se.length?se[J]:0:se&&(Xe=se);var Je=[Ot*=Ot>0?1-Re[0][0]:Ot<0?1+Re[1][0]:1,Xe*=Xe>0?1-Re[0][1]:Xe<0?1+Re[1][1]:1],Ve=Le.cells||[],Ke=Le.positions||[];for(Ae=0;Ae<Ve.length;++Ae)for(var ft=Ve[Ae],ut=0;ut<3;++ut){for(var xt=0;xt<3;++xt)ke[3*Ue+xt]=_e[xt];for(xt=0;xt<4;++xt)Ee[4*Ue+xt]=$e[xt];Pe[Ue]=le;var bt=Ke[ft[ut]];De[2*Ue]=tt*(Rt*bt[0]-Ft*bt[1]+Je[0]),De[2*Ue+1]=tt*(Ft*bt[0]+Rt*bt[1]+Je[1]),Ue+=1}for(Ve=ze.edges,Ke=ze.positions,Ae=0;Ae<Ve.length;++Ae)for(ft=Ve[Ae],ut=0;ut<2;++ut){for(xt=0;xt<3;++xt)ke[3*We+xt]=_e[xt];for(xt=0;xt<4;++xt)Ee[4*We+xt]=ot[xt];Pe[We]=le,bt=Ke[ft[ut]],De[2*We]=tt*(Rt*bt[0]-Ft*bt[1]+Je[0]),De[2*We+1]=tt*(Ft*bt[0]+Rt*bt[1]+Je[1]),We+=1}}}this.bounds=[ge,ye],this.points=ue,this.pointCount=ue.length,this.vertexCount=oe,this.lineVertexCount=de,this.pointBuffer.update(ke),this.colorBuffer.update(Ee),this.glyphBuffer.update(De),this.idBuffer.update(Pe),a.free(ke),a.free(Ee),a.free(De),a.free(Pe)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(f,s,t){var i=t(3236);s.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(f,s,t){var i=t(9405),r=t(2762),n=t(4298);function a(u,h,c){this.plot=u,this.boxBuffer=h,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}f.exports=function(u,h){var c=u.gl,x=new a(u,r(c,[0,0,0,1,1,0,1,1]),i(c,n.boxVertex,n.boxFragment));return x.update(h),u.addOverlay(x),x};var l=a.prototype;l.draw=function(){if(this.enabled){var u=this.plot,h=this.selectBox,c=this.borderWidth,x=(this.innerFill,this.innerColor),p=(this.outerFill,this.outerColor),v=this.borderColor,g=u.box,y=u.screenBox,m=u.dataBox,w=u.viewBox,d=u.pixelRatio,S=(h[0]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],A=(h[1]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1],E=(h[2]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],P=(h[3]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1];if(S=Math.max(S,w[0]),A=Math.max(A,w[1]),E=Math.min(E,w[2]),P=Math.min(P,w[3]),!(E<S||P<A)){g.bind();var O=y[2]-y[0],I=y[3]-y[1];if(this.outerFill&&(g.drawBox(0,0,O,A,p),g.drawBox(0,A,S,P,p),g.drawBox(0,P,O,I,p),g.drawBox(E,A,O,P,p)),this.innerFill&&g.drawBox(S,A,E,P,x),c>0){var D=c*d;g.drawBox(S-D,A-D,E+D,A+D,v),g.drawBox(S-D,P-D,E+D,P+D,v),g.drawBox(S-D,A-D,S+D,P+D,v),g.drawBox(E-D,A-D,E+D,P+D,v)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(f,s,t){f.exports=function(c,x){var p=x[0],v=x[1];return new u(c,i(c,p,v,{}),r.mallocUint8(p*v*4))};var i=t(2260),r=t(1888),n=t(9618),a=t(8828).nextPow2;function l(c,x,p,v,g){this.coord=[c,x],this.id=p,this.value=v,this.distance=g}function u(c,x,p){this.gl=c,this.fbo=x,this.buffer=p,this._readTimeout=null;var v=this;this._readCallback=function(){v.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,v.buffer),v._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],p=this.fbo.shape[1];if(p*x*4>this.buffer.length){r.free(this.buffer);for(var v=this.buffer=r.mallocUint8(a(p*x*4)),g=0;g<p*x*4;++g)v[g]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,x,p){if(!this.gl)return null;var v=this.fbo.shape.slice();c|=0,x|=0,typeof p!="number"&&(p=1);var g=0|Math.min(Math.max(c-p,0),v[0]),y=0|Math.min(Math.max(c+p,0),v[0]),m=0|Math.min(Math.max(x-p,0),v[1]),w=0|Math.min(Math.max(x+p,0),v[1]);if(y<=g||w<=m)return null;var d=[y-g,w-m],S=n(this.buffer,[d[0],d[1],4],[4,4*v[0],1],4*(g+v[0]*m)),A=function(O,I,D){for(var V=1e8,z=-1,j=-1,X=O.shape[0],F=O.shape[1],H=0;H<X;H++)for(var W=0;W<F;W++){var ie=O.get(H,W,0),te=O.get(H,W,1),Q=O.get(H,W,2),ne=O.get(H,W,3);if(ie<255||te<255||Q<255||ne<255){var $=I-H,J=D-W,re=$*$+J*J;re<V&&(V=re,z=H,j=W)}}return[z,j,V]}(S.hi(d[0],d[1],1),p,p),E=A[0],P=A[1];return E<0||Math.pow(this.radius,2)<A[2]?null:new l(E+g|0,P+m|0,S.get(E,P,0),[S.get(E,P,1),S.get(E,P,2),S.get(E,P,3)],Math.sqrt(A[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(f,s,t){var i=t(3327),r=t(8731),n=t(216),a=t(5091),l=t(2145),u=t(8866);function h(p){this.gl=p,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=h.prototype;function x(p,v){return p.name<v.name?-1:1}c.bind=function(){var p;this.program||this._relink();var v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),g=this.gl.lastAttribCount;if(v>g)for(p=g;p<v;p++)this.gl.enableVertexAttribArray(p);else if(g>v)for(p=v;p<g;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},c.dispose=function(){for(var p=this.gl.lastAttribCount,v=0;v<p;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(p,v,g,y){if(!v||arguments.length===1){var m=p;p=m.vertex,v=m.fragment,g=m.uniforms,y=m.attributes}var w=this,d=w.gl,S=w._vref;w._vref=a.shader(d,d.VERTEX_SHADER,p),S&&S.dispose(),w.vertShader=w._vref.shader;var A=this._fref;if(w._fref=a.shader(d,d.FRAGMENT_SHADER,v),A&&A.dispose(),w.fragShader=w._fref.shader,!g||!y){var E=d.createProgram();if(d.attachShader(E,w.fragShader),d.attachShader(E,w.vertShader),d.linkProgram(E),!d.getProgramParameter(E,d.LINK_STATUS)){var P=d.getProgramInfoLog(E);throw new u(P,"Error linking program:"+P)}g=g||l.uniforms(d,E),y=y||l.attributes(d,E),d.deleteProgram(E)}(y=y.slice()).sort(x);var O,I=[],D=[],V=[];for(O=0;O<y.length;++O){var z=y[O];if(z.type.indexOf("mat")>=0){for(var j=0|z.type.charAt(z.type.length-1),X=new Array(j),F=0;F<j;++F)X[F]=V.length,D.push(z.name+"["+F+"]"),typeof z.location=="number"?V.push(z.location+F):Array.isArray(z.location)&&z.location.length===j&&typeof z.location[F]=="number"?V.push(0|z.location[F]):V.push(-1);I.push({name:z.name,type:z.type,locations:X})}else I.push({name:z.name,type:z.type,locations:[V.length]}),D.push(z.name),typeof z.location=="number"?V.push(0|z.location):V.push(-1)}var H=0;for(O=0;O<V.length;++O)if(V[O]<0){for(;V.indexOf(H)>=0;)H+=1;V[O]=H}var W=new Array(g.length);function ie(){w.program=a.program(d,w._vref,w._fref,D,V);for(var te=0;te<g.length;++te)W[te]=d.getUniformLocation(w.program,g[te].name)}ie(),w._relink=ie,w.types={uniforms:n(g),attributes:n(y)},w.attributes=r(d,w,I,V),Object.defineProperty(w,"uniforms",i(d,w,g,W))},f.exports=function(p,v,g,y,m){var w=new h(p);return w.update(v,g,y,m),w}},8866:function(f){function s(t,i,r){this.shortMessage=i||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(r?`
`+r:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,f.exports=s},8731:function(f,s,t){f.exports=function(h,c,x,p){for(var v={},g=0,y=x.length;g<y;++g){var m=x[g],w=m.name,d=m.type,S=m.locations;switch(d){case"bool":case"int":case"float":l(h,c,S[0],p,1,v,w);break;default:if(d.indexOf("vec")>=0){if((A=d.charCodeAt(d.length-1)-48)<2||A>4)throw new i("","Invalid data type for attribute "+w+": "+d);l(h,c,S[0],p,A,v,w)}else{if(!(d.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+w+": "+d);var A;if((A=d.charCodeAt(d.length-1)-48)<2||A>4)throw new i("","Invalid data type for attribute "+w+": "+d);u(h,c,S,p,A,v,w)}}}return v};var i=t(8866);function r(h,c,x,p,v,g){this._gl=h,this._wrapper=c,this._index=x,this._locations=p,this._dimension=v,this._constFunc=g}var n=r.prototype;n.pointer=function(h,c,x,p){var v=this,g=v._gl,y=v._locations[v._index];g.vertexAttribPointer(y,v._dimension,h||g.FLOAT,!!c,x||0,p||0),g.enableVertexAttribArray(y)},n.set=function(h,c,x,p){return this._constFunc(this._locations[this._index],h,c,x,p)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var a=[function(h,c,x){return x.length===void 0?h.vertexAttrib1f(c,x):h.vertexAttrib1fv(c,x)},function(h,c,x,p){return x.length===void 0?h.vertexAttrib2f(c,x,p):h.vertexAttrib2fv(c,x)},function(h,c,x,p,v){return x.length===void 0?h.vertexAttrib3f(c,x,p,v):h.vertexAttrib3fv(c,x)},function(h,c,x,p,v,g){return x.length===void 0?h.vertexAttrib4f(c,x,p,v,g):h.vertexAttrib4fv(c,x)}];function l(h,c,x,p,v,g,y){var m=a[v],w=new r(h,c,x,p,v,m);Object.defineProperty(g,y,{set:function(d){return h.disableVertexAttribArray(p[x]),m(h,p[x],d),d},get:function(){return w},enumerable:!0})}function u(h,c,x,p,v,g,y){for(var m=new Array(v),w=new Array(v),d=0;d<v;++d)l(h,c,x[d],p,v,m,d),w[d]=m[d];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var P=0;P<v;++P)w[P].location=E[P];else for(P=0;P<v;++P)w[P].location=E+P;return E},get:function(){for(var E=new Array(v),P=0;P<v;++P)E[P]=p[x[P]];return E},enumerable:!0}),m.pointer=function(E,P,O,I){E=E||h.FLOAT,P=!!P,O=O||v*v,I=I||0;for(var D=0;D<v;++D){var V=p[x[D]];h.vertexAttribPointer(V,v,E,P,O,I+D*v),h.enableVertexAttribArray(V)}};var S=new Array(v),A=h["vertexAttrib"+v+"fv"];Object.defineProperty(g,y,{set:function(E){for(var P=0;P<v;++P){var O=p[x[P]];if(h.disableVertexAttribArray(O),Array.isArray(E[0]))A.call(h,O,E[P]);else{for(var I=0;I<v;++I)S[I]=E[v*P+I];A.call(h,O,S)}}return E},get:function(){return m},enumerable:!0})}},3327:function(f,s,t){var i=t(216),r=t(8866);function n(l){return function(){return l}}function a(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=u;return h}f.exports=function(l,u,h,c){function x(m){return function(w){for(var d=p("",m),S=0;S<d.length;++S){var A=d[S],E=A[0],P=A[1];if(c[P]){var O=w;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var D=I.indexOf("["),V=I.slice(0,D),z=I.slice(D+1,I.length-1);O=V?w[V][z]:w[z]}else O=w[I]}var j,X=h[P].type;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[P],O);break;case"float":l.uniform1f(c[P],O);break;default:var F=X.indexOf("vec");if(!(0<=F&&F<=1&&X.length===4+F)){if(X.indexOf("mat")===0&&X.length===4){if((j=X.charCodeAt(X.length-1)-48)<2||j>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+X);l["uniformMatrix"+j+"fv"](c[P],!1,O);break}throw new r("","Unknown uniform data type for "+name+": "+X)}if((j=X.charCodeAt(X.length-1)-48)<2||j>4)throw new r("","Invalid data type");switch(X.charAt(0)){case"b":case"i":l["uniform"+j+"iv"](c[P],O);break;case"v":l["uniform"+j+"fv"](c[P],O);break;default:throw new r("","Unrecognized data type for vector "+name+": "+X)}}}}}}function p(m,w){if(typeof w!="object")return[[m,w]];var d=[];for(var S in w){var A=w[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof A=="object"?d.push.apply(d,p(E,A)):d.push([E,A])}return d}function v(m,w,d){if(typeof d=="object"){var S=g(d);Object.defineProperty(m,w,{get:n(S),set:x(d),enumerable:!0,configurable:!1})}else c[d]?Object.defineProperty(m,w,{get:(A=d,function(E,P,O){return E.getUniform(P.program,O[A])}),set:x(d),enumerable:!0,configurable:!1}):m[w]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var P=E.indexOf("vec");if(0<=P&&P<=1&&E.length===4+P){if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new r("","Invalid data type");return E.charAt(0)==="b"?a(O,!1):a(O,0)}if(E.indexOf("mat")===0&&E.length===4){var O;if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+E);return a(O*O,0)}throw new r("","Unknown uniform data type for "+name+": "+E)}}(h[d].type);var A}function g(m){var w;if(Array.isArray(m)){w=new Array(m.length);for(var d=0;d<m.length;++d)v(w,d,m[d])}else for(var S in w={},m)v(w,S,m[S]);return w}var y=i(h,!0);return{get:n(g(y)),set:x(y),enumerable:!0,configurable:!0}}},216:function(f){f.exports=function(s,t){for(var i={},r=0;r<s.length;++r)for(var n=s[r].name.split("."),a=i,l=0;l<n.length;++l){var u=n[l].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var h=1;h<u.length;++h){var c=parseInt(u[h]);h<u.length-1||l<n.length-1?(c in a||(h<u.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:s[r].type}}else l<n.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):a[u[0]]=t?r:s[r].type}return i}},2145:function(f,s){s.uniforms=function(n,a){for(var l=n.getProgramParameter(a,n.ACTIVE_UNIFORMS),u=[],h=0;h<l;++h){var c=n.getActiveUniform(a,h);if(c){var x=r(n,c.type);if(c.size>1)for(var p=0;p<c.size;++p)u.push({name:c.name.replace("[0]","["+p+"]"),type:x});else u.push({name:c.name,type:x})}}return u},s.attributes=function(n,a){for(var l=n.getProgramParameter(a,n.ACTIVE_ATTRIBUTES),u=[],h=0;h<l;++h){var c=n.getActiveAttrib(a,h);c&&u.push({name:c.name,type:r(n,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function r(n,a){if(!i){var l=Object.keys(t);i={};for(var u=0;u<l.length;++u){var h=l[u];i[n[h]]=t[h]}}return i[a]}},5091:function(f,s,t){s.shader=function(x,p,v){return c(x).getShaderReference(p,v)},s.program=function(x,p,v,g,y){return c(x).getProgram(p,v,g,y)};var i=t(8866),r=t(2992),n=new(typeof WeakMap>"u"?t(606):WeakMap),a=0;function l(x,p,v,g,y,m,w){this.id=x,this.src=p,this.type=v,this.shader=g,this.count=m,this.programs=[],this.cache=w}function u(x){this.gl=x,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var x=this.cache,p=x.gl,v=this.programs,g=0,y=v.length;g<y;++g){var m=x.programs[v[g]];m&&(delete x.programs[g],p.deleteProgram(m))}p.deleteShader(this.shader),delete x.shaders[this.type===p.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function c(x){var p=n.get(x);return p||(p=new u(x),n.set(x,p)),p}h.getShaderReference=function(x,p){var v=this.gl,g=this.shaders[x===v.FRAGMENT_SHADER|0],y=g[p];if(y&&v.isShader(y.shader))y.count+=1;else{var m=function(w,d,S){var A=w.createShader(d);if(w.shaderSource(A,S),w.compileShader(A),!w.getShaderParameter(A,w.COMPILE_STATUS)){var E=w.getShaderInfoLog(A);try{var P=r(E,S,d)}catch(O){throw console.warn("Failed to format compiler error: "+O),new i(E,`Error compiling shader:
`+E)}throw new i(E,P.short,P.long)}return A}(v,x,p);y=g[p]=new l(a++,p,x,m,[],1,this)}return y},h.getProgram=function(x,p,v,g){var y=[x.id,p.id,v.join(":"),g.join(":")].join("@"),m=this.programs[y];return m&&this.gl.isProgram(m)||(this.programs[y]=m=function(w,d,S,A,E){var P=w.createProgram();w.attachShader(P,d),w.attachShader(P,S);for(var O=0;O<A.length;++O)w.bindAttribLocation(P,E[O],A[O]);if(w.linkProgram(P),!w.getProgramParameter(P,w.LINK_STATUS)){var I=w.getProgramInfoLog(P);throw new i(I,"Error linking program: "+I)}return P}(this.gl,x.shader,p.shader,v,g),x.programs.push(y),p.programs.push(y)),m}},4098:function(f){function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}f.exports=function(i,r){var n=new s(i);return n.update(r),i.addOverlay(n),n};var t=s.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,r=this.width,n=this.color,a=this.center,l=this.plot,u=l.line,h=l.dataBox,c=l.viewBox;if(u.bind(),h[0]<=a[0]&&a[0]<=h[2]&&h[1]<=a[1]&&a[1]<=h[3]){var x=c[0]+(a[0]-h[0])/(h[2]-h[0])*(c[2]-c[0]),p=c[1]+(a[1]-h[1])/(h[3]-h[1])*(c[3]-c[1]);i[0]&&u.drawLine(x,p,c[0],p,r[0],n[0]),i[1]&&u.drawLine(x,p,x,c[1],r[1],n[1]),i[2]&&u.drawLine(x,p,c[2],p,r[2],n[2]),i[3]&&u.drawLine(x,p,x,c[3],r[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},1493:function(f,s,t){var i=t(3236),r=t(9405),n=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),a=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);f.exports=function(l){return r(l,n,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(f,s,t){var i=t(2762),r=t(8116),n=t(1493);f.exports=function(p,v){var g=[];function y(A,E,P,O,I,D){var V=[A,E,P,0,0,0,1];V[O+3]=1,V[O]=I,g.push.apply(g,V),V[6]=-1,g.push.apply(g,V),V[O]=D,g.push.apply(g,V),g.push.apply(g,V),V[6]=1,g.push.apply(g,V),V[O]=I,g.push.apply(g,V)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var m=i(p,g),w=r(p,[{type:p.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:p.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:p.FLOAT,buffer:m,size:1,offset:24,stride:28}]),d=n(p);d.attributes.position.location=0,d.attributes.color.location=1,d.attributes.weight.location=2;var S=new l(p,m,w,d);return S.update(v),S};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(p,v,g,y){this.gl=p,this.buffer=v,this.vao=g,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,h=[0,0,0],c=[0,0,0],x=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(p){},u.draw=function(p){var v=this.gl,g=this.vao,y=this.shader;g.bind(),y.bind();var m,w=p.model||a,d=p.view||a,S=p.projection||a;this.axes&&(m=this.axes.lastCubeProps.axis);for(var A=h,E=c,P=0;P<3;++P)m&&m[P]<0?(A[P]=this.bounds[0][P],E[P]=this.bounds[1][P]):(A[P]=this.bounds[1][P],E[P]=this.bounds[0][P]);for(x[0]=v.drawingBufferWidth,x[1]=v.drawingBufferHeight,y.uniforms.model=w,y.uniforms.view=d,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,A,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=x,P=0;P<3;++P)y.uniforms.lineWidth=this.lineWidth[P]*this.pixelRatio,this.enabled[P]&&(g.draw(v.TRIANGLES,6,6*P),this.drawSides[P]&&g.draw(v.TRIANGLES,12,18+12*P));g.unbind()},u.update=function(p){p&&("bounds"in p&&(this.bounds=p.bounds),"position"in p&&(this.position=p.position),"lineWidth"in p&&(this.lineWidth=p.lineWidth),"colors"in p&&(this.colors=p.colors),"enabled"in p&&(this.enabled=p.enabled),"drawSides"in p&&(this.drawSides=p.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(f,s,t){var i=t(3236),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(f,s,t){var i=t(2931),r=t(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(x,p){var v,g=x.length;for(v=0;v<g;v++){var y=x[v];if(y===p)return v;if(y>p)return v-1}return v},l=function(x,p,v){return x<p?p:x>v?v:x},u=function(x){var p=1/0;x.sort(function(m,w){return m-w});for(var v=x.length,g=1;g<v;g++){var y=Math.abs(x[g]-x[g-1]);y<p&&(p=y)}return p};f.exports=function(x,p){var v=x.startingPositions,g=x.maxLength||1e3,y=x.tubeSize||1,m=x.absoluteTubeSize,w=x.gridFill||"+x+y+z",d={};w.indexOf("-x")!==-1&&(d.reversedX=!0),w.indexOf("-y")!==-1&&(d.reversedY=!0),w.indexOf("-z")!==-1&&(d.reversedZ=!0),d.filled=n.indexOf(w.replace(/-/g,"").replace(/\+/g,""));var S=x.getVelocity||function(Te){return function(Se,Fe,xe){var le=Fe.vectors,oe=Fe.meshgrid,de=Se[0],Ce=Se[1],_e=Se[2],Ae=oe[0].length,Le=oe[1].length,ze=oe[2].length,Re=a(oe[0],de),ve=a(oe[1],Ce),ke=a(oe[2],_e),Ee=Re+1,De=ve+1,Pe=ke+1;if(Re=l(Re,0,Ae-1),Ee=l(Ee,0,Ae-1),ve=l(ve,0,Le-1),De=l(De,0,Le-1),ke=l(ke,0,ze-1),Pe=l(Pe,0,ze-1),Re<0||ve<0||ke<0||Ee>Ae-1||De>Le-1||Pe>ze-1)return i.create();var Ue,We,$e,ot,st,mt,_t=oe[0][Re],yt=oe[0][Ee],it=oe[1][ve],tt=oe[1][De],Pt=oe[2][ke],Rt=(de-_t)/(yt-_t),Ft=(Ce-it)/(tt-it),Ot=(_e-Pt)/(oe[2][Pe]-Pt);switch(isFinite(Rt)||(Rt=.5),isFinite(Ft)||(Ft=.5),isFinite(Ot)||(Ot=.5),xe.reversedX&&(Re=Ae-1-Re,Ee=Ae-1-Ee),xe.reversedY&&(ve=Le-1-ve,De=Le-1-De),xe.reversedZ&&(ke=ze-1-ke,Pe=ze-1-Pe),xe.filled){case 5:st=ke,mt=Pe,$e=ve*ze,ot=De*ze,Ue=Re*ze*Le,We=Ee*ze*Le;break;case 4:st=ke,mt=Pe,Ue=Re*ze,We=Ee*ze,$e=ve*ze*Ae,ot=De*ze*Ae;break;case 3:$e=ve,ot=De,st=ke*Le,mt=Pe*Le,Ue=Re*Le*ze,We=Ee*Le*ze;break;case 2:$e=ve,ot=De,Ue=Re*Le,We=Ee*Le,st=ke*Le*Ae,mt=Pe*Le*Ae;break;case 1:Ue=Re,We=Ee,st=ke*Ae,mt=Pe*Ae,$e=ve*Ae*ze,ot=De*Ae*ze;break;default:Ue=Re,We=Ee,$e=ve*Ae,ot=De*Ae,st=ke*Ae*Le,mt=Pe*Ae*Le}var Xe=le[Ue+$e+st],Je=le[Ue+$e+mt],Ve=le[Ue+ot+st],Ke=le[Ue+ot+mt],ft=le[We+$e+st],ut=le[We+$e+mt],xt=le[We+ot+st],bt=le[We+ot+mt],qe=i.create(),je=i.create(),lt=i.create(),gt=i.create();i.lerp(qe,Xe,ft,Rt),i.lerp(je,Je,ut,Rt),i.lerp(lt,Ve,xt,Rt),i.lerp(gt,Ke,bt,Rt);var dt=i.create(),at=i.create();i.lerp(dt,qe,lt,Ft),i.lerp(at,je,gt,Ft);var kt=i.create();return i.lerp(kt,dt,at,Ot),kt}(Te,x,d)},A=x.getDivergence||function(Te,Se){var Fe=i.create(),xe=1e-4;i.add(Fe,Te,[xe,0,0]);var le=S(Fe);i.subtract(le,le,Se),i.scale(le,le,1/xe),i.add(Fe,Te,[0,xe,0]);var oe=S(Fe);i.subtract(oe,oe,Se),i.scale(oe,oe,1/xe),i.add(Fe,Te,[0,0,xe]);var de=S(Fe);return i.subtract(de,de,Se),i.scale(de,de,1/xe),i.add(Fe,le,oe),i.add(Fe,Fe,de),Fe},E=[],P=p[0][0],O=p[0][1],I=p[0][2],D=p[1][0],V=p[1][1],z=p[1][2],j=function(Te){var Se=Te[0],Fe=Te[1],xe=Te[2];return!(Se<P||Se>D||Fe<O||Fe>V||xe<I||xe>z)},X=10*i.distance(p[0],p[1])/g,F=X*X,H=1,W=0,ie=v.length;ie>1&&(H=function(Te){for(var Se=[],Fe=[],xe=[],le={},oe={},de={},Ce=Te.length,_e=0;_e<Ce;_e++){var Ae=Te[_e],Le=Ae[0],ze=Ae[1],Re=Ae[2];le[Le]||(Se.push(Le),le[Le]=!0),oe[ze]||(Fe.push(ze),oe[ze]=!0),de[Re]||(xe.push(Re),de[Re]=!0)}var ve=u(Se),ke=u(Fe),Ee=u(xe),De=Math.min(ve,ke,Ee);return isFinite(De)?De:1}(v));for(var te=0;te<ie;te++){var Q=i.create();i.copy(Q,v[te]);var ne=[Q],$=[],J=S(Q),re=Q;$.push(J);var se=[],ue=A(Q,J),he=i.length(ue);isFinite(he)&&he>W&&(W=he),se.push(he),E.push({points:ne,velocities:$,divergences:se});for(var pe=0;pe<100*g&&ne.length<g&&j(Q);){pe++;var ge=i.clone(J),ye=i.squaredLength(ge);if(ye===0)break;ye>F&&i.scale(ge,ge,X/Math.sqrt(ye)),i.add(ge,ge,Q),J=S(ge),i.squaredDistance(re,ge)-F>-1e-4*F&&(ne.push(ge),re=ge,$.push(J),ue=A(ge,J),he=i.length(ue),isFinite(he)&&he>W&&(W=he),se.push(he)),Q=ge}}var be=function(Te,Se,Fe,xe){for(var le=0,oe=0;oe<Te.length;oe++)for(var de=Te[oe].velocities,Ce=0;Ce<de.length;Ce++)le=Math.max(le,i.length(de[Ce]));var _e=Te.map(function(Ue){return function(We,$e,ot,st){for(var mt=We.points,_t=We.velocities,yt=We.divergences,it=[],tt=[],Pt=[],Rt=[],Ft=[],Ot=[],Xe=0,Je=0,Ve=r.create(),Ke=r.create(),ft=0;ft<mt.length;ft++){var ut=mt[ft],xt=_t[ft],bt=yt[ft];$e===0&&(bt=.05*ot),Je=i.length(xt)/st,Ve=r.create(),i.copy(Ve,xt),Ve[3]=bt;for(var qe=0;qe<8;qe++)Ft[qe]=[ut[0],ut[1],ut[2],qe];if(Rt.length>0)for(qe=0;qe<8;qe++){var je=(qe+1)%8;it.push(Rt[qe],Ft[qe],Ft[je],Ft[je],Rt[je],Rt[qe]),Pt.push(Ke,Ve,Ve,Ve,Ke,Ke),Ot.push(Xe,Je,Je,Je,Xe,Xe);var lt=it.length;tt.push([lt-6,lt-5,lt-4],[lt-3,lt-2,lt-1])}var gt=Rt;Rt=Ft,Ft=gt;var dt=Ke;Ke=Ve,Ve=dt;var at=Xe;Xe=Je,Je=at}return{positions:it,cells:tt,vectors:Pt,vertexIntensity:Ot}}(Ue,Fe,xe,le)}),Ae=[],Le=[],ze=[],Re=[];for(oe=0;oe<_e.length;oe++){var ve=_e[oe],ke=Ae.length;for(Ae=Ae.concat(ve.positions),ze=ze.concat(ve.vectors),Re=Re.concat(ve.vertexIntensity),Ce=0;Ce<ve.cells.length;Ce++){var Ee=ve.cells[Ce],De=[];Le.push(De);for(var Pe=0;Pe<Ee.length;Pe++)De.push(Ee[Pe]+ke)}}return{positions:Ae,cells:Le,vectors:ze,vertexIntensity:Re,colormap:Se}}(E,x.colormap,W,H);return m?be.tubeScale=m:(W===0&&(W=1),be.tubeScale=.5*y*H/W),be};var h=t(6740),c=t(6405).createMesh;f.exports.createTubeMesh=function(x,p){return c(x,p,{shaders:h,traceType:"streamtube"})}},990:function(f,s,t){var i=t(9405),r=t(3236),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),a=r([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(h){var c=i(h,n,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(h){var c=i(h,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(h){var c=i(h,l,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(h){var c=i(h,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(f,s,t){f.exports=function(ue){var he=ue.gl,pe=d(he),ge=A(he),ye=S(he),be=E(he),Te=r(he),Se=n(he,[{buffer:Te,size:4,stride:P,offset:0},{buffer:Te,size:3,stride:P,offset:16},{buffer:Te,size:3,stride:P,offset:28}]),Fe=r(he),xe=n(he,[{buffer:Fe,size:4,stride:20,offset:0},{buffer:Fe,size:1,stride:20,offset:16}]),le=r(he),oe=n(he,[{buffer:le,size:2,type:he.FLOAT}]),de=a(he,1,z,he.RGBA,he.UNSIGNED_BYTE);de.minFilter=he.LINEAR,de.magFilter=he.LINEAR;var Ce=new j(he,[0,0],[[0,0,0],[0,0,0]],pe,ge,Te,Se,de,ye,be,Fe,xe,le,oe,[0,0,0]),_e={levels:[[],[],[]]};for(var Ae in ue)_e[Ae]=ue[Ae];return _e.colormap=_e.colormap||"jet",Ce.update(_e),Ce};var i=t(8828),r=t(2762),n=t(8116),a=t(7766),l=t(1888),u=t(6729),h=t(5298),c=t(9994),x=t(9618),p=t(3711),v=t(6760),g=t(7608),y=t(2478),m=t(6199),w=t(990),d=w.createShader,S=w.createContourShader,A=w.createPickShader,E=w.createPickContourShader,P=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function V(ue,he,pe,ge,ye){this.position=ue,this.index=he,this.uv=pe,this.level=ge,this.dataCoordinate=ye}(function(){for(var ue=0;ue<3;++ue){var he=D[ue],pe=(ue+2)%3;he[(ue+1)%3+0]=1,he[pe+3]=1,he[ue+6]=1}})();var z=256;function j(ue,he,pe,ge,ye,be,Te,Se,Fe,xe,le,oe,de,Ce,_e){this.gl=ue,this.shape=he,this.bounds=pe,this.objectOffset=_e,this.intensityBounds=[],this._shader=ge,this._pickShader=ye,this._coordinateBuffer=be,this._vao=Te,this._colorMap=Se,this._contourShader=Fe,this._contourPickShader=xe,this._contourBuffer=le,this._contourVAO=oe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new V([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=de,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var X=j.prototype;X.genColormap=function(ue,he){var pe=!1,ge=c([u({colormap:ue,nshades:z,format:"rgba"}).map(function(ye,be){var Te=he?function(Se,Fe){if(!Fe||!Fe.length)return 1;for(var xe=0;xe<Fe.length;++xe){if(Fe.length<2)return 1;if(Fe[xe][0]===Se)return Fe[xe][1];if(Fe[xe][0]>Se&&xe>0){var le=(Fe[xe][0]-Se)/(Fe[xe][0]-Fe[xe-1][0]);return Fe[xe][1]*(1-le)+le*Fe[xe-1][1]}}return 1}(be/255,he):ye[3];return Te<1&&(pe=!0),[ye[0],ye[1],ye[2],255*Te]})]);return h.divseq(ge,255),this.hasAlphaScale=pe,ge},X.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},X.isOpaque=function(){return!this.isTransparent()},X.pickSlots=1,X.setPickBase=function(ue){this.pickId=ue};var F=[0,0,0],H={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function W(ue,he){var pe,ge,ye,be=he.axes&&he.axes.lastCubeProps.axis||F,Te=he.showSurface,Se=he.showContour;for(pe=0;pe<3;++pe)for(Te=Te||he.surfaceProject[pe],ge=0;ge<3;++ge)Se=Se||he.contourProject[pe][ge];for(pe=0;pe<3;++pe){var Fe=H.projections[pe];for(ge=0;ge<16;++ge)Fe[ge]=0;for(ge=0;ge<4;++ge)Fe[5*ge]=1;Fe[5*pe]=0,Fe[12+pe]=he.axesBounds[+(be[pe]>0)][pe],v(Fe,ue.model,Fe);var xe=H.clipBounds[pe];for(ye=0;ye<2;++ye)for(ge=0;ge<3;++ge)xe[ye][ge]=ue.clipBounds[ye][ge];xe[0][pe]=-1e8,xe[1][pe]=1e8}return H.showSurface=Te,H.showContour=Se,H}var ie={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},te=O.slice(),Q=[1,0,0,0,1,0,0,0,1];function ne(ue,he){ue=ue||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var ge=ie;ge.model=ue.model||O,ge.view=ue.view||O,ge.projection=ue.projection||O,ge.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ge.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ge.objectOffset=this.objectOffset,ge.contourColor=this.contourColor[0],ge.inverseModel=g(ge.inverseModel,ge.model);for(var ye=0;ye<2;++ye)for(var be=ge.clipBounds[ye],Te=0;Te<3;++Te)be[Te]=Math.min(Math.max(this.clipBounds[ye][Te],-1e8),1e8);ge.kambient=this.ambientLight,ge.kdiffuse=this.diffuseLight,ge.kspecular=this.specularLight,ge.roughness=this.roughness,ge.fresnel=this.fresnel,ge.opacity=this.opacity,ge.height=0,ge.permutation=Q,ge.vertexColor=this.vertexColor;var Se=te;for(v(Se,ge.view,ge.model),v(Se,ge.projection,Se),g(Se,Se),ye=0;ye<3;++ye)ge.eyePosition[ye]=Se[12+ye]/Se[15];var Fe=Se[15];for(ye=0;ye<3;++ye)Fe+=this.lightPosition[ye]*Se[4*ye+3];for(ye=0;ye<3;++ye){var xe=Se[12+ye];for(Te=0;Te<3;++Te)xe+=Se[4*Te+ye]*this.lightPosition[Te];ge.lightPosition[ye]=xe/Fe}var le=W(ge,this);if(le.showSurface){for(this._shader.bind(),this._shader.uniforms=ge,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),ye=0;ye<3;++ye)this.surfaceProject[ye]&&this.vertexCount&&(this._shader.uniforms.model=le.projections[ye],this._shader.uniforms.clipBounds=le.clipBounds[ye],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(le.showContour){var oe=this._contourShader;ge.kambient=1,ge.kdiffuse=0,ge.kspecular=0,ge.opacity=1,oe.bind(),oe.uniforms=ge;var de=this._contourVAO;for(de.bind(),ye=0;ye<3;++ye)for(oe.uniforms.permutation=D[ye],pe.lineWidth(this.contourWidth[ye]*this.pixelRatio),Te=0;Te<this.contourLevels[ye].length;++Te)Te===this.highlightLevel[ye]?(oe.uniforms.contourColor=this.highlightColor[ye],oe.uniforms.contourTint=this.highlightTint[ye]):Te!==0&&Te-1!==this.highlightLevel[ye]||(oe.uniforms.contourColor=this.contourColor[ye],oe.uniforms.contourTint=this.contourTint[ye]),this._contourCounts[ye][Te]&&(oe.uniforms.height=this.contourLevels[ye][Te],de.draw(pe.LINES,this._contourCounts[ye][Te],this._contourOffsets[ye][Te]));for(ye=0;ye<3;++ye)for(oe.uniforms.model=le.projections[ye],oe.uniforms.clipBounds=le.clipBounds[ye],Te=0;Te<3;++Te)if(this.contourProject[ye][Te]){oe.uniforms.permutation=D[Te],pe.lineWidth(this.contourWidth[Te]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[Te].length;++Ce)Ce===this.highlightLevel[Te]?(oe.uniforms.contourColor=this.highlightColor[Te],oe.uniforms.contourTint=this.highlightTint[Te]):Ce!==0&&Ce-1!==this.highlightLevel[Te]||(oe.uniforms.contourColor=this.contourColor[Te],oe.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][Ce]&&(oe.uniforms.height=this.contourLevels[Te][Ce],de.draw(pe.LINES,this._contourCounts[Te][Ce],this._contourOffsets[Te][Ce]))}for(de.unbind(),(de=this._dynamicVAO).bind(),ye=0;ye<3;++ye)if(this._dynamicCounts[ye]!==0)for(oe.uniforms.model=ge.model,oe.uniforms.clipBounds=ge.clipBounds,oe.uniforms.permutation=D[ye],pe.lineWidth(this.dynamicWidth[ye]*this.pixelRatio),oe.uniforms.contourColor=this.dynamicColor[ye],oe.uniforms.contourTint=this.dynamicTint[ye],oe.uniforms.height=this.dynamicLevel[ye],de.draw(pe.LINES,this._dynamicCounts[ye],this._dynamicOffsets[ye]),Te=0;Te<3;++Te)this.contourProject[Te][ye]&&(oe.uniforms.model=le.projections[Te],oe.uniforms.clipBounds=le.clipBounds[Te],de.draw(pe.LINES,this._dynamicCounts[ye],this._dynamicOffsets[ye]));de.unbind()}}X.draw=function(ue){return ne.call(this,ue,!1)},X.drawTransparent=function(ue){return ne.call(this,ue,!0)};var $={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function J(ue,he){return Array.isArray(ue)?[he(ue[0]),he(ue[1]),he(ue[2])]:[he(ue),he(ue),he(ue)]}function re(ue){return Array.isArray(ue)?ue.length===3?[ue[0],ue[1],ue[2],1]:[ue[0],ue[1],ue[2],ue[3]]:[0,0,0,1]}function se(ue){if(Array.isArray(ue)){if(Array.isArray(ue))return[re(ue[0]),re(ue[1]),re(ue[2])];var he=re(ue);return[he.slice(),he.slice(),he.slice()]}}X.drawPick=function(ue){ue=ue||{};var he=this.gl;he.disable(he.CULL_FACE);var pe=$;pe.model=ue.model||O,pe.view=ue.view||O,pe.projection=ue.projection||O,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=Q;for(var ge=0;ge<2;++ge)for(var ye=pe.clipBounds[ge],be=0;be<3;++be)ye[be]=Math.min(Math.max(this.clipBounds[ge][be],-1e8),1e8);var Te=W(pe,this);if(Te.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(he.TRIANGLES,this._vertexCount),ge=0;ge<3;++ge)this.surfaceProject[ge]&&(this._pickShader.uniforms.model=Te.projections[ge],this._pickShader.uniforms.clipBounds=Te.clipBounds[ge],this._vao.draw(he.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Te.showContour){var Se=this._contourPickShader;Se.bind(),Se.uniforms=pe;var Fe=this._contourVAO;for(Fe.bind(),be=0;be<3;++be)for(he.lineWidth(this.contourWidth[be]*this.pixelRatio),Se.uniforms.permutation=D[be],ge=0;ge<this.contourLevels[be].length;++ge)this._contourCounts[be][ge]&&(Se.uniforms.height=this.contourLevels[be][ge],Fe.draw(he.LINES,this._contourCounts[be][ge],this._contourOffsets[be][ge]));for(ge=0;ge<3;++ge)for(Se.uniforms.model=Te.projections[ge],Se.uniforms.clipBounds=Te.clipBounds[ge],be=0;be<3;++be)if(this.contourProject[ge][be]){Se.uniforms.permutation=D[be],he.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var xe=0;xe<this.contourLevels[be].length;++xe)this._contourCounts[be][xe]&&(Se.uniforms.height=this.contourLevels[be][xe],Fe.draw(he.LINES,this._contourCounts[be][xe],this._contourOffsets[be][xe]))}Fe.unbind()}},X.pick=function(ue){if(!ue||ue.id!==this.pickId)return null;var he=this._field[2].shape,pe=this._pickResult,ge=he[0]*(ue.value[0]+(ue.value[2]>>4)/16)/255,ye=Math.floor(ge),be=ge-ye,Te=he[1]*(ue.value[1]+(15&ue.value[2])/16)/255,Se=Math.floor(Te),Fe=Te-Se;ye+=1,Se+=1;var xe=pe.position;xe[0]=xe[1]=xe[2]=0;for(var le=0;le<2;++le)for(var oe=le?be:1-be,de=0;de<2;++de)for(var Ce=ye+le,_e=Se+de,Ae=oe*(de?Fe:1-Fe),Le=0;Le<3;++Le)xe[Le]+=this._field[Le].get(Ce,_e)*Ae;for(var ze=this._pickResult.level,Re=0;Re<3;++Re)if(ze[Re]=y.le(this.contourLevels[Re],xe[Re]),ze[Re]<0)this.contourLevels[Re].length>0&&(ze[Re]=0);else if(ze[Re]<this.contourLevels[Re].length-1){var ve=this.contourLevels[Re][ze[Re]],ke=this.contourLevels[Re][ze[Re]+1];Math.abs(ve-xe[Re])>Math.abs(ke-xe[Re])&&(ze[Re]+=1)}for(pe.index[0]=be<.5?ye:ye+1,pe.index[1]=Fe<.5?Se:Se+1,pe.uv[0]=ge/he[0],pe.uv[1]=Te/he[1],Le=0;Le<3;++Le)pe.dataCoordinate[Le]=this._field[Le].get(pe.index[0],pe.index[1]);return pe},X.padField=function(ue,he){var pe=he.shape.slice(),ge=ue.shape.slice();h.assign(ue.lo(1,1).hi(pe[0],pe[1]),he),h.assign(ue.lo(1).hi(pe[0],1),he.hi(pe[0],1)),h.assign(ue.lo(1,ge[1]-1).hi(pe[0],1),he.lo(0,pe[1]-1).hi(pe[0],1)),h.assign(ue.lo(0,1).hi(1,pe[1]),he.hi(1)),h.assign(ue.lo(ge[0]-1,1).hi(1,pe[1]),he.lo(pe[0]-1)),ue.set(0,0,he.get(0,0)),ue.set(0,ge[1]-1,he.get(0,pe[1]-1)),ue.set(ge[0]-1,0,he.get(pe[0]-1,0)),ue.set(ge[0]-1,ge[1]-1,he.get(pe[0]-1,pe[1]-1))},X.update=function(ue){ue=ue||{},this.objectOffset=ue.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ue&&(this.contourWidth=J(ue.contourWidth,Number)),"showContour"in ue&&(this.showContour=J(ue.showContour,Boolean)),"showSurface"in ue&&(this.showSurface=!!ue.showSurface),"contourTint"in ue&&(this.contourTint=J(ue.contourTint,Boolean)),"contourColor"in ue&&(this.contourColor=se(ue.contourColor)),"contourProject"in ue&&(this.contourProject=J(ue.contourProject,function(pn){return J(pn,Boolean)})),"surfaceProject"in ue&&(this.surfaceProject=ue.surfaceProject),"dynamicColor"in ue&&(this.dynamicColor=se(ue.dynamicColor)),"dynamicTint"in ue&&(this.dynamicTint=J(ue.dynamicTint,Number)),"dynamicWidth"in ue&&(this.dynamicWidth=J(ue.dynamicWidth,Number)),"opacity"in ue&&(this.opacity=ue.opacity),"opacityscale"in ue&&(this.opacityscale=ue.opacityscale),"colorBounds"in ue&&(this.colorBounds=ue.colorBounds),"vertexColor"in ue&&(this.vertexColor=ue.vertexColor?1:0),"colormap"in ue&&this._colorMap.setPixels(this.genColormap(ue.colormap,this.opacityscale));var he=ue.field||ue.coords&&ue.coords[2]||null,pe=!1;if(he||(he=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ue||"coords"in ue){var ge=(he.shape[0]+2)*(he.shape[1]+2);ge>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(ge))),this._field[2]=x(this._field[2].data,[he.shape[0]+2,he.shape[1]+2]),this.padField(this._field[2],he),this.shape=he.shape.slice();for(var ye=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(l.freeFloat(this._field[be].data),this._field[be].data=l.mallocFloat(this._field[2].size)),this._field[be]=x(this._field[be].data,[ye[0]+2,ye[1]+2]);if(ue.coords){var Te=ue.coords;if(!Array.isArray(Te)||Te.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var Se=Te[be];for(de=0;de<2;++de)if(Se.shape[de]!==ye[de])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],Se)}}else if(ue.ticks){var Fe=ue.ticks;if(!Array.isArray(Fe)||Fe.length!==2)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var xe=Fe[be];if((Array.isArray(xe)||xe.length)&&(xe=x(xe)),xe.shape[0]!==ye[be])throw new Error("gl-surface: invalid tick length");var le=x(xe.data,ye);le.stride[be]=xe.stride[0],le.stride[1^be]=0,this.padField(this._field[be],le)}}else{for(be=0;be<2;++be){var oe=[0,0];oe[be]=1,this._field[be]=x(this._field[be].data,[ye[0]+2,ye[1]+2],oe,0)}this._field[0].set(0,0,0);for(var de=0;de<ye[0];++de)this._field[0].set(de+1,0,de);for(this._field[0].set(ye[0]+1,0,ye[0]-1),this._field[1].set(0,0,0),de=0;de<ye[1];++de)this._field[1].set(0,de+1,de);this._field[1].set(0,ye[1]+1,ye[1]-1)}var Ce=this._field,_e=x(l.mallocFloat(3*Ce[2].size*2),[3,ye[0]+2,ye[1]+2,2]);for(be=0;be<3;++be)m(_e.pick(be),Ce[be],"mirror");var Ae=x(l.mallocFloat(3*Ce[2].size),[ye[0]+2,ye[1]+2,3]);for(be=0;be<ye[0]+2;++be)for(de=0;de<ye[1]+2;++de){var Le=_e.get(0,be,de,0),ze=_e.get(0,be,de,1),Re=_e.get(1,be,de,0),ve=_e.get(1,be,de,1),ke=_e.get(2,be,de,0),Ee=_e.get(2,be,de,1),De=Re*Ee-ve*ke,Pe=ke*ze-Ee*Le,Ue=Le*ve-ze*Re,We=Math.sqrt(De*De+Pe*Pe+Ue*Ue);We<1e-8?(We=Math.max(Math.abs(De),Math.abs(Pe),Math.abs(Ue)))<1e-8?(Ue=1,Pe=De=0,We=1):We=1/We:We=1/Math.sqrt(We),Ae.set(be,de,0,De*We),Ae.set(be,de,1,Pe*We),Ae.set(be,de,2,Ue*We)}l.free(_e.data);var $e=[1/0,1/0,1/0],ot=[-1/0,-1/0,-1/0],st=1/0,mt=-1/0,_t=(ye[0]-1)*(ye[1]-1)*6,yt=l.mallocFloat(i.nextPow2(10*_t)),it=0,tt=0;for(be=0;be<ye[0]-1;++be)e:for(de=0;de<ye[1]-1;++de){for(var Pt=0;Pt<2;++Pt)for(var Rt=0;Rt<2;++Rt)for(var Ft=0;Ft<3;++Ft){var Ot=this._field[Ft].get(1+be+Pt,1+de+Rt);if(isNaN(Ot)||!isFinite(Ot))continue e}for(Ft=0;Ft<6;++Ft){var Xe=be+I[Ft][0],Je=de+I[Ft][1],Ve=this._field[0].get(Xe+1,Je+1),Ke=this._field[1].get(Xe+1,Je+1);Ot=this._field[2].get(Xe+1,Je+1),De=Ae.get(Xe+1,Je+1,0),Pe=Ae.get(Xe+1,Je+1,1),Ue=Ae.get(Xe+1,Je+1,2),ue.intensity&&(ft=ue.intensity.get(Xe,Je));var ft=ue.intensity?ue.intensity.get(Xe,Je):Ot+this.objectOffset[2];yt[it++]=Xe,yt[it++]=Je,yt[it++]=Ve,yt[it++]=Ke,yt[it++]=Ot,yt[it++]=0,yt[it++]=ft,yt[it++]=De,yt[it++]=Pe,yt[it++]=Ue,$e[0]=Math.min($e[0],Ve+this.objectOffset[0]),$e[1]=Math.min($e[1],Ke+this.objectOffset[1]),$e[2]=Math.min($e[2],Ot+this.objectOffset[2]),st=Math.min(st,ft),ot[0]=Math.max(ot[0],Ve+this.objectOffset[0]),ot[1]=Math.max(ot[1],Ke+this.objectOffset[1]),ot[2]=Math.max(ot[2],Ot+this.objectOffset[2]),mt=Math.max(mt,ft),tt+=1}}for(ue.intensityBounds&&(st=+ue.intensityBounds[0],mt=+ue.intensityBounds[1]),be=6;be<it;be+=10)yt[be]=(yt[be]-st)/(mt-st);this._vertexCount=tt,this._coordinateBuffer.update(yt.subarray(0,it)),l.freeFloat(yt),l.free(Ae.data),this.bounds=[$e,ot],this.intensity=ue.intensity||this._field[2],this.intensityBounds[0]===st&&this.intensityBounds[1]===mt||(pe=!0),this.intensityBounds=[st,mt]}if("levels"in ue){var ut=ue.levels;for(ut=Array.isArray(ut[0])?ut.slice():[[],[],ut],be=0;be<3;++be)ut[be]=ut[be].slice(),ut[be].sort(function(pn,nn){return pn-nn});for(be=0;be<3;++be)for(de=0;de<ut[be].length;++de)ut[be][de]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(ut[be].length!==this.contourLevels[be].length){pe=!0;break}for(de=0;de<ut[be].length;++de)if(ut[be][de]!==this.contourLevels[be][de]){pe=!0;break e}}this.contourLevels=ut}if(pe){Ce=this._field,ye=this.shape;for(var xt=[],bt=0;bt<3;++bt){var qe=this.contourLevels[bt],je=[],lt=[],gt=[0,0,0];for(be=0;be<qe.length;++be){var dt=p(this._field[bt],qe[be]);je.push(xt.length/5|0),tt=0;e:for(de=0;de<dt.cells.length;++de){var at=dt.cells[de];for(Ft=0;Ft<2;++Ft){var kt=dt.positions[at[Ft]],wt=kt[0],Et=0|Math.floor(wt),Tt=wt-Et,At=kt[1],Nt=0|Math.floor(At),Wt=At-Nt,on=!1;t:for(var cn=0;cn<3;++cn){gt[cn]=0;var un=(bt+cn+1)%3;for(Pt=0;Pt<2;++Pt){var Xt=Pt?Tt:1-Tt;for(Xe=0|Math.min(Math.max(Et+Pt,0),ye[0]),Rt=0;Rt<2;++Rt){var tn=Rt?Wt:1-Wt;if(Je=0|Math.min(Math.max(Nt+Rt,0),ye[1]),Ot=cn<2?this._field[un].get(Xe,Je):(this.intensity.get(Xe,Je)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ot)||isNaN(Ot)){on=!0;break t}var kn=Xt*tn;gt[cn]+=kn*Ot}}}if(on){if(Ft>0){for(var fn=0;fn<5;++fn)xt.pop();tt-=1}continue e}xt.push(gt[0],gt[1],kt[0],kt[1],gt[2]),tt+=1}}lt.push(tt)}this._contourOffsets[bt]=je,this._contourCounts[bt]=lt}var Qt=l.mallocFloat(xt.length);for(be=0;be<xt.length;++be)Qt[be]=xt[be];this._contourBuffer.update(Qt),l.freeFloat(Qt)}},X.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ue=0;ue<3;++ue)l.freeFloat(this._field[ue].data)},X.highlight=function(ue){var he,pe;if(!ue)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(he=0;he<3;++he)this.enableHighlight[he]?this.highlightLevel[he]=ue.level[he]:this.highlightLevel[he]=-1;for(pe=this.snapToData?ue.dataCoordinate:ue.position,he=0;he<3;++he)pe[he]-=this.objectOffset[he];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var ge=0,ye=this.shape,be=l.mallocFloat(12*ye[0]*ye[1]),Te=0;Te<3;++Te)if(this.enableDynamic[Te]){this.dynamicLevel[Te]=pe[Te];var Se=(Te+1)%3,Fe=(Te+2)%3,xe=this._field[Te],le=this._field[Se],oe=this._field[Fe],de=p(xe,pe[Te]),Ce=de.cells,_e=de.positions;for(this._dynamicOffsets[Te]=ge,he=0;he<Ce.length;++he)for(var Ae=Ce[he],Le=0;Le<2;++Le){var ze=_e[Ae[Le]],Re=+ze[0],ve=0|Re,ke=0|Math.min(ve+1,ye[0]),Ee=Re-ve,De=1-Ee,Pe=+ze[1],Ue=0|Pe,We=0|Math.min(Ue+1,ye[1]),$e=Pe-Ue,ot=1-$e,st=De*ot,mt=De*$e,_t=Ee*ot,yt=Ee*$e,it=st*le.get(ve,Ue)+mt*le.get(ve,We)+_t*le.get(ke,Ue)+yt*le.get(ke,We),tt=st*oe.get(ve,Ue)+mt*oe.get(ve,We)+_t*oe.get(ke,Ue)+yt*oe.get(ke,We);if(isNaN(it)||isNaN(tt)){Le&&(ge-=1);break}be[2*ge+0]=it,be[2*ge+1]=tt,ge+=1}this._dynamicCounts[Te]=ge-this._dynamicOffsets[Te]}else this.dynamicLevel[Te]=NaN,this._dynamicCounts[Te]=0;this._dynamicBuffer.update(be.subarray(0,2*ge)),l.freeFloat(be)}}},7766:function(f,s,t){var i=t(9618),r=t(5298),n=t(1888);f.exports=function(w){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(A){a=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],l=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],u=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}(w),typeof arguments[1]=="number")return m(w,arguments[1],arguments[2],arguments[3]||w.RGBA,arguments[4]||w.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(w,0|arguments[1][0],0|arguments[1][1],arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var d=arguments[1],S=h(d)?d:d.raw;if(S)return function(A,E,P,O,I,D){var V=y(A);return A.texImage2D(A.TEXTURE_2D,0,I,I,D,E),new p(A,V,P,O,I,D)}(w,S,0|d.width,0|d.height,arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(d.shape&&d.data&&d.stride)return function(A,E){var P=E.dtype,O=E.shape.slice(),I=A.getParameter(A.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>I||O[1]<0||O[1]>I)throw new Error("gl-texture2d: Invalid texture size");var D=g(O,E.stride.slice()),V=0;P==="float32"?V=A.FLOAT:P==="float64"?(V=A.FLOAT,D=!1,P="float32"):P==="uint8"?V=A.UNSIGNED_BYTE:(V=A.UNSIGNED_BYTE,D=!1,P="uint8");var z,j,X=0;if(O.length===2)X=A.LUMINANCE,O=[O[0],O[1],1],E=i(E.data,O,[E.stride[0],E.stride[1],1],E.offset);else{if(O.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(O[2]===1)X=A.ALPHA;else if(O[2]===2)X=A.LUMINANCE_ALPHA;else if(O[2]===3)X=A.RGB;else{if(O[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");X=A.RGBA}}V!==A.FLOAT||A.getExtension("OES_texture_float")||(V=A.UNSIGNED_BYTE,D=!1);var F=E.size;if(D)z=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var H=[O[2],O[2]*O[0],1];j=n.malloc(F,P);var W=i(j,O,H,0);P!=="float32"&&P!=="float64"||V!==A.UNSIGNED_BYTE?r.assign(W,E):c(W,E),z=j.subarray(0,F)}var ie=y(A);return A.texImage2D(A.TEXTURE_2D,0,X,O[0],O[1],0,X,V,z),D||n.free(j),new p(A,ie,O[0],O[1],X,V)}(w,d)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,l=null,u=null;function h(w){return typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&w instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&w instanceof HTMLVideoElement||typeof ImageData<"u"&&w instanceof ImageData}var c=function(w,d){r.muls(w,d,255)};function x(w,d,S){var A=w.gl,E=A.getParameter(A.MAX_TEXTURE_SIZE);if(d<0||d>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return w._shape=[d,S],w.bind(),A.texImage2D(A.TEXTURE_2D,0,w.format,d,S,0,w.format,w.type,null),w._mipLevels=[0],w}function p(w,d,S,A,E,P){this.gl=w,this.handle=d,this.format=E,this.type=P,this._shape=[S,A],this._mipLevels=[0],this._magFilter=w.NEAREST,this._minFilter=w.NEAREST,this._wrapS=w.CLAMP_TO_EDGE,this._wrapT=w.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return O._wrapS},set:function(V){return O.wrapS=V}},{get:function(){return O._wrapT},set:function(V){return O.wrapT=V}}]),this._wrapVector=I;var D=[this._shape[0],this._shape[1]];Object.defineProperties(D,[{get:function(){return O._shape[0]},set:function(V){return O.width=V}},{get:function(){return O._shape[1]},set:function(V){return O.height=V}}]),this._shapeVector=D}var v=p.prototype;function g(w,d){return w.length===3?d[2]===1&&d[1]===w[0]*w[2]&&d[0]===w[2]:d[0]===1&&d[1]===w[0]}function y(w){var d=w.createTexture();return w.bindTexture(w.TEXTURE_2D,d),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),d}function m(w,d,S,A,E){var P=w.getParameter(w.MAX_TEXTURE_SIZE);if(d<0||d>P||S<0||S>P)throw new Error("gl-texture2d: Invalid texture shape");if(E===w.FLOAT&&!w.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=y(w);return w.texImage2D(w.TEXTURE_2D,0,A,d,S,0,A,E,null),new p(w,O,d,S,A,E)}Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(w){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(w)>=0&&(d.getExtension("OES_texture_float_linear")||(w=d.NEAREST)),l.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,w),this._minFilter=w}},magFilter:{get:function(){return this._magFilter},set:function(w){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(w)>=0&&(d.getExtension("OES_texture_float_linear")||(w=d.NEAREST)),l.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,w),this._magFilter=w}},mipSamples:{get:function(){return this._anisoSamples},set:function(w){var d=this._anisoSamples;if(this._anisoSamples=0|Math.max(w,1),d!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,w),this._wrapS=w}},wrapT:{get:function(){return this._wrapT},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,w),this._wrapT=w}},wrap:{get:function(){return this._wrapVector},set:function(w){if(Array.isArray(w)||(w=[w,w]),w.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var d=0;d<2;++d)if(u.indexOf(w[d])<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);this._wrapS=w[0],this._wrapT=w[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),w}},shape:{get:function(){return this._shapeVector},set:function(w){if(Array.isArray(w)){if(w.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else w=[0|w,0|w];return x(this,0|w[0],0|w[1]),[0|w[0],0|w[1]]}},width:{get:function(){return this._shape[0]},set:function(w){return x(this,w|=0,this._shape[1]),w}},height:{get:function(){return this._shape[1]},set:function(w){return w|=0,x(this,this._shape[0],w),w}}}),v.bind=function(w){var d=this.gl;return w!==void 0&&d.activeTexture(d.TEXTURE0+(0|w)),d.bindTexture(d.TEXTURE_2D,this.handle),w!==void 0?0|w:d.getParameter(d.ACTIVE_TEXTURE)-d.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var w=Math.min(this._shape[0],this._shape[1]),d=0;w>0;++d,w>>>=1)this._mipLevels.indexOf(d)<0&&this._mipLevels.push(d)},v.setPixels=function(w,d,S,A){var E=this.gl;this.bind(),Array.isArray(d)?(A=S,S=0|d[1],d=0|d[0]):(d=d||0,S=S||0),A=A||0;var P=h(w)?w:w.raw;if(P)this._mipLevels.indexOf(A)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,P),this._mipLevels.push(A)):E.texSubImage2D(E.TEXTURE_2D,A,d,S,this.format,this.type,P);else{if(!(w.shape&&w.stride&&w.data))throw new Error("gl-texture2d: Unsupported data type");if(w.shape.length<2||d+w.shape[1]>this._shape[1]>>>A||S+w.shape[0]>this._shape[0]>>>A||d<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(O,I,D,V,z,j,X,F){var H=F.dtype,W=F.shape.slice();if(W.length<2||W.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ie=0,te=0,Q=g(W,F.stride.slice());if(H==="float32"?ie=O.FLOAT:H==="float64"?(ie=O.FLOAT,Q=!1,H="float32"):H==="uint8"?ie=O.UNSIGNED_BYTE:(ie=O.UNSIGNED_BYTE,Q=!1,H="uint8"),W.length===2)te=O.LUMINANCE,W=[W[0],W[1],1],F=i(F.data,W,[F.stride[0],F.stride[1],1],F.offset);else{if(W.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(W[2]===1)te=O.ALPHA;else if(W[2]===2)te=O.LUMINANCE_ALPHA;else if(W[2]===3)te=O.RGB;else{if(W[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");te=O.RGBA}W[2]}if(te!==O.LUMINANCE&&te!==O.ALPHA||z!==O.LUMINANCE&&z!==O.ALPHA||(te=z),te!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=F.size,$=X.indexOf(V)<0;if($&&X.push(V),ie===j&&Q)F.offset===0&&F.data.length===ne?$?O.texImage2D(O.TEXTURE_2D,V,z,W[0],W[1],0,z,j,F.data):O.texSubImage2D(O.TEXTURE_2D,V,I,D,W[0],W[1],z,j,F.data):$?O.texImage2D(O.TEXTURE_2D,V,z,W[0],W[1],0,z,j,F.data.subarray(F.offset,F.offset+ne)):O.texSubImage2D(O.TEXTURE_2D,V,I,D,W[0],W[1],z,j,F.data.subarray(F.offset,F.offset+ne));else{var J;J=j===O.FLOAT?n.mallocFloat32(ne):n.mallocUint8(ne);var re=i(J,W,[W[2],W[2]*W[0],1]);ie===O.FLOAT&&j===O.UNSIGNED_BYTE?c(re,F):r.assign(re,F),$?O.texImage2D(O.TEXTURE_2D,V,z,W[0],W[1],0,z,j,J.subarray(0,ne)):O.texSubImage2D(O.TEXTURE_2D,V,I,D,W[0],W[1],z,j,J.subarray(0,ne)),j===O.FLOAT?n.freeFloat32(J):n.freeUint8(J)}})(E,d,S,A,this.format,this.type,this._mipLevels,w)}}},1433:function(f){f.exports=function(s,t,i){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var r=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<i.length;++n){var a=i[n];if(a.buffer){var l=a.buffer,u=a.size||4,h=a.type||s.FLOAT,c=!!a.normalized,x=a.stride||0,p=a.offset||0;l.bind(),s.enableVertexAttribArray(n),s.vertexAttribPointer(n,u,h,c,x,p)}else{if(typeof a=="number")s.vertexAttrib1f(n,a);else if(a.length===1)s.vertexAttrib1f(n,a[0]);else if(a.length===2)s.vertexAttrib2f(n,a[0],a[1]);else if(a.length===3)s.vertexAttrib3f(n,a[0],a[1],a[2]);else{if(a.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(n,a[0],a[1],a[2],a[3])}s.disableVertexAttribArray(n)}}for(;n<r;++n)s.disableVertexAttribArray(n)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),n=0;n<r;++n)s.disableVertexAttribArray(n)}},870:function(f,s,t){var i=t(1433);function r(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(n,a,l){this._elements=a,this._attributes=n,this._elementsType=l||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(n,a,l){l=l||0;var u=this.gl;this._elements?u.drawElements(n,a,this._elementsType,l):u.drawArrays(n,l,a)},f.exports=function(n){return new r(n)}},7518:function(f,s,t){var i=t(1433);function r(a,l,u,h,c,x){this.location=a,this.dimension=l,this.a=u,this.b=h,this.c=c,this.d=x}function n(a,l,u){this.gl=a,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=a.UNSIGNED_SHORT}r.prototype.bind=function(a){switch(this.dimension){case 1:a.vertexAttrib1f(this.location,this.a);break;case 2:a.vertexAttrib2f(this.location,this.a,this.b);break;case 3:a.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:a.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var a=0;a<this._attribs.length;++a)this._attribs[a].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(a,l,u){if(this.bind(),i(this.gl,l,a),this.unbind(),this._attribs.length=0,a)for(var h=0;h<a.length;++h){var c=a[h];typeof c=="number"?this._attribs.push(new r(h,1,c)):Array.isArray(c)&&this._attribs.push(new r(h,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(a,l,u){u=u||0;var h=this.gl;this._useElements?h.drawElements(a,l,this._elementsType,u):h.drawArrays(a,u,l)},f.exports=function(a,l){return new n(a,l,l.createVertexArrayOES())}},8116:function(f,s,t){var i=t(7518),r=t(870);function n(a){this.bindVertexArrayOES=a.bindVertexArray.bind(a),this.createVertexArrayOES=a.createVertexArray.bind(a),this.deleteVertexArrayOES=a.deleteVertexArray.bind(a)}f.exports=function(a,l,u,h){var c,x=a.createVertexArray?new n(a):a.getExtension("OES_vertex_array_object");return(c=x?i(a,x):r(a)).update(l,u,h),c}},5632:function(f){f.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s}},8192:function(f,s,t){f.exports=function(a,l){var u=i(a[0],a[1],a[2]),h=i(l[0],l[1],l[2]);r(u,u),r(h,h);var c=n(u,h);return c>1?0:Math.acos(c)};var i=t(2825),r=t(3536),n=t(244)},9226:function(f){f.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},3126:function(f){f.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},3990:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},1091:function(f){f.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},5911:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=i[0],u=i[1],h=i[2];return s[0]=n*h-a*u,s[1]=a*l-r*h,s[2]=r*u-n*l,s}},5455:function(f,s,t){f.exports=t(7056)},7056:function(f){f.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return Math.sqrt(i*i+r*r+n*n)}},4008:function(f,s,t){f.exports=t(6690)},6690:function(f){f.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s}},244:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},2613:function(f){f.exports=1e-6},9922:function(f,s,t){f.exports=function(r,n){var a=r[0],l=r[1],u=r[2],h=n[0],c=n[1],x=n[2];return Math.abs(a-h)<=i*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(l-c)<=i*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-x)<=i*Math.max(1,Math.abs(u),Math.abs(x))};var i=t(2613)},9265:function(f){f.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},2681:function(f){f.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},5137:function(f,s,t){f.exports=function(r,n,a,l,u,h){var c,x;for(n||(n=3),a||(a=0),x=l?Math.min(l*n+a,r.length):r.length,c=a;c<x;c+=n)i[0]=r[c],i[1]=r[c+1],i[2]=r[c+2],u(i,i,h),r[c]=i[0],r[c+1]=i[1],r[c+2]=i[2];return r};var i=t(1091)()},2825:function(f){f.exports=function(s,t,i){var r=new Float32Array(3);return r[0]=s,r[1]=t,r[2]=i,r}},2931:function(f,s,t){f.exports={EPSILON:t(2613),create:t(1091),clone:t(3126),angle:t(8192),fromValues:t(2825),copy:t(3990),set:t(1463),equals:t(9922),exactEquals:t(9265),add:t(5632),subtract:t(6843),sub:t(2229),multiply:t(5847),mul:t(4505),divide:t(6690),div:t(4008),min:t(8107),max:t(7417),floor:t(2681),ceil:t(9226),round:t(2447),scale:t(6621),scaleAndAdd:t(8489),distance:t(7056),dist:t(5455),squaredDistance:t(2953),sqrDist:t(6141),length:t(1387),len:t(868),squaredLength:t(3066),sqrLen:t(5486),negate:t(5093),inverse:t(811),normalize:t(3536),dot:t(244),cross:t(5911),lerp:t(6658),random:t(7636),transformMat4:t(5673),transformMat3:t(492),transformQuat:t(264),rotateX:t(6894),rotateY:t(109),rotateZ:t(8692),forEach:t(5137)}},811:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},868:function(f,s,t){f.exports=t(1387)},1387:function(f){f.exports=function(s){var t=s[0],i=s[1],r=s[2];return Math.sqrt(t*t+i*i+r*r)}},6658:function(f){f.exports=function(s,t,i,r){var n=t[0],a=t[1],l=t[2];return s[0]=n+r*(i[0]-n),s[1]=a+r*(i[1]-a),s[2]=l+r*(i[2]-l),s}},7417:function(f){f.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s}},8107:function(f){f.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s}},4505:function(f,s,t){f.exports=t(5847)},5847:function(f){f.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s}},5093:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},3536:function(f){f.exports=function(s,t){var i=t[0],r=t[1],n=t[2],a=i*i+r*r+n*n;return a>0&&(a=1/Math.sqrt(a),s[0]=t[0]*a,s[1]=t[1]*a,s[2]=t[2]*a),s}},7636:function(f){f.exports=function(s,t){t=t||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return s[0]=Math.cos(i)*n,s[1]=Math.sin(i)*n,s[2]=r*t,s}},6894:function(f){f.exports=function(s,t,i,r){var n=i[1],a=i[2],l=t[1]-n,u=t[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=t[0],s[1]=n+l*c-u*h,s[2]=a+l*h+u*c,s}},109:function(f){f.exports=function(s,t,i,r){var n=i[0],a=i[2],l=t[0]-n,u=t[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=n+u*h+l*c,s[1]=t[1],s[2]=a+u*c-l*h,s}},8692:function(f){f.exports=function(s,t,i,r){var n=i[0],a=i[1],l=t[0]-n,u=t[1]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=n+l*c-u*h,s[1]=a+l*h+u*c,s[2]=t[2],s}},2447:function(f){f.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},6621:function(f){f.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s}},8489:function(f){f.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s}},1463:function(f){f.exports=function(s,t,i,r){return s[0]=t,s[1]=i,s[2]=r,s}},6141:function(f,s,t){f.exports=t(2953)},5486:function(f,s,t){f.exports=t(3066)},2953:function(f){f.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return i*i+r*r+n*n}},3066:function(f){f.exports=function(s){var t=s[0],i=s[1],r=s[2];return t*t+i*i+r*r}},2229:function(f,s,t){f.exports=t(6843)},6843:function(f){f.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}},492:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2];return s[0]=r*i[0]+n*i[3]+a*i[6],s[1]=r*i[1]+n*i[4]+a*i[7],s[2]=r*i[2]+n*i[5]+a*i[8],s}},5673:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=i[3]*r+i[7]*n+i[11]*a+i[15];return l=l||1,s[0]=(i[0]*r+i[4]*n+i[8]*a+i[12])/l,s[1]=(i[1]*r+i[5]*n+i[9]*a+i[13])/l,s[2]=(i[2]*r+i[6]*n+i[10]*a+i[14])/l,s}},264:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=i[0],u=i[1],h=i[2],c=i[3],x=c*r+u*a-h*n,p=c*n+h*r-l*a,v=c*a+l*n-u*r,g=-l*r-u*n-h*a;return s[0]=x*c+g*-l+p*-h-v*-u,s[1]=p*c+g*-u+v*-l-x*-h,s[2]=v*c+g*-h+x*-u-p*-l,s}},4361:function(f){f.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s[3]=t[3]+i[3],s}},2335:function(f){f.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},2933:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},7536:function(f){f.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},4691:function(f){f.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],a=t[3]-s[3];return Math.sqrt(i*i+r*r+n*n+a*a)}},1373:function(f){f.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s[3]=t[3]/i[3],s}},3750:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},3390:function(f){f.exports=function(s,t,i,r){var n=new Float32Array(4);return n[0]=s,n[1]=t,n[2]=i,n[3]=r,n}},9970:function(f,s,t){f.exports={create:t(7536),clone:t(2335),fromValues:t(3390),copy:t(2933),set:t(4578),add:t(4361),subtract:t(6860),multiply:t(3576),divide:t(1373),min:t(2334),max:t(160),scale:t(9288),scaleAndAdd:t(4844),distance:t(4691),squaredDistance:t(7960),length:t(6808),squaredLength:t(483),negate:t(1498),inverse:t(4494),normalize:t(5177),dot:t(3750),lerp:t(2573),random:t(9131),transformMat4:t(5352),transformQuat:t(4041)}},4494:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},6808:function(f){f.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return Math.sqrt(t*t+i*i+r*r+n*n)}},2573:function(f){f.exports=function(s,t,i,r){var n=t[0],a=t[1],l=t[2],u=t[3];return s[0]=n+r*(i[0]-n),s[1]=a+r*(i[1]-a),s[2]=l+r*(i[2]-l),s[3]=u+r*(i[3]-u),s}},160:function(f){f.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s[3]=Math.max(t[3],i[3]),s}},2334:function(f){f.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s[3]=Math.min(t[3],i[3]),s}},3576:function(f){f.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s[3]=t[3]*i[3],s}},1498:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},5177:function(f){f.exports=function(s,t){var i=t[0],r=t[1],n=t[2],a=t[3],l=i*i+r*r+n*n+a*a;return l>0&&(l=1/Math.sqrt(l),s[0]=i*l,s[1]=r*l,s[2]=n*l,s[3]=a*l),s}},9131:function(f,s,t){var i=t(5177),r=t(9288);f.exports=function(n,a){return a=a||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),i(n,n),r(n,n,a),n}},9288:function(f){f.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s}},4844:function(f){f.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s[3]=t[3]+i[3]*r,s}},4578:function(f){f.exports=function(s,t,i,r,n){return s[0]=t,s[1]=i,s[2]=r,s[3]=n,s}},7960:function(f){f.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],a=t[3]-s[3];return i*i+r*r+n*n+a*a}},483:function(f){f.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return t*t+i*i+r*r+n*n}},6860:function(f){f.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s[3]=t[3]-i[3],s}},5352:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=t[3];return s[0]=i[0]*r+i[4]*n+i[8]*a+i[12]*l,s[1]=i[1]*r+i[5]*n+i[9]*a+i[13]*l,s[2]=i[2]*r+i[6]*n+i[10]*a+i[14]*l,s[3]=i[3]*r+i[7]*n+i[11]*a+i[15]*l,s}},4041:function(f){f.exports=function(s,t,i){var r=t[0],n=t[1],a=t[2],l=i[0],u=i[1],h=i[2],c=i[3],x=c*r+u*a-h*n,p=c*n+h*r-l*a,v=c*a+l*n-u*r,g=-l*r-u*n-h*a;return s[0]=x*c+g*-l+p*-h-v*-u,s[1]=p*c+g*-u+v*-l-x*-h,s[2]=v*c+g*-h+x*-u-p*-l,s[3]=t[3],s}},1848:function(f,s,t){var i=t(4905),r=t(6468);f.exports=function(n){for(var a=Array.isArray(n)?n:i(n),l=0;l<a.length;l++){var u=a[l];if(u.type==="preprocessor"){var h=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var c=h[1],x=h[2];return(c?r(x):x).trim()}}}}},5874:function(f,s,t){f.exports=function(O){var I,D,V,z=0,j=0,X=u,F=[],H=[],W=1,ie=0,te=0,Q=!1,ne=!1,$="",J=n,re=i;(O=O||{}).version==="300 es"&&(J=l,re=a);var se={},ue={};for(z=0;z<J.length;z++)se[J[z]]=!0;for(z=0;z<re.length;z++)ue[re[z]]=!0;return function(de){return H=[],de!==null?function(Ce){var _e;for(z=0,Ce.toString&&(Ce=Ce.toString()),$+=Ce.replace(/\r\n/g,`
`),V=$.length;I=$[z],z<V;){switch(_e=z,X){case c:z=be();break;case x:case p:z=ye();break;case v:z=Te();break;case g:z=xe();break;case E:z=Fe();break;case y:z=le();break;case h:z=oe();break;case S:z=ge();break;case u:z=pe()}_e!==z&&($[_e]===`
`?(ie=0,++W):++ie)}return j+=z,$=$.slice(z),H}(de):(F.length&&he(F.join("")),X=A,he("(eof)"),H)};function he(de){de.length&&H.push({type:P[X],data:de,position:te,line:W,column:ie})}function pe(){return F=F.length?[]:F,D==="/"&&I==="*"?(te=j+z-1,X=c,D=I,z+1):D==="/"&&I==="/"?(te=j+z-1,X=x,D=I,z+1):I==="#"?(X=p,te=j+z,z):/\s/.test(I)?(X=S,te=j+z,z):(Q=/\d/.test(I),ne=/[^\w_]/.test(I),te=j+z,X=Q?g:ne?v:h,z)}function ge(){return/[^\s]/g.test(I)?(he(F.join("")),X=u,z):(F.push(I),D=I,z+1)}function ye(){return I!=="\r"&&I!==`
`||D==="\\"?(F.push(I),D=I,z+1):(he(F.join("")),X=u,z)}function be(){return I==="/"&&D==="*"?(F.push(I),he(F.join("")),X=u,z+1):(F.push(I),D=I,z+1)}function Te(){if(D==="."&&/\d/.test(I))return X=y,z;if(D==="/"&&I==="*")return X=c,z;if(D==="/"&&I==="/")return X=x,z;if(I==="."&&F.length){for(;Se(F););return X=y,z}if(I===";"||I===")"||I==="("){if(F.length)for(;Se(F););return he(I),X=u,z+1}var de=F.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||de){for(;Se(F););return X=u,z}return F.push(I),D=I,z+1}function Se(de){for(var Ce,_e,Ae=0;;){if(Ce=r.indexOf(de.slice(0,de.length+Ae).join("")),_e=r[Ce],Ce===-1){if(Ae--+de.length>0)continue;_e=de.slice(0,1).join("")}return he(_e),te+=_e.length,(F=F.slice(_e.length)).length}}function Fe(){return/[^a-fA-F0-9]/.test(I)?(he(F.join("")),X=u,z):(F.push(I),D=I,z+1)}function xe(){return I==="."||/[eE]/.test(I)?(F.push(I),X=y,D=I,z+1):I==="x"&&F.length===1&&F[0]==="0"?(X=E,F.push(I),D=I,z+1):/[^\d]/.test(I)?(he(F.join("")),X=u,z):(F.push(I),D=I,z+1)}function le(){return I==="f"&&(F.push(I),D=I,z+=1),/[eE]/.test(I)?(F.push(I),D=I,z+1):(I!=="-"&&I!=="+"||!/[eE]/.test(D))&&/[^\d]/.test(I)?(he(F.join("")),X=u,z):(F.push(I),D=I,z+1)}function oe(){if(/[^\d\w_]/.test(I)){var de=F.join("");return X=ue[de]?d:se[de]?w:m,he(F.join("")),X=u,z}return F.push(I),D=I,z+1}};var i=t(620),r=t(7827),n=t(6852),a=t(7932),l=t(3508),u=999,h=9999,c=0,x=1,p=2,v=3,g=4,y=5,m=6,w=7,d=8,S=9,A=10,E=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(f,s,t){var i=t(6852);i=i.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),f.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(f){f.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(f,s,t){var i=t(620);f.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(f){f.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(f){f.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(f,s,t){var i=t(5874);f.exports=function(r,n){var a=i(n),l=[];return(l=l.concat(a(r))).concat(a(null))}},3236:function(f){f.exports=function(s){typeof s=="string"&&(s=[s]);for(var t=[].slice.call(arguments,1),i=[],r=0;r<s.length-1;r++)i.push(s[r],t[r]||"");return i.push(s[r]),i.join("")}},7520:function(f,s,t){var i=t(9507);f.exports=i&&function(){var r=!1;try{var n=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{r=!1}return r}()},3778:function(f,s){s.read=function(t,i,r,n,a){var l,u,h=8*a-n-1,c=(1<<h)-1,x=c>>1,p=-7,v=r?a-1:0,g=r?-1:1,y=t[i+v];for(v+=g,l=y&(1<<-p)-1,y>>=-p,p+=h;p>0;l=256*l+t[i+v],v+=g,p-=8);for(u=l&(1<<-p)-1,l>>=-p,p+=n;p>0;u=256*u+t[i+v],v+=g,p-=8);if(l===0)l=1-x;else{if(l===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,n),l-=x}return(y?-1:1)*u*Math.pow(2,l-n)},s.write=function(t,i,r,n,a,l){var u,h,c,x=8*l-a-1,p=(1<<x)-1,v=p>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:l-1,m=n?1:-1,w=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,u=p):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+v>=1?g/c:g*Math.pow(2,1-v))*c>=2&&(u++,c/=2),u+v>=p?(h=0,u=p):u+v>=1?(h=(i*c-1)*Math.pow(2,a),u+=v):(h=i*Math.pow(2,v-1)*Math.pow(2,a),u=0));a>=8;t[r+y]=255&h,y+=m,h/=256,a-=8);for(u=u<<a|h,x+=a;x>0;t[r+y]=255&u,y+=m,u/=256,x-=8);t[r+y-m]|=128*w}},8954:function(f,s,t){f.exports=function(x,p){var v=x.length;if(v===0)throw new Error("Must have at least d+1 points");var g=x[0].length;if(v<=g)throw new Error("Must input at least d+1 points");var y=x.slice(0,g+1),m=i.apply(void 0,y);if(m===0)throw new Error("Input not in general position");for(var w=new Array(g+1),d=0;d<=g;++d)w[d]=d;m<0&&(w[0]=1,w[1]=0);var S=new n(w,new Array(g+1),!1),A=S.adjacent,E=new Array(g+2);for(d=0;d<=g;++d){for(var P=w.slice(),O=0;O<=g;++O)O===d&&(P[O]=-1);var I=P[0];P[0]=P[1],P[1]=I;var D=new n(P,new Array(g+1),!0);A[d]=D,E[d]=D}for(E[g+1]=S,d=0;d<=g;++d){P=A[d].vertices;var V=A[d].adjacent;for(O=0;O<=g;++O){var z=P[O];if(z<0)V[O]=S;else for(var j=0;j<=g;++j)A[j].vertices.indexOf(z)<0&&(V[O]=A[j])}}var X=new h(g,y,E),F=!!p;for(d=g+1;d<v;++d)X.insert(x[d],F);return X.boundary()};var i=t(3250),r=t(6803).Fw;function n(x,p,v){this.vertices=x,this.adjacent=p,this.boundary=v,this.lastVisited=-1}function a(x,p,v){this.vertices=x,this.cell=p,this.index=v}function l(x,p){return r(x.vertices,p.vertices)}n.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var p=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=p};var u=[];function h(x,p,v){this.dimension=x,this.vertices=p,this.simplices=v,this.interior=v.filter(function(w){return!w.boundary}),this.tuple=new Array(x+1);for(var g=0;g<=x;++g)this.tuple[g]=this.vertices[g];var y,m=u[x];m||(m=u[x]=((y=i[x+1])||(y=i),function(w){return function(){var d=this.tuple;return w.apply(this,d)}}(y))),this.orient=m}var c=h.prototype;c.handleBoundaryDegeneracy=function(x,p){var v=this.dimension,g=this.vertices.length-1,y=this.tuple,m=this.vertices,w=[x];for(x.lastVisited=-g;w.length>0;)for(var d=(x=w.pop()).adjacent,S=0;S<=v;++S){var A=d[S];if(A.boundary&&!(A.lastVisited<=-g)){for(var E=A.vertices,P=0;P<=v;++P){var O=E[P];y[P]=O<0?p:m[O]}var I=this.orient();if(I>0)return A;A.lastVisited=-g,I===0&&w.push(A)}}return null},c.walk=function(x,p){var v=this.vertices.length-1,g=this.dimension,y=this.vertices,m=this.tuple,w=p?this.interior.length*Math.random()|0:this.interior.length-1,d=this.interior[w];e:for(;!d.boundary;){for(var S=d.vertices,A=d.adjacent,E=0;E<=g;++E)m[E]=y[S[E]];for(d.lastVisited=v,E=0;E<=g;++E){var P=A[E];if(!(P.lastVisited>=v)){var O=m[E];m[E]=x;var I=this.orient();if(m[E]=O,I<0){d=P;continue e}P.boundary?P.lastVisited=-v:P.lastVisited=v}}return}return d},c.addPeaks=function(x,p){var v=this.vertices.length-1,g=this.dimension,y=this.vertices,m=this.tuple,w=this.interior,d=this.simplices,S=[p];p.lastVisited=v,p.vertices[p.vertices.indexOf(-1)]=v,p.boundary=!1,w.push(p);for(var A=[];S.length>0;){var E=(p=S.pop()).vertices,P=p.adjacent,O=E.indexOf(v);if(!(O<0)){for(var I=0;I<=g;++I)if(I!==O){var D=P[I];if(D.boundary&&!(D.lastVisited>=v)){var V=D.vertices;if(D.lastVisited!==-v){for(var z=0,j=0;j<=g;++j)V[j]<0?(z=j,m[j]=x):m[j]=y[V[j]];if(this.orient()>0){V[z]=v,D.boundary=!1,w.push(D),S.push(D),D.lastVisited=v;continue}D.lastVisited=-v}var X=D.adjacent,F=E.slice(),H=P.slice(),W=new n(F,H,!0);d.push(W);var ie=X.indexOf(p);if(!(ie<0))for(X[ie]=W,H[O]=D,F[I]=-1,H[I]=p,P[I]=W,W.flip(),j=0;j<=g;++j){var te=F[j];if(!(te<0||te===v)){for(var Q=new Array(g-1),ne=0,$=0;$<=g;++$){var J=F[$];J<0||$===j||(Q[ne++]=J)}A.push(new a(Q,W,j))}}}}}}for(A.sort(l),I=0;I+1<A.length;I+=2){var re=A[I],se=A[I+1],ue=re.index,he=se.index;ue<0||he<0||(re.cell.adjacent[re.index]=se.cell,se.cell.adjacent[se.index]=re.cell)}},c.insert=function(x,p){var v=this.vertices;v.push(x);var g=this.walk(x,p);if(g){for(var y=this.dimension,m=this.tuple,w=0;w<=y;++w){var d=g.vertices[w];m[w]=d<0?x:v[d]}var S=this.orient(m);S<0||(S!==0||(g=this.handleBoundaryDegeneracy(g,x)))&&this.addPeaks(x,g)}},c.boundary=function(){for(var x=this.dimension,p=[],v=this.simplices,g=v.length,y=0;y<g;++y){var m=v[y];if(m.boundary){for(var w=new Array(x),d=m.vertices,S=0,A=0,E=0;E<=x;++E)d[E]>=0?w[S++]=d[E]:A=1&E;if(A===(1&x)){var P=w[0];w[0]=w[1],w[1]=P}p.push(w)}}return p}},3352:function(f,s,t){var i=t(2478);function r(S,A,E,P,O){this.mid=S,this.left=A,this.right=E,this.leftPoints=P,this.rightPoints=O,this.count=(A?A.count:0)+(E?E.count:0)+P.length}f.exports=function(S){return S&&S.length!==0?new w(m(S)):new w(null)};var n=r.prototype;function a(S,A){S.mid=A.mid,S.left=A.left,S.right=A.right,S.leftPoints=A.leftPoints,S.rightPoints=A.rightPoints,S.count=A.count}function l(S,A){var E=m(A);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,A){var E=S.intervals([]);E.push(A),l(S,E)}function h(S,A){var E=S.intervals([]),P=E.indexOf(A);return P<0?0:(E.splice(P,1),l(S,E),1)}function c(S,A,E){for(var P=0;P<S.length&&S[P][0]<=A;++P){var O=E(S[P]);if(O)return O}}function x(S,A,E){for(var P=S.length-1;P>=0&&S[P][1]>=A;--P){var O=E(S[P]);if(O)return O}}function p(S,A){for(var E=0;E<S.length;++E){var P=A(S[E]);if(P)return P}}function v(S,A){return S-A}function g(S,A){return S[0]-A[0]||S[1]-A[1]}function y(S,A){return S[1]-A[1]||S[0]-A[0]}function m(S){if(S.length===0)return null;for(var A=[],E=0;E<S.length;++E)A.push(S[E][0],S[E][1]);A.sort(v);var P=A[A.length>>1],O=[],I=[],D=[];for(E=0;E<S.length;++E){var V=S[E];V[1]<P?O.push(V):P<V[0]?I.push(V):D.push(V)}var z=D,j=D.slice();return z.sort(g),j.sort(y),new r(P,m(O),m(I),z,j)}function w(S){this.root=S}n.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},n.insert=function(S){var A=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(A+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(A+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,g),P=i.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(P,0,S)}},n.remove=function(S){var A=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(A-1)?h(this,S):(I=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(A-1)?h(this,S):(I=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,P=this.left;P.right;)E=P,P=P.right;if(E===this)P.right=this.right;else{var O=this.left,I=this.right;E.count-=P.count,E.right=P.left,P.left=O,P.right=I}a(this,P),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(O=i.ge(this.leftPoints,S,g);O<this.leftPoints.length&&this.leftPoints[O][0]===S[0];++O)if(this.leftPoints[O]===S){for(this.count-=1,this.leftPoints.splice(O,1),I=i.ge(this.rightPoints,S,y);I<this.rightPoints.length&&this.rightPoints[I][1]===S[1];++I)if(this.rightPoints[I]===S)return this.rightPoints.splice(I,1),1}return 0},n.queryPoint=function(S,A){return S<this.mid?this.left&&(E=this.left.queryPoint(S,A))?E:c(this.leftPoints,S,A):S>this.mid?this.right&&(E=this.right.queryPoint(S,A))?E:x(this.rightPoints,S,A):p(this.leftPoints,A);var E},n.queryInterval=function(S,A,E){var P;return S<this.mid&&this.left&&(P=this.left.queryInterval(S,A,E))||A>this.mid&&this.right&&(P=this.right.queryInterval(S,A,E))?P:A<this.mid?c(this.leftPoints,A,E):S>this.mid?x(this.rightPoints,S,E):p(this.leftPoints,E)};var d=w.prototype;d.insert=function(S){this.root?this.root.insert(S):this.root=new r(S[0],null,null,[S],[S])},d.remove=function(S){if(this.root){var A=this.root.remove(S);return A===2&&(this.root=null),A!==0}return!1},d.queryPoint=function(S,A){if(this.root)return this.root.queryPoint(S,A)},d.queryInterval=function(S,A,E){if(S<=A&&this.root)return this.root.queryInterval(S,A,E)},Object.defineProperty(d,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(d,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(f){f.exports=function(s){for(var t=new Array(s),i=0;i<s;++i)t[i]=i;return t}},9507:function(f){f.exports=!0},7163:function(f){function s(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}f.exports=function(t){return t!=null&&(s(t)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&s(i.slice(0,0))}(t)||!!t._isBuffer)}},5219:function(f){f.exports=function(s){for(var t,i=s.length,r=0;r<i;r++)if(((t=s.charCodeAt(r))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(f){f.exports=function(s,t,i){return s*(1-i)+t*i}},2652:function(f,s,t){var i=t(4335),r=t(6864),n=t(1903),a=t(9921),l=t(7608),u=t(5665),h={length:t(1387),normalize:t(3536),dot:t(244),cross:t(5911)},c=r(),x=r(),p=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];function y(m,w,d,S,A){m[0]=w[0]*S+d[0]*A,m[1]=w[1]*S+d[1]*A,m[2]=w[2]*S+d[2]*A}f.exports=function(m,w,d,S,A,E){if(w||(w=[0,0,0]),d||(d=[0,0,0]),S||(S=[0,0,0]),A||(A=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(n(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(a(x)<1e-8)))return!1;var P,O,I,D,V,z,j,X=c[3],F=c[7],H=c[11],W=c[12],ie=c[13],te=c[14],Q=c[15];if(X!==0||F!==0||H!==0){if(p[0]=X,p[1]=F,p[2]=H,p[3]=Q,!l(x,x))return!1;u(x,x),P=A,I=x,D=(O=p)[0],V=O[1],z=O[2],j=O[3],P[0]=I[0]*D+I[4]*V+I[8]*z+I[12]*j,P[1]=I[1]*D+I[5]*V+I[9]*z+I[13]*j,P[2]=I[2]*D+I[6]*V+I[10]*z+I[14]*j,P[3]=I[3]*D+I[7]*V+I[11]*z+I[15]*j}else A[0]=A[1]=A[2]=0,A[3]=1;if(w[0]=W,w[1]=ie,w[2]=te,function($,J){$[0][0]=J[0],$[0][1]=J[1],$[0][2]=J[2],$[1][0]=J[4],$[1][1]=J[5],$[1][2]=J[6],$[2][0]=J[8],$[2][1]=J[9],$[2][2]=J[10]}(v,c),d[0]=h.length(v[0]),h.normalize(v[0],v[0]),S[0]=h.dot(v[0],v[1]),y(v[1],v[1],v[0],1,-S[0]),d[1]=h.length(v[1]),h.normalize(v[1],v[1]),S[0]/=d[1],S[1]=h.dot(v[0],v[2]),y(v[2],v[2],v[0],1,-S[1]),S[2]=h.dot(v[1],v[2]),y(v[2],v[2],v[1],1,-S[2]),d[2]=h.length(v[2]),h.normalize(v[2],v[2]),S[1]/=d[2],S[2]/=d[2],h.cross(g,v[1],v[2]),h.dot(v[0],g)<0)for(var ne=0;ne<3;ne++)d[ne]*=-1,v[ne][0]*=-1,v[ne][1]*=-1,v[ne][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(E[0]=-E[0]),v[0][2]>v[2][0]&&(E[1]=-E[1]),v[1][0]>v[0][1]&&(E[2]=-E[2]),!0}},4335:function(f){f.exports=function(s,t){var i=t[15];if(i===0)return!1;for(var r=1/i,n=0;n<16;n++)s[n]=t[n]*r;return!0}},7442:function(f,s,t){var i=t(6658),r=t(7182),n=t(2652),a=t(9921),l=t(8648),u=x(),h=x(),c=x();function x(){return{translate:p(),scale:p(1),skew:p(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function p(v){return[v||0,v||0,v||0]}f.exports=function(v,g,y,m){if(a(g)===0||a(y)===0)return!1;var w=n(g,u.translate,u.scale,u.skew,u.perspective,u.quaternion),d=n(y,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!w||!d||(i(c.translate,u.translate,h.translate,m),i(c.skew,u.skew,h.skew,m),i(c.scale,u.scale,h.scale,m),i(c.perspective,u.perspective,h.perspective,m),l(c.quaternion,u.quaternion,h.quaternion,m),r(v,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},7182:function(f,s,t){var i={identity:t(7894),translate:t(7656),multiply:t(6760),create:t(6864),scale:t(2504),fromRotationTranslation:t(6743)},r=(i.create(),i.create());f.exports=function(n,a,l,u,h,c){return i.identity(n),i.fromRotationTranslation(n,c,a),n[3]=h[0],n[7]=h[1],n[11]=h[2],n[15]=h[3],i.identity(r),u[2]!==0&&(r[9]=u[2],i.multiply(n,n,r)),u[1]!==0&&(r[9]=0,r[8]=u[1],i.multiply(n,n,r)),u[0]!==0&&(r[8]=0,r[4]=u[0],i.multiply(n,n,r)),i.scale(n,n,l),n}},4192:function(f,s,t){var i=t(2478),r=t(7442),n=t(7608),a=t(5567),l=t(2408),u=t(7089),h=t(6582),c=t(7656),x=(t(2504),t(3536)),p=[0,0,0];function v(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}f.exports=function(m){return new v((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var g=v.prototype;g.recalcMatrix=function(m){var w=this._time,d=i.le(w,m),S=this.computedMatrix;if(!(d<0)){var A=this._components;if(d===w.length-1)for(var E=16*d,P=0;P<16;++P)S[P]=A[E++];else{var O=w[d+1]-w[d],I=(E=16*d,this.prevMatrix),D=!0;for(P=0;P<16;++P)I[P]=A[E++];var V=this.nextMatrix;for(P=0;P<16;++P)V[P]=A[E++],D=D&&I[P]===V[P];if(O<1e-6||D)for(P=0;P<16;++P)S[P]=I[P];else r(S,I,V,(m-w[d])/O)}var z=this.computedUp;z[0]=S[1],z[1]=S[5],z[2]=S[9],x(z,z);var j=this.computedInverse;n(j,S);var X=this.computedEye,F=j[15];X[0]=j[12]/F,X[1]=j[13]/F,X[2]=j[14]/F;var H=this.computedCenter,W=Math.exp(this.computedRadius[0]);for(P=0;P<3;++P)H[P]=X[P]-S[2+4*P]*W}},g.idle=function(m){if(!(m<this.lastT())){for(var w=this._components,d=w.length-16,S=0;S<16;++S)w.push(w[d++]);this._time.push(m)}},g.flush=function(m){var w=i.gt(this._time,m)-2;w<0||(this._time.splice(0,w),this._components.splice(0,16*w))},g.lastT=function(){return this._time[this._time.length-1]},g.lookAt=function(m,w,d,S){this.recalcMatrix(m),w=w||this.computedEye,d=d||p,S=S||this.computedUp,this.setMatrix(m,h(this.computedMatrix,w,d,S));for(var A=0,E=0;E<3;++E)A+=Math.pow(d[E]-w[E],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},g.rotate=function(m,w,d,S){this.recalcMatrix(m);var A=this.computedInverse;w&&l(A,A,w),d&&a(A,A,d),S&&u(A,A,S),this.setMatrix(m,n(this.computedMatrix,A))};var y=[0,0,0];g.pan=function(m,w,d,S){y[0]=-(w||0),y[1]=-(d||0),y[2]=-(S||0),this.recalcMatrix(m);var A=this.computedInverse;c(A,A,y),this.setMatrix(m,n(A,A))},g.translate=function(m,w,d,S){y[0]=w||0,y[1]=d||0,y[2]=S||0,this.recalcMatrix(m);var A=this.computedMatrix;c(A,A,y),this.setMatrix(m,A)},g.setMatrix=function(m,w){if(!(m<this.lastT())){this._time.push(m);for(var d=0;d<16;++d)this._components.push(w[d])}},g.setDistance=function(m,w){this.computedRadius[0]=w},g.setDistanceLimits=function(m,w){var d=this._limits;d[0]=m,d[1]=w},g.getDistanceLimits=function(m){var w=this._limits;return m?(m[0]=w[0],m[1]=w[1],m):w}},3090:function(f,s,t){f.exports=function(r){var n=r.length;if(n<3){for(var a=new Array(n),l=0;l<n;++l)a[l]=l;return n===2&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:a}var u=new Array(n);for(l=0;l<n;++l)u[l]=l;u.sort(function(w,d){return r[w][0]-r[d][0]||r[w][1]-r[d][1]});var h=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<n;++l){for(var x=u[l],p=r[x],v=h.length;v>1&&i(r[h[v-2]],r[h[v-1]],p)<=0;)v-=1,h.pop();for(h.push(x),v=c.length;v>1&&i(r[c[v-2]],r[c[v-1]],p)>=0;)v-=1,c.pop();c.push(x)}a=new Array(c.length+h.length-2);for(var g=0,y=(l=0,h.length);l<y;++l)a[g++]=h[l];for(var m=c.length-2;m>0;--m)a[g++]=c[m];return a};var i=t(3250)[3]},351:function(f,s,t){f.exports=function(r,n){n||(n=r,r=window);var a=0,l=0,u=0,h={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(E){var P=!1;return"altKey"in E&&(P=P||E.altKey!==h.alt,h.alt=!!E.altKey),"shiftKey"in E&&(P=P||E.shiftKey!==h.shift,h.shift=!!E.shiftKey),"ctrlKey"in E&&(P=P||E.ctrlKey!==h.control,h.control=!!E.ctrlKey),"metaKey"in E&&(P=P||E.metaKey!==h.meta,h.meta=!!E.metaKey),P}function p(E,P){var O=i.x(P),I=i.y(P);"buttons"in P&&(E=0|P.buttons),(E!==a||O!==l||I!==u||x(P))&&(a=0|E,l=O||0,u=I||0,n&&n(a,l,u,h))}function v(E){p(0,E)}function g(){(a||l||u||h.shift||h.alt||h.meta||h.control)&&(l=u=0,a=0,h.shift=h.alt=h.control=h.meta=!1,n&&n(0,0,0,h))}function y(E){x(E)&&n&&n(a,l,u,h)}function m(E){i.buttons(E)===0?p(0,E):p(a,E)}function w(E){p(a|i.buttons(E),E)}function d(E){p(a&~i.buttons(E),E)}function S(){c||(c=!0,r.addEventListener("mousemove",m),r.addEventListener("mousedown",w),r.addEventListener("mouseup",d),r.addEventListener("mouseleave",v),r.addEventListener("mouseenter",v),r.addEventListener("mouseout",v),r.addEventListener("mouseover",v),r.addEventListener("blur",g),r.addEventListener("keyup",y),r.addEventListener("keydown",y),r.addEventListener("keypress",y),r!==window&&(window.addEventListener("blur",g),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var A={element:r};return Object.defineProperties(A,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,r.removeEventListener("mousemove",m),r.removeEventListener("mousedown",w),r.removeEventListener("mouseup",d),r.removeEventListener("mouseleave",v),r.removeEventListener("mouseenter",v),r.removeEventListener("mouseout",v),r.removeEventListener("mouseover",v),r.removeEventListener("blur",g),r.removeEventListener("keyup",y),r.removeEventListener("keydown",y),r.removeEventListener("keypress",y),r!==window&&(window.removeEventListener("blur",g),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return a},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),A};var i=t(4687)},24:function(f){var s={left:0,top:0};f.exports=function(t,i,r){i=i||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n,a=t.clientX||0,l=t.clientY||0,u=(n=i)===window||n===document||n===document.body?s:n.getBoundingClientRect();return r[0]=a-u.left,r[1]=l-u.top,r}},4687:function(f,s){function t(i){return i.target||i.srcElement||window}s.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((r=i.which)===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in i){var r;if((r=i.button)===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0},s.element=t,s.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var r=t(i).getBoundingClientRect();return i.clientX-r.left}return 0},s.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var r=t(i).getBoundingClientRect();return i.clientY-r.top}return 0}},8512:function(f,s,t){var i=t(665);f.exports=function(r,n,a){typeof r=="function"&&(a=!!n,n=r,r=window);var l=i("ex",r),u=function(h){a&&h.preventDefault();var c=h.deltaX||0,x=h.deltaY||0,p=h.deltaZ||0,v=1;switch(h.deltaMode){case 1:v=l;break;case 2:v=window.innerHeight}if(x*=v,p*=v,(c*=v)||x||p)return n(c,x,p,h)};return r.addEventListener("wheel",u),u}},2640:function(f,s,t){var i=t(1888);f.exports=function(n){function a(p){throw new Error("ndarray-extract-contour: "+p)}typeof n!="object"&&a("Must specify arguments");var l=n.order;Array.isArray(l)||a("Must specify order");var u=n.arrayArguments||1;u<1&&a("Must have at least one array argument"),(n.scalarArguments||0)<0&&a("Scalar arg count must be > 0"),typeof n.vertex!="function"&&a("Must specify vertex creation function"),typeof n.cell!="function"&&a("Must specify cell creation function"),typeof n.phase!="function"&&a("Must specify phase function");for(var h=n.getters||[],c=new Array(u),x=0;x<u;++x)h.indexOf(x)>=0?c[x]=!0:c[x]=!1;return function(p,v,g,y,m,w){var d=[w,m].join(",");return(0,r[d])(p,v,g,i.mallocUint32,i.freeUint32)}(n.vertex,n.cell,n.phase,0,l,c)};var r={"false,0,1":function(n,a,l,u,h){return function(c,x,p,v){var g,y=0|c.shape[0],m=0|c.shape[1],w=c.data,d=0|c.offset,S=0|c.stride[0],A=0|c.stride[1],E=d,P=0|-S,O=0,I=0|-A,D=0,V=-S-A|0,z=0,j=0|S,X=A-S*y|0,F=0,H=0,W=0,ie=2*y|0,te=u(ie),Q=u(ie),ne=0,$=0,J=-1,re=-1,se=0,ue=0|-y,he=0|y,pe=0,ge=-y-1|0,ye=y-1|0,be=0,Te=0,Se=0;for(F=0;F<y;++F)te[ne++]=l(w[E],x,p,v),E+=j;if(E+=X,m>0){if(H=1,te[ne++]=l(w[E],x,p,v),E+=j,y>0)for(F=1,g=w[E],$=te[ne]=l(g,x,p,v),se=te[ne+J],pe=te[ne+ue],be=te[ne+ge],$===se&&$===pe&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,se,pe,be,x,p,v),Te=Q[ne]=W++),ne+=1,E+=j,F=2;F<y;++F)g=w[E],$=te[ne]=l(g,x,p,v),se=te[ne+J],pe=te[ne+ue],be=te[ne+ge],$===se&&$===pe&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,se,pe,be,x,p,v),Te=Q[ne]=W++,be!==se&&a(Q[ne+J],Te,z,O,be,se,x,p,v)),ne+=1,E+=j;for(E+=X,ne=0,Se=J,J=re,re=Se,Se=ue,ue=he,he=Se,Se=ge,ge=ye,ye=Se,H=2;H<m;++H){if(te[ne++]=l(w[E],x,p,v),E+=j,y>0)for(F=1,g=w[E],$=te[ne]=l(g,x,p,v),se=te[ne+J],pe=te[ne+ue],be=te[ne+ge],$===se&&$===pe&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,se,pe,be,x,p,v),Te=Q[ne]=W++,be!==pe&&a(Q[ne+ue],Te,D,z,pe,be,x,p,v)),ne+=1,E+=j,F=2;F<y;++F)g=w[E],$=te[ne]=l(g,x,p,v),se=te[ne+J],pe=te[ne+ue],be=te[ne+ge],$===se&&$===pe&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,se,pe,be,x,p,v),Te=Q[ne]=W++,be!==pe&&a(Q[ne+ue],Te,D,z,pe,be,x,p,v),be!==se&&a(Q[ne+J],Te,z,O,be,se,x,p,v)),ne+=1,E+=j;1&H&&(ne=0),Se=J,J=re,re=Se,Se=ue,ue=he,he=Se,Se=ge,ge=ye,ye=Se,E+=X}}h(Q),h(te)}},"false,1,0":function(n,a,l,u,h){return function(c,x,p,v){var g,y=0|c.shape[0],m=0|c.shape[1],w=c.data,d=0|c.offset,S=0|c.stride[0],A=0|c.stride[1],E=d,P=0|-S,O=0,I=0|-A,D=0,V=-S-A|0,z=0,j=0|A,X=S-A*m|0,F=0,H=0,W=0,ie=2*m|0,te=u(ie),Q=u(ie),ne=0,$=0,J=-1,re=-1,se=0,ue=0|-m,he=0|m,pe=0,ge=-m-1|0,ye=m-1|0,be=0,Te=0,Se=0;for(H=0;H<m;++H)te[ne++]=l(w[E],x,p,v),E+=j;if(E+=X,y>0){if(F=1,te[ne++]=l(w[E],x,p,v),E+=j,m>0)for(H=1,g=w[E],$=te[ne]=l(g,x,p,v),pe=te[ne+ue],se=te[ne+J],be=te[ne+ge],$===pe&&$===se&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,pe,se,be,x,p,v),Te=Q[ne]=W++),ne+=1,E+=j,H=2;H<m;++H)g=w[E],$=te[ne]=l(g,x,p,v),pe=te[ne+ue],se=te[ne+J],be=te[ne+ge],$===pe&&$===se&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,pe,se,be,x,p,v),Te=Q[ne]=W++,be!==se&&a(Q[ne+J],Te,D,z,se,be,x,p,v)),ne+=1,E+=j;for(E+=X,ne=0,Se=ue,ue=he,he=Se,Se=J,J=re,re=Se,Se=ge,ge=ye,ye=Se,F=2;F<y;++F){if(te[ne++]=l(w[E],x,p,v),E+=j,m>0)for(H=1,g=w[E],$=te[ne]=l(g,x,p,v),pe=te[ne+ue],se=te[ne+J],be=te[ne+ge],$===pe&&$===se&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,pe,se,be,x,p,v),Te=Q[ne]=W++,be!==pe&&a(Q[ne+ue],Te,z,O,be,pe,x,p,v)),ne+=1,E+=j,H=2;H<m;++H)g=w[E],$=te[ne]=l(g,x,p,v),pe=te[ne+ue],se=te[ne+J],be=te[ne+ge],$===pe&&$===se&&$===be||(O=w[E+P],D=w[E+I],z=w[E+V],n(F,H,g,O,D,z,$,pe,se,be,x,p,v),Te=Q[ne]=W++,be!==se&&a(Q[ne+J],Te,D,z,se,be,x,p,v),be!==pe&&a(Q[ne+ue],Te,z,O,be,pe,x,p,v)),ne+=1,E+=j;1&F&&(ne=0),Se=ue,ue=he,he=Se,Se=J,J=re,re=Se,Se=ge,ge=ye,ye=Se,E+=X}}h(Q),h(te)}}}},6199:function(f,s,t){var i=t(1338),r={zero:function(y,m,w,d){var S=y[0];d|=0;var A=0,E=w[0];for(A=0;A<S;++A)m[d]=0,d+=E},fdTemplate1:function(y,m,w,d,S,A,E){var P=y[0],O=w[0],I=-1*O,D=O;d|=0,E|=0;var V=0,z=O,j=A[0];for(V=0;V<P;++V)S[E]=.5*(m[d+I]-m[d+D]),d+=z,E+=j},fdTemplate2:function(y,m,w,d,S,A,E,P,O,I){var D=y[0],V=y[1],z=w[0],j=w[1],X=A[0],F=A[1],H=O[0],W=O[1],ie=-1*z,te=z,Q=-1*j,ne=j;d|=0,E|=0,I|=0;var $=0,J=0,re=j,se=z-V*j,ue=F,he=X-V*F,pe=W,ge=H-V*W;for(J=0;J<D;++J){for($=0;$<V;++$)S[E]=.5*(m[d+ie]-m[d+te]),P[I]=.5*(m[d+Q]-m[d+ne]),d+=re,E+=ue,I+=pe;d+=se,E+=he,I+=ge}}},n={cdiff:function(y){var m={};return function(w,d,S){var A=w.dtype,E=w.order,P=d.dtype,O=d.order,I=S.dtype,D=S.order,V=[A,E.join(),P,O.join(),I,D.join()].join(),z=m[V];return z||(m[V]=z=y([A,E,P,O,I,D])),z(w.shape.slice(0),w.data,w.stride,0|w.offset,d.data,d.stride,0|d.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var m={};return function(w){var d=w.dtype,S=w.order,A=[d,S.join()].join(),E=m[A];return E||(m[A]=E=y([d,S])),E(w.shape.slice(0),w.data,w.stride,0|w.offset)}},fdTemplate1:function(y){var m={};return function(w,d){var S=w.dtype,A=w.order,E=d.dtype,P=d.order,O=[S,A.join(),E,P.join()].join(),I=m[O];return I||(m[O]=I=y([S,A,E,P])),I(w.shape.slice(0),w.data,w.stride,0|w.offset,d.data,d.stride,0|d.offset)}},fdTemplate2:function(y){var m={};return function(w,d,S){var A=w.dtype,E=w.order,P=d.dtype,O=d.order,I=S.dtype,D=S.order,V=[A,E.join(),P,O.join(),I,D.join()].join(),z=m[V];return z||(m[V]=z=y([A,E,P,O,I,D])),z(w.shape.slice(0),w.data,w.stride,0|w.offset,d.data,d.stride,0|d.offset,S.data,S.stride,0|S.offset)}}};function a(y){return(0,n[y.funcName])(l.bind(void 0,y))}function l(y){return r[y.funcName]}function u(y){return a({funcName:y.funcName})}var h={},c={},x=u({funcName:"cdiff"}),p=u({funcName:"zero"});function v(y){return y in h?h[y]:h[y]=u({funcName:"fdTemplate"+y})}function g(y,m,w,d){return function(S,A){var E=A.shape.slice();return E[0]>2&&E[1]>2&&d(A.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(w(A.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(w(A.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(w(A.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(w(A.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}f.exports=function(y,m,w){return Array.isArray(w)||(w=i(m.dimension,typeof w=="string"?w:"clamp")),m.size===0?y:m.dimension===0?(y.set(0),y):function(d){var S=d.join();if(O=c[S])return O;for(var A=d.length,E=[x,p],P=1;P<=A;++P)E.push(v(P));var O=g.apply(void 0,E);return c[S]=O,O}(w)(y,m)}},4317:function(f){function s(n,a){var l=Math.floor(a),u=a-l,h=0<=l&&l<n.shape[0],c=0<=l+1&&l+1<n.shape[0];return(1-u)*(h?+n.get(l):0)+u*(c?+n.get(l+1):0)}function t(n,a,l){var u=Math.floor(a),h=a-u,c=0<=u&&u<n.shape[0],x=0<=u+1&&u+1<n.shape[0],p=Math.floor(l),v=l-p,g=0<=p&&p<n.shape[1],y=0<=p+1&&p+1<n.shape[1],m=c&&g?n.get(u,p):0,w=c&&y?n.get(u,p+1):0;return(1-v)*((1-h)*m+h*(x&&g?n.get(u+1,p):0))+v*((1-h)*w+h*(x&&y?n.get(u+1,p+1):0))}function i(n,a,l,u){var h=Math.floor(a),c=a-h,x=0<=h&&h<n.shape[0],p=0<=h+1&&h+1<n.shape[0],v=Math.floor(l),g=l-v,y=0<=v&&v<n.shape[1],m=0<=v+1&&v+1<n.shape[1],w=Math.floor(u),d=u-w,S=0<=w&&w<n.shape[2],A=0<=w+1&&w+1<n.shape[2],E=x&&y&&S?n.get(h,v,w):0,P=x&&m&&S?n.get(h,v+1,w):0,O=p&&y&&S?n.get(h+1,v,w):0,I=p&&m&&S?n.get(h+1,v+1,w):0,D=x&&y&&A?n.get(h,v,w+1):0,V=x&&m&&A?n.get(h,v+1,w+1):0;return(1-d)*((1-g)*((1-c)*E+c*O)+g*((1-c)*P+c*I))+d*((1-g)*((1-c)*D+c*(p&&y&&A?n.get(h+1,v,w+1):0))+g*((1-c)*V+c*(p&&m&&A?n.get(h+1,v+1,w+1):0)))}function r(n){var a,l,u=0|n.shape.length,h=new Array(u),c=new Array(u),x=new Array(u),p=new Array(u);for(a=0;a<u;++a)l=+arguments[a+1],h[a]=Math.floor(l),c[a]=l-h[a],x[a]=0<=h[a]&&h[a]<n.shape[a],p[a]=0<=h[a]+1&&h[a]+1<n.shape[a];var v,g,y,m=0;e:for(a=0;a<1<<u;++a){for(g=1,y=n.offset,v=0;v<u;++v)if(a&1<<v){if(!p[v])continue e;g*=c[v],y+=n.stride[v]*(h[v]+1)}else{if(!x[v])continue e;g*=1-c[v],y+=n.stride[v]*h[v]}m+=g*n.data[y]}return m}f.exports=function(n,a,l,u){switch(n.shape.length){case 0:return 0;case 1:return s(n,a);case 2:return t(n,a,l);case 3:return i(n,a,l,u);default:return r.apply(void 0,arguments)}},f.exports.d1=s,f.exports.d2=t,f.exports.d3=i},5298:function(f,s){var t={"float64,2,1,0":function(){return function(l,u,h,c,x){var p=l[0],v=l[1],g=l[2],y=h[0],m=h[1],w=h[2];c|=0;var d=0,S=0,A=0,E=w,P=m-g*w,O=y-v*m;for(A=0;A<p;++A){for(S=0;S<v;++S){for(d=0;d<g;++d)u[c]/=x,c+=E;c+=P}c+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,h,c,x,p,v,g){for(var y=l[0],m=l[1],w=l[2],d=h[0],S=h[1],A=h[2],E=p[0],P=p[1],O=p[2],I=c|=0,D=v|=0,V=0|l[0];V>0;){V<64?(y=V,V=0):(y=64,V-=64);for(var z=0|l[1];z>0;){z<64?(m=z,z=0):(m=64,z-=64),c=I+V*d+z*S,v=D+V*E+z*P;var j=0,X=0,F=0,H=A,W=d-w*A,ie=S-y*d,te=O,Q=E-w*O,ne=P-y*E;for(F=0;F<m;++F){for(X=0;X<y;++X){for(j=0;j<w;++j)u[c]=x[v]*g,c+=H,v+=te;c+=W,v+=Q}c+=ie,v+=ne}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,h,c,x,p,v){var g=l[0],y=l[1],m=h[0],w=h[1],d=p[0],S=p[1];c|=0,v|=0;var A=0,E=0,P=w,O=m-y*w,I=S,D=d-y*S;for(E=0;E<g;++E){for(A=0;A<y;++A)u[c]=x[v],c+=P,v+=I;c+=O,v+=D}}},"float32,1,0,float32,0,1":function(){return function(l,u,h,c,x,p,v){for(var g=l[0],y=l[1],m=h[0],w=h[1],d=p[0],S=p[1],A=c|=0,E=v|=0,P=0|l[1];P>0;){P<64?(y=P,P=0):(y=64,P-=64);for(var O=0|l[0];O>0;){O<64?(g=O,O=0):(g=64,O-=64),c=A+P*w+O*m,v=E+P*S+O*d;var I=0,D=0,V=w,z=m-y*w,j=S,X=d-y*S;for(D=0;D<g;++D){for(I=0;I<y;++I)u[c]=x[v],c+=V,v+=j;c+=z,v+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,h,c,x,p,v){for(var g=l[0],y=l[1],m=l[2],w=h[0],d=h[1],S=h[2],A=p[0],E=p[1],P=p[2],O=c|=0,I=v|=0,D=0|l[2];D>0;){D<64?(m=D,D=0):(m=64,D-=64);for(var V=0|l[0];V>0;){V<64?(g=V,V=0):(g=64,V-=64);for(var z=0|l[1];z>0;){z<64?(y=z,z=0):(y=64,z-=64),c=O+D*S+V*w+z*d,v=I+D*P+V*A+z*E;var j=0,X=0,F=0,H=S,W=w-m*S,ie=d-g*w,te=P,Q=A-m*P,ne=E-g*A;for(F=0;F<y;++F){for(X=0;X<g;++X){for(j=0;j<m;++j)u[c]=x[v],c+=H,v+=te;c+=W,v+=Q}c+=ie,v+=ne}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,h,c,x,p,v){var g=l[0],y=l[1],m=l[2],w=h[0],d=h[1],S=h[2],A=p[0],E=p[1],P=p[2];c|=0,v|=0;var O=0,I=0,D=0,V=S,z=w-m*S,j=d-g*w,X=P,F=A-m*P,H=E-g*A;for(D=0;D<y;++D){for(I=0;I<g;++I){for(O=0;O<m;++O)u[c]=x[v],c+=V,v+=X;c+=z,v+=F}c+=j,v+=H}}}},i=function(l,u){var h=u.join(",");return(0,t[h])()},r={mul:function(l){var u={};return function(h,c,x){var p=h.dtype,v=h.order,g=c.dtype,y=c.order,m=x.dtype,w=x.order,d=[p,v.join(),g,y.join(),m,w.join()].join(),S=u[d];return S||(u[d]=S=l([p,v,g,y,m,w])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(l){var u={};return function(h,c,x){var p=h.dtype,v=h.order,g=c.dtype,y=c.order,m=[p,v.join(),g,y.join()].join(),w=u[m];return w||(u[m]=w=l([p,v,g,y])),w(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(l){var u={};return function(h,c){var x=h.dtype,p=h.order,v=[x,p.join()].join(),g=u[v];return g||(u[v]=g=l([x,p])),g(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},div:function(l){var u={};return function(h,c,x){var p=h.dtype,v=h.order,g=c.dtype,y=c.order,m=x.dtype,w=x.order,d=[p,v.join(),g,y.join(),m,w.join()].join(),S=u[d];return S||(u[d]=S=l([p,v,g,y,m,w])),S(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(l){var u={};return function(h,c,x){var p=h.dtype,v=h.order,g=c.dtype,y=c.order,m=[p,v.join(),g,y.join()].join(),w=u[m];return w||(u[m]=w=l([p,v,g,y])),w(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(l){var u={};return function(h,c){var x=h.dtype,p=h.order,v=[x,p.join()].join(),g=u[v];return g||(u[v]=g=l([x,p])),g(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},assign:function(l){var u={};return function(h,c){var x=h.dtype,p=h.order,v=c.dtype,g=c.order,y=[x,p.join(),v,g.join()].join(),m=u[y];return m||(u[y]=m=l([x,p,v,g])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset)}}};function n(l){return u={funcName:l.funcName},(0,r[u.funcName])(i.bind(void 0,u));var u}var a={mul:"*",div:"/"};(function(){for(var l in a)s[l]=n({funcName:l}),s[l+"s"]=n({funcName:l+"s"}),s[l+"seq"]=n({funcName:l+"seq"})})(),s.assign=n({funcName:"assign"})},9994:function(f,s,t){var i=t(9618),r=t(8277);f.exports=function(n,a){for(var l=[],u=n,h=1;Array.isArray(u);)l.push(u.length),h*=u.length,u=u[0];return l.length===0?i():(a||(a=i(new Float64Array(h),l)),r(a,n),a)}},8277:function(f){f.exports=function(s){var t={};return function(i,r){var n=i.dtype,a=i.order,l=[n,a.join()].join(),u=t[l];return u||(t[l]=u=s([n,a])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}}((function(){return function(s,t,i,r,n){var a=s[0],l=s[1],u=s[2],h=i[0],c=i[1],x=i[2],p=[0,0,0];r|=0;var v=0,g=0,y=0,m=x,w=c-u*x,d=h-l*c;for(y=0;y<a;++y){for(g=0;g<l;++g){for(v=0;v<u;++v){var S,A=n;for(S=0;S<p.length-1;++S)A=A[p[S]];t[r]=A[p[p.length-1]],r+=m,++p[2]}r+=w,p[2]-=u,++p[1]}r+=d,p[1]-=l,++p[0]}}}).bind(void 0,{funcName:"convert"}))},7640:function(f,s,t){var i=t(1888);function r(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var n={"uint32,1,0":function(u,h){return function(c,x,p,v,g,y,m,w,d,S,A){var E,P,O,I,D,V,z,j,X=c*g+v,F=u(w);for(E=c+1;E<=x;++E){for(P=E,O=X+=g,D=0,V=X,I=0;I<w;++I)F[D++]=p[V],V+=d;e:for(;P-- >c;){D=0,V=O-g;t:for(I=0;I<w;++I){if((z=p[V])<(j=F[D]))break e;if(z>j)break t;V+=S,D+=A}for(D=O,V=O-g,I=0;I<w;++I)p[D]=p[V],D+=d,V+=d;O-=g}for(D=O,V=0,I=0;I<w;++I)p[D]=F[V++],D+=d}h(F)}}},a={"uint32,1,0":function(u,h,c){return function x(p,v,g,y,m,w,d,S,A,E,P){var O,I,D,V,z,j,X,F,H,W,ie,te,Q,ne,$,J,re,se,ue,he,pe,ge,ye,be,Te,Se=(v-p+1)/6|0,Fe=p+Se,xe=v-Se,le=p+v>>1,oe=le-Se,de=le+Se,Ce=Fe,_e=oe,Ae=le,Le=de,ze=xe,Re=p+1,ve=v-1,ke=!0,Ee=0,De=0,Pe=0,Ue=S,We=h(Ue),$e=h(Ue);ie=m*Ce,te=m*_e,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Ce,Ce=_e,_e=I;break e}if(Pe<0)break e;Te+=E}ie=m*Le,te=m*ze,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Le,Le=ze,ze=I;break e}if(Pe<0)break e;Te+=E}ie=m*Ce,te=m*Ae,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Ce,Ce=Ae,Ae=I;break e}if(Pe<0)break e;Te+=E}ie=m*_e,te=m*Ae,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=_e,_e=Ae,Ae=I;break e}if(Pe<0)break e;Te+=E}ie=m*Ce,te=m*Le,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Ce,Ce=Le,Le=I;break e}if(Pe<0)break e;Te+=E}ie=m*Ae,te=m*Le,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Ae,Ae=Le,Le=I;break e}if(Pe<0)break e;Te+=E}ie=m*_e,te=m*ze,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=_e,_e=ze,ze=I;break e}if(Pe<0)break e;Te+=E}ie=m*_e,te=m*Ae,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=_e,_e=Ae,Ae=I;break e}if(Pe<0)break e;Te+=E}ie=m*Le,te=m*ze,Te=y;e:for(W=0;W<S;++W){if(F=te+Te,(Pe=g[X=ie+Te]-g[F])>0){I=Le,Le=ze,ze=I;break e}if(Pe<0)break e;Te+=E}for(ie=m*Ce,te=m*_e,Q=m*Ae,ne=m*Le,$=m*ze,J=m*Fe,re=m*le,se=m*xe,be=0,Te=y,W=0;W<S;++W)X=ie+Te,F=te+Te,H=Q+Te,ue=ne+Te,he=$+Te,pe=J+Te,ge=re+Te,ye=se+Te,We[be]=g[F],$e[be]=g[ue],ke=ke&&We[be]===$e[be],D=g[X],V=g[H],z=g[he],g[pe]=D,g[ge]=V,g[ye]=z,++be,Te+=A;for(ie=m*oe,te=m*p,Te=y,W=0;W<S;++W)F=te+Te,g[X=ie+Te]=g[F],Te+=A;for(ie=m*de,te=m*v,Te=y,W=0;W<S;++W)F=te+Te,g[X=ie+Te]=g[F],Te+=A;if(ke)for(j=Re;j<=ve;++j){for(X=y+j*m,be=0,W=0;W<S&&(Pe=g[X]-We[be])==0;++W)be+=P,X+=E;if(Pe!==0)if(Pe<0){if(j!==Re)for(ie=m*j,te=m*Re,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;++Re}else for(;;){for(X=y+ve*m,be=0,W=0;W<S&&(Pe=g[X]-We[be])==0;++W)be+=P,X+=E;if(!(Pe>0)){if(Pe<0){for(ie=m*j,te=m*Re,Q=m*ve,Te=y,W=0;W<S;++W)F=te+Te,H=Q+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=g[H],g[H]=O,Te+=A;++Re,--ve;break}for(ie=m*j,te=m*ve,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;--ve;break}ve--}}else for(j=Re;j<=ve;++j){for(X=y+j*m,be=0,W=0;W<S&&(Ee=g[X]-We[be])==0;++W)be+=P,X+=E;if(Ee<0){if(j!==Re)for(ie=m*j,te=m*Re,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;++Re}else{for(X=y+j*m,be=0,W=0;W<S&&(De=g[X]-$e[be])==0;++W)be+=P,X+=E;if(De>0)for(;;){for(X=y+ve*m,be=0,W=0;W<S&&(Pe=g[X]-$e[be])==0;++W)be+=P,X+=E;if(!(Pe>0)){for(X=y+ve*m,be=0,W=0;W<S&&(Pe=g[X]-We[be])==0;++W)be+=P,X+=E;if(Pe<0){for(ie=m*j,te=m*Re,Q=m*ve,Te=y,W=0;W<S;++W)F=te+Te,H=Q+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=g[H],g[H]=O,Te+=A;++Re,--ve}else{for(ie=m*j,te=m*ve,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;--ve}break}if(--ve<j)break}}}for(ie=m*p,te=m*(Re-1),be=0,Te=y,W=0;W<S;++W)F=te+Te,g[X=ie+Te]=g[F],g[F]=We[be],++be,Te+=A;for(ie=m*v,te=m*(ve+1),be=0,Te=y,W=0;W<S;++W)F=te+Te,g[X=ie+Te]=g[F],g[F]=$e[be],++be,Te+=A;if(Re-2-p<=32?u(p,Re-2,g,y,m,w,d,S,A,E,P):x(p,Re-2,g,y,m,w,d,S,A,E,P),v-(ve+2)<=32?u(ve+2,v,g,y,m,w,d,S,A,E,P):x(ve+2,v,g,y,m,w,d,S,A,E,P),ke)return c(We),void c($e);if(Re<Fe&&ve>xe){e:for(;;){for(X=y+Re*m,be=0,Te=y,W=0;W<S;++W){if(g[X]!==We[be])break e;++be,X+=A}++Re}e:for(;;){for(X=y+ve*m,be=0,Te=y,W=0;W<S;++W){if(g[X]!==$e[be])break e;++be,X+=A}--ve}for(j=Re;j<=ve;++j){for(X=y+j*m,be=0,W=0;W<S&&(Ee=g[X]-We[be])==0;++W)be+=P,X+=E;if(Ee===0){if(j!==Re)for(ie=m*j,te=m*Re,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;++Re}else{for(X=y+j*m,be=0,W=0;W<S&&(De=g[X]-$e[be])==0;++W)be+=P,X+=E;if(De===0)for(;;){for(X=y+ve*m,be=0,W=0;W<S&&(Pe=g[X]-$e[be])==0;++W)be+=P,X+=E;if(Pe!==0){for(X=y+ve*m,be=0,W=0;W<S&&(Pe=g[X]-We[be])==0;++W)be+=P,X+=E;if(Pe<0){for(ie=m*j,te=m*Re,Q=m*ve,Te=y,W=0;W<S;++W)F=te+Te,H=Q+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=g[H],g[H]=O,Te+=A;++Re,--ve}else{for(ie=m*j,te=m*ve,Te=y,W=0;W<S;++W)F=te+Te,O=g[X=ie+Te],g[X]=g[F],g[F]=O,Te+=A;--ve}break}if(--ve<j)break}}}}c(We),c($e),ve-Re<=32?u(Re,ve,g,y,m,w,d,S,A,E,P):x(Re,ve,g,y,m,w,d,S,A,E,P)}}},l={"uint32,1,0":function(u,h){return function(c){var x=c.data,p=0|c.offset,v=c.shape,g=c.stride,y=0|g[0],m=0|v[0],w=0|g[1],d=0|v[1],S=w,A=w;m<=32?u(0,m-1,x,p,y,w,m,d,S,A,1):h(0,m-1,x,p,y,w,m,d,S,A,1)}}};f.exports=function(u,h){var c=[h,u].join(","),x=l[c],p=function(g,y){var m=r(y),w=[y,g].join(","),d=n[w];return m?d(m[0],m[1]):d()}(u,h),v=function(g,y,m){var w=r(y),d=[y,g].join(","),S=a[d];return g.length>1&&w?S(m,w[0],w[1]):S(m)}(u,h,p);return x(p,v)}},446:function(f,s,t){var i=t(7640),r={};f.exports=function(n){var a=n.order,l=n.dtype,u=[a,l].join(":"),h=r[u];return h||(r[u]=h=i(a,l)),h(n),n}},9618:function(f,s,t){var i=t(7163),r=typeof Float64Array<"u";function n(c,x){return c[0]-x[0]}function a(){var c,x=this.stride,p=new Array(x.length);for(c=0;c<p.length;++c)p[c]=[Math.abs(x[c]),c];p.sort(n);var v=new Array(p.length);for(c=0;c<v.length;++c)v[c]=p[c][1];return v}var l={T:function(c){function x(v){this.data=v}var p=x.prototype;return p.dtype=c,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new x(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(v){return new x(v)}},0:function(c,x){function p(g,y){this.data=g,this.offset=y}var v=p.prototype;return v.dtype=c,v.index=function(){return this.offset},v.dimension=0,v.size=1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new p(this.data,this.offset)},v.pick=function(){return x(this.data)},v.valueOf=v.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},v.set=function(g){return c==="generic"?this.data.set(this.offset,g):this.data[this.offset]=g},function(g,y,m,w){return new p(g,w)}},1:function(c,x,p){function v(y,m,w,d){this.data=y,this.shape=[m],this.stride=[w],this.offset=0|d}var g=v.prototype;return g.dtype=c,g.dimension=1,Object.defineProperty(g,"size",{get:function(){return this.shape[0]}}),g.order=[0],g.set=function(y,m){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,m):this.data[this.offset+this.stride[0]*y]=m},g.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},g.index=function(y){return this.offset+this.stride[0]*y},g.hi=function(y){return new v(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},g.lo=function(y){var m=this.offset,w=0,d=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(m+=S*(w=0|y),d-=w),new v(this.data,d,S,m)},g.step=function(y){var m=this.shape[0],w=this.stride[0],d=this.offset,S=0,A=Math.ceil;return typeof y=="number"&&((S=0|y)<0?(d+=w*(m-1),m=A(-m/S)):m=A(m/S),w*=S),new v(this.data,m,w,d)},g.transpose=function(y){y=y===void 0?0:0|y;var m=this.shape,w=this.stride;return new v(this.data,m[y],w[y],this.offset)},g.pick=function(y){var m=[],w=[],d=this.offset;return typeof y=="number"&&y>=0?d=d+this.stride[0]*y|0:(m.push(this.shape[0]),w.push(this.stride[0])),(0,x[m.length+1])(this.data,m,w,d)},function(y,m,w,d){return new v(y,m[0],w[0],d)}},2:function(c,x,p){function v(y,m,w,d,S,A){this.data=y,this.shape=[m,w],this.stride=[d,S],this.offset=0|A}var g=v.prototype;return g.dtype=c,g.dimension=2,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(g,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),g.set=function(y,m,w){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m,w):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]=w},g.get=function(y,m){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]},g.index=function(y,m){return this.offset+this.stride[0]*y+this.stride[1]*m},g.hi=function(y,m){return new v(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},g.lo=function(y,m){var w=this.offset,d=0,S=this.shape[0],A=this.shape[1],E=this.stride[0],P=this.stride[1];return typeof y=="number"&&y>=0&&(w+=E*(d=0|y),S-=d),typeof m=="number"&&m>=0&&(w+=P*(d=0|m),A-=d),new v(this.data,S,A,E,P,w)},g.step=function(y,m){var w=this.shape[0],d=this.shape[1],S=this.stride[0],A=this.stride[1],E=this.offset,P=0,O=Math.ceil;return typeof y=="number"&&((P=0|y)<0?(E+=S*(w-1),w=O(-w/P)):w=O(w/P),S*=P),typeof m=="number"&&((P=0|m)<0?(E+=A*(d-1),d=O(-d/P)):d=O(d/P),A*=P),new v(this.data,w,d,S,A,E)},g.transpose=function(y,m){y=y===void 0?0:0|y,m=m===void 0?1:0|m;var w=this.shape,d=this.stride;return new v(this.data,w[y],w[m],d[y],d[m],this.offset)},g.pick=function(y,m){var w=[],d=[],S=this.offset;return typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(w.push(this.shape[0]),d.push(this.stride[0])),typeof m=="number"&&m>=0?S=S+this.stride[1]*m|0:(w.push(this.shape[1]),d.push(this.stride[1])),(0,x[w.length+1])(this.data,w,d,S)},function(y,m,w,d){return new v(y,m[0],m[1],w[0],w[1],d)}},3:function(c,x,p){function v(y,m,w,d,S,A,E,P){this.data=y,this.shape=[m,w,d],this.stride=[S,A,E],this.offset=0|P}var g=v.prototype;return g.dtype=c,g.dimension=3,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(g,"order",{get:function(){var y=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return y>m?m>w?[2,1,0]:y>w?[1,2,0]:[1,0,2]:y>w?[2,0,1]:w>m?[0,1,2]:[0,2,1]}}),g.set=function(y,m,w,d){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w,d):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w]=d},g.get=function(y,m,w){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w]},g.index=function(y,m,w){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w},g.hi=function(y,m,w){return new v(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,this.stride[0],this.stride[1],this.stride[2],this.offset)},g.lo=function(y,m,w){var d=this.offset,S=0,A=this.shape[0],E=this.shape[1],P=this.shape[2],O=this.stride[0],I=this.stride[1],D=this.stride[2];return typeof y=="number"&&y>=0&&(d+=O*(S=0|y),A-=S),typeof m=="number"&&m>=0&&(d+=I*(S=0|m),E-=S),typeof w=="number"&&w>=0&&(d+=D*(S=0|w),P-=S),new v(this.data,A,E,P,O,I,D,d)},g.step=function(y,m,w){var d=this.shape[0],S=this.shape[1],A=this.shape[2],E=this.stride[0],P=this.stride[1],O=this.stride[2],I=this.offset,D=0,V=Math.ceil;return typeof y=="number"&&((D=0|y)<0?(I+=E*(d-1),d=V(-d/D)):d=V(d/D),E*=D),typeof m=="number"&&((D=0|m)<0?(I+=P*(S-1),S=V(-S/D)):S=V(S/D),P*=D),typeof w=="number"&&((D=0|w)<0?(I+=O*(A-1),A=V(-A/D)):A=V(A/D),O*=D),new v(this.data,d,S,A,E,P,O,I)},g.transpose=function(y,m,w){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w;var d=this.shape,S=this.stride;return new v(this.data,d[y],d[m],d[w],S[y],S[m],S[w],this.offset)},g.pick=function(y,m,w){var d=[],S=[],A=this.offset;return typeof y=="number"&&y>=0?A=A+this.stride[0]*y|0:(d.push(this.shape[0]),S.push(this.stride[0])),typeof m=="number"&&m>=0?A=A+this.stride[1]*m|0:(d.push(this.shape[1]),S.push(this.stride[1])),typeof w=="number"&&w>=0?A=A+this.stride[2]*w|0:(d.push(this.shape[2]),S.push(this.stride[2])),(0,x[d.length+1])(this.data,d,S,A)},function(y,m,w,d){return new v(y,m[0],m[1],m[2],w[0],w[1],w[2],d)}},4:function(c,x,p){function v(y,m,w,d,S,A,E,P,O,I){this.data=y,this.shape=[m,w,d,S],this.stride=[A,E,P,O],this.offset=0|I}var g=v.prototype;return g.dtype=c,g.dimension=4,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(g,"order",{get:p}),g.set=function(y,m,w,d,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d]=S},g.get=function(y,m,w,d){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d]},g.index=function(y,m,w,d){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d},g.hi=function(y,m,w,d){return new v(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof d!="number"||d<0?this.shape[3]:0|d,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},g.lo=function(y,m,w,d){var S=this.offset,A=0,E=this.shape[0],P=this.shape[1],O=this.shape[2],I=this.shape[3],D=this.stride[0],V=this.stride[1],z=this.stride[2],j=this.stride[3];return typeof y=="number"&&y>=0&&(S+=D*(A=0|y),E-=A),typeof m=="number"&&m>=0&&(S+=V*(A=0|m),P-=A),typeof w=="number"&&w>=0&&(S+=z*(A=0|w),O-=A),typeof d=="number"&&d>=0&&(S+=j*(A=0|d),I-=A),new v(this.data,E,P,O,I,D,V,z,j,S)},g.step=function(y,m,w,d){var S=this.shape[0],A=this.shape[1],E=this.shape[2],P=this.shape[3],O=this.stride[0],I=this.stride[1],D=this.stride[2],V=this.stride[3],z=this.offset,j=0,X=Math.ceil;return typeof y=="number"&&((j=0|y)<0?(z+=O*(S-1),S=X(-S/j)):S=X(S/j),O*=j),typeof m=="number"&&((j=0|m)<0?(z+=I*(A-1),A=X(-A/j)):A=X(A/j),I*=j),typeof w=="number"&&((j=0|w)<0?(z+=D*(E-1),E=X(-E/j)):E=X(E/j),D*=j),typeof d=="number"&&((j=0|d)<0?(z+=V*(P-1),P=X(-P/j)):P=X(P/j),V*=j),new v(this.data,S,A,E,P,O,I,D,V,z)},g.transpose=function(y,m,w,d){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w,d=d===void 0?3:0|d;var S=this.shape,A=this.stride;return new v(this.data,S[y],S[m],S[w],S[d],A[y],A[m],A[w],A[d],this.offset)},g.pick=function(y,m,w,d){var S=[],A=[],E=this.offset;return typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),A.push(this.stride[0])),typeof m=="number"&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),A.push(this.stride[1])),typeof w=="number"&&w>=0?E=E+this.stride[2]*w|0:(S.push(this.shape[2]),A.push(this.stride[2])),typeof d=="number"&&d>=0?E=E+this.stride[3]*d|0:(S.push(this.shape[3]),A.push(this.stride[3])),(0,x[S.length+1])(this.data,S,A,E)},function(y,m,w,d){return new v(y,m[0],m[1],m[2],m[3],w[0],w[1],w[2],w[3],d)}},5:function(c,x,p){function v(y,m,w,d,S,A,E,P,O,I,D,V){this.data=y,this.shape=[m,w,d,S,A],this.stride=[E,P,O,I,D],this.offset=0|V}var g=v.prototype;return g.dtype=c,g.dimension=5,Object.defineProperty(g,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(g,"order",{get:p}),g.set=function(y,m,w,d,S,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d+this.stride[4]*S,A):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d+this.stride[4]*S]=A},g.get=function(y,m,w,d,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d+this.stride[4]*S]},g.index=function(y,m,w,d,S){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*w+this.stride[3]*d+this.stride[4]*S},g.hi=function(y,m,w,d,S){return new v(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof d!="number"||d<0?this.shape[3]:0|d,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},g.lo=function(y,m,w,d,S){var A=this.offset,E=0,P=this.shape[0],O=this.shape[1],I=this.shape[2],D=this.shape[3],V=this.shape[4],z=this.stride[0],j=this.stride[1],X=this.stride[2],F=this.stride[3],H=this.stride[4];return typeof y=="number"&&y>=0&&(A+=z*(E=0|y),P-=E),typeof m=="number"&&m>=0&&(A+=j*(E=0|m),O-=E),typeof w=="number"&&w>=0&&(A+=X*(E=0|w),I-=E),typeof d=="number"&&d>=0&&(A+=F*(E=0|d),D-=E),typeof S=="number"&&S>=0&&(A+=H*(E=0|S),V-=E),new v(this.data,P,O,I,D,V,z,j,X,F,H,A)},g.step=function(y,m,w,d,S){var A=this.shape[0],E=this.shape[1],P=this.shape[2],O=this.shape[3],I=this.shape[4],D=this.stride[0],V=this.stride[1],z=this.stride[2],j=this.stride[3],X=this.stride[4],F=this.offset,H=0,W=Math.ceil;return typeof y=="number"&&((H=0|y)<0?(F+=D*(A-1),A=W(-A/H)):A=W(A/H),D*=H),typeof m=="number"&&((H=0|m)<0?(F+=V*(E-1),E=W(-E/H)):E=W(E/H),V*=H),typeof w=="number"&&((H=0|w)<0?(F+=z*(P-1),P=W(-P/H)):P=W(P/H),z*=H),typeof d=="number"&&((H=0|d)<0?(F+=j*(O-1),O=W(-O/H)):O=W(O/H),j*=H),typeof S=="number"&&((H=0|S)<0?(F+=X*(I-1),I=W(-I/H)):I=W(I/H),X*=H),new v(this.data,A,E,P,O,I,D,V,z,j,X,F)},g.transpose=function(y,m,w,d,S){y=y===void 0?0:0|y,m=m===void 0?1:0|m,w=w===void 0?2:0|w,d=d===void 0?3:0|d,S=S===void 0?4:0|S;var A=this.shape,E=this.stride;return new v(this.data,A[y],A[m],A[w],A[d],A[S],E[y],E[m],E[w],E[d],E[S],this.offset)},g.pick=function(y,m,w,d,S){var A=[],E=[],P=this.offset;return typeof y=="number"&&y>=0?P=P+this.stride[0]*y|0:(A.push(this.shape[0]),E.push(this.stride[0])),typeof m=="number"&&m>=0?P=P+this.stride[1]*m|0:(A.push(this.shape[1]),E.push(this.stride[1])),typeof w=="number"&&w>=0?P=P+this.stride[2]*w|0:(A.push(this.shape[2]),E.push(this.stride[2])),typeof d=="number"&&d>=0?P=P+this.stride[3]*d|0:(A.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?P=P+this.stride[4]*S|0:(A.push(this.shape[4]),E.push(this.stride[4])),(0,x[A.length+1])(this.data,A,E,P)},function(y,m,w,d){return new v(y,m[0],m[1],m[2],m[3],m[4],w[0],w[1],w[2],w[3],w[4],d)}}};function u(c,x){var p=x===-1?"T":String(x),v=l[p];return x===-1?v(c):x===0?v(c,h[c][0]):v(c,h[c],a)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};f.exports=function(c,x,p,v){if(c===void 0)return(0,h.array[0])([]);typeof c=="number"&&(c=[c]),x===void 0&&(x=[c.length]);var g=x.length;if(p===void 0){p=new Array(g);for(var y=g-1,m=1;y>=0;--y)p[y]=m,m*=x[y]}if(v===void 0)for(v=0,y=0;y<g;++y)p[y]<0&&(v-=(x[y]-1)*p[y]);for(var w=function(S){if(i(S))return"buffer";if(r)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),d=h[w];d.length<=g+1;)d.push(u(w,d.length-1));return(0,d[g+1])(c,x,p,v)}},1278:function(f,s,t){var i=t(2361),r=Math.pow(2,-1074),n=-1>>>0;f.exports=function(a,l){if(isNaN(a)||isNaN(l))return NaN;if(a===l)return a;if(a===0)return l<0?-r:r;var u=i.hi(a),h=i.lo(a);return l>a==a>0?h===n?(u+=1,h=0):h+=1:h===0?(h=n,u-=1):h-=1,i.pack(h,u)}},8406:function(f,s){s.vertexNormals=function(t,i,r){for(var n=i.length,a=new Array(n),l=r===void 0?1e-6:r,u=0;u<n;++u)a[u]=[0,0,0];for(u=0;u<t.length;++u)for(var h=t[u],c=0,x=h[h.length-1],p=h[0],v=0;v<h.length;++v){c=x,x=p,p=h[(v+1)%h.length];for(var g=i[c],y=i[x],m=i[p],w=new Array(3),d=0,S=new Array(3),A=0,E=0;E<3;++E)w[E]=g[E]-y[E],d+=w[E]*w[E],S[E]=m[E]-y[E],A+=S[E]*S[E];if(d*A>l){var P=a[x],O=1/Math.sqrt(d*A);for(E=0;E<3;++E){var I=(E+1)%3,D=(E+2)%3;P[E]+=O*(S[I]*w[D]-S[D]*w[I])}}}for(u=0;u<n;++u){P=a[u];var V=0;for(E=0;E<3;++E)V+=P[E]*P[E];if(V>l)for(O=1/Math.sqrt(V),E=0;E<3;++E)P[E]*=O;else for(E=0;E<3;++E)P[E]=0}return a},s.faceNormals=function(t,i,r){for(var n=t.length,a=new Array(n),l=r===void 0?1e-6:r,u=0;u<n;++u){for(var h=t[u],c=new Array(3),x=0;x<3;++x)c[x]=i[h[x]];var p=new Array(3),v=new Array(3);for(x=0;x<3;++x)p[x]=c[1][x]-c[0][x],v[x]=c[2][x]-c[0][x];var g=new Array(3),y=0;for(x=0;x<3;++x){var m=(x+1)%3,w=(x+2)%3;g[x]=p[m]*v[w]-p[w]*v[m],y+=g[x]*g[x]}for(y=y>l?1/Math.sqrt(y):0,x=0;x<3;++x)g[x]*=y;a[u]=g}return a}},4081:function(f){f.exports=function(s,t,i,r,n,a,l,u,h,c){var x=t+a+c;if(p>0){var p=Math.sqrt(x+1);s[0]=.5*(l-h)/p,s[1]=.5*(u-r)/p,s[2]=.5*(i-a)/p,s[3]=.5*p}else{var v=Math.max(t,a,c);p=Math.sqrt(2*v-x+1),t>=v?(s[0]=.5*p,s[1]=.5*(n+i)/p,s[2]=.5*(u+r)/p,s[3]=.5*(l-h)/p):a>=v?(s[0]=.5*(i+n)/p,s[1]=.5*p,s[2]=.5*(h+l)/p,s[3]=.5*(u-r)/p):(s[0]=.5*(r+u)/p,s[1]=.5*(l+h)/p,s[2]=.5*p,s[3]=.5*(i-n)/p)}return s}},9977:function(f,s,t){f.exports=function(v){var g=(v=v||{}).center||[0,0,0],y=v.rotation||[0,0,0,1],m=v.radius||1;g=[].slice.call(g,0,3),c(y=[].slice.call(y,0,4),y);var w=new x(y,g,Math.log(m));return w.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&w.lookAt(0,v.eye,v.center,v.up),w};var i=t(9215),r=t(6582),n=t(7399),a=t(7608),l=t(4081);function u(v,g,y){return Math.sqrt(Math.pow(v,2)+Math.pow(g,2)+Math.pow(y,2))}function h(v,g,y,m){return Math.sqrt(Math.pow(v,2)+Math.pow(g,2)+Math.pow(y,2)+Math.pow(m,2))}function c(v,g){var y=g[0],m=g[1],w=g[2],d=g[3],S=h(y,m,w,d);S>1e-6?(v[0]=y/S,v[1]=m/S,v[2]=w/S,v[3]=d/S):(v[0]=v[1]=v[2]=0,v[3]=1)}function x(v,g,y){this.radius=i([y]),this.center=i(g),this.rotation=i(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var p=x.prototype;p.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},p.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var g=this.computedRotation;c(g,g);var y=this.computedMatrix;n(y,g);var m=this.computedCenter,w=this.computedEye,d=this.computedUp,S=Math.exp(this.computedRadius[0]);w[0]=m[0]+S*y[2],w[1]=m[1]+S*y[6],w[2]=m[2]+S*y[10],d[0]=y[1],d[1]=y[5],d[2]=y[9];for(var A=0;A<3;++A){for(var E=0,P=0;P<3;++P)E+=y[A+4*P]*w[P];y[12+A]=-E}},p.getMatrix=function(v,g){this.recalcMatrix(v);var y=this.computedMatrix;if(g){for(var m=0;m<16;++m)g[m]=y[m];return g}return y},p.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},p.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},p.pan=function(v,g,y,m){g=g||0,y=y||0,m=m||0,this.recalcMatrix(v);var w=this.computedMatrix,d=w[1],S=w[5],A=w[9],E=u(d,S,A);d/=E,S/=E,A/=E;var P=w[0],O=w[4],I=w[8],D=P*d+O*S+I*A,V=u(P-=d*D,O-=S*D,I-=A*D);P/=V,O/=V,I/=V,w[2],w[6],w[10];var z=P*g+d*y,j=O*g+S*y,X=I*g+A*y;this.center.move(v,z,j,X);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+m),this.radius.set(v,Math.log(F))},p.rotate=function(v,g,y,m){this.recalcMatrix(v),g=g||0,y=y||0;var w=this.computedMatrix,d=w[0],S=w[4],A=w[8],E=w[1],P=w[5],O=w[9],I=w[2],D=w[6],V=w[10],z=g*d+y*E,j=g*S+y*P,X=g*A+y*O,F=-(D*X-V*j),H=-(V*z-I*X),W=-(I*j-D*z),ie=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(H,2)-Math.pow(W,2))),te=h(F,H,W,ie);te>1e-6?(F/=te,H/=te,W/=te,ie/=te):(F=H=W=0,ie=1);var Q=this.computedRotation,ne=Q[0],$=Q[1],J=Q[2],re=Q[3],se=ne*ie+re*F+$*W-J*H,ue=$*ie+re*H+J*F-ne*W,he=J*ie+re*W+ne*H-$*F,pe=re*ie-ne*F-$*H-J*W;if(m){F=I,H=D,W=V;var ge=Math.sin(m)/u(F,H,W);F*=ge,H*=ge,W*=ge,pe=pe*(ie=Math.cos(g))-(se=se*ie+pe*F+ue*W-he*H)*F-(ue=ue*ie+pe*H+he*F-se*W)*H-(he=he*ie+pe*W+se*H-ue*F)*W}var ye=h(se,ue,he,pe);ye>1e-6?(se/=ye,ue/=ye,he/=ye,pe/=ye):(se=ue=he=0,pe=1),this.rotation.set(v,se,ue,he,pe)},p.lookAt=function(v,g,y,m){this.recalcMatrix(v),y=y||this.computedCenter,g=g||this.computedEye,m=m||this.computedUp;var w=this.computedMatrix;r(w,g,y,m);var d=this.computedRotation;l(d,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),c(d,d),this.rotation.set(v,d[0],d[1],d[2],d[3]);for(var S=0,A=0;A<3;++A)S+=Math.pow(y[A]-g[A],2);this.radius.set(v,.5*Math.log(Math.max(S,1e-6))),this.center.set(v,y[0],y[1],y[2])},p.translate=function(v,g,y,m){this.center.move(v,g||0,y||0,m||0)},p.setMatrix=function(v,g){var y=this.computedRotation;l(y,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),c(y,y),this.rotation.set(v,y[0],y[1],y[2],y[3]);var m=this.computedMatrix;a(m,g);var w=m[15];if(Math.abs(w)>1e-6){var d=m[12]/w,S=m[13]/w,A=m[14]/w;this.recalcMatrix(v);var E=Math.exp(this.computedRadius[0]);this.center.set(v,d-m[2]*E,S-m[6]*E,A-m[10]*E),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},p.setDistance=function(v,g){g>0&&this.radius.set(v,Math.log(g))},p.setDistanceLimits=function(v,g){v=v>0?Math.log(v):-1/0,g=g>0?Math.log(g):1/0,g=Math.max(g,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=g},p.getDistanceLimits=function(v){var g=this.radius.bounds;return v?(v[0]=Math.exp(g[0][0]),v[1]=Math.exp(g[1][0]),v):[Math.exp(g[0][0]),Math.exp(g[1][0])]},p.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},p.fromJSON=function(v){var g=this.lastT(),y=v.center;y&&this.center.set(g,y[0],y[1],y[2]);var m=v.rotation;m&&this.rotation.set(g,m[0],m[1],m[2],m[3]);var w=v.distance;w&&w>0&&this.radius.set(g,Math.log(w)),this.setDistanceLimits(v.zoomMin,v.zoomMax)}},1371:function(f,s,t){var i=t(3233);f.exports=function(r,n,a){return i(a=a!==void 0?a+"":" ",n)+r}},3202:function(f){f.exports=function(s,t){t||(t=[0,""]),s=String(s);var i=parseFloat(s,10);return t[0]=i,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(f,s,t){f.exports=function(r,n){for(var a=0|n.length,l=r.length,u=[new Array(a),new Array(a)],h=0;h<a;++h)u[0][h]=[],u[1][h]=[];for(h=0;h<l;++h){var c=r[h];u[0][c[0]].push(c),u[1][c[1]].push(c)}var x=[];for(h=0;h<a;++h)u[0][h].length+u[1][h].length===0&&x.push([h]);function p(S,A){var E=u[A][S[A]];E.splice(E.indexOf(S),1)}function v(S,A,E){for(var P,O,I,D=0;D<2;++D)if(u[D][A].length>0){P=u[D][A][0],I=D;break}O=P[1^I];for(var V=0;V<2;++V)for(var z=u[V][A],j=0;j<z.length;++j){var X=z[j],F=X[1^V];i(n[S],n[A],n[O],n[F])>0&&(P=X,O=F,I=V)}return E||P&&p(P,I),O}function g(S,A){var E=u[A][S][0],P=[S];p(E,A);for(var O=E[1^A];;){for(;O!==S;)P.push(O),O=v(P[P.length-2],O,!1);if(u[0][S].length+u[1][S].length===0)break;var I=P[P.length-1],D=S,V=P[1],z=v(I,D,!0);if(i(n[I],n[D],n[V],n[z])<0)break;P.push(S),O=v(I,D)}return P}function y(S,A){return A[1]===A[A.length-1]}for(h=0;h<a;++h)for(var m=0;m<2;++m){for(var w=[];u[m][h].length>0;){u[0][h].length;var d=g(h,m);y(0,d)?w.push.apply(w,d):(w.length>0&&x.push(w),w=d)}w.length>0&&x.push(w)}return x};var i=t(3140)},5609:function(f,s,t){f.exports=function(r,n){for(var a=i(r,n.length),l=new Array(n.length),u=new Array(n.length),h=[],c=0;c<n.length;++c){var x=a[c].length;u[c]=x,l[c]=!0,x<=1&&h.push(c)}for(;h.length>0;){l[m=h.pop()]=!1;var p=a[m];for(c=0;c<p.length;++c){var v=p[c];--u[v]==0&&h.push(v)}}var g=new Array(n.length),y=[];for(c=0;c<n.length;++c)if(l[c]){var m=y.length;g[c]=m,y.push(n[c])}else g[c]=-1;var w=[];for(c=0;c<r.length;++c){var d=r[c];l[d[0]]&&l[d[1]]&&w.push([g[d[0]],g[d[1]]])}return[w,y]};var i=t(3134)},2095:function(f,s,t){f.exports=function(x,p){var v=h(x,p);x=v[0];for(var g=(p=v[1]).length,y=(x.length,i(x,p.length)),m=0;m<g;++m)if(y[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var w=r(x,p),d=(w=w.filter(function(Se){for(var Fe=Se.length,xe=[0],le=0;le<Fe;++le){var oe=p[Se[le]],de=p[Se[(le+1)%Fe]],Ce=a(-oe[0],oe[1]),_e=a(-oe[0],de[1]),Ae=a(de[0],oe[1]),Le=a(de[0],de[1]);xe=l(xe,l(l(Ce,_e),l(Ae,Le)))}return xe[xe.length-1]>0})).length,S=new Array(d),A=new Array(d);for(m=0;m<d;++m){S[m]=m;var E=new Array(d),P=w[m].map(function(Se){return p[Se]}),O=n([P]),I=0;e:for(var D=0;D<d;++D)if(E[D]=0,m!==D){for(var V=(be=w[D]).length,z=0;z<V;++z){var j=O(p[be[z]]);if(j!==0){j<0&&(E[D]=1,I+=1);continue e}}E[D]=1,I+=1}A[m]=[I,m,E]}for(A.sort(function(Se,Fe){return Fe[0]-Se[0]}),m=0;m<d;++m){var X=(E=A[m])[1],F=E[2];for(D=0;D<d;++D)F[D]&&(S[D]=X)}var H=function(Se){for(var Fe=new Array(Se),xe=0;xe<Se;++xe)Fe[xe]=[];return Fe}(d);for(m=0;m<d;++m)H[m].push(S[m]),H[S[m]].push(m);var W={},ie=c(g,!1);for(m=0;m<d;++m)for(V=(be=w[m]).length,D=0;D<V;++D){var te=be[D],Q=be[(D+1)%V],ne=Math.min(te,Q)+":"+Math.max(te,Q);if(ne in W){var $=W[ne];H[$].push(m),H[m].push($),ie[te]=ie[Q]=!0}else W[ne]=m}function J(Se){for(var Fe=Se.length,xe=0;xe<Fe;++xe)if(!ie[Se[xe]])return!1;return!0}var re=[],se=c(d,-1);for(m=0;m<d;++m)S[m]!==m||J(w[m])?se[m]=-1:(re.push(m),se[m]=0);for(v=[];re.length>0;){var ue=re.pop(),he=H[ue];u(he,function(Se,Fe){return Se-Fe});var pe,ge=he.length,ye=se[ue];for(ye===0&&(pe=[be=w[ue]]),m=0;m<ge;++m){var be,Te=he[m];se[Te]>=0||(se[Te]=1^ye,re.push(Te),ye===0&&(J(be=w[Te])||(be.reverse(),pe.push(be))))}ye===0&&v.push(pe)}return v};var i=t(3134),r=t(3088),n=t(5085),a=t(5250),l=t(8210),u=t(1682),h=t(5609);function c(x,p){for(var v=new Array(x),g=0;g<x;++g)v[g]=p;return v}},5085:function(f,s,t){f.exports=function(c){for(var x=c.length,p=[],v=[],g=0;g<x;++g)for(var y=c[g],m=y.length,w=m-1,d=0;d<m;w=d++){var S=y[w],A=y[d];S[0]===A[0]?v.push([S,A]):p.push([S,A])}if(p.length===0)return v.length===0?h:(E=u(v),function(I){return E(I[0],I[1])?0:1});var E,P=r(p),O=function(I,D){return function(V){var z=a.le(D,V[0]);if(z<0)return 1;var j=I[z];if(!j){if(!(z>0&&D[z]===V[0]))return 1;j=I[z-1]}for(var X=1;j;){var F=j.key,H=i(V,F[0],F[1]);if(F[0][0]<F[1][0])if(H<0)j=j.left;else{if(!(H>0))return 0;X=-1,j=j.right}else if(H>0)j=j.left;else{if(!(H<0))return 0;X=1,j=j.right}}return X}}(P.slabs,P.coordinates);return v.length===0?O:function(I,D){return function(V){return I(V[0],V[1])?0:D(V)}}(u(v),O)};var i=t(3250)[3],r=t(4209),n=t(3352),a=t(2478);function l(){return!0}function u(c){for(var x={},p=0;p<c.length;++p){var v=c[p],g=v[0][0],y=v[0][1],m=v[1][1],w=[Math.min(y,m),Math.max(y,m)];g in x?x[g].push(w):x[g]=[w]}var d={},S=Object.keys(x);for(p=0;p<S.length;++p){var A=x[S[p]];d[S[p]]=n(A)}return function(E){return function(P,O){var I=E[P];return!!I&&!!I.queryPoint(O,l)}}(d)}function h(c){return 1}},9346:function(f){var s=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);f.exports=function(r,n,a,l,u){s.length<l.length&&(s=new Float64Array(l.length),t=new Float64Array(l.length),i=new Float64Array(l.length));for(var h=0;h<l.length;++h)s[h]=r[h]-l[h],t[h]=n[h]-r[h],i[h]=a[h]-r[h];var c=0,x=0,p=0,v=0,g=0,y=0;for(h=0;h<l.length;++h){var m=t[h],w=i[h],d=s[h];c+=m*m,x+=m*w,p+=w*w,v+=d*m,g+=d*w,y+=d*d}var S,A,E,P,O,I=Math.abs(c*p-x*x),D=x*g-p*v,V=x*v-c*g;if(D+V<=I)if(D<0)V<0&&v<0?(V=0,-v>=c?(D=1,S=c+2*v+y):S=v*(D=-v/c)+y):(D=0,g>=0?(V=0,S=y):-g>=p?(V=1,S=p+2*g+y):S=g*(V=-g/p)+y);else if(V<0)V=0,v>=0?(D=0,S=y):-v>=c?(D=1,S=c+2*v+y):S=v*(D=-v/c)+y;else{var z=1/I;S=(D*=z)*(c*D+x*(V*=z)+2*v)+V*(x*D+p*V+2*g)+y}else D<0?(E=p+g)>(A=x+v)?(P=E-A)>=(O=c-2*x+p)?(D=1,V=0,S=c+2*v+y):S=(D=P/O)*(c*D+x*(V=1-D)+2*v)+V*(x*D+p*V+2*g)+y:(D=0,E<=0?(V=1,S=p+2*g+y):g>=0?(V=0,S=y):S=g*(V=-g/p)+y):V<0?(E=c+v)>(A=x+g)?(P=E-A)>=(O=c-2*x+p)?(V=1,D=0,S=p+2*g+y):S=(D=1-(V=P/O))*(c*D+x*V+2*v)+V*(x*D+p*V+2*g)+y:(V=0,E<=0?(D=1,S=c+2*v+y):v>=0?(D=0,S=y):S=v*(D=-v/c)+y):(P=p+g-x-v)<=0?(D=0,V=1,S=p+2*g+y):P>=(O=c-2*x+p)?(D=1,V=0,S=c+2*v+y):S=(D=P/O)*(c*D+x*(V=1-D)+2*v)+V*(x*D+p*V+2*g)+y;var j=1-D-V;for(h=0;h<l.length;++h)u[h]=j*r[h]+D*n[h]+V*a[h];return S<0?0:S}},8648:function(f,s,t){f.exports=t(783)},2653:function(f,s,t){var i=t(3865);f.exports=function(r,n){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=i(r[u],n[u]);return l}},5838:function(f,s,t){f.exports=function(r){for(var n=new Array(r.length),a=0;a<r.length;++a)n[a]=i(r[a]);return n};var i=t(7842)},8987:function(f,s,t){var i=t(7842),r=t(6504);f.exports=function(n,a){for(var l=i(a),u=n.length,h=new Array(u),c=0;c<u;++c)h[c]=r(n[c],l);return h}},544:function(f,s,t){var i=t(5572);f.exports=function(r,n){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=i(r[u],n[u]);return l}},5771:function(f,s,t){var i=t(8507),r=t(3788),n=t(2419);f.exports=function(a){a.sort(r);for(var l=a.length,u=0,h=0;h<l;++h){var c=a[h],x=n(c);if(x!==0){if(u>0){var p=a[u-1];if(i(c,p)===0&&n(p)!==x){u-=1;continue}}a[u++]=c}}return a.length=u,a}},3233:function(f){var s,t="";f.exports=function(i,r){if(typeof i!="string")throw new TypeError("expected a string");if(r===1)return i;if(r===2)return i+i;var n=i.length*r;if(s!==i||s===void 0)s=i,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&r>1;)1&r&&(t+=i),r>>=1,i+=i;return t=(t+=i).substr(0,n)}},3025:function(f,s,t){f.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(f){f.exports=function(s){for(var t=s.length,i=s[s.length-1],r=t,n=t-2;n>=0;--n){var a=i;(h=(u=s[n])-((i=a+u)-a))&&(s[--r]=i,i=h)}var l=0;for(n=r;n<t;++n){var u,h;(h=(u=i)-((i=(a=s[n])+u)-a))&&(s[l++]=h)}return s[l++]=i,s.length=l,s}},2962:function(f,s,t){var i=t(5250),r=t(8210),n=t(3012),a=t(7004);function l(g,y,m,w){return function(d){return w(g(m(d[0][0],d[1][1]),m(-d[0][1],d[1][0])))}}function u(g,y,m,w){return function(d){return w(g(y(g(m(d[1][1],d[2][2]),m(-d[1][2],d[2][1])),d[0][0]),g(y(g(m(d[1][0],d[2][2]),m(-d[1][2],d[2][0])),-d[0][1]),y(g(m(d[1][0],d[2][1]),m(-d[1][1],d[2][0])),d[0][2]))))}}function h(g,y,m,w){return function(d){return w(g(g(y(g(y(g(m(d[2][2],d[3][3]),m(-d[2][3],d[3][2])),d[1][1]),g(y(g(m(d[2][1],d[3][3]),m(-d[2][3],d[3][1])),-d[1][2]),y(g(m(d[2][1],d[3][2]),m(-d[2][2],d[3][1])),d[1][3]))),d[0][0]),y(g(y(g(m(d[2][2],d[3][3]),m(-d[2][3],d[3][2])),d[1][0]),g(y(g(m(d[2][0],d[3][3]),m(-d[2][3],d[3][0])),-d[1][2]),y(g(m(d[2][0],d[3][2]),m(-d[2][2],d[3][0])),d[1][3]))),-d[0][1])),g(y(g(y(g(m(d[2][1],d[3][3]),m(-d[2][3],d[3][1])),d[1][0]),g(y(g(m(d[2][0],d[3][3]),m(-d[2][3],d[3][0])),-d[1][1]),y(g(m(d[2][0],d[3][1]),m(-d[2][1],d[3][0])),d[1][3]))),d[0][2]),y(g(y(g(m(d[2][1],d[3][2]),m(-d[2][2],d[3][1])),d[1][0]),g(y(g(m(d[2][0],d[3][2]),m(-d[2][2],d[3][0])),-d[1][1]),y(g(m(d[2][0],d[3][1]),m(-d[2][1],d[3][0])),d[1][2]))),-d[0][3]))))}}function c(g,y,m,w){return function(d){return w(g(g(y(g(g(y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][2]),g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),-d[2][3]),y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][4]))),d[1][1]),y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][1]),g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),-d[2][3]),y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),d[2][4]))),-d[1][2])),g(y(g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),d[2][1]),g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),-d[2][2]),y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][4]))),d[1][3]),y(g(y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][1]),g(y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),-d[2][2]),y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][3]))),-d[1][4]))),d[0][0]),y(g(g(y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][2]),g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),-d[2][3]),y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][4]))),d[1][0]),y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][3]),y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),d[2][4]))),-d[1][2])),g(y(g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][2]),y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),d[2][4]))),d[1][3]),y(g(y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][0]),g(y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),-d[2][2]),y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),d[2][3]))),-d[1][4]))),-d[0][1])),g(y(g(g(y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][1]),g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),-d[2][3]),y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),d[2][4]))),d[1][0]),y(g(y(g(m(d[3][3],d[4][4]),m(-d[3][4],d[4][3])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][3]),y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),d[2][4]))),-d[1][1])),g(y(g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][4]))),d[1][3]),y(g(y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][3]))),-d[1][4]))),d[0][2]),g(y(g(g(y(g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),d[2][1]),g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),-d[2][2]),y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][4]))),d[1][0]),y(g(y(g(m(d[3][2],d[4][4]),m(-d[3][4],d[4][2])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][2]),y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),d[2][4]))),-d[1][1])),g(y(g(y(g(m(d[3][1],d[4][4]),m(-d[3][4],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][4]),m(-d[3][4],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][4]))),d[1][2]),y(g(y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][2]))),-d[1][4]))),-d[0][3]),y(g(g(y(g(y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][1]),g(y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),-d[2][2]),y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][3]))),d[1][0]),y(g(y(g(m(d[3][2],d[4][3]),m(-d[3][3],d[4][2])),d[2][0]),g(y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),-d[2][2]),y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),d[2][3]))),-d[1][1])),g(y(g(y(g(m(d[3][1],d[4][3]),m(-d[3][3],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][3]),m(-d[3][3],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][3]))),d[1][2]),y(g(y(g(m(d[3][1],d[4][2]),m(-d[3][2],d[4][1])),d[2][0]),g(y(g(m(d[3][0],d[4][2]),m(-d[3][2],d[4][0])),-d[2][1]),y(g(m(d[3][0],d[4][1]),m(-d[3][1],d[4][0])),d[2][2]))),-d[1][3]))),d[0][4])))))}}function x(g){return(g===2?l:g===3?u:g===4?h:g===5?c:void 0)(r,n,i,a)}var p=[function(){return[0]},function(g){return[g[0][0]]}];function v(g,y,m,w,d,S,A,E){return function(P){switch(P.length){case 0:return g(P);case 1:return y(P);case 2:return m(P);case 3:return w(P);case 4:return d(P);case 5:return S(P)}var O=A[P.length];return O||(O=A[P.length]=E(P.length)),O(P)}}(function(){for(;p.length<6;)p.push(x(p.length));f.exports=v.apply(void 0,p.concat([p,x]));for(var g=0;g<p.length;++g)f.exports[g]=p[g]})()},1944:function(f,s,t){var i=t(5250),r=t(8210);f.exports=function(n,a){for(var l=i(n[0],a[0]),u=1;u<n.length;++u)l=r(l,i(n[u],a[u]));return l}},2646:function(f,s,t){var i=t(5250),r=t(8210),n=t(8545),a=t(3012);function l(y){return(y===3?u:y===4?h:y===5?c:x)(r,n,i,a)}function u(y,m,w,d){return function(S,A,E){var P=w(S[0],S[0]),O=d(P,A[0]),I=d(P,E[0]),D=w(A[0],A[0]),V=d(D,S[0]),z=d(D,E[0]),j=w(E[0],E[0]),X=d(j,S[0]),F=d(j,A[0]),H=y(m(F,z),m(V,O)),W=m(X,I),ie=m(H,W);return ie[ie.length-1]}}function h(y,m,w,d){return function(S,A,E,P){var O=y(w(S[0],S[0]),w(S[1],S[1])),I=d(O,A[0]),D=d(O,E[0]),V=d(O,P[0]),z=y(w(A[0],A[0]),w(A[1],A[1])),j=d(z,S[0]),X=d(z,E[0]),F=d(z,P[0]),H=y(w(E[0],E[0]),w(E[1],E[1])),W=d(H,S[0]),ie=d(H,A[0]),te=d(H,P[0]),Q=y(w(P[0],P[0]),w(P[1],P[1])),ne=d(Q,S[0]),$=d(Q,A[0]),J=d(Q,E[0]),re=y(y(d(m(J,te),A[1]),y(d(m($,F),-E[1]),d(m(ie,X),P[1]))),y(d(m($,F),S[1]),y(d(m(ne,V),-A[1]),d(m(j,I),P[1])))),se=y(y(d(m(J,te),S[1]),y(d(m(ne,V),-E[1]),d(m(W,D),P[1]))),y(d(m(ie,X),S[1]),y(d(m(W,D),-A[1]),d(m(j,I),E[1])))),ue=m(re,se);return ue[ue.length-1]}}function c(y,m,w,d){return function(S,A,E,P,O){var I=y(w(S[0],S[0]),y(w(S[1],S[1]),w(S[2],S[2]))),D=d(I,A[0]),V=d(I,E[0]),z=d(I,P[0]),j=d(I,O[0]),X=y(w(A[0],A[0]),y(w(A[1],A[1]),w(A[2],A[2]))),F=d(X,S[0]),H=d(X,E[0]),W=d(X,P[0]),ie=d(X,O[0]),te=y(w(E[0],E[0]),y(w(E[1],E[1]),w(E[2],E[2]))),Q=d(te,S[0]),ne=d(te,A[0]),$=d(te,P[0]),J=d(te,O[0]),re=y(w(P[0],P[0]),y(w(P[1],P[1]),w(P[2],P[2]))),se=d(re,S[0]),ue=d(re,A[0]),he=d(re,E[0]),pe=d(re,O[0]),ge=y(w(O[0],O[0]),y(w(O[1],O[1]),w(O[2],O[2]))),ye=d(ge,S[0]),be=d(ge,A[0]),Te=d(ge,E[0]),Se=d(ge,P[0]),Fe=y(y(y(d(y(d(m(Se,pe),E[1]),y(d(m(Te,J),-P[1]),d(m(he,$),O[1]))),A[2]),y(d(y(d(m(Se,pe),A[1]),y(d(m(be,ie),-P[1]),d(m(ue,W),O[1]))),-E[2]),d(y(d(m(Te,J),A[1]),y(d(m(be,ie),-E[1]),d(m(ne,H),O[1]))),P[2]))),y(d(y(d(m(he,$),A[1]),y(d(m(ue,W),-E[1]),d(m(ne,H),P[1]))),-O[2]),y(d(y(d(m(Se,pe),A[1]),y(d(m(be,ie),-P[1]),d(m(ue,W),O[1]))),S[2]),d(y(d(m(Se,pe),S[1]),y(d(m(ye,j),-P[1]),d(m(se,z),O[1]))),-A[2])))),y(y(d(y(d(m(be,ie),S[1]),y(d(m(ye,j),-A[1]),d(m(F,D),O[1]))),P[2]),y(d(y(d(m(ue,W),S[1]),y(d(m(se,z),-A[1]),d(m(F,D),P[1]))),-O[2]),d(y(d(m(he,$),A[1]),y(d(m(ue,W),-E[1]),d(m(ne,H),P[1]))),S[2]))),y(d(y(d(m(he,$),S[1]),y(d(m(se,z),-E[1]),d(m(Q,V),P[1]))),-A[2]),y(d(y(d(m(ue,W),S[1]),y(d(m(se,z),-A[1]),d(m(F,D),P[1]))),E[2]),d(y(d(m(ne,H),S[1]),y(d(m(Q,V),-A[1]),d(m(F,D),E[1]))),-P[2]))))),xe=y(y(y(d(y(d(m(Se,pe),E[1]),y(d(m(Te,J),-P[1]),d(m(he,$),O[1]))),S[2]),d(y(d(m(Se,pe),S[1]),y(d(m(ye,j),-P[1]),d(m(se,z),O[1]))),-E[2])),y(d(y(d(m(Te,J),S[1]),y(d(m(ye,j),-E[1]),d(m(Q,V),O[1]))),P[2]),d(y(d(m(he,$),S[1]),y(d(m(se,z),-E[1]),d(m(Q,V),P[1]))),-O[2]))),y(y(d(y(d(m(Te,J),A[1]),y(d(m(be,ie),-E[1]),d(m(ne,H),O[1]))),S[2]),d(y(d(m(Te,J),S[1]),y(d(m(ye,j),-E[1]),d(m(Q,V),O[1]))),-A[2])),y(d(y(d(m(be,ie),S[1]),y(d(m(ye,j),-A[1]),d(m(F,D),O[1]))),E[2]),d(y(d(m(ne,H),S[1]),y(d(m(Q,V),-A[1]),d(m(F,D),E[1]))),-O[2])))),le=m(Fe,xe);return le[le.length-1]}}function x(y,m,w,d){return function(S,A,E,P,O,I){var D=y(y(w(S[0],S[0]),w(S[1],S[1])),y(w(S[2],S[2]),w(S[3],S[3]))),V=d(D,A[0]),z=d(D,E[0]),j=d(D,P[0]),X=d(D,O[0]),F=d(D,I[0]),H=y(y(w(A[0],A[0]),w(A[1],A[1])),y(w(A[2],A[2]),w(A[3],A[3]))),W=d(H,S[0]),ie=d(H,E[0]),te=d(H,P[0]),Q=d(H,O[0]),ne=d(H,I[0]),$=y(y(w(E[0],E[0]),w(E[1],E[1])),y(w(E[2],E[2]),w(E[3],E[3]))),J=d($,S[0]),re=d($,A[0]),se=d($,P[0]),ue=d($,O[0]),he=d($,I[0]),pe=y(y(w(P[0],P[0]),w(P[1],P[1])),y(w(P[2],P[2]),w(P[3],P[3]))),ge=d(pe,S[0]),ye=d(pe,A[0]),be=d(pe,E[0]),Te=d(pe,O[0]),Se=d(pe,I[0]),Fe=y(y(w(O[0],O[0]),w(O[1],O[1])),y(w(O[2],O[2]),w(O[3],O[3]))),xe=d(Fe,S[0]),le=d(Fe,A[0]),oe=d(Fe,E[0]),de=d(Fe,P[0]),Ce=d(Fe,I[0]),_e=y(y(w(I[0],I[0]),w(I[1],I[1])),y(w(I[2],I[2]),w(I[3],I[3]))),Ae=d(_e,S[0]),Le=d(_e,A[0]),ze=d(_e,E[0]),Re=d(_e,P[0]),ve=d(_e,O[0]),ke=y(y(y(d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),E[2]),d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),-P[2])),y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),O[2]),d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),-I[2]))),A[3]),y(d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),A[2]),d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),-P[2])),y(d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),O[2]),d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),-I[2]))),-E[3]),d(y(y(d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),A[2]),d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),-E[2])),y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),O[2]),d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),-I[2]))),P[3]))),y(y(d(y(y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),A[2]),d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),-E[2])),y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),P[2]),d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),-I[2]))),-O[3]),d(y(y(d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),A[2]),d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),-E[2])),y(d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),P[2]),d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),-O[2]))),I[3])),y(d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),A[2]),d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),-P[2])),y(d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),O[2]),d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),-I[2]))),S[3]),d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-P[2])),y(d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),O[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-I[2]))),-A[3])))),y(y(y(d(y(y(d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),O[2]),d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),-I[2]))),P[3]),d(y(y(d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),S[2]),d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),P[2]),d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),-I[2]))),-O[3])),y(d(y(y(d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),S[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-A[2])),y(d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),P[2]),d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),-O[2]))),I[3]),d(y(y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),A[2]),d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),-E[2])),y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),P[2]),d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),-I[2]))),S[3]))),y(y(d(y(y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),S[2]),d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),-E[2])),y(d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),P[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-I[2]))),-A[3]),d(y(y(d(y(d(m(Re,Se),A[1]),y(d(m(Le,ne),-P[1]),d(m(ye,te),I[1]))),S[2]),d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),P[2]),d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),-I[2]))),E[3])),y(d(y(y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),S[2]),d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-I[2]))),-P[3]),d(y(y(d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),S[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-A[2])),y(d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-P[2]))),I[3]))))),Ee=y(y(y(d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),E[2]),d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),-P[2])),y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),O[2]),d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),-I[2]))),S[3]),y(d(y(y(d(y(d(m(ve,Ce),P[1]),y(d(m(Re,Se),-O[1]),d(m(de,Te),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-P[2])),y(d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),O[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-I[2]))),-E[3]),d(y(y(d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-E[2])),y(d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),O[2]),d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),-I[2]))),P[3]))),y(y(d(y(y(d(y(d(m(Re,Se),E[1]),y(d(m(ze,he),-P[1]),d(m(be,se),I[1]))),S[2]),d(y(d(m(Re,Se),S[1]),y(d(m(Ae,F),-P[1]),d(m(ge,j),I[1]))),-E[2])),y(d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),P[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-I[2]))),-O[3]),d(y(y(d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),S[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-E[2])),y(d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),P[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-O[2]))),I[3])),y(d(y(y(d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),A[2]),d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),-E[2])),y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),O[2]),d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),-I[2]))),S[3]),d(y(y(d(y(d(m(ve,Ce),E[1]),y(d(m(ze,he),-O[1]),d(m(oe,ue),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-E[2])),y(d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),O[2]),d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),-I[2]))),-A[3])))),y(y(y(d(y(y(d(y(d(m(ve,Ce),A[1]),y(d(m(Le,ne),-O[1]),d(m(le,Q),I[1]))),S[2]),d(y(d(m(ve,Ce),S[1]),y(d(m(Ae,F),-O[1]),d(m(xe,X),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),O[2]),d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),-I[2]))),E[3]),d(y(y(d(y(d(m(ze,he),A[1]),y(d(m(Le,ne),-E[1]),d(m(re,ie),I[1]))),S[2]),d(y(d(m(ze,he),S[1]),y(d(m(Ae,F),-E[1]),d(m(J,z),I[1]))),-A[2])),y(d(y(d(m(Le,ne),S[1]),y(d(m(Ae,F),-A[1]),d(m(W,V),I[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-I[2]))),-O[3])),y(d(y(y(d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),S[2]),d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),-A[2])),y(d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-O[2]))),I[3]),d(y(y(d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),A[2]),d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),-E[2])),y(d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),P[2]),d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),-O[2]))),S[3]))),y(y(d(y(y(d(y(d(m(de,Te),E[1]),y(d(m(oe,ue),-P[1]),d(m(be,se),O[1]))),S[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-E[2])),y(d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),P[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-O[2]))),-A[3]),d(y(y(d(y(d(m(de,Te),A[1]),y(d(m(le,Q),-P[1]),d(m(ye,te),O[1]))),S[2]),d(y(d(m(de,Te),S[1]),y(d(m(xe,X),-P[1]),d(m(ge,j),O[1]))),-A[2])),y(d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),P[2]),d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),-O[2]))),E[3])),y(d(y(y(d(y(d(m(oe,ue),A[1]),y(d(m(le,Q),-E[1]),d(m(re,ie),O[1]))),S[2]),d(y(d(m(oe,ue),S[1]),y(d(m(xe,X),-E[1]),d(m(J,z),O[1]))),-A[2])),y(d(y(d(m(le,Q),S[1]),y(d(m(xe,X),-A[1]),d(m(W,V),O[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-O[2]))),-P[3]),d(y(y(d(y(d(m(be,se),A[1]),y(d(m(ye,te),-E[1]),d(m(re,ie),P[1]))),S[2]),d(y(d(m(be,se),S[1]),y(d(m(ge,j),-E[1]),d(m(J,z),P[1]))),-A[2])),y(d(y(d(m(ye,te),S[1]),y(d(m(ge,j),-A[1]),d(m(W,V),P[1]))),E[2]),d(y(d(m(re,ie),S[1]),y(d(m(J,z),-A[1]),d(m(W,V),E[1]))),-P[2]))),O[3]))))),De=m(ke,Ee);return De[De.length-1]}}var p=[function(){return 0},function(){return 0},function(){return 0}];function v(y){var m=p[y.length];return m||(m=p[y.length]=l(y.length)),m.apply(void 0,y)}function g(y,m,w,d,S,A,E,P){return function(O,I,D,V,z,j){switch(arguments.length){case 0:case 1:return 0;case 2:return d(O,I);case 3:return S(O,I,D);case 4:return A(O,I,D,V);case 5:return E(O,I,D,V,z);case 6:return P(O,I,D,V,z,j)}for(var X=new Array(arguments.length),F=0;F<arguments.length;++F)X[F]=arguments[F];return y(X)}}(function(){for(;p.length<=6;)p.push(l(p.length));f.exports=g.apply(void 0,[v].concat(p));for(var y=0;y<=6;++y)f.exports[y]=p[y]})()},727:function(f,s,t){var i=t(2962);function r(p){return(p===2?n:p===3?a:p===4?l:p===5?u:h)(p<6?i[p]:i)}function n(p){return function(v,g){return[p([[+g[0],+v[0][1]],[+g[1],+v[1][1]]]),p([[+v[0][0],+g[0]],[+v[1][0],+g[1]]]),p(v)]}}function a(p){return function(v,g){return[p([[+g[0],+v[0][1],+v[0][2]],[+g[1],+v[1][1],+v[1][2]],[+g[2],+v[2][1],+v[2][2]]]),p([[+v[0][0],+g[0],+v[0][2]],[+v[1][0],+g[1],+v[1][2]],[+v[2][0],+g[2],+v[2][2]]]),p([[+v[0][0],+v[0][1],+g[0]],[+v[1][0],+v[1][1],+g[1]],[+v[2][0],+v[2][1],+g[2]]]),p(v)]}}function l(p){return function(v,g){return[p([[+g[0],+v[0][1],+v[0][2],+v[0][3]],[+g[1],+v[1][1],+v[1][2],+v[1][3]],[+g[2],+v[2][1],+v[2][2],+v[2][3]],[+g[3],+v[3][1],+v[3][2],+v[3][3]]]),p([[+v[0][0],+g[0],+v[0][2],+v[0][3]],[+v[1][0],+g[1],+v[1][2],+v[1][3]],[+v[2][0],+g[2],+v[2][2],+v[2][3]],[+v[3][0],+g[3],+v[3][2],+v[3][3]]]),p([[+v[0][0],+v[0][1],+g[0],+v[0][3]],[+v[1][0],+v[1][1],+g[1],+v[1][3]],[+v[2][0],+v[2][1],+g[2],+v[2][3]],[+v[3][0],+v[3][1],+g[3],+v[3][3]]]),p([[+v[0][0],+v[0][1],+v[0][2],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+g[3]]]),p(v)]}}function u(p){return function(v,g){return[p([[+g[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4]],[+g[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4]],[+g[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4]],[+g[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4]],[+g[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4]]]),p([[+v[0][0],+g[0],+v[0][2],+v[0][3],+v[0][4]],[+v[1][0],+g[1],+v[1][2],+v[1][3],+v[1][4]],[+v[2][0],+g[2],+v[2][2],+v[2][3],+v[2][4]],[+v[3][0],+g[3],+v[3][2],+v[3][3],+v[3][4]],[+v[4][0],+g[4],+v[4][2],+v[4][3],+v[4][4]]]),p([[+v[0][0],+v[0][1],+g[0],+v[0][3],+v[0][4]],[+v[1][0],+v[1][1],+g[1],+v[1][3],+v[1][4]],[+v[2][0],+v[2][1],+g[2],+v[2][3],+v[2][4]],[+v[3][0],+v[3][1],+g[3],+v[3][3],+v[3][4]],[+v[4][0],+v[4][1],+g[4],+v[4][3],+v[4][4]]]),p([[+v[0][0],+v[0][1],+v[0][2],+g[0],+v[0][4]],[+v[1][0],+v[1][1],+v[1][2],+g[1],+v[1][4]],[+v[2][0],+v[2][1],+v[2][2],+g[2],+v[2][4]],[+v[3][0],+v[3][1],+v[3][2],+g[3],+v[3][4]],[+v[4][0],+v[4][1],+v[4][2],+g[4],+v[4][4]]]),p([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+g[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+g[4]]]),p(v)]}}function h(p){return function(v,g){return[p([[+g[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+g[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+g[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+g[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+g[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+g[5],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),p([[+v[0][0],+g[0],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+g[1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+g[2],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+g[3],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+g[4],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+g[5],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),p([[+v[0][0],+v[0][1],+g[0],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+g[1],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+g[2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+g[3],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+g[4],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+g[5],+v[5][3],+v[5][4],+v[5][5]]]),p([[+v[0][0],+v[0][1],+v[0][2],+g[0],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+g[1],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+g[2],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+g[3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+g[4],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+g[5],+v[5][4],+v[5][5]]]),p([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+g[0],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+g[1],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+g[2],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+g[3],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+g[4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+g[5],+v[5][5]]]),p([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+g[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+g[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+g[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+g[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+g[4]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+g[5]]]),p(v)]}}var c=[function(){return[[0]]},function(p,v){return[[v[0]],[p[0][0]]]}];function x(p,v,g,y,m,w,d,S){return function(A,E){switch(A.length){case 0:return p(A,E);case 1:return v(A,E);case 2:return g(A,E);case 3:return y(A,E);case 4:return m(A,E);case 5:return w(A,E)}var P=d[A.length];return P||(P=d[A.length]=S(A.length)),P(A,E)}}(function(){for(;c.length<6;)c.push(r(c.length));f.exports=x.apply(void 0,c.concat([c,r]));for(var p=0;p<6;++p)f.exports[p]=c[p]})()},3250:function(f,s,t){var i=t(5250),r=t(8210),n=t(3012),a=t(8545);function l(m,w,d,S){return function(A,E,P){var O=m(m(w(E[1],P[0]),w(-P[1],E[0])),m(w(A[1],E[0]),w(-E[1],A[0]))),I=m(w(A[1],P[0]),w(-P[1],A[0])),D=S(O,I);return D[D.length-1]}}function u(m,w,d,S){return function(A,E,P,O){var I=m(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),E[2]),m(d(m(w(E[1],O[0]),w(-O[1],E[0])),-P[2]),d(m(w(E[1],P[0]),w(-P[1],E[0])),O[2]))),m(d(m(w(E[1],O[0]),w(-O[1],E[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),O[2])))),D=m(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-P[2]),d(m(w(A[1],P[0]),w(-P[1],A[0])),O[2]))),m(d(m(w(E[1],P[0]),w(-P[1],E[0])),A[2]),m(d(m(w(A[1],P[0]),w(-P[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),P[2])))),V=S(I,D);return V[V.length-1]}}function h(m,w,d,S){return function(A,E,P,O,I){var D=m(m(m(d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),P[2]),m(d(m(w(P[1],I[0]),w(-I[1],P[0])),-O[2]),d(m(w(P[1],O[0]),w(-O[1],P[0])),I[2]))),E[3]),m(d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),E[2]),m(d(m(w(E[1],I[0]),w(-I[1],E[0])),-O[2]),d(m(w(E[1],O[0]),w(-O[1],E[0])),I[2]))),-P[3]),d(m(d(m(w(P[1],I[0]),w(-I[1],P[0])),E[2]),m(d(m(w(E[1],I[0]),w(-I[1],E[0])),-P[2]),d(m(w(E[1],P[0]),w(-P[1],E[0])),I[2]))),O[3]))),m(d(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),E[2]),m(d(m(w(E[1],O[0]),w(-O[1],E[0])),-P[2]),d(m(w(E[1],P[0]),w(-P[1],E[0])),O[2]))),-I[3]),m(d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),E[2]),m(d(m(w(E[1],I[0]),w(-I[1],E[0])),-O[2]),d(m(w(E[1],O[0]),w(-O[1],E[0])),I[2]))),A[3]),d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-O[2]),d(m(w(A[1],O[0]),w(-O[1],A[0])),I[2]))),-E[3])))),m(m(d(m(d(m(w(E[1],I[0]),w(-I[1],E[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),I[2]))),O[3]),m(d(m(d(m(w(E[1],O[0]),w(-O[1],E[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),O[2]))),-I[3]),d(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),E[2]),m(d(m(w(E[1],O[0]),w(-O[1],E[0])),-P[2]),d(m(w(E[1],P[0]),w(-P[1],E[0])),O[2]))),A[3]))),m(d(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-P[2]),d(m(w(A[1],P[0]),w(-P[1],A[0])),O[2]))),-E[3]),m(d(m(d(m(w(E[1],O[0]),w(-O[1],E[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),O[2]))),P[3]),d(m(d(m(w(E[1],P[0]),w(-P[1],E[0])),A[2]),m(d(m(w(A[1],P[0]),w(-P[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),P[2]))),-O[3]))))),V=m(m(m(d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),P[2]),m(d(m(w(P[1],I[0]),w(-I[1],P[0])),-O[2]),d(m(w(P[1],O[0]),w(-O[1],P[0])),I[2]))),A[3]),d(m(d(m(w(O[1],I[0]),w(-I[1],O[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-O[2]),d(m(w(A[1],O[0]),w(-O[1],A[0])),I[2]))),-P[3])),m(d(m(d(m(w(P[1],I[0]),w(-I[1],P[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-P[2]),d(m(w(A[1],P[0]),w(-P[1],A[0])),I[2]))),O[3]),d(m(d(m(w(P[1],O[0]),w(-O[1],P[0])),A[2]),m(d(m(w(A[1],O[0]),w(-O[1],A[0])),-P[2]),d(m(w(A[1],P[0]),w(-P[1],A[0])),O[2]))),-I[3]))),m(m(d(m(d(m(w(P[1],I[0]),w(-I[1],P[0])),E[2]),m(d(m(w(E[1],I[0]),w(-I[1],E[0])),-P[2]),d(m(w(E[1],P[0]),w(-P[1],E[0])),I[2]))),A[3]),d(m(d(m(w(P[1],I[0]),w(-I[1],P[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-P[2]),d(m(w(A[1],P[0]),w(-P[1],A[0])),I[2]))),-E[3])),m(d(m(d(m(w(E[1],I[0]),w(-I[1],E[0])),A[2]),m(d(m(w(A[1],I[0]),w(-I[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),I[2]))),P[3]),d(m(d(m(w(E[1],P[0]),w(-P[1],E[0])),A[2]),m(d(m(w(A[1],P[0]),w(-P[1],A[0])),-E[2]),d(m(w(A[1],E[0]),w(-E[1],A[0])),P[2]))),-I[3])))),z=S(D,V);return z[z.length-1]}}function c(m){return(m===3?l:m===4?u:h)(r,i,n,a)}var x=c(3),p=c(4),v=[function(){return 0},function(){return 0},function(m,w){return w[0]-m[0]},function(m,w,d){var S,A=(m[1]-d[1])*(w[0]-d[0]),E=(m[0]-d[0])*(w[1]-d[1]),P=A-E;if(A>0){if(E<=0)return P;S=A+E}else{if(!(A<0)||E>=0)return P;S=-(A+E)}var O=33306690738754716e-32*S;return P>=O||P<=-O?P:x(m,w,d)},function(m,w,d,S){var A=m[0]-S[0],E=w[0]-S[0],P=d[0]-S[0],O=m[1]-S[1],I=w[1]-S[1],D=d[1]-S[1],V=m[2]-S[2],z=w[2]-S[2],j=d[2]-S[2],X=E*D,F=P*I,H=P*O,W=A*D,ie=A*I,te=E*O,Q=V*(X-F)+z*(H-W)+j*(ie-te),ne=7771561172376103e-31*((Math.abs(X)+Math.abs(F))*Math.abs(V)+(Math.abs(H)+Math.abs(W))*Math.abs(z)+(Math.abs(ie)+Math.abs(te))*Math.abs(j));return Q>ne||-Q>ne?Q:p(m,w,d,S)}];function g(m){var w=v[m.length];return w||(w=v[m.length]=c(m.length)),w.apply(void 0,m)}function y(m,w,d,S,A,E,P){return function(O,I,D,V,z){switch(arguments.length){case 0:case 1:return 0;case 2:return S(O,I);case 3:return A(O,I,D);case 4:return E(O,I,D,V);case 5:return P(O,I,D,V,z)}for(var j=new Array(arguments.length),X=0;X<arguments.length;++X)j[X]=arguments[X];return m(j)}}(function(){for(;v.length<=5;)v.push(c(v.length));f.exports=y.apply(void 0,[g].concat(v));for(var m=0;m<=5;++m)f.exports[m]=v[m]})()},5382:function(f,s,t){var i=t(8210),r=t(3012);f.exports=function(n,a){if(n.length===1)return r(a,n[0]);if(a.length===1)return r(n,a[0]);if(n.length===0||a.length===0)return[0];var l=[0];if(n.length<a.length)for(var u=0;u<n.length;++u)l=i(l,r(a,n[u]));else for(u=0;u<a.length;++u)l=i(l,r(n,a[u]));return l}},3012:function(f,s,t){var i=t(5250),r=t(9362);f.exports=function(n,a){var l=n.length;if(l===1){var u=i(n[0],a);return u[0]?u:[u[1]]}var h=new Array(2*l),c=[.1,.1],x=[.1,.1],p=0;i(n[0],a,c),c[0]&&(h[p++]=c[0]);for(var v=1;v<l;++v){i(n[v],a,x);var g=c[1];r(g,x[0],c),c[0]&&(h[p++]=c[0]);var y=x[1],m=c[1],w=y+m,d=m-(w-y);c[1]=w,d&&(h[p++]=d)}return c[1]&&(h[p++]=c[1]),p===0&&(h[p++]=0),h.length=p,h}},1125:function(f,s,t){f.exports=function(r,n,a,l){var u=i(r,a,l),h=i(n,a,l);if(u>0&&h>0||u<0&&h<0)return!1;var c=i(a,r,n),x=i(l,r,n);return!(c>0&&x>0||c<0&&x<0)&&(u!==0||h!==0||c!==0||x!==0||function(p,v,g,y){for(var m=0;m<2;++m){var w=p[m],d=v[m],S=Math.min(w,d),A=Math.max(w,d),E=g[m],P=y[m],O=Math.min(E,P);if(Math.max(E,P)<S||A<O)return!1}return!0}(r,n,a,l))};var i=t(3250)[3]},8545:function(f){f.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(O,I){var D=O+I,V=D-O,z=O-(D-V)+(I-V);return z?[z,D]:[D]}(s[0],-t[0]);var n,a,l=new Array(i+r),u=0,h=0,c=0,x=Math.abs,p=s[h],v=x(p),g=-t[c],y=x(g);v<y?(a=p,(h+=1)<i&&(v=x(p=s[h]))):(a=g,(c+=1)<r&&(y=x(g=-t[c]))),h<i&&v<y||c>=r?(n=p,(h+=1)<i&&(v=x(p=s[h]))):(n=g,(c+=1)<r&&(y=x(g=-t[c])));for(var m,w,d=n+a,S=d-n,A=a-S,E=A,P=d;h<i&&c<r;)v<y?(n=p,(h+=1)<i&&(v=x(p=s[h]))):(n=g,(c+=1)<r&&(y=x(g=-t[c]))),(A=(a=E)-(S=(d=n+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m;for(;h<i;)(A=(a=E)-(S=(d=(n=p)+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m,(h+=1)<i&&(p=s[h]);for(;c<r;)(A=(a=E)-(S=(d=(n=g)+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m,(c+=1)<r&&(g=-t[c]);return E&&(l[u++]=E),P&&(l[u++]=P),u||(l[u++]=0),l.length=u,l}},8210:function(f){f.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(O,I){var D=O+I,V=D-O,z=O-(D-V)+(I-V);return z?[z,D]:[D]}(s[0],t[0]);var n,a,l=new Array(i+r),u=0,h=0,c=0,x=Math.abs,p=s[h],v=x(p),g=t[c],y=x(g);v<y?(a=p,(h+=1)<i&&(v=x(p=s[h]))):(a=g,(c+=1)<r&&(y=x(g=t[c]))),h<i&&v<y||c>=r?(n=p,(h+=1)<i&&(v=x(p=s[h]))):(n=g,(c+=1)<r&&(y=x(g=t[c])));for(var m,w,d=n+a,S=d-n,A=a-S,E=A,P=d;h<i&&c<r;)v<y?(n=p,(h+=1)<i&&(v=x(p=s[h]))):(n=g,(c+=1)<r&&(y=x(g=t[c]))),(A=(a=E)-(S=(d=n+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m;for(;h<i;)(A=(a=E)-(S=(d=(n=p)+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m,(h+=1)<i&&(p=s[h]);for(;c<r;)(A=(a=E)-(S=(d=(n=g)+a)-n))&&(l[u++]=A),E=P-((m=P+d)-(w=m-P))+(d-w),P=m,(c+=1)<r&&(g=t[c]);return E&&(l[u++]=E),P&&(l[u++]=P),u||(l[u++]=0),l.length=u,l}},9127:function(f,s,t){f.exports=function(n){return r(i(n))};var i=t(6204),r=t(5771)},7765:function(f,s,t){f.exports=function(l,u,h,c){if(h=h||0,c===void 0&&(c=function(d){for(var S=d.length,A=0,E=0;E<S;++E)A=0|Math.max(A,d[E].length);return A-1}(l)),l.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(d,S){for(var A=d.length,E=r.mallocUint8(A),P=0;P<A;++P)E[P]=d[P]<S|0;return E}(u,+h),p=function(d,S){for(var A=d.length,E=S*(S+1)/2*A|0,P=r.mallocUint32(2*E),O=0,I=0;I<A;++I)for(var D=d[I],V=(S=D.length,0);V<S;++V)for(var z=0;z<V;++z){var j=D[z],X=D[V];P[O++]=0|Math.min(j,X),P[O++]=0|Math.max(j,X)}n(i(P,[O/2|0,2]));var F=2;for(I=2;I<O;I+=2)P[I-2]===P[I]&&P[I-1]===P[I+1]||(P[F++]=P[I],P[F++]=P[I+1]);return i(P,[F/2|0,2])}(l,c),v=function(d,S,A,E){for(var P=d.data,O=d.shape[0],I=r.mallocDouble(O),D=0,V=0;V<O;++V){var z=P[2*V],j=P[2*V+1];if(A[z]!==A[j]){var X=S[z],F=S[j];P[2*D]=z,P[2*D+1]=j,I[D++]=(F-E)/(F-X)}}return d.shape[0]=D,i(I,[D])}(p,u,x,+h),g=function(d,S){var A=r.mallocInt32(2*S),E=d.shape[0],P=d.data;A[0]=0;for(var O=0,I=0;I<E;++I){var D=P[2*I];if(D!==O){for(A[2*O+1]=I;++O<D;)A[2*O]=I,A[2*O+1]=I;A[2*O]=I}}for(A[2*O+1]=E;++O<S;)A[2*O]=A[2*O+1]=E;return A}(p,0|u.length),y=a(c)(l,p.data,g,x),m=function(d){for(var S=0|d.shape[0],A=d.data,E=new Array(S),P=0;P<S;++P)E[P]=[A[2*P],A[2*P+1]];return E}(p),w=[].slice.call(v.data,0,v.shape[0]);return r.free(x),r.free(p.data),r.free(v.data),r.free(g),{cells:y,vertexIds:m,vertexWeights:w}};var i=t(9618),r=t(1888),n=t(446),a=t(1570)},1570:function(f){f.exports=function(t){return s[t]()};var s=[function(){return function(t,i,r,n){for(var a=t.length,l=0;l<a;++l)t[l].length;return[]}},function(){function t(i,r,n,a){for(var l=0|Math.min(n,a),u=0|Math.max(n,a),h=i[2*l],c=i[2*l+1];h<c;){var x=h+c>>1,p=r[2*x+1];if(p===u)return x;u<p?c=x:h=x+1}return h}return function(i,r,n,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h];if(c.length===2){var x=(a[c[0]]<<0)+(a[c[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,a){for(var l=0|Math.min(n,a),u=0|Math.max(n,a),h=i[2*l],c=i[2*l+1];h<c;){var x=h+c>>1,p=r[2*x+1];if(p===u)return x;u<p?c=x:h=x+1}return h}return function(i,r,n,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h],x=c.length;if(x===3){if((p=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||p===7)continue;switch(p){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(x===2){var p;if((p=(a[c[0]]<<0)+(a[c[1]]<<1))==0||p===3)continue;switch(p){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,a){for(var l=0|Math.min(n,a),u=0|Math.max(n,a),h=i[2*l],c=i[2*l+1];h<c;){var x=h+c>>1,p=r[2*x+1];if(p===u)return x;u<p?c=x:h=x+1}return h}return function(i,r,n,a){for(var l=i.length,u=[],h=0;h<l;++h){var c=i[h],x=c.length;if(x===4){if((p=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2)+(a[c[3]]<<3))==0||p===15)continue;switch(p){case 0:case 15:break;case 1:u.push([t(n,r,c[0],c[1]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])]);break;case 2:u.push([t(n,r,c[1],c[2]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])]);break;case 3:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])],[t(n,r,c[1],c[3]),t(n,r,c[1],c[2]),t(n,r,c[0],c[3])]);break;case 4:u.push([t(n,r,c[2],c[0]),t(n,r,c[2],c[1]),t(n,r,c[2],c[3])]);break;case 5:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[0],c[3])],[t(n,r,c[2],c[1]),t(n,r,c[2],c[3]),t(n,r,c[0],c[3])]);break;case 6:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])],[t(n,r,c[2],c[3]),t(n,r,c[2],c[0]),t(n,r,c[1],c[3])]);break;case 7:u.push([t(n,r,c[0],c[3]),t(n,r,c[1],c[3]),t(n,r,c[2],c[3])]);break;case 8:u.push([t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[3],c[2])]);break;case 9:u.push([t(n,r,c[3],c[1]),t(n,r,c[0],c[1]),t(n,r,c[0],c[2])],[t(n,r,c[3],c[2]),t(n,r,c[3],c[1]),t(n,r,c[0],c[2])]);break;case 10:u.push([t(n,r,c[1],c[0]),t(n,r,c[3],c[0]),t(n,r,c[1],c[2])],[t(n,r,c[3],c[0]),t(n,r,c[3],c[2]),t(n,r,c[1],c[2])]);break;case 11:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[3],c[2])]);break;case 12:u.push([t(n,r,c[3],c[0]),t(n,r,c[2],c[0]),t(n,r,c[2],c[1])],[t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[2],c[1])]);break;case 13:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[3],c[1])]);break;case 14:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[3],c[0])])}}else if(x===3){if((p=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||p===7)continue;switch(p){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(x===2){var p;if((p=(a[c[0]]<<0)+(a[c[1]]<<1))==0||p===3)continue;switch(p){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}}]},6803:function(f,s,t){t(8828),t(1755);function i(r,n){var a=r.length,l=r.length-n.length,u=Math.min;if(l)return l;switch(a){case 0:return 0;case 1:return r[0]-n[0];case 2:return(x=r[0]+r[1]-n[0]-n[1])||u(r[0],r[1])-u(n[0],n[1]);case 3:var h=r[0]+r[1],c=n[0]+n[1];if(x=h+r[2]-(c+n[2]))return x;var x,p=u(r[0],r[1]),v=u(n[0],n[1]);return(x=u(p,r[2])-u(v,n[2]))||u(p+r[2],h)-u(v+n[2],c);default:var g=r.slice(0);g.sort();var y=n.slice(0);y.sort();for(var m=0;m<a;++m)if(l=g[m]-y[m])return l;return 0}}s.Fw=i},3105:function(f,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,a;return n=(r>65535)<<4,n|=a=((r>>>=n)>255)<<3,n|=a=((r>>>=a)>15)<<2,(n|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var a=n,l=n,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[n]=l<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},2014:function(f,s,t){var i=t(3105),r=t(4623);function n(p,v){var g=p.length,y=p.length-v.length,m=Math.min;if(y)return y;switch(g){case 0:return 0;case 1:return p[0]-v[0];case 2:return(S=p[0]+p[1]-v[0]-v[1])||m(p[0],p[1])-m(v[0],v[1]);case 3:var w=p[0]+p[1],d=v[0]+v[1];if(S=w+p[2]-(d+v[2]))return S;var S,A=m(p[0],p[1]),E=m(v[0],v[1]);return(S=m(A,p[2])-m(E,v[2]))||m(A+p[2],w)-m(E+v[2],d);default:var P=p.slice(0);P.sort();var O=v.slice(0);O.sort();for(var I=0;I<g;++I)if(y=P[I]-O[I])return y;return 0}}function a(p,v){return n(p[0],v[0])}function l(p,v){if(v){for(var g=p.length,y=new Array(g),m=0;m<g;++m)y[m]=[p[m],v[m]];for(y.sort(a),m=0;m<g;++m)p[m]=y[m][0],v[m]=y[m][1];return p}return p.sort(n),p}function u(p){if(p.length===0)return[];for(var v=1,g=p.length,y=1;y<g;++y){var m=p[y];if(n(m,p[y-1])){if(y===v){v++;continue}p[v++]=m}}return p.length=v,p}function h(p,v){for(var g=0,y=p.length-1,m=-1;g<=y;){var w=g+y>>1,d=n(p[w],v);d<=0?(d===0&&(m=w),g=w+1):d>0&&(y=w-1)}return m}function c(p,v){for(var g=new Array(p.length),y=0,m=g.length;y<m;++y)g[y]=[];for(var w=[],d=(y=0,v.length);y<d;++y)for(var S=v[y],A=S.length,E=1,P=1<<A;E<P;++E){w.length=i.popCount(E);for(var O=0,I=0;I<A;++I)E&1<<I&&(w[O++]=S[I]);var D=h(p,w);if(!(D<0))for(;g[D++].push(y),!(D>=p.length||n(p[D],w)!==0););}return g}function x(p,v){if(v<0)return[];for(var g=[],y=(1<<v+1)-1,m=0;m<p.length;++m)for(var w=p[m],d=y;d<1<<w.length;d=i.nextCombination(d)){for(var S=new Array(v+1),A=0,E=0;E<w.length;++E)d&1<<E&&(S[A++]=w[E]);g.push(S)}return l(g)}s.dimension=function(p){for(var v=0,g=Math.max,y=0,m=p.length;y<m;++y)v=g(v,p[y].length);return v-1},s.countVertices=function(p){for(var v=-1,g=Math.max,y=0,m=p.length;y<m;++y)for(var w=p[y],d=0,S=w.length;d<S;++d)v=g(v,w[d]);return v+1},s.cloneCells=function(p){for(var v=new Array(p.length),g=0,y=p.length;g<y;++g)v[g]=p[g].slice(0);return v},s.compareCells=n,s.normalize=l,s.unique=u,s.findCell=h,s.incidence=c,s.dual=function(p,v){if(!v)return c(u(x(p,0)),p);for(var g=new Array(v),y=0;y<v;++y)g[y]=[];y=0;for(var m=p.length;y<m;++y)for(var w=p[y],d=0,S=w.length;d<S;++d)g[w[d]].push(y);return g},s.explode=function(p){for(var v=[],g=0,y=p.length;g<y;++g)for(var m=p[g],w=0|m.length,d=1,S=1<<w;d<S;++d){for(var A=[],E=0;E<w;++E)d>>>E&1&&A.push(m[E]);v.push(A)}return l(v)},s.skeleton=x,s.boundary=function(p){for(var v=[],g=0,y=p.length;g<y;++g)for(var m=p[g],w=0,d=m.length;w<d;++w){for(var S=new Array(m.length-1),A=0,E=0;A<d;++A)A!==w&&(S[E++]=m[A]);v.push(S)}return l(v)},s.connectedComponents=function(p,v){return v?function(g,y){for(var m=new r(y),w=0;w<g.length;++w)for(var d=g[w],S=0;S<d.length;++S)for(var A=S+1;A<d.length;++A)m.link(d[S],d[A]);var E=[],P=m.ranks;for(w=0;w<P.length;++w)P[w]=-1;for(w=0;w<g.length;++w){var O=m.find(g[w][0]);P[O]<0?(P[O]=E.length,E.push([g[w].slice(0)])):E[P[O]].push(g[w].slice(0))}return E}(p,v):function(g){for(var y=u(l(x(g,0))),m=new r(y.length),w=0;w<g.length;++w)for(var d=g[w],S=0;S<d.length;++S)for(var A=h(y,[d[S]]),E=S+1;E<d.length;++E)m.link(A,h(y,[d[E]]));var P=[],O=m.ranks;for(w=0;w<O.length;++w)O[w]=-1;for(w=0;w<g.length;++w){var I=m.find(h(y,[g[w][0]]));O[I]<0?(O[I]=P.length,P.push([g[w].slice(0)])):P[O[I]].push(g[w].slice(0))}return P}(p)}},4623:function(f){function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}f.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var r=i[t];i[t]=i[r],t=r}return t},s.prototype.link=function(t,i){var r=this.find(t),n=this.find(i);if(r!==n){var a=this.ranks,l=this.roots,u=a[r],h=a[n];u<h?l[r]=n:h<u?l[n]=r:(l[n]=r,++a[r])}}},5878:function(f,s,t){f.exports=function(n,a,l){for(var u=a.length,h=n.length,c=new Array(u),x=new Array(u),p=new Array(u),v=new Array(u),g=0;g<u;++g)c[g]=x[g]=-1,p[g]=1/0,v[g]=!1;for(g=0;g<h;++g){var y=n[g];if(y.length!==2)throw new Error("Input must be a graph");var m=y[1],w=y[0];x[w]!==-1?x[w]=-2:x[w]=m,c[m]!==-1?c[m]=-2:c[m]=w}function d(te){if(v[te])return 1/0;var Q,ne,$,J=c[te],re=x[te];return J<0||re<0?1/0:(Q=a[te],ne=a[J],$=a[re],Math.abs(i(Q,ne,$))/Math.sqrt(Math.pow(ne[0]-$[0],2)+Math.pow(ne[1]-$[1],2)))}function S(te,Q){var ne=z[te],$=z[Q];z[te]=$,z[Q]=ne,j[ne]=Q,j[$]=te}function A(te){return p[z[te]]}function E(te){return 1&te?te-1>>1:(te>>1)-1}function P(te){for(var Q=A(te);;){var ne=Q,$=2*te+1,J=2*(te+1),re=te;if($<X){var se=A($);se<ne&&(re=$,ne=se)}if(J<X&&A(J)<ne&&(re=J),re===te)return te;S(te,re),te=re}}function O(te){for(var Q=A(te);te>0;){var ne=E(te);if(!(ne>=0&&Q<A(ne)))return te;S(te,ne),te=ne}}function I(){if(X>0){var te=z[0];return S(0,X-1),X-=1,P(0),te}return-1}function D(te,Q){var ne=z[te];return p[ne]===Q?te:(p[ne]=-1/0,O(te),I(),p[ne]=Q,O((X+=1)-1))}function V(te){if(!v[te]){v[te]=!0;var Q=c[te],ne=x[te];c[ne]>=0&&(c[ne]=Q),x[Q]>=0&&(x[Q]=ne),j[Q]>=0&&D(j[Q],d(Q)),j[ne]>=0&&D(j[ne],d(ne))}}var z=[],j=new Array(u);for(g=0;g<u;++g)(p[g]=d(g))<1/0?(j[g]=z.length,z.push(g)):j[g]=-1;var X=z.length;for(g=X>>1;g>=0;--g)P(g);for(;;){var F=I();if(F<0||p[F]>l)break;V(F)}var H=[];for(g=0;g<u;++g)v[g]||(j[g]=H.length,H.push(a[g].slice()));function W(te,Q){if(te[Q]<0)return Q;var ne=Q,$=Q;do{var J=te[$];if(!v[$]||J<0||J===$||(J=te[$=J],!v[$]||J<0||J===$))break;$=J,ne=te[ne]}while(ne!==$);for(var re=Q;re!==$;re=te[re])te[re]=$;return $}H.length;var ie=[];return n.forEach(function(te){var Q=W(c,te[0]),ne=W(x,te[1]);if(Q>=0&&ne>=0&&Q!==ne){var $=j[Q],J=j[ne];$!==J&&ie.push([$,J])}}),r.unique(r.normalize(ie)),{positions:H,edges:ie}};var i=t(3250),r=t(2014)},1303:function(f,s,t){f.exports=function(n,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0]))return r(a,n);l=a[1],u=a[0]}if(n[0][0]<n[1][0])h=n[0],c=n[1];else{if(!(n[0][0]>n[1][0]))return-r(n,a);h=n[1],c=n[0]}var x=i(l,u,c),p=i(l,u,h);if(x<0){if(p<=0)return x}else if(x>0){if(p>=0)return x}else if(p)return p;if(x=i(c,h,u),p=i(c,h,l),x<0){if(p<=0)return x}else if(x>0){if(p>=0)return x}else if(p)return p;return u[0]-c[0]};var i=t(3250);function r(n,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0])){var x=Math.min(n[0][1],n[1][1]),p=Math.max(n[0][1],n[1][1]),v=Math.min(a[0][1],a[1][1]),g=Math.max(a[0][1],a[1][1]);return p<v?p-v:x>g?x-g:p-g}l=a[1],u=a[0]}n[0][1]<n[1][1]?(h=n[0],c=n[1]):(h=n[1],c=n[0]);var y=i(u,l,h);return y||(y=i(u,l,c))||c-u}},4209:function(f,s,t){f.exports=function(p){for(var v=p.length,g=2*v,y=new Array(g),m=0;m<v;++m){var w=p[m],d=w[0][0]<w[1][0];y[2*m]=new x(w[0][0],w,d,m),y[2*m+1]=new x(w[1][0],w,!d,m)}y.sort(function(V,z){var j=V.x-z.x;return j||(j=V.create-z.create)||Math.min(V.segment[0][1],V.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var S=r(a),A=[],E=[],P=[];for(m=0;m<g;){for(var O=y[m].x,I=[];m<g;){var D=y[m];if(D.x!==O)break;m+=1,D.segment[0][0]===D.x&&D.segment[1][0]===D.x?D.create&&(D.segment[0][1]<D.segment[1][1]?(I.push(new c(D.segment[0][1],D.index,!0,!0)),I.push(new c(D.segment[1][1],D.index,!1,!1))):(I.push(new c(D.segment[1][1],D.index,!0,!1)),I.push(new c(D.segment[0][1],D.index,!1,!0)))):S=D.create?S.insert(D.segment,D.index):S.remove(D.segment)}A.push(S.root),E.push(O),P.push(I)}return new l(A,E,P)};var i=t(2478),r=t(3840),n=t(3250),a=t(1303);function l(p,v,g){this.slabs=p,this.coordinates=v,this.horizontal=g}function u(p,v){return p.y-v}function h(p,v){for(var g=null;p;){var y,m,w=p.key;w[0][0]<w[1][0]?(y=w[0],m=w[1]):(y=w[1],m=w[0]);var d=n(y,m,v);if(d<0)p=p.left;else if(d>0)if(v[0]!==w[1][0])g=p,p=p.right;else{if(S=h(p.right,v))return S;p=p.left}else{if(v[0]!==w[1][0])return p;var S;if(S=h(p.right,v))return S;p=p.left}}return g}function c(p,v,g,y){this.y=p,this.index=v,this.start=g,this.closed=y}function x(p,v,g,y){this.x=p,this.segment=v,this.create=g,this.index=y}l.prototype.castUp=function(p){var v=i.le(this.coordinates,p[0]);if(v<0)return-1;this.slabs[v];var g=h(this.slabs[v],p),y=-1;if(g&&(y=g.value),this.coordinates[v]===p[0]){var m=null;if(g&&(m=g.key),v>0){var w=h(this.slabs[v-1],p);w&&(m?a(w.key,m)>0&&(m=w.key,y=w.value):(y=w.value,m=w.key))}var d=this.horizontal[v];if(d.length>0){var S=i.ge(d,p[1],u);if(S<d.length){var A=d[S];if(p[1]===A.y){if(A.closed)return A.index;for(;S<d.length-1&&d[S+1].y===p[1];)if((A=d[S+=1]).closed)return A.index;if(A.y===p[1]&&!A.start){if((S+=1)>=d.length)return y;A=d[S]}}if(A.start)if(m){var E=n(m[0],m[1],[p[0],A.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(y=A.index)}else y=A.index;else A.y!==p[1]&&(y=A.index)}}}return y}},5202:function(f,s,t){var i=t(1944),r=t(8210);function n(l,u){var h=r(i(l,u),[u[u.length-1]]);return h[h.length-1]}function a(l,u,h,c){var x=-u/(c-u);x<0?x=0:x>1&&(x=1);for(var p=1-x,v=l.length,g=new Array(v),y=0;y<v;++y)g[y]=x*l[y]+p*h[y];return g}f.exports=function(l,u){for(var h=[],c=[],x=n(l[l.length-1],u),p=l[l.length-1],v=l[0],g=0;g<l.length;++g,p=v){var y=n(v=l[g],u);if(x<0&&y>0||x>0&&y<0){var m=a(p,y,v,x);h.push(m),c.push(m.slice())}y<0?c.push(v.slice()):y>0?h.push(v.slice()):(h.push(v.slice()),c.push(v.slice())),x=y}return{positive:h,negative:c}},f.exports.positive=function(l,u){for(var h=[],c=n(l[l.length-1],u),x=l[l.length-1],p=l[0],v=0;v<l.length;++v,x=p){var g=n(p=l[v],u);(c<0&&g>0||c>0&&g<0)&&h.push(a(x,g,p,c)),g>=0&&h.push(p.slice()),c=g}return h},f.exports.negative=function(l,u){for(var h=[],c=n(l[l.length-1],u),x=l[l.length-1],p=l[0],v=0;v<l.length;++v,x=p){var g=n(p=l[v],u);(c<0&&g>0||c>0&&g<0)&&h.push(a(x,g,p,c)),g<=0&&h.push(p.slice()),c=g}return h}},3387:function(f,s,t){var i;(function(){var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(u){return function(h,c){var x,p,v,g,y,m,w,d,S,A=1,E=h.length,P="";for(p=0;p<E;p++)if(typeof h[p]=="string")P+=h[p];else if(typeof h[p]=="object"){if((g=h[p]).keys)for(x=c[A],v=0;v<g.keys.length;v++){if(x==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[v],g.keys[v-1]));x=x[g.keys[v]]}else x=g.param_no?c[g.param_no]:c[A++];if(r.not_type.test(g.type)&&r.not_primitive.test(g.type)&&x instanceof Function&&(x=x()),r.numeric_arg.test(g.type)&&typeof x!="number"&&isNaN(x))throw new TypeError(n("[sprintf] expecting number but found %T",x));switch(r.number.test(g.type)&&(d=x>=0),g.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,g.width?parseInt(g.width):0);break;case"e":x=g.precision?parseFloat(x).toExponential(g.precision):parseFloat(x).toExponential();break;case"f":x=g.precision?parseFloat(x).toFixed(g.precision):parseFloat(x);break;case"g":x=g.precision?String(Number(x.toPrecision(g.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=g.precision?x.substring(0,g.precision):x;break;case"t":x=String(!!x),x=g.precision?x.substring(0,g.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=g.precision?x.substring(0,g.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=g.precision?x.substring(0,g.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}r.json.test(g.type)?P+=x:(!r.number.test(g.type)||d&&!g.sign?S="":(S=d?"+":"-",x=x.toString().replace(r.sign,"")),m=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",w=g.width-(S+x).length,y=g.width&&w>0?m.repeat(w):"",P+=g.align?S+x+y:m==="0"?S+y+x:y+S+x)}return P}(function(h){if(l[h])return l[h];for(var c,x=h,p=[],v=0;x;){if((c=r.text.exec(x))!==null)p.push(c[0]);else if((c=r.modulo.exec(x))!==null)p.push("%");else{if((c=r.placeholder.exec(x))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){v|=1;var g=[],y=c[2],m=[];if((m=r.key.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(g.push(m[1]);(y=y.substring(m[0].length))!=="";)if((m=r.key_access.exec(y))!==null)g.push(m[1]);else{if((m=r.index_access.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");g.push(m[1])}c[2]=g}else v|=2;if(v===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");p.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return l[h]=p}(u),arguments)}function a(u,h){return n.apply(null,[u].concat(h||[]))}var l=Object.create(null);s.sprintf=n,s.vsprintf=a,typeof window<"u"&&(window.sprintf=n,window.vsprintf=a,(i=(function(){return{sprintf:n,vsprintf:a}}).call(s,t,s,f))===void 0||(f.exports=i))})()},3711:function(f,s,t){f.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(x,p){for(var v=r(x,p),g=v.length,y=new Array(g),m=new Array(g),w=0;w<g;++w)y[w]=[v[w]],m[w]=[w];return{positions:y,cells:m}}(l,u);var h=l.order.join()+"-"+l.dtype,c=a[h];return u=+u||0,c||(c=a[h]=function(x,p){var v=x.length+"d",g=n[v];if(g)return g(i,x,p)}(l.order,l.dtype)),c(l,u)};var i=t(2640),r=t(781),n={"2d":function(l,u,h){var c=l({order:u,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(x,p,v,g){return x>g|0},vertex:function(x,p,v,g,y,m,w,d,S,A,E,P,O){var I=(w<<0)+(d<<1)+(S<<2)+(A<<3)|0;if(I!==0&&I!==15)switch(I){case 0:case 15:E.push([x-.5,p-.5]);break;case 1:E.push([x-.25-.25*(g+v-2*O)/(v-g),p-.25-.25*(y+v-2*O)/(v-y)]);break;case 2:E.push([x-.75-.25*(-g-v+2*O)/(g-v),p-.25-.25*(m+g-2*O)/(g-m)]);break;case 3:E.push([x-.5,p-.5-.5*(y+v+m+g-4*O)/(v-y+g-m)]);break;case 4:E.push([x-.25-.25*(m+y-2*O)/(y-m),p-.75-.25*(-y-v+2*O)/(y-v)]);break;case 5:E.push([x-.5-.5*(g+v+m+y-4*O)/(v-g+y-m),p-.5]);break;case 6:E.push([x-.5-.25*(-g-v+m+y)/(g-v+y-m),p-.5-.25*(-y-v+m+g)/(y-v+g-m)]);break;case 7:E.push([x-.75-.25*(m+y-2*O)/(y-m),p-.75-.25*(m+g-2*O)/(g-m)]);break;case 8:E.push([x-.75-.25*(-m-y+2*O)/(m-y),p-.75-.25*(-m-g+2*O)/(m-g)]);break;case 9:E.push([x-.5-.25*(g+v+-m-y)/(v-g+m-y),p-.5-.25*(y+v+-m-g)/(v-y+m-g)]);break;case 10:E.push([x-.5-.5*(-g-v-m-y+4*O)/(g-v+m-y),p-.5]);break;case 11:E.push([x-.25-.25*(-m-y+2*O)/(m-y),p-.75-.25*(y+v-2*O)/(v-y)]);break;case 12:E.push([x-.5,p-.5-.5*(-y-v-m-g+4*O)/(y-v+m-g)]);break;case 13:E.push([x-.75-.25*(g+v-2*O)/(v-g),p-.25-.25*(-m-g+2*O)/(m-g)]);break;case 14:E.push([x-.25-.25*(-g-v+2*O)/(g-v),p-.25-.25*(-y-v+2*O)/(y-v)])}},cell:function(x,p,v,g,y,m,w,d,S){y?d.push([x,p]):d.push([p,x])}});return function(x,p){var v=[],g=[];return c(x,v,g,p),{positions:v,cells:g}}}},a={}},529:function(f,s,t){f.exports=function a(l,u,h){var c=(h=h||{}).fontStyle||"normal",x=h.fontWeight||"normal",p=h.fontVariant||"normal",v=[c,x,p,l].join("_"),g=n[v];g||(g=n[v]={" ":{data:new Float32Array(0),shape:.2}});var y=g[u];if(!y)if(u.length<=1||!/\d/.test(u))y=g[u]=function(V){for(var z=V.cells,j=V.positions,X=new Float32Array(6*z.length),F=0,H=0,W=0;W<z.length;++W)for(var ie=z[W],te=0;te<3;++te){var Q=j[ie[te]];X[F++]=Q[0],X[F++]=Q[1]+1.4,H=Math.max(Q[0],H)}return{data:X,shape:H}}(i(u,{triangles:!0,font:l,fontStyle:c,fontWeight:x,fontVariant:p,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=u.split(/(\d|\s)/),w=new Array(m.length),d=0,S=0,A=0;A<m.length;++A)w[A]=a(l,m[A]),d+=w[A].data.length,S+=w[A].shape,A>0&&(S+=.02);var E=new Float32Array(d),P=0,O=-.5*S;for(A=0;A<w.length;++A){for(var I=w[A].data,D=0;D<I.length;D+=2)E[P++]=I[D]+O,E[P++]=I[D+1];O+=w[A].shape+.02}y=g[u]={data:E,shape:S}}return y};var i=t(4359),r=window||T.global||{},n=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},665:function(f,s,t){var i=t(3202);f.exports=a;var r=96;function n(l,u){var h=i(getComputedStyle(l).getPropertyValue(u));return h[0]*a(h[1],l)}function a(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(h,c){var x=document.createElement("div");x.style["font-size"]="128"+h,c.appendChild(x);var p=n(x,"font-size")/128;return c.removeChild(x),p}(l,u);case"em":return n(u,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},7261:function(f,s,t){f.exports=function(y){var m=(y=y||{}).center||[0,0,0],w=y.up||[0,1,0],d=y.right||x(w),S=y.radius||1,A=y.theta||0,E=y.phi||0;if(m=[].slice.call(m,0,3),w=[].slice.call(w,0,3),l(w,w),d=[].slice.call(d,0,3),l(d,d),"eye"in y){var P=y.eye,O=[P[0]-m[0],P[1]-m[1],P[2]-m[2]];a(d,O,w),h(d[0],d[1],d[2])<1e-6?d=x(w):l(d,d),S=h(O[0],O[1],O[2]);var I=u(w,O)/S,D=u(d,O)/S;E=Math.acos(I),A=Math.acos(D)}return S=Math.log(S),new p(y.zoomMin,y.zoomMax,m,w,d,S,A,E)};var i=t(9215),r=t(7608),n=t(6079),a=t(5911),l=t(3536),u=t(244);function h(y,m,w){return Math.sqrt(Math.pow(y,2)+Math.pow(m,2)+Math.pow(w,2))}function c(y){return Math.min(1,Math.max(-1,y))}function x(y){var m=Math.abs(y[0]),w=Math.abs(y[1]),d=Math.abs(y[2]),S=[0,0,0];m>Math.max(w,d)?S[2]=1:w>Math.max(m,d)?S[0]=1:S[1]=1;for(var A=0,E=0,P=0;P<3;++P)A+=y[P]*y[P],E+=S[P]*y[P];for(P=0;P<3;++P)S[P]-=E/A*y[P];return l(S,S),S}function p(y,m,w,d,S,A,E,P){this.center=i(w),this.up=i(d),this.right=i(S),this.radius=i([A]),this.angle=i([E,P]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var v=p.prototype;v.setDistanceLimits=function(y,m){y=y>0?Math.log(y):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=m},v.getDistanceLimits=function(y){var m=this.radius.bounds[0];return y?(y[0]=Math.exp(m[0][0]),y[1]=Math.exp(m[1][0]),y):[Math.exp(m[0][0]),Math.exp(m[1][0])]},v.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var m=this.computedUp,w=this.computedRight,d=0,S=0,A=0;A<3;++A)S+=m[A]*w[A],d+=m[A]*m[A];var E=Math.sqrt(d),P=0;for(A=0;A<3;++A)w[A]-=m[A]*S/d,P+=w[A]*w[A],m[A]/=E;var O=Math.sqrt(P);for(A=0;A<3;++A)w[A]/=O;var I=this.computedToward;a(I,m,w),l(I,I);var D=Math.exp(this.computedRadius[0]),V=this.computedAngle[0],z=this.computedAngle[1],j=Math.cos(V),X=Math.sin(V),F=Math.cos(z),H=Math.sin(z),W=this.computedCenter,ie=j*F,te=X*F,Q=H,ne=-j*H,$=-X*H,J=F,re=this.computedEye,se=this.computedMatrix;for(A=0;A<3;++A){var ue=ie*w[A]+te*I[A]+Q*m[A];se[4*A+1]=ne*w[A]+$*I[A]+J*m[A],se[4*A+2]=ue,se[4*A+3]=0}var he=se[1],pe=se[5],ge=se[9],ye=se[2],be=se[6],Te=se[10],Se=pe*Te-ge*be,Fe=ge*ye-he*Te,xe=he*be-pe*ye,le=h(Se,Fe,xe);for(Se/=le,Fe/=le,xe/=le,se[0]=Se,se[4]=Fe,se[8]=xe,A=0;A<3;++A)re[A]=W[A]+se[2+4*A]*D;for(A=0;A<3;++A){P=0;for(var oe=0;oe<3;++oe)P+=se[A+4*oe]*re[oe];se[12+A]=-P}se[15]=1},v.getMatrix=function(y,m){this.recalcMatrix(y);var w=this.computedMatrix;if(m){for(var d=0;d<16;++d)m[d]=w[d];return m}return w};var g=[0,0,0];v.rotate=function(y,m,w,d){if(this.angle.move(y,m,w),d){this.recalcMatrix(y);var S=this.computedMatrix;g[0]=S[2],g[1]=S[6],g[2]=S[10];for(var A=this.computedUp,E=this.computedRight,P=this.computedToward,O=0;O<3;++O)S[4*O]=A[O],S[4*O+1]=E[O],S[4*O+2]=P[O];for(n(S,S,d,g),O=0;O<3;++O)A[O]=S[4*O],E[O]=S[4*O+1];this.up.set(y,A[0],A[1],A[2]),this.right.set(y,E[0],E[1],E[2])}},v.pan=function(y,m,w,d){m=m||0,w=w||0,d=d||0,this.recalcMatrix(y);var S=this.computedMatrix,A=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],P=S[9],O=h(A,E,P);A/=O,E/=O,P/=O;var I=S[0],D=S[4],V=S[8],z=I*A+D*E+V*P,j=h(I-=A*z,D-=E*z,V-=P*z),X=(I/=j)*m+A*w,F=(D/=j)*m+E*w,H=(V/=j)*m+P*w;this.center.move(y,X,F,H);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+d),this.radius.set(y,Math.log(W))},v.translate=function(y,m,w,d){this.center.move(y,m||0,w||0,d||0)},v.setMatrix=function(y,m,w,d){var S=1;typeof w=="number"&&(S=0|w),(S<0||S>3)&&(S=1);var A=(S+2)%3;m||(this.recalcMatrix(y),m=this.computedMatrix);var E=m[S],P=m[S+4],O=m[S+8];if(d){var I=Math.abs(E),D=Math.abs(P),V=Math.abs(O),z=Math.max(I,D,V);I===z?(E=E<0?-1:1,P=O=0):V===z?(O=O<0?-1:1,E=P=0):(P=P<0?-1:1,E=O=0)}else{var j=h(E,P,O);E/=j,P/=j,O/=j}var X,F,H=m[A],W=m[A+4],ie=m[A+8],te=H*E+W*P+ie*O,Q=h(H-=E*te,W-=P*te,ie-=O*te),ne=P*(ie/=Q)-O*(W/=Q),$=O*(H/=Q)-E*ie,J=E*W-P*H,re=h(ne,$,J);if(ne/=re,$/=re,J/=re,this.center.jump(y,Ae,Le,ze),this.radius.idle(y),this.up.jump(y,E,P,O),this.right.jump(y,H,W,ie),S===2){var se=m[1],ue=m[5],he=m[9],pe=se*H+ue*W+he*ie,ge=se*ne+ue*$+he*J;X=Se<0?-Math.PI/2:Math.PI/2,F=Math.atan2(ge,pe)}else{var ye=m[2],be=m[6],Te=m[10],Se=ye*E+be*P+Te*O,Fe=ye*H+be*W+Te*ie,xe=ye*ne+be*$+Te*J;X=Math.asin(c(Se)),F=Math.atan2(xe,Fe)}this.angle.jump(y,F,X),this.recalcMatrix(y);var le=m[2],oe=m[6],de=m[10],Ce=this.computedMatrix;r(Ce,m);var _e=Ce[15],Ae=Ce[12]/_e,Le=Ce[13]/_e,ze=Ce[14]/_e,Re=Math.exp(this.computedRadius[0]);this.center.jump(y,Ae-le*Re,Le-oe*Re,ze-de*Re)},v.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},v.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},v.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},v.setDistance=function(y,m){m>0&&this.radius.set(y,Math.log(m))},v.lookAt=function(y,m,w,d){this.recalcMatrix(y),m=m||this.computedEye,w=w||this.computedCenter;var S=(d=d||this.computedUp)[0],A=d[1],E=d[2],P=h(S,A,E);if(!(P<1e-6)){S/=P,A/=P,E/=P;var O=m[0]-w[0],I=m[1]-w[1],D=m[2]-w[2],V=h(O,I,D);if(!(V<1e-6)){O/=V,I/=V,D/=V;var z=this.computedRight,j=z[0],X=z[1],F=z[2],H=S*j+A*X+E*F,W=h(j-=H*S,X-=H*A,F-=H*E);if(!(W<.01&&(W=h(j=A*D-E*I,X=E*O-S*D,F=S*I-A*O))<1e-6)){j/=W,X/=W,F/=W,this.up.set(y,S,A,E),this.right.set(y,j,X,F),this.center.set(y,w[0],w[1],w[2]),this.radius.set(y,Math.log(V));var ie=A*F-E*X,te=E*j-S*F,Q=S*X-A*j,ne=h(ie,te,Q),$=S*O+A*I+E*D,J=j*O+X*I+F*D,re=(ie/=ne)*O+(te/=ne)*I+(Q/=ne)*D,se=Math.asin(c($)),ue=Math.atan2(re,J),he=this.angle._state,pe=he[he.length-1],ge=he[he.length-2];pe%=2*Math.PI;var ye=Math.abs(pe+2*Math.PI-ue),be=Math.abs(pe-ue),Te=Math.abs(pe-2*Math.PI-ue);ye<be&&(pe+=2*Math.PI),Te<be&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,ge),this.angle.set(y,ue,se)}}}}},5250:function(f){f.exports=function(t,i,r){var n=t*i,a=s*t,l=a-(a-t),u=t-l,h=s*i,c=h-(h-i),x=i-c,p=u*x-(n-l*c-u*c-l*x);return r?(r[0]=p,r[1]=n,r):[p,n]};var s=+(Math.pow(2,27)+1)},9362:function(f){f.exports=function(s,t,i){var r=s+t,n=r-s,a=t-n,l=s-(r-n);return i?(i[0]=l+a,i[1]=r,i):[l+a,r]}},1888:function(f,s,t){var i=t(8828),r=t(1338),n=t(4793).hp;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var a=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",h=t.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=r([32,0])),h.BIGUINT64||(h.BIGUINT64=r([32,0])),h.BIGINT64||(h.BIGINT64=r([32,0])),h.BUFFER||(h.BUFFER=r([32,0]));var c=h.DATA,x=h.BUFFER;function p(z){if(z){var j=z.length||z.byteLength,X=i.log2(j);c[X].push(z)}}function v(z){z=i.nextPow2(z);var j=i.log2(z),X=c[j];return X.length>0?X.pop():new ArrayBuffer(z)}function g(z){return new Uint8Array(v(z),0,z)}function y(z){return new Uint16Array(v(2*z),0,z)}function m(z){return new Uint32Array(v(4*z),0,z)}function w(z){return new Int8Array(v(z),0,z)}function d(z){return new Int16Array(v(2*z),0,z)}function S(z){return new Int32Array(v(4*z),0,z)}function A(z){return new Float32Array(v(4*z),0,z)}function E(z){return new Float64Array(v(8*z),0,z)}function P(z){return a?new Uint8ClampedArray(v(z),0,z):g(z)}function O(z){return l?new BigUint64Array(v(8*z),0,z):null}function I(z){return u?new BigInt64Array(v(8*z),0,z):null}function D(z){return new DataView(v(z),0,z)}function V(z){z=i.nextPow2(z);var j=i.log2(z),X=x[j];return X.length>0?X.pop():new n(z)}s.free=function(z){if(n.isBuffer(z))x[i.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var j=z.length||z.byteLength,X=0|i.log2(j);c[X].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){p(z.buffer)},s.freeArrayBuffer=p,s.freeBuffer=function(z){x[i.log2(z.length)].push(z)},s.malloc=function(z,j){if(j===void 0||j==="arraybuffer")return v(z);switch(j){case"uint8":return g(z);case"uint16":return y(z);case"uint32":return m(z);case"int8":return w(z);case"int16":return d(z);case"int32":return S(z);case"float":case"float32":return A(z);case"double":case"float64":return E(z);case"uint8_clamped":return P(z);case"bigint64":return I(z);case"biguint64":return O(z);case"buffer":return V(z);case"data":case"dataview":return D(z);default:return null}return null},s.mallocArrayBuffer=v,s.mallocUint8=g,s.mallocUint16=y,s.mallocUint32=m,s.mallocInt8=w,s.mallocInt16=d,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=A,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=P,s.mallocBigUint64=O,s.mallocBigInt64=I,s.mallocDataView=D,s.mallocBuffer=V,s.clearCache=function(){for(var z=0;z<32;++z)h.UINT8[z].length=0,h.UINT16[z].length=0,h.UINT32[z].length=0,h.INT8[z].length=0,h.INT16[z].length=0,h.INT32[z].length=0,h.FLOAT[z].length=0,h.DOUBLE[z].length=0,h.BIGUINT64[z].length=0,h.BIGINT64[z].length=0,h.UINT8C[z].length=0,c[z].length=0,x[z].length=0}},1755:function(f){function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var r=0;r<i;++r)this.roots[r]=r,this.ranks[r]=0}f.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var r=i,n=this.roots;n[i]!==i;)i=n[i];for(;n[r]!==i;){var a=n[r];n[r]=i,r=a}return i},t.link=function(i,r){var n=this.find(i),a=this.find(r);if(n!==a){var l=this.ranks,u=this.roots,h=l[n],c=l[a];h<c?u[n]=a:c<h?u[a]=n:(u[a]=n,++l[n])}}},1682:function(f){f.exports=function(s,t,i){return s.length===0?s:t?(i||s.sort(t),function(r,n){for(var a=1,l=r.length,u=r[0],h=r[0],c=1;c<l;++c)if(h=u,n(u=r[c],h)){if(c===a){a++;continue}r[a++]=u}return r.length=a,r}(s,t)):(i||s.sort(),function(r){for(var n=1,a=r.length,l=r[0],u=r[0],h=1;h<a;++h,u=l)if(u=l,(l=r[h])!==u){if(h===n){n++;continue}r[n++]=l}return r.length=n,r}(s))}},4359:function(f,s,t){f.exports=function(a,l){return typeof l=="object"&&l!==null||(l={}),i(a,l.canvas||r,l.context||n,l)};var i=t(7718),r=null,n=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,n=r.getContext("2d"))},7718:function(f,s,t){f.exports=function(O,I,D,V){var z=64,j=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return V&&(V.size&&V.size>0&&(z=V.size),V.lineSpacing&&V.lineSpacing>0&&(j=V.lineSpacing),V.styletags&&V.styletags.breaklines&&(X.breaklines=!!V.styletags.breaklines),V.styletags&&V.styletags.bolds&&(X.bolds=!!V.styletags.bolds),V.styletags&&V.styletags.italics&&(X.italics=!!V.styletags.italics),V.styletags&&V.styletags.subscripts&&(X.subscripts=!!V.styletags.subscripts),V.styletags&&V.styletags.superscripts&&(X.superscripts=!!V.styletags.superscripts)),D.font=[V.fontStyle,V.fontVariant,V.fontWeight,z+"px",V.font].filter(function(F){return F}).join(" "),D.textAlign="start",D.textBaseline="alphabetic",D.direction="ltr",P(function(F,H,W,ie,te,Q){W=W.replace(/\n/g,""),W=Q.breaklines===!0?W.replace(/\<br\>/g,`
`):W.replace(/\<br\>/g," ");var ne="",$=[];for(ue=0;ue<W.length;++ue)$[ue]=ne;Q.bolds===!0&&($=S(h,c,W,$)),Q.italics===!0&&($=S(x,p,W,$)),Q.superscripts===!0&&($=S(v,y,W,$)),Q.subscripts===!0&&($=S(m,d,W,$));var J=[],re="";for(ue=0;ue<W.length;++ue)$[ue]!==null&&(re+=W[ue],J.push($[ue]));var se,ue,he,pe,ge,ye=re.split(`
`),be=ye.length,Te=Math.round(te*ie),Se=ie,Fe=2*ie,xe=0,le=be*Te+Fe;F.height<le&&(F.height=le),H.fillStyle="#000",H.fillRect(0,0,F.width,F.height),H.fillStyle="#fff";var oe=0,de="";function Ce(){if(de!==""){var Ee=H.measureText(de).width;H.fillText(de,Se+he,Fe+pe),he+=Ee}}function _e(){return Math.round(ge)+"px "}function Ae(Ee,De){var Pe=""+H.font;if(Q.subscripts===!0){var Ue=Ee.indexOf(w),We=De.indexOf(w),$e=Ue>-1?parseInt(Ee[1+Ue]):0,ot=We>-1?parseInt(De[1+We]):0;$e!==ot&&(Pe=Pe.replace(_e(),"?px "),ge*=Math.pow(.75,ot-$e),Pe=Pe.replace("?px ",_e())),pe+=.25*Te*(ot-$e)}if(Q.superscripts===!0){var st=Ee.indexOf(g),mt=De.indexOf(g),_t=st>-1?parseInt(Ee[1+st]):0,yt=mt>-1?parseInt(De[1+mt]):0;_t!==yt&&(Pe=Pe.replace(_e(),"?px "),ge*=Math.pow(.75,yt-_t),Pe=Pe.replace("?px ",_e())),pe-=.25*Te*(yt-_t)}if(Q.bolds===!0){var it=Ee.indexOf(c)>-1,tt=De.indexOf(c)>-1;!it&&tt&&(Pe=Pt?Pe.replace("italic ","italic bold "):"bold "+Pe),it&&!tt&&(Pe=Pe.replace("bold ",""))}if(Q.italics===!0){var Pt=Ee.indexOf(p)>-1,Rt=De.indexOf(p)>-1;!Pt&&Rt&&(Pe="italic "+Pe),Pt&&!Rt&&(Pe=Pe.replace("italic ",""))}H.font=Pe}for(se=0;se<be;++se){var Le=ye[se]+`
`;for(he=0,pe=se*Te,ge=ie,de="",ue=0;ue<Le.length;++ue){var ze=ue+oe<J.length?J[ue+oe]:J[J.length-1];ne===ze?de+=Le[ue]:(Ce(),de=Le[ue],ze!==void 0&&(Ae(ne,ze),ne=ze))}Ce(),oe+=Le.length;var Re=0|Math.round(he+2*Se);xe<Re&&(xe=Re)}var ve=xe,ke=Fe+Te*be;return r(H.getImageData(0,0,ve,ke).data,[ke,ve,4]).pick(-1,-1,0).transpose(1,0)}(I,D,O,z,j,X),V,z)},f.exports.processPixels=P;var i=t(3711),r=t(9618),n=t(5878),a=t(332),l=t(2538),u=t(2095),h="b",c="b|",x="i",p="i|",v="sup",g="+",y="+1",m="sub",w="-",d="-1";function S(O,I,D,V){for(var z="<"+O+">",j="</"+O+">",X=z.length,F=j.length,H=I[0]===g||I[0]===w,W=0,ie=-F;W>-1&&(W=D.indexOf(z,W))!==-1&&(ie=D.indexOf(j,W+X))!==-1&&!(ie<=W);){for(var te=W;te<ie+F;++te)if(te<W+X||te>=ie)V[te]=null,D=D.substr(0,te)+" "+D.substr(te+1);else if(V[te]!==null){var Q=V[te].indexOf(I[0]);Q===-1?V[te]+=I:H&&(V[te]=V[te].substr(0,Q+1)+(1+parseInt(V[te][Q+1]))+V[te].substr(Q+2))}var ne=W+X,$=D.substr(ne,ie-ne).indexOf(z);W=$!==-1?$:ie+F}return V}function A(O,I){var D=i(O,128);return I?n(D.cells,D.positions,.25):{edges:D.cells,positions:D.positions}}function E(O,I,D,V){var z=A(O,V),j=function(se,ue,he){for(var pe=ue.textAlign||"start",ge=ue.textBaseline||"alphabetic",ye=[1<<30,1<<30],be=[0,0],Te=se.length,Se=0;Se<Te;++Se)for(var Fe=se[Se],xe=0;xe<2;++xe)ye[xe]=0|Math.min(ye[xe],Fe[xe]),be[xe]=0|Math.max(be[xe],Fe[xe]);var le=0;switch(pe){case"center":le=-.5*(ye[0]+be[0]);break;case"right":case"end":le=-be[0];break;case"left":case"start":le=-ye[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var oe=0;switch(ge){case"hanging":case"top":oe=-ye[1];break;case"middle":oe=-.5*(ye[1]+be[1]);break;case"alphabetic":case"ideographic":oe=-3*he;break;case"bottom":oe=-be[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+ge+"'")}var de=1/he;return"lineHeight"in ue?de*=+ue.lineHeight:"width"in ue?de=ue.width/(be[0]-ye[0]):"height"in ue&&(de=ue.height/(be[1]-ye[1])),se.map(function(Ce){return[de*(Ce[0]+le),de*(Ce[1]+oe)]})}(z.positions,I,D),X=z.edges,F=I.orientation==="ccw";if(a(j,X),I.polygons||I.polygon||I.polyline){for(var H=u(X,j),W=new Array(H.length),ie=0;ie<H.length;++ie){for(var te=H[ie],Q=new Array(te.length),ne=0;ne<te.length;++ne){for(var $=te[ne],J=new Array($.length),re=0;re<$.length;++re)J[re]=j[$[re]].slice();F&&J.reverse(),Q[ne]=J}W[ie]=Q}return W}return I.triangles||I.triangulate||I.triangle?{cells:l(j,X,{delaunay:!1,exterior:!1,interior:!0}),positions:j}:{edges:X,positions:j}}function P(O,I,D){try{return E(O,I,D,!0)}catch{}try{return E(O,I,D,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(f){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var s=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,r=Object.freeze({});if(i.set(r,1),i.get(r)===1)return void(f.exports=WeakMap);s=!0}}var n=Object.getOwnPropertyNames,a=Object.defineProperty,l=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),h=u+"rand:"+Array.prototype.map.call(x,function(E){return(E%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(E){return n(E).filter(w)}}),"getPropertyNames"in Object){var p=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(E){return p(E).filter(w)}})}(function(){var E=Object.freeze;a(Object,"freeze",{value:function(I){return d(I),E(I)}});var P=Object.seal;a(Object,"seal",{value:function(I){return d(I),P(I)}});var O=Object.preventExtensions;a(Object,"preventExtensions",{value:function(I){return d(I),O(I)}})})();var v=!1,g=0,y=function(){this instanceof y||A();var E=[],P=[],O=g++;return Object.create(y.prototype,{get___:{value:S(function(I,D){var V,z=d(I);return z?O in z?z[O]:D:(V=E.indexOf(I))>=0?P[V]:D})},has___:{value:S(function(I){var D=d(I);return D?O in D:E.indexOf(I)>=0})},set___:{value:S(function(I,D){var V,z=d(I);return z?z[O]=D:(V=E.indexOf(I))>=0?P[V]=D:(V=E.length,P[V]=D,E[V]=I),this})},delete___:{value:S(function(I){var D,V,z=d(I);return z?O in z&&delete z[O]:!((D=E.indexOf(I))<0||(V=E.length-1,E[D]=void 0,P[D]=P[V],E[D]=E[V],E.length=V,P.length=V,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,P){return this.get___(E,P)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,P){return this.set___(E,P)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof y||A();var P,O=new t,I=void 0,D=!1;return P=s?function(V,z){return O.set(V,z),O.has(V)||(I||(I=new y),I.set(V,z)),this}:function(V,z){if(D)try{O.set(V,z)}catch{I||(I=new y),I.set___(V,z)}else O.set(V,z);return this},Object.create(y.prototype,{get___:{value:S(function(V,z){return I?O.has(V)?O.get(V):I.get___(V,z):O.get(V,z)})},has___:{value:S(function(V){return O.has(V)||!!I&&I.has___(V)})},set___:{value:S(P)},delete___:{value:S(function(V){var z=!!O.delete(V);return I&&I.delete___(V)||z})},permitHostObjects___:{value:S(function(V){if(V!==m)throw new Error("bogus call to permitHostObjects___");D=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,f.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),f.exports=y)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function w(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function d(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var P=E[h];if(P&&P.key===E)return P;if(l(E)){P={key:E};try{return a(E,h,{value:P,writable:!1,enumerable:!1,configurable:!1}),P}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function A(){v||typeof console>"u"||(v=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},236:function(f,s,t){var i=t(8284);f.exports=function(){var r={};return function(n){if((typeof n!="object"||n===null)&&typeof n!="function")throw new Error("Weakmap-shim: Key must be object");var a=n.valueOf(r);return a&&a.identity===r?a:i(n,r)}}},8284:function(f){f.exports=function(s,t){var i={identity:t},r=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(n){return n!==t?r.apply(this,arguments):i},writable:!0}),i}},606:function(f,s,t){var i=t(236);f.exports=function(){var r=i();return{get:function(n,a){var l=r(n);return l.hasOwnProperty("value")?l.value:a},set:function(n,a){return r(n).value=a,this},has:function(n){return"value"in r(n)},delete:function(n){return delete r(n).value}}}},3349:function(f){f.exports=function(s){var t={};return function(i,r,n){var a=i.dtype,l=i.order,u=[a,l.join()].join(),h=t[u];return h||(t[u]=h=s([a,l])),h(i.shape.slice(0),i.data,i.stride,0|i.offset,r,n)}}((function(){return function(s,t,i,r,n,a){var l=s[0],u=i[0],h=[0],c=u;r|=0;var x=0,p=u;for(x=0;x<l;++x){var v=t[r]-a,g=t[r+c]-a;v>=0!=g>=0&&n.push(h[0]+.5+.5*(v+g)/(v-g)),r+=p,++h[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},781:function(f,s,t){f.exports=function(r,n){var a=[];return n=+n||0,i(r.hi(r.shape[0]-1),a,n),a};var i=t(3349)},7790:function(){}},o={};function _(f){var s=o[f];if(s!==void 0)return s.exports;var t=o[f]={id:f,loaded:!1,exports:{}};return k[f].call(t.exports,t,t.exports,_),t.loaded=!0,t.exports}_.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),_.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f};var b=_(1964);U.exports=b})()},33576:function(U,C,e){function T(le,oe){for(var de=0;de<oe.length;de++){var Ce=oe[de];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(le,(_e=function(Ae,Le){if(b(Ae)!=="object"||Ae===null)return Ae;var ze=Ae[Symbol.toPrimitive];if(ze!==void 0){var Re=ze.call(Ae,"string");if(b(Re)!=="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ae)}(Ce.key),b(_e)==="symbol"?_e:String(_e)),Ce)}var _e}function k(le){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},k(le)}function o(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function _(le,oe){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,Ce){return de.__proto__=Ce,de},_(le,oe)}function b(le){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},b(le)}var f=e(59968),s=e(35984),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;C.Buffer=n,C.SlowBuffer=function(le){return+le!=le&&(le=0),n.alloc(+le)},C.INSPECT_MAX_BYTES=50;var i=2147483647;function r(le){if(le>i)throw new RangeError('The value "'+le+'" is invalid for option "size"');var oe=new Uint8Array(le);return Object.setPrototypeOf(oe,n.prototype),oe}function n(le,oe,de){if(typeof le=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(le)}return a(le,oe,de)}function a(le,oe,de){if(typeof le=="string")return function(Ae,Le){if(typeof Le=="string"&&Le!==""||(Le="utf8"),!n.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);var ze=0|p(Ae,Le),Re=r(ze),ve=Re.write(Ae,Le);return ve!==ze&&(Re=Re.slice(0,ve)),Re}(le,oe);if(ArrayBuffer.isView(le))return function(Ae){if(be(Ae,Uint8Array)){var Le=new Uint8Array(Ae);return c(Le.buffer,Le.byteOffset,Le.byteLength)}return h(Ae)}(le);if(le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(le));if(be(le,ArrayBuffer)||le&&be(le.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(le,SharedArrayBuffer)||le&&be(le.buffer,SharedArrayBuffer)))return c(le,oe,de);if(typeof le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ce=le.valueOf&&le.valueOf();if(Ce!=null&&Ce!==le)return n.from(Ce,oe,de);var _e=function(Ae){if(n.isBuffer(Ae)){var Le=0|x(Ae.length),ze=r(Le);return ze.length===0||Ae.copy(ze,0,0,Le),ze}return Ae.length!==void 0?typeof Ae.length!="number"||Te(Ae.length)?r(0):h(Ae):Ae.type==="Buffer"&&Array.isArray(Ae.data)?h(Ae.data):void 0}(le);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof le[Symbol.toPrimitive]=="function")return n.from(le[Symbol.toPrimitive]("string"),oe,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(le))}function l(le){if(typeof le!="number")throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function u(le){return l(le),r(le<0?0:0|x(le))}function h(le){for(var oe=le.length<0?0:0|x(le.length),de=r(oe),Ce=0;Ce<oe;Ce+=1)de[Ce]=255&le[Ce];return de}function c(le,oe,de){if(oe<0||le.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<oe+(de||0))throw new RangeError('"length" is outside of buffer bounds');var Ce;return Ce=oe===void 0&&de===void 0?new Uint8Array(le):de===void 0?new Uint8Array(le,oe):new Uint8Array(le,oe,de),Object.setPrototypeOf(Ce,n.prototype),Ce}function x(le){if(le>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|le}function p(le,oe){if(n.isBuffer(le))return le.length;if(ArrayBuffer.isView(le)||be(le,ArrayBuffer))return le.byteLength;if(typeof le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(le));var de=le.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&de===0)return 0;for(var _e=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return pe(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return ge(le).length;default:if(_e)return Ce?-1:pe(le).length;oe=(""+oe).toLowerCase(),_e=!0}}function v(le,oe,de){var Ce=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(oe>>>=0))return"";for(le||(le="utf8");;)switch(le){case"hex":return z(this,oe,de);case"utf8":case"utf-8":return O(this,oe,de);case"ascii":return D(this,oe,de);case"latin1":case"binary":return V(this,oe,de);case"base64":return P(this,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,oe,de);default:if(Ce)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),Ce=!0}}function g(le,oe,de){var Ce=le[oe];le[oe]=le[de],le[de]=Ce}function y(le,oe,de,Ce,_e){if(le.length===0)return-1;if(typeof de=="string"?(Ce=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),Te(de=+de)&&(de=_e?0:le.length-1),de<0&&(de=le.length+de),de>=le.length){if(_e)return-1;de=le.length-1}else if(de<0){if(!_e)return-1;de=0}if(typeof oe=="string"&&(oe=n.from(oe,Ce)),n.isBuffer(oe))return oe.length===0?-1:m(le,oe,de,Ce,_e);if(typeof oe=="number")return oe&=255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(le,oe,de):Uint8Array.prototype.lastIndexOf.call(le,oe,de):m(le,[oe],de,Ce,_e);throw new TypeError("val must be string, number or Buffer")}function m(le,oe,de,Ce,_e){var Ae,Le=1,ze=le.length,Re=oe.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(le.length<2||oe.length<2)return-1;Le=2,ze/=2,Re/=2,de/=2}function ve(Pe,Ue){return Le===1?Pe[Ue]:Pe.readUInt16BE(Ue*Le)}if(_e){var ke=-1;for(Ae=de;Ae<ze;Ae++)if(ve(le,Ae)===ve(oe,ke===-1?0:Ae-ke)){if(ke===-1&&(ke=Ae),Ae-ke+1===Re)return ke*Le}else ke!==-1&&(Ae-=Ae-ke),ke=-1}else for(de+Re>ze&&(de=ze-Re),Ae=de;Ae>=0;Ae--){for(var Ee=!0,De=0;De<Re;De++)if(ve(le,Ae+De)!==ve(oe,De)){Ee=!1;break}if(Ee)return Ae}return-1}function w(le,oe,de,Ce){de=Number(de)||0;var _e=le.length-de;Ce?(Ce=Number(Ce))>_e&&(Ce=_e):Ce=_e;var Ae,Le=oe.length;for(Ce>Le/2&&(Ce=Le/2),Ae=0;Ae<Ce;++Ae){var ze=parseInt(oe.substr(2*Ae,2),16);if(Te(ze))return Ae;le[de+Ae]=ze}return Ae}function d(le,oe,de,Ce){return ye(pe(oe,le.length-de),le,de,Ce)}function S(le,oe,de,Ce){return ye(function(_e){for(var Ae=[],Le=0;Le<_e.length;++Le)Ae.push(255&_e.charCodeAt(Le));return Ae}(oe),le,de,Ce)}function A(le,oe,de,Ce){return ye(ge(oe),le,de,Ce)}function E(le,oe,de,Ce){return ye(function(_e,Ae){for(var Le,ze,Re,ve=[],ke=0;ke<_e.length&&!((Ae-=2)<0);++ke)ze=(Le=_e.charCodeAt(ke))>>8,Re=Le%256,ve.push(Re),ve.push(ze);return ve}(oe,le.length-de),le,de,Ce)}function P(le,oe,de){return oe===0&&de===le.length?f.fromByteArray(le):f.fromByteArray(le.slice(oe,de))}function O(le,oe,de){de=Math.min(le.length,de);for(var Ce=[],_e=oe;_e<de;){var Ae=le[_e],Le=null,ze=Ae>239?4:Ae>223?3:Ae>191?2:1;if(_e+ze<=de){var Re=void 0,ve=void 0,ke=void 0,Ee=void 0;switch(ze){case 1:Ae<128&&(Le=Ae);break;case 2:(192&(Re=le[_e+1]))==128&&(Ee=(31&Ae)<<6|63&Re)>127&&(Le=Ee);break;case 3:Re=le[_e+1],ve=le[_e+2],(192&Re)==128&&(192&ve)==128&&(Ee=(15&Ae)<<12|(63&Re)<<6|63&ve)>2047&&(Ee<55296||Ee>57343)&&(Le=Ee);break;case 4:Re=le[_e+1],ve=le[_e+2],ke=le[_e+3],(192&Re)==128&&(192&ve)==128&&(192&ke)==128&&(Ee=(15&Ae)<<18|(63&Re)<<12|(63&ve)<<6|63&ke)>65535&&Ee<1114112&&(Le=Ee)}}Le===null?(Le=65533,ze=1):Le>65535&&(Le-=65536,Ce.push(Le>>>10&1023|55296),Le=56320|1023&Le),Ce.push(Le),_e+=ze}return function(De){var Pe=De.length;if(Pe<=I)return String.fromCharCode.apply(String,De);for(var Ue="",We=0;We<Pe;)Ue+=String.fromCharCode.apply(String,De.slice(We,We+=I));return Ue}(Ce)}C.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=function(){try{var le=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(le,oe),le.foo()===42}catch{return!1}}(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(le,oe,de){return a(le,oe,de)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(le,oe,de){return function(Ce,_e,Ae){return l(Ce),Ce<=0?r(Ce):_e!==void 0?typeof Ae=="string"?r(Ce).fill(_e,Ae):r(Ce).fill(_e):r(Ce)}(le,oe,de)},n.allocUnsafe=function(le){return u(le)},n.allocUnsafeSlow=function(le){return u(le)},n.isBuffer=function(le){return le!=null&&le._isBuffer===!0&&le!==n.prototype},n.compare=function(le,oe){if(be(le,Uint8Array)&&(le=n.from(le,le.offset,le.byteLength)),be(oe,Uint8Array)&&(oe=n.from(oe,oe.offset,oe.byteLength)),!n.isBuffer(le)||!n.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===oe)return 0;for(var de=le.length,Ce=oe.length,_e=0,Ae=Math.min(de,Ce);_e<Ae;++_e)if(le[_e]!==oe[_e]){de=le[_e],Ce=oe[_e];break}return de<Ce?-1:Ce<de?1:0},n.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(le,oe){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(le.length===0)return n.alloc(0);var de;if(oe===void 0)for(oe=0,de=0;de<le.length;++de)oe+=le[de].length;var Ce=n.allocUnsafe(oe),_e=0;for(de=0;de<le.length;++de){var Ae=le[de];if(be(Ae,Uint8Array))_e+Ae.length>Ce.length?(n.isBuffer(Ae)||(Ae=n.from(Ae)),Ae.copy(Ce,_e)):Uint8Array.prototype.set.call(Ce,Ae,_e);else{if(!n.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(Ce,_e)}_e+=Ae.length}return Ce},n.byteLength=p,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var le=this.length;if(le%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<le;oe+=2)g(this,oe,oe+1);return this},n.prototype.swap32=function(){var le=this.length;if(le%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<le;oe+=4)g(this,oe,oe+3),g(this,oe+1,oe+2);return this},n.prototype.swap64=function(){var le=this.length;if(le%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<le;oe+=8)g(this,oe,oe+7),g(this,oe+1,oe+6),g(this,oe+2,oe+5),g(this,oe+3,oe+4);return this},n.prototype.toString=function(){var le=this.length;return le===0?"":arguments.length===0?O(this,0,le):v.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(le){if(!n.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le||n.compare(this,le)===0},n.prototype.inspect=function(){var le="",oe=C.INSPECT_MAX_BYTES;return le=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(le+=" ... "),"<Buffer "+le+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(le,oe,de,Ce,_e){if(be(le,Uint8Array)&&(le=n.from(le,le.offset,le.byteLength)),!n.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(le));if(oe===void 0&&(oe=0),de===void 0&&(de=le?le.length:0),Ce===void 0&&(Ce=0),_e===void 0&&(_e=this.length),oe<0||de>le.length||Ce<0||_e>this.length)throw new RangeError("out of range index");if(Ce>=_e&&oe>=de)return 0;if(Ce>=_e)return-1;if(oe>=de)return 1;if(this===le)return 0;for(var Ae=(_e>>>=0)-(Ce>>>=0),Le=(de>>>=0)-(oe>>>=0),ze=Math.min(Ae,Le),Re=this.slice(Ce,_e),ve=le.slice(oe,de),ke=0;ke<ze;++ke)if(Re[ke]!==ve[ke]){Ae=Re[ke],Le=ve[ke];break}return Ae<Le?-1:Le<Ae?1:0},n.prototype.includes=function(le,oe,de){return this.indexOf(le,oe,de)!==-1},n.prototype.indexOf=function(le,oe,de){return y(this,le,oe,de,!0)},n.prototype.lastIndexOf=function(le,oe,de){return y(this,le,oe,de,!1)},n.prototype.write=function(le,oe,de,Ce){if(oe===void 0)Ce="utf8",de=this.length,oe=0;else if(de===void 0&&typeof oe=="string")Ce=oe,de=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(de)?(de>>>=0,Ce===void 0&&(Ce="utf8")):(Ce=de,de=void 0)}var _e=this.length-oe;if((de===void 0||de>_e)&&(de=_e),le.length>0&&(de<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var Ae=!1;;)switch(Ce){case"hex":return w(this,le,oe,de);case"utf8":case"utf-8":return d(this,le,oe,de);case"ascii":case"latin1":case"binary":return S(this,le,oe,de);case"base64":return A(this,le,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,le,oe,de);default:if(Ae)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Ae=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function D(le,oe,de){var Ce="";de=Math.min(le.length,de);for(var _e=oe;_e<de;++_e)Ce+=String.fromCharCode(127&le[_e]);return Ce}function V(le,oe,de){var Ce="";de=Math.min(le.length,de);for(var _e=oe;_e<de;++_e)Ce+=String.fromCharCode(le[_e]);return Ce}function z(le,oe,de){var Ce=le.length;(!oe||oe<0)&&(oe=0),(!de||de<0||de>Ce)&&(de=Ce);for(var _e="",Ae=oe;Ae<de;++Ae)_e+=Se[le[Ae]];return _e}function j(le,oe,de){for(var Ce=le.slice(oe,de),_e="",Ae=0;Ae<Ce.length-1;Ae+=2)_e+=String.fromCharCode(Ce[Ae]+256*Ce[Ae+1]);return _e}function X(le,oe,de){if(le%1!=0||le<0)throw new RangeError("offset is not uint");if(le+oe>de)throw new RangeError("Trying to access beyond buffer length")}function F(le,oe,de,Ce,_e,Ae){if(!n.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>_e||oe<Ae)throw new RangeError('"value" argument is out of bounds');if(de+Ce>le.length)throw new RangeError("Index out of range")}function H(le,oe,de,Ce,_e){re(oe,Ce,_e,le,de,7);var Ae=Number(oe&BigInt(4294967295));le[de++]=Ae,Ae>>=8,le[de++]=Ae,Ae>>=8,le[de++]=Ae,Ae>>=8,le[de++]=Ae;var Le=Number(oe>>BigInt(32)&BigInt(4294967295));return le[de++]=Le,Le>>=8,le[de++]=Le,Le>>=8,le[de++]=Le,Le>>=8,le[de++]=Le,de}function W(le,oe,de,Ce,_e){re(oe,Ce,_e,le,de,7);var Ae=Number(oe&BigInt(4294967295));le[de+7]=Ae,Ae>>=8,le[de+6]=Ae,Ae>>=8,le[de+5]=Ae,Ae>>=8,le[de+4]=Ae;var Le=Number(oe>>BigInt(32)&BigInt(4294967295));return le[de+3]=Le,Le>>=8,le[de+2]=Le,Le>>=8,le[de+1]=Le,Le>>=8,le[de]=Le,de+8}function ie(le,oe,de,Ce,_e,Ae){if(de+Ce>le.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function te(le,oe,de,Ce,_e){return oe=+oe,de>>>=0,_e||ie(le,0,de,4),s.write(le,oe,de,Ce,23,4),de+4}function Q(le,oe,de,Ce,_e){return oe=+oe,de>>>=0,_e||ie(le,0,de,8),s.write(le,oe,de,Ce,52,8),de+8}n.prototype.slice=function(le,oe){var de=this.length;(le=~~le)<0?(le+=de)<0&&(le=0):le>de&&(le=de),(oe=oe===void 0?de:~~oe)<0?(oe+=de)<0&&(oe=0):oe>de&&(oe=de),oe<le&&(oe=le);var Ce=this.subarray(le,oe);return Object.setPrototypeOf(Ce,n.prototype),Ce},n.prototype.readUintLE=n.prototype.readUIntLE=function(le,oe,de){le>>>=0,oe>>>=0,de||X(le,oe,this.length);for(var Ce=this[le],_e=1,Ae=0;++Ae<oe&&(_e*=256);)Ce+=this[le+Ae]*_e;return Ce},n.prototype.readUintBE=n.prototype.readUIntBE=function(le,oe,de){le>>>=0,oe>>>=0,de||X(le,oe,this.length);for(var Ce=this[le+--oe],_e=1;oe>0&&(_e*=256);)Ce+=this[le+--oe]*_e;return Ce},n.prototype.readUint8=n.prototype.readUInt8=function(le,oe){return le>>>=0,oe||X(le,1,this.length),this[le]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(le,oe){return le>>>=0,oe||X(le,2,this.length),this[le]|this[le+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(le,oe){return le>>>=0,oe||X(le,2,this.length),this[le]<<8|this[le+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+16777216*this[le+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),16777216*this[le]+(this[le+1]<<16|this[le+2]<<8|this[le+3])},n.prototype.readBigUInt64LE=Fe(function(le){se(le>>>=0,"offset");var oe=this[le],de=this[le+7];oe!==void 0&&de!==void 0||ue(le,this.length-8);var Ce=oe+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,24),_e=this[++le]+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+de*Math.pow(2,24);return BigInt(Ce)+(BigInt(_e)<<BigInt(32))}),n.prototype.readBigUInt64BE=Fe(function(le){se(le>>>=0,"offset");var oe=this[le],de=this[le+7];oe!==void 0&&de!==void 0||ue(le,this.length-8);var Ce=oe*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+this[++le],_e=this[++le]*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+de;return(BigInt(Ce)<<BigInt(32))+BigInt(_e)}),n.prototype.readIntLE=function(le,oe,de){le>>>=0,oe>>>=0,de||X(le,oe,this.length);for(var Ce=this[le],_e=1,Ae=0;++Ae<oe&&(_e*=256);)Ce+=this[le+Ae]*_e;return Ce>=(_e*=128)&&(Ce-=Math.pow(2,8*oe)),Ce},n.prototype.readIntBE=function(le,oe,de){le>>>=0,oe>>>=0,de||X(le,oe,this.length);for(var Ce=oe,_e=1,Ae=this[le+--Ce];Ce>0&&(_e*=256);)Ae+=this[le+--Ce]*_e;return Ae>=(_e*=128)&&(Ae-=Math.pow(2,8*oe)),Ae},n.prototype.readInt8=function(le,oe){return le>>>=0,oe||X(le,1,this.length),128&this[le]?-1*(255-this[le]+1):this[le]},n.prototype.readInt16LE=function(le,oe){le>>>=0,oe||X(le,2,this.length);var de=this[le]|this[le+1]<<8;return 32768&de?4294901760|de:de},n.prototype.readInt16BE=function(le,oe){le>>>=0,oe||X(le,2,this.length);var de=this[le+1]|this[le]<<8;return 32768&de?4294901760|de:de},n.prototype.readInt32LE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},n.prototype.readInt32BE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},n.prototype.readBigInt64LE=Fe(function(le){se(le>>>=0,"offset");var oe=this[le],de=this[le+7];oe!==void 0&&de!==void 0||ue(le,this.length-8);var Ce=this[le+4]+this[le+5]*Math.pow(2,8)+this[le+6]*Math.pow(2,16)+(de<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(oe+this[++le]*Math.pow(2,8)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,24))}),n.prototype.readBigInt64BE=Fe(function(le){se(le>>>=0,"offset");var oe=this[le],de=this[le+7];oe!==void 0&&de!==void 0||ue(le,this.length-8);var Ce=(oe<<24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+this[++le];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++le]*Math.pow(2,24)+this[++le]*Math.pow(2,16)+this[++le]*Math.pow(2,8)+de)}),n.prototype.readFloatLE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),s.read(this,le,!0,23,4)},n.prototype.readFloatBE=function(le,oe){return le>>>=0,oe||X(le,4,this.length),s.read(this,le,!1,23,4)},n.prototype.readDoubleLE=function(le,oe){return le>>>=0,oe||X(le,8,this.length),s.read(this,le,!0,52,8)},n.prototype.readDoubleBE=function(le,oe){return le>>>=0,oe||X(le,8,this.length),s.read(this,le,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(le,oe,de,Ce){le=+le,oe>>>=0,de>>>=0,Ce||F(this,le,oe,de,Math.pow(2,8*de)-1,0);var _e=1,Ae=0;for(this[oe]=255&le;++Ae<de&&(_e*=256);)this[oe+Ae]=le/_e&255;return oe+de},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(le,oe,de,Ce){le=+le,oe>>>=0,de>>>=0,Ce||F(this,le,oe,de,Math.pow(2,8*de)-1,0);var _e=de-1,Ae=1;for(this[oe+_e]=255&le;--_e>=0&&(Ae*=256);)this[oe+_e]=le/Ae&255;return oe+de},n.prototype.writeUint8=n.prototype.writeUInt8=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,1,255,0),this[oe]=255&le,oe+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,2,65535,0),this[oe]=255&le,this[oe+1]=le>>>8,oe+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,2,65535,0),this[oe]=le>>>8,this[oe+1]=255&le,oe+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,4,4294967295,0),this[oe+3]=le>>>24,this[oe+2]=le>>>16,this[oe+1]=le>>>8,this[oe]=255&le,oe+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,4,4294967295,0),this[oe]=le>>>24,this[oe+1]=le>>>16,this[oe+2]=le>>>8,this[oe+3]=255&le,oe+4},n.prototype.writeBigUInt64LE=Fe(function(le){return H(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Fe(function(le){return W(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(le,oe,de,Ce){if(le=+le,oe>>>=0,!Ce){var _e=Math.pow(2,8*de-1);F(this,le,oe,de,_e-1,-_e)}var Ae=0,Le=1,ze=0;for(this[oe]=255&le;++Ae<de&&(Le*=256);)le<0&&ze===0&&this[oe+Ae-1]!==0&&(ze=1),this[oe+Ae]=(le/Le>>0)-ze&255;return oe+de},n.prototype.writeIntBE=function(le,oe,de,Ce){if(le=+le,oe>>>=0,!Ce){var _e=Math.pow(2,8*de-1);F(this,le,oe,de,_e-1,-_e)}var Ae=de-1,Le=1,ze=0;for(this[oe+Ae]=255&le;--Ae>=0&&(Le*=256);)le<0&&ze===0&&this[oe+Ae+1]!==0&&(ze=1),this[oe+Ae]=(le/Le>>0)-ze&255;return oe+de},n.prototype.writeInt8=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,1,127,-128),le<0&&(le=255+le+1),this[oe]=255&le,oe+1},n.prototype.writeInt16LE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,2,32767,-32768),this[oe]=255&le,this[oe+1]=le>>>8,oe+2},n.prototype.writeInt16BE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,2,32767,-32768),this[oe]=le>>>8,this[oe+1]=255&le,oe+2},n.prototype.writeInt32LE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,4,2147483647,-2147483648),this[oe]=255&le,this[oe+1]=le>>>8,this[oe+2]=le>>>16,this[oe+3]=le>>>24,oe+4},n.prototype.writeInt32BE=function(le,oe,de){return le=+le,oe>>>=0,de||F(this,le,oe,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[oe]=le>>>24,this[oe+1]=le>>>16,this[oe+2]=le>>>8,this[oe+3]=255&le,oe+4},n.prototype.writeBigInt64LE=Fe(function(le){return H(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Fe(function(le){return W(this,le,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(le,oe,de){return te(this,le,oe,!0,de)},n.prototype.writeFloatBE=function(le,oe,de){return te(this,le,oe,!1,de)},n.prototype.writeDoubleLE=function(le,oe,de){return Q(this,le,oe,!0,de)},n.prototype.writeDoubleBE=function(le,oe,de){return Q(this,le,oe,!1,de)},n.prototype.copy=function(le,oe,de,Ce){if(!n.isBuffer(le))throw new TypeError("argument should be a Buffer");if(de||(de=0),Ce||Ce===0||(Ce=this.length),oe>=le.length&&(oe=le.length),oe||(oe=0),Ce>0&&Ce<de&&(Ce=de),Ce===de||le.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),le.length-oe<Ce-de&&(Ce=le.length-oe+de);var _e=Ce-de;return this===le&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,de,Ce):Uint8Array.prototype.set.call(le,this.subarray(de,Ce),oe),_e},n.prototype.fill=function(le,oe,de,Ce){if(typeof le=="string"){if(typeof oe=="string"?(Ce=oe,oe=0,de=this.length):typeof de=="string"&&(Ce=de,de=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!n.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(le.length===1){var _e=le.charCodeAt(0);(Ce==="utf8"&&_e<128||Ce==="latin1")&&(le=_e)}}else typeof le=="number"?le&=255:typeof le=="boolean"&&(le=Number(le));if(oe<0||this.length<oe||this.length<de)throw new RangeError("Out of range index");if(de<=oe)return this;var Ae;if(oe>>>=0,de=de===void 0?this.length:de>>>0,le||(le=0),typeof le=="number")for(Ae=oe;Ae<de;++Ae)this[Ae]=le;else{var Le=n.isBuffer(le)?le:n.from(le,Ce),ze=Le.length;if(ze===0)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(Ae=0;Ae<de-oe;++Ae)this[Ae+oe]=Le[Ae%ze]}return this};var ne={};function $(le,oe,de){ne[le]=function(Ce){function _e(){var ze;return function(Re,ve){if(!(Re instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,_e),ze=function(Re,ve,ke){return ve=k(ve),function(Ee,De){if(De&&(b(De)==="object"||typeof De=="function"))return De;if(De!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(Ee)}(Re,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(ve,[],k(Re).constructor):ve.apply(Re,ke))}(this,_e),Object.defineProperty(o(ze),"message",{value:oe.apply(o(ze),arguments),writable:!0,configurable:!0}),ze.name="".concat(ze.name," [").concat(le,"]"),ze.stack,delete ze.name,ze}var Ae,Le;return function(ze,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Re&&Re.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),Re&&_(ze,Re)}(_e,Ce),Ae=_e,(Le=[{key:"code",get:function(){return le},set:function(ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ze,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(le,"]: ").concat(this.message)}}])&&T(Ae.prototype,Le),Object.defineProperty(Ae,"prototype",{writable:!1}),_e}(de)}function J(le){for(var oe="",de=le.length,Ce=le[0]==="-"?1:0;de>=Ce+4;de-=3)oe="_".concat(le.slice(de-3,de)).concat(oe);return"".concat(le.slice(0,de)).concat(oe)}function re(le,oe,de,Ce,_e,Ae){if(le>de||le<oe){var Le,ze=typeof oe=="bigint"?"n":"";throw Le=oe===0||oe===BigInt(0)?">= 0".concat(ze," and < 2").concat(ze," ** ").concat(8*(Ae+1)).concat(ze):">= -(2".concat(ze," ** ").concat(8*(Ae+1)-1).concat(ze,") and < 2 ** ")+"".concat(8*(Ae+1)-1).concat(ze),new ne.ERR_OUT_OF_RANGE("value",Le,le)}(function(Re,ve,ke){se(ve,"offset"),Re[ve]!==void 0&&Re[ve+ke]!==void 0||ue(ve,Re.length-(ke+1))})(Ce,_e,Ae)}function se(le,oe){if(typeof le!="number")throw new ne.ERR_INVALID_ARG_TYPE(oe,"number",le)}function ue(le,oe,de){throw Math.floor(le)!==le?(se(le,de),new ne.ERR_OUT_OF_RANGE("offset","an integer",le)):oe<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(oe),le)}$("ERR_BUFFER_OUT_OF_BOUNDS",function(le){return le?"".concat(le," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(le,oe){return'The "'.concat(le,'" argument must be of type number. Received type ').concat(b(oe))},TypeError),$("ERR_OUT_OF_RANGE",function(le,oe,de){var Ce='The value of "'.concat(le,'" is out of range.'),_e=de;return Number.isInteger(de)&&Math.abs(de)>Math.pow(2,32)?_e=J(String(de)):typeof de=="bigint"&&(_e=String(de),(de>Math.pow(BigInt(2),BigInt(32))||de<-Math.pow(BigInt(2),BigInt(32)))&&(_e=J(_e)),_e+="n"),Ce+" It must be ".concat(oe,". Received ").concat(_e)},RangeError);var he=/[^+/0-9A-Za-z-_]/g;function pe(le,oe){var de;oe=oe||1/0;for(var Ce=le.length,_e=null,Ae=[],Le=0;Le<Ce;++Le){if((de=le.charCodeAt(Le))>55295&&de<57344){if(!_e){if(de>56319){(oe-=3)>-1&&Ae.push(239,191,189);continue}if(Le+1===Ce){(oe-=3)>-1&&Ae.push(239,191,189);continue}_e=de;continue}if(de<56320){(oe-=3)>-1&&Ae.push(239,191,189),_e=de;continue}de=65536+(_e-55296<<10|de-56320)}else _e&&(oe-=3)>-1&&Ae.push(239,191,189);if(_e=null,de<128){if((oe-=1)<0)break;Ae.push(de)}else if(de<2048){if((oe-=2)<0)break;Ae.push(de>>6|192,63&de|128)}else if(de<65536){if((oe-=3)<0)break;Ae.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;Ae.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Ae}function ge(le){return f.toByteArray(function(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(le))}function ye(le,oe,de,Ce){var _e;for(_e=0;_e<Ce&&!(_e+de>=oe.length||_e>=le.length);++_e)oe[_e+de]=le[_e];return _e}function be(le,oe){return le instanceof oe||le!=null&&le.constructor!=null&&le.constructor.name!=null&&le.constructor.name===oe.name}function Te(le){return le!=le}var Se=function(){for(var le="0123456789abcdef",oe=new Array(256),de=0;de<16;++de)for(var Ce=16*de,_e=0;_e<16;++_e)oe[Ce+_e]=le[de]+le[_e];return oe}();function Fe(le){return typeof BigInt>"u"?xe:le}function xe(){throw new Error("BigInt not supported")}},25928:function(U){U.exports=k,U.exports.isMobile=k,U.exports.default=k;var C=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,T=/android|ipad|playbook|silk/i;function k(o){o||(o={});var _=o.ua;if(_||typeof navigator>"u"||(_=navigator.userAgent),_&&_.headers&&typeof _.headers["user-agent"]=="string"&&(_=_.headers["user-agent"]),typeof _!="string")return!1;var b=C.test(_)&&!e.test(_)||!!o.tablet&&T.test(_);return!b&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&_.indexOf("Macintosh")!==-1&&_.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(U,C,e){e.r(C),e.d(C,{sankeyCenter:function(){return r},sankeyCircular:function(){return P},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var T=e(84706),k=e(34712),o=e(10132),_=e(6688),b=e.n(_);function f(ye){return ye.target.depth}function s(ye){return ye.depth}function t(ye,be){return be-1-ye.height}function i(ye,be){return ye.sourceLinks.length?ye.depth:be-1}function r(ye){return ye.targetLinks.length?ye.depth:ye.sourceLinks.length?(0,T.SY)(ye.sourceLinks,f)-1:0}function n(ye){return function(){return ye}}var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye};function l(ye,be){return h(ye.source,be.source)||ye.index-be.index}function u(ye,be){return h(ye.target,be.target)||ye.index-be.index}function h(ye,be){return ye.partOfCycle===be.partOfCycle?ye.y0-be.y0:ye.circularLinkType==="top"||be.circularLinkType==="bottom"?-1:1}function c(ye){return ye.value}function x(ye){return(ye.y0+ye.y1)/2}function p(ye){return x(ye.source)}function v(ye){return x(ye.target)}function g(ye){return ye.index}function y(ye){return ye.nodes}function m(ye){return ye.links}function w(ye,be){var Te=ye.get(be);if(!Te)throw new Error("missing: "+be);return Te}function d(ye,be){return be(ye)}var S=25,A=10,E=.3;function P(){var ye,be,Te=0,Se=0,Fe=1,xe=1,le=24,oe=g,de=i,Ce=y,_e=m,Ae=32,Le=2,ze=null;function Re(){var ke={nodes:Ce.apply(null,arguments),links:_e.apply(null,arguments)};(function(De){De.nodes.forEach(function(Ue,We){Ue.index=We,Ue.sourceLinks=[],Ue.targetLinks=[]});var Pe=(0,k.kH)(De.nodes,oe);De.links.forEach(function(Ue,We){Ue.index=We;var $e=Ue.source,ot=Ue.target;($e===void 0?"undefined":a($e))!=="object"&&($e=Ue.source=w(Pe,$e)),(ot===void 0?"undefined":a(ot))!=="object"&&(ot=Ue.target=w(Pe,ot)),$e.sourceLinks.push(Ue),ot.targetLinks.push(Ue)})})(ke),function(De,Pe,Ue){var We=0;if(Ue===null){for(var $e=[],ot=0;ot<De.links.length;ot++){var st=De.links[ot],mt=st.source.index,_t=st.target.index;$e[mt]||($e[mt]=[]),$e[_t]||($e[_t]=[]),$e[mt].indexOf(_t)===-1&&$e[mt].push(_t)}var yt=b()($e);yt.sort(function(Pt,Rt){return Pt.length-Rt.length});var it={};for(ot=0;ot<yt.length;ot++){var tt=yt[ot].slice(-2);it[tt[0]]||(it[tt[0]]={}),it[tt[0]][tt[1]]=!0}De.links.forEach(function(Pt){var Rt=Pt.target.index,Ft=Pt.source.index;Rt===Ft||it[Ft]&&it[Ft][Rt]?(Pt.circular=!0,Pt.circularLinkID=We,We+=1):Pt.circular=!1})}else De.links.forEach(function(Pt){Pt.source[Ue]<Pt.target[Ue]?Pt.circular=!1:(Pt.circular=!0,Pt.circularLinkID=We,We+=1)})}(ke,0,ze),function(De){De.nodes.forEach(function(Pe){Pe.partOfCycle=!1,Pe.value=Math.max((0,T.oh)(Pe.sourceLinks,c),(0,T.oh)(Pe.targetLinks,c)),Pe.sourceLinks.forEach(function(Ue){Ue.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ue.circularLinkType)}),Pe.targetLinks.forEach(function(Ue){Ue.circular&&(Pe.partOfCycle=!0,Pe.circularLinkType=Ue.circularLinkType)})})}(ke),function(De){var Pe,Ue,We;for(Pe=De.nodes,Ue=[],We=0;Pe.length;++We,Pe=Ue,Ue=[])Pe.forEach(function($e){$e.depth=We,$e.sourceLinks.forEach(function(ot){Ue.indexOf(ot.target)<0&&!ot.circular&&Ue.push(ot.target)})});for(Pe=De.nodes,Ue=[],We=0;Pe.length;++We,Pe=Ue,Ue=[])Pe.forEach(function($e){$e.height=We,$e.targetLinks.forEach(function(ot){Ue.indexOf(ot.source)<0&&!ot.circular&&Ue.push(ot.source)})});De.nodes.forEach(function($e){$e.column=Math.floor(de.call(null,$e,We))})}(ke),O(ke,oe),function(De,Pe,Ue){var We=(0,k.UJ)().key(function(_t){return _t.column}).sortKeys(T.XE).entries(De.nodes).map(function(_t){return _t.values});(function(_t){if(be){var yt=1/0;We.forEach(function(Rt){var Ft=xe*be/(Rt.length+1);yt=Ft<yt?Ft:yt}),ye=yt}var it=(0,T.SY)(We,function(Rt){return(xe-Se-(Rt.length-1)*ye)/(0,T.oh)(Rt,c)});it*=E,De.links.forEach(function(Rt){Rt.width=Rt.value*it});var tt=function(Rt){var Ft=0,Ot=0,Xe=0,Je=0,Ve=(0,T.kv)(Rt.nodes,function(Ke){return Ke.column});return Rt.links.forEach(function(Ke){Ke.circular&&(Ke.circularLinkType=="top"?Ft+=Ke.width:Ot+=Ke.width,Ke.target.column==0&&(Je+=Ke.width),Ke.source.column==Ve&&(Xe+=Ke.width))}),{top:Ft=Ft>0?Ft+S+A:Ft,bottom:Ot=Ot>0?Ot+S+A:Ot,left:Je=Je>0?Je+S+A:Je,right:Xe=Xe>0?Xe+S+A:Xe}}(De),Pt=function(Rt,Ft){var Ot=(0,T.kv)(Rt.nodes,function(ft){return ft.column}),Xe=Fe-Te,Je=xe-Se,Ve=Xe/(Xe+Ft.right+Ft.left),Ke=Je/(Je+Ft.top+Ft.bottom);return Te=Te*Ve+Ft.left,Fe=Ft.right==0?Fe:Fe*Ve,Se=Se*Ke+Ft.top,xe*=Ke,Rt.nodes.forEach(function(ft){ft.x0=Te+ft.column*((Fe-Te-le)/Ot),ft.x1=ft.x0+le}),Ke}(De,tt);it*=Pt,De.links.forEach(function(Rt){Rt.width=Rt.value*it}),We.forEach(function(Rt){var Ft=Rt.length;Rt.forEach(function(Ot,Xe){Ot.depth==We.length-1&&Ft==1||Ot.depth==0&&Ft==1?(Ot.y0=xe/2-Ot.value*it,Ot.y1=Ot.y0+Ot.value*it):Ot.partOfCycle?D(Ot,_t)==0?(Ot.y0=xe/2+Xe,Ot.y1=Ot.y0+Ot.value*it):Ot.circularLinkType=="top"?(Ot.y0=Se+Xe,Ot.y1=Ot.y0+Ot.value*it):(Ot.y0=xe-Ot.value*it-Xe,Ot.y1=Ot.y0+Ot.value*it):tt.top==0||tt.bottom==0?(Ot.y0=(xe-Se)/Ft*Xe,Ot.y1=Ot.y0+Ot.value*it):(Ot.y0=(xe-Se)/2-Ft/2+Xe,Ot.y1=Ot.y0+Ot.value*it)})})})(Ue),mt();for(var $e=1,ot=Pe;ot>0;--ot)st($e*=.99,Ue),mt();function st(_t,yt){var it=We.length;We.forEach(function(tt){var Pt=tt.length,Rt=tt[0].depth;tt.forEach(function(Ft){var Ot;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&D(Ft,yt)>0))if(Rt==0&&Pt==1)Ot=Ft.y1-Ft.y0,Ft.y0=xe/2-Ot/2,Ft.y1=xe/2+Ot/2;else if(Rt==it-1&&Pt==1)Ot=Ft.y1-Ft.y0,Ft.y0=xe/2-Ot/2,Ft.y1=xe/2+Ot/2;else{var Xe=(0,T.mo)(Ft.sourceLinks,v),Je=(0,T.mo)(Ft.targetLinks,p),Ve=((Xe&&Je?(Xe+Je)/2:Xe||Je)-x(Ft))*_t;Ft.y0+=Ve,Ft.y1+=Ve}})})}function mt(){We.forEach(function(_t){var yt,it,tt,Pt=Se,Rt=_t.length;for(_t.sort(h),tt=0;tt<Rt;++tt)(it=Pt-(yt=_t[tt]).y0)>0&&(yt.y0+=it,yt.y1+=it),Pt=yt.y1+ye;if((it=Pt-ye-xe)>0)for(Pt=yt.y0-=it,yt.y1-=it,tt=Rt-2;tt>=0;--tt)(it=(yt=_t[tt]).y1+ye-Pt)>0&&(yt.y0-=it,yt.y1-=it),Pt=yt.y0})}}(ke,Ae,oe),ve(ke);for(var Ee=0;Ee<4;Ee++)se(ke,xe,oe),ue(ke,0,oe),J(ke,Se,xe,oe),se(ke,xe,oe),ue(ke,0,oe);return function(De,Pe,Ue){var We=De.nodes,$e=De.links,ot=!1,st=!1;if($e.forEach(function(yt){yt.circularLinkType=="top"?ot=!0:yt.circularLinkType=="bottom"&&(st=!0)}),ot==0||st==0){var mt=(0,T.SY)(We,function(yt){return yt.y0}),_t=(Ue-Pe)/((0,T.kv)(We,function(yt){return yt.y1})-mt);We.forEach(function(yt){var it=(yt.y1-yt.y0)*_t;yt.y0=(yt.y0-mt)*_t,yt.y1=yt.y0+it}),$e.forEach(function(yt){yt.y0=(yt.y0-mt)*_t,yt.y1=(yt.y1-mt)*_t,yt.width=yt.width*_t})}}(ke,Se,xe),j(ke,Le,xe,oe),ke}function ve(ke){ke.nodes.forEach(function(Ee){Ee.sourceLinks.sort(u),Ee.targetLinks.sort(l)}),ke.nodes.forEach(function(Ee){var De=Ee.y0,Pe=De,Ue=Ee.y1,We=Ue;Ee.sourceLinks.forEach(function($e){$e.circular?($e.y0=Ue-$e.width/2,Ue-=$e.width):($e.y0=De+$e.width/2,De+=$e.width)}),Ee.targetLinks.forEach(function($e){$e.circular?($e.y1=We-$e.width/2,We-=$e.width):($e.y1=Pe+$e.width/2,Pe+=$e.width)})})}return Re.nodeId=function(ke){return arguments.length?(oe=typeof ke=="function"?ke:n(ke),Re):oe},Re.nodeAlign=function(ke){return arguments.length?(de=typeof ke=="function"?ke:n(ke),Re):de},Re.nodeWidth=function(ke){return arguments.length?(le=+ke,Re):le},Re.nodePadding=function(ke){return arguments.length?(ye=+ke,Re):ye},Re.nodes=function(ke){return arguments.length?(Ce=typeof ke=="function"?ke:n(ke),Re):Ce},Re.links=function(ke){return arguments.length?(_e=typeof ke=="function"?ke:n(ke),Re):_e},Re.size=function(ke){return arguments.length?(Te=Se=0,Fe=+ke[0],xe=+ke[1],Re):[Fe-Te,xe-Se]},Re.extent=function(ke){return arguments.length?(Te=+ke[0][0],Fe=+ke[1][0],Se=+ke[0][1],xe=+ke[1][1],Re):[[Te,Se],[Fe,xe]]},Re.iterations=function(ke){return arguments.length?(Ae=+ke,Re):Ae},Re.circularLinkGap=function(ke){return arguments.length?(Le=+ke,Re):Le},Re.nodePaddingRatio=function(ke){return arguments.length?(be=+ke,Re):be},Re.sortNodes=function(ke){return arguments.length?(ze=ke,Re):ze},Re.update=function(ke){return O(ke,oe),ve(ke),ke.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=Ee.y0+Ee.y1<xe?"top":"bottom",Ee.source.circularLinkType=Ee.circularLinkType,Ee.target.circularLinkType=Ee.circularLinkType)}),se(ke,xe,oe,!1),ue(ke,0,oe),j(ke,Le,xe,oe),ke},Re}function O(ye,be){var Te=0,Se=0;ye.links.forEach(function(Fe){Fe.circular&&(Fe.source.circularLinkType||Fe.target.circularLinkType?Fe.circularLinkType=Fe.source.circularLinkType?Fe.source.circularLinkType:Fe.target.circularLinkType:Fe.circularLinkType=Te<Se?"top":"bottom",Fe.circularLinkType=="top"?Te+=1:Se+=1,ye.nodes.forEach(function(xe){d(xe,be)!=d(Fe.source,be)&&d(xe,be)!=d(Fe.target,be)||(xe.circularLinkType=Fe.circularLinkType)}))}),ye.links.forEach(function(Fe){Fe.circular&&(Fe.source.circularLinkType==Fe.target.circularLinkType&&(Fe.circularLinkType=Fe.source.circularLinkType),ge(Fe,be)&&(Fe.circularLinkType=Fe.source.circularLinkType))})}function I(ye){var be=Math.abs(ye.y1-ye.y0),Te=Math.abs(ye.target.x0-ye.source.x1);return Math.atan(Te/be)}function D(ye,be){var Te=0;ye.sourceLinks.forEach(function(Fe){Te=Fe.circular&&!ge(Fe,be)?Te+1:Te});var Se=0;return ye.targetLinks.forEach(function(Fe){Se=Fe.circular&&!ge(Fe,be)?Se+1:Se}),Te+Se}function V(ye){var be=ye.source.sourceLinks,Te=0;be.forEach(function(xe){Te=xe.circular?Te+1:Te});var Se=ye.target.targetLinks,Fe=0;return Se.forEach(function(xe){Fe=xe.circular?Fe+1:Fe}),!(Te>1||Fe>1)}function z(ye,be,Te){return ye.sort(X),ye.forEach(function(Se,Fe){var xe,le,oe=0;if(ge(Se,Te)&&V(Se))Se.circularPathData.verticalBuffer=oe+Se.width/2;else{for(var de=0;de<Fe;de++)if(xe=ye[Fe],le=ye[de],!(xe.source.column<le.target.column||xe.target.column>le.source.column)){var Ce=ye[de].circularPathData.verticalBuffer+ye[de].width/2+be;oe=Ce>oe?Ce:oe}Se.circularPathData.verticalBuffer=oe+Se.width/2}}),ye}function j(ye,be,Te,Se){var Fe=(0,T.SY)(ye.links,function(xe){return xe.source.y0});ye.links.forEach(function(xe){xe.circular&&(xe.circularPathData={})}),z(ye.links.filter(function(xe){return xe.circularLinkType=="top"}),be,Se),z(ye.links.filter(function(xe){return xe.circularLinkType=="bottom"}),be,Se),ye.links.forEach(function(xe){if(xe.circular){if(xe.circularPathData.arcRadius=xe.width+A,xe.circularPathData.leftNodeBuffer=5,xe.circularPathData.rightNodeBuffer=5,xe.circularPathData.sourceWidth=xe.source.x1-xe.source.x0,xe.circularPathData.sourceX=xe.source.x0+xe.circularPathData.sourceWidth,xe.circularPathData.targetX=xe.target.x0,xe.circularPathData.sourceY=xe.y0,xe.circularPathData.targetY=xe.y1,ge(xe,Se)&&V(xe))xe.circularPathData.leftSmallArcRadius=A+xe.width/2,xe.circularPathData.leftLargeArcRadius=A+xe.width/2,xe.circularPathData.rightSmallArcRadius=A+xe.width/2,xe.circularPathData.rightLargeArcRadius=A+xe.width/2,xe.circularLinkType=="bottom"?(xe.circularPathData.verticalFullExtent=xe.source.y1+S+xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.rightLargeArcRadius):(xe.circularPathData.verticalFullExtent=xe.source.y0-S-xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.rightLargeArcRadius);else{var le=xe.source.column,oe=xe.circularLinkType,de=ye.links.filter(function(Ae){return Ae.source.column==le&&Ae.circularLinkType==oe});xe.circularLinkType=="bottom"?de.sort(H):de.sort(F);var Ce=0;de.forEach(function(Ae,Le){Ae.circularLinkID==xe.circularLinkID&&(xe.circularPathData.leftSmallArcRadius=A+xe.width/2+Ce,xe.circularPathData.leftLargeArcRadius=A+xe.width/2+Le*be+Ce),Ce+=Ae.width}),le=xe.target.column,de=ye.links.filter(function(Ae){return Ae.target.column==le&&Ae.circularLinkType==oe}),xe.circularLinkType=="bottom"?de.sort(ie):de.sort(W),Ce=0,de.forEach(function(Ae,Le){Ae.circularLinkID==xe.circularLinkID&&(xe.circularPathData.rightSmallArcRadius=A+xe.width/2+Ce,xe.circularPathData.rightLargeArcRadius=A+xe.width/2+Le*be+Ce),Ce+=Ae.width}),xe.circularLinkType=="bottom"?(xe.circularPathData.verticalFullExtent=Math.max(Te,xe.source.y1,xe.target.y1)+S+xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.rightLargeArcRadius):(xe.circularPathData.verticalFullExtent=Fe-S-xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.rightLargeArcRadius)}xe.circularPathData.leftInnerExtent=xe.circularPathData.sourceX+xe.circularPathData.leftNodeBuffer,xe.circularPathData.rightInnerExtent=xe.circularPathData.targetX-xe.circularPathData.rightNodeBuffer,xe.circularPathData.leftFullExtent=xe.circularPathData.sourceX+xe.circularPathData.leftLargeArcRadius+xe.circularPathData.leftNodeBuffer,xe.circularPathData.rightFullExtent=xe.circularPathData.targetX-xe.circularPathData.rightLargeArcRadius-xe.circularPathData.rightNodeBuffer}if(xe.circular)xe.path=function(Ae){return Ae.circularLinkType=="top"?"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY}(xe);else{var _e=(0,o.ak)().source(function(Ae){return[Ae.source.x0+(Ae.source.x1-Ae.source.x0),Ae.y0]}).target(function(Ae){return[Ae.target.x0,Ae.y1]});xe.path=_e(xe)}})}function X(ye,be){return te(ye)==te(be)?ye.circularLinkType=="bottom"?H(ye,be):F(ye,be):te(be)-te(ye)}function F(ye,be){return ye.y0-be.y0}function H(ye,be){return be.y0-ye.y0}function W(ye,be){return ye.y1-be.y1}function ie(ye,be){return be.y1-ye.y1}function te(ye){return ye.target.column-ye.source.column}function Q(ye){return ye.target.x0-ye.source.x1}function ne(ye,be){var Te=I(ye),Se=Q(be)/Math.tan(Te);return pe(ye)=="up"?ye.y1+Se:ye.y1-Se}function $(ye,be){var Te=I(ye),Se=Q(be)/Math.tan(Te);return pe(ye)=="up"?ye.y1-Se:ye.y1+Se}function J(ye,be,Te,Se){ye.links.forEach(function(Fe){if(!Fe.circular&&Fe.target.column-Fe.source.column>1){var xe=Fe.source.column+1,le=Fe.target.column-1,oe=1,de=le-xe+1;for(oe=1;xe<=le;xe++,oe++)ye.nodes.forEach(function(Ce){if(Ce.column==xe){var _e,Ae=oe/(de+1),Le=Math.pow(1-Ae,3),ze=3*Ae*Math.pow(1-Ae,2),Re=3*Math.pow(Ae,2)*(1-Ae),ve=Math.pow(Ae,3),ke=Le*Fe.y0+ze*Fe.y0+Re*Fe.y1+ve*Fe.y1,Ee=ke-Fe.width/2,De=ke+Fe.width/2;Ee>Ce.y0&&Ee<Ce.y1?(_e=Ce.y1-Ee+10,_e=Ce.circularLinkType=="bottom"?_e:-_e,Ce=re(Ce,_e,be,Te),ye.nodes.forEach(function(Pe){var Ue,We;d(Pe,Se)!=d(Ce,Se)&&Pe.column==Ce.column&&(We=Pe,(Ue=Ce).y0>We.y0&&Ue.y0<We.y1||Ue.y1>We.y0&&Ue.y1<We.y1||Ue.y0<We.y0&&Ue.y1>We.y1)&&re(Pe,_e,be,Te)})):(De>Ce.y0&&De<Ce.y1||Ee<Ce.y0&&De>Ce.y1)&&(_e=De-Ce.y0+10,Ce=re(Ce,_e,be,Te),ye.nodes.forEach(function(Pe){d(Pe,Se)!=d(Ce,Se)&&Pe.column==Ce.column&&Pe.y0<Ce.y1&&Pe.y1>Ce.y1&&re(Pe,_e,be,Te)}))}})}})}function re(ye,be,Te,Se){return ye.y0+be>=Te&&ye.y1+be<=Se&&(ye.y0=ye.y0+be,ye.y1=ye.y1+be,ye.targetLinks.forEach(function(Fe){Fe.y1=Fe.y1+be}),ye.sourceLinks.forEach(function(Fe){Fe.y0=Fe.y0+be})),ye}function se(ye,be,Te,Se){ye.nodes.forEach(function(Fe){Se&&Fe.y+(Fe.y1-Fe.y0)>be&&(Fe.y=Fe.y-(Fe.y+(Fe.y1-Fe.y0)-be));var xe=ye.links.filter(function(de){return d(de.source,Te)==d(Fe,Te)}),le=xe.length;le>1&&xe.sort(function(de,Ce){if(!de.circular&&!Ce.circular){if(de.target.column==Ce.target.column||!he(de,Ce))return de.y1-Ce.y1;if(de.target.column>Ce.target.column){var _e=$(Ce,de);return de.y1-_e}if(Ce.target.column>de.target.column)return $(de,Ce)-Ce.y1}return de.circular&&!Ce.circular?de.circularLinkType=="top"?-1:1:Ce.circular&&!de.circular?Ce.circularLinkType=="top"?1:-1:de.circular&&Ce.circular?de.circularLinkType===Ce.circularLinkType&&de.circularLinkType=="top"?de.target.column===Ce.target.column?de.target.y1-Ce.target.y1:Ce.target.column-de.target.column:de.circularLinkType===Ce.circularLinkType&&de.circularLinkType=="bottom"?de.target.column===Ce.target.column?Ce.target.y1-de.target.y1:de.target.column-Ce.target.column:de.circularLinkType=="top"?-1:1:void 0});var oe=Fe.y0;xe.forEach(function(de){de.y0=oe+de.width/2,oe+=de.width}),xe.forEach(function(de,Ce){if(de.circularLinkType=="bottom"){for(var _e=Ce+1,Ae=0;_e<le;_e++)Ae+=xe[_e].width;de.y0=Fe.y1-Ae-de.width/2}})})}function ue(ye,be,Te){ye.nodes.forEach(function(Se){var Fe=ye.links.filter(function(oe){return d(oe.target,Te)==d(Se,Te)}),xe=Fe.length;xe>1&&Fe.sort(function(oe,de){if(!oe.circular&&!de.circular){if(oe.source.column==de.source.column||!he(oe,de))return oe.y0-de.y0;if(de.source.column<oe.source.column){var Ce=ne(de,oe);return oe.y0-Ce}if(oe.source.column<de.source.column)return ne(oe,de)-de.y0}return oe.circular&&!de.circular?oe.circularLinkType=="top"?-1:1:de.circular&&!oe.circular?de.circularLinkType=="top"?1:-1:oe.circular&&de.circular?oe.circularLinkType===de.circularLinkType&&oe.circularLinkType=="top"?oe.source.column===de.source.column?oe.source.y1-de.source.y1:oe.source.column-de.source.column:oe.circularLinkType===de.circularLinkType&&oe.circularLinkType=="bottom"?oe.source.column===de.source.column?oe.source.y1-de.source.y1:de.source.column-oe.source.column:oe.circularLinkType=="top"?-1:1:void 0});var le=Se.y0;Fe.forEach(function(oe){oe.y1=le+oe.width/2,le+=oe.width}),Fe.forEach(function(oe,de){if(oe.circularLinkType=="bottom"){for(var Ce=de+1,_e=0;Ce<xe;Ce++)_e+=Fe[Ce].width;oe.y1=Se.y1-_e-oe.width/2}})})}function he(ye,be){return pe(ye)==pe(be)}function pe(ye){return ye.y0-ye.y1>0?"up":"down"}function ge(ye,be){return d(ye.source,be)==d(ye.target,be)}},26800:function(U,C,e){e.r(C),e.d(C,{sankey:function(){return g},sankeyCenter:function(){return s},sankeyJustify:function(){return f},sankeyLeft:function(){return _},sankeyLinkHorizontal:function(){return d},sankeyRight:function(){return b}});var T=e(84706),k=e(34712);function o(S){return S.target.depth}function _(S){return S.depth}function b(S,A){return A-1-S.height}function f(S,A){return S.sourceLinks.length?S.depth:A-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,T.SY)(S.sourceLinks,o)-1:0}function t(S){return function(){return S}}function i(S,A){return n(S.source,A.source)||S.index-A.index}function r(S,A){return n(S.target,A.target)||S.index-A.index}function n(S,A){return S.y0-A.y0}function a(S){return S.value}function l(S){return(S.y0+S.y1)/2}function u(S){return l(S.source)*S.value}function h(S){return l(S.target)*S.value}function c(S){return S.index}function x(S){return S.nodes}function p(S){return S.links}function v(S,A){var E=S.get(A);if(!E)throw new Error("missing: "+A);return E}function g(){var S=0,A=0,E=1,P=1,O=24,I=8,D=c,V=f,z=x,j=p,X=32;function F(){var W={nodes:z.apply(null,arguments),links:j.apply(null,arguments)};return function(ie){ie.nodes.forEach(function(Q,ne){Q.index=ne,Q.sourceLinks=[],Q.targetLinks=[]});var te=(0,k.kH)(ie.nodes,D);ie.links.forEach(function(Q,ne){Q.index=ne;var $=Q.source,J=Q.target;typeof $!="object"&&($=Q.source=v(te,$)),typeof J!="object"&&(J=Q.target=v(te,J)),$.sourceLinks.push(Q),J.targetLinks.push(Q)})}(W),function(ie){ie.nodes.forEach(function(te){te.value=Math.max((0,T.oh)(te.sourceLinks,a),(0,T.oh)(te.targetLinks,a))})}(W),function(ie){var te,Q,ne;for(te=ie.nodes,Q=[],ne=0;te.length;++ne,te=Q,Q=[])te.forEach(function(J){J.depth=ne,J.sourceLinks.forEach(function(re){Q.indexOf(re.target)<0&&Q.push(re.target)})});for(te=ie.nodes,Q=[],ne=0;te.length;++ne,te=Q,Q=[])te.forEach(function(J){J.height=ne,J.targetLinks.forEach(function(re){Q.indexOf(re.source)<0&&Q.push(re.source)})});var $=(E-S-O)/(ne-1);ie.nodes.forEach(function(J){J.x1=(J.x0=S+Math.max(0,Math.min(ne-1,Math.floor(V.call(null,J,ne))))*$)+O})}(W),function(ie){var te=(0,k.UJ)().key(function(se){return se.x0}).sortKeys(T.XE).entries(ie.nodes).map(function(se){return se.values});(function(){var se=(0,T.kv)(te,function(pe){return pe.length}),ue=.6666666666666666*(P-A)/(se-1);I>ue&&(I=ue);var he=(0,T.SY)(te,function(pe){return(P-A-(pe.length-1)*I)/(0,T.oh)(pe,a)});te.forEach(function(pe){pe.forEach(function(ge,ye){ge.y1=(ge.y0=ye)+ge.value*he})}),ie.links.forEach(function(pe){pe.width=pe.value*he})})(),re();for(var Q=1,ne=X;ne>0;--ne)J(Q*=.99),re(),$(Q),re();function $(se){te.forEach(function(ue){ue.forEach(function(he){if(he.targetLinks.length){var pe=((0,T.oh)(he.targetLinks,u)/(0,T.oh)(he.targetLinks,a)-l(he))*se;he.y0+=pe,he.y1+=pe}})})}function J(se){te.slice().reverse().forEach(function(ue){ue.forEach(function(he){if(he.sourceLinks.length){var pe=((0,T.oh)(he.sourceLinks,h)/(0,T.oh)(he.sourceLinks,a)-l(he))*se;he.y0+=pe,he.y1+=pe}})})}function re(){te.forEach(function(se){var ue,he,pe,ge=A,ye=se.length;for(se.sort(n),pe=0;pe<ye;++pe)(he=ge-(ue=se[pe]).y0)>0&&(ue.y0+=he,ue.y1+=he),ge=ue.y1+I;if((he=ge-I-P)>0)for(ge=ue.y0-=he,ue.y1-=he,pe=ye-2;pe>=0;--pe)(he=(ue=se[pe]).y1+I-ge)>0&&(ue.y0-=he,ue.y1-=he),ge=ue.y0})}}(W),H(W),W}function H(W){W.nodes.forEach(function(ie){ie.sourceLinks.sort(r),ie.targetLinks.sort(i)}),W.nodes.forEach(function(ie){var te=ie.y0,Q=te;ie.sourceLinks.forEach(function(ne){ne.y0=te+ne.width/2,te+=ne.width}),ie.targetLinks.forEach(function(ne){ne.y1=Q+ne.width/2,Q+=ne.width})})}return F.update=function(W){return H(W),W},F.nodeId=function(W){return arguments.length?(D=typeof W=="function"?W:t(W),F):D},F.nodeAlign=function(W){return arguments.length?(V=typeof W=="function"?W:t(W),F):V},F.nodeWidth=function(W){return arguments.length?(O=+W,F):O},F.nodePadding=function(W){return arguments.length?(I=+W,F):I},F.nodes=function(W){return arguments.length?(z=typeof W=="function"?W:t(W),F):z},F.links=function(W){return arguments.length?(j=typeof W=="function"?W:t(W),F):j},F.size=function(W){return arguments.length?(S=A=0,E=+W[0],P=+W[1],F):[E-S,P-A]},F.extent=function(W){return arguments.length?(S=+W[0][0],E=+W[1][0],A=+W[0][1],P=+W[1][1],F):[[S,A],[E,P]]},F.iterations=function(W){return arguments.length?(X=+W,F):X},F}var y=e(10132);function m(S){return[S.source.x1,S.y0]}function w(S){return[S.target.x0,S.y1]}function d(){return(0,y.ak)().source(m).target(w)}},33428:function(U,C,e){var T,k;(function(){var o={version:"3.8.2"},_=[].slice,b=function(L){return _.call(L)},f=self.document;function s(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(f)try{b(f.documentElement.childNodes)[0].nodeType}catch{b=function(q){for(var ee=q.length,ae=new Array(ee);ee--;)ae[ee]=q[ee];return ae}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,r=i.setAttribute,n=i.setAttributeNS,a=this.CSSStyleDeclaration.prototype,l=a.setProperty;i.setAttribute=function(q,ee){r.call(this,q,ee+"")},i.setAttributeNS=function(q,ee,ae){n.call(this,q,ee,ae+"")},a.setProperty=function(q,ee,ae){l.call(this,q,ee+"",ae)}}function u(L,q){return L<q?-1:L>q?1:L>=q?0:NaN}function h(L){return L===null?NaN:+L}function c(L){return!isNaN(L)}function x(L){return{left:function(q,ee,ae,fe){for(arguments.length<3&&(ae=0),arguments.length<4&&(fe=q.length);ae<fe;){var we=ae+fe>>>1;L(q[we],ee)<0?ae=we+1:fe=we}return ae},right:function(q,ee,ae,fe){for(arguments.length<3&&(ae=0),arguments.length<4&&(fe=q.length);ae<fe;){var we=ae+fe>>>1;L(q[we],ee)>0?fe=we:ae=we+1}return ae}}}o.ascending=u,o.descending=function(L,q){return q<L?-1:q>L?1:q>=L?0:NaN},o.min=function(L,q){var ee,ae,fe=-1,we=L.length;if(arguments.length===1){for(;++fe<we;)if((ae=L[fe])!=null&&ae>=ae){ee=ae;break}for(;++fe<we;)(ae=L[fe])!=null&&ee>ae&&(ee=ae)}else{for(;++fe<we;)if((ae=q.call(L,L[fe],fe))!=null&&ae>=ae){ee=ae;break}for(;++fe<we;)(ae=q.call(L,L[fe],fe))!=null&&ee>ae&&(ee=ae)}return ee},o.max=function(L,q){var ee,ae,fe=-1,we=L.length;if(arguments.length===1){for(;++fe<we;)if((ae=L[fe])!=null&&ae>=ae){ee=ae;break}for(;++fe<we;)(ae=L[fe])!=null&&ae>ee&&(ee=ae)}else{for(;++fe<we;)if((ae=q.call(L,L[fe],fe))!=null&&ae>=ae){ee=ae;break}for(;++fe<we;)(ae=q.call(L,L[fe],fe))!=null&&ae>ee&&(ee=ae)}return ee},o.extent=function(L,q){var ee,ae,fe,we=-1,Oe=L.length;if(arguments.length===1){for(;++we<Oe;)if((ae=L[we])!=null&&ae>=ae){ee=fe=ae;break}for(;++we<Oe;)(ae=L[we])!=null&&(ee>ae&&(ee=ae),fe<ae&&(fe=ae))}else{for(;++we<Oe;)if((ae=q.call(L,L[we],we))!=null&&ae>=ae){ee=fe=ae;break}for(;++we<Oe;)(ae=q.call(L,L[we],we))!=null&&(ee>ae&&(ee=ae),fe<ae&&(fe=ae))}return[ee,fe]},o.sum=function(L,q){var ee,ae=0,fe=L.length,we=-1;if(arguments.length===1)for(;++we<fe;)c(ee=+L[we])&&(ae+=ee);else for(;++we<fe;)c(ee=+q.call(L,L[we],we))&&(ae+=ee);return ae},o.mean=function(L,q){var ee,ae=0,fe=L.length,we=-1,Oe=fe;if(arguments.length===1)for(;++we<fe;)c(ee=h(L[we]))?ae+=ee:--Oe;else for(;++we<fe;)c(ee=h(q.call(L,L[we],we)))?ae+=ee:--Oe;if(Oe)return ae/Oe},o.quantile=function(L,q){var ee=(L.length-1)*q+1,ae=Math.floor(ee),fe=+L[ae-1],we=ee-ae;return we?fe+we*(L[ae]-fe):fe},o.median=function(L,q){var ee,ae=[],fe=L.length,we=-1;if(arguments.length===1)for(;++we<fe;)c(ee=h(L[we]))&&ae.push(ee);else for(;++we<fe;)c(ee=h(q.call(L,L[we],we)))&&ae.push(ee);if(ae.length)return o.quantile(ae.sort(u),.5)},o.variance=function(L,q){var ee,ae,fe=L.length,we=0,Oe=0,Be=-1,Ge=0;if(arguments.length===1)for(;++Be<fe;)c(ee=h(L[Be]))&&(Oe+=(ae=ee-we)*(ee-(we+=ae/++Ge)));else for(;++Be<fe;)c(ee=h(q.call(L,L[Be],Be)))&&(Oe+=(ae=ee-we)*(ee-(we+=ae/++Ge)));if(Ge>1)return Oe/(Ge-1)},o.deviation=function(){var L=o.variance.apply(this,arguments);return L&&Math.sqrt(L)};var p=x(u);function v(L){return L.length}o.bisectLeft=p.left,o.bisect=o.bisectRight=p.right,o.bisector=function(L){return x(L.length===1?function(q,ee){return u(L(q),ee)}:L)},o.shuffle=function(L,q,ee){(we=arguments.length)<3&&(ee=L.length,we<2&&(q=0));for(var ae,fe,we=ee-q;we;)fe=Math.random()*we--|0,ae=L[we+q],L[we+q]=L[fe+q],L[fe+q]=ae;return L},o.permute=function(L,q){for(var ee=q.length,ae=new Array(ee);ee--;)ae[ee]=L[q[ee]];return ae},o.pairs=function(L){for(var q=0,ee=L.length-1,ae=L[0],fe=new Array(ee<0?0:ee);q<ee;)fe[q]=[ae,ae=L[++q]];return fe},o.transpose=function(L){if(!(fe=L.length))return[];for(var q=-1,ee=o.min(L,v),ae=new Array(ee);++q<ee;)for(var fe,we=-1,Oe=ae[q]=new Array(fe);++we<fe;)Oe[we]=L[we][q];return ae},o.zip=function(){return o.transpose(arguments)},o.keys=function(L){var q=[];for(var ee in L)q.push(ee);return q},o.values=function(L){var q=[];for(var ee in L)q.push(L[ee]);return q},o.entries=function(L){var q=[];for(var ee in L)q.push({key:ee,value:L[ee]});return q},o.merge=function(L){for(var q,ee,ae,fe=L.length,we=-1,Oe=0;++we<fe;)Oe+=L[we].length;for(ee=new Array(Oe);--fe>=0;)for(q=(ae=L[fe]).length;--q>=0;)ee[--Oe]=ae[q];return ee};var g=Math.abs;function y(L,q){for(var ee in q)Object.defineProperty(L.prototype,ee,{value:q[ee],enumerable:!1})}function m(){this._=Object.create(null)}o.range=function(L,q,ee){if(arguments.length<3&&(ee=1,arguments.length<2&&(q=L,L=0)),(q-L)/ee==1/0)throw new Error("infinite range");var ae,fe=[],we=function(Be){for(var Ge=1;Be*Ge%1;)Ge*=10;return Ge}(g(ee)),Oe=-1;if(L*=we,q*=we,(ee*=we)<0)for(;(ae=L+ee*++Oe)>q;)fe.push(ae/we);else for(;(ae=L+ee*++Oe)<q;)fe.push(ae/we);return fe},o.map=function(L,q){var ee=new m;if(L instanceof m)L.forEach(function(Be,Ge){ee.set(Be,Ge)});else if(Array.isArray(L)){var ae,fe=-1,we=L.length;if(arguments.length===1)for(;++fe<we;)ee.set(fe,L[fe]);else for(;++fe<we;)ee.set(q.call(L,ae=L[fe],fe),ae)}else for(var Oe in L)ee.set(Oe,L[Oe]);return ee};var w="__proto__",d="\0";function S(L){return(L+="")===w||L[0]===d?d+L:L}function A(L){return(L+="")[0]===d?L.slice(1):L}function E(L){return S(L)in this._}function P(L){return(L=S(L))in this._&&delete this._[L]}function O(){var L=[];for(var q in this._)L.push(A(q));return L}function I(){var L=0;for(var q in this._)++L;return L}function D(){for(var L in this._)return!1;return!0}function V(){this._=Object.create(null)}function z(L){return L}function j(L,q,ee){return function(){var ae=ee.apply(q,arguments);return ae===q?L:ae}}function X(L,q){if(q in L)return q;q=q.charAt(0).toUpperCase()+q.slice(1);for(var ee=0,ae=F.length;ee<ae;++ee){var fe=F[ee]+q;if(fe in L)return fe}}y(m,{has:E,get:function(L){return this._[S(L)]},set:function(L,q){return this._[S(L)]=q},remove:P,keys:O,values:function(){var L=[];for(var q in this._)L.push(this._[q]);return L},entries:function(){var L=[];for(var q in this._)L.push({key:A(q),value:this._[q]});return L},size:I,empty:D,forEach:function(L){for(var q in this._)L.call(this,A(q),this._[q])}}),o.nest=function(){var L,q,ee={},ae=[],fe=[];function we(Be,Ge,Ye){if(Ye>=ae.length)return q?q.call(ee,Ge):L?Ge.sort(L):Ge;for(var rt,pt,vt,St,It=-1,Ct=Ge.length,jt=ae[Ye++],zt=new m;++It<Ct;)(St=zt.get(rt=jt(pt=Ge[It])))?St.push(pt):zt.set(rt,[pt]);return Be?(pt=Be(),vt=function(Jt,Zt){pt.set(Jt,we(Be,Zt,Ye))}):(pt={},vt=function(Jt,Zt){pt[Jt]=we(Be,Zt,Ye)}),zt.forEach(vt),pt}function Oe(Be,Ge){if(Ge>=ae.length)return Be;var Ye=[],rt=fe[Ge++];return Be.forEach(function(pt,vt){Ye.push({key:pt,values:Oe(vt,Ge)})}),rt?Ye.sort(function(pt,vt){return rt(pt.key,vt.key)}):Ye}return ee.map=function(Be,Ge){return we(Ge,Be,0)},ee.entries=function(Be){return Oe(we(o.map,Be,0),0)},ee.key=function(Be){return ae.push(Be),ee},ee.sortKeys=function(Be){return fe[ae.length-1]=Be,ee},ee.sortValues=function(Be){return L=Be,ee},ee.rollup=function(Be){return q=Be,ee},ee},o.set=function(L){var q=new V;if(L)for(var ee=0,ae=L.length;ee<ae;++ee)q.add(L[ee]);return q},y(V,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:P,values:O,size:I,empty:D,forEach:function(L){for(var q in this._)L.call(this,A(q))}}),o.behavior={},o.rebind=function(L,q){for(var ee,ae=1,fe=arguments.length;++ae<fe;)L[ee=arguments[ae]]=j(L,q,q[ee]);return L};var F=["webkit","ms","moz","Moz","o","O"];function H(){}function W(){}function ie(L){var q=[],ee=new m;function ae(){for(var fe,we=q,Oe=-1,Be=we.length;++Oe<Be;)(fe=we[Oe].on)&&fe.apply(this,arguments);return L}return ae.on=function(fe,we){var Oe,Be=ee.get(fe);return arguments.length<2?Be&&Be.on:(Be&&(Be.on=null,q=q.slice(0,Oe=q.indexOf(Be)).concat(q.slice(Oe+1)),ee.remove(fe)),we&&q.push(ee.set(fe,{on:we})),L)},ae}function te(){o.event.preventDefault()}function Q(){for(var L,q=o.event;L=q.sourceEvent;)q=L;return q}function ne(L){for(var q=new W,ee=0,ae=arguments.length;++ee<ae;)q[arguments[ee]]=ie(q);return q.of=function(fe,we){return function(Oe){try{var Be=Oe.sourceEvent=o.event;Oe.target=L,o.event=Oe,q[Oe.type].apply(fe,we)}finally{o.event=Be}}},q}o.dispatch=function(){for(var L=new W,q=-1,ee=arguments.length;++q<ee;)L[arguments[q]]=ie(L);return L},W.prototype.on=function(L,q){var ee=L.indexOf("."),ae="";if(ee>=0&&(ae=L.slice(ee+1),L=L.slice(0,ee)),L)return arguments.length<2?this[L].on(ae):this[L].on(ae,q);if(arguments.length===2){if(q==null)for(L in this)this.hasOwnProperty(L)&&this[L].on(ae,null);return this}},o.event=null,o.requote=function(L){return L.replace($,"\\$&")};var $=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,J={}.__proto__?function(L,q){L.__proto__=q}:function(L,q){for(var ee in q)L[ee]=q[ee]};function re(L){return J(L,pe),L}var se=function(L,q){return q.querySelector(L)},ue=function(L,q){return q.querySelectorAll(L)},he=function(L,q){var ee=L.matches||L[X(L,"matchesSelector")];return he=function(ae,fe){return ee.call(ae,fe)},he(L,q)};typeof Sizzle=="function"&&(se=function(L,q){return Sizzle(L,q)[0]||null},ue=Sizzle,he=Sizzle.matchesSelector),o.selection=function(){return o.select(f.documentElement)};var pe=o.selection.prototype=[];function ge(L){return typeof L=="function"?L:function(){return se(L,this)}}function ye(L){return typeof L=="function"?L:function(){return ue(L,this)}}pe.select=function(L){var q,ee,ae,fe,we=[];L=ge(L);for(var Oe=-1,Be=this.length;++Oe<Be;){we.push(q=[]),q.parentNode=(ae=this[Oe]).parentNode;for(var Ge=-1,Ye=ae.length;++Ge<Ye;)(fe=ae[Ge])?(q.push(ee=L.call(fe,fe.__data__,Ge,Oe)),ee&&"__data__"in fe&&(ee.__data__=fe.__data__)):q.push(null)}return re(we)},pe.selectAll=function(L){var q,ee,ae=[];L=ye(L);for(var fe=-1,we=this.length;++fe<we;)for(var Oe=this[fe],Be=-1,Ge=Oe.length;++Be<Ge;)(ee=Oe[Be])&&(ae.push(q=b(L.call(ee,ee.__data__,Be,fe))),q.parentNode=ee);return re(ae)};var be="http://www.w3.org/1999/xhtml",Te={svg:"http://www.w3.org/2000/svg",xhtml:be,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Se(L,q){return L=o.ns.qualify(L),q==null?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:typeof q=="function"?L.local?function(){var ee=q.apply(this,arguments);ee==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,ee)}:function(){var ee=q.apply(this,arguments);ee==null?this.removeAttribute(L):this.setAttribute(L,ee)}:L.local?function(){this.setAttributeNS(L.space,L.local,q)}:function(){this.setAttribute(L,q)}}function Fe(L){return L.trim().replace(/\s+/g," ")}function xe(L){return new RegExp("(?:^|\\s+)"+o.requote(L)+"(?:\\s+|$)","g")}function le(L){return(L+"").trim().split(/^|\s+/)}function oe(L,q){var ee=(L=le(L).map(de)).length;return typeof q=="function"?function(){for(var ae=-1,fe=q.apply(this,arguments);++ae<ee;)L[ae](this,fe)}:function(){for(var ae=-1;++ae<ee;)L[ae](this,q)}}function de(L){var q=xe(L);return function(ee,ae){if(fe=ee.classList)return ae?fe.add(L):fe.remove(L);var fe=ee.getAttribute("class")||"";ae?(q.lastIndex=0,q.test(fe)||ee.setAttribute("class",Fe(fe+" "+L))):ee.setAttribute("class",Fe(fe.replace(q," ")))}}function Ce(L,q,ee){return q==null?function(){this.style.removeProperty(L)}:typeof q=="function"?function(){var ae=q.apply(this,arguments);ae==null?this.style.removeProperty(L):this.style.setProperty(L,ae,ee)}:function(){this.style.setProperty(L,q,ee)}}function _e(L,q){return q==null?function(){delete this[L]}:typeof q=="function"?function(){var ee=q.apply(this,arguments);ee==null?delete this[L]:this[L]=ee}:function(){this[L]=q}}function Ae(L){return typeof L=="function"?L:(L=o.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var q=this.ownerDocument,ee=this.namespaceURI;return ee===be&&q.documentElement.namespaceURI===be?q.createElement(L):q.createElementNS(ee,L)}}function Le(){var L=this.parentNode;L&&L.removeChild(this)}function ze(L){return{__data__:L}}function Re(L){return function(){return he(this,L)}}function ve(L){return arguments.length||(L=u),function(q,ee){return q&&ee?L(q.__data__,ee.__data__):!q-!ee}}function ke(L,q){for(var ee=0,ae=L.length;ee<ae;ee++)for(var fe,we=L[ee],Oe=0,Be=we.length;Oe<Be;Oe++)(fe=we[Oe])&&q(fe,Oe,ee);return L}function Ee(L){return J(L,De),L}o.ns={prefix:Te,qualify:function(L){var q=L.indexOf(":"),ee=L;return q>=0&&(ee=L.slice(0,q))!=="xmlns"&&(L=L.slice(q+1)),Te.hasOwnProperty(ee)?{space:Te[ee],local:L}:L}},pe.attr=function(L,q){if(arguments.length<2){if(typeof L=="string"){var ee=this.node();return(L=o.ns.qualify(L)).local?ee.getAttributeNS(L.space,L.local):ee.getAttribute(L)}for(q in L)this.each(Se(q,L[q]));return this}return this.each(Se(L,q))},pe.classed=function(L,q){if(arguments.length<2){if(typeof L=="string"){var ee=this.node(),ae=(L=le(L)).length,fe=-1;if(q=ee.classList){for(;++fe<ae;)if(!q.contains(L[fe]))return!1}else for(q=ee.getAttribute("class");++fe<ae;)if(!xe(L[fe]).test(q))return!1;return!0}for(q in L)this.each(oe(q,L[q]));return this}return this.each(oe(L,q))},pe.style=function(L,q,ee){var ae=arguments.length;if(ae<3){if(typeof L!="string"){for(ee in ae<2&&(q=""),L)this.each(Ce(ee,L[ee],q));return this}if(ae<2){var fe=this.node();return t(fe).getComputedStyle(fe,null).getPropertyValue(L)}ee=""}return this.each(Ce(L,q,ee))},pe.property=function(L,q){if(arguments.length<2){if(typeof L=="string")return this.node()[L];for(q in L)this.each(_e(q,L[q]));return this}return this.each(_e(L,q))},pe.text=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.textContent=q??""}:L==null?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},pe.html=function(L){return arguments.length?this.each(typeof L=="function"?function(){var q=L.apply(this,arguments);this.innerHTML=q??""}:L==null?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},pe.append=function(L){return L=Ae(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},pe.insert=function(L,q){return L=Ae(L),q=ge(q),this.select(function(){return this.insertBefore(L.apply(this,arguments),q.apply(this,arguments)||null)})},pe.remove=function(){return this.each(Le)},pe.data=function(L,q){var ee,ae,fe=-1,we=this.length;if(!arguments.length){for(L=new Array(we=(ee=this[0]).length);++fe<we;)(ae=ee[fe])&&(L[fe]=ae.__data__);return L}function Oe(rt,pt){var vt,St,It,Ct=rt.length,jt=pt.length,zt=Math.min(Ct,jt),Jt=new Array(jt),Zt=new Array(jt),Gt=new Array(Ct);if(q){var mn,_n=new m,Cn=new Array(Ct);for(vt=-1;++vt<Ct;)(St=rt[vt])&&(_n.has(mn=q.call(St,St.__data__,vt))?Gt[vt]=St:_n.set(mn,St),Cn[vt]=mn);for(vt=-1;++vt<jt;)(St=_n.get(mn=q.call(pt,It=pt[vt],vt)))?St!==!0&&(Jt[vt]=St,St.__data__=It):Zt[vt]=ze(It),_n.set(mn,!0);for(vt=-1;++vt<Ct;)vt in Cn&&_n.get(Cn[vt])!==!0&&(Gt[vt]=rt[vt])}else{for(vt=-1;++vt<zt;)St=rt[vt],It=pt[vt],St?(St.__data__=It,Jt[vt]=St):Zt[vt]=ze(It);for(;vt<jt;++vt)Zt[vt]=ze(pt[vt]);for(;vt<Ct;++vt)Gt[vt]=rt[vt]}Zt.update=Jt,Zt.parentNode=Jt.parentNode=Gt.parentNode=rt.parentNode,Be.push(Zt),Ge.push(Jt),Ye.push(Gt)}var Be=Ee([]),Ge=re([]),Ye=re([]);if(typeof L=="function")for(;++fe<we;)Oe(ee=this[fe],L.call(ee,ee.parentNode.__data__,fe));else for(;++fe<we;)Oe(ee=this[fe],L);return Ge.enter=function(){return Be},Ge.exit=function(){return Ye},Ge},pe.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},pe.filter=function(L){var q,ee,ae,fe=[];typeof L!="function"&&(L=Re(L));for(var we=0,Oe=this.length;we<Oe;we++){fe.push(q=[]),q.parentNode=(ee=this[we]).parentNode;for(var Be=0,Ge=ee.length;Be<Ge;Be++)(ae=ee[Be])&&L.call(ae,ae.__data__,Be,we)&&q.push(ae)}return re(fe)},pe.order=function(){for(var L=-1,q=this.length;++L<q;)for(var ee,ae=this[L],fe=ae.length-1,we=ae[fe];--fe>=0;)(ee=ae[fe])&&(we&&we!==ee.nextSibling&&we.parentNode.insertBefore(ee,we),we=ee);return this},pe.sort=function(L){L=ve.apply(this,arguments);for(var q=-1,ee=this.length;++q<ee;)this[q].sort(L);return this.order()},pe.each=function(L){return ke(this,function(q,ee,ae){L.call(q,q.__data__,ee,ae)})},pe.call=function(L){var q=b(arguments);return L.apply(q[0]=this,q),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var L=0,q=this.length;L<q;L++)for(var ee=this[L],ae=0,fe=ee.length;ae<fe;ae++){var we=ee[ae];if(we)return we}return null},pe.size=function(){var L=0;return ke(this,function(){++L}),L};var De=[];function Pe(L,q,ee){var ae="__on"+L,fe=L.indexOf("."),we=We;fe>0&&(L=L.slice(0,fe));var Oe=Ue.get(L);function Be(){var Ge=this[ae];Ge&&(this.removeEventListener(L,Ge,Ge.$),delete this[ae])}return Oe&&(L=Oe,we=$e),fe?q?function(){var Ge=we(q,b(arguments));Be.call(this),this.addEventListener(L,this[ae]=Ge,Ge.$=ee),Ge._=q}:Be:q?H:function(){var Ge,Ye=new RegExp("^__on([^.]+)"+o.requote(L)+"$");for(var rt in this)if(Ge=rt.match(Ye)){var pt=this[rt];this.removeEventListener(Ge[1],pt,pt.$),delete this[rt]}}}o.selection.enter=Ee,o.selection.enter.prototype=De,De.append=pe.append,De.empty=pe.empty,De.node=pe.node,De.call=pe.call,De.size=pe.size,De.select=function(L){for(var q,ee,ae,fe,we,Oe=[],Be=-1,Ge=this.length;++Be<Ge;){ae=(fe=this[Be]).update,Oe.push(q=[]),q.parentNode=fe.parentNode;for(var Ye=-1,rt=fe.length;++Ye<rt;)(we=fe[Ye])?(q.push(ae[Ye]=ee=L.call(fe.parentNode,we.__data__,Ye,Be)),ee.__data__=we.__data__):q.push(null)}return re(Oe)},De.insert=function(L,q){var ee,ae,fe;return arguments.length<2&&(ee=this,q=function(we,Oe,Be){var Ge,Ye=ee[Be].update,rt=Ye.length;for(Be!=fe&&(fe=Be,ae=0),Oe>=ae&&(ae=Oe+1);!(Ge=Ye[ae])&&++ae<rt;);return Ge}),pe.insert.call(this,L,q)},o.select=function(L){var q;return typeof L=="string"?(q=[se(L,f)]).parentNode=f.documentElement:(q=[L]).parentNode=s(L),re([q])},o.selectAll=function(L){var q;return typeof L=="string"?(q=b(ue(L,f))).parentNode=f.documentElement:(q=b(L)).parentNode=null,re([q])},pe.on=function(L,q,ee){var ae=arguments.length;if(ae<3){if(typeof L!="string"){for(ee in ae<2&&(q=!1),L)this.each(Pe(ee,L[ee],q));return this}if(ae<2)return(ae=this.node()["__on"+L])&&ae._;ee=!1}return this.each(Pe(L,q,ee))};var Ue=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function We(L,q){return function(ee){var ae=o.event;o.event=ee,q[0]=this.__data__;try{L.apply(this,q)}finally{o.event=ae}}}function $e(L,q){var ee=We(L,q);return function(ae){var fe=this,we=ae.relatedTarget;we&&(we===fe||8&we.compareDocumentPosition(fe))||ee.call(fe,ae)}}f&&Ue.forEach(function(L){"on"+L in f&&Ue.remove(L)});var ot,st=0;function mt(L){var q=".dragsuppress-"+ ++st,ee="click"+q,ae=o.select(t(L)).on("touchmove"+q,te).on("dragstart"+q,te).on("selectstart"+q,te);if(ot==null&&(ot=!("onselectstart"in L)&&X(L.style,"userSelect")),ot){var fe=s(L).style,we=fe[ot];fe[ot]="none"}return function(Oe){if(ae.on(q,null),ot&&(fe[ot]=we),Oe){var Be=function(){ae.on(ee,null)};ae.on(ee,function(){te(),Be()},!0),setTimeout(Be,0)}}}o.mouse=function(L){return yt(L,Q())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function yt(L,q){q.changedTouches&&(q=q.changedTouches[0]);var ee=L.ownerSVGElement||L;if(ee.createSVGPoint){var ae=ee.createSVGPoint();if(_t<0){var fe=t(L);if(fe.scrollX||fe.scrollY){var we=(ee=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(we.f||we.e),ee.remove()}}return _t?(ae.x=q.pageX,ae.y=q.pageY):(ae.x=q.clientX,ae.y=q.clientY),[(ae=ae.matrixTransform(L.getScreenCTM().inverse())).x,ae.y]}var Oe=L.getBoundingClientRect();return[q.clientX-Oe.left-L.clientLeft,q.clientY-Oe.top-L.clientTop]}function it(){return o.event.changedTouches[0].identifier}o.touch=function(L,q,ee){if(arguments.length<3&&(ee=q,q=Q().changedTouches),q){for(var ae,fe=0,we=q.length;fe<we;++fe)if((ae=q[fe]).identifier===ee)return yt(L,ae)}},o.behavior.drag=function(){var L=ne(fe,"drag","dragstart","dragend"),q=null,ee=we(H,o.mouse,t,"mousemove","mouseup"),ae=we(it,o.touch,z,"touchmove","touchend");function fe(){this.on("mousedown.drag",ee).on("touchstart.drag",ae)}function we(Oe,Be,Ge,Ye,rt){return function(){var pt,vt=this,St=o.event.target.correspondingElement||o.event.target,It=vt.parentNode,Ct=L.of(vt,arguments),jt=0,zt=Oe(),Jt=".drag"+(zt==null?"":"-"+zt),Zt=o.select(Ge(St)).on(Ye+Jt,function(){var _n,Cn,zn=Be(It,zt);zn&&(_n=zn[0]-mn[0],Cn=zn[1]-mn[1],jt|=_n|Cn,mn=zn,Ct({type:"drag",x:zn[0]+pt[0],y:zn[1]+pt[1],dx:_n,dy:Cn}))}).on(rt+Jt,function(){Be(It,zt)&&(Zt.on(Ye+Jt,null).on(rt+Jt,null),Gt(jt),Ct({type:"dragend"}))}),Gt=mt(St),mn=Be(It,zt);pt=q?[(pt=q.apply(vt,arguments)).x-mn[0],pt.y-mn[1]]:[0,0],Ct({type:"dragstart"})}}return fe.origin=function(Oe){return arguments.length?(q=Oe,fe):q},o.rebind(fe,L,"on")},o.touches=function(L,q){return arguments.length<2&&(q=Q().touches),q?b(q).map(function(ee){var ae=yt(L,ee);return ae.identifier=ee.identifier,ae}):[]};var tt=1e-6,Pt=tt*tt,Rt=Math.PI,Ft=2*Rt,Ot=Ft-tt,Xe=Rt/2,Je=Rt/180,Ve=180/Rt;function Ke(L){return L>1?Xe:L<-1?-Xe:Math.asin(L)}function ft(L){return((L=Math.exp(L))+1/L)/2}var ut=Math.SQRT2;o.interpolateZoom=function(L,q){var ee,ae,fe=L[0],we=L[1],Oe=L[2],Be=q[0],Ge=q[1],Ye=q[2],rt=Be-fe,pt=Ge-we,vt=rt*rt+pt*pt;if(vt<Pt)ae=Math.log(Ye/Oe)/ut,ee=function(Jt){return[fe+Jt*rt,we+Jt*pt,Oe*Math.exp(ut*Jt*ae)]};else{var St=Math.sqrt(vt),It=(Ye*Ye-Oe*Oe+4*vt)/(2*Oe*2*St),Ct=(Ye*Ye-Oe*Oe-4*vt)/(2*Ye*2*St),jt=Math.log(Math.sqrt(It*It+1)-It),zt=Math.log(Math.sqrt(Ct*Ct+1)-Ct);ae=(zt-jt)/ut,ee=function(Jt){var Zt,Gt=Jt*ae,mn=ft(jt),_n=Oe/(2*St)*(mn*(Zt=ut*Gt+jt,((Zt=Math.exp(2*Zt))-1)/(Zt+1))-function(Cn){return((Cn=Math.exp(Cn))-1/Cn)/2}(jt));return[fe+_n*rt,we+_n*pt,Oe*mn/ft(ut*Gt+jt)]}}return ee.duration=1e3*ae,ee},o.behavior.zoom=function(){var L,q,ee,ae,fe,we,Oe,Be,Ge,Ye={x:0,y:0,k:1},rt=[960,500],pt=qe,vt=250,St=0,It="mousedown.zoom",Ct="mousemove.zoom",jt="mouseup.zoom",zt="touchstart.zoom",Jt=ne(Zt,"zoomstart","zoom","zoomend");function Zt(or){or.on(It,Kn).on(bt+".zoom",wr).on("dblclick.zoom",Or).on(zt,hr)}function Gt(or){return[(or[0]-Ye.x)/Ye.k,(or[1]-Ye.y)/Ye.k]}function mn(or){Ye.k=Math.max(pt[0],Math.min(pt[1],or))}function _n(or,fr){fr=function(Mr){return[Mr[0]*Ye.k+Ye.x,Mr[1]*Ye.k+Ye.y]}(fr),Ye.x+=or[0]-fr[0],Ye.y+=or[1]-fr[1]}function Cn(or,fr,Mr,mr){or.__chart__={x:Ye.x,y:Ye.y,k:Ye.k},mn(Math.pow(2,mr)),_n(q=fr,Mr),or=o.select(or),vt>0&&(or=or.transition().duration(vt)),or.call(Zt.event)}function zn(){Oe&&Oe.domain(we.range().map(function(or){return(or-Ye.x)/Ye.k}).map(we.invert)),Ge&&Ge.domain(Be.range().map(function(or){return(or-Ye.y)/Ye.k}).map(Be.invert))}function Wn(or){St++||or({type:"zoomstart"})}function sr(or){zn(),or({type:"zoom",scale:Ye.k,translate:[Ye.x,Ye.y]})}function vr(or){--St||(or({type:"zoomend"}),q=null)}function Kn(){var or=this,fr=Jt.of(or,arguments),Mr=0,mr=o.select(t(or)).on(Ct,function(){Mr=1,_n(o.mouse(or),Lr),sr(fr)}).on(jt,function(){mr.on(Ct,null).on(jt,null),Dr(Mr),vr(fr)}),Lr=Gt(o.mouse(or)),Dr=mt(or);Za.call(or),Wn(fr)}function hr(){var or,fr=this,Mr=Jt.of(fr,arguments),mr={},Lr=0,Dr=".zoom-"+o.event.changedTouches[0].identifier,Gr="touchmove"+Dr,Wr="touchend"+Dr,Zr=[],Qr=o.select(fr),wi=mt(fr);function Bi(){var Mi=o.touches(fr);return or=Ye.k,Mi.forEach(function(ti){ti.identifier in mr&&(mr[ti.identifier]=Gt(ti))}),Mi}function Ma(){var Mi=o.event.target;o.select(Mi).on(Gr,na).on(Wr,va),Zr.push(Mi);for(var ti=o.event.changedTouches,Ii=0,di=ti.length;Ii<di;++Ii)mr[ti[Ii].identifier]=null;var ii=Bi(),zi=Date.now();if(ii.length===1){if(zi-fe<500){var Ni=ii[0];Cn(fr,Ni,mr[Ni.identifier],Math.floor(Math.log(Ye.k)/Math.LN2)+1),te()}fe=zi}else if(ii.length>1){Ni=ii[0];var Zi=ii[1],Tl=Ni[0]-Zi[0],kl=Ni[1]-Zi[1];Lr=Tl*Tl+kl*kl}}function na(){var Mi,ti,Ii,di,ii=o.touches(fr);Za.call(fr);for(var zi=0,Ni=ii.length;zi<Ni;++zi,di=null)if(Ii=ii[zi],di=mr[Ii.identifier]){if(ti)break;Mi=Ii,ti=di}if(di){var Zi=(Zi=Ii[0]-Mi[0])*Zi+(Zi=Ii[1]-Mi[1])*Zi,Tl=Lr&&Math.sqrt(Zi/Lr);Mi=[(Mi[0]+Ii[0])/2,(Mi[1]+Ii[1])/2],ti=[(ti[0]+di[0])/2,(ti[1]+di[1])/2],mn(Tl*or)}fe=null,_n(Mi,ti),sr(Mr)}function va(){if(o.event.touches.length){for(var Mi=o.event.changedTouches,ti=0,Ii=Mi.length;ti<Ii;++ti)delete mr[Mi[ti].identifier];for(var di in mr)return void Bi()}o.selectAll(Zr).on(Dr,null),Qr.on(It,Kn).on(zt,hr),wi(),vr(Mr)}Ma(),Wn(Mr),Qr.on(It,null).on(zt,Ma)}function wr(){var or=Jt.of(this,arguments);ae?clearTimeout(ae):(Za.call(this),L=Gt(q=ee||o.mouse(this)),Wn(or)),ae=setTimeout(function(){ae=null,vr(or)},50),te(),mn(Math.pow(2,.002*xt())*Ye.k),_n(q,L),sr(or)}function Or(){var or=o.mouse(this),fr=Math.log(Ye.k)/Math.LN2;Cn(this,or,Gt(or),o.event.shiftKey?Math.ceil(fr)-1:Math.floor(fr)+1)}return bt||(bt="onwheel"in f?(xt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(xt=function(){return o.event.wheelDelta},"mousewheel"):(xt=function(){return-o.event.detail},"MozMousePixelScroll")),Zt.event=function(or){or.each(function(){var fr=Jt.of(this,arguments),Mr=Ye;Hi?o.select(this).transition().each("start.zoom",function(){Ye=this.__chart__||{x:0,y:0,k:1},Wn(fr)}).tween("zoom:zoom",function(){var mr=rt[0],Lr=rt[1],Dr=q?q[0]:mr/2,Gr=q?q[1]:Lr/2,Wr=o.interpolateZoom([(Dr-Ye.x)/Ye.k,(Gr-Ye.y)/Ye.k,mr/Ye.k],[(Dr-Mr.x)/Mr.k,(Gr-Mr.y)/Mr.k,mr/Mr.k]);return function(Zr){var Qr=Wr(Zr),wi=mr/Qr[2];this.__chart__=Ye={x:Dr-Qr[0]*wi,y:Gr-Qr[1]*wi,k:wi},sr(fr)}}).each("interrupt.zoom",function(){vr(fr)}).each("end.zoom",function(){vr(fr)}):(this.__chart__=Ye,Wn(fr),sr(fr),vr(fr))})},Zt.translate=function(or){return arguments.length?(Ye={x:+or[0],y:+or[1],k:Ye.k},zn(),Zt):[Ye.x,Ye.y]},Zt.scale=function(or){return arguments.length?(Ye={x:Ye.x,y:Ye.y,k:null},mn(+or),zn(),Zt):Ye.k},Zt.scaleExtent=function(or){return arguments.length?(pt=or==null?qe:[+or[0],+or[1]],Zt):pt},Zt.center=function(or){return arguments.length?(ee=or&&[+or[0],+or[1]],Zt):ee},Zt.size=function(or){return arguments.length?(rt=or&&[+or[0],+or[1]],Zt):rt},Zt.duration=function(or){return arguments.length?(vt=+or,Zt):vt},Zt.x=function(or){return arguments.length?(Oe=or,we=or.copy(),Ye={x:0,y:0,k:1},Zt):Oe},Zt.y=function(or){return arguments.length?(Ge=or,Be=or.copy(),Ye={x:0,y:0,k:1},Zt):Ge},o.rebind(Zt,Jt,"on")};var xt,bt,qe=[0,1/0];function je(){}function lt(L,q,ee){return this instanceof lt?(this.h=+L,this.s=+q,void(this.l=+ee)):arguments.length<2?L instanceof lt?new lt(L.h,L.s,L.l):sn(""+L,Sn,lt):new lt(L,q,ee)}o.color=je,je.prototype.toString=function(){return this.rgb()+""},o.hsl=lt;var gt=lt.prototype=new je;function dt(L,q,ee){var ae,fe;function we(Oe){return Math.round(255*function(Be){return Be>360?Be-=360:Be<0&&(Be+=360),Be<60?ae+(fe-ae)*Be/60:Be<180?fe:Be<240?ae+(fe-ae)*(240-Be)/60:ae}(Oe))}return L=isNaN(L)?0:(L%=360)<0?L+360:L,q=isNaN(q)||q<0?0:q>1?1:q,ae=2*(ee=ee<0?0:ee>1?1:ee)-(fe=ee<=.5?ee*(1+q):ee+q-ee*q),new kn(we(L+120),we(L),we(L-120))}function at(L,q,ee){return this instanceof at?(this.h=+L,this.c=+q,void(this.l=+ee)):arguments.length<2?L instanceof at?new at(L.h,L.c,L.l):function(ae,fe,we){return ae>0?new at(Math.atan2(we,fe)*Ve,Math.sqrt(fe*fe+we*we),ae):new at(NaN,NaN,ae)}(L instanceof Et?L.l:(L=wn((L=o.rgb(L)).r,L.g,L.b)).l,L.a,L.b):new at(L,q,ee)}gt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new lt(this.h,this.s,this.l/L)},gt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new lt(this.h,this.s,L*this.l)},gt.rgb=function(){return dt(this.h,this.s,this.l)},o.hcl=at;var kt=at.prototype=new je;function wt(L,q,ee){return isNaN(L)&&(L=0),isNaN(q)&&(q=0),new Et(ee,Math.cos(L*=Je)*q,Math.sin(L)*q)}function Et(L,q,ee){return this instanceof Et?(this.l=+L,this.a=+q,void(this.b=+ee)):arguments.length<2?L instanceof Et?new Et(L.l,L.a,L.b):L instanceof at?wt(L.h,L.c,L.l):wn((L=kn(L)).r,L.g,L.b):new Et(L,q,ee)}kt.brighter=function(L){return new at(this.h,this.c,Math.min(100,this.l+Tt*(arguments.length?L:1)))},kt.darker=function(L){return new at(this.h,this.c,Math.max(0,this.l-Tt*(arguments.length?L:1)))},kt.rgb=function(){return wt(this.h,this.c,this.l).rgb()},o.lab=Et;var Tt=18,At=.95047,Nt=1,Wt=1.08883,on=Et.prototype=new je;function cn(L,q,ee){var ae=(L+16)/116,fe=ae+q/500,we=ae-ee/200;return new kn(tn(3.2404542*(fe=un(fe)*At)-1.5371385*(ae=un(ae)*Nt)-.4985314*(we=un(we)*Wt)),tn(-.969266*fe+1.8760108*ae+.041556*we),tn(.0556434*fe-.2040259*ae+1.0572252*we))}function un(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function Xt(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function tn(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function kn(L,q,ee){return this instanceof kn?(this.r=~~L,this.g=~~q,void(this.b=~~ee)):arguments.length<2?L instanceof kn?new kn(L.r,L.g,L.b):sn(""+L,kn,dt):new kn(L,q,ee)}function fn(L){return new kn(L>>16,L>>8&255,255&L)}function Qt(L){return fn(L)+""}on.brighter=function(L){return new Et(Math.min(100,this.l+Tt*(arguments.length?L:1)),this.a,this.b)},on.darker=function(L){return new Et(Math.max(0,this.l-Tt*(arguments.length?L:1)),this.a,this.b)},on.rgb=function(){return cn(this.l,this.a,this.b)},o.rgb=kn;var pn=kn.prototype=new je;function nn(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function sn(L,q,ee){var ae,fe,we,Oe=0,Be=0,Ge=0;if(ae=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(fe=ae[2].split(","),ae[1]){case"hsl":return ee(parseFloat(fe[0]),parseFloat(fe[1])/100,parseFloat(fe[2])/100);case"rgb":return q(Tn(fe[0]),Tn(fe[1]),Tn(fe[2]))}return(we=Pn.get(L))?q(we.r,we.g,we.b):(L==null||L.charAt(0)!=="#"||isNaN(we=parseInt(L.slice(1),16))||(L.length===4?(Oe=(3840&we)>>4,Oe|=Oe>>4,Be=240&we,Be|=Be>>4,Ge=15&we,Ge|=Ge<<4):L.length===7&&(Oe=(16711680&we)>>16,Be=(65280&we)>>8,Ge=255&we)),q(Oe,Be,Ge))}function Sn(L,q,ee){var ae,fe,we=Math.min(L/=255,q/=255,ee/=255),Oe=Math.max(L,q,ee),Be=Oe-we,Ge=(Oe+we)/2;return Be?(fe=Ge<.5?Be/(Oe+we):Be/(2-Oe-we),ae=L==Oe?(q-ee)/Be+(q<ee?6:0):q==Oe?(ee-L)/Be+2:(L-q)/Be+4,ae*=60):(ae=NaN,fe=Ge>0&&Ge<1?0:ae),new lt(ae,fe,Ge)}function wn(L,q,ee){var ae=Xt((.4124564*(L=Dn(L))+.3575761*(q=Dn(q))+.1804375*(ee=Dn(ee)))/At),fe=Xt((.2126729*L+.7151522*q+.072175*ee)/Nt);return Et(116*fe-16,500*(ae-fe),200*(fe-Xt((.0193339*L+.119192*q+.9503041*ee)/Wt)))}function Dn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function Tn(L){var q=parseFloat(L);return L.charAt(L.length-1)==="%"?Math.round(2.55*q):q}pn.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var q=this.r,ee=this.g,ae=this.b,fe=30;return q||ee||ae?(q&&q<fe&&(q=fe),ee&&ee<fe&&(ee=fe),ae&&ae<fe&&(ae=fe),new kn(Math.min(255,q/L),Math.min(255,ee/L),Math.min(255,ae/L))):new kn(fe,fe,fe)},pn.darker=function(L){return new kn((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},pn.hsl=function(){return Sn(this.r,this.g,this.b)},pn.toString=function(){return"#"+nn(this.r)+nn(this.g)+nn(this.b)};var Pn=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Nn(L){return typeof L=="function"?L:function(){return L}}function $n(L){return function(q,ee,ae){return arguments.length===2&&typeof ee=="function"&&(ae=ee,ee=null),pr(q,ee,L,ae)}}function pr(L,q,ee,ae){var fe={},we=o.dispatch("beforesend","progress","load","error"),Oe={},Be=new XMLHttpRequest,Ge=null;function Ye(){var rt,pt=Be.status;if(!pt&&function(vt){var St=vt.responseType;return St&&St!=="text"?vt.response:vt.responseText}(Be)||pt>=200&&pt<300||pt===304){try{rt=ee.call(fe,Be)}catch(vt){return void we.error.call(fe,vt)}we.load.call(fe,rt)}else we.error.call(fe,Be)}return self.XDomainRequest&&!("withCredentials"in Be)&&/^(http(s)?:)?\/\//.test(L)&&(Be=new XDomainRequest),"onload"in Be?Be.onload=Be.onerror=Ye:Be.onreadystatechange=function(){Be.readyState>3&&Ye()},Be.onprogress=function(rt){var pt=o.event;o.event=rt;try{we.progress.call(fe,Be)}finally{o.event=pt}},fe.header=function(rt,pt){return rt=(rt+"").toLowerCase(),arguments.length<2?Oe[rt]:(pt==null?delete Oe[rt]:Oe[rt]=pt+"",fe)},fe.mimeType=function(rt){return arguments.length?(q=rt==null?null:rt+"",fe):q},fe.responseType=function(rt){return arguments.length?(Ge=rt,fe):Ge},fe.response=function(rt){return ee=rt,fe},["get","post"].forEach(function(rt){fe[rt]=function(){return fe.send.apply(fe,[rt].concat(b(arguments)))}}),fe.send=function(rt,pt,vt){if(arguments.length===2&&typeof pt=="function"&&(vt=pt,pt=null),Be.open(rt,L,!0),q==null||"accept"in Oe||(Oe.accept=q+",*/*"),Be.setRequestHeader)for(var St in Oe)Be.setRequestHeader(St,Oe[St]);return q!=null&&Be.overrideMimeType&&Be.overrideMimeType(q),Ge!=null&&(Be.responseType=Ge),vt!=null&&fe.on("error",vt).on("load",function(It){vt(null,It)}),we.beforesend.call(fe,Be),Be.send(pt??null),fe},fe.abort=function(){return Be.abort(),fe},o.rebind(fe,we,"on"),ae==null?fe:fe.get(function(rt){return rt.length===1?function(pt,vt){rt(pt==null?vt:null)}:rt}(ae))}Pn.forEach(function(L,q){Pn.set(L,fn(q))}),o.functor=Nn,o.xhr=$n(z),o.dsv=function(L,q){var ee=new RegExp('["'+L+`
]`),ae=L.charCodeAt(0);function fe(Ye,rt,pt){arguments.length<3&&(pt=rt,rt=null);var vt=pr(Ye,q,rt==null?we:Oe(rt),pt);return vt.row=function(St){return arguments.length?vt.response((rt=St)==null?we:Oe(St)):rt},vt}function we(Ye){return fe.parse(Ye.responseText)}function Oe(Ye){return function(rt){return fe.parse(rt.responseText,Ye)}}function Be(Ye){return Ye.map(Ge).join(L)}function Ge(Ye){return ee.test(Ye)?'"'+Ye.replace(/\"/g,'""')+'"':Ye}return fe.parse=function(Ye,rt){var pt;return fe.parseRows(Ye,function(vt,St){if(pt)return pt(vt,St-1);var It=function(Ct){for(var jt={},zt=vt.length,Jt=0;Jt<zt;++Jt)jt[vt[Jt]]=Ct[Jt];return jt};pt=rt?function(Ct,jt){return rt(It(Ct),jt)}:It})},fe.parseRows=function(Ye,rt){var pt,vt,St={},It={},Ct=[],jt=Ye.length,zt=0,Jt=0;function Zt(){if(zt>=jt)return It;if(vt)return vt=!1,St;var mn=zt;if(Ye.charCodeAt(mn)===34){for(var _n=mn;_n++<jt;)if(Ye.charCodeAt(_n)===34){if(Ye.charCodeAt(_n+1)!==34)break;++_n}return zt=_n+2,(Cn=Ye.charCodeAt(_n+1))===13?(vt=!0,Ye.charCodeAt(_n+2)===10&&++zt):Cn===10&&(vt=!0),Ye.slice(mn+1,_n).replace(/""/g,'"')}for(;zt<jt;){var Cn,zn=1;if((Cn=Ye.charCodeAt(zt++))===10)vt=!0;else if(Cn===13)vt=!0,Ye.charCodeAt(zt)===10&&(++zt,++zn);else if(Cn!==ae)continue;return Ye.slice(mn,zt-zn)}return Ye.slice(mn)}for(;(pt=Zt())!==It;){for(var Gt=[];pt!==St&&pt!==It;)Gt.push(pt),pt=Zt();rt&&(Gt=rt(Gt,Jt++))==null||Ct.push(Gt)}return Ct},fe.format=function(Ye){if(Array.isArray(Ye[0]))return fe.formatRows(Ye);var rt=new V,pt=[];return Ye.forEach(function(vt){for(var St in vt)rt.has(St)||pt.push(rt.add(St))}),[pt.map(Ge).join(L)].concat(Ye.map(function(vt){return pt.map(function(St){return Ge(vt[St])}).join(L)})).join(`
`)},fe.formatRows=function(Ye){return Ye.map(Be).join(`
`)},fe},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var Hn,Qn,er,ur,$t=this[X(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function rn(L,q,ee){var ae=arguments.length;ae<2&&(q=0),ae<3&&(ee=Date.now());var fe={c:L,t:ee+q,n:null};return Qn?Qn.n=fe:Hn=fe,Qn=fe,er||(ur=clearTimeout(ur),er=1,$t(On)),fe}function On(){var L=xn(),q=In()-L;q>24?(isFinite(q)&&(clearTimeout(ur),ur=setTimeout(On,q)),er=0):(er=1,$t(On))}function xn(){for(var L=Date.now(),q=Hn;q;)L>=q.t&&q.c(L-q.t)&&(q.c=null),q=q.n;return L}function In(){for(var L,q=Hn,ee=1/0;q;)q.c?(q.t<ee&&(ee=q.t),q=(L=q).n):q=L?L.n=q.n:Hn=q.n;return Qn=L,ee}function Gn(L){return L[0]}function qn(L){return L[1]}function ir(L){for(var q,ee,ae,fe=L.length,we=[0,1],Oe=2,Be=2;Be<fe;Be++){for(;Oe>1&&(q=L[we[Oe-2]],ee=L[we[Oe-1]],ae=L[Be],(ee[0]-q[0])*(ae[1]-q[1])-(ee[1]-q[1])*(ae[0]-q[0])<=0);)--Oe;we[Oe++]=Be}return we.slice(0,Oe)}function dr(L,q){return L[0]-q[0]||L[1]-q[1]}o.timer=function(){rn.apply(this,arguments)},o.timer.flush=function(){xn(),In()},o.round=function(L,q){return q?Math.round(L*(q=Math.pow(10,q)))/q:Math.round(L)},o.geom={},o.geom.hull=function(L){var q=Gn,ee=qn;if(arguments.length)return ae(L);function ae(fe){if(fe.length<3)return[];var we,Oe=Nn(q),Be=Nn(ee),Ge=fe.length,Ye=[],rt=[];for(we=0;we<Ge;we++)Ye.push([+Oe.call(this,fe[we],we),+Be.call(this,fe[we],we),we]);for(Ye.sort(dr),we=0;we<Ge;we++)rt.push([Ye[we][0],-Ye[we][1]]);var pt=ir(Ye),vt=ir(rt),St=vt[0]===pt[0],It=vt[vt.length-1]===pt[pt.length-1],Ct=[];for(we=pt.length-1;we>=0;--we)Ct.push(fe[Ye[pt[we]][2]]);for(we=+St;we<vt.length-It;++we)Ct.push(fe[Ye[vt[we]][2]]);return Ct}return ae.x=function(fe){return arguments.length?(q=fe,ae):q},ae.y=function(fe){return arguments.length?(ee=fe,ae):ee},ae},o.geom.polygon=function(L){return J(L,Kt),L};var Kt=o.geom.polygon.prototype=[];function bn(L,q,ee){return(ee[0]-q[0])*(L[1]-q[1])<(ee[1]-q[1])*(L[0]-q[0])}function Dt(L,q,ee,ae){var fe=L[0],we=ee[0],Oe=q[0]-fe,Be=ae[0]-we,Ge=L[1],Ye=ee[1],rt=q[1]-Ge,pt=ae[1]-Ye,vt=(Be*(Ge-Ye)-pt*(fe-we))/(pt*Oe-Be*rt);return[fe+vt*Oe,Ge+vt*rt]}function Ut(L){var q=L[0],ee=L[L.length-1];return!(q[0]-ee[0]||q[1]-ee[1])}Kt.area=function(){for(var L,q=-1,ee=this.length,ae=this[ee-1],fe=0;++q<ee;)L=ae,ae=this[q],fe+=L[1]*ae[0]-L[0]*ae[1];return .5*fe},Kt.centroid=function(L){var q,ee,ae=-1,fe=this.length,we=0,Oe=0,Be=this[fe-1];for(arguments.length||(L=-1/(6*this.area()));++ae<fe;)q=Be,Be=this[ae],ee=q[0]*Be[1]-Be[0]*q[1],we+=(q[0]+Be[0])*ee,Oe+=(q[1]+Be[1])*ee;return[we*L,Oe*L]},Kt.clip=function(L){for(var q,ee,ae,fe,we,Oe,Be=Ut(L),Ge=-1,Ye=this.length-Ut(this),rt=this[Ye-1];++Ge<Ye;){for(q=L.slice(),L.length=0,fe=this[Ge],we=q[(ae=q.length-Be)-1],ee=-1;++ee<ae;)bn(Oe=q[ee],rt,fe)?(bn(we,rt,fe)||L.push(Dt(we,Oe,rt,fe)),L.push(Oe)):bn(we,rt,fe)&&L.push(Dt(we,Oe,rt,fe)),we=Oe;Be&&L.push(L[0]),rt=fe}return L};var en,gn,vn,Mn,yn,hn=[],qt=[];function Vt(){xi(this),this.edge=this.site=this.circle=null}function an(L){var q=hn.pop()||new Vt;return q.site=L,q}function En(L){cr(L),vn.remove(L),hn.push(L),xi(L)}function Fn(L){var q=L.circle,ee=q.x,ae=q.cy,fe={x:ee,y:ae},we=L.P,Oe=L.N,Be=[L];En(L);for(var Ge=we;Ge.circle&&g(ee-Ge.circle.x)<tt&&g(ae-Ge.circle.cy)<tt;)we=Ge.P,Be.unshift(Ge),En(Ge),Ge=we;Be.unshift(Ge),cr(Ge);for(var Ye=Oe;Ye.circle&&g(ee-Ye.circle.x)<tt&&g(ae-Ye.circle.cy)<tt;)Oe=Ye.N,Be.push(Ye),En(Ye),Ye=Oe;Be.push(Ye),cr(Ye);var rt,pt=Be.length;for(rt=1;rt<pt;++rt)Ye=Be[rt],Ge=Be[rt-1],xr(Ye.edge,Ge.site,Ye.site,fe);Ge=Be[0],(Ye=Be[pt-1]).edge=ar(Ge.site,Ye.site,null,fe),Jn(Ge),Jn(Ye)}function Rn(L){for(var q,ee,ae,fe,we=L.x,Oe=L.y,Be=vn._;Be;)if((ae=jn(Be,Oe)-we)>tt)Be=Be.L;else{if(!((fe=we-tr(Be,Oe))>tt)){ae>-tt?(q=Be.P,ee=Be):fe>-tt?(q=Be,ee=Be.N):q=ee=Be;break}if(!Be.R){q=Be;break}Be=Be.R}var Ge=an(L);if(vn.insert(q,Ge),q||ee){if(q===ee)return cr(q),ee=an(q.site),vn.insert(Ge,ee),Ge.edge=ee.edge=ar(q.site,Ge.site),Jn(q),void Jn(ee);if(ee){cr(q),cr(ee);var Ye=q.site,rt=Ye.x,pt=Ye.y,vt=L.x-rt,St=L.y-pt,It=ee.site,Ct=It.x-rt,jt=It.y-pt,zt=2*(vt*jt-St*Ct),Jt=vt*vt+St*St,Zt=Ct*Ct+jt*jt,Gt={x:(jt*Jt-St*Zt)/zt+rt,y:(vt*Zt-Ct*Jt)/zt+pt};xr(ee.edge,Ye,It,Gt),Ge.edge=ar(Ye,L,null,Gt),ee.edge=ar(L,It,null,Gt),Jn(q),Jn(ee)}else Ge.edge=ar(q.site,Ge.site)}}function jn(L,q){var ee=L.site,ae=ee.x,fe=ee.y,we=fe-q;if(!we)return ae;var Oe=L.P;if(!Oe)return-1/0;var Be=(ee=Oe.site).x,Ge=ee.y,Ye=Ge-q;if(!Ye)return Be;var rt=Be-ae,pt=1/we-1/Ye,vt=rt/Ye;return pt?(-vt+Math.sqrt(vt*vt-2*pt*(rt*rt/(-2*Ye)-Ge+Ye/2+fe-we/2)))/pt+ae:(ae+Be)/2}function tr(L,q){var ee=L.N;if(ee)return jn(ee,q);var ae=L.site;return ae.y===q?ae.x:1/0}function Zn(L){this.site=L,this.edges=[]}function nr(L,q){return q.angle-L.angle}function Yn(){xi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(L){var q=L.P,ee=L.N;if(q&&ee){var ae=q.site,fe=L.site,we=ee.site;if(ae!==we){var Oe=fe.x,Be=fe.y,Ge=ae.x-Oe,Ye=ae.y-Be,rt=we.x-Oe,pt=2*(Ge*(jt=we.y-Be)-Ye*rt);if(!(pt>=-Pt)){var vt=Ge*Ge+Ye*Ye,St=rt*rt+jt*jt,It=(jt*vt-Ye*St)/pt,Ct=(Ge*St-rt*vt)/pt,jt=Ct+Be,zt=qt.pop()||new Yn;zt.arc=L,zt.site=fe,zt.x=It+Oe,zt.y=jt+Math.sqrt(It*It+Ct*Ct),zt.cy=jt,L.circle=zt;for(var Jt=null,Zt=yn._;Zt;)if(zt.y<Zt.y||zt.y===Zt.y&&zt.x<=Zt.x){if(!Zt.L){Jt=Zt.P;break}Zt=Zt.L}else{if(!Zt.R){Jt=Zt;break}Zt=Zt.R}yn.insert(Jt,zt),Jt||(Mn=zt)}}}}function cr(L){var q=L.circle;q&&(q.P||(Mn=q.N),yn.remove(q),qt.push(q),xi(q),L.circle=null)}function Tr(L,q){var ee=L.b;if(ee)return!0;var ae,fe,we=L.a,Oe=q[0][0],Be=q[1][0],Ge=q[0][1],Ye=q[1][1],rt=L.l,pt=L.r,vt=rt.x,St=rt.y,It=pt.x,Ct=pt.y,jt=(vt+It)/2,zt=(St+Ct)/2;if(Ct===St){if(jt<Oe||jt>=Be)return;if(vt>It){if(we){if(we.y>=Ye)return}else we={x:jt,y:Ge};ee={x:jt,y:Ye}}else{if(we){if(we.y<Ge)return}else we={x:jt,y:Ye};ee={x:jt,y:Ge}}}else if(fe=zt-(ae=(vt-It)/(Ct-St))*jt,ae<-1||ae>1)if(vt>It){if(we){if(we.y>=Ye)return}else we={x:(Ge-fe)/ae,y:Ge};ee={x:(Ye-fe)/ae,y:Ye}}else{if(we){if(we.y<Ge)return}else we={x:(Ye-fe)/ae,y:Ye};ee={x:(Ge-fe)/ae,y:Ge}}else if(St<Ct){if(we){if(we.x>=Be)return}else we={x:Oe,y:ae*Oe+fe};ee={x:Be,y:ae*Be+fe}}else{if(we){if(we.x<Oe)return}else we={x:Be,y:ae*Be+fe};ee={x:Oe,y:ae*Oe+fe}}return L.a=we,L.b=ee,!0}function gr(L,q){this.l=L,this.r=q,this.a=this.b=null}function ar(L,q,ee,ae){var fe=new gr(L,q);return en.push(fe),ee&&xr(fe,L,q,ee),ae&&xr(fe,q,L,ae),gn[L.i].edges.push(new Cr(fe,L,q)),gn[q.i].edges.push(new Cr(fe,q,L)),fe}function xr(L,q,ee,ae){L.a||L.b?L.l===ee?L.b=ae:L.a=ae:(L.a=ae,L.l=q,L.r=ee)}function Cr(L,q,ee){var ae=L.a,fe=L.b;this.edge=L,this.site=q,this.angle=ee?Math.atan2(ee.y-q.y,ee.x-q.x):L.l===q?Math.atan2(fe.x-ae.x,ae.y-fe.y):Math.atan2(ae.x-fe.x,fe.y-ae.y)}function Nr(){this._=null}function xi(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function Li(L,q){var ee=q,ae=q.R,fe=ee.U;fe?fe.L===ee?fe.L=ae:fe.R=ae:L._=ae,ae.U=fe,ee.U=ae,ee.R=ae.L,ee.R&&(ee.R.U=ee),ae.L=ee}function Ji(L,q){var ee=q,ae=q.L,fe=ee.U;fe?fe.L===ee?fe.L=ae:fe.R=ae:L._=ae,ae.U=fe,ee.U=ae,ee.L=ae.R,ee.L&&(ee.L.U=ee),ae.R=ee}function gi(L){for(;L.L;)L=L.L;return L}function Oi(L,q){var ee,ae,fe,we=L.sort(Pa).pop();for(en=[],gn=new Array(L.length),vn=new Nr,yn=new Nr;;)if(fe=Mn,we&&(!fe||we.y<fe.y||we.y===fe.y&&we.x<fe.x))we.x===ee&&we.y===ae||(gn[we.i]=new Zn(we),Rn(we),ee=we.x,ae=we.y),we=L.pop();else{if(!fe)break;Fn(fe.arc)}q&&(function(Be){for(var Ge,Ye,rt,pt,vt,St=en,It=(Ye=Be[0][0],rt=Be[0][1],pt=Be[1][0],vt=Be[1][1],function(jt){var zt,Jt=jt.a,Zt=jt.b,Gt=Jt.x,mn=Jt.y,_n=0,Cn=1,zn=Zt.x-Gt,Wn=Zt.y-mn;if(zt=Ye-Gt,zn||!(zt>0)){if(zt/=zn,zn<0){if(zt<_n)return;zt<Cn&&(Cn=zt)}else if(zn>0){if(zt>Cn)return;zt>_n&&(_n=zt)}if(zt=pt-Gt,zn||!(zt<0)){if(zt/=zn,zn<0){if(zt>Cn)return;zt>_n&&(_n=zt)}else if(zn>0){if(zt<_n)return;zt<Cn&&(Cn=zt)}if(zt=rt-mn,Wn||!(zt>0)){if(zt/=Wn,Wn<0){if(zt<_n)return;zt<Cn&&(Cn=zt)}else if(Wn>0){if(zt>Cn)return;zt>_n&&(_n=zt)}if(zt=vt-mn,Wn||!(zt<0)){if(zt/=Wn,Wn<0){if(zt>Cn)return;zt>_n&&(_n=zt)}else if(Wn>0){if(zt<_n)return;zt<Cn&&(Cn=zt)}return _n>0&&(jt.a={x:Gt+_n*zn,y:mn+_n*Wn}),Cn<1&&(jt.b={x:Gt+Cn*zn,y:mn+Cn*Wn}),jt}}}}}),Ct=St.length;Ct--;)(!Tr(Ge=St[Ct],Be)||!It(Ge)||g(Ge.a.x-Ge.b.x)<tt&&g(Ge.a.y-Ge.b.y)<tt)&&(Ge.a=Ge.b=null,St.splice(Ct,1))}(q),function(Be){for(var Ge,Ye,rt,pt,vt,St,It,Ct,jt,zt,Jt=Be[0][0],Zt=Be[1][0],Gt=Be[0][1],mn=Be[1][1],_n=gn,Cn=_n.length;Cn--;)if((vt=_n[Cn])&&vt.prepare())for(Ct=(It=vt.edges).length,St=0;St<Ct;)rt=(zt=It[St].end()).x,pt=zt.y,Ge=(jt=It[++St%Ct].start()).x,Ye=jt.y,(g(rt-Ge)>tt||g(pt-Ye)>tt)&&(It.splice(St,0,new Cr((zn=vt.site,Wn=zt,sr=g(rt-Jt)<tt&&mn-pt>tt?{x:Jt,y:g(Ge-Jt)<tt?Ye:mn}:g(pt-mn)<tt&&Zt-rt>tt?{x:g(Ye-mn)<tt?Ge:Zt,y:mn}:g(rt-Zt)<tt&&pt-Gt>tt?{x:Zt,y:g(Ge-Zt)<tt?Ye:Gt}:g(pt-Gt)<tt&&rt-Jt>tt?{x:g(Ye-Gt)<tt?Ge:Jt,y:Gt}:null,vr=void 0,(vr=new gr(zn,null)).a=Wn,vr.b=sr,en.push(vr),vr),vt.site,null)),++Ct);var zn,Wn,sr,vr}(q));var Oe={cells:gn,edges:en};return vn=yn=en=gn=null,Oe}function Pa(L,q){return q.y-L.y||q.x-L.x}Zn.prototype.prepare=function(){for(var L,q=this.edges,ee=q.length;ee--;)(L=q[ee].edge).b&&L.a||q.splice(ee,1);return q.sort(nr),q.length},Cr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Nr.prototype={insert:function(L,q){var ee,ae,fe;if(L){if(q.P=L,q.N=L.N,L.N&&(L.N.P=q),L.N=q,L.R){for(L=L.R;L.L;)L=L.L;L.L=q}else L.R=q;ee=L}else this._?(L=gi(this._),q.P=null,q.N=L,L.P=L.L=q,ee=L):(q.P=q.N=null,this._=q,ee=null);for(q.L=q.R=null,q.U=ee,q.C=!0,L=q;ee&&ee.C;)ee===(ae=ee.U).L?(fe=ae.R)&&fe.C?(ee.C=fe.C=!1,ae.C=!0,L=ae):(L===ee.R&&(Li(this,ee),ee=(L=ee).U),ee.C=!1,ae.C=!0,Ji(this,ae)):(fe=ae.L)&&fe.C?(ee.C=fe.C=!1,ae.C=!0,L=ae):(L===ee.L&&(Ji(this,ee),ee=(L=ee).U),ee.C=!1,ae.C=!0,Li(this,ae)),ee=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var q,ee,ae,fe=L.U,we=L.L,Oe=L.R;if(ee=we?Oe?gi(Oe):we:Oe,fe?fe.L===L?fe.L=ee:fe.R=ee:this._=ee,we&&Oe?(ae=ee.C,ee.C=L.C,ee.L=we,we.U=ee,ee!==Oe?(fe=ee.U,ee.U=L.U,L=ee.R,fe.L=L,ee.R=Oe,Oe.U=ee):(ee.U=fe,fe=ee,L=ee.R)):(ae=L.C,L=ee),L&&(L.U=fe),!ae)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===fe.L){if((q=fe.R).C&&(q.C=!1,fe.C=!0,Li(this,fe),q=fe.R),q.L&&q.L.C||q.R&&q.R.C){q.R&&q.R.C||(q.L.C=!1,q.C=!0,Ji(this,q),q=fe.R),q.C=fe.C,fe.C=q.R.C=!1,Li(this,fe),L=this._;break}}else if((q=fe.L).C&&(q.C=!1,fe.C=!0,Ji(this,fe),q=fe.L),q.L&&q.L.C||q.R&&q.R.C){q.L&&q.L.C||(q.R.C=!1,q.C=!0,Li(this,q),q=fe.L),q.C=fe.C,fe.C=q.L.C=!1,Ji(this,fe),L=this._;break}q.C=!0,L=fe,fe=fe.U}while(!L.C);L&&(L.C=!1)}}},o.geom.voronoi=function(L){var q=Gn,ee=qn,ae=q,fe=ee,we=jr;if(L)return Oe(L);function Oe(Ge){var Ye=new Array(Ge.length),rt=we[0][0],pt=we[0][1],vt=we[1][0],St=we[1][1];return Oi(Be(Ge),we).cells.forEach(function(It,Ct){var jt=It.edges,zt=It.site;(Ye[Ct]=jt.length?jt.map(function(Jt){var Zt=Jt.start();return[Zt.x,Zt.y]}):zt.x>=rt&&zt.x<=vt&&zt.y>=pt&&zt.y<=St?[[rt,St],[vt,St],[vt,pt],[rt,pt]]:[]).point=Ge[Ct]}),Ye}function Be(Ge){return Ge.map(function(Ye,rt){return{x:Math.round(ae(Ye,rt)/tt)*tt,y:Math.round(fe(Ye,rt)/tt)*tt,i:rt}})}return Oe.links=function(Ge){return Oi(Be(Ge)).edges.filter(function(Ye){return Ye.l&&Ye.r}).map(function(Ye){return{source:Ge[Ye.l.i],target:Ge[Ye.r.i]}})},Oe.triangles=function(Ge){var Ye=[];return Oi(Be(Ge)).cells.forEach(function(rt,pt){for(var vt,St,It,Ct,jt=rt.site,zt=rt.edges.sort(nr),Jt=-1,Zt=zt.length,Gt=zt[Zt-1].edge,mn=Gt.l===jt?Gt.r:Gt.l;++Jt<Zt;)vt=mn,mn=(Gt=zt[Jt].edge).l===jt?Gt.r:Gt.l,pt<vt.i&&pt<mn.i&&(It=vt,Ct=mn,((St=jt).x-Ct.x)*(It.y-St.y)-(St.x-It.x)*(Ct.y-St.y)<0)&&Ye.push([Ge[pt],Ge[vt.i],Ge[mn.i]])}),Ye},Oe.x=function(Ge){return arguments.length?(ae=Nn(q=Ge),Oe):q},Oe.y=function(Ge){return arguments.length?(fe=Nn(ee=Ge),Oe):ee},Oe.clipExtent=function(Ge){return arguments.length?(we=Ge??jr,Oe):we===jr?null:we},Oe.size=function(Ge){return arguments.length?Oe.clipExtent(Ge&&[[0,0],Ge]):we===jr?null:we&&we[1]},Oe};var jr=[[-1e6,-1e6],[1e6,1e6]];function $i(L){return L.x}function to(L){return L.y}function Xi(L,q,ee,ae,fe,we){if(!L(q,ee,ae,fe,we)){var Oe=.5*(ee+fe),Be=.5*(ae+we),Ge=q.nodes;Ge[0]&&Xi(L,Ge[0],ee,ae,Oe,Be),Ge[1]&&Xi(L,Ge[1],Oe,ae,fe,Be),Ge[2]&&Xi(L,Ge[2],ee,Be,Oe,we),Ge[3]&&Xi(L,Ge[3],Oe,Be,fe,we)}}function Ko(L,q){L=o.rgb(L),q=o.rgb(q);var ee=L.r,ae=L.g,fe=L.b,we=q.r-ee,Oe=q.g-ae,Be=q.b-fe;return function(Ge){return"#"+nn(Math.round(ee+we*Ge))+nn(Math.round(ae+Oe*Ge))+nn(Math.round(fe+Be*Ge))}}function ms(L,q){var ee,ae={},fe={};for(ee in L)ee in q?ae[ee]=no(L[ee],q[ee]):fe[ee]=L[ee];for(ee in q)ee in L||(fe[ee]=q[ee]);return function(we){for(ee in ae)fe[ee]=ae[ee](we);return fe}}function da(L,q){return L=+L,q=+q,function(ee){return L*(1-ee)+q*ee}}function Oo(L,q){var ee,ae,fe,we=Io.lastIndex=ys.lastIndex=0,Oe=-1,Be=[],Ge=[];for(L+="",q+="";(ee=Io.exec(L))&&(ae=ys.exec(q));)(fe=ae.index)>we&&(fe=q.slice(we,fe),Be[Oe]?Be[Oe]+=fe:Be[++Oe]=fe),(ee=ee[0])===(ae=ae[0])?Be[Oe]?Be[Oe]+=ae:Be[++Oe]=ae:(Be[++Oe]=null,Ge.push({i:Oe,x:da(ee,ae)})),we=ys.lastIndex;return we<q.length&&(fe=q.slice(we),Be[Oe]?Be[Oe]+=fe:Be[++Oe]=fe),Be.length<2?Ge[0]?(q=Ge[0].x,function(Ye){return q(Ye)+""}):function(){return q}:(q=Ge.length,function(Ye){for(var rt,pt=0;pt<q;++pt)Be[(rt=Ge[pt]).i]=rt.x(Ye);return Be.join("")})}o.geom.delaunay=function(L){return o.geom.voronoi().triangles(L)},o.geom.quadtree=function(L,q,ee,ae,fe){var we,Oe=Gn,Be=qn;if(we=arguments.length)return Oe=$i,Be=to,we===3&&(fe=ee,ae=q,ee=q=0),Ge(L);function Ge(Ye){var rt,pt,vt,St,It,Ct,jt,zt,Jt,Zt=Nn(Oe),Gt=Nn(Be);if(q!=null)Ct=q,jt=ee,zt=ae,Jt=fe;else if(zt=Jt=-(Ct=jt=1/0),pt=[],vt=[],It=Ye.length,we)for(St=0;St<It;++St)(rt=Ye[St]).x<Ct&&(Ct=rt.x),rt.y<jt&&(jt=rt.y),rt.x>zt&&(zt=rt.x),rt.y>Jt&&(Jt=rt.y),pt.push(rt.x),vt.push(rt.y);else for(St=0;St<It;++St){var mn=+Zt(rt=Ye[St],St),_n=+Gt(rt,St);mn<Ct&&(Ct=mn),_n<jt&&(jt=_n),mn>zt&&(zt=mn),_n>Jt&&(Jt=_n),pt.push(mn),vt.push(_n)}var Cn=zt-Ct,zn=Jt-jt;function Wn(Kn,hr,wr,Or,or,fr,Mr,mr){if(!isNaN(wr)&&!isNaN(Or))if(Kn.leaf){var Lr=Kn.x,Dr=Kn.y;if(Lr!=null)if(g(Lr-wr)+g(Dr-Or)<.01)sr(Kn,hr,wr,Or,or,fr,Mr,mr);else{var Gr=Kn.point;Kn.x=Kn.y=Kn.point=null,sr(Kn,Gr,Lr,Dr,or,fr,Mr,mr),sr(Kn,hr,wr,Or,or,fr,Mr,mr)}else Kn.x=wr,Kn.y=Or,Kn.point=hr}else sr(Kn,hr,wr,Or,or,fr,Mr,mr)}function sr(Kn,hr,wr,Or,or,fr,Mr,mr){var Lr=.5*(or+Mr),Dr=.5*(fr+mr),Gr=wr>=Lr,Wr=Or>=Dr,Zr=Wr<<1|Gr;Kn.leaf=!1,Gr?or=Lr:Mr=Lr,Wr?fr=Dr:mr=Dr,Wn(Kn=Kn.nodes[Zr]||(Kn.nodes[Zr]={leaf:!0,nodes:[],point:null,x:null,y:null}),hr,wr,Or,or,fr,Mr,mr)}Cn>zn?Jt=jt+Cn:zt=Ct+zn;var vr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Kn){Wn(vr,Kn,+Zt(Kn,++St),+Gt(Kn,St),Ct,jt,zt,Jt)}};if(vr.visit=function(Kn){Xi(Kn,vr,Ct,jt,zt,Jt)},vr.find=function(Kn){return function(hr,wr,Or,or,fr,Mr,mr){var Lr,Dr=1/0;return function Gr(Wr,Zr,Qr,wi,Bi){if(!(Zr>Mr||Qr>mr||wi<or||Bi<fr)){if(Ma=Wr.point){var Ma,na=wr-Wr.x,va=Or-Wr.y,Mi=na*na+va*va;if(Mi<Dr){var ti=Math.sqrt(Dr=Mi);or=wr-ti,fr=Or-ti,Mr=wr+ti,mr=Or+ti,Lr=Ma}}for(var Ii=Wr.nodes,di=.5*(Zr+wi),ii=.5*(Qr+Bi),zi=(Or>=ii)<<1|wr>=di,Ni=zi+4;zi<Ni;++zi)if(Wr=Ii[3&zi])switch(3&zi){case 0:Gr(Wr,Zr,Qr,di,ii);break;case 1:Gr(Wr,di,Qr,wi,ii);break;case 2:Gr(Wr,Zr,ii,di,Bi);break;case 3:Gr(Wr,di,ii,wi,Bi)}}}(hr,or,fr,Mr,mr),Lr}(vr,Kn[0],Kn[1],Ct,jt,zt,Jt)},St=-1,q==null){for(;++St<It;)Wn(vr,Ye[St],pt[St],vt[St],Ct,jt,zt,Jt);--St}else Ye.forEach(vr.add);return pt=vt=Ye=rt=null,vr}return Ge.x=function(Ye){return arguments.length?(Oe=Ye,Ge):Oe},Ge.y=function(Ye){return arguments.length?(Be=Ye,Ge):Be},Ge.extent=function(Ye){return arguments.length?(Ye==null?q=ee=ae=fe=null:(q=+Ye[0][0],ee=+Ye[0][1],ae=+Ye[1][0],fe=+Ye[1][1]),Ge):q==null?null:[[q,ee],[ae,fe]]},Ge.size=function(Ye){return arguments.length?(Ye==null?q=ee=ae=fe=null:(q=ee=0,ae=+Ye[0],fe=+Ye[1]),Ge):q==null?null:[ae-q,fe-ee]},Ge},o.interpolateRgb=Ko,o.interpolateObject=ms,o.interpolateNumber=da,o.interpolateString=Oo;var Io=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ys=new RegExp(Io.source,"g");function no(L,q){for(var ee,ae=o.interpolators.length;--ae>=0&&!(ee=o.interpolators[ae](L,q)););return ee}function po(L,q){var ee,ae=[],fe=[],we=L.length,Oe=q.length,Be=Math.min(L.length,q.length);for(ee=0;ee<Be;++ee)ae.push(no(L[ee],q[ee]));for(;ee<we;++ee)fe[ee]=L[ee];for(;ee<Oe;++ee)fe[ee]=q[ee];return function(Ge){for(ee=0;ee<Be;++ee)fe[ee]=ae[ee](Ge);return fe}}o.interpolate=no,o.interpolators=[function(L,q){var ee=typeof q;return(ee==="string"?Pn.has(q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(q)?Ko:Oo:q instanceof je?Ko:Array.isArray(q)?po:ee==="object"&&isNaN(q)?ms:da)(L,q)}],o.interpolateArray=po;var go=function(){return z},hi=o.map({linear:go,poly:function(L){return function(q){return Math.pow(q,L)}},quad:function(){return vo},cubic:function(){return xs},sin:function(){return bs},exp:function(){return $o},circle:function(){return _s},elastic:function(L,q){var ee;return arguments.length<2&&(q=.45),arguments.length?ee=q/Ft*Math.asin(1/L):(L=1,ee=q/4),function(ae){return 1+L*Math.pow(2,-10*ae)*Math.sin((ae-ee)*Ft/q)}},back:function(L){return L||(L=1.70158),function(q){return q*q*((L+1)*q-L)}},bounce:function(){return Ro}}),Qi=o.map({in:z,out:Jo,"in-out":zo,"out-in":function(L){return zo(Jo(L))}});function Jo(L){return function(q){return 1-L(1-q)}}function zo(L){return function(q){return .5*(q<.5?L(2*q):2-L(2-2*q))}}function vo(L){return L*L}function xs(L){return L*L*L}function Do(L){if(L<=0)return 0;if(L>=1)return 1;var q=L*L,ee=q*L;return 4*(L<.5?ee:3*(L-q)+ee-.75)}function bs(L){return 1-Math.cos(L*Xe)}function $o(L){return Math.pow(2,10*(L-1))}function _s(L){return 1-Math.sqrt(1-L*L)}function Ro(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function Eu(L,q){return q-=L,function(ee){return Math.round(L+q*ee)}}function su(L){var q,ee,ae,fe=[L.a,L.b],we=[L.c,L.d],Oe=Zu(fe),Be=Hs(fe,we),Ge=Zu(((q=we)[0]+=(ae=-Be)*(ee=fe)[0],q[1]+=ae*ee[1],q))||0;fe[0]*we[1]<we[0]*fe[1]&&(fe[0]*=-1,fe[1]*=-1,Oe*=-1,Be*=-1),this.rotate=(Oe?Math.atan2(fe[1],fe[0]):Math.atan2(-we[0],we[1]))*Ve,this.translate=[L.e,L.f],this.scale=[Oe,Ge],this.skew=Ge?Math.atan2(Be,Ge)*Ve:0}function Hs(L,q){return L[0]*q[0]+L[1]*q[1]}function Zu(L){var q=Math.sqrt(Hs(L,L));return q&&(L[0]/=q,L[1]/=q),q}o.ease=function(L){var q,ee=L.indexOf("-"),ae=ee>=0?L.slice(0,ee):L,fe=ee>=0?L.slice(ee+1):"in";return ae=hi.get(ae)||go,fe=Qi.get(fe)||z,q=fe(ae.apply(null,_.call(arguments,1))),function(we){return we<=0?0:we>=1?1:q(we)}},o.interpolateHcl=function(L,q){L=o.hcl(L),q=o.hcl(q);var ee=L.h,ae=L.c,fe=L.l,we=q.h-ee,Oe=q.c-ae,Be=q.l-fe;return isNaN(Oe)&&(Oe=0,ae=isNaN(ae)?q.c:ae),isNaN(we)?(we=0,ee=isNaN(ee)?q.h:ee):we>180?we-=360:we<-180&&(we+=360),function(Ge){return wt(ee+we*Ge,ae+Oe*Ge,fe+Be*Ge)+""}},o.interpolateHsl=function(L,q){L=o.hsl(L),q=o.hsl(q);var ee=L.h,ae=L.s,fe=L.l,we=q.h-ee,Oe=q.s-ae,Be=q.l-fe;return isNaN(Oe)&&(Oe=0,ae=isNaN(ae)?q.s:ae),isNaN(we)?(we=0,ee=isNaN(ee)?q.h:ee):we>180?we-=360:we<-180&&(we+=360),function(Ge){return dt(ee+we*Ge,ae+Oe*Ge,fe+Be*Ge)+""}},o.interpolateLab=function(L,q){L=o.lab(L),q=o.lab(q);var ee=L.l,ae=L.a,fe=L.b,we=q.l-ee,Oe=q.a-ae,Be=q.b-fe;return function(Ge){return cn(ee+we*Ge,ae+Oe*Ge,fe+Be*Ge)+""}},o.interpolateRound=Eu,o.transform=function(L){var q=f.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(ee){if(ee!=null){q.setAttribute("transform",ee);var ae=q.transform.baseVal.consolidate()}return new su(ae?ae.matrix:Ku)})(L)},su.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ku={a:1,b:0,c:0,d:1,e:0,f:0};function qs(L){return L.length?L.pop()+",":""}function Ju(L,q){var ee=[],ae=[];return L=o.transform(L),q=o.transform(q),function(fe,we,Oe,Be){if(fe[0]!==we[0]||fe[1]!==we[1]){var Ge=Oe.push("translate(",null,",",null,")");Be.push({i:Ge-4,x:da(fe[0],we[0])},{i:Ge-2,x:da(fe[1],we[1])})}else(we[0]||we[1])&&Oe.push("translate("+we+")")}(L.translate,q.translate,ee,ae),function(fe,we,Oe,Be){fe!==we?(fe-we>180?we+=360:we-fe>180&&(fe+=360),Be.push({i:Oe.push(qs(Oe)+"rotate(",null,")")-2,x:da(fe,we)})):we&&Oe.push(qs(Oe)+"rotate("+we+")")}(L.rotate,q.rotate,ee,ae),function(fe,we,Oe,Be){fe!==we?Be.push({i:Oe.push(qs(Oe)+"skewX(",null,")")-2,x:da(fe,we)}):we&&Oe.push(qs(Oe)+"skewX("+we+")")}(L.skew,q.skew,ee,ae),function(fe,we,Oe,Be){if(fe[0]!==we[0]||fe[1]!==we[1]){var Ge=Oe.push(qs(Oe)+"scale(",null,",",null,")");Be.push({i:Ge-4,x:da(fe[0],we[0])},{i:Ge-2,x:da(fe[1],we[1])})}else we[0]===1&&we[1]===1||Oe.push(qs(Oe)+"scale("+we+")")}(L.scale,q.scale,ee,ae),L=q=null,function(fe){for(var we,Oe=-1,Be=ae.length;++Oe<Be;)ee[(we=ae[Oe]).i]=we.x(fe);return ee.join("")}}function Dc(L,q){return q=(q-=L=+L)||1/q,function(ee){return(ee-L)/q}}function Rc(L,q){return q=(q-=L=+L)||1/q,function(ee){return Math.max(0,Math.min(1,(ee-L)/q))}}function Gs(L){for(var q=L.source,ee=L.target,ae=function(Oe,Be){if(Oe===Be)return Oe;for(var Ge=Fo(Oe),Ye=Fo(Be),rt=Ge.pop(),pt=Ye.pop(),vt=null;rt===pt;)vt=rt,rt=Ge.pop(),pt=Ye.pop();return vt}(q,ee),fe=[q];q!==ae;)q=q.parent,fe.push(q);for(var we=fe.length;ee!==ae;)fe.splice(we,0,ee),ee=ee.parent;return fe}function Fo(L){for(var q=[],ee=L.parent;ee!=null;)q.push(L),L=ee,ee=ee.parent;return q.push(L),q}function cl(L){L.fixed|=2}function Ws(L){L.fixed&=-7}function Dl(L){L.fixed|=4,L.px=L.x,L.py=L.y}function Ys(L){L.fixed&=-5}function mo(L,q,ee){var ae=0,fe=0;if(L.charge=0,!L.leaf)for(var we,Oe=L.nodes,Be=Oe.length,Ge=-1;++Ge<Be;)(we=Oe[Ge])!=null&&(mo(we,q,ee),L.charge+=we.charge,ae+=we.charge*we.cx,fe+=we.charge*we.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var Ye=q*ee[L.point.index];L.charge+=L.pointCharge=Ye,ae+=Ye*L.point.x,fe+=Ye*L.point.y}L.cx=ae/L.charge,L.cy=fe/L.charge}o.interpolateTransform=Ju,o.layout={},o.layout.bundle=function(){return function(L){for(var q=[],ee=-1,ae=L.length;++ee<ae;)q.push(Gs(L[ee]));return q}},o.layout.chord=function(){var L,q,ee,ae,fe,we,Oe,Be={},Ge=0;function Ye(){var pt,vt,St,It,Ct,jt={},zt=[],Jt=o.range(ae),Zt=[];for(L=[],q=[],pt=0,It=-1;++It<ae;){for(vt=0,Ct=-1;++Ct<ae;)vt+=ee[It][Ct];zt.push(vt),Zt.push(o.range(ae)),pt+=vt}for(fe&&Jt.sort(function(vr,Kn){return fe(zt[vr],zt[Kn])}),we&&Zt.forEach(function(vr,Kn){vr.sort(function(hr,wr){return we(ee[Kn][hr],ee[Kn][wr])})}),pt=(Ft-Ge*ae)/pt,vt=0,It=-1;++It<ae;){for(St=vt,Ct=-1;++Ct<ae;){var Gt=Jt[It],mn=Zt[Gt][Ct],_n=ee[Gt][mn],Cn=vt,zn=vt+=_n*pt;jt[Gt+"-"+mn]={index:Gt,subindex:mn,startAngle:Cn,endAngle:zn,value:_n}}q[Gt]={index:Gt,startAngle:St,endAngle:vt,value:zt[Gt]},vt+=Ge}for(It=-1;++It<ae;)for(Ct=It-1;++Ct<ae;){var Wn=jt[It+"-"+Ct],sr=jt[Ct+"-"+It];(Wn.value||sr.value)&&L.push(Wn.value<sr.value?{source:sr,target:Wn}:{source:Wn,target:sr})}Oe&&rt()}function rt(){L.sort(function(pt,vt){return Oe((pt.source.value+pt.target.value)/2,(vt.source.value+vt.target.value)/2)})}return Be.matrix=function(pt){return arguments.length?(ae=(ee=pt)&&ee.length,L=q=null,Be):ee},Be.padding=function(pt){return arguments.length?(Ge=pt,L=q=null,Be):Ge},Be.sortGroups=function(pt){return arguments.length?(fe=pt,L=q=null,Be):fe},Be.sortSubgroups=function(pt){return arguments.length?(we=pt,L=null,Be):we},Be.sortChords=function(pt){return arguments.length?(Oe=pt,L&&rt(),Be):Oe},Be.chords=function(){return L||Ye(),L},Be.groups=function(){return q||Ye(),q},Be},o.layout.force=function(){var L,q,ee,ae,fe,we,Oe={},Be=o.dispatch("start","tick","end"),Ge=[1,1],Ye=.9,rt=Lu,pt=ws,vt=-30,St=Qo,It=.1,Ct=.64,jt=[],zt=[];function Jt(Gt){return function(mn,_n,Cn,zn){if(mn.point!==Gt){var Wn=mn.cx-Gt.x,sr=mn.cy-Gt.y,vr=zn-_n,Kn=Wn*Wn+sr*sr;if(vr*vr/Ct<Kn){if(Kn<St){var hr=mn.charge/Kn;Gt.px-=Wn*hr,Gt.py-=sr*hr}return!0}mn.point&&Kn&&Kn<St&&(hr=mn.pointCharge/Kn,Gt.px-=Wn*hr,Gt.py-=sr*hr)}return!mn.charge}}function Zt(Gt){Gt.px=o.event.x,Gt.py=o.event.y,Oe.resume()}return Oe.tick=function(){if((ee*=.99)<.005)return L=null,Be.end({type:"end",alpha:ee=0}),!0;var Gt,mn,_n,Cn,zn,Wn,sr,vr,Kn,hr=jt.length,wr=zt.length;for(mn=0;mn<wr;++mn)Cn=(_n=zt[mn]).source,(Wn=(vr=(zn=_n.target).x-Cn.x)*vr+(Kn=zn.y-Cn.y)*Kn)&&(vr*=Wn=ee*fe[mn]*((Wn=Math.sqrt(Wn))-ae[mn])/Wn,Kn*=Wn,zn.x-=vr*(sr=Cn.weight+zn.weight?Cn.weight/(Cn.weight+zn.weight):.5),zn.y-=Kn*sr,Cn.x+=vr*(sr=1-sr),Cn.y+=Kn*sr);if((sr=ee*It)&&(vr=Ge[0]/2,Kn=Ge[1]/2,mn=-1,sr))for(;++mn<hr;)(_n=jt[mn]).x+=(vr-_n.x)*sr,_n.y+=(Kn-_n.y)*sr;if(vt)for(mo(Gt=o.geom.quadtree(jt),ee,we),mn=-1;++mn<hr;)(_n=jt[mn]).fixed||Gt.visit(Jt(_n));for(mn=-1;++mn<hr;)(_n=jt[mn]).fixed?(_n.x=_n.px,_n.y=_n.py):(_n.x-=(_n.px-(_n.px=_n.x))*Ye,_n.y-=(_n.py-(_n.py=_n.y))*Ye);Be.tick({type:"tick",alpha:ee})},Oe.nodes=function(Gt){return arguments.length?(jt=Gt,Oe):jt},Oe.links=function(Gt){return arguments.length?(zt=Gt,Oe):zt},Oe.size=function(Gt){return arguments.length?(Ge=Gt,Oe):Ge},Oe.linkDistance=function(Gt){return arguments.length?(rt=typeof Gt=="function"?Gt:+Gt,Oe):rt},Oe.distance=Oe.linkDistance,Oe.linkStrength=function(Gt){return arguments.length?(pt=typeof Gt=="function"?Gt:+Gt,Oe):pt},Oe.friction=function(Gt){return arguments.length?(Ye=+Gt,Oe):Ye},Oe.charge=function(Gt){return arguments.length?(vt=typeof Gt=="function"?Gt:+Gt,Oe):vt},Oe.chargeDistance=function(Gt){return arguments.length?(St=Gt*Gt,Oe):Math.sqrt(St)},Oe.gravity=function(Gt){return arguments.length?(It=+Gt,Oe):It},Oe.theta=function(Gt){return arguments.length?(Ct=Gt*Gt,Oe):Math.sqrt(Ct)},Oe.alpha=function(Gt){return arguments.length?(Gt=+Gt,ee?Gt>0?ee=Gt:(L.c=null,L.t=NaN,L=null,Be.end({type:"end",alpha:ee=0})):Gt>0&&(Be.start({type:"start",alpha:ee=Gt}),L=rn(Oe.tick)),Oe):ee},Oe.start=function(){var Gt,mn,_n,Cn=jt.length,zn=zt.length,Wn=Ge[0],sr=Ge[1];for(Gt=0;Gt<Cn;++Gt)(_n=jt[Gt]).index=Gt,_n.weight=0;for(Gt=0;Gt<zn;++Gt)typeof(_n=zt[Gt]).source=="number"&&(_n.source=jt[_n.source]),typeof _n.target=="number"&&(_n.target=jt[_n.target]),++_n.source.weight,++_n.target.weight;for(Gt=0;Gt<Cn;++Gt)_n=jt[Gt],isNaN(_n.x)&&(_n.x=vr("x",Wn)),isNaN(_n.y)&&(_n.y=vr("y",sr)),isNaN(_n.px)&&(_n.px=_n.x),isNaN(_n.py)&&(_n.py=_n.y);if(ae=[],typeof rt=="function")for(Gt=0;Gt<zn;++Gt)ae[Gt]=+rt.call(this,zt[Gt],Gt);else for(Gt=0;Gt<zn;++Gt)ae[Gt]=rt;if(fe=[],typeof pt=="function")for(Gt=0;Gt<zn;++Gt)fe[Gt]=+pt.call(this,zt[Gt],Gt);else for(Gt=0;Gt<zn;++Gt)fe[Gt]=pt;if(we=[],typeof vt=="function")for(Gt=0;Gt<Cn;++Gt)we[Gt]=+vt.call(this,jt[Gt],Gt);else for(Gt=0;Gt<Cn;++Gt)we[Gt]=vt;function vr(Kn,hr){if(!mn){for(mn=new Array(Cn),fr=0;fr<Cn;++fr)mn[fr]=[];for(fr=0;fr<zn;++fr){var wr=zt[fr];mn[wr.source.index].push(wr.target),mn[wr.target.index].push(wr.source)}}for(var Or,or=mn[Gt],fr=-1,Mr=or.length;++fr<Mr;)if(!isNaN(Or=or[fr][Kn]))return Or;return Math.random()*hr}return Oe.resume()},Oe.resume=function(){return Oe.alpha(.1)},Oe.stop=function(){return Oe.alpha(0)},Oe.drag=function(){if(q||(q=o.behavior.drag().origin(z).on("dragstart.force",cl).on("drag.force",Zt).on("dragend.force",Ws)),!arguments.length)return q;this.on("mouseover.force",Dl).on("mouseout.force",Ys).call(q)},o.rebind(Oe,Be,"on")};var Lu=20,ws=1,Qo=1/0;function es(L,q){return o.rebind(L,q,"sort","children","value"),L.nodes=L,L.links=hl,L}function Ts(L,q){for(var ee=[L];(L=ee.pop())!=null;)if(q(L),(fe=L.children)&&(ae=fe.length))for(var ae,fe;--ae>=0;)ee.push(fe[ae])}function Kr(L,q){for(var ee=[L],ae=[];(L=ee.pop())!=null;)if(ae.push(L),(we=L.children)&&(fe=we.length))for(var fe,we,Oe=-1;++Oe<fe;)ee.push(we[Oe]);for(;(L=ae.pop())!=null;)q(L)}function fl(L){return L.children}function Fc(L){return L.value}function lu(L,q){return q.value-L.value}function hl(L){return o.merge(L.map(function(q){return(q.children||[]).map(function(ee){return{source:q,target:ee}})}))}o.layout.hierarchy=function(){var L=lu,q=fl,ee=Fc;function ae(fe){var we,Oe=[fe],Be=[];for(fe.depth=0;(we=Oe.pop())!=null;)if(Be.push(we),(Ye=q.call(ae,we,we.depth))&&(Ge=Ye.length)){for(var Ge,Ye,rt;--Ge>=0;)Oe.push(rt=Ye[Ge]),rt.parent=we,rt.depth=we.depth+1;ee&&(we.value=0),we.children=Ye}else ee&&(we.value=+ee.call(ae,we,we.depth)||0),delete we.children;return Kr(fe,function(pt){var vt,St;L&&(vt=pt.children)&&vt.sort(L),ee&&(St=pt.parent)&&(St.value+=pt.value)}),Be}return ae.sort=function(fe){return arguments.length?(L=fe,ae):L},ae.children=function(fe){return arguments.length?(q=fe,ae):q},ae.value=function(fe){return arguments.length?(ee=fe,ae):ee},ae.revalue=function(fe){return ee&&(Ts(fe,function(we){we.children&&(we.value=0)}),Kr(fe,function(we){var Oe;we.children||(we.value=+ee.call(ae,we,we.depth)||0),(Oe=we.parent)&&(Oe.value+=we.value)})),fe},ae},o.layout.partition=function(){var L=o.layout.hierarchy(),q=[1,1];function ee(we,Oe,Be,Ge){var Ye=we.children;if(we.x=Oe,we.y=we.depth*Ge,we.dx=Be,we.dy=Ge,Ye&&(rt=Ye.length)){var rt,pt,vt,St=-1;for(Be=we.value?Be/we.value:0;++St<rt;)ee(pt=Ye[St],Oe,vt=pt.value*Be,Ge),Oe+=vt}}function ae(we){var Oe=we.children,Be=0;if(Oe&&(Ge=Oe.length))for(var Ge,Ye=-1;++Ye<Ge;)Be=Math.max(Be,ae(Oe[Ye]));return 1+Be}function fe(we,Oe){var Be=L.call(this,we,Oe);return ee(Be[0],0,q[0],q[1]/ae(Be[0])),Be}return fe.size=function(we){return arguments.length?(q=we,fe):q},es(fe,L)},o.layout.pie=function(){var L=Number,q=$u,ee=0,ae=Ft,fe=0;function we(Oe){var Be,Ge=Oe.length,Ye=Oe.map(function(Jt,Zt){return+L.call(we,Jt,Zt)}),rt=+(typeof ee=="function"?ee.apply(this,arguments):ee),pt=(typeof ae=="function"?ae.apply(this,arguments):ae)-rt,vt=Math.min(Math.abs(pt)/Ge,+(typeof fe=="function"?fe.apply(this,arguments):fe)),St=vt*(pt<0?-1:1),It=o.sum(Ye),Ct=It?(pt-Ge*St)/It:0,jt=o.range(Ge),zt=[];return q!=null&&jt.sort(q===$u?function(Jt,Zt){return Ye[Zt]-Ye[Jt]}:function(Jt,Zt){return q(Oe[Jt],Oe[Zt])}),jt.forEach(function(Jt){zt[Jt]={data:Oe[Jt],value:Be=Ye[Jt],startAngle:rt,endAngle:rt+=Be*Ct+St,padAngle:vt}}),zt}return we.value=function(Oe){return arguments.length?(L=Oe,we):L},we.sort=function(Oe){return arguments.length?(q=Oe,we):q},we.startAngle=function(Oe){return arguments.length?(ee=Oe,we):ee},we.endAngle=function(Oe){return arguments.length?(ae=Oe,we):ae},we.padAngle=function(Oe){return arguments.length?(fe=Oe,we):fe},we};var $u={};function Bc(L){return L.x}function uu(L){return L.y}function Nc(L,q,ee){L.y0=q,L.y=ee}o.layout.stack=function(){var L=z,q=ts,ee=yo,ae=Nc,fe=Bc,we=uu;function Oe(Be,Ge){if(!(vt=Be.length))return Be;var Ye=Be.map(function(Jt,Zt){return L.call(Oe,Jt,Zt)}),rt=Ye.map(function(Jt){return Jt.map(function(Zt,Gt){return[fe.call(Oe,Zt,Gt),we.call(Oe,Zt,Gt)]})}),pt=q.call(Oe,rt,Ge);Ye=o.permute(Ye,pt),rt=o.permute(rt,pt);var vt,St,It,Ct,jt=ee.call(Oe,rt,Ge),zt=Ye[0].length;for(It=0;It<zt;++It)for(ae.call(Oe,Ye[0][It],Ct=jt[It],rt[0][It][1]),St=1;St<vt;++St)ae.call(Oe,Ye[St][It],Ct+=rt[St-1][It][1],rt[St][It][1]);return Be}return Oe.values=function(Be){return arguments.length?(L=Be,Oe):L},Oe.order=function(Be){return arguments.length?(q=typeof Be=="function"?Be:ks.get(Be)||ts,Oe):q},Oe.offset=function(Be){return arguments.length?(ee=typeof Be=="function"?Be:Xs.get(Be)||yo,Oe):ee},Oe.x=function(Be){return arguments.length?(fe=Be,Oe):fe},Oe.y=function(Be){return arguments.length?(we=Be,Oe):we},Oe.out=function(Be){return arguments.length?(ae=Be,Oe):ae},Oe};var ks=o.map({"inside-out":function(L){var q,ee,ae=L.length,fe=L.map(pl),we=L.map(Qu),Oe=o.range(ae).sort(function(pt,vt){return fe[pt]-fe[vt]}),Be=0,Ge=0,Ye=[],rt=[];for(q=0;q<ae;++q)ee=Oe[q],Be<Ge?(Be+=we[ee],Ye.push(ee)):(Ge+=we[ee],rt.push(ee));return rt.reverse().concat(Ye)},reverse:function(L){return o.range(L.length).reverse()},default:ts}),Xs=o.map({silhouette:function(L){var q,ee,ae,fe=L.length,we=L[0].length,Oe=[],Be=0,Ge=[];for(ee=0;ee<we;++ee){for(q=0,ae=0;q<fe;q++)ae+=L[q][ee][1];ae>Be&&(Be=ae),Oe.push(ae)}for(ee=0;ee<we;++ee)Ge[ee]=(Be-Oe[ee])/2;return Ge},wiggle:function(L){var q,ee,ae,fe,we,Oe,Be,Ge,Ye,rt=L.length,pt=L[0],vt=pt.length,St=[];for(St[0]=Ge=Ye=0,ee=1;ee<vt;++ee){for(q=0,fe=0;q<rt;++q)fe+=L[q][ee][1];for(q=0,we=0,Be=pt[ee][0]-pt[ee-1][0];q<rt;++q){for(ae=0,Oe=(L[q][ee][1]-L[q][ee-1][1])/(2*Be);ae<q;++ae)Oe+=(L[ae][ee][1]-L[ae][ee-1][1])/Be;we+=Oe*L[q][ee][1]}St[ee]=Ge-=fe?we/fe*Be:0,Ge<Ye&&(Ye=Ge)}for(ee=0;ee<vt;++ee)St[ee]-=Ye;return St},expand:function(L){var q,ee,ae,fe=L.length,we=L[0].length,Oe=1/fe,Be=[];for(ee=0;ee<we;++ee){for(q=0,ae=0;q<fe;q++)ae+=L[q][ee][1];if(ae)for(q=0;q<fe;q++)L[q][ee][1]/=ae;else for(q=0;q<fe;q++)L[q][ee][1]=Oe}for(ee=0;ee<we;++ee)Be[ee]=0;return Be},zero:yo});function ts(L){return o.range(L.length)}function yo(L){for(var q=-1,ee=L[0].length,ae=[];++q<ee;)ae[q]=0;return ae}function pl(L){for(var q,ee=1,ae=0,fe=L[0][1],we=L.length;ee<we;++ee)(q=L[ee][1])>fe&&(ae=ee,fe=q);return ae}function Qu(L){return L.reduce(Rl,0)}function Rl(L,q){return L+q[1]}function cu(L,q){return Ya(L,Math.ceil(Math.log(q.length)/Math.LN2+1))}function Ya(L,q){for(var ee=-1,ae=+L[0],fe=(L[1]-ae)/q,we=[];++ee<=q;)we[ee]=fe*ee+ae;return we}function fu(L){return[o.min(L),o.max(L)]}function ec(L,q){return L.value-q.value}function dl(L,q){var ee=L._pack_next;L._pack_next=q,q._pack_prev=L,q._pack_next=ee,ee._pack_prev=q}function Zs(L,q){L._pack_next=q,q._pack_prev=L}function vl(L,q){var ee=q.x-L.x,ae=q.y-L.y,fe=L.r+q.r;return .999*fe*fe>ee*ee+ae*ae}function Ks(L){if((q=L.children)&&(Ge=q.length)){var q,ee,ae,fe,we,Oe,Be,Ge,Ye=1/0,rt=-1/0,pt=1/0,vt=-1/0;if(q.forEach(Js),(ee=q[0]).x=-ee.r,ee.y=0,Zt(ee),Ge>1&&((ae=q[1]).x=ae.r,ae.y=0,Zt(ae),Ge>2))for(li(ee,ae,fe=q[2]),Zt(fe),dl(ee,fe),ee._pack_prev=fe,dl(fe,ae),ae=ee._pack_next,we=3;we<Ge;we++){li(ee,ae,fe=q[we]);var St=0,It=1,Ct=1;for(Oe=ae._pack_next;Oe!==ae;Oe=Oe._pack_next,It++)if(vl(Oe,fe)){St=1;break}if(St==1)for(Be=ee._pack_prev;Be!==Oe._pack_prev&&!vl(Be,fe);Be=Be._pack_prev,Ct++);St?(It<Ct||It==Ct&&ae.r<ee.r?Zs(ee,ae=Oe):Zs(ee=Be,ae),we--):(dl(ee,fe),ae=fe,Zt(fe))}var jt=(Ye+rt)/2,zt=(pt+vt)/2,Jt=0;for(we=0;we<Ge;we++)(fe=q[we]).x-=jt,fe.y-=zt,Jt=Math.max(Jt,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));L.r=Jt,q.forEach(Fl)}function Zt(Gt){Ye=Math.min(Gt.x-Gt.r,Ye),rt=Math.max(Gt.x+Gt.r,rt),pt=Math.min(Gt.y-Gt.r,pt),vt=Math.max(Gt.y+Gt.r,vt)}}function Js(L){L._pack_next=L._pack_prev=L}function Fl(L){delete L._pack_next,delete L._pack_prev}function hu(L,q,ee,ae){var fe=L.children;if(L.x=q+=ae*L.x,L.y=ee+=ae*L.y,L.r*=ae,fe)for(var we=-1,Oe=fe.length;++we<Oe;)hu(fe[we],q,ee,ae)}function li(L,q,ee){var ae=L.r+ee.r,fe=q.x-L.x,we=q.y-L.y;if(ae&&(fe||we)){var Oe=q.r+ee.r,Be=fe*fe+we*we,Ge=.5+((ae*=ae)-(Oe*=Oe))/(2*Be),Ye=Math.sqrt(Math.max(0,2*Oe*(ae+Be)-(ae-=Be)*ae-Oe*Oe))/(2*Be);ee.x=L.x+Ge*fe+Ye*we,ee.y=L.y+Ge*we-Ye*fe}else ee.x=L.x+ae,ee.y=L.y}function As(L,q){return L.parent==q.parent?1:2}function ga(L){var q=L.children;return q.length?q[0]:L.t}function xo(L){var q,ee=L.children;return(q=ee.length)?ee[q-1]:L.t}function ni(L,q,ee){var ae=ee/(q.i-L.i);q.c-=ae,q.s+=ee,L.c+=ae,q.z+=ee,q.m+=ee}function si(L,q,ee){return L.a.parent===q.parent?L.a:ee}function Xa(L){var q=L.children;return q&&q.length?Xa(q[0]):L}function ml(L){var q,ee=L.children;return ee&&(q=ee.length)?ml(ee[q-1]):L}function Bl(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function pu(L,q){var ee=L.x+q[3],ae=L.y+q[0],fe=L.dx-q[1]-q[3],we=L.dy-q[0]-q[2];return fe<0&&(ee+=fe/2,fe=0),we<0&&(ae+=we/2,we=0),{x:ee,y:ae,dx:fe,dy:we}}function Nl(L){var q=L[0],ee=L[L.length-1];return q<ee?[q,ee]:[ee,q]}function jl(L){return L.rangeExtent?L.rangeExtent():Nl(L.range())}function ro(L,q,ee,ae){var fe=ee(L[0],L[1]),we=ae(q[0],q[1]);return function(Oe){return we(fe(Oe))}}function Ms(L,q){var ee,ae=0,fe=L.length-1,we=L[ae],Oe=L[fe];return Oe<we&&(ee=ae,ae=fe,fe=ee,ee=we,we=Oe,Oe=ee),L[ae]=q.floor(we),L[fe]=q.ceil(Oe),L}function Ss(L){return L?{floor:function(q){return Math.floor(q/L)*L},ceil:function(q){return Math.ceil(q/L)*L}}:ka}o.layout.histogram=function(){var L=!0,q=Number,ee=fu,ae=cu;function fe(we,Oe){for(var Be,Ge,Ye=[],rt=we.map(q,this),pt=ee.call(this,rt,Oe),vt=ae.call(this,pt,rt,Oe),St=(Oe=-1,rt.length),It=vt.length-1,Ct=L?1:1/St;++Oe<It;)(Be=Ye[Oe]=[]).dx=vt[Oe+1]-(Be.x=vt[Oe]),Be.y=0;if(It>0)for(Oe=-1;++Oe<St;)(Ge=rt[Oe])>=pt[0]&&Ge<=pt[1]&&((Be=Ye[o.bisect(vt,Ge,1,It)-1]).y+=Ct,Be.push(we[Oe]));return Ye}return fe.value=function(we){return arguments.length?(q=we,fe):q},fe.range=function(we){return arguments.length?(ee=Nn(we),fe):ee},fe.bins=function(we){return arguments.length?(ae=typeof we=="number"?function(Oe){return Ya(Oe,we)}:Nn(we),fe):ae},fe.frequency=function(we){return arguments.length?(L=!!we,fe):L},fe},o.layout.pack=function(){var L,q=o.layout.hierarchy().sort(ec),ee=0,ae=[1,1];function fe(we,Oe){var Be=q.call(this,we,Oe),Ge=Be[0],Ye=ae[0],rt=ae[1],pt=L==null?Math.sqrt:typeof L=="function"?L:function(){return L};if(Ge.x=Ge.y=0,Kr(Ge,function(St){St.r=+pt(St.value)}),Kr(Ge,Ks),ee){var vt=ee*(L?1:Math.max(2*Ge.r/Ye,2*Ge.r/rt))/2;Kr(Ge,function(St){St.r+=vt}),Kr(Ge,Ks),Kr(Ge,function(St){St.r-=vt})}return hu(Ge,Ye/2,rt/2,L?1:1/Math.max(2*Ge.r/Ye,2*Ge.r/rt)),Be}return fe.size=function(we){return arguments.length?(ae=we,fe):ae},fe.radius=function(we){return arguments.length?(L=we==null||typeof we=="function"?we:+we,fe):L},fe.padding=function(we){return arguments.length?(ee=+we,fe):ee},es(fe,q)},o.layout.tree=function(){var L=o.layout.hierarchy().sort(null).value(null),q=As,ee=[1,1],ae=null;function fe(Ge,Ye){var rt=L.call(this,Ge,Ye),pt=rt[0],vt=function(Zt){for(var Gt,mn={A:null,children:[Zt]},_n=[mn];(Gt=_n.pop())!=null;)for(var Cn,zn=Gt.children,Wn=0,sr=zn.length;Wn<sr;++Wn)_n.push((zn[Wn]=Cn={_:zn[Wn],parent:Gt,children:(Cn=zn[Wn].children)&&Cn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wn}).a=Cn);return mn.children[0]}(pt);if(Kr(vt,we),vt.parent.m=-vt.z,Ts(vt,Oe),ae)Ts(pt,Be);else{var St=pt,It=pt,Ct=pt;Ts(pt,function(Zt){Zt.x<St.x&&(St=Zt),Zt.x>It.x&&(It=Zt),Zt.depth>Ct.depth&&(Ct=Zt)});var jt=q(St,It)/2-St.x,zt=ee[0]/(It.x+q(It,St)/2+jt),Jt=ee[1]/(Ct.depth||1);Ts(pt,function(Zt){Zt.x=(Zt.x+jt)*zt,Zt.y=Zt.depth*Jt})}return rt}function we(Ge){var Ye=Ge.children,rt=Ge.parent.children,pt=Ge.i?rt[Ge.i-1]:null;if(Ye.length){(function(St){for(var It,Ct=0,jt=0,zt=St.children,Jt=zt.length;--Jt>=0;)(It=zt[Jt]).z+=Ct,It.m+=Ct,Ct+=It.s+(jt+=It.c)})(Ge);var vt=(Ye[0].z+Ye[Ye.length-1].z)/2;pt?(Ge.z=pt.z+q(Ge._,pt._),Ge.m=Ge.z-vt):Ge.z=vt}else pt&&(Ge.z=pt.z+q(Ge._,pt._));Ge.parent.A=function(St,It,Ct){if(It){for(var jt,zt=St,Jt=St,Zt=It,Gt=zt.parent.children[0],mn=zt.m,_n=Jt.m,Cn=Zt.m,zn=Gt.m;Zt=xo(Zt),zt=ga(zt),Zt&&zt;)Gt=ga(Gt),(Jt=xo(Jt)).a=St,(jt=Zt.z+Cn-zt.z-mn+q(Zt._,zt._))>0&&(ni(si(Zt,St,Ct),St,jt),mn+=jt,_n+=jt),Cn+=Zt.m,mn+=zt.m,zn+=Gt.m,_n+=Jt.m;Zt&&!xo(Jt)&&(Jt.t=Zt,Jt.m+=Cn-_n),zt&&!ga(Gt)&&(Gt.t=zt,Gt.m+=mn-zn,Ct=St)}return Ct}(Ge,pt,Ge.parent.A||rt[0])}function Oe(Ge){Ge._.x=Ge.z+Ge.parent.m,Ge.m+=Ge.parent.m}function Be(Ge){Ge.x*=ee[0],Ge.y=Ge.depth*ee[1]}return fe.separation=function(Ge){return arguments.length?(q=Ge,fe):q},fe.size=function(Ge){return arguments.length?(ae=(ee=Ge)==null?Be:null,fe):ae?null:ee},fe.nodeSize=function(Ge){return arguments.length?(ae=(ee=Ge)==null?null:Be,fe):ae?ee:null},es(fe,L)},o.layout.cluster=function(){var L=o.layout.hierarchy().sort(null).value(null),q=As,ee=[1,1],ae=!1;function fe(we,Oe){var Be,Ge=L.call(this,we,Oe),Ye=Ge[0],rt=0;Kr(Ye,function(Ct){var jt=Ct.children;jt&&jt.length?(Ct.x=function(zt){return zt.reduce(function(Jt,Zt){return Jt+Zt.x},0)/zt.length}(jt),Ct.y=function(zt){return 1+o.max(zt,function(Jt){return Jt.y})}(jt)):(Ct.x=Be?rt+=q(Ct,Be):0,Ct.y=0,Be=Ct)});var pt=Xa(Ye),vt=ml(Ye),St=pt.x-q(pt,vt)/2,It=vt.x+q(vt,pt)/2;return Kr(Ye,ae?function(Ct){Ct.x=(Ct.x-Ye.x)*ee[0],Ct.y=(Ye.y-Ct.y)*ee[1]}:function(Ct){Ct.x=(Ct.x-St)/(It-St)*ee[0],Ct.y=(1-(Ye.y?Ct.y/Ye.y:1))*ee[1]}),Ge}return fe.separation=function(we){return arguments.length?(q=we,fe):q},fe.size=function(we){return arguments.length?(ae=(ee=we)==null,fe):ae?null:ee},fe.nodeSize=function(we){return arguments.length?(ae=(ee=we)!=null,fe):ae?ee:null},es(fe,L)},o.layout.treemap=function(){var L,q=o.layout.hierarchy(),ee=Math.round,ae=[1,1],fe=null,we=Bl,Oe=!1,Be="squarify",Ge=.5*(1+Math.sqrt(5));function Ye(Ct,jt){for(var zt,Jt,Zt=-1,Gt=Ct.length;++Zt<Gt;)Jt=(zt=Ct[Zt]).value*(jt<0?0:jt),zt.area=isNaN(Jt)||Jt<=0?0:Jt}function rt(Ct){var jt=Ct.children;if(jt&&jt.length){var zt,Jt,Zt,Gt=we(Ct),mn=[],_n=jt.slice(),Cn=1/0,zn=Be==="slice"?Gt.dx:Be==="dice"?Gt.dy:Be==="slice-dice"?1&Ct.depth?Gt.dy:Gt.dx:Math.min(Gt.dx,Gt.dy);for(Ye(_n,Gt.dx*Gt.dy/Ct.value),mn.area=0;(Zt=_n.length)>0;)mn.push(zt=_n[Zt-1]),mn.area+=zt.area,Be!=="squarify"||(Jt=vt(mn,zn))<=Cn?(_n.pop(),Cn=Jt):(mn.area-=mn.pop().area,St(mn,zn,Gt,!1),zn=Math.min(Gt.dx,Gt.dy),mn.length=mn.area=0,Cn=1/0);mn.length&&(St(mn,zn,Gt,!0),mn.length=mn.area=0),jt.forEach(rt)}}function pt(Ct){var jt=Ct.children;if(jt&&jt.length){var zt,Jt=we(Ct),Zt=jt.slice(),Gt=[];for(Ye(Zt,Jt.dx*Jt.dy/Ct.value),Gt.area=0;zt=Zt.pop();)Gt.push(zt),Gt.area+=zt.area,zt.z!=null&&(St(Gt,zt.z?Jt.dx:Jt.dy,Jt,!Zt.length),Gt.length=Gt.area=0);jt.forEach(pt)}}function vt(Ct,jt){for(var zt,Jt=Ct.area,Zt=0,Gt=1/0,mn=-1,_n=Ct.length;++mn<_n;)(zt=Ct[mn].area)&&(zt<Gt&&(Gt=zt),zt>Zt&&(Zt=zt));return jt*=jt,(Jt*=Jt)?Math.max(jt*Zt*Ge/Jt,Jt/(jt*Gt*Ge)):1/0}function St(Ct,jt,zt,Jt){var Zt,Gt=-1,mn=Ct.length,_n=zt.x,Cn=zt.y,zn=jt?ee(Ct.area/jt):0;if(jt==zt.dx){for((Jt||zn>zt.dy)&&(zn=zt.dy);++Gt<mn;)(Zt=Ct[Gt]).x=_n,Zt.y=Cn,Zt.dy=zn,_n+=Zt.dx=Math.min(zt.x+zt.dx-_n,zn?ee(Zt.area/zn):0);Zt.z=!0,Zt.dx+=zt.x+zt.dx-_n,zt.y+=zn,zt.dy-=zn}else{for((Jt||zn>zt.dx)&&(zn=zt.dx);++Gt<mn;)(Zt=Ct[Gt]).x=_n,Zt.y=Cn,Zt.dx=zn,Cn+=Zt.dy=Math.min(zt.y+zt.dy-Cn,zn?ee(Zt.area/zn):0);Zt.z=!1,Zt.dy+=zt.y+zt.dy-Cn,zt.x+=zn,zt.dx-=zn}}function It(Ct){var jt=L||q(Ct),zt=jt[0];return zt.x=zt.y=0,zt.value?(zt.dx=ae[0],zt.dy=ae[1]):zt.dx=zt.dy=0,L&&q.revalue(zt),Ye([zt],zt.dx*zt.dy/zt.value),(L?pt:rt)(zt),Oe&&(L=jt),jt}return It.size=function(Ct){return arguments.length?(ae=Ct,It):ae},It.padding=function(Ct){if(!arguments.length)return fe;function jt(Jt){return pu(Jt,Ct)}var zt;return we=(fe=Ct)==null?Bl:(zt=typeof Ct)=="function"?function(Jt){var Zt=Ct.call(It,Jt,Jt.depth);return Zt==null?Bl(Jt):pu(Jt,typeof Zt=="number"?[Zt,Zt,Zt,Zt]:Zt)}:(zt==="number"&&(Ct=[Ct,Ct,Ct,Ct]),jt),It},It.round=function(Ct){return arguments.length?(ee=Ct?Math.round:Number,It):ee!=Number},It.sticky=function(Ct){return arguments.length?(Oe=Ct,L=null,It):Oe},It.ratio=function(Ct){return arguments.length?(Ge=Ct,It):Ge},It.mode=function(Ct){return arguments.length?(Be=Ct+"",It):Be},es(It,q)},o.random={normal:function(L,q){var ee=arguments.length;return ee<2&&(q=1),ee<1&&(L=0),function(){var ae,fe,we;do we=(ae=2*Math.random()-1)*ae+(fe=2*Math.random()-1)*fe;while(!we||we>1);return L+q*ae*Math.sqrt(-2*Math.log(we)/we)}},logNormal:function(){var L=o.random.normal.apply(o,arguments);return function(){return Math.exp(L())}},bates:function(L){var q=o.random.irwinHall(L);return function(){return q()/L}},irwinHall:function(L){return function(){for(var q=0,ee=0;ee<L;ee++)q+=Math.random();return q}}},o.scale={};var ka={floor:z,ceil:z};function Ul(L,q,ee,ae){var fe=[],we=[],Oe=0,Be=Math.min(L.length,q.length)-1;for(L[Be]<L[0]&&(L=L.slice().reverse(),q=q.slice().reverse());++Oe<=Be;)fe.push(ee(L[Oe-1],L[Oe])),we.push(ae(q[Oe-1],q[Oe]));return function(Ge){var Ye=o.bisect(L,Ge,1,Be)-1;return we[Ye](fe[Ye](Ge))}}function io(L,q,ee,ae){var fe,we;function Oe(){var Ge=Math.min(L.length,q.length)>2?Ul:ro,Ye=ae?Rc:Dc;return fe=Ge(L,q,Ye,ee),we=Ge(q,L,Ye,no),Be}function Be(Ge){return fe(Ge)}return Be.invert=function(Ge){return we(Ge)},Be.domain=function(Ge){return arguments.length?(L=Ge.map(Number),Oe()):L},Be.range=function(Ge){return arguments.length?(q=Ge,Oe()):q},Be.rangeRound=function(Ge){return Be.range(Ge).interpolate(Eu)},Be.clamp=function(Ge){return arguments.length?(ae=Ge,Oe()):ae},Be.interpolate=function(Ge){return arguments.length?(ee=Ge,Oe()):ee},Be.ticks=function(Ge){return sa(L,Ge)},Be.tickFormat=function(Ge,Ye){return d3_scale_linearTickFormat(L,Ge,Ye)},Be.nice=function(Ge){return oa(L,Ge),Oe()},Be.copy=function(){return io(L,q,ee,ae)},Oe()}function ea(L,q){return o.rebind(L,q,"range","rangeRound","interpolate","clamp")}function oa(L,q){return Ms(L,Ss(vi(L,q)[2])),Ms(L,Ss(vi(L,q)[2])),L}function vi(L,q){q==null&&(q=10);var ee=Nl(L),ae=ee[1]-ee[0],fe=Math.pow(10,Math.floor(Math.log(ae/q)/Math.LN10)),we=q/ae*fe;return we<=.15?fe*=10:we<=.35?fe*=5:we<=.75&&(fe*=2),ee[0]=Math.ceil(ee[0]/fe)*fe,ee[1]=Math.floor(ee[1]/fe)*fe+.5*fe,ee[2]=fe,ee}function sa(L,q){return o.range.apply(o,vi(L,q))}function Bo(L,q,ee,ae){function fe(Be){return(ee?Math.log(Be<0?0:Be):-Math.log(Be>0?0:-Be))/Math.log(q)}function we(Be){return ee?Math.pow(q,Be):-Math.pow(q,-Be)}function Oe(Be){return L(fe(Be))}return Oe.invert=function(Be){return we(L.invert(Be))},Oe.domain=function(Be){return arguments.length?(ee=Be[0]>=0,L.domain((ae=Be.map(Number)).map(fe)),Oe):ae},Oe.base=function(Be){return arguments.length?(q=+Be,L.domain(ae.map(fe)),Oe):q},Oe.nice=function(){var Be=Ms(ae.map(fe),ee?Math:$s);return L.domain(Be),ae=Be.map(we),Oe},Oe.ticks=function(){var Be=Nl(ae),Ge=[],Ye=Be[0],rt=Be[1],pt=Math.floor(fe(Ye)),vt=Math.ceil(fe(rt)),St=q%1?2:q;if(isFinite(vt-pt)){if(ee){for(;pt<vt;pt++)for(var It=1;It<St;It++)Ge.push(we(pt)*It);Ge.push(we(pt))}else for(Ge.push(we(pt));pt++<vt;)for(It=St-1;It>0;It--)Ge.push(we(pt)*It);for(pt=0;Ge[pt]<Ye;pt++);for(vt=Ge.length;Ge[vt-1]>rt;vt--);Ge=Ge.slice(pt,vt)}return Ge},Oe.copy=function(){return Bo(L.copy(),q,ee,ae)},ea(Oe,L)}o.scale.linear=function(){return io([0,1],[0,1],no,!1)},o.scale.log=function(){return Bo(o.scale.linear().domain([0,1]),10,!0,[1,10])};var $s={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function bo(L,q,ee){var ae=Es(q),fe=Es(1/q);function we(Oe){return L(ae(Oe))}return we.invert=function(Oe){return fe(L.invert(Oe))},we.domain=function(Oe){return arguments.length?(L.domain((ee=Oe.map(Number)).map(ae)),we):ee},we.ticks=function(Oe){return sa(ee,Oe)},we.tickFormat=function(Oe,Be){return d3_scale_linearTickFormat(ee,Oe,Be)},we.nice=function(Oe){return we.domain(oa(ee,Oe))},we.exponent=function(Oe){return arguments.length?(ae=Es(q=Oe),fe=Es(1/q),L.domain(ee.map(ae)),we):q},we.copy=function(){return bo(L.copy(),q,ee)},ea(we,L)}function Es(L){return function(q){return q<0?-Math.pow(-q,L):Math.pow(q,L)}}function Oa(L,q){var ee,ae,fe;function we(Be){return ae[((ee.get(Be)||(q.t==="range"?ee.set(Be,L.push(Be)):NaN))-1)%ae.length]}function Oe(Be,Ge){return o.range(L.length).map(function(Ye){return Be+Ge*Ye})}return we.domain=function(Be){if(!arguments.length)return L;L=[],ee=new m;for(var Ge,Ye=-1,rt=Be.length;++Ye<rt;)ee.has(Ge=Be[Ye])||ee.set(Ge,L.push(Ge));return we[q.t].apply(we,q.a)},we.range=function(Be){return arguments.length?(ae=Be,fe=0,q={t:"range",a:arguments},we):ae},we.rangePoints=function(Be,Ge){arguments.length<2&&(Ge=0);var Ye=Be[0],rt=Be[1],pt=L.length<2?(Ye=(Ye+rt)/2,0):(rt-Ye)/(L.length-1+Ge);return ae=Oe(Ye+pt*Ge/2,pt),fe=0,q={t:"rangePoints",a:arguments},we},we.rangeRoundPoints=function(Be,Ge){arguments.length<2&&(Ge=0);var Ye=Be[0],rt=Be[1],pt=L.length<2?(Ye=rt=Math.round((Ye+rt)/2),0):(rt-Ye)/(L.length-1+Ge)|0;return ae=Oe(Ye+Math.round(pt*Ge/2+(rt-Ye-(L.length-1+Ge)*pt)/2),pt),fe=0,q={t:"rangeRoundPoints",a:arguments},we},we.rangeBands=function(Be,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var rt=Be[1]<Be[0],pt=Be[rt-0],vt=(Be[1-rt]-pt)/(L.length-Ge+2*Ye);return ae=Oe(pt+vt*Ye,vt),rt&&ae.reverse(),fe=vt*(1-Ge),q={t:"rangeBands",a:arguments},we},we.rangeRoundBands=function(Be,Ge,Ye){arguments.length<2&&(Ge=0),arguments.length<3&&(Ye=Ge);var rt=Be[1]<Be[0],pt=Be[rt-0],vt=Be[1-rt],St=Math.floor((vt-pt)/(L.length-Ge+2*Ye));return ae=Oe(pt+Math.round((vt-pt-(L.length-Ge)*St)/2),St),rt&&ae.reverse(),fe=Math.round(St*(1-Ge)),q={t:"rangeRoundBands",a:arguments},we},we.rangeBand=function(){return fe},we.rangeExtent=function(){return Nl(q.a[0])},we.copy=function(){return Oa(L,q)},we.domain(L)}o.scale.pow=function(){return bo(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Oa([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Qs)},o.scale.category20=function(){return o.scale.ordinal().range(ns)},o.scale.category20b=function(){return o.scale.ordinal().range(ao)},o.scale.category20c=function(){return o.scale.ordinal().range(oo)};var Qs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Qt),ns=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Qt),ao=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Qt),oo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Qt);function bi(L,q){var ee;function ae(){var we=0,Oe=q.length;for(ee=[];++we<Oe;)ee[we-1]=o.quantile(L,we/Oe);return fe}function fe(we){if(!isNaN(we=+we))return q[o.bisect(ee,we)]}return fe.domain=function(we){return arguments.length?(L=we.map(h).filter(c).sort(u),ae()):L},fe.range=function(we){return arguments.length?(q=we,ae()):q},fe.quantiles=function(){return ee},fe.invertExtent=function(we){return(we=q.indexOf(we))<0?[NaN,NaN]:[we>0?ee[we-1]:L[0],we<ee.length?ee[we]:L[L.length-1]]},fe.copy=function(){return bi(L,q)},ae()}function _o(L,q,ee){var ae,fe;function we(Be){return ee[Math.max(0,Math.min(fe,Math.floor(ae*(Be-L))))]}function Oe(){return ae=ee.length/(q-L),fe=ee.length-1,we}return we.domain=function(Be){return arguments.length?(L=+Be[0],q=+Be[Be.length-1],Oe()):[L,q]},we.range=function(Be){return arguments.length?(ee=Be,Oe()):ee},we.invertExtent=function(Be){return[Be=(Be=ee.indexOf(Be))<0?NaN:Be/ae+L,Be+1/ae]},we.copy=function(){return _o(L,q,ee)},Oe()}function Er(L,q){function ee(ae){if(ae<=ae)return q[o.bisect(L,ae)]}return ee.domain=function(ae){return arguments.length?(L=ae,ee):L},ee.range=function(ae){return arguments.length?(q=ae,ee):q},ee.invertExtent=function(ae){return ae=q.indexOf(ae),[L[ae-1],L[ae]]},ee.copy=function(){return Er(L,q)},ee}function Vl(L){function q(ee){return+ee}return q.invert=q,q.domain=q.range=function(ee){return arguments.length?(L=ee.map(q),q):L},q.ticks=function(ee){return sa(L,ee)},q.tickFormat=function(ee,ae){return d3_scale_linearTickFormat(L,ee,ae)},q.copy=function(){return Vl(L)},q}function Cu(){return 0}o.scale.quantile=function(){return bi([],[])},o.scale.quantize=function(){return _o(0,1,[0,1])},o.scale.threshold=function(){return Er([.5],[0,1])},o.scale.identity=function(){return Vl([0,1])},o.svg={},o.svg.arc=function(){var L=Cs,q=el,ee=Cu,ae=Ls,fe=yl,we=_r,Oe=Hl;function Be(){var Ye=Math.max(0,+L.apply(this,arguments)),rt=Math.max(0,+q.apply(this,arguments)),pt=fe.apply(this,arguments)-Xe,vt=we.apply(this,arguments)-Xe,St=Math.abs(vt-pt),It=pt>vt?0:1;if(rt<Ye&&(Ct=rt,rt=Ye,Ye=Ct),St>=Ot)return Ge(rt,It)+(Ye?Ge(Ye,1-It):"")+"Z";var Ct,jt,zt,Jt,Zt,Gt,mn,_n,Cn,zn,Wn,sr,vr=0,Kn=0,hr=[];if((Jt=(+Oe.apply(this,arguments)||0)/2)&&(zt=ae===Ls?Math.sqrt(Ye*Ye+rt*rt):+ae.apply(this,arguments),It||(Kn*=-1),rt&&(Kn=Ke(zt/rt*Math.sin(Jt))),Ye&&(vr=Ke(zt/Ye*Math.sin(Jt)))),rt){Zt=rt*Math.cos(pt+Kn),Gt=rt*Math.sin(pt+Kn),mn=rt*Math.cos(vt-Kn),_n=rt*Math.sin(vt-Kn);var wr=Math.abs(vt-pt-2*Kn)<=Rt?0:1;if(Kn&&rs(Zt,Gt,mn,_n)===It^wr){var Or=(pt+vt)/2;Zt=rt*Math.cos(Or),Gt=rt*Math.sin(Or),mn=_n=null}}else Zt=Gt=0;if(Ye){Cn=Ye*Math.cos(vt-vr),zn=Ye*Math.sin(vt-vr),Wn=Ye*Math.cos(pt+vr),sr=Ye*Math.sin(pt+vr);var or=Math.abs(pt-vt+2*vr)<=Rt?0:1;if(vr&&rs(Cn,zn,Wn,sr)===1-It^or){var fr=(pt+vt)/2;Cn=Ye*Math.cos(fr),zn=Ye*Math.sin(fr),Wn=sr=null}}else Cn=zn=0;if(St>tt&&(Ct=Math.min(Math.abs(rt-Ye)/2,+ee.apply(this,arguments)))>.001){jt=Ye<rt^It?0:1;var Mr=Ct,mr=Ct;if(St<Rt){var Lr=Wn==null?[Cn,zn]:mn==null?[Zt,Gt]:Dt([Zt,Gt],[Wn,sr],[mn,_n],[Cn,zn]),Dr=Zt-Lr[0],Gr=Gt-Lr[1],Wr=mn-Lr[0],Zr=_n-Lr[1],Qr=1/Math.sin(Math.acos((Dr*Wr+Gr*Zr)/(Math.sqrt(Dr*Dr+Gr*Gr)*Math.sqrt(Wr*Wr+Zr*Zr)))/2),wi=Math.sqrt(Lr[0]*Lr[0]+Lr[1]*Lr[1]);mr=Math.min(Ct,(Ye-wi)/(Qr-1)),Mr=Math.min(Ct,(rt-wi)/(Qr+1))}if(mn!=null){var Bi=ta(Wn==null?[Cn,zn]:[Wn,sr],[Zt,Gt],rt,Mr,It),Ma=ta([mn,_n],[Cn,zn],rt,Mr,It);Ct===Mr?hr.push("M",Bi[0],"A",Mr,",",Mr," 0 0,",jt," ",Bi[1],"A",rt,",",rt," 0 ",1-It^rs(Bi[1][0],Bi[1][1],Ma[1][0],Ma[1][1]),",",It," ",Ma[1],"A",Mr,",",Mr," 0 0,",jt," ",Ma[0]):hr.push("M",Bi[0],"A",Mr,",",Mr," 0 1,",jt," ",Ma[0])}else hr.push("M",Zt,",",Gt);if(Wn!=null){var na=ta([Zt,Gt],[Wn,sr],Ye,-mr,It),va=ta([Cn,zn],mn==null?[Zt,Gt]:[mn,_n],Ye,-mr,It);Ct===mr?hr.push("L",va[0],"A",mr,",",mr," 0 0,",jt," ",va[1],"A",Ye,",",Ye," 0 ",It^rs(va[1][0],va[1][1],na[1][0],na[1][1]),",",1-It," ",na[1],"A",mr,",",mr," 0 0,",jt," ",na[0]):hr.push("L",va[0],"A",mr,",",mr," 0 0,",jt," ",na[0])}else hr.push("L",Cn,",",zn)}else hr.push("M",Zt,",",Gt),mn!=null&&hr.push("A",rt,",",rt," 0 ",wr,",",It," ",mn,",",_n),hr.push("L",Cn,",",zn),Wn!=null&&hr.push("A",Ye,",",Ye," 0 ",or,",",1-It," ",Wn,",",sr);return hr.push("Z"),hr.join("")}function Ge(Ye,rt){return"M0,"+Ye+"A"+Ye+","+Ye+" 0 1,"+rt+" 0,"+-Ye+"A"+Ye+","+Ye+" 0 1,"+rt+" 0,"+Ye}return Be.innerRadius=function(Ye){return arguments.length?(L=Nn(Ye),Be):L},Be.outerRadius=function(Ye){return arguments.length?(q=Nn(Ye),Be):q},Be.cornerRadius=function(Ye){return arguments.length?(ee=Nn(Ye),Be):ee},Be.padRadius=function(Ye){return arguments.length?(ae=Ye==Ls?Ls:Nn(Ye),Be):ae},Be.startAngle=function(Ye){return arguments.length?(fe=Nn(Ye),Be):fe},Be.endAngle=function(Ye){return arguments.length?(we=Nn(Ye),Be):we},Be.padAngle=function(Ye){return arguments.length?(Oe=Nn(Ye),Be):Oe},Be.centroid=function(){var Ye=(+L.apply(this,arguments)+ +q.apply(this,arguments))/2,rt=(+fe.apply(this,arguments)+ +we.apply(this,arguments))/2-Xe;return[Math.cos(rt)*Ye,Math.sin(rt)*Ye]},Be};var Ls="auto";function Cs(L){return L.innerRadius}function el(L){return L.outerRadius}function yl(L){return L.startAngle}function _r(L){return L.endAngle}function Hl(L){return L&&L.padAngle}function rs(L,q,ee,ae){return(L-ee)*q-(q-ae)*L>0?0:1}function ta(L,q,ee,ae,fe){var we=L[0]-q[0],Oe=L[1]-q[1],Be=(fe?ae:-ae)/Math.sqrt(we*we+Oe*Oe),Ge=Be*Oe,Ye=-Be*we,rt=L[0]+Ge,pt=L[1]+Ye,vt=q[0]+Ge,St=q[1]+Ye,It=(rt+vt)/2,Ct=(pt+St)/2,jt=vt-rt,zt=St-pt,Jt=jt*jt+zt*zt,Zt=ee-ae,Gt=rt*St-vt*pt,mn=(zt<0?-1:1)*Math.sqrt(Math.max(0,Zt*Zt*Jt-Gt*Gt)),_n=(Gt*zt-jt*mn)/Jt,Cn=(-Gt*jt-zt*mn)/Jt,zn=(Gt*zt+jt*mn)/Jt,Wn=(-Gt*jt+zt*mn)/Jt,sr=_n-It,vr=Cn-Ct,Kn=zn-It,hr=Wn-Ct;return sr*sr+vr*vr>Kn*Kn+hr*hr&&(_n=zn,Cn=Wn),[[_n-Ge,Cn-Ye],[_n*ee/Zt,Cn*ee/Zt]]}function Ps(){return!0}function wo(L){var q=Gn,ee=qn,ae=Ps,fe=Aa,we=fe.key,Oe=.7;function Be(Ge){var Ye,rt=[],pt=[],vt=-1,St=Ge.length,It=Nn(q),Ct=Nn(ee);function jt(){rt.push("M",fe(L(pt),Oe))}for(;++vt<St;)ae.call(this,Ye=Ge[vt],vt)?pt.push([+It.call(this,Ye,vt),+Ct.call(this,Ye,vt)]):pt.length&&(jt(),pt=[]);return pt.length&&jt(),rt.length?rt.join(""):null}return Be.x=function(Ge){return arguments.length?(q=Ge,Be):q},Be.y=function(Ge){return arguments.length?(ee=Ge,Be):ee},Be.defined=function(Ge){return arguments.length?(ae=Ge,Be):ae},Be.interpolate=function(Ge){return arguments.length?(we=typeof Ge=="function"?fe=Ge:(fe=so.get(Ge)||Aa).key,Be):we},Be.tension=function(Ge){return arguments.length?(Oe=Ge,Be):Oe},Be}o.svg.line=function(){return wo(z)};var so=o.map({linear:Aa,"linear-closed":No,step:function(L){for(var q=0,ee=L.length,ae=L[0],fe=[ae[0],",",ae[1]];++q<ee;)fe.push("H",(ae[0]+(ae=L[q])[0])/2,"V",ae[1]);return ee>1&&fe.push("H",ae[0]),fe.join("")},"step-before":lo,"step-after":is,basis:ei,"basis-open":function(L){if(L.length<4)return Aa(L);for(var q,ee=[],ae=-1,fe=L.length,we=[0],Oe=[0];++ae<3;)q=L[ae],we.push(q[0]),Oe.push(q[1]);for(ee.push(la(za,we)+","+la(za,Oe)),--ae;++ae<fe;)q=L[ae],we.shift(),we.push(q[0]),Oe.shift(),Oe.push(q[1]),xl(ee,we,Oe);return ee.join("")},"basis-closed":function(L){for(var q,ee,ae=-1,fe=L.length,we=fe+4,Oe=[],Be=[];++ae<4;)ee=L[ae%fe],Oe.push(ee[0]),Be.push(ee[1]);for(q=[la(za,Oe),",",la(za,Be)],--ae;++ae<we;)ee=L[ae%fe],Oe.shift(),Oe.push(ee[0]),Be.shift(),Be.push(ee[1]),xl(q,Oe,Be);return q.join("")},bundle:function(L,q){var ee=L.length-1;if(ee)for(var ae,fe,we=L[0][0],Oe=L[0][1],Be=L[ee][0]-we,Ge=L[ee][1]-Oe,Ye=-1;++Ye<=ee;)fe=Ye/ee,(ae=L[Ye])[0]=q*ae[0]+(1-q)*(we+fe*Be),ae[1]=q*ae[1]+(1-q)*(Oe+fe*Ge);return ei(L)},cardinal:function(L,q){return L.length<3?Aa(L):L[0]+ql(L,Os(L,q))},"cardinal-open":function(L,q){return L.length<4?Aa(L):L[1]+ql(L.slice(1,-1),Os(L,q))},"cardinal-closed":function(L,q){return L.length<3?No(L):L[0]+ql((L.push(L[0]),L),Os([L[L.length-2]].concat(L,[L[1]]),q))},monotone:function(L){return L.length<3?Aa(L):L[0]+ql(L,function(q){for(var ee,ae,fe,we,Oe=[],Be=function(rt){for(var pt=0,vt=rt.length-1,St=[],It=rt[0],Ct=rt[1],jt=St[0]=bl(It,Ct);++pt<vt;)St[pt]=(jt+(jt=bl(It=Ct,Ct=rt[pt+1])))/2;return St[pt]=jt,St}(q),Ge=-1,Ye=q.length-1;++Ge<Ye;)ee=bl(q[Ge],q[Ge+1]),g(ee)<tt?Be[Ge]=Be[Ge+1]=0:(we=(ae=Be[Ge]/ee)*ae+(fe=Be[Ge+1]/ee)*fe)>9&&(we=3*ee/Math.sqrt(we),Be[Ge]=we*ae,Be[Ge+1]=we*fe);for(Ge=-1;++Ge<=Ye;)we=(q[Math.min(Ye,Ge+1)][0]-q[Math.max(0,Ge-1)][0])/(6*(1+Be[Ge]*Be[Ge])),Oe.push([we||0,Be[Ge]*we||0]);return Oe}(L))}});function Aa(L){return L.length>1?L.join("L"):L+"Z"}function No(L){return L.join("L")+"Z"}function lo(L){for(var q=0,ee=L.length,ae=L[0],fe=[ae[0],",",ae[1]];++q<ee;)fe.push("V",(ae=L[q])[1],"H",ae[0]);return fe.join("")}function is(L){for(var q=0,ee=L.length,ae=L[0],fe=[ae[0],",",ae[1]];++q<ee;)fe.push("H",(ae=L[q])[0],"V",ae[1]);return fe.join("")}function ql(L,q){if(q.length<1||L.length!=q.length&&L.length!=q.length+2)return Aa(L);var ee=L.length!=q.length,ae="",fe=L[0],we=L[1],Oe=q[0],Be=Oe,Ge=1;if(ee&&(ae+="Q"+(we[0]-2*Oe[0]/3)+","+(we[1]-2*Oe[1]/3)+","+we[0]+","+we[1],fe=L[1],Ge=2),q.length>1){Be=q[1],we=L[Ge],Ge++,ae+="C"+(fe[0]+Oe[0])+","+(fe[1]+Oe[1])+","+(we[0]-Be[0])+","+(we[1]-Be[1])+","+we[0]+","+we[1];for(var Ye=2;Ye<q.length;Ye++,Ge++)we=L[Ge],Be=q[Ye],ae+="S"+(we[0]-Be[0])+","+(we[1]-Be[1])+","+we[0]+","+we[1]}if(ee){var rt=L[Ge];ae+="Q"+(we[0]+2*Be[0]/3)+","+(we[1]+2*Be[1]/3)+","+rt[0]+","+rt[1]}return ae}function Os(L,q){for(var ee,ae=[],fe=(1-q)/2,we=L[0],Oe=L[1],Be=1,Ge=L.length;++Be<Ge;)ee=we,we=Oe,Oe=L[Be],ae.push([fe*(Oe[0]-ee[0]),fe*(Oe[1]-ee[1])]);return ae}function ei(L){if(L.length<3)return Aa(L);var q=1,ee=L.length,ae=L[0],fe=ae[0],we=ae[1],Oe=[fe,fe,fe,(ae=L[1])[0]],Be=[we,we,we,ae[1]],Ge=[fe,",",we,"L",la(za,Oe),",",la(za,Be)];for(L.push(L[ee-1]);++q<=ee;)ae=L[q],Oe.shift(),Oe.push(ae[0]),Be.shift(),Be.push(ae[1]),xl(Ge,Oe,Be);return L.pop(),Ge.push("L",ae),Ge.join("")}function la(L,q){return L[0]*q[0]+L[1]*q[1]+L[2]*q[2]+L[3]*q[3]}so.forEach(function(L,q){q.key=L,q.closed=/-closed$/.test(L)});var Ia=[0,2/3,1/3,0],jo=[0,1/3,2/3,0],za=[0,1/6,2/3,1/6];function xl(L,q,ee){L.push("C",la(Ia,q),",",la(Ia,ee),",",la(jo,q),",",la(jo,ee),",",la(za,q),",",la(za,ee))}function bl(L,q){return(q[1]-L[1])/(q[0]-L[0])}function Da(L){for(var q,ee,ae,fe=-1,we=L.length;++fe<we;)ee=(q=L[fe])[0],ae=q[1]-Xe,q[0]=ee*Math.cos(ae),q[1]=ee*Math.sin(ae);return L}function $r(L){var q=Gn,ee=Gn,ae=0,fe=qn,we=Ps,Oe=Aa,Be=Oe.key,Ge=Oe,Ye="L",rt=.7;function pt(vt){var St,It,Ct,jt=[],zt=[],Jt=[],Zt=-1,Gt=vt.length,mn=Nn(q),_n=Nn(ae),Cn=q===ee?function(){return It}:Nn(ee),zn=ae===fe?function(){return Ct}:Nn(fe);function Wn(){jt.push("M",Oe(L(Jt),rt),Ye,Ge(L(zt.reverse()),rt),"Z")}for(;++Zt<Gt;)we.call(this,St=vt[Zt],Zt)?(zt.push([It=+mn.call(this,St,Zt),Ct=+_n.call(this,St,Zt)]),Jt.push([+Cn.call(this,St,Zt),+zn.call(this,St,Zt)])):zt.length&&(Wn(),zt=[],Jt=[]);return zt.length&&Wn(),jt.length?jt.join(""):null}return pt.x=function(vt){return arguments.length?(q=ee=vt,pt):ee},pt.x0=function(vt){return arguments.length?(q=vt,pt):q},pt.x1=function(vt){return arguments.length?(ee=vt,pt):ee},pt.y=function(vt){return arguments.length?(ae=fe=vt,pt):fe},pt.y0=function(vt){return arguments.length?(ae=vt,pt):ae},pt.y1=function(vt){return arguments.length?(fe=vt,pt):fe},pt.defined=function(vt){return arguments.length?(we=vt,pt):we},pt.interpolate=function(vt){return arguments.length?(Be=typeof vt=="function"?Oe=vt:(Oe=so.get(vt)||Aa).key,Ge=Oe.reverse||Oe,Ye=Oe.closed?"M":"L",pt):Be},pt.tension=function(vt){return arguments.length?(rt=vt,pt):rt},pt}function Uo(L){return L.source}function tl(L){return L.target}function To(L){return L.radius}function _l(L){return[L.x,L.y]}function wl(){return 64}function ko(){return"circle"}function _i(L){var q=Math.sqrt(L/Rt);return"M0,"+q+"A"+q+","+q+" 0 1,1 0,"+-q+"A"+q+","+q+" 0 1,1 0,"+q+"Z"}o.svg.line.radial=function(){var L=wo(Da);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},lo.reverse=is,is.reverse=lo,o.svg.area=function(){return $r(z)},o.svg.area.radial=function(){var L=$r(Da);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},o.svg.chord=function(){var L=Uo,q=tl,ee=To,ae=yl,fe=_r;function we(Ye,rt){var pt,vt,St=Oe(this,L,Ye,rt),It=Oe(this,q,Ye,rt);return"M"+St.p0+Be(St.r,St.p1,St.a1-St.a0)+(vt=It,((pt=St).a0==vt.a0&&pt.a1==vt.a1?Ge(St.r,St.p1,St.r,St.p0):Ge(St.r,St.p1,It.r,It.p0)+Be(It.r,It.p1,It.a1-It.a0)+Ge(It.r,It.p1,St.r,St.p0))+"Z")}function Oe(Ye,rt,pt,vt){var St=rt.call(Ye,pt,vt),It=ee.call(Ye,St,vt),Ct=ae.call(Ye,St,vt)-Xe,jt=fe.call(Ye,St,vt)-Xe;return{r:It,a0:Ct,a1:jt,p0:[It*Math.cos(Ct),It*Math.sin(Ct)],p1:[It*Math.cos(jt),It*Math.sin(jt)]}}function Be(Ye,rt,pt){return"A"+Ye+","+Ye+" 0 "+ +(pt>Rt)+",1 "+rt}function Ge(Ye,rt,pt,vt){return"Q 0,0 "+vt}return we.radius=function(Ye){return arguments.length?(ee=Nn(Ye),we):ee},we.source=function(Ye){return arguments.length?(L=Nn(Ye),we):L},we.target=function(Ye){return arguments.length?(q=Nn(Ye),we):q},we.startAngle=function(Ye){return arguments.length?(ae=Nn(Ye),we):ae},we.endAngle=function(Ye){return arguments.length?(fe=Nn(Ye),we):fe},we},o.svg.diagonal=function(){var L=Uo,q=tl,ee=_l;function ae(fe,we){var Oe=L.call(this,fe,we),Be=q.call(this,fe,we),Ge=(Oe.y+Be.y)/2,Ye=[Oe,{x:Oe.x,y:Ge},{x:Be.x,y:Ge},Be];return"M"+(Ye=Ye.map(ee))[0]+"C"+Ye[1]+" "+Ye[2]+" "+Ye[3]}return ae.source=function(fe){return arguments.length?(L=Nn(fe),ae):L},ae.target=function(fe){return arguments.length?(q=Nn(fe),ae):q},ae.projection=function(fe){return arguments.length?(ee=fe,ae):ee},ae},o.svg.diagonal.radial=function(){var L=o.svg.diagonal(),q=_l,ee=L.projection;return L.projection=function(ae){return arguments.length?ee(function(fe){return function(){var we=fe.apply(this,arguments),Oe=we[0],Be=we[1]-Xe;return[Oe*Math.cos(Be),Oe*Math.sin(Be)]}}(q=ae)):q},L},o.svg.symbol=function(){var L=ko,q=wl;function ee(ae,fe){return(nl.get(L.call(this,ae,fe))||_i)(q.call(this,ae,fe))}return ee.type=function(ae){return arguments.length?(L=Nn(ae),ee):L},ee.size=function(ae){return arguments.length?(q=Nn(ae),ee):q},ee};var nl=o.map({circle:_i,cross:function(L){var q=Math.sqrt(L/5)/2;return"M"+-3*q+","+-q+"H"+-q+"V"+-3*q+"H"+q+"V"+-q+"H"+3*q+"V"+q+"H"+q+"V"+3*q+"H"+-q+"V"+q+"H"+-3*q+"Z"},diamond:function(L){var q=Math.sqrt(L/(2*Fr)),ee=q*Fr;return"M0,"+-q+"L"+ee+",0 0,"+q+" "+-ee+",0Z"},square:function(L){var q=Math.sqrt(L)/2;return"M"+-q+","+-q+"L"+q+","+-q+" "+q+","+q+" "+-q+","+q+"Z"},"triangle-down":function(L){var q=Math.sqrt(L/Pr),ee=q*Pr/2;return"M0,"+ee+"L"+q+","+-ee+" "+-q+","+-ee+"Z"},"triangle-up":function(L){var q=Math.sqrt(L/Pr),ee=q*Pr/2;return"M0,"+-ee+"L"+q+","+ee+" "+-q+","+ee+"Z"}});o.svg.symbolTypes=nl.keys();var Pr=Math.sqrt(3),Fr=Math.tan(30*Je);pe.transition=function(L){for(var q,ee,ae=Hi||++tc,fe=Ai(L),we=[],Oe=Ho||{time:Date.now(),ease:Do,delay:0,duration:250},Be=-1,Ge=this.length;++Be<Ge;){we.push(q=[]);for(var Ye=this[Be],rt=-1,pt=Ye.length;++rt<pt;)(ee=Ye[rt])&&Ua(ee,rt,fe,ae,Oe),q.push(ee)}return as(we,fe,ae)},pe.interrupt=function(L){return this.each(L==null?Za:Vo(Ai(L)))};var Za=Vo(Ai());function Vo(L){return function(){var q,ee,ae;(q=this[L])&&(ae=q[ee=q.active])&&(ae.timer.c=null,ae.timer.t=NaN,--q.count?delete q[ee]:delete this[L],q.active+=.5,ae.event&&ae.event.interrupt.call(this,this.__data__,ae.index))}}function as(L,q,ee){return J(L,ui),L.namespace=q,L.id=ee,L}var Hi,Ho,ui=[],tc=0;function Ka(L,q,ee,ae){var fe=L.id,we=L.namespace;return ke(L,typeof ee=="function"?function(Oe,Be,Ge){Oe[we][fe].tween.set(q,ae(ee.call(Oe,Oe.__data__,Be,Ge)))}:(ee=ae(ee),function(Oe){Oe[we][fe].tween.set(q,ee)}))}function pi(L){return L==null&&(L=""),function(){this.textContent=L}}function Ai(L){return L==null?"__transition__":"__transition_"+L+"__"}function Ua(L,q,ee,ae,fe){var we,Oe,Be,Ge,Ye,rt=L[ee]||(L[ee]={active:0,count:0}),pt=rt[ae];function vt(It){var Ct=rt.active,jt=rt[Ct];for(var zt in jt&&(jt.timer.c=null,jt.timer.t=NaN,--rt.count,delete rt[Ct],jt.event&&jt.event.interrupt.call(L,L.__data__,jt.index)),rt)if(+zt<ae){var Jt=rt[zt];Jt.timer.c=null,Jt.timer.t=NaN,--rt.count,delete rt[zt]}Oe.c=St,rn(function(){return Oe.c&&St(It||1)&&(Oe.c=null,Oe.t=NaN),1},0,we),rt.active=ae,pt.event&&pt.event.start.call(L,L.__data__,q),Ye=[],pt.tween.forEach(function(Zt,Gt){(Gt=Gt.call(L,L.__data__,q))&&Ye.push(Gt)}),Ge=pt.ease,Be=pt.duration}function St(It){for(var Ct=It/Be,jt=Ge(Ct),zt=Ye.length;zt>0;)Ye[--zt].call(L,jt);if(Ct>=1)return pt.event&&pt.event.end.call(L,L.__data__,q),--rt.count?delete rt[ae]:delete L[ee],1}pt||(we=fe.time,Oe=rn(function(It){var Ct=pt.delay;if(Oe.t=Ct+we,Ct<=It)return vt(It-Ct);Oe.c=vt},0,we),pt=rt[ae]={tween:new m,time:we,timer:Oe,delay:fe.delay,duration:fe.duration,ease:fe.ease,index:q},fe=null,++rt.count)}ui.call=pe.call,ui.empty=pe.empty,ui.node=pe.node,ui.size=pe.size,o.transition=function(L,q){return L&&L.transition?Hi?L.transition(q):L:o.selection().transition(L)},o.transition.prototype=ui,ui.select=function(L){var q,ee,ae,fe=this.id,we=this.namespace,Oe=[];L=ge(L);for(var Be=-1,Ge=this.length;++Be<Ge;){Oe.push(q=[]);for(var Ye=this[Be],rt=-1,pt=Ye.length;++rt<pt;)(ae=Ye[rt])&&(ee=L.call(ae,ae.__data__,rt,Be))?("__data__"in ae&&(ee.__data__=ae.__data__),Ua(ee,rt,we,fe,ae[we][fe]),q.push(ee)):q.push(null)}return as(Oe,we,fe)},ui.selectAll=function(L){var q,ee,ae,fe,we,Oe=this.id,Be=this.namespace,Ge=[];L=ye(L);for(var Ye=-1,rt=this.length;++Ye<rt;)for(var pt=this[Ye],vt=-1,St=pt.length;++vt<St;)if(ae=pt[vt]){we=ae[Be][Oe],ee=L.call(ae,ae.__data__,vt,Ye),Ge.push(q=[]);for(var It=-1,Ct=ee.length;++It<Ct;)(fe=ee[It])&&Ua(fe,It,Be,Oe,we),q.push(fe)}return as(Ge,Be,Oe)},ui.filter=function(L){var q,ee,ae=[];typeof L!="function"&&(L=Re(L));for(var fe=0,we=this.length;fe<we;fe++){ae.push(q=[]);for(var Oe,Be=0,Ge=(Oe=this[fe]).length;Be<Ge;Be++)(ee=Oe[Be])&&L.call(ee,ee.__data__,Be,fe)&&q.push(ee)}return as(ae,this.namespace,this.id)},ui.tween=function(L,q){var ee=this.id,ae=this.namespace;return arguments.length<2?this.node()[ae][ee].tween.get(L):ke(this,q==null?function(fe){fe[ae][ee].tween.remove(L)}:function(fe){fe[ae][ee].tween.set(L,q)})},ui.attr=function(L,q){if(arguments.length<2){for(q in L)this.attr(q,L[q]);return this}var ee=L=="transform"?Ju:no,ae=o.ns.qualify(L);function fe(){this.removeAttribute(ae)}function we(){this.removeAttributeNS(ae.space,ae.local)}return Ka(this,"attr."+L,q,ae.local?function(Oe){return Oe==null?we:(Oe+="",function(){var Be,Ge=this.getAttributeNS(ae.space,ae.local);return Ge!==Oe&&(Be=ee(Ge,Oe),function(Ye){this.setAttributeNS(ae.space,ae.local,Be(Ye))})})}:function(Oe){return Oe==null?fe:(Oe+="",function(){var Be,Ge=this.getAttribute(ae);return Ge!==Oe&&(Be=ee(Ge,Oe),function(Ye){this.setAttribute(ae,Be(Ye))})})})},ui.attrTween=function(L,q){var ee=o.ns.qualify(L);return this.tween("attr."+L,ee.local?function(ae,fe){var we=q.call(this,ae,fe,this.getAttributeNS(ee.space,ee.local));return we&&function(Oe){this.setAttributeNS(ee.space,ee.local,we(Oe))}}:function(ae,fe){var we=q.call(this,ae,fe,this.getAttribute(ee));return we&&function(Oe){this.setAttribute(ee,we(Oe))}})},ui.style=function(L,q,ee){var ae=arguments.length;if(ae<3){if(typeof L!="string"){for(ee in ae<2&&(q=""),L)this.style(ee,L[ee],q);return this}ee=""}function fe(){this.style.removeProperty(L)}return Ka(this,"style."+L,q,function(we){return we==null?fe:(we+="",function(){var Oe,Be=t(this).getComputedStyle(this,null).getPropertyValue(L);return Be!==we&&(Oe=no(Be,we),function(Ge){this.style.setProperty(L,Oe(Ge),ee)})})})},ui.styleTween=function(L,q,ee){return arguments.length<3&&(ee=""),this.tween("style."+L,function(ae,fe){var we=q.call(this,ae,fe,t(this).getComputedStyle(this,null).getPropertyValue(L));return we&&function(Oe){this.style.setProperty(L,we(Oe),ee)}})},ui.text=function(L){return Ka(this,"text",L,pi)},ui.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var q;this[L].count<2&&(q=this.parentNode)&&q.removeChild(this)})},ui.ease=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].ease:(typeof L!="function"&&(L=o.ease.apply(o,arguments)),ke(this,function(ae){ae[ee][q].ease=L}))},ui.delay=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].delay:ke(this,typeof L=="function"?function(ae,fe,we){ae[ee][q].delay=+L.call(ae,ae.__data__,fe,we)}:(L=+L,function(ae){ae[ee][q].delay=L}))},ui.duration=function(L){var q=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][q].duration:ke(this,typeof L=="function"?function(ae,fe,we){ae[ee][q].duration=Math.max(1,L.call(ae,ae.__data__,fe,we))}:(L=Math.max(1,L),function(ae){ae[ee][q].duration=L}))},ui.each=function(L,q){var ee=this.id,ae=this.namespace;if(arguments.length<2){var fe=Ho,we=Hi;try{Hi=ee,ke(this,function(Oe,Be,Ge){Ho=Oe[ae][ee],L.call(Oe,Oe.__data__,Be,Ge)})}finally{Ho=fe,Hi=we}}else ke(this,function(Oe){var Be=Oe[ae][ee];(Be.event||(Be.event=o.dispatch("start","end","interrupt"))).on(L,q)});return this},ui.transition=function(){for(var L,q,ee,ae=this.id,fe=++tc,we=this.namespace,Oe=[],Be=0,Ge=this.length;Be<Ge;Be++){Oe.push(L=[]);for(var Ye,rt=0,pt=(Ye=this[Be]).length;rt<pt;rt++)(q=Ye[rt])&&Ua(q,rt,we,fe,{time:(ee=q[we][ae]).time,ease:ee.ease,delay:ee.delay+ee.duration,duration:ee.duration}),L.push(q)}return as(Oe,we,fe)},o.svg.axis=function(){var L,q=o.scale.linear(),ee=Is,ae=6,fe=6,we=3,Oe=[10],Be=null;function Ge(Ye){Ye.each(function(){var rt,pt=o.select(this),vt=this.__chart__||q,St=this.__chart__=q.copy(),It=Be??(St.ticks?St.ticks.apply(St,Oe):St.domain()),Ct=L??(St.tickFormat?St.tickFormat.apply(St,Oe):z),jt=pt.selectAll(".tick").data(It,St),zt=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",tt),Jt=o.transition(jt.exit()).style("opacity",tt).remove(),Zt=o.transition(jt.order()).style("opacity",1),Gt=Math.max(ae,0)+we,mn=jl(St),_n=pt.selectAll(".domain").data([0]),Cn=(_n.enter().append("path").attr("class","domain"),o.transition(_n));zt.append("line"),zt.append("text");var zn,Wn,sr,vr,Kn=zt.select("line"),hr=Zt.select("line"),wr=jt.select("text").text(Ct),Or=zt.select("text"),or=Zt.select("text"),fr=ee==="top"||ee==="left"?-1:1;if(ee==="bottom"||ee==="top"?(rt=Qe,zn="x",sr="y",Wn="x2",vr="y2",wr.attr("dy",fr<0?"0em":".71em").style("text-anchor","middle"),Cn.attr("d","M"+mn[0]+","+fr*fe+"V0H"+mn[1]+"V"+fr*fe)):(rt=nt,zn="y",sr="x",Wn="y2",vr="x2",wr.attr("dy",".32em").style("text-anchor",fr<0?"end":"start"),Cn.attr("d","M"+fr*fe+","+mn[0]+"H0V"+mn[1]+"H"+fr*fe)),Kn.attr(vr,fr*ae),Or.attr(sr,fr*Gt),hr.attr(Wn,0).attr(vr,fr*ae),or.attr(zn,0).attr(sr,fr*Gt),St.rangeBand){var Mr=St,mr=Mr.rangeBand()/2;vt=St=function(Lr){return Mr(Lr)+mr}}else vt.rangeBand?vt=St:Jt.call(rt,St,vt);zt.call(rt,vt,St),Zt.call(rt,St,St)})}return Ge.scale=function(Ye){return arguments.length?(q=Ye,Ge):q},Ge.orient=function(Ye){return arguments.length?(ee=Ye in Pu?Ye+"":Is,Ge):ee},Ge.ticks=function(){return arguments.length?(Oe=b(arguments),Ge):Oe},Ge.tickValues=function(Ye){return arguments.length?(Be=Ye,Ge):Be},Ge.tickFormat=function(Ye){return arguments.length?(L=Ye,Ge):L},Ge.tickSize=function(Ye){var rt=arguments.length;return rt?(ae=+Ye,fe=+arguments[rt-1],Ge):ae},Ge.innerTickSize=function(Ye){return arguments.length?(ae=+Ye,Ge):ae},Ge.outerTickSize=function(Ye){return arguments.length?(fe=+Ye,Ge):fe},Ge.tickPadding=function(Ye){return arguments.length?(we=+Ye,Ge):we},Ge.tickSubdivide=function(){return arguments.length&&Ge},Ge};var Is="bottom",Pu={top:1,right:1,bottom:1,left:1};function Qe(L,q,ee){L.attr("transform",function(ae){var fe=q(ae);return"translate("+(isFinite(fe)?fe:ee(ae))+",0)"})}function nt(L,q,ee){L.attr("transform",function(ae){var fe=q(ae);return"translate(0,"+(isFinite(fe)?fe:ee(ae))+")"})}o.svg.brush=function(){var L,q,ee=ne(rt,"brushstart","brush","brushend"),ae=null,fe=null,we=[0,0],Oe=[0,0],Be=!0,Ge=!0,Ye=N[0];function rt(Ct){Ct.each(function(){var jt=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",It).on("touchstart.brush",It),zt=jt.selectAll(".background").data([0]);zt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Jt=jt.selectAll(".resize").data(Ye,z);Jt.exit().remove(),Jt.enter().append("g").attr("class",function(_n){return"resize "+_n}).style("cursor",function(_n){return ct[_n]}).append("rect").attr("x",function(_n){return/[ew]$/.test(_n)?-3:null}).attr("y",function(_n){return/^[ns]/.test(_n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Jt.style("display",rt.empty()?"none":null);var Zt,Gt=o.transition(jt),mn=o.transition(zt);ae&&(Zt=jl(ae),mn.attr("x",Zt[0]).attr("width",Zt[1]-Zt[0]),vt(Gt)),fe&&(Zt=jl(fe),mn.attr("y",Zt[0]).attr("height",Zt[1]-Zt[0]),St(Gt)),pt(Gt)})}function pt(Ct){Ct.selectAll(".resize").attr("transform",function(jt){return"translate("+we[+/e$/.test(jt)]+","+Oe[+/^s/.test(jt)]+")"})}function vt(Ct){Ct.select(".extent").attr("x",we[0]),Ct.selectAll(".extent,.n>rect,.s>rect").attr("width",we[1]-we[0])}function St(Ct){Ct.select(".extent").attr("y",Oe[0]),Ct.selectAll(".extent,.e>rect,.w>rect").attr("height",Oe[1]-Oe[0])}function It(){var Ct,jt,zt=this,Jt=o.select(o.event.target),Zt=ee.of(zt,arguments),Gt=o.select(zt),mn=Jt.datum(),_n=!/^(n|s)$/.test(mn)&&ae,Cn=!/^(e|w)$/.test(mn)&&fe,zn=Jt.classed("extent"),Wn=mt(zt),sr=o.mouse(zt),vr=o.select(t(zt)).on("keydown.brush",function(){o.event.keyCode==32&&(zn||(Ct=null,sr[0]-=we[1],sr[1]-=Oe[1],zn=2),te())}).on("keyup.brush",function(){o.event.keyCode==32&&zn==2&&(sr[0]+=we[1],sr[1]+=Oe[1],zn=0,te())});if(o.event.changedTouches?vr.on("touchmove.brush",wr).on("touchend.brush",or):vr.on("mousemove.brush",wr).on("mouseup.brush",or),Gt.interrupt().selectAll("*").interrupt(),zn)sr[0]=we[0]-sr[0],sr[1]=Oe[0]-sr[1];else if(mn){var Kn=+/w$/.test(mn),hr=+/^n/.test(mn);jt=[we[1-Kn]-sr[0],Oe[1-hr]-sr[1]],sr[0]=we[Kn],sr[1]=Oe[hr]}else o.event.altKey&&(Ct=sr.slice());function wr(){var fr=o.mouse(zt),Mr=!1;jt&&(fr[0]+=jt[0],fr[1]+=jt[1]),zn||(o.event.altKey?(Ct||(Ct=[(we[0]+we[1])/2,(Oe[0]+Oe[1])/2]),sr[0]=we[+(fr[0]<Ct[0])],sr[1]=Oe[+(fr[1]<Ct[1])]):Ct=null),_n&&Or(fr,ae,0)&&(vt(Gt),Mr=!0),Cn&&Or(fr,fe,1)&&(St(Gt),Mr=!0),Mr&&(pt(Gt),Zt({type:"brush",mode:zn?"move":"resize"}))}function Or(fr,Mr,mr){var Lr,Dr,Gr=jl(Mr),Wr=Gr[0],Zr=Gr[1],Qr=sr[mr],wi=mr?Oe:we,Bi=wi[1]-wi[0];if(zn&&(Wr-=Qr,Zr-=Bi+Qr),Lr=(mr?Ge:Be)?Math.max(Wr,Math.min(Zr,fr[mr])):fr[mr],zn?Dr=(Lr+=Qr)+Bi:(Ct&&(Qr=Math.max(Wr,Math.min(Zr,2*Ct[mr]-Lr))),Qr<Lr?(Dr=Lr,Lr=Qr):Dr=Qr),wi[0]!=Lr||wi[1]!=Dr)return mr?q=null:L=null,wi[0]=Lr,wi[1]=Dr,!0}function or(){wr(),Gt.style("pointer-events","all").selectAll(".resize").style("display",rt.empty()?"none":null),o.select("body").style("cursor",null),vr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Wn(),Zt({type:"brushend"})}Gt.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",Jt.style("cursor")),Zt({type:"brushstart"}),wr()}return rt.event=function(Ct){Ct.each(function(){var jt=ee.of(this,arguments),zt={x:we,y:Oe,i:L,j:q},Jt=this.__chart__||zt;this.__chart__=zt,Hi?o.select(this).transition().each("start.brush",function(){L=Jt.i,q=Jt.j,we=Jt.x,Oe=Jt.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var Zt=po(we,zt.x),Gt=po(Oe,zt.y);return L=q=null,function(mn){we=zt.x=Zt(mn),Oe=zt.y=Gt(mn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=zt.i,q=zt.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},rt.x=function(Ct){return arguments.length?(Ye=N[!(ae=Ct)<<1|!fe],rt):ae},rt.y=function(Ct){return arguments.length?(Ye=N[!ae<<1|!(fe=Ct)],rt):fe},rt.clamp=function(Ct){return arguments.length?(ae&&fe?(Be=!!Ct[0],Ge=!!Ct[1]):ae?Be=!!Ct:fe&&(Ge=!!Ct),rt):ae&&fe?[Be,Ge]:ae?Be:fe?Ge:null},rt.extent=function(Ct){var jt,zt,Jt,Zt,Gt;return arguments.length?(ae&&(jt=Ct[0],zt=Ct[1],fe&&(jt=jt[0],zt=zt[0]),L=[jt,zt],ae.invert&&(jt=ae(jt),zt=ae(zt)),zt<jt&&(Gt=jt,jt=zt,zt=Gt),jt==we[0]&&zt==we[1]||(we=[jt,zt])),fe&&(Jt=Ct[0],Zt=Ct[1],ae&&(Jt=Jt[1],Zt=Zt[1]),q=[Jt,Zt],fe.invert&&(Jt=fe(Jt),Zt=fe(Zt)),Zt<Jt&&(Gt=Jt,Jt=Zt,Zt=Gt),Jt==Oe[0]&&Zt==Oe[1]||(Oe=[Jt,Zt])),rt):(ae&&(L?(jt=L[0],zt=L[1]):(jt=we[0],zt=we[1],ae.invert&&(jt=ae.invert(jt),zt=ae.invert(zt)),zt<jt&&(Gt=jt,jt=zt,zt=Gt))),fe&&(q?(Jt=q[0],Zt=q[1]):(Jt=Oe[0],Zt=Oe[1],fe.invert&&(Jt=fe.invert(Jt),Zt=fe.invert(Zt)),Zt<Jt&&(Gt=Jt,Jt=Zt,Zt=Gt))),ae&&fe?[[jt,Jt],[zt,Zt]]:ae?[jt,zt]:fe&&[Jt,Zt])},rt.clear=function(){return rt.empty()||(we=[0,0],Oe=[0,0],L=q=null),rt},rt.empty=function(){return!!ae&&we[0]==we[1]||!!fe&&Oe[0]==Oe[1]},o.rebind(rt,ee,"on")};var ct={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},N=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Y(L){return JSON.parse(L.responseText)}function G(L){var q=f.createRange();return q.selectNode(f.body),q.createContextualFragment(L.responseText)}o.text=$n(function(L){return L.responseText}),o.json=function(L,q){return pr(L,"application/json",Y,q)},o.html=function(L,q){return pr(L,"text/html",G,q)},o.xml=$n(function(L){return L.responseXML}),(k=typeof(T=o)=="function"?T.call(C,e,C,U):T)===void 0||(U.exports=k)}).apply(self)},3480:function(U){U.exports=function(){var C,e,T;function k(o,_){if(C)if(e){var b="var sharedChunk = {}; ("+C+")(sharedChunk); ("+e+")(sharedChunk);",f={};C(f),T=_(f),typeof window<"u"&&(T.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=_;else C=_}return k(0,function(o){function _(M,R){return M(R={exports:{}},R.exports),R.exports}var b="1.13.4",f=s;function s(M,R,K,ce){this.cx=3*M,this.bx=3*(K-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ce-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=ce,this.p2x=K,this.p2y=ce}s.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},s.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},s.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},s.prototype.solveCurveX=function(M,R){var K,ce,Me,Ie,He;for(R===void 0&&(R=1e-6),Me=M,He=0;He<8;He++){if(Ie=this.sampleCurveX(Me)-M,Math.abs(Ie)<R)return Me;var et=this.sampleCurveDerivativeX(Me);if(Math.abs(et)<1e-6)break;Me-=Ie/et}if((Me=M)<(K=0))return K;if(Me>(ce=1))return ce;for(;K<ce;){if(Ie=this.sampleCurveX(Me),Math.abs(Ie-M)<R)return Me;M>Ie?K=Me:ce=Me,Me=.5*(ce-K)+K}return Me},s.prototype.solve=function(M,R){return this.sampleCurveY(this.solveCurveX(M,R))};var t=i;function i(M,R){this.x=M,this.y=R}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(M){return this.clone()._add(M)},sub:function(M){return this.clone()._sub(M)},multByPoint:function(M){return this.clone()._multByPoint(M)},divByPoint:function(M){return this.clone()._divByPoint(M)},mult:function(M){return this.clone()._mult(M)},div:function(M){return this.clone()._div(M)},rotate:function(M){return this.clone()._rotate(M)},rotateAround:function(M,R){return this.clone()._rotateAround(M,R)},matMult:function(M){return this.clone()._matMult(M)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(M){return this.x===M.x&&this.y===M.y},dist:function(M){return Math.sqrt(this.distSqr(M))},distSqr:function(M){var R=M.x-this.x,K=M.y-this.y;return R*R+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(M){return Math.atan2(this.y-M.y,this.x-M.x)},angleWith:function(M){return this.angleWithSep(M.x,M.y)},angleWithSep:function(M,R){return Math.atan2(this.x*R-this.y*M,this.x*M+this.y*R)},_matMult:function(M){var R=M[0]*this.x+M[1]*this.y,K=M[2]*this.x+M[3]*this.y;return this.x=R,this.y=K,this},_add:function(M){return this.x+=M.x,this.y+=M.y,this},_sub:function(M){return this.x-=M.x,this.y-=M.y,this},_mult:function(M){return this.x*=M,this.y*=M,this},_div:function(M){return this.x/=M,this.y/=M,this},_multByPoint:function(M){return this.x*=M.x,this.y*=M.y,this},_divByPoint:function(M){return this.x/=M.x,this.y/=M.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var M=this.y;return this.y=this.x,this.x=-M,this},_rotate:function(M){var R=Math.cos(M),K=Math.sin(M),ce=R*this.x-K*this.y,Me=K*this.x+R*this.y;return this.x=ce,this.y=Me,this},_rotateAround:function(M,R){var K=Math.cos(M),ce=Math.sin(M),Me=R.x+K*(this.x-R.x)-ce*(this.y-R.y),Ie=R.y+ce*(this.x-R.x)+K*(this.y-R.y);return this.x=Me,this.y=Ie,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(M){return M instanceof i?M:Array.isArray(M)?new i(M[0],M[1]):M};var r=typeof self<"u"?self:{},n=Math.pow(2,53)-1;function a(M,R,K,ce){var Me=new f(M,R,K,ce);return function(Ie){return Me.solve(Ie)}}var l=a(.25,.1,.25,1);function u(M,R,K){return Math.min(K,Math.max(R,M))}function h(M,R,K){var ce=K-R,Me=((M-R)%ce+ce)%ce+R;return Me===R?K:Me}function c(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];for(var ce=0,Me=R;ce<Me.length;ce+=1){var Ie=Me[ce];for(var He in Ie)M[He]=Ie[He]}return M}var x=1;function p(){return x++}function v(){return function M(R){return R?(R^16*Math.random()>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,M)}()}function g(M){return!!M&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M)}function y(M,R){M.forEach(function(K){R[K]&&(R[K]=R[K].bind(R))})}function m(M,R){return M.indexOf(R,M.length-R.length)!==-1}function w(M,R,K){var ce={};for(var Me in M)ce[Me]=R.call(K||this,M[Me],Me,M);return ce}function d(M,R,K){var ce={};for(var Me in M)R.call(K||this,M[Me],Me,M)&&(ce[Me]=M[Me]);return ce}function S(M){return Array.isArray(M)?M.map(S):typeof M=="object"&&M?w(M,S):M}var A={};function E(M){A[M]||(typeof console<"u"&&console.warn(M),A[M]=!0)}function P(M,R,K){return(K.y-M.y)*(R.x-M.x)>(R.y-M.y)*(K.x-M.x)}function O(M){for(var R=0,K=0,ce=M.length,Me=ce-1,Ie=void 0,He=void 0;K<ce;Me=K++)Ie=M[K],R+=((He=M[Me]).x-Ie.x)*(Ie.y+He.y);return R}function I(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function D(M){var R={};if(M.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ce,Me,Ie,He){var et=Ie||He;return R[Me]=!et||et.toLowerCase(),""}),R["max-age"]){var K=parseInt(R["max-age"],10);isNaN(K)?delete R["max-age"]:R["max-age"]=K}return R}var V=null;function z(M){if(V==null){var R=M.navigator?M.navigator.userAgent:null;V=!!M.safari||!(!R||!(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return V}function j(M){try{var R=r[M];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}var X,F,H,W,ie=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),te=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,Q=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame,ne={now:ie,frame:function(M){var R=te(M);return{cancel:function(){return Q(R)}}},getImageData:function(M,R){R===void 0&&(R=0);var K=r.document.createElement("canvas"),ce=K.getContext("2d");if(!ce)throw new Error("failed to create canvas 2d context");return K.width=M.width,K.height=M.height,ce.drawImage(M,0,0,M.width,M.height),ce.getImageData(-R,-R,M.width+2*R,M.height+2*R)},resolveURL:function(M){return X||(X=r.document.createElement("a")),X.href=M,X.href},hardwareConcurrency:r.navigator&&r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(F==null&&(F=r.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},$={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},J={supported:!1,testSupport:function(M){!re&&W&&(se?ue(M):H=M)}},re=!1,se=!1;function ue(M){var R=M.createTexture();M.bindTexture(M.TEXTURE_2D,R);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,W),M.isContextLost())return;J.supported=!0}catch{}M.deleteTexture(R),re=!0}r.document&&((W=r.document.createElement("img")).onload=function(){H&&ue(H),H=null,se=!0},W.onerror=function(){re=!0,H=null},W.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var he="01",pe=function(M,R){this._transformRequestFn=M,this._customAccessToken=R,this._createSkuToken()};function ge(M){return M.indexOf("mapbox:")===0}pe.prototype._createSkuToken=function(){var M=function(){for(var R="",K=0;K<10;K++)R+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",he,R].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=M.token,this._skuTokenExpiresAt=M.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(M,R){return this._transformRequestFn&&this._transformRequestFn(M,R)||{url:M}},pe.prototype.normalizeStyleURL=function(M,R){if(!ge(M))return M;var K=Se(M);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||R)},pe.prototype.normalizeGlyphsURL=function(M,R){if(!ge(M))return M;var K=Se(M);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||R)},pe.prototype.normalizeSourceURL=function(M,R){if(!ge(M))return M;var K=Se(M);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||R)},pe.prototype.normalizeSpriteURL=function(M,R,K,ce){var Me=Se(M);return ge(M)?(Me.path="/styles/v1"+Me.path+"/sprite"+R+K,this._makeAPIURL(Me,this._customAccessToken||ce)):(Me.path+=""+R+K,Fe(Me))},pe.prototype.normalizeTileURL=function(M,R){if(this._isSkuTokenExpired()&&this._createSkuToken(),M&&!ge(M))return M;var K=Se(M),ce=ne.devicePixelRatio>=2||R===512?"@2x":"",Me=J.supported?".webp":"$1";K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ce+Me),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Ie=this._customAccessToken||function(He){for(var et=0,ht=He;et<ht.length;et+=1){var Mt=ht[et].match(/^access_token=(.*)$/);if(Mt)return Mt[1]}return null}(K.params)||$.ACCESS_TOKEN;return $.REQUIRE_ACCESS_TOKEN&&Ie&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Ie)},pe.prototype.canonicalizeTileURL=function(M,R){var K=Se(M);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return M;var ce="mapbox://tiles/";ce+=K.path.replace("/v4/","");var Me=K.params;return R&&(Me=Me.filter(function(Ie){return!Ie.match(/^access_token=/)})),Me.length&&(ce+="?"+Me.join("&")),ce},pe.prototype.canonicalizeTileset=function(M,R){for(var K=!!R&&ge(R),ce=[],Me=0,Ie=M.tiles||[];Me<Ie.length;Me+=1){var He=Ie[Me];be(He)?ce.push(this.canonicalizeTileURL(He,K)):ce.push(He)}return ce},pe.prototype._makeAPIURL=function(M,R){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ce=Se($.API_URL);if(M.protocol=ce.protocol,M.authority=ce.authority,M.protocol==="http"){var Me=M.params.indexOf("secure");Me>=0&&M.params.splice(Me,1)}if(ce.path!=="/"&&(M.path=""+ce.path+M.path),!$.REQUIRE_ACCESS_TOKEN)return Fe(M);if(!(R=R||$.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if(R[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return M.params=M.params.filter(function(Ie){return Ie.indexOf("access_token")===-1}),M.params.push("access_token="+R),Fe(M)};var ye=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function be(M){return ye.test(M)}var Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Se(M){var R=M.match(Te);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function Fe(M){var R=M.params.length?"?"+M.params.join("&"):"";return M.protocol+"://"+M.authority+M.path+R}var xe="mapbox.eventData";function le(M){if(!M)return null;var R,K=M.split(".");if(!K||K.length!==3)return null;try{return JSON.parse((R=K[1],decodeURIComponent(r.atob(R).split("").map(function(ce){return"%"+("00"+ce.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var oe=function(M){this.type=M,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};oe.prototype.getStorageKey=function(M){var R,K,ce=le($.ACCESS_TOKEN);return R=ce&&ce.u?(K=ce.u,r.btoa(encodeURIComponent(K).replace(/%([0-9A-F]{2})/g,function(Me,Ie){return String.fromCharCode(+("0x"+Ie))}))):$.ACCESS_TOKEN||"",M?xe+"."+M+":"+R:xe+":"+R},oe.prototype.fetchEventData=function(){var M=j("localStorage"),R=this.getStorageKey(),K=this.getStorageKey("uuid");if(M)try{var ce=r.localStorage.getItem(R);ce&&(this.eventData=JSON.parse(ce));var Me=r.localStorage.getItem(K);Me&&(this.anonId=Me)}catch{E("Unable to read from LocalStorage")}},oe.prototype.saveEventData=function(){var M=j("localStorage"),R=this.getStorageKey(),K=this.getStorageKey("uuid");if(M)try{r.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(R,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},oe.prototype.processRequests=function(M){},oe.prototype.postEvent=function(M,R,K,ce){var Me=this;if($.EVENTS_URL){var Ie=Se($.EVENTS_URL);Ie.params.push("access_token="+(ce||$.ACCESS_TOKEN||""));var He={event:this.type,created:new Date(M).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:he,userId:this.anonId},et=R?c(He,R):He,ht={url:Fe(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([et])};this.pendingRequest=Ot(ht,function(Mt){Me.pendingRequest=null,K(Mt),Me.saveEventData(),Me.processRequests(ce)})}},oe.prototype.queueRequest=function(M,R){this.queue.push(M),this.processRequests(R)};var de,Ce,_e=function(M){function R(){M.call(this,"map.load"),this.success={},this.skuToken=""}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(K,ce,Me,Ie){this.skuToken=Me,($.EVENTS_URL&&Ie||$.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(He){return ge(He)||be(He)}))&&this.queueRequest({id:ce,timestamp:Date.now()},Ie)},R.prototype.processRequests=function(K){var ce=this;if(!this.pendingRequest&&this.queue.length!==0){var Me=this.queue.shift(),Ie=Me.id,He=Me.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=v()),this.postEvent(He,{skuToken:this.skuToken},function(et){et||Ie&&(ce.success[Ie]=!0)},K))}},R}(oe),Ae=function(M){function R(K){M.call(this,"appUserTurnstile"),this._customAccessToken=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(K,ce){$.EVENTS_URL&&$.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Me){return ge(Me)||be(Me)})&&this.queueRequest(Date.now(),ce)},R.prototype.processRequests=function(K){var ce=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Me=le($.ACCESS_TOKEN),Ie=Me?Me.u:$.ACCESS_TOKEN,He=Ie!==this.eventData.tokenU;g(this.anonId)||(this.anonId=v(),He=!0);var et=this.queue.shift();if(this.eventData.lastSuccess){var ht=new Date(this.eventData.lastSuccess),Mt=new Date(et),Lt=(et-this.eventData.lastSuccess)/864e5;He=He||Lt>=1||Lt<-1||ht.getDate()!==Mt.getDate()}else He=!0;if(!He)return this.processRequests();this.postEvent(et,{"enabled.telemetry":!1},function(Bt){Bt||(ce.eventData.lastSuccess=et,ce.eventData.tokenU=Ie)},K)}},R}(oe),Le=new Ae,ze=Le.postTurnstileEvent.bind(Le),Re=new _e,ve=Re.postMapLoadEvent.bind(Re),ke="mapbox-tiles",Ee=500,De=50,Pe=42e4;function Ue(){r.caches&&!de&&(de=r.caches.open(ke))}function We(M,R,K){if(Ue(),de){var ce={status:R.status,statusText:R.statusText,headers:new r.Headers};R.headers.forEach(function(Ie,He){return ce.headers.set(He,Ie)});var Me=D(R.headers.get("Cache-Control")||"");Me["no-store"]||(Me["max-age"]&&ce.headers.set("Expires",new Date(K+1e3*Me["max-age"]).toUTCString()),new Date(ce.headers.get("Expires")).getTime()-K<Pe||function(Ie,He){if(Ce===void 0)try{new Response(new ReadableStream),Ce=!0}catch{Ce=!1}Ce?He(Ie.body):Ie.blob().then(He)}(R,function(Ie){var He=new r.Response(Ie,ce);Ue(),de&&de.then(function(et){return et.put($e(M.url),He)}).catch(function(et){return E(et.message)})}))}}function $e(M){var R=M.indexOf("?");return R<0?M:M.slice(0,R)}function ot(M,R){if(Ue(),!de)return R(null);var K=$e(M.url);de.then(function(ce){ce.match(K).then(function(Me){var Ie=function(He){if(!He)return!1;var et=new Date(He.headers.get("Expires")||0),ht=D(He.headers.get("Cache-Control")||"");return et>Date.now()&&!ht["no-cache"]}(Me);ce.delete(K),Ie&&ce.put(K,Me.clone()),R(null,Me,Ie)}).catch(R)}).catch(R)}var st,mt=1/0;function _t(){return st==null&&(st=r.OffscreenCanvas&&new r.OffscreenCanvas(1,1).getContext("2d")&&typeof r.createImageBitmap=="function"),st}var yt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yt);var it=function(M){function R(K,ce,Me){ce===401&&be(Me)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),M.call(this,K),this.status=ce,this.url=Me,this.name=this.constructor.name,this.message=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),tt=I()?function(){return self.worker&&self.worker.referrer}:function(){return(r.location.protocol==="blob:"?r.parent:r).location.href};function Pt(M,R){var K,ce=new r.AbortController,Me=new r.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:tt(),signal:ce.signal}),Ie=!1,He=!1,et=(K=Me.url).indexOf("sku=")>0&&be(K);M.type==="json"&&Me.headers.set("Accept","application/json");var ht=function(Lt,Bt,Yt){if(!He){if(Lt&&Lt.message!=="SecurityError"&&E(Lt),Bt&&Yt)return Mt(Bt);var Ht=Date.now();r.fetch(Me).then(function(ln){if(ln.ok){var dn=et?ln.clone():null;return Mt(ln,dn,Ht)}return R(new it(ln.statusText,ln.status,M.url))}).catch(function(ln){ln.code!==20&&R(new Error(ln.message))})}},Mt=function(Lt,Bt,Yt){(M.type==="arrayBuffer"?Lt.arrayBuffer():M.type==="json"?Lt.json():Lt.text()).then(function(Ht){He||(Bt&&Yt&&We(Me,Bt,Yt),Ie=!0,R(null,Ht,Lt.headers.get("Cache-Control"),Lt.headers.get("Expires")))}).catch(function(Ht){He||R(new Error(Ht.message))})};return et?ot(Me,ht):ht(null,null),{cancel:function(){He=!0,Ie||ce.abort()}}}var Rt=function(M,R){if(K=M.url,!(/^file:/.test(K)||/^file:/.test(tt())&&!/^\w+:/.test(K))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return Pt(M,R);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",M,R,void 0,!0)}var K;return function(ce,Me){var Ie=new r.XMLHttpRequest;for(var He in Ie.open(ce.method||"GET",ce.url,!0),ce.type==="arrayBuffer"&&(Ie.responseType="arraybuffer"),ce.headers)Ie.setRequestHeader(He,ce.headers[He]);return ce.type==="json"&&(Ie.responseType="text",Ie.setRequestHeader("Accept","application/json")),Ie.withCredentials=ce.credentials==="include",Ie.onerror=function(){Me(new Error(Ie.statusText))},Ie.onload=function(){if((Ie.status>=200&&Ie.status<300||Ie.status===0)&&Ie.response!==null){var et=Ie.response;if(ce.type==="json")try{et=JSON.parse(Ie.response)}catch(ht){return Me(ht)}Me(null,et,Ie.getResponseHeader("Cache-Control"),Ie.getResponseHeader("Expires"))}else Me(new it(Ie.statusText,Ie.status,ce.url))},Ie.send(ce.body),{cancel:function(){return Ie.abort()}}}(M,R)},Ft=function(M,R){return Rt(c(M,{type:"arrayBuffer"}),R)},Ot=function(M,R){return Rt(c(M,{method:"POST"}),R)},Xe,Je,Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Xe=[],Je=0;var Ke=function(M,R){if(J.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*"),Je>=$.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:M,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return Xe.push(K),K}Je++;var ce=!1,Me=function(){if(!ce)for(ce=!0,Je--;Xe.length&&Je<$.MAX_PARALLEL_IMAGE_REQUESTS;){var He=Xe.shift(),et=He.requestParameters,ht=He.callback;He.cancelled||(He.cancel=Ke(et,ht).cancel)}},Ie=Ft(M,function(He,et,ht,Mt){Me(),He?R(He):et&&(_t()?function(Lt,Bt){var Yt=new r.Blob([new Uint8Array(Lt)],{type:"image/png"});r.createImageBitmap(Yt).then(function(Ht){Bt(null,Ht)}).catch(function(Ht){Bt(new Error("Could not load image because of "+Ht.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(et,R):function(Lt,Bt,Yt,Ht){var ln=new r.Image,dn=r.URL;ln.onload=function(){Bt(null,ln),dn.revokeObjectURL(ln.src),ln.onload=null,r.requestAnimationFrame(function(){ln.src=Ve})},ln.onerror=function(){return Bt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ln=new r.Blob([new Uint8Array(Lt)],{type:"image/png"});ln.cacheControl=Yt,ln.expires=Ht,ln.src=Lt.byteLength?dn.createObjectURL(Ln):Ve}(et,R,ht,Mt))});return{cancel:function(){Ie.cancel(),Me()}}};function ft(M,R,K){K[M]&&K[M].indexOf(R)!==-1||(K[M]=K[M]||[],K[M].push(R))}function ut(M,R,K){if(K&&K[M]){var ce=K[M].indexOf(R);ce!==-1&&K[M].splice(ce,1)}}var xt=function(M,R){R===void 0&&(R={}),c(this,R),this.type=M},bt=function(M){function R(K,ce){ce===void 0&&(ce={}),M.call(this,"error",c({error:K},ce))}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(xt),qe=function(){};qe.prototype.on=function(M,R){return this._listeners=this._listeners||{},ft(M,R,this._listeners),this},qe.prototype.off=function(M,R){return ut(M,R,this._listeners),ut(M,R,this._oneTimeListeners),this},qe.prototype.once=function(M,R){return this._oneTimeListeners=this._oneTimeListeners||{},ft(M,R,this._oneTimeListeners),this},qe.prototype.fire=function(M,R){typeof M=="string"&&(M=new xt(M,R||{}));var K=M.type;if(this.listens(K)){M.target=this;for(var ce=0,Me=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];ce<Me.length;ce+=1)Me[ce].call(this,M);for(var Ie=0,He=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Ie<He.length;Ie+=1){var et=He[Ie];ut(K,et,this._oneTimeListeners),et.call(this,M)}var ht=this._eventedParent;ht&&(c(M,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(M))}else M instanceof bt&&console.error(M.error);return this},qe.prototype.listens=function(M){return this._listeners&&this._listeners[M]&&this._listeners[M].length>0||this._oneTimeListeners&&this._oneTimeListeners[M]&&this._oneTimeListeners[M].length>0||this._eventedParent&&this._eventedParent.listens(M)},qe.prototype.setEventedParent=function(M,R){return this._eventedParent=M,this._eventedParentData=R,this};var je={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},lt=function(M,R,K,ce){this.message=(M?M+": ":"")+K,ce&&(this.identifier=ce),R!=null&&R.__line__&&(this.line=R.__line__)};function gt(M){var R=M.key,K=M.value;return K?[new lt(R,K,"constants have been deprecated as of v8")]:[]}function dt(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];for(var ce=0,Me=R;ce<Me.length;ce+=1){var Ie=Me[ce];for(var He in Ie)M[He]=Ie[He]}return M}function at(M){return M instanceof Number||M instanceof String||M instanceof Boolean?M.valueOf():M}function kt(M){if(Array.isArray(M))return M.map(kt);if(M instanceof Object&&!(M instanceof Number||M instanceof String||M instanceof Boolean)){var R={};for(var K in M)R[K]=kt(M[K]);return R}return at(M)}var wt=function(M){function R(K,ce){M.call(this,ce),this.message=ce,this.key=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(Error),Et=function(M,R){R===void 0&&(R=[]),this.parent=M,this.bindings={};for(var K=0,ce=R;K<ce.length;K+=1){var Me=ce[K],Ie=Me[0],He=Me[1];this.bindings[Ie]=He}};Et.prototype.concat=function(M){return new Et(this,M)},Et.prototype.get=function(M){if(this.bindings[M])return this.bindings[M];if(this.parent)return this.parent.get(M);throw new Error(M+" not found in scope.")},Et.prototype.has=function(M){return!!this.bindings[M]||!!this.parent&&this.parent.has(M)};var Tt={kind:"null"},At={kind:"number"},Nt={kind:"string"},Wt={kind:"boolean"},on={kind:"color"},cn={kind:"object"},un={kind:"value"},Xt={kind:"collator"},tn={kind:"formatted"},kn={kind:"resolvedImage"};function fn(M,R){return{kind:"array",itemType:M,N:R}}function Qt(M){if(M.kind==="array"){var R=Qt(M.itemType);return typeof M.N=="number"?"array<"+R+", "+M.N+">":M.itemType.kind==="value"?"array":"array<"+R+">"}return M.kind}var pn=[Tt,At,Nt,Wt,on,tn,cn,fn(un),kn];function nn(M,R){if(R.kind==="error")return null;if(M.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!nn(M.itemType,R.itemType))&&(typeof M.N!="number"||M.N===R.N))return null}else{if(M.kind===R.kind)return null;if(M.kind==="value"){for(var K=0,ce=pn;K<ce.length;K+=1)if(!nn(ce[K],R))return null}}return"Expected "+Qt(M)+" but found "+Qt(R)+" instead."}function sn(M,R){return R.some(function(K){return K.kind===M.kind})}function Sn(M,R){return R.some(function(K){return K==="null"?M===null:K==="array"?Array.isArray(M):K==="object"?M&&!Array.isArray(M)&&typeof M=="object":K===typeof M})}var wn=_(function(M,R){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ce(ht){return(ht=Math.round(ht))<0?0:ht>255?255:ht}function Me(ht){return ht<0?0:ht>1?1:ht}function Ie(ht){return ht[ht.length-1]==="%"?ce(parseFloat(ht)/100*255):ce(parseInt(ht))}function He(ht){return ht[ht.length-1]==="%"?Me(parseFloat(ht)/100):Me(parseFloat(ht))}function et(ht,Mt,Lt){return Lt<0?Lt+=1:Lt>1&&(Lt-=1),6*Lt<1?ht+(Mt-ht)*Lt*6:2*Lt<1?Mt:3*Lt<2?ht+(Mt-ht)*(2/3-Lt)*6:ht}try{R.parseCSSColor=function(ht){var Mt,Lt=ht.replace(/ /g,"").toLowerCase();if(Lt in K)return K[Lt].slice();if(Lt[0]==="#")return Lt.length===4?(Mt=parseInt(Lt.substr(1),16))>=0&&Mt<=4095?[(3840&Mt)>>4|(3840&Mt)>>8,240&Mt|(240&Mt)>>4,15&Mt|(15&Mt)<<4,1]:null:Lt.length===7&&(Mt=parseInt(Lt.substr(1),16))>=0&&Mt<=16777215?[(16711680&Mt)>>16,(65280&Mt)>>8,255&Mt,1]:null;var Bt=Lt.indexOf("("),Yt=Lt.indexOf(")");if(Bt!==-1&&Yt+1===Lt.length){var Ht=Lt.substr(0,Bt),ln=Lt.substr(Bt+1,Yt-(Bt+1)).split(","),dn=1;switch(Ht){case"rgba":if(ln.length!==4)return null;dn=He(ln.pop());case"rgb":return ln.length!==3?null:[Ie(ln[0]),Ie(ln[1]),Ie(ln[2]),dn];case"hsla":if(ln.length!==4)return null;dn=He(ln.pop());case"hsl":if(ln.length!==3)return null;var Ln=(parseFloat(ln[0])%360+360)%360/360,An=He(ln[1]),Bn=He(ln[2]),Un=Bn<=.5?Bn*(An+1):Bn+An-Bn*An,Xn=2*Bn-Un;return[ce(255*et(Xn,Un,Ln+1/3)),ce(255*et(Xn,Un,Ln)),ce(255*et(Xn,Un,Ln-1/3)),dn];default:return null}}return null}}catch{}}),Dn=wn.parseCSSColor,Tn=function(M,R,K,ce){ce===void 0&&(ce=1),this.r=M,this.g=R,this.b=K,this.a=ce};Tn.parse=function(M){if(M){if(M instanceof Tn)return M;if(typeof M=="string"){var R=Dn(M);if(R)return new Tn(R[0]/255*R[3],R[1]/255*R[3],R[2]/255*R[3],R[3])}}},Tn.prototype.toString=function(){var M=this.toArray(),R=M[0],K=M[1],ce=M[2],Me=M[3];return"rgba("+Math.round(R)+","+Math.round(K)+","+Math.round(ce)+","+Me+")"},Tn.prototype.toArray=function(){var M=this,R=M.r,K=M.g,ce=M.b,Me=M.a;return Me===0?[0,0,0,0]:[255*R/Me,255*K/Me,255*ce/Me,Me]},Tn.black=new Tn(0,0,0,1),Tn.white=new Tn(1,1,1,1),Tn.transparent=new Tn(0,0,0,0),Tn.red=new Tn(1,0,0,1);var Pn=function(M,R,K){this.sensitivity=M?R?"variant":"case":R?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Pn.prototype.compare=function(M,R){return this.collator.compare(M,R)},Pn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Nn=function(M,R,K,ce,Me){this.text=M,this.image=R,this.scale=K,this.fontStack=ce,this.textColor=Me},$n=function(M){this.sections=M};$n.fromString=function(M){return new $n([new Nn(M,null,null,null,null)])},$n.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(M){return M.text.length!==0||M.image&&M.image.name.length!==0})},$n.factory=function(M){return M instanceof $n?M:$n.fromString(M)},$n.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(M){return M.text}).join("")},$n.prototype.serialize=function(){for(var M=["format"],R=0,K=this.sections;R<K.length;R+=1){var ce=K[R];if(ce.image)M.push(["image",ce.image.name]);else{M.push(ce.text);var Me={};ce.fontStack&&(Me["text-font"]=["literal",ce.fontStack.split(",")]),ce.scale&&(Me["font-scale"]=ce.scale),ce.textColor&&(Me["text-color"]=["rgba"].concat(ce.textColor.toArray())),M.push(Me)}}return M};var pr=function(M){this.name=M.name,this.available=M.available};function Hn(M,R,K,ce){return typeof M=="number"&&M>=0&&M<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof K=="number"&&K>=0&&K<=255?ce===void 0||typeof ce=="number"&&ce>=0&&ce<=1?null:"Invalid rgba value ["+[M,R,K,ce].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ce=="number"?[M,R,K,ce]:[M,R,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Qn(M){if(M===null||typeof M=="string"||typeof M=="boolean"||typeof M=="number"||M instanceof Tn||M instanceof Pn||M instanceof $n||M instanceof pr)return!0;if(Array.isArray(M)){for(var R=0,K=M;R<K.length;R+=1)if(!Qn(K[R]))return!1;return!0}if(typeof M=="object"){for(var ce in M)if(!Qn(M[ce]))return!1;return!0}return!1}function er(M){if(M===null)return Tt;if(typeof M=="string")return Nt;if(typeof M=="boolean")return Wt;if(typeof M=="number")return At;if(M instanceof Tn)return on;if(M instanceof Pn)return Xt;if(M instanceof $n)return tn;if(M instanceof pr)return kn;if(Array.isArray(M)){for(var R,K=M.length,ce=0,Me=M;ce<Me.length;ce+=1){var Ie=er(Me[ce]);if(R){if(R===Ie)continue;R=un;break}R=Ie}return fn(R||un,K)}return cn}function ur(M){var R=typeof M;return M===null?"":R==="string"||R==="number"||R==="boolean"?String(M):M instanceof Tn||M instanceof $n||M instanceof pr?M.toString():JSON.stringify(M)}pr.prototype.toString=function(){return this.name},pr.fromString=function(M){return M?new pr({name:M,available:!1}):null},pr.prototype.serialize=function(){return["image",this.name]};var $t=function(M,R){this.type=M,this.value=R};$t.parse=function(M,R){if(M.length!==2)return R.error("'literal' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(!Qn(M[1]))return R.error("invalid value");var K=M[1],ce=er(K),Me=R.expectedType;return ce.kind!=="array"||ce.N!==0||!Me||Me.kind!=="array"||typeof Me.N=="number"&&Me.N!==0||(ce=Me),new $t(ce,K)},$t.prototype.evaluate=function(){return this.value},$t.prototype.eachChild=function(){},$t.prototype.outputDefined=function(){return!0},$t.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Tn?["rgba"].concat(this.value.toArray()):this.value instanceof $n?this.value.serialize():this.value};var rn=function(M){this.name="ExpressionEvaluationError",this.message=M};rn.prototype.toJSON=function(){return this.message};var On={string:Nt,number:At,boolean:Wt,object:cn},xn=function(M,R){this.type=M,this.args=R};xn.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K,ce=1,Me=M[0];if(Me==="array"){var Ie,He;if(M.length>2){var et=M[1];if(typeof et!="string"||!(et in On)||et==="object")return R.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=On[et],ce++}else Ie=un;if(M.length>3){if(M[2]!==null&&(typeof M[2]!="number"||M[2]<0||M[2]!==Math.floor(M[2])))return R.error('The length argument to "array" must be a positive integer literal',2);He=M[2],ce++}K=fn(Ie,He)}else K=On[Me];for(var ht=[];ce<M.length;ce++){var Mt=R.parse(M[ce],ce,un);if(!Mt)return null;ht.push(Mt)}return new xn(K,ht)},xn.prototype.evaluate=function(M){for(var R=0;R<this.args.length;R++){var K=this.args[R].evaluate(M);if(!nn(this.type,er(K)))return K;if(R===this.args.length-1)throw new rn("Expected value to be of type "+Qt(this.type)+", but found "+Qt(er(K))+" instead.")}return null},xn.prototype.eachChild=function(M){this.args.forEach(M)},xn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},xn.prototype.serialize=function(){var M=this.type,R=[M.kind];if(M.kind==="array"){var K=M.itemType;if(K.kind==="string"||K.kind==="number"||K.kind==="boolean"){R.push(K.kind);var ce=M.N;(typeof ce=="number"||this.args.length>1)&&R.push(ce)}}return R.concat(this.args.map(function(Me){return Me.serialize()}))};var In=function(M){this.type=tn,this.sections=M};In.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K=M[1];if(!Array.isArray(K)&&typeof K=="object")return R.error("First argument must be an image or text section.");for(var ce=[],Me=!1,Ie=1;Ie<=M.length-1;++Ie){var He=M[Ie];if(Me&&typeof He=="object"&&!Array.isArray(He)){Me=!1;var et=null;if(He["font-scale"]&&!(et=R.parse(He["font-scale"],1,At)))return null;var ht=null;if(He["text-font"]&&!(ht=R.parse(He["text-font"],1,fn(Nt))))return null;var Mt=null;if(He["text-color"]&&!(Mt=R.parse(He["text-color"],1,on)))return null;var Lt=ce[ce.length-1];Lt.scale=et,Lt.font=ht,Lt.textColor=Mt}else{var Bt=R.parse(M[Ie],1,un);if(!Bt)return null;var Yt=Bt.type.kind;if(Yt!=="string"&&Yt!=="value"&&Yt!=="null"&&Yt!=="resolvedImage")return R.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,ce.push({content:Bt,scale:null,font:null,textColor:null})}}return new In(ce)},In.prototype.evaluate=function(M){return new $n(this.sections.map(function(R){var K=R.content.evaluate(M);return er(K)===kn?new Nn("",K,null,null,null):new Nn(ur(K),null,R.scale?R.scale.evaluate(M):null,R.font?R.font.evaluate(M).join(","):null,R.textColor?R.textColor.evaluate(M):null)}))},In.prototype.eachChild=function(M){for(var R=0,K=this.sections;R<K.length;R+=1){var ce=K[R];M(ce.content),ce.scale&&M(ce.scale),ce.font&&M(ce.font),ce.textColor&&M(ce.textColor)}},In.prototype.outputDefined=function(){return!1},In.prototype.serialize=function(){for(var M=["format"],R=0,K=this.sections;R<K.length;R+=1){var ce=K[R];M.push(ce.content.serialize());var Me={};ce.scale&&(Me["font-scale"]=ce.scale.serialize()),ce.font&&(Me["text-font"]=ce.font.serialize()),ce.textColor&&(Me["text-color"]=ce.textColor.serialize()),M.push(Me)}return M};var Gn=function(M){this.type=kn,this.input=M};Gn.parse=function(M,R){if(M.length!==2)return R.error("Expected two arguments.");var K=R.parse(M[1],1,Nt);return K?new Gn(K):R.error("No image name provided.")},Gn.prototype.evaluate=function(M){var R=this.input.evaluate(M),K=pr.fromString(R);return K&&M.availableImages&&(K.available=M.availableImages.indexOf(R)>-1),K},Gn.prototype.eachChild=function(M){M(this.input)},Gn.prototype.outputDefined=function(){return!1},Gn.prototype.serialize=function(){return["image",this.input.serialize()]};var qn={"to-boolean":Wt,"to-color":on,"to-number":At,"to-string":Nt},ir=function(M,R){this.type=M,this.args=R};ir.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K=M[0];if((K==="to-boolean"||K==="to-string")&&M.length!==2)return R.error("Expected one argument.");for(var ce=qn[K],Me=[],Ie=1;Ie<M.length;Ie++){var He=R.parse(M[Ie],Ie,un);if(!He)return null;Me.push(He)}return new ir(ce,Me)},ir.prototype.evaluate=function(M){if(this.type.kind==="boolean")return!!this.args[0].evaluate(M);if(this.type.kind==="color"){for(var R,K,ce=0,Me=this.args;ce<Me.length;ce+=1){if(K=null,(R=Me[ce].evaluate(M))instanceof Tn)return R;if(typeof R=="string"){var Ie=M.parseColor(R);if(Ie)return Ie}else if(Array.isArray(R)&&!(K=R.length<3||R.length>4?"Invalid rbga value "+JSON.stringify(R)+": expected an array containing either three or four numeric values.":Hn(R[0],R[1],R[2],R[3])))return new Tn(R[0]/255,R[1]/255,R[2]/255,R[3])}throw new rn(K||"Could not parse color from value '"+(typeof R=="string"?R:String(JSON.stringify(R)))+"'")}if(this.type.kind==="number"){for(var He=null,et=0,ht=this.args;et<ht.length;et+=1){if((He=ht[et].evaluate(M))===null)return 0;var Mt=Number(He);if(!isNaN(Mt))return Mt}throw new rn("Could not convert "+JSON.stringify(He)+" to number.")}return this.type.kind==="formatted"?$n.fromString(ur(this.args[0].evaluate(M))):this.type.kind==="resolvedImage"?pr.fromString(ur(this.args[0].evaluate(M))):ur(this.args[0].evaluate(M))},ir.prototype.eachChild=function(M){this.args.forEach(M)},ir.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},ir.prototype.serialize=function(){if(this.type.kind==="formatted")return new In([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Gn(this.args[0]).serialize();var M=["to-"+this.type.kind];return this.eachChild(function(R){M.push(R.serialize())}),M};var dr=["Unknown","Point","LineString","Polygon"],Kt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Kt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Kt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?dr[this.feature.type]:this.feature.type:null},Kt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Kt.prototype.canonicalID=function(){return this.canonical},Kt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Kt.prototype.parseColor=function(M){var R=this._parseColorCache[M];return R||(R=this._parseColorCache[M]=Tn.parse(M)),R};var bn=function(M,R,K,ce){this.name=M,this.type=R,this._evaluate=K,this.args=ce};bn.prototype.evaluate=function(M){return this._evaluate(M,this.args)},bn.prototype.eachChild=function(M){this.args.forEach(M)},bn.prototype.outputDefined=function(){return!1},bn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(M){return M.serialize()}))},bn.parse=function(M,R){var K,ce=M[0],Me=bn.definitions[ce];if(!Me)return R.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Me)?Me[0]:Me.type,He=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,et=He.filter(function(qr){var zr=qr[0];return!Array.isArray(zr)||zr.length===M.length-1}),ht=null,Mt=0,Lt=et;Mt<Lt.length;Mt+=1){var Bt=Lt[Mt],Yt=Bt[0],Ht=Bt[1];ht=new gr(R.registry,R.path,null,R.scope);for(var ln=[],dn=!1,Ln=1;Ln<M.length;Ln++){var An=M[Ln],Bn=Array.isArray(Yt)?Yt[Ln-1]:Yt.type,Un=ht.parse(An,1+ln.length,Bn);if(!Un){dn=!0;break}ln.push(Un)}if(!dn)if(Array.isArray(Yt)&&Yt.length!==ln.length)ht.error("Expected "+Yt.length+" arguments, but found "+ln.length+" instead.");else{for(var Xn=0;Xn<ln.length;Xn++){var rr=Array.isArray(Yt)?Yt[Xn]:Yt.type,lr=ln[Xn];ht.concat(Xn+1).checkSubtype(rr,lr.type)}if(ht.errors.length===0)return new bn(ce,Ie,Ht,ln)}}if(et.length===1)(K=R.errors).push.apply(K,ht.errors);else{for(var br=(et.length?et:He).map(function(qr){return zr=qr[0],Array.isArray(zr)?"("+zr.map(Qt).join(", ")+")":"("+Qt(zr.type)+"...)";var zr}).join(" | "),yr=[],Ar=1;Ar<M.length;Ar++){var Sr=R.parse(M[Ar],1+yr.length);if(!Sr)return null;yr.push(Qt(Sr.type))}R.error("Expected arguments of type "+br+", but found ("+yr.join(", ")+") instead.")}return null},bn.register=function(M,R){for(var K in bn.definitions=R,R)M[K]=bn};var Dt=function(M,R,K){this.type=Xt,this.locale=K,this.caseSensitive=M,this.diacriticSensitive=R};Dt.parse=function(M,R){if(M.length!==2)return R.error("Expected one argument.");var K=M[1];if(typeof K!="object"||Array.isArray(K))return R.error("Collator options argument must be an object.");var ce=R.parse(K["case-sensitive"]!==void 0&&K["case-sensitive"],1,Wt);if(!ce)return null;var Me=R.parse(K["diacritic-sensitive"]!==void 0&&K["diacritic-sensitive"],1,Wt);if(!Me)return null;var Ie=null;return K.locale&&!(Ie=R.parse(K.locale,1,Nt))?null:new Dt(ce,Me,Ie)},Dt.prototype.evaluate=function(M){return new Pn(this.caseSensitive.evaluate(M),this.diacriticSensitive.evaluate(M),this.locale?this.locale.evaluate(M):null)},Dt.prototype.eachChild=function(M){M(this.caseSensitive),M(this.diacriticSensitive),this.locale&&M(this.locale)},Dt.prototype.outputDefined=function(){return!1},Dt.prototype.serialize=function(){var M={};return M["case-sensitive"]=this.caseSensitive.serialize(),M["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(M.locale=this.locale.serialize()),["collator",M]};var Ut=8192;function en(M,R){M[0]=Math.min(M[0],R[0]),M[1]=Math.min(M[1],R[1]),M[2]=Math.max(M[2],R[0]),M[3]=Math.max(M[3],R[1])}function gn(M,R){return!(M[0]<=R[0]||M[2]>=R[2]||M[1]<=R[1]||M[3]>=R[3])}function vn(M,R){var K,ce=(180+M[0])/360,Me=(K=M[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+K*Math.PI/360)))/360),Ie=Math.pow(2,R.z);return[Math.round(ce*Ie*Ut),Math.round(Me*Ie*Ut)]}function Mn(M,R,K){return R[1]>M[1]!=K[1]>M[1]&&M[0]<(K[0]-R[0])*(M[1]-R[1])/(K[1]-R[1])+R[0]}function yn(M,R){for(var K=!1,ce=0,Me=R.length;ce<Me;ce++)for(var Ie=R[ce],He=0,et=Ie.length;He<et-1;He++){if(ht=M,Mt=Ie[He],Lt=Ie[He+1],Bt=void 0,Yt=void 0,Ht=void 0,ln=void 0,Bt=ht[0]-Mt[0],Yt=ht[1]-Mt[1],Ht=ht[0]-Lt[0],ln=ht[1]-Lt[1],Bt*ln-Ht*Yt==0&&Bt*Ht<=0&&Yt*ln<=0)return!1;Mn(M,Ie[He],Ie[He+1])&&(K=!K)}var ht,Mt,Lt,Bt,Yt,Ht,ln;return K}function hn(M,R){for(var K=0;K<R.length;K++)if(yn(M,R[K]))return!0;return!1}function qt(M,R,K,ce){var Me=M[0]-K[0],Ie=M[1]-K[1],He=R[0]-K[0],et=R[1]-K[1],ht=ce[0]-K[0],Mt=ce[1]-K[1],Lt=Me*Mt-ht*Ie,Bt=He*Mt-ht*et;return Lt>0&&Bt<0||Lt<0&&Bt>0}function Vt(M,R,K){for(var ce=0,Me=K;ce<Me.length;ce+=1)for(var Ie=Me[ce],He=0;He<Ie.length-1;++He)if(et=M,ht=R,Mt=Ie[He],Lt=Ie[He+1],Bt=void 0,Yt=void 0,Ht=void 0,Ht=[ht[0]-et[0],ht[1]-et[1]],Bt=[Lt[0]-Mt[0],Lt[1]-Mt[1]],Yt=Ht,Bt[0]*Yt[1]-Bt[1]*Yt[0]!=0&&qt(et,ht,Mt,Lt)&&qt(Mt,Lt,et,ht))return!0;var et,ht,Mt,Lt,Bt,Yt,Ht;return!1}function an(M,R){for(var K=0;K<M.length;++K)if(!yn(M[K],R))return!1;for(var ce=0;ce<M.length-1;++ce)if(Vt(M[ce],M[ce+1],R))return!1;return!0}function En(M,R){for(var K=0;K<R.length;K++)if(an(M,R[K]))return!0;return!1}function Fn(M,R,K){for(var ce=[],Me=0;Me<M.length;Me++){for(var Ie=[],He=0;He<M[Me].length;He++){var et=vn(M[Me][He],K);en(R,et),Ie.push(et)}ce.push(Ie)}return ce}function Rn(M,R,K){for(var ce=[],Me=0;Me<M.length;Me++){var Ie=Fn(M[Me],R,K);ce.push(Ie)}return ce}function jn(M,R,K,ce){if(M[0]<K[0]||M[0]>K[2]){var Me=.5*ce,Ie=M[0]-K[0]>Me?-ce:K[0]-M[0]>Me?ce:0;Ie===0&&(Ie=M[0]-K[2]>Me?-ce:K[2]-M[0]>Me?ce:0),M[0]+=Ie}en(R,M)}function tr(M,R,K,ce){for(var Me=Math.pow(2,ce.z)*Ut,Ie=[ce.x*Ut,ce.y*Ut],He=[],et=0,ht=M;et<ht.length;et+=1)for(var Mt=0,Lt=ht[et];Mt<Lt.length;Mt+=1){var Bt=Lt[Mt],Yt=[Bt.x+Ie[0],Bt.y+Ie[1]];jn(Yt,R,K,Me),He.push(Yt)}return He}function Zn(M,R,K,ce){for(var Me=Math.pow(2,ce.z)*Ut,Ie=[ce.x*Ut,ce.y*Ut],He=[],et=0,ht=M;et<ht.length;et+=1){for(var Mt=[],Lt=0,Bt=ht[et];Lt<Bt.length;Lt+=1){var Yt=Bt[Lt],Ht=[Yt.x+Ie[0],Yt.y+Ie[1]];en(R,Ht),Mt.push(Ht)}He.push(Mt)}if(R[2]-R[0]<=Me/2){(Bn=R)[0]=Bn[1]=1/0,Bn[2]=Bn[3]=-1/0;for(var ln=0,dn=He;ln<dn.length;ln+=1)for(var Ln=0,An=dn[ln];Ln<An.length;Ln+=1)jn(An[Ln],R,K,Me)}var Bn;return He}var nr=function(M,R){this.type=Wt,this.geojson=M,this.geometries=R};function Yn(M){if(M instanceof bn&&(M.name==="get"&&M.args.length===1||M.name==="feature-state"||M.name==="has"&&M.args.length===1||M.name==="properties"||M.name==="geometry-type"||M.name==="id"||/^filter-/.test(M.name))||M instanceof nr)return!1;var R=!0;return M.eachChild(function(K){R&&!Yn(K)&&(R=!1)}),R}function Jn(M){if(M instanceof bn&&M.name==="feature-state")return!1;var R=!0;return M.eachChild(function(K){R&&!Jn(K)&&(R=!1)}),R}function cr(M,R){if(M instanceof bn&&R.indexOf(M.name)>=0)return!1;var K=!0;return M.eachChild(function(ce){K&&!cr(ce,R)&&(K=!1)}),K}nr.parse=function(M,R){if(M.length!==2)return R.error("'within' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(Qn(M[1])){var K=M[1];if(K.type==="FeatureCollection")for(var ce=0;ce<K.features.length;++ce){var Me=K.features[ce].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new nr(K,K.features[ce].geometry)}else if(K.type==="Feature"){var Ie=K.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new nr(K,K.geometry)}else if(K.type==="Polygon"||K.type==="MultiPolygon")return new nr(K,K)}return R.error("'within' expression requires valid geojson object that contains polygon geometry type.")},nr.prototype.evaluate=function(M){if(M.geometry()!=null&&M.canonicalID()!=null){if(M.geometryType()==="Point")return function(R,K){var ce=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Ie=R.canonicalID();if(K.type==="Polygon"){var He=Fn(K.coordinates,Me,Ie),et=tr(R.geometry(),ce,Me,Ie);if(!gn(ce,Me))return!1;for(var ht=0,Mt=et;ht<Mt.length;ht+=1)if(!yn(Mt[ht],He))return!1}if(K.type==="MultiPolygon"){var Lt=Rn(K.coordinates,Me,Ie),Bt=tr(R.geometry(),ce,Me,Ie);if(!gn(ce,Me))return!1;for(var Yt=0,Ht=Bt;Yt<Ht.length;Yt+=1)if(!hn(Ht[Yt],Lt))return!1}return!0}(M,this.geometries);if(M.geometryType()==="LineString")return function(R,K){var ce=[1/0,1/0,-1/0,-1/0],Me=[1/0,1/0,-1/0,-1/0],Ie=R.canonicalID();if(K.type==="Polygon"){var He=Fn(K.coordinates,Me,Ie),et=Zn(R.geometry(),ce,Me,Ie);if(!gn(ce,Me))return!1;for(var ht=0,Mt=et;ht<Mt.length;ht+=1)if(!an(Mt[ht],He))return!1}if(K.type==="MultiPolygon"){var Lt=Rn(K.coordinates,Me,Ie),Bt=Zn(R.geometry(),ce,Me,Ie);if(!gn(ce,Me))return!1;for(var Yt=0,Ht=Bt;Yt<Ht.length;Yt+=1)if(!En(Ht[Yt],Lt))return!1}return!0}(M,this.geometries)}return!1},nr.prototype.eachChild=function(){},nr.prototype.outputDefined=function(){return!0},nr.prototype.serialize=function(){return["within",this.geojson]};var Tr=function(M,R){this.type=R.type,this.name=M,this.boundExpression=R};Tr.parse=function(M,R){if(M.length!==2||typeof M[1]!="string")return R.error("'var' expression requires exactly one string literal argument.");var K=M[1];return R.scope.has(K)?new Tr(K,R.scope.get(K)):R.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},Tr.prototype.evaluate=function(M){return this.boundExpression.evaluate(M)},Tr.prototype.eachChild=function(){},Tr.prototype.outputDefined=function(){return!1},Tr.prototype.serialize=function(){return["var",this.name]};var gr=function(M,R,K,ce,Me){R===void 0&&(R=[]),ce===void 0&&(ce=new Et),Me===void 0&&(Me=[]),this.registry=M,this.path=R,this.key=R.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=ce,this.errors=Me,this.expectedType=K};function ar(M){if(M instanceof Tr)return ar(M.boundExpression);if(M instanceof bn&&M.name==="error"||M instanceof Dt||M instanceof nr)return!1;var R=M instanceof ir||M instanceof xn,K=!0;return M.eachChild(function(ce){K=R?K&&ar(ce):K&&ce instanceof $t}),!!K&&Yn(M)&&cr(M,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function xr(M,R){for(var K,ce,Me=M.length-1,Ie=0,He=Me,et=0;Ie<=He;)if(K=M[et=Math.floor((Ie+He)/2)],ce=M[et+1],K<=R){if(et===Me||R<ce)return et;Ie=et+1}else{if(!(K>R))throw new rn("Input is not a number.");He=et-1}return 0}gr.prototype.parse=function(M,R,K,ce,Me){return Me===void 0&&(Me={}),R?this.concat(R,K,ce)._parse(M,Me):this._parse(M,Me)},gr.prototype._parse=function(M,R){function K(Mt,Lt,Bt){return Bt==="assert"?new xn(Lt,[Mt]):Bt==="coerce"?new ir(Lt,[Mt]):Mt}if(M!==null&&typeof M!="string"&&typeof M!="boolean"&&typeof M!="number"||(M=["literal",M]),Array.isArray(M)){if(M.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ce=M[0];if(typeof ce!="string")return this.error("Expression name must be a string, but found "+typeof ce+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[ce];if(Me){var Ie=Me.parse(M,this);if(!Ie)return null;if(this.expectedType){var He=this.expectedType,et=Ie.type;if(He.kind!=="string"&&He.kind!=="number"&&He.kind!=="boolean"&&He.kind!=="object"&&He.kind!=="array"||et.kind!=="value")if(He.kind!=="color"&&He.kind!=="formatted"&&He.kind!=="resolvedImage"||et.kind!=="value"&&et.kind!=="string"){if(this.checkSubtype(He,et))return null}else Ie=K(Ie,He,R.typeAnnotation||"coerce");else Ie=K(Ie,He,R.typeAnnotation||"assert")}if(!(Ie instanceof $t)&&Ie.type.kind!=="resolvedImage"&&ar(Ie)){var ht=new Kt;try{Ie=new $t(Ie.type,Ie.evaluate(ht))}catch(Mt){return this.error(Mt.message),null}}return Ie}return this.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0)}return M===void 0?this.error("'undefined' value invalid. Use null instead."):typeof M=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof M+" instead.")},gr.prototype.concat=function(M,R,K){var ce=typeof M=="number"?this.path.concat(M):this.path,Me=K?this.scope.concat(K):this.scope;return new gr(this.registry,ce,R||null,Me,this.errors)},gr.prototype.error=function(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];var ce=""+this.key+R.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new wt(ce,M))},gr.prototype.checkSubtype=function(M,R){var K=nn(M,R);return K&&this.error(K),K};var Cr=function(M,R,K){this.type=M,this.input=R,this.labels=[],this.outputs=[];for(var ce=0,Me=K;ce<Me.length;ce+=1){var Ie=Me[ce],He=Ie[0],et=Ie[1];this.labels.push(He),this.outputs.push(et)}};function Nr(M,R,K){return M*(1-K)+R*K}Cr.parse=function(M,R){if(M.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return R.error("Expected an even number of arguments.");var K=R.parse(M[1],1,At);if(!K)return null;var ce=[],Me=null;R.expectedType&&R.expectedType.kind!=="value"&&(Me=R.expectedType);for(var Ie=1;Ie<M.length;Ie+=2){var He=Ie===1?-1/0:M[Ie],et=M[Ie+1],ht=Ie,Mt=Ie+1;if(typeof He!="number")return R.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ht);if(ce.length&&ce[ce.length-1][0]>=He)return R.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ht);var Lt=R.parse(et,Mt,Me);if(!Lt)return null;Me=Me||Lt.type,ce.push([He,Lt])}return new Cr(Me,K,ce)},Cr.prototype.evaluate=function(M){var R=this.labels,K=this.outputs;if(R.length===1)return K[0].evaluate(M);var ce=this.input.evaluate(M);if(ce<=R[0])return K[0].evaluate(M);var Me=R.length;return ce>=R[Me-1]?K[Me-1].evaluate(M):K[xr(R,ce)].evaluate(M)},Cr.prototype.eachChild=function(M){M(this.input);for(var R=0,K=this.outputs;R<K.length;R+=1)M(K[R])},Cr.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Cr.prototype.serialize=function(){for(var M=["step",this.input.serialize()],R=0;R<this.labels.length;R++)R>0&&M.push(this.labels[R]),M.push(this.outputs[R].serialize());return M};var xi=Object.freeze({__proto__:null,number:Nr,color:function(M,R,K){return new Tn(Nr(M.r,R.r,K),Nr(M.g,R.g,K),Nr(M.b,R.b,K),Nr(M.a,R.a,K))},array:function(M,R,K){return M.map(function(ce,Me){return Nr(ce,R[Me],K)})}}),Li=.95047,Ji=1,gi=1.08883,Oi=4/29,Pa=6/29,jr=3*Pa*Pa,$i=Pa*Pa*Pa,to=Math.PI/180,Xi=180/Math.PI;function Ko(M){return M>$i?Math.pow(M,.3333333333333333):M/jr+Oi}function ms(M){return M>Pa?M*M*M:jr*(M-Oi)}function da(M){return 255*(M<=.0031308?12.92*M:1.055*Math.pow(M,.4166666666666667)-.055)}function Oo(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function Io(M){var R=Oo(M.r),K=Oo(M.g),ce=Oo(M.b),Me=Ko((.4124564*R+.3575761*K+.1804375*ce)/Li),Ie=Ko((.2126729*R+.7151522*K+.072175*ce)/Ji);return{l:116*Ie-16,a:500*(Me-Ie),b:200*(Ie-Ko((.0193339*R+.119192*K+.9503041*ce)/gi)),alpha:M.a}}function ys(M){var R=(M.l+16)/116,K=isNaN(M.a)?R:R+M.a/500,ce=isNaN(M.b)?R:R-M.b/200;return R=Ji*ms(R),K=Li*ms(K),ce=gi*ms(ce),new Tn(da(3.2404542*K-1.5371385*R-.4985314*ce),da(-.969266*K+1.8760108*R+.041556*ce),da(.0556434*K-.2040259*R+1.0572252*ce),M.alpha)}function no(M,R,K){var ce=R-M;return M+K*(ce>180||ce<-180?ce-360*Math.round(ce/360):ce)}var po={forward:Io,reverse:ys,interpolate:function(M,R,K){return{l:Nr(M.l,R.l,K),a:Nr(M.a,R.a,K),b:Nr(M.b,R.b,K),alpha:Nr(M.alpha,R.alpha,K)}}},go={forward:function(M){var R=Io(M),K=R.l,ce=R.a,Me=R.b,Ie=Math.atan2(Me,ce)*Xi;return{h:Ie<0?Ie+360:Ie,c:Math.sqrt(ce*ce+Me*Me),l:K,alpha:M.a}},reverse:function(M){var R=M.h*to,K=M.c;return ys({l:M.l,a:Math.cos(R)*K,b:Math.sin(R)*K,alpha:M.alpha})},interpolate:function(M,R,K){return{h:no(M.h,R.h,K),c:Nr(M.c,R.c,K),l:Nr(M.l,R.l,K),alpha:Nr(M.alpha,R.alpha,K)}}},hi=Object.freeze({__proto__:null,lab:po,hcl:go}),Qi=function(M,R,K,ce,Me){this.type=M,this.operator=R,this.interpolation=K,this.input=ce,this.labels=[],this.outputs=[];for(var Ie=0,He=Me;Ie<He.length;Ie+=1){var et=He[Ie],ht=et[0],Mt=et[1];this.labels.push(ht),this.outputs.push(Mt)}};function Jo(M,R,K,ce){var Me=ce-K,Ie=M-K;return Me===0?0:R===1?Ie/Me:(Math.pow(R,Ie)-1)/(Math.pow(R,Me)-1)}Qi.interpolationFactor=function(M,R,K,ce){var Me=0;if(M.name==="exponential")Me=Jo(R,M.base,K,ce);else if(M.name==="linear")Me=Jo(R,1,K,ce);else if(M.name==="cubic-bezier"){var Ie=M.controlPoints;Me=new f(Ie[0],Ie[1],Ie[2],Ie[3]).solve(Jo(R,1,K,ce))}return Me},Qi.parse=function(M,R){var K=M[0],ce=M[1],Me=M[2],Ie=M.slice(3);if(!Array.isArray(ce)||ce.length===0)return R.error("Expected an interpolation type expression.",1);if(ce[0]==="linear")ce={name:"linear"};else if(ce[0]==="exponential"){var He=ce[1];if(typeof He!="number")return R.error("Exponential interpolation requires a numeric base.",1,1);ce={name:"exponential",base:He}}else{if(ce[0]!=="cubic-bezier")return R.error("Unknown interpolation type "+String(ce[0]),1,0);var et=ce.slice(1);if(et.length!==4||et.some(function(Ln){return typeof Ln!="number"||Ln<0||Ln>1}))return R.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ce={name:"cubic-bezier",controlPoints:et}}if(M.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return R.error("Expected an even number of arguments.");if(!(Me=R.parse(Me,2,At)))return null;var ht=[],Mt=null;K==="interpolate-hcl"||K==="interpolate-lab"?Mt=on:R.expectedType&&R.expectedType.kind!=="value"&&(Mt=R.expectedType);for(var Lt=0;Lt<Ie.length;Lt+=2){var Bt=Ie[Lt],Yt=Ie[Lt+1],Ht=Lt+3,ln=Lt+4;if(typeof Bt!="number")return R.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ht);if(ht.length&&ht[ht.length-1][0]>=Bt)return R.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ht);var dn=R.parse(Yt,ln,Mt);if(!dn)return null;Mt=Mt||dn.type,ht.push([Bt,dn])}return Mt.kind==="number"||Mt.kind==="color"||Mt.kind==="array"&&Mt.itemType.kind==="number"&&typeof Mt.N=="number"?new Qi(Mt,K,ce,Me,ht):R.error("Type "+Qt(Mt)+" is not interpolatable.")},Qi.prototype.evaluate=function(M){var R=this.labels,K=this.outputs;if(R.length===1)return K[0].evaluate(M);var ce=this.input.evaluate(M);if(ce<=R[0])return K[0].evaluate(M);var Me=R.length;if(ce>=R[Me-1])return K[Me-1].evaluate(M);var Ie=xr(R,ce),He=R[Ie],et=R[Ie+1],ht=Qi.interpolationFactor(this.interpolation,ce,He,et),Mt=K[Ie].evaluate(M),Lt=K[Ie+1].evaluate(M);return this.operator==="interpolate"?xi[this.type.kind.toLowerCase()](Mt,Lt,ht):this.operator==="interpolate-hcl"?go.reverse(go.interpolate(go.forward(Mt),go.forward(Lt),ht)):po.reverse(po.interpolate(po.forward(Mt),po.forward(Lt),ht))},Qi.prototype.eachChild=function(M){M(this.input);for(var R=0,K=this.outputs;R<K.length;R+=1)M(K[R])},Qi.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Qi.prototype.serialize=function(){var M;M=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var R=[this.operator,M,this.input.serialize()],K=0;K<this.labels.length;K++)R.push(this.labels[K],this.outputs[K].serialize());return R};var zo=function(M,R){this.type=M,this.args=R};zo.parse=function(M,R){if(M.length<2)return R.error("Expectected at least one argument.");var K=null,ce=R.expectedType;ce&&ce.kind!=="value"&&(K=ce);for(var Me=[],Ie=0,He=M.slice(1);Ie<He.length;Ie+=1){var et=He[Ie],ht=R.parse(et,1+Me.length,K,void 0,{typeAnnotation:"omit"});if(!ht)return null;K=K||ht.type,Me.push(ht)}var Mt=ce&&Me.some(function(Lt){return nn(ce,Lt.type)});return new zo(Mt?un:K,Me)},zo.prototype.evaluate=function(M){for(var R,K=null,ce=0,Me=0,Ie=this.args;Me<Ie.length&&(ce++,(K=Ie[Me].evaluate(M))&&K instanceof pr&&!K.available&&(R||(R=K.name),K=null,ce===this.args.length&&(K=R)),K===null);Me+=1);return K},zo.prototype.eachChild=function(M){this.args.forEach(M)},zo.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},zo.prototype.serialize=function(){var M=["coalesce"];return this.eachChild(function(R){M.push(R.serialize())}),M};var vo=function(M,R){this.type=R.type,this.bindings=[].concat(M),this.result=R};vo.prototype.evaluate=function(M){return this.result.evaluate(M)},vo.prototype.eachChild=function(M){for(var R=0,K=this.bindings;R<K.length;R+=1)M(K[R][1]);M(this.result)},vo.parse=function(M,R){if(M.length<4)return R.error("Expected at least 3 arguments, but found "+(M.length-1)+" instead.");for(var K=[],ce=1;ce<M.length-1;ce+=2){var Me=M[ce];if(typeof Me!="string")return R.error("Expected string, but found "+typeof Me+" instead.",ce);if(/[^a-zA-Z0-9_]/.test(Me))return R.error("Variable names must contain only alphanumeric characters or '_'.",ce);var Ie=R.parse(M[ce+1],ce+1);if(!Ie)return null;K.push([Me,Ie])}var He=R.parse(M[M.length-1],M.length-1,R.expectedType,K);return He?new vo(K,He):null},vo.prototype.outputDefined=function(){return this.result.outputDefined()},vo.prototype.serialize=function(){for(var M=["let"],R=0,K=this.bindings;R<K.length;R+=1){var ce=K[R],Me=ce[0],Ie=ce[1];M.push(Me,Ie.serialize())}return M.push(this.result.serialize()),M};var xs=function(M,R,K){this.type=M,this.index=R,this.input=K};xs.parse=function(M,R){if(M.length!==3)return R.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,At),ce=R.parse(M[2],2,fn(R.expectedType||un));if(!K||!ce)return null;var Me=ce.type;return new xs(Me.itemType,K,ce)},xs.prototype.evaluate=function(M){var R=this.index.evaluate(M),K=this.input.evaluate(M);if(R<0)throw new rn("Array index out of bounds: "+R+" < 0.");if(R>=K.length)throw new rn("Array index out of bounds: "+R+" > "+(K.length-1)+".");if(R!==Math.floor(R))throw new rn("Array index must be an integer, but found "+R+" instead.");return K[R]},xs.prototype.eachChild=function(M){M(this.index),M(this.input)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Do=function(M,R){this.type=Wt,this.needle=M,this.haystack=R};Do.parse=function(M,R){if(M.length!==3)return R.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,un),ce=R.parse(M[2],2,un);return K&&ce?sn(K.type,[Wt,Nt,At,Tt,un])?new Do(K,ce):R.error("Expected first argument to be of type boolean, string, number or null, but found "+Qt(K.type)+" instead"):null},Do.prototype.evaluate=function(M){var R=this.needle.evaluate(M),K=this.haystack.evaluate(M);if(!K)return!1;if(!Sn(R,["boolean","string","number","null"]))throw new rn("Expected first argument to be of type boolean, string, number or null, but found "+Qt(er(R))+" instead.");if(!Sn(K,["string","array"]))throw new rn("Expected second argument to be of type array or string, but found "+Qt(er(K))+" instead.");return K.indexOf(R)>=0},Do.prototype.eachChild=function(M){M(this.needle),M(this.haystack)},Do.prototype.outputDefined=function(){return!0},Do.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var bs=function(M,R,K){this.type=At,this.needle=M,this.haystack=R,this.fromIndex=K};bs.parse=function(M,R){if(M.length<=2||M.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,un),ce=R.parse(M[2],2,un);if(!K||!ce)return null;if(!sn(K.type,[Wt,Nt,At,Tt,un]))return R.error("Expected first argument to be of type boolean, string, number or null, but found "+Qt(K.type)+" instead");if(M.length===4){var Me=R.parse(M[3],3,At);return Me?new bs(K,ce,Me):null}return new bs(K,ce)},bs.prototype.evaluate=function(M){var R=this.needle.evaluate(M),K=this.haystack.evaluate(M);if(!Sn(R,["boolean","string","number","null"]))throw new rn("Expected first argument to be of type boolean, string, number or null, but found "+Qt(er(R))+" instead.");if(!Sn(K,["string","array"]))throw new rn("Expected second argument to be of type array or string, but found "+Qt(er(K))+" instead.");if(this.fromIndex){var ce=this.fromIndex.evaluate(M);return K.indexOf(R,ce)}return K.indexOf(R)},bs.prototype.eachChild=function(M){M(this.needle),M(this.haystack),this.fromIndex&&M(this.fromIndex)},bs.prototype.outputDefined=function(){return!1},bs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var M=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),M]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var $o=function(M,R,K,ce,Me,Ie){this.inputType=M,this.type=R,this.input=K,this.cases=ce,this.outputs=Me,this.otherwise=Ie};$o.parse=function(M,R){if(M.length<5)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if(M.length%2!=1)return R.error("Expected an even number of arguments.");var K,ce;R.expectedType&&R.expectedType.kind!=="value"&&(ce=R.expectedType);for(var Me={},Ie=[],He=2;He<M.length-1;He+=2){var et=M[He],ht=M[He+1];Array.isArray(et)||(et=[et]);var Mt=R.concat(He);if(et.length===0)return Mt.error("Expected at least one branch label.");for(var Lt=0,Bt=et;Lt<Bt.length;Lt+=1){var Yt=Bt[Lt];if(typeof Yt!="number"&&typeof Yt!="string")return Mt.error("Branch labels must be numbers or strings.");if(typeof Yt=="number"&&Math.abs(Yt)>Number.MAX_SAFE_INTEGER)return Mt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Yt=="number"&&Math.floor(Yt)!==Yt)return Mt.error("Numeric branch labels must be integer values.");if(K){if(Mt.checkSubtype(K,er(Yt)))return null}else K=er(Yt);if(Me[String(Yt)]!==void 0)return Mt.error("Branch labels must be unique.");Me[String(Yt)]=Ie.length}var Ht=R.parse(ht,He,ce);if(!Ht)return null;ce=ce||Ht.type,Ie.push(Ht)}var ln=R.parse(M[1],1,un);if(!ln)return null;var dn=R.parse(M[M.length-1],M.length-1,ce);return dn?ln.type.kind!=="value"&&R.concat(1).checkSubtype(K,ln.type)?null:new $o(K,ce,ln,Me,Ie,dn):null},$o.prototype.evaluate=function(M){var R=this.input.evaluate(M);return(er(R)===this.inputType&&this.outputs[this.cases[R]]||this.otherwise).evaluate(M)},$o.prototype.eachChild=function(M){M(this.input),this.outputs.forEach(M),M(this.otherwise)},$o.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})&&this.otherwise.outputDefined()},$o.prototype.serialize=function(){for(var M=this,R=["match",this.input.serialize()],K=[],ce={},Me=0,Ie=Object.keys(this.cases).sort();Me<Ie.length;Me+=1){var He=Ie[Me];(Bt=ce[this.cases[He]])===void 0?(ce[this.cases[He]]=K.length,K.push([this.cases[He],[He]])):K[Bt][1].push(He)}for(var et=function(Ht){return M.inputType.kind==="number"?Number(Ht):Ht},ht=0,Mt=K;ht<Mt.length;ht+=1){var Lt=Mt[ht],Bt=Lt[0],Yt=Lt[1];Yt.length===1?R.push(et(Yt[0])):R.push(Yt.map(et)),R.push(this.outputs[outputIndex$1].serialize())}return R.push(this.otherwise.serialize()),R};var _s=function(M,R,K){this.type=M,this.branches=R,this.otherwise=K};_s.parse=function(M,R){if(M.length<4)return R.error("Expected at least 3 arguments, but found only "+(M.length-1)+".");if(M.length%2!=0)return R.error("Expected an odd number of arguments.");var K;R.expectedType&&R.expectedType.kind!=="value"&&(K=R.expectedType);for(var ce=[],Me=1;Me<M.length-1;Me+=2){var Ie=R.parse(M[Me],Me,Wt);if(!Ie)return null;var He=R.parse(M[Me+1],Me+1,K);if(!He)return null;ce.push([Ie,He]),K=K||He.type}var et=R.parse(M[M.length-1],M.length-1,K);return et?new _s(K,ce,et):null},_s.prototype.evaluate=function(M){for(var R=0,K=this.branches;R<K.length;R+=1){var ce=K[R],Me=ce[0],Ie=ce[1];if(Me.evaluate(M))return Ie.evaluate(M)}return this.otherwise.evaluate(M)},_s.prototype.eachChild=function(M){for(var R=0,K=this.branches;R<K.length;R+=1){var ce=K[R],Me=ce[0],Ie=ce[1];M(Me),M(Ie)}M(this.otherwise)},_s.prototype.outputDefined=function(){return this.branches.every(function(M){return M[0],M[1].outputDefined()})&&this.otherwise.outputDefined()},_s.prototype.serialize=function(){var M=["case"];return this.eachChild(function(R){M.push(R.serialize())}),M};var Ro=function(M,R,K,ce){this.type=M,this.input=R,this.beginIndex=K,this.endIndex=ce};function Eu(M,R){return M==="=="||M==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function su(M,R,K,ce){return ce.compare(R,K)===0}function Hs(M,R,K){var ce=M!=="=="&&M!=="!=";return function(){function Me(Ie,He,et){this.type=Wt,this.lhs=Ie,this.rhs=He,this.collator=et,this.hasUntypedArgument=Ie.type.kind==="value"||He.type.kind==="value"}return Me.parse=function(Ie,He){if(Ie.length!==3&&Ie.length!==4)return He.error("Expected two or three arguments.");var et=Ie[0],ht=He.parse(Ie[1],1,un);if(!ht)return null;if(!Eu(et,ht.type))return He.concat(1).error('"'+et+`" comparisons are not supported for type '`+Qt(ht.type)+"'.");var Mt=He.parse(Ie[2],2,un);if(!Mt)return null;if(!Eu(et,Mt.type))return He.concat(2).error('"'+et+`" comparisons are not supported for type '`+Qt(Mt.type)+"'.");if(ht.type.kind!==Mt.type.kind&&ht.type.kind!=="value"&&Mt.type.kind!=="value")return He.error("Cannot compare types '"+Qt(ht.type)+"' and '"+Qt(Mt.type)+"'.");ce&&(ht.type.kind==="value"&&Mt.type.kind!=="value"?ht=new xn(Mt.type,[ht]):ht.type.kind!=="value"&&Mt.type.kind==="value"&&(Mt=new xn(ht.type,[Mt])));var Lt=null;if(Ie.length===4){if(ht.type.kind!=="string"&&Mt.type.kind!=="string"&&ht.type.kind!=="value"&&Mt.type.kind!=="value")return He.error("Cannot use collator to compare non-string types.");if(!(Lt=He.parse(Ie[3],3,Xt)))return null}return new Me(ht,Mt,Lt)},Me.prototype.evaluate=function(Ie){var He=this.lhs.evaluate(Ie),et=this.rhs.evaluate(Ie);if(ce&&this.hasUntypedArgument){var ht=er(He),Mt=er(et);if(ht.kind!==Mt.kind||ht.kind!=="string"&&ht.kind!=="number")throw new rn('Expected arguments for "'+M+'" to be (string, string) or (number, number), but found ('+ht.kind+", "+Mt.kind+") instead.")}if(this.collator&&!ce&&this.hasUntypedArgument){var Lt=er(He),Bt=er(et);if(Lt.kind!=="string"||Bt.kind!=="string")return R(Ie,He,et)}return this.collator?K(Ie,He,et,this.collator.evaluate(Ie)):R(Ie,He,et)},Me.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},Me.prototype.outputDefined=function(){return!0},Me.prototype.serialize=function(){var Ie=[M];return this.eachChild(function(He){Ie.push(He.serialize())}),Ie},Me}()}Ro.parse=function(M,R){if(M.length<=2||M.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,un),ce=R.parse(M[2],2,At);if(!K||!ce)return null;if(!sn(K.type,[fn(un),Nt,un]))return R.error("Expected first argument to be of type array or string, but found "+Qt(K.type)+" instead");if(M.length===4){var Me=R.parse(M[3],3,At);return Me?new Ro(K.type,K,ce,Me):null}return new Ro(K.type,K,ce)},Ro.prototype.evaluate=function(M){var R=this.input.evaluate(M),K=this.beginIndex.evaluate(M);if(!Sn(R,["string","array"]))throw new rn("Expected first argument to be of type array or string, but found "+Qt(er(R))+" instead.");if(this.endIndex){var ce=this.endIndex.evaluate(M);return R.slice(K,ce)}return R.slice(K)},Ro.prototype.eachChild=function(M){M(this.input),M(this.beginIndex),this.endIndex&&M(this.endIndex)},Ro.prototype.outputDefined=function(){return!1},Ro.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var M=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),M]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Zu=Hs("==",function(M,R,K){return R===K},su),Ku=Hs("!=",function(M,R,K){return R!==K},function(M,R,K,ce){return!su(0,R,K,ce)}),qs=Hs("<",function(M,R,K){return R<K},function(M,R,K,ce){return ce.compare(R,K)<0}),Ju=Hs(">",function(M,R,K){return R>K},function(M,R,K,ce){return ce.compare(R,K)>0}),Dc=Hs("<=",function(M,R,K){return R<=K},function(M,R,K,ce){return ce.compare(R,K)<=0}),Rc=Hs(">=",function(M,R,K){return R>=K},function(M,R,K,ce){return ce.compare(R,K)>=0}),Gs=function(M,R,K,ce,Me){this.type=Nt,this.number=M,this.locale=R,this.currency=K,this.minFractionDigits=ce,this.maxFractionDigits=Me};Gs.parse=function(M,R){if(M.length!==3)return R.error("Expected two arguments.");var K=R.parse(M[1],1,At);if(!K)return null;var ce=M[2];if(typeof ce!="object"||Array.isArray(ce))return R.error("NumberFormat options argument must be an object.");var Me=null;if(ce.locale&&!(Me=R.parse(ce.locale,1,Nt)))return null;var Ie=null;if(ce.currency&&!(Ie=R.parse(ce.currency,1,Nt)))return null;var He=null;if(ce["min-fraction-digits"]&&!(He=R.parse(ce["min-fraction-digits"],1,At)))return null;var et=null;return ce["max-fraction-digits"]&&!(et=R.parse(ce["max-fraction-digits"],1,At))?null:new Gs(K,Me,Ie,He,et)},Gs.prototype.evaluate=function(M){return new Intl.NumberFormat(this.locale?this.locale.evaluate(M):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(M):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(M):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(M):void 0}).format(this.number.evaluate(M))},Gs.prototype.eachChild=function(M){M(this.number),this.locale&&M(this.locale),this.currency&&M(this.currency),this.minFractionDigits&&M(this.minFractionDigits),this.maxFractionDigits&&M(this.maxFractionDigits)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var M={};return this.locale&&(M.locale=this.locale.serialize()),this.currency&&(M.currency=this.currency.serialize()),this.minFractionDigits&&(M["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(M["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),M]};var Fo=function(M){this.type=At,this.input=M};Fo.parse=function(M,R){if(M.length!==2)return R.error("Expected 1 argument, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1);return K?K.type.kind!=="array"&&K.type.kind!=="string"&&K.type.kind!=="value"?R.error("Expected argument of type string or array, but found "+Qt(K.type)+" instead."):new Fo(K):null},Fo.prototype.evaluate=function(M){var R=this.input.evaluate(M);if(typeof R=="string"||Array.isArray(R))return R.length;throw new rn("Expected value to be of type string or array, but found "+Qt(er(R))+" instead.")},Fo.prototype.eachChild=function(M){M(this.input)},Fo.prototype.outputDefined=function(){return!1},Fo.prototype.serialize=function(){var M=["length"];return this.eachChild(function(R){M.push(R.serialize())}),M};var cl={"==":Zu,"!=":Ku,">":Ju,"<":qs,">=":Rc,"<=":Dc,array:xn,at:xs,boolean:xn,case:_s,coalesce:zo,collator:Dt,format:In,image:Gn,in:Do,"index-of":bs,interpolate:Qi,"interpolate-hcl":Qi,"interpolate-lab":Qi,length:Fo,let:vo,literal:$t,match:$o,number:xn,"number-format":Gs,object:xn,slice:Ro,step:Cr,string:xn,"to-boolean":ir,"to-color":ir,"to-number":ir,"to-string":ir,var:Tr,within:nr};function Ws(M,R){var K=R[0],ce=R[1],Me=R[2],Ie=R[3];K=K.evaluate(M),ce=ce.evaluate(M),Me=Me.evaluate(M);var He=Ie?Ie.evaluate(M):1,et=Hn(K,ce,Me,He);if(et)throw new rn(et);return new Tn(K/255*He,ce/255*He,Me/255*He,He)}function Dl(M,R){return M in R}function Ys(M,R){var K=R[M];return K===void 0?null:K}function mo(M){return{type:M}}function Lu(M){return{result:"success",value:M}}function ws(M){return{result:"error",value:M}}function Qo(M){return M["property-type"]==="data-driven"||M["property-type"]==="cross-faded-data-driven"}function es(M){return!!M.expression&&M.expression.parameters.indexOf("zoom")>-1}function Ts(M){return!!M.expression&&M.expression.interpolated}function Kr(M){return M instanceof Number?"number":M instanceof String?"string":M instanceof Boolean?"boolean":Array.isArray(M)?"array":M===null?"null":typeof M}function fl(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)}function Fc(M){return M}function lu(M,R){var K,ce,Me,Ie=R.type==="color",He=M.stops&&typeof M.stops[0][0]=="object",et=He||M.property!==void 0,ht=He||!et,Mt=M.type||(Ts(R)?"exponential":"interval");if(Ie&&((M=dt({},M)).stops&&(M.stops=M.stops.map(function(yr){return[yr[0],Tn.parse(yr[1])]})),M.default?M.default=Tn.parse(M.default):M.default=Tn.parse(R.default)),M.colorSpace&&M.colorSpace!=="rgb"&&!hi[M.colorSpace])throw new Error("Unknown color space: "+M.colorSpace);if(Mt==="exponential")K=uu;else if(Mt==="interval")K=Bc;else if(Mt==="categorical"){K=$u,ce=Object.create(null);for(var Lt=0,Bt=M.stops;Lt<Bt.length;Lt+=1){var Yt=Bt[Lt];ce[Yt[0]]=Yt[1]}Me=typeof M.stops[0][0]}else{if(Mt!=="identity")throw new Error('Unknown function type "'+Mt+'"');K=Nc}if(He){for(var Ht={},ln=[],dn=0;dn<M.stops.length;dn++){var Ln=M.stops[dn],An=Ln[0].zoom;Ht[An]===void 0&&(Ht[An]={zoom:An,type:M.type,property:M.property,default:M.default,stops:[]},ln.push(An)),Ht[An].stops.push([Ln[0].value,Ln[1]])}for(var Bn=[],Un=0,Xn=ln;Un<Xn.length;Un+=1){var rr=Xn[Un];Bn.push([Ht[rr].zoom,lu(Ht[rr],R)])}var lr={name:"linear"};return{kind:"composite",interpolationType:lr,interpolationFactor:Qi.interpolationFactor.bind(void 0,lr),zoomStops:Bn.map(function(yr){return yr[0]}),evaluate:function(yr,Ar){var Sr=yr.zoom;return uu({stops:Bn,base:M.base},R,Sr).evaluate(Sr,Ar)}}}if(ht){var br=Mt==="exponential"?{name:"exponential",base:M.base!==void 0?M.base:1}:null;return{kind:"camera",interpolationType:br,interpolationFactor:Qi.interpolationFactor.bind(void 0,br),zoomStops:M.stops.map(function(yr){return yr[0]}),evaluate:function(yr){var Ar=yr.zoom;return K(M,R,Ar,ce,Me)}}}return{kind:"source",evaluate:function(yr,Ar){var Sr=Ar&&Ar.properties?Ar.properties[M.property]:void 0;return Sr===void 0?hl(M.default,R.default):K(M,R,Sr,ce,Me)}}}function hl(M,R,K){return M!==void 0?M:R!==void 0?R:K!==void 0?K:void 0}function $u(M,R,K,ce,Me){return hl(typeof K===Me?ce[K]:void 0,M.default,R.default)}function Bc(M,R,K){if(Kr(K)!=="number")return hl(M.default,R.default);var ce=M.stops.length;if(ce===1||K<=M.stops[0][0])return M.stops[0][1];if(K>=M.stops[ce-1][0])return M.stops[ce-1][1];var Me=xr(M.stops.map(function(Ie){return Ie[0]}),K);return M.stops[Me][1]}function uu(M,R,K){var ce=M.base!==void 0?M.base:1;if(Kr(K)!=="number")return hl(M.default,R.default);var Me=M.stops.length;if(Me===1||K<=M.stops[0][0])return M.stops[0][1];if(K>=M.stops[Me-1][0])return M.stops[Me-1][1];var Ie=xr(M.stops.map(function(Bt){return Bt[0]}),K),He=function(Bt,Yt,Ht,ln){var dn=ln-Ht,Ln=Bt-Ht;return dn===0?0:Yt===1?Ln/dn:(Math.pow(Yt,Ln)-1)/(Math.pow(Yt,dn)-1)}(K,ce,M.stops[Ie][0],M.stops[Ie+1][0]),et=M.stops[Ie][1],ht=M.stops[Ie+1][1],Mt=xi[R.type]||Fc;if(M.colorSpace&&M.colorSpace!=="rgb"){var Lt=hi[M.colorSpace];Mt=function(Bt,Yt){return Lt.reverse(Lt.interpolate(Lt.forward(Bt),Lt.forward(Yt),He))}}return typeof et.evaluate=="function"?{evaluate:function(){for(var Bt=[],Yt=arguments.length;Yt--;)Bt[Yt]=arguments[Yt];var Ht=et.evaluate.apply(void 0,Bt),ln=ht.evaluate.apply(void 0,Bt);if(Ht!==void 0&&ln!==void 0)return Mt(Ht,ln,He)}}:Mt(et,ht,He)}function Nc(M,R,K){return R.type==="color"?K=Tn.parse(K):R.type==="formatted"?K=$n.fromString(K.toString()):R.type==="resolvedImage"?K=pr.fromString(K.toString()):Kr(K)===R.type||R.type==="enum"&&R.values[K]||(K=void 0),hl(K,M.default,R.default)}bn.register(cl,{error:[{kind:"error"},[Nt],function(M,R){var K=R[0];throw new rn(K.evaluate(M))}],typeof:[Nt,[un],function(M,R){return Qt(er(R[0].evaluate(M)))}],"to-rgba":[fn(At,4),[on],function(M,R){return R[0].evaluate(M).toArray()}],rgb:[on,[At,At,At],Ws],rgba:[on,[At,At,At,At],Ws],has:{type:Wt,overloads:[[[Nt],function(M,R){return Dl(R[0].evaluate(M),M.properties())}],[[Nt,cn],function(M,R){var K=R[0],ce=R[1];return Dl(K.evaluate(M),ce.evaluate(M))}]]},get:{type:un,overloads:[[[Nt],function(M,R){return Ys(R[0].evaluate(M),M.properties())}],[[Nt,cn],function(M,R){var K=R[0],ce=R[1];return Ys(K.evaluate(M),ce.evaluate(M))}]]},"feature-state":[un,[Nt],function(M,R){return Ys(R[0].evaluate(M),M.featureState||{})}],properties:[cn,[],function(M){return M.properties()}],"geometry-type":[Nt,[],function(M){return M.geometryType()}],id:[un,[],function(M){return M.id()}],zoom:[At,[],function(M){return M.globals.zoom}],"heatmap-density":[At,[],function(M){return M.globals.heatmapDensity||0}],"line-progress":[At,[],function(M){return M.globals.lineProgress||0}],accumulated:[un,[],function(M){return M.globals.accumulated===void 0?null:M.globals.accumulated}],"+":[At,mo(At),function(M,R){for(var K=0,ce=0,Me=R;ce<Me.length;ce+=1)K+=Me[ce].evaluate(M);return K}],"*":[At,mo(At),function(M,R){for(var K=1,ce=0,Me=R;ce<Me.length;ce+=1)K*=Me[ce].evaluate(M);return K}],"-":{type:At,overloads:[[[At,At],function(M,R){var K=R[0],ce=R[1];return K.evaluate(M)-ce.evaluate(M)}],[[At],function(M,R){return-R[0].evaluate(M)}]]},"/":[At,[At,At],function(M,R){var K=R[0],ce=R[1];return K.evaluate(M)/ce.evaluate(M)}],"%":[At,[At,At],function(M,R){var K=R[0],ce=R[1];return K.evaluate(M)%ce.evaluate(M)}],ln2:[At,[],function(){return Math.LN2}],pi:[At,[],function(){return Math.PI}],e:[At,[],function(){return Math.E}],"^":[At,[At,At],function(M,R){var K=R[0],ce=R[1];return Math.pow(K.evaluate(M),ce.evaluate(M))}],sqrt:[At,[At],function(M,R){var K=R[0];return Math.sqrt(K.evaluate(M))}],log10:[At,[At],function(M,R){var K=R[0];return Math.log(K.evaluate(M))/Math.LN10}],ln:[At,[At],function(M,R){var K=R[0];return Math.log(K.evaluate(M))}],log2:[At,[At],function(M,R){var K=R[0];return Math.log(K.evaluate(M))/Math.LN2}],sin:[At,[At],function(M,R){var K=R[0];return Math.sin(K.evaluate(M))}],cos:[At,[At],function(M,R){var K=R[0];return Math.cos(K.evaluate(M))}],tan:[At,[At],function(M,R){var K=R[0];return Math.tan(K.evaluate(M))}],asin:[At,[At],function(M,R){var K=R[0];return Math.asin(K.evaluate(M))}],acos:[At,[At],function(M,R){var K=R[0];return Math.acos(K.evaluate(M))}],atan:[At,[At],function(M,R){var K=R[0];return Math.atan(K.evaluate(M))}],min:[At,mo(At),function(M,R){return Math.min.apply(Math,R.map(function(K){return K.evaluate(M)}))}],max:[At,mo(At),function(M,R){return Math.max.apply(Math,R.map(function(K){return K.evaluate(M)}))}],abs:[At,[At],function(M,R){var K=R[0];return Math.abs(K.evaluate(M))}],round:[At,[At],function(M,R){var K=R[0].evaluate(M);return K<0?-Math.round(-K):Math.round(K)}],floor:[At,[At],function(M,R){var K=R[0];return Math.floor(K.evaluate(M))}],ceil:[At,[At],function(M,R){var K=R[0];return Math.ceil(K.evaluate(M))}],"filter-==":[Wt,[Nt,un],function(M,R){var K=R[0],ce=R[1];return M.properties()[K.value]===ce.value}],"filter-id-==":[Wt,[un],function(M,R){var K=R[0];return M.id()===K.value}],"filter-type-==":[Wt,[Nt],function(M,R){var K=R[0];return M.geometryType()===K.value}],"filter-<":[Wt,[Nt,un],function(M,R){var K=R[0],ce=R[1],Me=M.properties()[K.value],Ie=ce.value;return typeof Me==typeof Ie&&Me<Ie}],"filter-id-<":[Wt,[un],function(M,R){var K=R[0],ce=M.id(),Me=K.value;return typeof ce==typeof Me&&ce<Me}],"filter->":[Wt,[Nt,un],function(M,R){var K=R[0],ce=R[1],Me=M.properties()[K.value],Ie=ce.value;return typeof Me==typeof Ie&&Me>Ie}],"filter-id->":[Wt,[un],function(M,R){var K=R[0],ce=M.id(),Me=K.value;return typeof ce==typeof Me&&ce>Me}],"filter-<=":[Wt,[Nt,un],function(M,R){var K=R[0],ce=R[1],Me=M.properties()[K.value],Ie=ce.value;return typeof Me==typeof Ie&&Me<=Ie}],"filter-id-<=":[Wt,[un],function(M,R){var K=R[0],ce=M.id(),Me=K.value;return typeof ce==typeof Me&&ce<=Me}],"filter->=":[Wt,[Nt,un],function(M,R){var K=R[0],ce=R[1],Me=M.properties()[K.value],Ie=ce.value;return typeof Me==typeof Ie&&Me>=Ie}],"filter-id->=":[Wt,[un],function(M,R){var K=R[0],ce=M.id(),Me=K.value;return typeof ce==typeof Me&&ce>=Me}],"filter-has":[Wt,[un],function(M,R){return R[0].value in M.properties()}],"filter-has-id":[Wt,[],function(M){return M.id()!==null&&M.id()!==void 0}],"filter-type-in":[Wt,[fn(Nt)],function(M,R){return R[0].value.indexOf(M.geometryType())>=0}],"filter-id-in":[Wt,[fn(un)],function(M,R){return R[0].value.indexOf(M.id())>=0}],"filter-in-small":[Wt,[Nt,fn(un)],function(M,R){var K=R[0];return R[1].value.indexOf(M.properties()[K.value])>=0}],"filter-in-large":[Wt,[Nt,fn(un)],function(M,R){var K=R[0],ce=R[1];return function(Me,Ie,He,et){for(;He<=et;){var ht=He+et>>1;if(Ie[ht]===Me)return!0;Ie[ht]>Me?et=ht-1:He=ht+1}return!1}(M.properties()[K.value],ce.value,0,ce.value.length-1)}],all:{type:Wt,overloads:[[[Wt,Wt],function(M,R){var K=R[0],ce=R[1];return K.evaluate(M)&&ce.evaluate(M)}],[mo(Wt),function(M,R){for(var K=0,ce=R;K<ce.length;K+=1)if(!ce[K].evaluate(M))return!1;return!0}]]},any:{type:Wt,overloads:[[[Wt,Wt],function(M,R){var K=R[0],ce=R[1];return K.evaluate(M)||ce.evaluate(M)}],[mo(Wt),function(M,R){for(var K=0,ce=R;K<ce.length;K+=1)if(ce[K].evaluate(M))return!0;return!1}]]},"!":[Wt,[Wt],function(M,R){return!R[0].evaluate(M)}],"is-supported-script":[Wt,[Nt],function(M,R){var K=R[0],ce=M.globals&&M.globals.isSupportedScript;return!ce||ce(K.evaluate(M))}],upcase:[Nt,[Nt],function(M,R){return R[0].evaluate(M).toUpperCase()}],downcase:[Nt,[Nt],function(M,R){return R[0].evaluate(M).toLowerCase()}],concat:[Nt,mo(un),function(M,R){return R.map(function(K){return ur(K.evaluate(M))}).join("")}],"resolved-locale":[Nt,[Xt],function(M,R){return R[0].evaluate(M).resolvedLocale()}]});var ks=function(M,R){this.expression=M,this._warningHistory={},this._evaluator=new Kt,this._defaultValue=R?function(K){return K.type==="color"&&fl(K.default)?new Tn(0,0,0,0):K.type==="color"?Tn.parse(K.default)||null:K.default===void 0?null:K.default}(R):null,this._enumValues=R&&R.type==="enum"?R.values:null};function Xs(M){return Array.isArray(M)&&M.length>0&&typeof M[0]=="string"&&M[0]in cl}function ts(M,R){var K=new gr(cl,[],R?function(Me){var Ie={color:on,string:Nt,number:At,enum:Nt,boolean:Wt,formatted:tn,resolvedImage:kn};return Me.type==="array"?fn(Ie[Me.value]||un,Me.length):Ie[Me.type]}(R):void 0),ce=K.parse(M,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ce?Lu(new ks(ce,R)):ws(K.errors)}ks.prototype.evaluateWithoutErrorHandling=function(M,R,K,ce,Me,Ie){return this._evaluator.globals=M,this._evaluator.feature=R,this._evaluator.featureState=K,this._evaluator.canonical=ce,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},ks.prototype.evaluate=function(M,R,K,ce,Me,Ie){this._evaluator.globals=M,this._evaluator.feature=R||null,this._evaluator.featureState=K||null,this._evaluator.canonical=ce,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie||null;try{var He=this.expression.evaluate(this._evaluator);if(He==null||typeof He=="number"&&He!=He)return this._defaultValue;if(this._enumValues&&!(He in this._enumValues))throw new rn("Expected value to be one of "+Object.keys(this._enumValues).map(function(et){return JSON.stringify(et)}).join(", ")+", but found "+JSON.stringify(He)+" instead.");return He}catch(et){return this._warningHistory[et.message]||(this._warningHistory[et.message]=!0,typeof console<"u"&&console.warn(et.message)),this._defaultValue}};var yo=function(M,R){this.kind=M,this._styleExpression=R,this.isStateDependent=M!=="constant"&&!Jn(R.expression)};yo.prototype.evaluateWithoutErrorHandling=function(M,R,K,ce,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(M,R,K,ce,Me,Ie)},yo.prototype.evaluate=function(M,R,K,ce,Me,Ie){return this._styleExpression.evaluate(M,R,K,ce,Me,Ie)};var pl=function(M,R,K,ce){this.kind=M,this.zoomStops=K,this._styleExpression=R,this.isStateDependent=M!=="camera"&&!Jn(R.expression),this.interpolationType=ce};function Qu(M,R){if((M=ts(M,R)).result==="error")return M;var K=M.value.expression,ce=Yn(K);if(!ce&&!Qo(R))return ws([new wt("","data expressions not supported")]);var Me=cr(K,["zoom"]);if(!Me&&!es(R))return ws([new wt("","zoom expressions not supported")]);var Ie=cu(K);if(!Ie&&!Me)return ws([new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ie instanceof wt)return ws([Ie]);if(Ie instanceof Qi&&!Ts(R))return ws([new wt("",'"interpolate" expressions cannot be used with this property')]);if(!Ie)return Lu(new yo(ce?"constant":"source",M.value));var He=Ie instanceof Qi?Ie.interpolation:void 0;return Lu(new pl(ce?"camera":"composite",M.value,Ie.labels,He))}pl.prototype.evaluateWithoutErrorHandling=function(M,R,K,ce,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(M,R,K,ce,Me,Ie)},pl.prototype.evaluate=function(M,R,K,ce,Me,Ie){return this._styleExpression.evaluate(M,R,K,ce,Me,Ie)},pl.prototype.interpolationFactor=function(M,R,K){return this.interpolationType?Qi.interpolationFactor(this.interpolationType,M,R,K):0};var Rl=function(M,R){this._parameters=M,this._specification=R,dt(this,lu(this._parameters,this._specification))};function cu(M){var R=null;if(M instanceof vo)R=cu(M.result);else if(M instanceof zo)for(var K=0,ce=M.args;K<ce.length;K+=1){var Me=ce[K];if(R=cu(Me))break}else(M instanceof Cr||M instanceof Qi)&&M.input instanceof bn&&M.input.name==="zoom"&&(R=M);return R instanceof wt||M.eachChild(function(Ie){var He=cu(Ie);He instanceof wt?R=He:!R&&He?R=new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&He&&R!==He&&(R=new wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function Ya(M){var R=M.key,K=M.value,ce=M.valueSpec||{},Me=M.objectElementValidators||{},Ie=M.style,He=M.styleSpec,et=[],ht=Kr(K);if(ht!=="object")return[new lt(R,K,"object expected, "+ht+" found")];for(var Mt in K){var Lt=Mt.split(".")[0],Bt=ce[Lt]||ce["*"],Yt=void 0;if(Me[Lt])Yt=Me[Lt];else if(ce[Lt])Yt=io;else if(Me["*"])Yt=Me["*"];else{if(!ce["*"]){et.push(new lt(R,K[Mt],'unknown property "'+Mt+'"'));continue}Yt=io}et=et.concat(Yt({key:(R&&R+".")+Mt,value:K[Mt],valueSpec:Bt,style:Ie,styleSpec:He,object:K,objectKey:Mt},K))}for(var Ht in ce)Me[Ht]||ce[Ht].required&&ce[Ht].default===void 0&&K[Ht]===void 0&&et.push(new lt(R,K,'missing required property "'+Ht+'"'));return et}function fu(M){var R=M.value,K=M.valueSpec,ce=M.style,Me=M.styleSpec,Ie=M.key,He=M.arrayElementValidator||io;if(Kr(R)!=="array")return[new lt(Ie,R,"array expected, "+Kr(R)+" found")];if(K.length&&R.length!==K.length)return[new lt(Ie,R,"array length "+K.length+" expected, length "+R.length+" found")];if(K["min-length"]&&R.length<K["min-length"])return[new lt(Ie,R,"array length at least "+K["min-length"]+" expected, length "+R.length+" found")];var et={type:K.value,values:K.values};Me.$version<7&&(et.function=K.function),Kr(K.value)==="object"&&(et=K.value);for(var ht=[],Mt=0;Mt<R.length;Mt++)ht=ht.concat(He({array:R,arrayIndex:Mt,value:R[Mt],valueSpec:et,style:ce,styleSpec:Me,key:Ie+"["+Mt+"]"}));return ht}function ec(M){var R=M.key,K=M.value,ce=M.valueSpec,Me=Kr(K);return Me==="number"&&K!=K&&(Me="NaN"),Me!=="number"?[new lt(R,K,"number expected, "+Me+" found")]:"minimum"in ce&&K<ce.minimum?[new lt(R,K,K+" is less than the minimum value "+ce.minimum)]:"maximum"in ce&&K>ce.maximum?[new lt(R,K,K+" is greater than the maximum value "+ce.maximum)]:[]}function dl(M){var R,K,ce,Me=M.valueSpec,Ie=at(M.value.type),He={},et=Ie!=="categorical"&&M.value.property===void 0,ht=!et,Mt=Kr(M.value.stops)==="array"&&Kr(M.value.stops[0])==="array"&&Kr(M.value.stops[0][0])==="object",Lt=Ya({key:M.key,value:M.value,valueSpec:M.styleSpec.function,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{stops:function(Ht){if(Ie==="identity")return[new lt(Ht.key,Ht.value,'identity function may not have a "stops" property')];var ln=[],dn=Ht.value;return ln=ln.concat(fu({key:Ht.key,value:dn,valueSpec:Ht.valueSpec,style:Ht.style,styleSpec:Ht.styleSpec,arrayElementValidator:Bt})),Kr(dn)==="array"&&dn.length===0&&ln.push(new lt(Ht.key,dn,"array must have at least one stop")),ln},default:function(Ht){return io({key:Ht.key,value:Ht.value,valueSpec:Me,style:Ht.style,styleSpec:Ht.styleSpec})}}});return Ie==="identity"&&et&&Lt.push(new lt(M.key,M.value,'missing required property "property"')),Ie==="identity"||M.value.stops||Lt.push(new lt(M.key,M.value,'missing required property "stops"')),Ie==="exponential"&&M.valueSpec.expression&&!Ts(M.valueSpec)&&Lt.push(new lt(M.key,M.value,"exponential functions not supported")),M.styleSpec.$version>=8&&(ht&&!Qo(M.valueSpec)?Lt.push(new lt(M.key,M.value,"property functions not supported")):et&&!es(M.valueSpec)&&Lt.push(new lt(M.key,M.value,"zoom functions not supported"))),Ie!=="categorical"&&!Mt||M.value.property!==void 0||Lt.push(new lt(M.key,M.value,'"property" property is required')),Lt;function Bt(Ht){var ln=[],dn=Ht.value,Ln=Ht.key;if(Kr(dn)!=="array")return[new lt(Ln,dn,"array expected, "+Kr(dn)+" found")];if(dn.length!==2)return[new lt(Ln,dn,"array length 2 expected, length "+dn.length+" found")];if(Mt){if(Kr(dn[0])!=="object")return[new lt(Ln,dn,"object expected, "+Kr(dn[0])+" found")];if(dn[0].zoom===void 0)return[new lt(Ln,dn,"object stop key must have zoom")];if(dn[0].value===void 0)return[new lt(Ln,dn,"object stop key must have value")];if(ce&&ce>at(dn[0].zoom))return[new lt(Ln,dn[0].zoom,"stop zoom values must appear in ascending order")];at(dn[0].zoom)!==ce&&(ce=at(dn[0].zoom),K=void 0,He={}),ln=ln.concat(Ya({key:Ln+"[0]",value:dn[0],valueSpec:{zoom:{}},style:Ht.style,styleSpec:Ht.styleSpec,objectElementValidators:{zoom:ec,value:Yt}}))}else ln=ln.concat(Yt({key:Ln+"[0]",value:dn[0],valueSpec:{},style:Ht.style,styleSpec:Ht.styleSpec},dn));return Xs(kt(dn[1]))?ln.concat([new lt(Ln+"[1]",dn[1],"expressions are not allowed in function stops.")]):ln.concat(io({key:Ln+"[1]",value:dn[1],valueSpec:Me,style:Ht.style,styleSpec:Ht.styleSpec}))}function Yt(Ht,ln){var dn=Kr(Ht.value),Ln=at(Ht.value),An=Ht.value!==null?Ht.value:ln;if(R){if(dn!==R)return[new lt(Ht.key,An,dn+" stop domain type must match previous stop domain type "+R)]}else R=dn;if(dn!=="number"&&dn!=="string"&&dn!=="boolean")return[new lt(Ht.key,An,"stop domain value must be a number, string, or boolean")];if(dn!=="number"&&Ie!=="categorical"){var Bn="number expected, "+dn+" found";return Qo(Me)&&Ie===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new lt(Ht.key,An,Bn)]}return Ie!=="categorical"||dn!=="number"||isFinite(Ln)&&Math.floor(Ln)===Ln?Ie!=="categorical"&&dn==="number"&&K!==void 0&&Ln<K?[new lt(Ht.key,An,"stop domain values must appear in ascending order")]:(K=Ln,Ie==="categorical"&&Ln in He?[new lt(Ht.key,An,"stop domain values must be unique")]:(He[Ln]=!0,[])):[new lt(Ht.key,An,"integer expected, found "+Ln)]}}function Zs(M){var R=(M.expressionContext==="property"?Qu:ts)(kt(M.value),M.valueSpec);if(R.result==="error")return R.value.map(function(ce){return new lt(""+M.key+ce.key,M.value,ce.message)});var K=R.value.expression||R.value._styleExpression.expression;if(M.expressionContext==="property"&&M.propertyKey==="text-font"&&!K.outputDefined())return[new lt(M.key,M.value,'Invalid data expression for "'+M.propertyKey+'". Output values must be contained as literals within the expression.')];if(M.expressionContext==="property"&&M.propertyType==="layout"&&!Jn(K))return[new lt(M.key,M.value,'"feature-state" data expressions are not supported with layout properties.')];if(M.expressionContext==="filter"&&!Jn(K))return[new lt(M.key,M.value,'"feature-state" data expressions are not supported with filters.')];if(M.expressionContext&&M.expressionContext.indexOf("cluster")===0){if(!cr(K,["zoom","feature-state"]))return[new lt(M.key,M.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(M.expressionContext==="cluster-initial"&&!Yn(K))return[new lt(M.key,M.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vl(M){var R=M.key,K=M.value,ce=M.valueSpec,Me=[];return Array.isArray(ce.values)?ce.values.indexOf(at(K))===-1&&Me.push(new lt(R,K,"expected one of ["+ce.values.join(", ")+"], "+JSON.stringify(K)+" found")):Object.keys(ce.values).indexOf(at(K))===-1&&Me.push(new lt(R,K,"expected one of ["+Object.keys(ce.values).join(", ")+"], "+JSON.stringify(K)+" found")),Me}function Ks(M){if(M===!0||M===!1)return!0;if(!Array.isArray(M)||M.length===0)return!1;switch(M[0]){case"has":return M.length>=2&&M[1]!=="$id"&&M[1]!=="$type";case"in":return M.length>=3&&(typeof M[1]!="string"||Array.isArray(M[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return M.length!==3||Array.isArray(M[1])||Array.isArray(M[2]);case"any":case"all":for(var R=0,K=M.slice(1);R<K.length;R+=1){var ce=K[R];if(!Ks(ce)&&typeof ce!="boolean")return!1}return!0;default:return!0}}Rl.deserialize=function(M){return new Rl(M._parameters,M._specification)},Rl.serialize=function(M){return{_parameters:M._parameters,_specification:M._specification}};var Js={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Fl(M){if(M==null)return{filter:function(){return!0},needGeometry:!1};Ks(M)||(M=As(M));var R=ts(M,Js);if(R.result==="error")throw new Error(R.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,ce,Me){return R.value.evaluate(K,ce,{},Me)},needGeometry:li(M)}}function hu(M,R){return M<R?-1:M>R?1:0}function li(M){if(!Array.isArray(M))return!1;if(M[0]==="within")return!0;for(var R=1;R<M.length;R++)if(li(M[R]))return!0;return!1}function As(M){if(!M)return!0;var R,K=M[0];return M.length<=1?K!=="any":K==="=="?ga(M[1],M[2],"=="):K==="!="?si(ga(M[1],M[2],"==")):K==="<"||K===">"||K==="<="||K===">="?ga(M[1],M[2],K):K==="any"?(R=M.slice(1),["any"].concat(R.map(As))):K==="all"?["all"].concat(M.slice(1).map(As)):K==="none"?["all"].concat(M.slice(1).map(As).map(si)):K==="in"?xo(M[1],M.slice(2)):K==="!in"?si(xo(M[1],M.slice(2))):K==="has"?ni(M[1]):K==="!has"?si(ni(M[1])):K!=="within"||M}function ga(M,R,K){switch(M){case"$type":return["filter-type-"+K,R];case"$id":return["filter-id-"+K,R];default:return["filter-"+K,M,R]}}function xo(M,R){if(R.length===0)return!1;switch(M){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(K){return typeof K!=typeof R[0]})?["filter-in-large",M,["literal",R.sort(hu)]]:["filter-in-small",M,["literal",R]]}}function ni(M){switch(M){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",M]}}function si(M){return["!",M]}function Xa(M){return Ks(kt(M.value))?Zs(dt({},M,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ml(M)}function ml(M){var R=M.value,K=M.key;if(Kr(R)!=="array")return[new lt(K,R,"array expected, "+Kr(R)+" found")];var ce,Me=M.styleSpec,Ie=[];if(R.length<1)return[new lt(K,R,"filter array must have at least 1 element")];switch(Ie=Ie.concat(vl({key:K+"[0]",value:R[0],valueSpec:Me.filter_operator,style:M.style,styleSpec:M.styleSpec})),at(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&at(R[1])==="$type"&&Ie.push(new lt(K,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Ie.push(new lt(K,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ce=Kr(R[1]))!=="string"&&Ie.push(new lt(K+"[1]",R[1],"string expected, "+ce+" found"));for(var He=2;He<R.length;He++)ce=Kr(R[He]),at(R[1])==="$type"?Ie=Ie.concat(vl({key:K+"["+He+"]",value:R[He],valueSpec:Me.geometry_type,style:M.style,styleSpec:M.styleSpec})):ce!=="string"&&ce!=="number"&&ce!=="boolean"&&Ie.push(new lt(K+"["+He+"]",R[He],"string, number, or boolean expected, "+ce+" found"));break;case"any":case"all":case"none":for(var et=1;et<R.length;et++)Ie=Ie.concat(ml({key:K+"["+et+"]",value:R[et],style:M.style,styleSpec:M.styleSpec}));break;case"has":case"!has":ce=Kr(R[1]),R.length!==2?Ie.push(new lt(K,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ce!=="string"&&Ie.push(new lt(K+"[1]",R[1],"string expected, "+ce+" found"));break;case"within":ce=Kr(R[1]),R.length!==2?Ie.push(new lt(K,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ce!=="object"&&Ie.push(new lt(K+"[1]",R[1],"object expected, "+ce+" found"))}return Ie}function Bl(M,R){var K=M.key,ce=M.style,Me=M.styleSpec,Ie=M.value,He=M.objectKey,et=Me[R+"_"+M.layerType];if(!et)return[];var ht=He.match(/^(.*)-transition$/);if(R==="paint"&&ht&&et[ht[1]]&&et[ht[1]].transition)return io({key:K,value:Ie,valueSpec:Me.transition,style:ce,styleSpec:Me});var Mt,Lt=M.valueSpec||et[He];if(!Lt)return[new lt(K,Ie,'unknown property "'+He+'"')];if(Kr(Ie)==="string"&&Qo(Lt)&&!Lt.tokens&&(Mt=/^{([^}]+)}$/.exec(Ie)))return[new lt(K,Ie,'"'+He+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Mt[1])+" }`.")];var Bt=[];return M.layerType==="symbol"&&(He==="text-field"&&ce&&!ce.glyphs&&Bt.push(new lt(K,Ie,'use of "text-field" requires a style "glyphs" property')),He==="text-font"&&fl(kt(Ie))&&at(Ie.type)==="identity"&&Bt.push(new lt(K,Ie,'"text-font" does not support identity functions'))),Bt.concat(io({key:M.key,value:Ie,valueSpec:Lt,style:ce,styleSpec:Me,expressionContext:"property",propertyType:R,propertyKey:He}))}function pu(M){return Bl(M,"paint")}function Nl(M){return Bl(M,"layout")}function jl(M){var R=[],K=M.value,ce=M.key,Me=M.style,Ie=M.styleSpec;K.type||K.ref||R.push(new lt(ce,K,'either "type" or "ref" is required'));var He,et=at(K.type),ht=at(K.ref);if(K.id)for(var Mt=at(K.id),Lt=0;Lt<M.arrayIndex;Lt++){var Bt=Me.layers[Lt];at(Bt.id)===Mt&&R.push(new lt(ce,K.id,'duplicate layer id "'+K.id+'", previously used at line '+Bt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(ln){ln in K&&R.push(new lt(ce,K[ln],'"'+ln+'" is prohibited for ref layers'))}),Me.layers.forEach(function(ln){at(ln.id)===ht&&(He=ln)}),He?He.ref?R.push(new lt(ce,K.ref,"ref cannot reference another ref layer")):et=at(He.type):R.push(new lt(ce,K.ref,'ref layer "'+ht+'" not found'));else if(et!=="background")if(K.source){var Yt=Me.sources&&Me.sources[K.source],Ht=Yt&&at(Yt.type);Yt?Ht==="vector"&&et==="raster"?R.push(new lt(ce,K.source,'layer "'+K.id+'" requires a raster source')):Ht==="raster"&&et!=="raster"?R.push(new lt(ce,K.source,'layer "'+K.id+'" requires a vector source')):Ht!=="vector"||K["source-layer"]?Ht==="raster-dem"&&et!=="hillshade"?R.push(new lt(ce,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):et!=="line"||!K.paint||!K.paint["line-gradient"]||Ht==="geojson"&&Yt.lineMetrics||R.push(new lt(ce,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new lt(ce,K,'layer "'+K.id+'" must specify a "source-layer"')):R.push(new lt(ce,K.source,'source "'+K.source+'" not found'))}else R.push(new lt(ce,K,'missing required property "source"'));return R=R.concat(Ya({key:ce,value:K,valueSpec:Ie.layer,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return io({key:ce+".type",value:K.type,valueSpec:Ie.layer.type,style:M.style,styleSpec:M.styleSpec,object:K,objectKey:"type"})},filter:Xa,layout:function(ln){return Ya({layer:K,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(dn){return Nl(dt({layerType:et},dn))}}})},paint:function(ln){return Ya({layer:K,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(dn){return pu(dt({layerType:et},dn))}}})}}})),R}function ro(M){var R=M.value,K=M.key,ce=Kr(R);return ce!=="string"?[new lt(K,R,"string expected, "+ce+" found")]:[]}var Ms={promoteId:function(M){var R=M.key,K=M.value;if(Kr(K)==="string")return ro({key:R,value:K});var ce=[];for(var Me in K)ce.push.apply(ce,ro({key:R+"."+Me,value:K[Me]}));return ce}};function Ss(M){var R=M.value,K=M.key,ce=M.styleSpec,Me=M.style;if(!R.type)return[new lt(K,R,'"type" is required')];var Ie,He=at(R.type);switch(He){case"vector":case"raster":case"raster-dem":return Ya({key:K,value:R,valueSpec:ce["source_"+He.replace("-","_")],style:M.style,styleSpec:ce,objectElementValidators:Ms});case"geojson":if(Ie=Ya({key:K,value:R,valueSpec:ce.source_geojson,style:Me,styleSpec:ce,objectElementValidators:Ms}),R.cluster)for(var et in R.clusterProperties){var ht=R.clusterProperties[et],Mt=ht[0],Lt=ht[1],Bt=typeof Mt=="string"?[Mt,["accumulated"],["get",et]]:Mt;Ie.push.apply(Ie,Zs({key:K+"."+et+".map",value:Lt,expressionContext:"cluster-map"})),Ie.push.apply(Ie,Zs({key:K+"."+et+".reduce",value:Bt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return Ya({key:K,value:R,valueSpec:ce.source_video,style:Me,styleSpec:ce});case"image":return Ya({key:K,value:R,valueSpec:ce.source_image,style:Me,styleSpec:ce});case"canvas":return[new lt(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vl({key:K+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Me,styleSpec:ce})}}function ka(M){var R=M.value,K=M.styleSpec,ce=K.light,Me=M.style,Ie=[],He=Kr(R);if(R===void 0)return Ie;if(He!=="object")return Ie.concat([new lt("light",R,"object expected, "+He+" found")]);for(var et in R){var ht=et.match(/^(.*)-transition$/);Ie=ht&&ce[ht[1]]&&ce[ht[1]].transition?Ie.concat(io({key:et,value:R[et],valueSpec:K.transition,style:Me,styleSpec:K})):ce[et]?Ie.concat(io({key:et,value:R[et],valueSpec:ce[et],style:Me,styleSpec:K})):Ie.concat([new lt(et,R[et],'unknown property "'+et+'"')])}return Ie}var Ul={"*":function(){return[]},array:fu,boolean:function(M){var R=M.value,K=M.key,ce=Kr(R);return ce!=="boolean"?[new lt(K,R,"boolean expected, "+ce+" found")]:[]},number:ec,color:function(M){var R=M.key,K=M.value,ce=Kr(K);return ce!=="string"?[new lt(R,K,"color expected, "+ce+" found")]:Dn(K)===null?[new lt(R,K,'color expected, "'+K+'" found')]:[]},constants:gt,enum:vl,filter:Xa,function:dl,layer:jl,object:Ya,source:Ss,light:ka,string:ro,formatted:function(M){return ro(M).length===0?[]:Zs(M)},resolvedImage:function(M){return ro(M).length===0?[]:Zs(M)}};function io(M){var R=M.value,K=M.valueSpec,ce=M.styleSpec;return K.expression&&fl(at(R))?dl(M):K.expression&&Xs(kt(R))?Zs(M):K.type&&Ul[K.type]?Ul[K.type](M):Ya(dt({},M,{valueSpec:K.type?ce[K.type]:K}))}function ea(M){var R=M.value,K=M.key,ce=ro(M);return ce.length||(R.indexOf("{fontstack}")===-1&&ce.push(new lt(K,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ce.push(new lt(K,R,'"glyphs" url must include a "{range}" token'))),ce}function oa(M,R){R===void 0&&(R=je);var K=[];return K=K.concat(io({key:"",value:M,valueSpec:R.$root,styleSpec:R,style:M,objectElementValidators:{glyphs:ea,"*":function(){return[]}}})),M.constants&&(K=K.concat(gt({key:"constants",value:M.constants,style:M,styleSpec:R}))),vi(K)}function vi(M){return[].concat(M).sort(function(R,K){return R.line-K.line})}function sa(M){return function(){for(var R=[],K=arguments.length;K--;)R[K]=arguments[K];return vi(M.apply(this,R))}}oa.source=sa(Ss),oa.light=sa(ka),oa.layer=sa(jl),oa.filter=sa(Xa),oa.paintProperty=sa(pu),oa.layoutProperty=sa(Nl);var Bo=oa,$s=Bo.light,bo=Bo.paintProperty,Es=Bo.layoutProperty;function Oa(M,R){var K=!1;if(R&&R.length)for(var ce=0,Me=R;ce<Me.length;ce+=1){var Ie=Me[ce];M.fire(new bt(new Error(Ie.message))),K=!0}return K}var Qs=ao,ns=3;function ao(M,R,K){var ce=this.cells=[];if(M instanceof ArrayBuffer){this.arrayBuffer=M;var Me=new Int32Array(this.arrayBuffer);M=Me[0],R=Me[1],K=Me[2],this.d=R+2*K;for(var Ie=0;Ie<this.d*this.d;Ie++){var He=Me[ns+Ie],et=Me[ns+Ie+1];ce.push(He===et?null:Me.subarray(He,et))}var ht=Me[ns+ce.length],Mt=Me[ns+ce.length+1];this.keys=Me.subarray(ht,Mt),this.bboxes=Me.subarray(Mt),this.insert=this._insertReadonly}else{this.d=R+2*K;for(var Lt=0;Lt<this.d*this.d;Lt++)ce.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=M,this.padding=K,this.scale=R/M,this.uid=0;var Bt=K/R*M;this.min=-Bt,this.max=M+Bt}ao.prototype.insert=function(M,R,K,ce,Me){this._forEachCell(R,K,ce,Me,this._insertCell,this.uid++),this.keys.push(M),this.bboxes.push(R),this.bboxes.push(K),this.bboxes.push(ce),this.bboxes.push(Me)},ao.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ao.prototype._insertCell=function(M,R,K,ce,Me,Ie){this.cells[Me].push(Ie)},ao.prototype.query=function(M,R,K,ce,Me){var Ie=this.min,He=this.max;if(M<=Ie&&R<=Ie&&He<=K&&He<=ce&&!Me)return Array.prototype.slice.call(this.keys);var et=[];return this._forEachCell(M,R,K,ce,this._queryCell,et,{},Me),et},ao.prototype._queryCell=function(M,R,K,ce,Me,Ie,He,et){var ht=this.cells[Me];if(ht!==null)for(var Mt=this.keys,Lt=this.bboxes,Bt=0;Bt<ht.length;Bt++){var Yt=ht[Bt];if(He[Yt]===void 0){var Ht=4*Yt;(et?et(Lt[Ht+0],Lt[Ht+1],Lt[Ht+2],Lt[Ht+3]):M<=Lt[Ht+2]&&R<=Lt[Ht+3]&&K>=Lt[Ht+0]&&ce>=Lt[Ht+1])?(He[Yt]=!0,Ie.push(Mt[Yt])):He[Yt]=!1}}},ao.prototype._forEachCell=function(M,R,K,ce,Me,Ie,He,et){for(var ht=this._convertToCellCoord(M),Mt=this._convertToCellCoord(R),Lt=this._convertToCellCoord(K),Bt=this._convertToCellCoord(ce),Yt=ht;Yt<=Lt;Yt++)for(var Ht=Mt;Ht<=Bt;Ht++){var ln=this.d*Ht+Yt;if((!et||et(this._convertFromCellCoord(Yt),this._convertFromCellCoord(Ht),this._convertFromCellCoord(Yt+1),this._convertFromCellCoord(Ht+1)))&&Me.call(this,M,R,K,ce,ln,Ie,He,et))return}},ao.prototype._convertFromCellCoord=function(M){return(M-this.padding)/this.scale},ao.prototype._convertToCellCoord=function(M){return Math.max(0,Math.min(this.d-1,Math.floor(M*this.scale)+this.padding))},ao.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var M=this.cells,R=ns+this.cells.length+1+1,K=0,ce=0;ce<this.cells.length;ce++)K+=this.cells[ce].length;var Me=new Int32Array(R+K+this.keys.length+this.bboxes.length);Me[0]=this.extent,Me[1]=this.n,Me[2]=this.padding;for(var Ie=R,He=0;He<M.length;He++){var et=M[He];Me[ns+He]=Ie,Me.set(et,Ie),Ie+=et.length}return Me[ns+M.length]=Ie,Me.set(this.keys,Ie),Ie+=this.keys.length,Me[ns+M.length+1]=Ie,Me.set(this.bboxes,Ie),Ie+=this.bboxes.length,Me.buffer};var oo=r.ImageData,bi=r.ImageBitmap,_o={};function Er(M,R,K){K===void 0&&(K={}),Object.defineProperty(R,"_classRegistryKey",{value:M,writeable:!1}),_o[M]={klass:R,omit:K.omit||[],shallow:K.shallow||[]}}for(var Vl in Er("Object",Object),Qs.serialize=function(M,R){var K=M.toArrayBuffer();return R&&R.push(K),{buffer:K}},Qs.deserialize=function(M){return new Qs(M.buffer)},Er("Grid",Qs),Er("Color",Tn),Er("Error",Error),Er("ResolvedImage",pr),Er("StylePropertyFunction",Rl),Er("StyleExpression",ks,{omit:["_evaluator"]}),Er("ZoomDependentExpression",pl),Er("ZoomConstantExpression",yo),Er("CompoundExpression",bn,{omit:["_evaluate"]}),cl)cl[Vl]._classRegistryKey||Er("Expression_"+Vl,cl[Vl]);function Cu(M){return M&&typeof ArrayBuffer<"u"&&(M instanceof ArrayBuffer||M.constructor&&M.constructor.name==="ArrayBuffer")}function Ls(M){return bi&&M instanceof bi}function Cs(M,R){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp)return M;if(Cu(M)||Ls(M))return R&&R.push(M),M;if(ArrayBuffer.isView(M)){var K=M;return R&&R.push(K.buffer),K}if(M instanceof oo)return R&&R.push(M.data.buffer),M;if(Array.isArray(M)){for(var ce=[],Me=0,Ie=M;Me<Ie.length;Me+=1){var He=Ie[Me];ce.push(Cs(He,R))}return ce}if(typeof M=="object"){var et=M.constructor,ht=et._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Mt=et.serialize?et.serialize(M,R):{};if(!et.serialize){for(var Lt in M)if(M.hasOwnProperty(Lt)&&!(_o[ht].omit.indexOf(Lt)>=0)){var Bt=M[Lt];Mt[Lt]=_o[ht].shallow.indexOf(Lt)>=0?Bt:Cs(Bt,R)}M instanceof Error&&(Mt.message=M.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(Mt.$name=ht),Mt}throw new Error("can't serialize object of type "+typeof M)}function el(M){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp||Cu(M)||Ls(M)||ArrayBuffer.isView(M)||M instanceof oo)return M;if(Array.isArray(M))return M.map(el);if(typeof M=="object"){var R=M.$name||"Object",K=_o[R].klass;if(!K)throw new Error("can't deserialize unregistered class "+R);if(K.deserialize)return K.deserialize(M);for(var ce=Object.create(K.prototype),Me=0,Ie=Object.keys(M);Me<Ie.length;Me+=1){var He=Ie[Me];if(He!=="$name"){var et=M[He];ce[He]=_o[R].shallow.indexOf(He)>=0?et:el(et)}}return ce}throw new Error("can't deserialize object of type "+typeof M)}var yl=function(){this.first=!0};yl.prototype.update=function(M,R){var K=Math.floor(M);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=M,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=R):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=R),M!==this.lastZoom&&(this.lastZoom=M,this.lastFloorZoom=K,!0))};var _r={"Latin-1 Supplement":function(M){return M>=128&&M<=255},Arabic:function(M){return M>=1536&&M<=1791},"Arabic Supplement":function(M){return M>=1872&&M<=1919},"Arabic Extended-A":function(M){return M>=2208&&M<=2303},"Hangul Jamo":function(M){return M>=4352&&M<=4607},"Unified Canadian Aboriginal Syllabics":function(M){return M>=5120&&M<=5759},Khmer:function(M){return M>=6016&&M<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(M){return M>=6320&&M<=6399},"General Punctuation":function(M){return M>=8192&&M<=8303},"Letterlike Symbols":function(M){return M>=8448&&M<=8527},"Number Forms":function(M){return M>=8528&&M<=8591},"Miscellaneous Technical":function(M){return M>=8960&&M<=9215},"Control Pictures":function(M){return M>=9216&&M<=9279},"Optical Character Recognition":function(M){return M>=9280&&M<=9311},"Enclosed Alphanumerics":function(M){return M>=9312&&M<=9471},"Geometric Shapes":function(M){return M>=9632&&M<=9727},"Miscellaneous Symbols":function(M){return M>=9728&&M<=9983},"Miscellaneous Symbols and Arrows":function(M){return M>=11008&&M<=11263},"CJK Radicals Supplement":function(M){return M>=11904&&M<=12031},"Kangxi Radicals":function(M){return M>=12032&&M<=12255},"Ideographic Description Characters":function(M){return M>=12272&&M<=12287},"CJK Symbols and Punctuation":function(M){return M>=12288&&M<=12351},Hiragana:function(M){return M>=12352&&M<=12447},Katakana:function(M){return M>=12448&&M<=12543},Bopomofo:function(M){return M>=12544&&M<=12591},"Hangul Compatibility Jamo":function(M){return M>=12592&&M<=12687},Kanbun:function(M){return M>=12688&&M<=12703},"Bopomofo Extended":function(M){return M>=12704&&M<=12735},"CJK Strokes":function(M){return M>=12736&&M<=12783},"Katakana Phonetic Extensions":function(M){return M>=12784&&M<=12799},"Enclosed CJK Letters and Months":function(M){return M>=12800&&M<=13055},"CJK Compatibility":function(M){return M>=13056&&M<=13311},"CJK Unified Ideographs Extension A":function(M){return M>=13312&&M<=19903},"Yijing Hexagram Symbols":function(M){return M>=19904&&M<=19967},"CJK Unified Ideographs":function(M){return M>=19968&&M<=40959},"Yi Syllables":function(M){return M>=40960&&M<=42127},"Yi Radicals":function(M){return M>=42128&&M<=42191},"Hangul Jamo Extended-A":function(M){return M>=43360&&M<=43391},"Hangul Syllables":function(M){return M>=44032&&M<=55215},"Hangul Jamo Extended-B":function(M){return M>=55216&&M<=55295},"Private Use Area":function(M){return M>=57344&&M<=63743},"CJK Compatibility Ideographs":function(M){return M>=63744&&M<=64255},"Arabic Presentation Forms-A":function(M){return M>=64336&&M<=65023},"Vertical Forms":function(M){return M>=65040&&M<=65055},"CJK Compatibility Forms":function(M){return M>=65072&&M<=65103},"Small Form Variants":function(M){return M>=65104&&M<=65135},"Arabic Presentation Forms-B":function(M){return M>=65136&&M<=65279},"Halfwidth and Fullwidth Forms":function(M){return M>=65280&&M<=65519}};function Hl(M){for(var R=0,K=M;R<K.length;R+=1)if(rs(K[R].charCodeAt(0)))return!0;return!1}function rs(M){return!(M!==746&&M!==747&&(M<4352||!(_r["Bopomofo Extended"](M)||_r.Bopomofo(M)||_r["CJK Compatibility Forms"](M)&&!(M>=65097&&M<=65103)||_r["CJK Compatibility Ideographs"](M)||_r["CJK Compatibility"](M)||_r["CJK Radicals Supplement"](M)||_r["CJK Strokes"](M)||!(!_r["CJK Symbols and Punctuation"](M)||M>=12296&&M<=12305||M>=12308&&M<=12319||M===12336)||_r["CJK Unified Ideographs Extension A"](M)||_r["CJK Unified Ideographs"](M)||_r["Enclosed CJK Letters and Months"](M)||_r["Hangul Compatibility Jamo"](M)||_r["Hangul Jamo Extended-A"](M)||_r["Hangul Jamo Extended-B"](M)||_r["Hangul Jamo"](M)||_r["Hangul Syllables"](M)||_r.Hiragana(M)||_r["Ideographic Description Characters"](M)||_r.Kanbun(M)||_r["Kangxi Radicals"](M)||_r["Katakana Phonetic Extensions"](M)||_r.Katakana(M)&&M!==12540||!(!_r["Halfwidth and Fullwidth Forms"](M)||M===65288||M===65289||M===65293||M>=65306&&M<=65310||M===65339||M===65341||M===65343||M>=65371&&M<=65503||M===65507||M>=65512&&M<=65519)||!(!_r["Small Form Variants"](M)||M>=65112&&M<=65118||M>=65123&&M<=65126)||_r["Unified Canadian Aboriginal Syllabics"](M)||_r["Unified Canadian Aboriginal Syllabics Extended"](M)||_r["Vertical Forms"](M)||_r["Yijing Hexagram Symbols"](M)||_r["Yi Syllables"](M)||_r["Yi Radicals"](M))))}function ta(M){return!(rs(M)||function(R){return!!(_r["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||_r["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||_r["Letterlike Symbols"](R)||_r["Number Forms"](R)||_r["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||_r["Control Pictures"](R)&&R!==9251||_r["Optical Character Recognition"](R)||_r["Enclosed Alphanumerics"](R)||_r["Geometric Shapes"](R)||_r["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||_r["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||_r["CJK Symbols and Punctuation"](R)||_r.Katakana(R)||_r["Private Use Area"](R)||_r["CJK Compatibility Forms"](R)||_r["Small Form Variants"](R)||_r["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}(M))}function Ps(M){return _r.Arabic(M)||_r["Arabic Supplement"](M)||_r["Arabic Extended-A"](M)||_r["Arabic Presentation Forms-A"](M)||_r["Arabic Presentation Forms-B"](M)}function wo(M){return M>=1424&&M<=2303||_r["Arabic Presentation Forms-A"](M)||_r["Arabic Presentation Forms-B"](M)}function so(M,R){return!(!R&&wo(M)||M>=2304&&M<=3583||M>=3840&&M<=4255||_r.Khmer(M))}function Aa(M){for(var R=0,K=M;R<K.length;R+=1)if(wo(K[R].charCodeAt(0)))return!0;return!1}var No="deferred",lo="loading",is="loaded",ql="error",Os=null,ei="unavailable",la=null,Ia=function(M){M&&typeof M=="string"&&M.indexOf("NetworkError")>-1&&(ei=ql),Os&&Os(M)};function jo(){za.fire(new xt("pluginStateChange",{pluginStatus:ei,pluginURL:la}))}var za=new qe,xl=function(){return ei},bl=function(){if(ei!==No||!la)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ei=lo,jo(),la&&Ft({url:la},function(M){M?Ia(M):(ei=is,jo())})},Da={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ei===is||Da.applyArabicShaping!=null},isLoading:function(){return ei===lo},setState:function(M){ei=M.pluginStatus,la=M.pluginURL},isParsed:function(){return Da.applyArabicShaping!=null&&Da.processBidirectionalText!=null&&Da.processStyledBidirectionalText!=null},getPluginURL:function(){return la}},$r=function(M,R){this.zoom=M,R?(this.now=R.now,this.fadeDuration=R.fadeDuration,this.zoomHistory=R.zoomHistory,this.transition=R.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new yl,this.transition={})};$r.prototype.isSupportedScript=function(M){return function(R,K){for(var ce=0,Me=R;ce<Me.length;ce+=1)if(!so(Me[ce].charCodeAt(0),K))return!1;return!0}(M,Da.isLoaded())},$r.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},$r.prototype.getCrossfadeParameters=function(){var M=this.zoom,R=M-Math.floor(M),K=this.crossFadingFactor();return M>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:R+(1-R)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*R}};var Uo=function(M,R){this.property=M,this.value=R,this.expression=function(K,ce){if(fl(K))return new Rl(K,ce);if(Xs(K)){var Me=Qu(K,ce);if(Me.result==="error")throw new Error(Me.value.map(function(He){return He.key+": "+He.message}).join(", "));return Me.value}var Ie=K;return typeof K=="string"&&ce.type==="color"&&(Ie=Tn.parse(K)),{kind:"constant",evaluate:function(){return Ie}}}(R===void 0?M.specification.default:R,M.specification)};Uo.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Uo.prototype.possiblyEvaluate=function(M,R,K){return this.property.possiblyEvaluate(this,M,R,K)};var tl=function(M){this.property=M,this.value=new Uo(M,void 0)};tl.prototype.transitioned=function(M,R){return new _l(this.property,this.value,R,c({},M.transition,this.transition),M.now)},tl.prototype.untransitioned=function(){return new _l(this.property,this.value,null,{},0)};var To=function(M){this._properties=M,this._values=Object.create(M.defaultTransitionablePropertyValues)};To.prototype.getValue=function(M){return S(this._values[M].value.value)},To.prototype.setValue=function(M,R){this._values.hasOwnProperty(M)||(this._values[M]=new tl(this._values[M].property)),this._values[M].value=new Uo(this._values[M].property,R===null?void 0:S(R))},To.prototype.getTransition=function(M){return S(this._values[M].transition)},To.prototype.setTransition=function(M,R){this._values.hasOwnProperty(M)||(this._values[M]=new tl(this._values[M].property)),this._values[M].transition=S(R)||void 0},To.prototype.serialize=function(){for(var M={},R=0,K=Object.keys(this._values);R<K.length;R+=1){var ce=K[R],Me=this.getValue(ce);Me!==void 0&&(M[ce]=Me);var Ie=this.getTransition(ce);Ie!==void 0&&(M[ce+"-transition"]=Ie)}return M},To.prototype.transitioned=function(M,R){for(var K=new wl(this._properties),ce=0,Me=Object.keys(this._values);ce<Me.length;ce+=1){var Ie=Me[ce];K._values[Ie]=this._values[Ie].transitioned(M,R._values[Ie])}return K},To.prototype.untransitioned=function(){for(var M=new wl(this._properties),R=0,K=Object.keys(this._values);R<K.length;R+=1){var ce=K[R];M._values[ce]=this._values[ce].untransitioned()}return M};var _l=function(M,R,K,ce,Me){this.property=M,this.value=R,this.begin=Me+ce.delay||0,this.end=this.begin+ce.duration||0,M.specification.transition&&(ce.delay||ce.duration)&&(this.prior=K)};_l.prototype.possiblyEvaluate=function(M,R,K){var ce=M.now||0,Me=this.value.possiblyEvaluate(M,R,K),Ie=this.prior;if(Ie){if(ce>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(ce<this.begin)return Ie.possiblyEvaluate(M,R,K);var He=(ce-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(M,R,K),Me,function(et){if(et<=0)return 0;if(et>=1)return 1;var ht=et*et,Mt=ht*et;return 4*(et<.5?Mt:3*(et-ht)+Mt-.75)}(He))}return Me};var wl=function(M){this._properties=M,this._values=Object.create(M.defaultTransitioningPropertyValues)};wl.prototype.possiblyEvaluate=function(M,R,K){for(var ce=new nl(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var He=Ie[Me];ce._values[He]=this._values[He].possiblyEvaluate(M,R,K)}return ce},wl.prototype.hasTransition=function(){for(var M=0,R=Object.keys(this._values);M<R.length;M+=1){var K=R[M];if(this._values[K].prior)return!0}return!1};var ko=function(M){this._properties=M,this._values=Object.create(M.defaultPropertyValues)};ko.prototype.getValue=function(M){return S(this._values[M].value)},ko.prototype.setValue=function(M,R){this._values[M]=new Uo(this._values[M].property,R===null?void 0:S(R))},ko.prototype.serialize=function(){for(var M={},R=0,K=Object.keys(this._values);R<K.length;R+=1){var ce=K[R],Me=this.getValue(ce);Me!==void 0&&(M[ce]=Me)}return M},ko.prototype.possiblyEvaluate=function(M,R,K){for(var ce=new nl(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var He=Ie[Me];ce._values[He]=this._values[He].possiblyEvaluate(M,R,K)}return ce};var _i=function(M,R,K){this.property=M,this.value=R,this.parameters=K};_i.prototype.isConstant=function(){return this.value.kind==="constant"},_i.prototype.constantOr=function(M){return this.value.kind==="constant"?this.value.value:M},_i.prototype.evaluate=function(M,R,K,ce){return this.property.evaluate(this.value,this.parameters,M,R,K,ce)};var nl=function(M){this._properties=M,this._values=Object.create(M.defaultPossiblyEvaluatedValues)};nl.prototype.get=function(M){return this._values[M]};var Pr=function(M){this.specification=M};Pr.prototype.possiblyEvaluate=function(M,R){return M.expression.evaluate(R)},Pr.prototype.interpolate=function(M,R,K){var ce=xi[this.specification.type];return ce?ce(M,R,K):M};var Fr=function(M,R){this.specification=M,this.overrides=R};Fr.prototype.possiblyEvaluate=function(M,R,K,ce){return M.expression.kind==="constant"||M.expression.kind==="camera"?new _i(this,{kind:"constant",value:M.expression.evaluate(R,null,{},K,ce)},R):new _i(this,M.expression,R)},Fr.prototype.interpolate=function(M,R,K){if(M.value.kind!=="constant"||R.value.kind!=="constant")return M;if(M.value.value===void 0||R.value.value===void 0)return new _i(this,{kind:"constant",value:void 0},M.parameters);var ce=xi[this.specification.type];return ce?new _i(this,{kind:"constant",value:ce(M.value.value,R.value.value,K)},M.parameters):M},Fr.prototype.evaluate=function(M,R,K,ce,Me,Ie){return M.kind==="constant"?M.value:M.evaluate(R,K,ce,Me,Ie)};var Za=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(K,ce,Me,Ie){if(K.value===void 0)return new _i(this,{kind:"constant",value:void 0},ce);if(K.expression.kind==="constant"){var He=K.expression.evaluate(ce,null,{},Me,Ie),et=K.property.specification.type==="resolvedImage"&&typeof He!="string"?He.name:He,ht=this._calculate(et,et,et,ce);return new _i(this,{kind:"constant",value:ht},ce)}if(K.expression.kind==="camera"){var Mt=this._calculate(K.expression.evaluate({zoom:ce.zoom-1}),K.expression.evaluate({zoom:ce.zoom}),K.expression.evaluate({zoom:ce.zoom+1}),ce);return new _i(this,{kind:"constant",value:Mt},ce)}return new _i(this,K.expression,ce)},R.prototype.evaluate=function(K,ce,Me,Ie,He,et){if(K.kind==="source"){var ht=K.evaluate(ce,Me,Ie,He,et);return this._calculate(ht,ht,ht,ce)}return K.kind==="composite"?this._calculate(K.evaluate({zoom:Math.floor(ce.zoom)-1},Me,Ie),K.evaluate({zoom:Math.floor(ce.zoom)},Me,Ie),K.evaluate({zoom:Math.floor(ce.zoom)+1},Me,Ie),ce):K.value},R.prototype._calculate=function(K,ce,Me,Ie){return Ie.zoom>Ie.zoomHistory.lastIntegerZoom?{from:K,to:ce}:{from:Me,to:ce}},R.prototype.interpolate=function(K){return K},R}(Fr),Vo=function(M){this.specification=M};Vo.prototype.possiblyEvaluate=function(M,R,K,ce){if(M.value!==void 0){if(M.expression.kind==="constant"){var Me=M.expression.evaluate(R,null,{},K,ce);return this._calculate(Me,Me,Me,R)}return this._calculate(M.expression.evaluate(new $r(Math.floor(R.zoom-1),R)),M.expression.evaluate(new $r(Math.floor(R.zoom),R)),M.expression.evaluate(new $r(Math.floor(R.zoom+1),R)),R)}},Vo.prototype._calculate=function(M,R,K,ce){return ce.zoom>ce.zoomHistory.lastIntegerZoom?{from:M,to:R}:{from:K,to:R}},Vo.prototype.interpolate=function(M){return M};var as=function(M){this.specification=M};as.prototype.possiblyEvaluate=function(M,R,K,ce){return!!M.expression.evaluate(R,null,{},K,ce)},as.prototype.interpolate=function(){return!1};var Hi=function(M){for(var R in this.properties=M,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],M){var K=M[R];K.specification.overridable&&this.overridableProperties.push(R);var ce=this.defaultPropertyValues[R]=new Uo(K,void 0),Me=this.defaultTransitionablePropertyValues[R]=new tl(K);this.defaultTransitioningPropertyValues[R]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[R]=ce.possiblyEvaluate({})}};Er("DataDrivenProperty",Fr),Er("DataConstantProperty",Pr),Er("CrossFadedDataDrivenProperty",Za),Er("CrossFadedProperty",Vo),Er("ColorRampProperty",as);var Ho="-transition",ui=function(M){function R(K,ce){if(M.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},K.type!=="custom"&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,K.type!=="background"&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),ce.layout&&(this._unevaluatedLayout=new ko(ce.layout)),ce.paint)){for(var Me in this._transitionablePaint=new To(ce.paint),K.paint)this.setPaintProperty(Me,K.paint[Me],{validate:!1});for(var Ie in K.layout)this.setLayoutProperty(Ie,K.layout[Ie],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new nl(ce.paint)}}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(K){return K==="visibility"?this.visibility:this._unevaluatedLayout.getValue(K)},R.prototype.setLayoutProperty=function(K,ce,Me){if(Me===void 0&&(Me={}),ce!=null){var Ie="layers."+this.id+".layout."+K;if(this._validate(Es,Ie,K,ce,Me))return}K!=="visibility"?this._unevaluatedLayout.setValue(K,ce):this.visibility=ce},R.prototype.getPaintProperty=function(K){return m(K,Ho)?this._transitionablePaint.getTransition(K.slice(0,-11)):this._transitionablePaint.getValue(K)},R.prototype.setPaintProperty=function(K,ce,Me){if(Me===void 0&&(Me={}),ce!=null){var Ie="layers."+this.id+".paint."+K;if(this._validate(bo,Ie,K,ce,Me))return!1}if(m(K,Ho))return this._transitionablePaint.setTransition(K.slice(0,-11),ce||void 0),!1;var He=this._transitionablePaint._values[K],et=He.property.specification["property-type"]==="cross-faded-data-driven",ht=He.value.isDataDriven(),Mt=He.value;this._transitionablePaint.setValue(K,ce),this._handleSpecialPaintPropertyUpdate(K);var Lt=this._transitionablePaint._values[K].value;return Lt.isDataDriven()||ht||et||this._handleOverridablePaintPropertyUpdate(K,Mt,Lt)},R.prototype._handleSpecialPaintPropertyUpdate=function(K){},R.prototype._handleOverridablePaintPropertyUpdate=function(K,ce,Me){return!1},R.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||this.visibility==="none"},R.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(K,ce){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,ce)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,ce)},R.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),d(K,function(ce,Me){return!(ce===void 0||Me==="layout"&&!Object.keys(ce).length||Me==="paint"&&!Object.keys(ce).length)})},R.prototype._validate=function(K,ce,Me,Ie,He){return He===void 0&&(He={}),(!He||He.validate!==!1)&&Oa(this,K.call(Bo,{key:ce,layerType:this.type,objectKey:Me,value:Ie,styleSpec:je,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var K in this.paint._values){var ce=this.paint.get(K);if(ce instanceof _i&&Qo(ce.property.specification)&&(ce.value.kind==="source"||ce.value.kind==="composite")&&ce.value.isStateDependent)return!0}return!1},R}(qe),tc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ka=function(M,R){this._structArray=M,this._pos1=R*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},pi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ai(M,R){R===void 0&&(R=1);var K=0,ce=0;return{members:M.map(function(Me){var Ie,He=(Ie=Me.type,tc[Ie].BYTES_PER_ELEMENT),et=K=Ua(K,Math.max(R,He)),ht=Me.components||1;return ce=Math.max(ce,He),K+=He*ht,{name:Me.name,type:Me.type,components:ht,offset:et}}),size:Ua(K,Math.max(ce,R)),alignment:R}}function Ua(M,R){return Math.ceil(M/R)*R}pi.serialize=function(M,R){return M._trim(),R&&(M.isTransferred=!0,R.push(M.arrayBuffer)),{length:M.length,arrayBuffer:M.arrayBuffer}},pi.deserialize=function(M){var R=Object.create(this.prototype);return R.arrayBuffer=M.arrayBuffer,R.length=M.length,R.capacity=M.arrayBuffer.byteLength/R.bytesPerElement,R._refreshViews(),R},pi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},pi.prototype.clear=function(){this.length=0},pi.prototype.resize=function(M){this.reserve(M),this.length=M},pi.prototype.reserve=function(M){if(M>this.capacity){this.capacity=Math.max(M,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var R=this.uint8;this._refreshViews(),R&&this.uint8.set(R)}},pi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Is=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,K,ce)},R.prototype.emplace=function(K,ce,Me){var Ie=2*K;return this.int16[Ie+0]=ce,this.int16[Ie+1]=Me,K},R}(pi);Is.prototype.bytesPerElement=4,Er("StructArrayLayout2i4",Is);var Pu=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,K,ce,Me,Ie)},R.prototype.emplace=function(K,ce,Me,Ie,He){var et=4*K;return this.int16[et+0]=ce,this.int16[et+1]=Me,this.int16[et+2]=Ie,this.int16[et+3]=He,K},R}(pi);Pu.prototype.bytesPerElement=8,Er("StructArrayLayout4i8",Pu);var Qe=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et){var ht=this.length;return this.resize(ht+1),this.emplace(ht,K,ce,Me,Ie,He,et)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht){var Mt=6*K;return this.int16[Mt+0]=ce,this.int16[Mt+1]=Me,this.int16[Mt+2]=Ie,this.int16[Mt+3]=He,this.int16[Mt+4]=et,this.int16[Mt+5]=ht,K},R}(pi);Qe.prototype.bytesPerElement=12,Er("StructArrayLayout2i4i12",Qe);var nt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et){var ht=this.length;return this.resize(ht+1),this.emplace(ht,K,ce,Me,Ie,He,et)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht){var Mt=4*K,Lt=8*K;return this.int16[Mt+0]=ce,this.int16[Mt+1]=Me,this.uint8[Lt+4]=Ie,this.uint8[Lt+5]=He,this.uint8[Lt+6]=et,this.uint8[Lt+7]=ht,K},R}(pi);nt.prototype.bytesPerElement=8,Er("StructArrayLayout2i4ub8",nt);var ct=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,K,ce)},R.prototype.emplace=function(K,ce,Me){var Ie=2*K;return this.float32[Ie+0]=ce,this.float32[Ie+1]=Me,K},R}(pi);ct.prototype.bytesPerElement=8,Er("StructArrayLayout2f8",ct);var N=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt){var Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt){var Ht=10*K;return this.uint16[Ht+0]=ce,this.uint16[Ht+1]=Me,this.uint16[Ht+2]=Ie,this.uint16[Ht+3]=He,this.uint16[Ht+4]=et,this.uint16[Ht+5]=ht,this.uint16[Ht+6]=Mt,this.uint16[Ht+7]=Lt,this.uint16[Ht+8]=Bt,this.uint16[Ht+9]=Yt,K},R}(pi);N.prototype.bytesPerElement=20,Er("StructArrayLayout10ui20",N);var Y=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht){var ln=this.length;return this.resize(ln+1),this.emplace(ln,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln){var dn=12*K;return this.int16[dn+0]=ce,this.int16[dn+1]=Me,this.int16[dn+2]=Ie,this.int16[dn+3]=He,this.uint16[dn+4]=et,this.uint16[dn+5]=ht,this.uint16[dn+6]=Mt,this.uint16[dn+7]=Lt,this.int16[dn+8]=Bt,this.int16[dn+9]=Yt,this.int16[dn+10]=Ht,this.int16[dn+11]=ln,K},R}(pi);Y.prototype.bytesPerElement=24,Er("StructArrayLayout4i4ui4i24",Y);var G=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,K,ce,Me)},R.prototype.emplace=function(K,ce,Me,Ie){var He=3*K;return this.float32[He+0]=ce,this.float32[He+1]=Me,this.float32[He+2]=Ie,K},R}(pi);G.prototype.bytesPerElement=12,Er("StructArrayLayout3f12",G);var L=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ce=this.length;return this.resize(ce+1),this.emplace(ce,K)},R.prototype.emplace=function(K,ce){var Me=1*K;return this.uint32[Me+0]=ce,K},R}(pi);L.prototype.bytesPerElement=4,Er("StructArrayLayout1ul4",L);var q=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et,ht,Mt,Lt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,K,ce,Me,Ie,He,et,ht,Mt,Lt)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt){var Yt=10*K,Ht=5*K;return this.int16[Yt+0]=ce,this.int16[Yt+1]=Me,this.int16[Yt+2]=Ie,this.int16[Yt+3]=He,this.int16[Yt+4]=et,this.int16[Yt+5]=ht,this.uint32[Ht+3]=Mt,this.uint16[Yt+8]=Lt,this.uint16[Yt+9]=Bt,K},R}(pi);q.prototype.bytesPerElement=20,Er("StructArrayLayout6i1ul2ui20",q);var ee=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et){var ht=this.length;return this.resize(ht+1),this.emplace(ht,K,ce,Me,Ie,He,et)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht){var Mt=6*K;return this.int16[Mt+0]=ce,this.int16[Mt+1]=Me,this.int16[Mt+2]=Ie,this.int16[Mt+3]=He,this.int16[Mt+4]=et,this.int16[Mt+5]=ht,K},R}(pi);ee.prototype.bytesPerElement=12,Er("StructArrayLayout2i2i2i12",ee);var ae=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He){var et=this.length;return this.resize(et+1),this.emplace(et,K,ce,Me,Ie,He)},R.prototype.emplace=function(K,ce,Me,Ie,He,et){var ht=4*K,Mt=8*K;return this.float32[ht+0]=ce,this.float32[ht+1]=Me,this.float32[ht+2]=Ie,this.int16[Mt+6]=He,this.int16[Mt+7]=et,K},R}(pi);ae.prototype.bytesPerElement=16,Er("StructArrayLayout2f1f2i16",ae);var fe=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,K,ce,Me,Ie)},R.prototype.emplace=function(K,ce,Me,Ie,He){var et=12*K,ht=3*K;return this.uint8[et+0]=ce,this.uint8[et+1]=Me,this.float32[ht+1]=Ie,this.float32[ht+2]=He,K},R}(pi);fe.prototype.bytesPerElement=12,Er("StructArrayLayout2ub2f12",fe);var we=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,K,ce,Me)},R.prototype.emplace=function(K,ce,Me,Ie){var He=3*K;return this.uint16[He+0]=ce,this.uint16[He+1]=Me,this.uint16[He+2]=Ie,K},R}(pi);we.prototype.bytesPerElement=6,Er("StructArrayLayout3ui6",we);var Oe=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn){var Un=this.length;return this.resize(Un+1),this.emplace(Un,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn,Un){var Xn=24*K,rr=12*K,lr=48*K;return this.int16[Xn+0]=ce,this.int16[Xn+1]=Me,this.uint16[Xn+2]=Ie,this.uint16[Xn+3]=He,this.uint32[rr+2]=et,this.uint32[rr+3]=ht,this.uint32[rr+4]=Mt,this.uint16[Xn+10]=Lt,this.uint16[Xn+11]=Bt,this.uint16[Xn+12]=Yt,this.float32[rr+7]=Ht,this.float32[rr+8]=ln,this.uint8[lr+36]=dn,this.uint8[lr+37]=Ln,this.uint8[lr+38]=An,this.uint32[rr+10]=Bn,this.int16[Xn+22]=Un,K},R}(pi);Oe.prototype.bytesPerElement=48,Er("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Oe);var Be=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn,Un,Xn,rr,lr,br,yr,Ar,Sr,qr,zr,Hr){var Rr=this.length;return this.resize(Rr+1),this.emplace(Rr,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn,Un,Xn,rr,lr,br,yr,Ar,Sr,qr,zr,Hr)},R.prototype.emplace=function(K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn,Ln,An,Bn,Un,Xn,rr,lr,br,yr,Ar,Sr,qr,zr,Hr,Rr){var Ir=34*K,ri=17*K;return this.int16[Ir+0]=ce,this.int16[Ir+1]=Me,this.int16[Ir+2]=Ie,this.int16[Ir+3]=He,this.int16[Ir+4]=et,this.int16[Ir+5]=ht,this.int16[Ir+6]=Mt,this.int16[Ir+7]=Lt,this.uint16[Ir+8]=Bt,this.uint16[Ir+9]=Yt,this.uint16[Ir+10]=Ht,this.uint16[Ir+11]=ln,this.uint16[Ir+12]=dn,this.uint16[Ir+13]=Ln,this.uint16[Ir+14]=An,this.uint16[Ir+15]=Bn,this.uint16[Ir+16]=Un,this.uint16[Ir+17]=Xn,this.uint16[Ir+18]=rr,this.uint16[Ir+19]=lr,this.uint16[Ir+20]=br,this.uint16[Ir+21]=yr,this.uint16[Ir+22]=Ar,this.uint32[ri+12]=Sr,this.float32[ri+13]=qr,this.float32[ri+14]=zr,this.float32[ri+15]=Hr,this.float32[ri+16]=Rr,K},R}(pi);Be.prototype.bytesPerElement=68,Er("StructArrayLayout8i15ui1ul4f68",Be);var Ge=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ce=this.length;return this.resize(ce+1),this.emplace(ce,K)},R.prototype.emplace=function(K,ce){var Me=1*K;return this.float32[Me+0]=ce,K},R}(pi);Ge.prototype.bytesPerElement=4,Er("StructArrayLayout1f4",Ge);var Ye=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,K,ce,Me)},R.prototype.emplace=function(K,ce,Me,Ie){var He=3*K;return this.int16[He+0]=ce,this.int16[He+1]=Me,this.int16[He+2]=Ie,K},R}(pi);Ye.prototype.bytesPerElement=6,Er("StructArrayLayout3i6",Ye);var rt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,K,ce,Me)},R.prototype.emplace=function(K,ce,Me,Ie){var He=2*K,et=4*K;return this.uint32[He+0]=ce,this.uint16[et+2]=Me,this.uint16[et+3]=Ie,K},R}(pi);rt.prototype.bytesPerElement=8,Er("StructArrayLayout1ul2ui8",rt);var pt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce){var Me=this.length;return this.resize(Me+1),this.emplace(Me,K,ce)},R.prototype.emplace=function(K,ce,Me){var Ie=2*K;return this.uint16[Ie+0]=ce,this.uint16[Ie+1]=Me,K},R}(pi);pt.prototype.bytesPerElement=4,Er("StructArrayLayout2ui4",pt);var vt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ce=this.length;return this.resize(ce+1),this.emplace(ce,K)},R.prototype.emplace=function(K,ce){var Me=1*K;return this.uint16[Me+0]=ce,K},R}(pi);vt.prototype.bytesPerElement=2,Er("StructArrayLayout1ui2",vt);var St=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ce,Me,Ie){var He=this.length;return this.resize(He+1),this.emplace(He,K,ce,Me,Ie)},R.prototype.emplace=function(K,ce,Me,Ie,He){var et=4*K;return this.float32[et+0]=ce,this.float32[et+1]=Me,this.float32[et+2]=Ie,this.float32[et+3]=He,K},R}(pi);St.prototype.bytesPerElement=16,Er("StructArrayLayout4f16",St);var It=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,K),R}(Ka);It.prototype.size=20;var Ct=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new It(this,K)},R}(q);Er("CollisionBoxArray",Ct);var jt=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(ce){this._structArray.uint8[this._pos1+37]=ce},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(ce){this._structArray.uint8[this._pos1+38]=ce},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(ce){this._structArray.uint32[this._pos4+10]=ce},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,K),R}(Ka);jt.prototype.size=48;var zt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new jt(this,K)},R}(Oe);Er("PlacedSymbolArray",zt);var Jt=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(ce){this._structArray.uint32[this._pos4+12]=ce},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,K),R}(Ka);Jt.prototype.size=68;var Zt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new Jt(this,K)},R}(Be);Er("SymbolInstanceArray",Zt);var Gt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(K){return this.float32[1*K+0]},R}(Ge);Er("GlyphOffsetArray",Gt);var mn=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getx=function(K){return this.int16[3*K+0]},R.prototype.gety=function(K){return this.int16[3*K+1]},R.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},R}(Ye);Er("SymbolLineVertexArray",mn);var _n=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,K),R}(Ka);_n.prototype.size=8;var Cn=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new _n(this,K)},R}(rt);Er("FeatureIndexArray",Cn);var zn=Ai([{name:"a_pos",components:2,type:"Int16"}],4).members,Wn=function(M){M===void 0&&(M=[]),this.segments=M};function sr(M,R){return 256*(M=u(Math.floor(M),0,255))+u(Math.floor(R),0,255)}Wn.prototype.prepareSegment=function(M,R,K,ce){var Me=this.segments[this.segments.length-1];return M>Wn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Wn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+M),(!Me||Me.vertexLength+M>Wn.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==ce)&&(Me={vertexOffset:R.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},ce!==void 0&&(Me.sortKey=ce),this.segments.push(Me)),Me},Wn.prototype.get=function(){return this.segments},Wn.prototype.destroy=function(){for(var M=0,R=this.segments;M<R.length;M+=1){var K=R[M];for(var ce in K.vaos)K.vaos[ce].destroy()}},Wn.simpleSegment=function(M,R,K,ce){return new Wn([{vertexOffset:M,primitiveOffset:R,vertexLength:K,primitiveLength:ce,vaos:{},sortKey:0}])},Wn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Er("SegmentVector",Wn);var vr=Ai([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Kn=_(function(M){M.exports=function(R,K){var ce,Me,Ie,He,et,ht,Mt,Lt;for(ce=3&R.length,Me=R.length-ce,Ie=K,et=3432918353,ht=461845907,Lt=0;Lt<Me;)Mt=255&R.charCodeAt(Lt)|(255&R.charCodeAt(++Lt))<<8|(255&R.charCodeAt(++Lt))<<16|(255&R.charCodeAt(++Lt))<<24,++Lt,Ie=27492+(65535&(He=5*(65535&(Ie=(Ie^=Mt=(65535&(Mt=(Mt=(65535&Mt)*et+(((Mt>>>16)*et&65535)<<16)&4294967295)<<15|Mt>>>17))*ht+(((Mt>>>16)*ht&65535)<<16)&4294967295)<<13|Ie>>>19))+((5*(Ie>>>16)&65535)<<16)&4294967295))+((58964+(He>>>16)&65535)<<16);switch(Mt=0,ce){case 3:Mt^=(255&R.charCodeAt(Lt+2))<<16;case 2:Mt^=(255&R.charCodeAt(Lt+1))<<8;case 1:Ie^=Mt=(65535&(Mt=(Mt=(65535&(Mt^=255&R.charCodeAt(Lt)))*et+(((Mt>>>16)*et&65535)<<16)&4294967295)<<15|Mt>>>17))*ht+(((Mt>>>16)*ht&65535)<<16)&4294967295}return Ie^=R.length,Ie=2246822507*(65535&(Ie^=Ie>>>16))+((2246822507*(Ie>>>16)&65535)<<16)&4294967295,Ie=3266489909*(65535&(Ie^=Ie>>>13))+((3266489909*(Ie>>>16)&65535)<<16)&4294967295,(Ie^=Ie>>>16)>>>0}}),hr=_(function(M){M.exports=function(R,K){for(var ce,Me=R.length,Ie=K^Me,He=0;Me>=4;)ce=1540483477*(65535&(ce=255&R.charCodeAt(He)|(255&R.charCodeAt(++He))<<8|(255&R.charCodeAt(++He))<<16|(255&R.charCodeAt(++He))<<24))+((1540483477*(ce>>>16)&65535)<<16),Ie=1540483477*(65535&Ie)+((1540483477*(Ie>>>16)&65535)<<16)^(ce=1540483477*(65535&(ce^=ce>>>24))+((1540483477*(ce>>>16)&65535)<<16)),Me-=4,++He;switch(Me){case 3:Ie^=(255&R.charCodeAt(He+2))<<16;case 2:Ie^=(255&R.charCodeAt(He+1))<<8;case 1:Ie=1540483477*(65535&(Ie^=255&R.charCodeAt(He)))+((1540483477*(Ie>>>16)&65535)<<16)}return Ie=1540483477*(65535&(Ie^=Ie>>>13))+((1540483477*(Ie>>>16)&65535)<<16),(Ie^=Ie>>>15)>>>0}}),wr=Kn,Or=Kn,or=hr;wr.murmur3=Or,wr.murmur2=or;var fr=function(){this.ids=[],this.positions=[],this.indexed=!1};fr.prototype.add=function(M,R,K,ce){this.ids.push(mr(M)),this.positions.push(R,K,ce)},fr.prototype.getPositions=function(M){for(var R=mr(M),K=0,ce=this.ids.length-1;K<ce;){var Me=K+ce>>1;this.ids[Me]>=R?ce=Me:K=Me+1}for(var Ie=[];this.ids[K]===R;){var He=this.positions[3*K],et=this.positions[3*K+1],ht=this.positions[3*K+2];Ie.push({index:He,start:et,end:ht}),K++}return Ie},fr.serialize=function(M,R){var K=new Float64Array(M.ids),ce=new Uint32Array(M.positions);return Lr(K,ce,0,K.length-1),R&&R.push(K.buffer,ce.buffer),{ids:K,positions:ce}},fr.deserialize=function(M){var R=new fr;return R.ids=M.ids,R.positions=M.positions,R.indexed=!0,R};var Mr=Math.pow(2,53)-1;function mr(M){var R=+M;return!isNaN(R)&&R<=Mr?R:wr(String(M))}function Lr(M,R,K,ce){for(;K<ce;){for(var Me=M[K+ce>>1],Ie=K-1,He=ce+1;;){do Ie++;while(M[Ie]<Me);do He--;while(M[He]>Me);if(Ie>=He)break;Dr(M,Ie,He),Dr(R,3*Ie,3*He),Dr(R,3*Ie+1,3*He+1),Dr(R,3*Ie+2,3*He+2)}He-K<ce-He?(Lr(M,R,K,He),K=He+1):(Lr(M,R,He+1,ce),ce=He)}}function Dr(M,R,K){var ce=M[R];M[R]=M[K],M[K]=ce}Er("FeaturePositionMap",fr);var Gr=function(M,R){this.gl=M.gl,this.location=R},Wr=function(M){function R(K,ce){M.call(this,K,ce),this.current=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},R}(Gr),Zr=function(M){function R(K,ce){M.call(this,K,ce),this.current=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},R}(Gr),Qr=function(M){function R(K,ce){M.call(this,K,ce),this.current=[0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},R}(Gr),wi=function(M){function R(K,ce){M.call(this,K,ce),this.current=[0,0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},R}(Gr),Bi=function(M){function R(K,ce){M.call(this,K,ce),this.current=[0,0,0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},R}(Gr),Ma=function(M){function R(K,ce){M.call(this,K,ce),this.current=Tn.transparent}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},R}(Gr),na=new Float32Array(16),va=function(M){function R(K,ce){M.call(this,K,ce),this.current=na}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var ce=1;ce<16;ce++)if(K[ce]!==this.current[ce]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},R}(Gr);function Mi(M){return[sr(255*M.r,255*M.g),sr(255*M.b,255*M.a)]}var ti=function(M,R,K){this.value=M,this.uniformNames=R.map(function(ce){return"u_"+ce}),this.type=K};ti.prototype.setUniform=function(M,R,K){M.set(K.constantOr(this.value))},ti.prototype.getBinding=function(M,R,K){return this.type==="color"?new Ma(M,R):new Zr(M,R)};var Ii=function(M,R){this.uniformNames=R.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ii.prototype.setConstantPatternPositions=function(M,R){this.pixelRatioFrom=R.pixelRatio,this.pixelRatioTo=M.pixelRatio,this.patternFrom=R.tlbr,this.patternTo=M.tlbr},Ii.prototype.setUniform=function(M,R,K,ce){var Me=ce==="u_pattern_to"?this.patternTo:ce==="u_pattern_from"?this.patternFrom:ce==="u_pixel_ratio_to"?this.pixelRatioTo:ce==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&M.set(Me)},Ii.prototype.getBinding=function(M,R,K){return K.substr(0,9)==="u_pattern"?new Bi(M,R):new Zr(M,R)};var di=function(M,R,K,ce){this.expression=M,this.type=K,this.maxValue=0,this.paintVertexAttributes=R.map(function(Me){return{name:"a_"+Me,type:"Float32",components:K==="color"?2:1,offset:0}}),this.paintVertexArray=new ce};di.prototype.populatePaintArray=function(M,R,K,ce,Me){var Ie=this.paintVertexArray.length,He=this.expression.evaluate(new $r(0),R,{},ce,[],Me);this.paintVertexArray.resize(M),this._setPaintValue(Ie,M,He)},di.prototype.updatePaintArray=function(M,R,K,ce){var Me=this.expression.evaluate({zoom:0},K,ce);this._setPaintValue(M,R,Me)},di.prototype._setPaintValue=function(M,R,K){if(this.type==="color")for(var ce=Mi(K),Me=M;Me<R;Me++)this.paintVertexArray.emplace(Me,ce[0],ce[1]);else{for(var Ie=M;Ie<R;Ie++)this.paintVertexArray.emplace(Ie,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},di.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},di.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ii=function(M,R,K,ce,Me,Ie){this.expression=M,this.uniformNames=R.map(function(He){return"u_"+He+"_t"}),this.type=K,this.useIntegerZoom=ce,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=R.map(function(He){return{name:"a_"+He,type:"Float32",components:K==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ii.prototype.populatePaintArray=function(M,R,K,ce,Me){var Ie=this.expression.evaluate(new $r(this.zoom),R,{},ce,[],Me),He=this.expression.evaluate(new $r(this.zoom+1),R,{},ce,[],Me),et=this.paintVertexArray.length;this.paintVertexArray.resize(M),this._setPaintValue(et,M,Ie,He)},ii.prototype.updatePaintArray=function(M,R,K,ce){var Me=this.expression.evaluate({zoom:this.zoom},K,ce),Ie=this.expression.evaluate({zoom:this.zoom+1},K,ce);this._setPaintValue(M,R,Me,Ie)},ii.prototype._setPaintValue=function(M,R,K,ce){if(this.type==="color")for(var Me=Mi(K),Ie=Mi(ce),He=M;He<R;He++)this.paintVertexArray.emplace(He,Me[0],Me[1],Ie[0],Ie[1]);else{for(var et=M;et<R;et++)this.paintVertexArray.emplace(et,K,ce);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(ce))}},ii.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ii.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ii.prototype.setUniform=function(M,R){var K=this.useIntegerZoom?Math.floor(R.zoom):R.zoom,ce=u(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);M.set(ce)},ii.prototype.getBinding=function(M,R,K){return new Zr(M,R)};var zi=function(M,R,K,ce,Me,Ie){this.expression=M,this.type=R,this.useIntegerZoom=K,this.zoom=ce,this.layerId=Ie,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};zi.prototype.populatePaintArray=function(M,R,K){var ce=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(M),this.zoomOutPaintVertexArray.resize(M),this._setPaintValues(ce,M,R.patterns&&R.patterns[this.layerId],K)},zi.prototype.updatePaintArray=function(M,R,K,ce,Me){this._setPaintValues(M,R,K.patterns&&K.patterns[this.layerId],Me)},zi.prototype._setPaintValues=function(M,R,K,ce){if(ce&&K){var Me=K.min,Ie=K.mid,He=K.max,et=ce[Me],ht=ce[Ie],Mt=ce[He];if(et&&ht&&Mt)for(var Lt=M;Lt<R;Lt++)this.zoomInPaintVertexArray.emplace(Lt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],et.tl[0],et.tl[1],et.br[0],et.br[1],ht.pixelRatio,et.pixelRatio),this.zoomOutPaintVertexArray.emplace(Lt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],ht.pixelRatio,Mt.pixelRatio)}},zi.prototype.upload=function(M){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=M.createVertexBuffer(this.zoomInPaintVertexArray,vr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=M.createVertexBuffer(this.zoomOutPaintVertexArray,vr.members,this.expression.isStateDependent))},zi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ni=function(M,R,K){this.binders={},this._buffers=[];var ce=[];for(var Me in M.paint._values)if(K(Me)){var Ie=M.paint.get(Me);if(Ie instanceof _i&&Qo(Ie.property.specification)){var He=Tl(Me,M.type),et=Ie.value,ht=Ie.property.specification.type,Mt=Ie.property.useIntegerZoom,Lt=Ie.property.specification["property-type"],Bt=Lt==="cross-faded"||Lt==="cross-faded-data-driven";if(et.kind==="constant")this.binders[Me]=Bt?new Ii(et.value,He):new ti(et.value,He,ht),ce.push("/u_"+Me);else if(et.kind==="source"||Bt){var Yt=kl(Me,ht,"source");this.binders[Me]=Bt?new zi(et,ht,Mt,R,Yt,M.id):new di(et,He,ht,Yt),ce.push("/a_"+Me)}else{var Ht=kl(Me,ht,"composite");this.binders[Me]=new ii(et,He,ht,Mt,R,Ht),ce.push("/z_"+Me)}}}this.cacheKey=ce.sort().join("")};Ni.prototype.getMaxValue=function(M){var R=this.binders[M];return R instanceof di||R instanceof ii?R.maxValue:0},Ni.prototype.populatePaintArrays=function(M,R,K,ce,Me){for(var Ie in this.binders){var He=this.binders[Ie];(He instanceof di||He instanceof ii||He instanceof zi)&&He.populatePaintArray(M,R,K,ce,Me)}},Ni.prototype.setConstantPatternPositions=function(M,R){for(var K in this.binders){var ce=this.binders[K];ce instanceof Ii&&ce.setConstantPatternPositions(M,R)}},Ni.prototype.updatePaintArrays=function(M,R,K,ce,Me){var Ie=!1;for(var He in M)for(var et=0,ht=R.getPositions(He);et<ht.length;et+=1){var Mt=ht[et],Lt=K.feature(Mt.index);for(var Bt in this.binders){var Yt=this.binders[Bt];if((Yt instanceof di||Yt instanceof ii||Yt instanceof zi)&&Yt.expression.isStateDependent===!0){var Ht=ce.paint.get(Bt);Yt.expression=Ht.value,Yt.updatePaintArray(Mt.start,Mt.end,Lt,M[He],Me),Ie=!0}}}return Ie},Ni.prototype.defines=function(){var M=[];for(var R in this.binders){var K=this.binders[R];(K instanceof ti||K instanceof Ii)&&M.push.apply(M,K.uniformNames.map(function(ce){return"#define HAS_UNIFORM_"+ce}))}return M},Ni.prototype.getBinderAttributes=function(){var M=[];for(var R in this.binders){var K=this.binders[R];if(K instanceof di||K instanceof ii)for(var ce=0;ce<K.paintVertexAttributes.length;ce++)M.push(K.paintVertexAttributes[ce].name);else if(K instanceof zi)for(var Me=0;Me<vr.members.length;Me++)M.push(vr.members[Me].name)}return M},Ni.prototype.getBinderUniforms=function(){var M=[];for(var R in this.binders){var K=this.binders[R];if(K instanceof ti||K instanceof Ii||K instanceof ii)for(var ce=0,Me=K.uniformNames;ce<Me.length;ce+=1){var Ie=Me[ce];M.push(Ie)}}return M},Ni.prototype.getPaintVertexBuffers=function(){return this._buffers},Ni.prototype.getUniforms=function(M,R){var K=[];for(var ce in this.binders){var Me=this.binders[ce];if(Me instanceof ti||Me instanceof Ii||Me instanceof ii)for(var Ie=0,He=Me.uniformNames;Ie<He.length;Ie+=1){var et=He[Ie];if(R[et]){var ht=Me.getBinding(M,R[et],et);K.push({name:et,property:ce,binding:ht})}}}return K},Ni.prototype.setUniforms=function(M,R,K,ce){for(var Me=0,Ie=R;Me<Ie.length;Me+=1){var He=Ie[Me],et=He.name,ht=He.property,Mt=He.binding;this.binders[ht].setUniform(Mt,ce,K.get(ht),et)}},Ni.prototype.updatePaintBuffers=function(M){for(var R in this._buffers=[],this.binders){var K=this.binders[R];if(M&&K instanceof zi){var ce=M.fromScale===2?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;ce&&this._buffers.push(ce)}else(K instanceof di||K instanceof ii)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},Ni.prototype.upload=function(M){for(var R in this.binders){var K=this.binders[R];(K instanceof di||K instanceof ii||K instanceof zi)&&K.upload(M)}this.updatePaintBuffers()},Ni.prototype.destroy=function(){for(var M in this.binders){var R=this.binders[M];(R instanceof di||R instanceof ii||R instanceof zi)&&R.destroy()}};var Zi=function(M,R,K){K===void 0&&(K=function(){return!0}),this.programConfigurations={};for(var ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce];this.programConfigurations[Ie.id]=new Ni(Ie,R,K)}this.needsUpload=!1,this._featureMap=new fr,this._bufferOffset=0};function Tl(M,R){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[M]||[M.replace(R+"-","").replace(/-/g,"_")]}function kl(M,R,K){var ce={color:{source:ct,composite:St},number:{source:Ge,composite:ct}},Me=function(Ie){return{"line-pattern":{source:N,composite:N},"fill-pattern":{source:N,composite:N},"fill-extrusion-pattern":{source:N,composite:N}}[Ie]}(M);return Me&&Me[K]||ce[R][K]}Zi.prototype.populatePaintArrays=function(M,R,K,ce,Me,Ie){for(var He in this.programConfigurations)this.programConfigurations[He].populatePaintArrays(M,R,ce,Me,Ie);R.id!==void 0&&this._featureMap.add(R.id,K,this._bufferOffset,M),this._bufferOffset=M,this.needsUpload=!0},Zi.prototype.updatePaintArrays=function(M,R,K,ce){for(var Me=0,Ie=K;Me<Ie.length;Me+=1){var He=Ie[Me];this.needsUpload=this.programConfigurations[He.id].updatePaintArrays(M,this._featureMap,R,He,ce)||this.needsUpload}},Zi.prototype.get=function(M){return this.programConfigurations[M]},Zi.prototype.upload=function(M){if(this.needsUpload){for(var R in this.programConfigurations)this.programConfigurations[R].upload(M);this.needsUpload=!1}},Zi.prototype.destroy=function(){for(var M in this.programConfigurations)this.programConfigurations[M].destroy()},Er("ConstantBinder",ti),Er("CrossFadedConstantBinder",Ii),Er("SourceExpressionBinder",di),Er("CrossFadedCompositeBinder",zi),Er("CompositeExpressionBinder",ii),Er("ProgramConfiguration",Ni,{omit:["_buffers"]}),Er("ProgramConfigurationSet",Zi);var ai=8192,du=Math.pow(2,14)-1,Gl=-du-1;function os(M){for(var R=ai/M.extent,K=M.loadGeometry(),ce=0;ce<K.length;ce++)for(var Me=K[ce],Ie=0;Ie<Me.length;Ie++){var He=Me[Ie],et=Math.round(He.x*R),ht=Math.round(He.y*R);He.x=u(et,Gl,du),He.y=u(ht,Gl,du),(et<He.x||et>He.x+1||ht<He.y||ht>He.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return K}function Di(M,R){return{type:M.type,id:M.id,properties:M.properties,geometry:R?os(M):[]}}function Ja(M,R,K,ce,Me){M.emplaceBack(2*R+(ce+1)/2,2*K+(Me+1)/2)}var ua=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new Is,this.indexArray=new we,this.segments=new Wn,this.programConfigurations=new Zi(M.layers,M.zoom),this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function jc(M,R){for(var K=0;K<M.length;K++)if(gu(R,M[K]))return!0;for(var ce=0;ce<R.length;ce++)if(gu(M,R[ce]))return!0;return!!nc(M,R)}function ag(M,R,K){return!!gu(M,R)||!!rc(R,M,K)}function td(M,R){if(M.length===1)return rd(R,M[0]);for(var K=0;K<R.length;K++)for(var ce=R[K],Me=0;Me<ce.length;Me++)if(gu(M,ce[Me]))return!0;for(var Ie=0;Ie<M.length;Ie++)if(rd(R,M[Ie]))return!0;for(var He=0;He<R.length;He++)if(nc(M,R[He]))return!0;return!1}function og(M,R,K){if(M.length>1){if(nc(M,R))return!0;for(var ce=0;ce<R.length;ce++)if(rc(R[ce],M,K))return!0}for(var Me=0;Me<M.length;Me++)if(rc(M[Me],R,K))return!0;return!1}function nc(M,R){if(M.length===0||R.length===0)return!1;for(var K=0;K<M.length-1;K++)for(var ce=M[K],Me=M[K+1],Ie=0;Ie<R.length-1;Ie++)if(sg(ce,Me,R[Ie],R[Ie+1]))return!0;return!1}function sg(M,R,K,ce){return P(M,K,ce)!==P(R,K,ce)&&P(M,R,K)!==P(M,R,ce)}function rc(M,R,K){var ce=K*K;if(R.length===1)return M.distSqr(R[0])<ce;for(var Me=1;Me<R.length;Me++)if(nd(M,R[Me-1],R[Me])<ce)return!0;return!1}function nd(M,R,K){var ce=R.distSqr(K);if(ce===0)return M.distSqr(R);var Me=((M.x-R.x)*(K.x-R.x)+(M.y-R.y)*(K.y-R.y))/ce;return Me<0?M.distSqr(R):Me>1?M.distSqr(K):M.distSqr(K.sub(R)._mult(Me)._add(R))}function rd(M,R){for(var K,ce,Me,Ie=!1,He=0;He<M.length;He++)for(var et=0,ht=(K=M[He]).length-1;et<K.length;ht=et++)ce=K[et],Me=K[ht],ce.y>R.y!=Me.y>R.y&&R.x<(Me.x-ce.x)*(R.y-ce.y)/(Me.y-ce.y)+ce.x&&(Ie=!Ie);return Ie}function gu(M,R){for(var K=!1,ce=0,Me=M.length-1;ce<M.length;Me=ce++){var Ie=M[ce],He=M[Me];Ie.y>R.y!=He.y>R.y&&R.x<(He.x-Ie.x)*(R.y-Ie.y)/(He.y-Ie.y)+Ie.x&&(K=!K)}return K}function e3(M,R,K){var ce=K[0],Me=K[2];if(M.x<ce.x&&R.x<ce.x||M.x>Me.x&&R.x>Me.x||M.y<ce.y&&R.y<ce.y||M.y>Me.y&&R.y>Me.y)return!1;var Ie=P(M,R,K[0]);return Ie!==P(M,R,K[1])||Ie!==P(M,R,K[2])||Ie!==P(M,R,K[3])}function Ph(M,R,K){var ce=R.paint.get(M).value;return ce.kind==="constant"?ce.value:K.programConfigurations.get(R.id).getMaxValue(M)}function id(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function ad(M,R,K,ce,Me){if(!R[0]&&!R[1])return M;var Ie=t.convert(R)._mult(Me);K==="viewport"&&Ie._rotate(-ce);for(var He=[],et=0;et<M.length;et++){var ht=M[et];He.push(ht.sub(Ie))}return He}ua.prototype.populate=function(M,R,K){var ce=this.layers[0],Me=[],Ie=null;ce.type==="circle"&&(Ie=ce.layout.get("circle-sort-key"));for(var He=0,et=M;He<et.length;He+=1){var ht=et[He],Mt=ht.feature,Lt=ht.id,Bt=ht.index,Yt=ht.sourceLayerIndex,Ht=this.layers[0]._featureFilter.needGeometry,ln=Di(Mt,Ht);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),ln,K)){var dn=Ie?Ie.evaluate(ln,{},K):void 0,Ln={id:Lt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:Yt,index:Bt,geometry:Ht?ln.geometry:os(Mt),patterns:{},sortKey:dn};Me.push(Ln)}}Ie&&Me.sort(function(Ar,Sr){return Ar.sortKey-Sr.sortKey});for(var An=0,Bn=Me;An<Bn.length;An+=1){var Un=Bn[An],Xn=Un,rr=Xn.geometry,lr=Xn.index,br=Xn.sourceLayerIndex,yr=M[lr].feature;this.addFeature(Un,rr,lr,K),R.featureIndex.insert(yr,rr,lr,br,this.index)}},ua.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},ua.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ua.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ua.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,zn),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},ua.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ua.prototype.addFeature=function(M,R,K,ce){for(var Me=0,Ie=R;Me<Ie.length;Me+=1)for(var He=0,et=Ie[Me];He<et.length;He+=1){var ht=et[He],Mt=ht.x,Lt=ht.y;if(!(Mt<0||Mt>=ai||Lt<0||Lt>=ai)){var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,M.sortKey),Yt=Bt.vertexLength;Ja(this.layoutVertexArray,Mt,Lt,-1,-1),Ja(this.layoutVertexArray,Mt,Lt,1,-1),Ja(this.layoutVertexArray,Mt,Lt,1,1),Ja(this.layoutVertexArray,Mt,Lt,-1,1),this.indexArray.emplaceBack(Yt,Yt+1,Yt+2),this.indexArray.emplaceBack(Yt,Yt+3,Yt+2),Bt.vertexLength+=4,Bt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,{},ce)},Er("CircleBucket",ua,{omit:["layers"]});var t3=new Hi({"circle-sort-key":new Fr(je.layout_circle["circle-sort-key"])}),n3={paint:new Hi({"circle-radius":new Fr(je.paint_circle["circle-radius"]),"circle-color":new Fr(je.paint_circle["circle-color"]),"circle-blur":new Fr(je.paint_circle["circle-blur"]),"circle-opacity":new Fr(je.paint_circle["circle-opacity"]),"circle-translate":new Pr(je.paint_circle["circle-translate"]),"circle-translate-anchor":new Pr(je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Pr(je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Pr(je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Fr(je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Fr(je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Fr(je.paint_circle["circle-stroke-opacity"])}),layout:t3},zs=typeof Float32Array<"u"?Float32Array:Array;function lg(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function wm(M,R,K){var ce=R[0],Me=R[1],Ie=R[2],He=R[3],et=R[4],ht=R[5],Mt=R[6],Lt=R[7],Bt=R[8],Yt=R[9],Ht=R[10],ln=R[11],dn=R[12],Ln=R[13],An=R[14],Bn=R[15],Un=K[0],Xn=K[1],rr=K[2],lr=K[3];return M[0]=Un*ce+Xn*et+rr*Bt+lr*dn,M[1]=Un*Me+Xn*ht+rr*Yt+lr*Ln,M[2]=Un*Ie+Xn*Mt+rr*Ht+lr*An,M[3]=Un*He+Xn*Lt+rr*ln+lr*Bn,Un=K[4],Xn=K[5],rr=K[6],lr=K[7],M[4]=Un*ce+Xn*et+rr*Bt+lr*dn,M[5]=Un*Me+Xn*ht+rr*Yt+lr*Ln,M[6]=Un*Ie+Xn*Mt+rr*Ht+lr*An,M[7]=Un*He+Xn*Lt+rr*ln+lr*Bn,Un=K[8],Xn=K[9],rr=K[10],lr=K[11],M[8]=Un*ce+Xn*et+rr*Bt+lr*dn,M[9]=Un*Me+Xn*ht+rr*Yt+lr*Ln,M[10]=Un*Ie+Xn*Mt+rr*Ht+lr*An,M[11]=Un*He+Xn*Lt+rr*ln+lr*Bn,Un=K[12],Xn=K[13],rr=K[14],lr=K[15],M[12]=Un*ce+Xn*et+rr*Bt+lr*dn,M[13]=Un*Me+Xn*ht+rr*Yt+lr*Ln,M[14]=Un*Ie+Xn*Mt+rr*Ht+lr*An,M[15]=Un*He+Xn*Lt+rr*ln+lr*Bn,M}Math.hypot||(Math.hypot=function(){for(var M=arguments,R=0,K=arguments.length;K--;)R+=M[K]*M[K];return Math.sqrt(R)});var r3=wm,od,i3=function(M,R,K){return M[0]=R[0]-K[0],M[1]=R[1]-K[1],M[2]=R[2]-K[2],M};function sd(M,R,K){var ce=R[0],Me=R[1],Ie=R[2],He=R[3];return M[0]=K[0]*ce+K[4]*Me+K[8]*Ie+K[12]*He,M[1]=K[1]*ce+K[5]*Me+K[9]*Ie+K[13]*He,M[2]=K[2]*ce+K[6]*Me+K[10]*Ie+K[14]*He,M[3]=K[3]*ce+K[7]*Me+K[11]*Ie+K[15]*He,M}od=new zs(3),zs!=Float32Array&&(od[0]=0,od[1]=0,od[2]=0),function(){var M=new zs(4);zs!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0)}();var a3=function(M){var R=M[0],K=M[1];return R*R+K*K},o3=(function(){var M=new zs(2);zs!=Float32Array&&(M[0]=0,M[1]=0)}(),function(M){function R(K){M.call(this,K,n3)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new ua(K)},R.prototype.queryRadius=function(K){var ce=K;return Ph("circle-radius",this,ce)+Ph("circle-stroke-width",this,ce)+id(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(K,ce,Me,Ie,He,et,ht,Mt){for(var Lt=ad(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),et.angle,ht),Bt=this.paint.get("circle-radius").evaluate(ce,Me)+this.paint.get("circle-stroke-width").evaluate(ce,Me),Yt=this.paint.get("circle-pitch-alignment")==="map",Ht=Yt?Lt:function(br,yr){return br.map(function(Ar){return Tm(Ar,yr)})}(Lt,Mt),ln=Yt?Bt*ht:Bt,dn=0,Ln=Ie;dn<Ln.length;dn+=1)for(var An=0,Bn=Ln[dn];An<Bn.length;An+=1){var Un=Bn[An],Xn=Yt?Un:Tm(Un,Mt),rr=ln,lr=sd([],[Un.x,Un.y,0,1],Mt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?rr*=lr[3]/et.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(rr*=et.cameraToCenterDistance/lr[3]),ag(Ht,Xn,rr))return!0}return!1},R}(ui));function Tm(M,R){var K=sd([],[M.x,M.y,0,1],R);return new t(K[0]/K[3],K[1]/K[3])}var km=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(ua);function ug(M,R,K,ce){var Me=R.width,Ie=R.height;if(ce){if(ce instanceof Uint8ClampedArray)ce=new Uint8Array(ce.buffer);else if(ce.length!==Me*Ie*K)throw new RangeError("mismatched image size")}else ce=new Uint8Array(Me*Ie*K);return M.width=Me,M.height=Ie,M.data=ce,M}function Am(M,R,K){var ce=R.width,Me=R.height;if(ce!==M.width||Me!==M.height){var Ie=ug({},{width:ce,height:Me},K);cg(M,Ie,{x:0,y:0},{x:0,y:0},{width:Math.min(M.width,ce),height:Math.min(M.height,Me)},K),M.width=ce,M.height=Me,M.data=Ie.data}}function cg(M,R,K,ce,Me,Ie){if(Me.width===0||Me.height===0)return R;if(Me.width>M.width||Me.height>M.height||K.x>M.width-Me.width||K.y>M.height-Me.height)throw new RangeError("out of range source coordinates for image copy");if(Me.width>R.width||Me.height>R.height||ce.x>R.width-Me.width||ce.y>R.height-Me.height)throw new RangeError("out of range destination coordinates for image copy");for(var He=M.data,et=R.data,ht=0;ht<Me.height;ht++)for(var Mt=((K.y+ht)*M.width+K.x)*Ie,Lt=((ce.y+ht)*R.width+ce.x)*Ie,Bt=0;Bt<Me.width*Ie;Bt++)et[Lt+Bt]=He[Mt+Bt];return R}Er("HeatmapBucket",km,{omit:["layers"]});var Uc=function(M,R){ug(this,M,1,R)};Uc.prototype.resize=function(M){Am(this,M,1)},Uc.prototype.clone=function(){return new Uc({width:this.width,height:this.height},new Uint8Array(this.data))},Uc.copy=function(M,R,K,ce,Me){cg(M,R,K,ce,Me,1)};var qo=function(M,R){ug(this,M,4,R)};qo.prototype.resize=function(M){Am(this,M,4)},qo.prototype.replace=function(M,R){R?this.data.set(M):M instanceof Uint8ClampedArray?this.data=new Uint8Array(M.buffer):this.data=M},qo.prototype.clone=function(){return new qo({width:this.width,height:this.height},new Uint8Array(this.data))},qo.copy=function(M,R,K,ce,Me){cg(M,R,K,ce,Me,4)},Er("AlphaImage",Uc),Er("RGBAImage",qo);var s3={paint:new Hi({"heatmap-radius":new Fr(je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Fr(je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Pr(je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new as(je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Pr(je.paint_heatmap["heatmap-opacity"])})};function Mm(M){var R={},K=M.resolution||256,ce=M.clips?M.clips.length:1,Me=M.image||new qo({width:K,height:ce}),Ie=function(ln,dn,Ln){R[M.evaluationKey]=Ln;var An=M.expression.evaluate(R);Me.data[ln+dn+0]=Math.floor(255*An.r/An.a),Me.data[ln+dn+1]=Math.floor(255*An.g/An.a),Me.data[ln+dn+2]=Math.floor(255*An.b/An.a),Me.data[ln+dn+3]=Math.floor(255*An.a)};if(M.clips)for(var He=0,et=0;He<ce;++He,et+=4*K)for(var ht=0,Mt=0;ht<K;ht++,Mt+=4){var Lt=ht/(K-1),Bt=M.clips[He];Ie(et,Mt,Bt.start*(1-Lt)+Bt.end*Lt)}else for(var Yt=0,Ht=0;Yt<K;Yt++,Ht+=4)Ie(0,Ht,Yt/(K-1));return Me}var l3=function(M){function R(K){M.call(this,K,s3),this._updateColorRamp()}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new km(K)},R.prototype._handleSpecialPaintPropertyUpdate=function(K){K==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var K=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Mm({expression:K,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(ui),u3={paint:new Hi({"hillshade-illumination-direction":new Pr(je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Pr(je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Pr(je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Pr(je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Pr(je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Pr(je.paint_hillshade["hillshade-accent-color"])})},c3=function(M){function R(K){M.call(this,K,u3)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(ui),f3=Ai([{name:"a_pos",components:2,type:"Int16"}],4).members,fg=ld,h3=ld;function ld(M,R,K){K=K||2;var ce,Me,Ie,He,et,ht,Mt,Lt=R&&R.length,Bt=Lt?R[0]*K:M.length,Yt=Sm(M,0,Bt,K,!0),Ht=[];if(!Yt||Yt.next===Yt.prev)return Ht;if(Lt&&(Yt=function(dn,Ln,An,Bn){var Un,Xn,rr,lr=[];for(Un=0,Xn=Ln.length;Un<Xn;Un++)(rr=Sm(dn,Ln[Un]*Bn,Un<Xn-1?Ln[Un+1]*Bn:dn.length,Bn,!1))===rr.next&&(rr.steiner=!0),lr.push(b3(rr));for(lr.sort(m3),Un=0;Un<lr.length;Un++)y3(lr[Un],An),An=ic(An,An.next);return An}(M,R,Yt,K)),M.length>80*K){ce=Ie=M[0],Me=He=M[1];for(var ln=K;ln<Bt;ln+=K)(et=M[ln])<ce&&(ce=et),(ht=M[ln+1])<Me&&(Me=ht),et>Ie&&(Ie=et),ht>He&&(He=ht);Mt=(Mt=Math.max(Ie-ce,He-Me))!==0?1/Mt:0}return Oh(Yt,Ht,K,ce,Me,Mt),Ht}function Sm(M,R,K,ce,Me){var Ie,He;if(Me===dg(M,R,K,ce)>0)for(Ie=R;Ie<K;Ie+=ce)He=Cm(Ie,M[Ie],M[Ie+1],He);else for(Ie=K-ce;Ie>=R;Ie-=ce)He=Cm(Ie,M[Ie],M[Ie+1],He);return He&&ud(He,He.next)&&(zh(He),He=He.next),He}function ic(M,R){if(!M)return M;R||(R=M);var K,ce=M;do if(K=!1,ce.steiner||!ud(ce,ce.next)&&ma(ce.prev,ce,ce.next)!==0)ce=ce.next;else{if(zh(ce),(ce=R=ce.prev)===ce.next)break;K=!0}while(K||ce!==R);return R}function Oh(M,R,K,ce,Me,Ie,He){if(M){!He&&Ie&&function(Lt,Bt,Yt,Ht){var ln=Lt;do ln.z===null&&(ln.z=hg(ln.x,ln.y,Bt,Yt,Ht)),ln.prevZ=ln.prev,ln.nextZ=ln.next,ln=ln.next;while(ln!==Lt);ln.prevZ.nextZ=null,ln.prevZ=null,function(dn){var Ln,An,Bn,Un,Xn,rr,lr,br,yr=1;do{for(An=dn,dn=null,Xn=null,rr=0;An;){for(rr++,Bn=An,lr=0,Ln=0;Ln<yr&&(lr++,Bn=Bn.nextZ);Ln++);for(br=yr;lr>0||br>0&&Bn;)lr!==0&&(br===0||!Bn||An.z<=Bn.z)?(Un=An,An=An.nextZ,lr--):(Un=Bn,Bn=Bn.nextZ,br--),Xn?Xn.nextZ=Un:dn=Un,Un.prevZ=Xn,Xn=Un;An=Bn}Xn.nextZ=null,yr*=2}while(rr>1)}(ln)}(M,ce,Me,Ie);for(var et,ht,Mt=M;M.prev!==M.next;)if(et=M.prev,ht=M.next,Ie?d3(M,ce,Me,Ie):p3(M))R.push(et.i/K),R.push(M.i/K),R.push(ht.i/K),zh(M),M=ht.next,Mt=ht.next;else if((M=ht)===Mt){He?He===1?Oh(M=g3(ic(M),R,K),R,K,ce,Me,Ie,2):He===2&&v3(M,R,K,ce,Me,Ie):Oh(ic(M),R,K,ce,Me,Ie,1);break}}}function p3(M){var R=M.prev,K=M,ce=M.next;if(ma(R,K,ce)>=0)return!1;for(var Me=M.next.next;Me!==M.prev;){if(xf(R.x,R.y,K.x,K.y,ce.x,ce.y,Me.x,Me.y)&&ma(Me.prev,Me,Me.next)>=0)return!1;Me=Me.next}return!0}function d3(M,R,K,ce){var Me=M.prev,Ie=M,He=M.next;if(ma(Me,Ie,He)>=0)return!1;for(var et=Me.x<Ie.x?Me.x<He.x?Me.x:He.x:Ie.x<He.x?Ie.x:He.x,ht=Me.y<Ie.y?Me.y<He.y?Me.y:He.y:Ie.y<He.y?Ie.y:He.y,Mt=Me.x>Ie.x?Me.x>He.x?Me.x:He.x:Ie.x>He.x?Ie.x:He.x,Lt=Me.y>Ie.y?Me.y>He.y?Me.y:He.y:Ie.y>He.y?Ie.y:He.y,Bt=hg(et,ht,R,K,ce),Yt=hg(Mt,Lt,R,K,ce),Ht=M.prevZ,ln=M.nextZ;Ht&&Ht.z>=Bt&&ln&&ln.z<=Yt;){if(Ht!==M.prev&&Ht!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,He.x,He.y,Ht.x,Ht.y)&&ma(Ht.prev,Ht,Ht.next)>=0||(Ht=Ht.prevZ,ln!==M.prev&&ln!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,He.x,He.y,ln.x,ln.y)&&ma(ln.prev,ln,ln.next)>=0))return!1;ln=ln.nextZ}for(;Ht&&Ht.z>=Bt;){if(Ht!==M.prev&&Ht!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,He.x,He.y,Ht.x,Ht.y)&&ma(Ht.prev,Ht,Ht.next)>=0)return!1;Ht=Ht.prevZ}for(;ln&&ln.z<=Yt;){if(ln!==M.prev&&ln!==M.next&&xf(Me.x,Me.y,Ie.x,Ie.y,He.x,He.y,ln.x,ln.y)&&ma(ln.prev,ln,ln.next)>=0)return!1;ln=ln.nextZ}return!0}function g3(M,R,K){var ce=M;do{var Me=ce.prev,Ie=ce.next.next;!ud(Me,Ie)&&Em(Me,ce,ce.next,Ie)&&Ih(Me,Ie)&&Ih(Ie,Me)&&(R.push(Me.i/K),R.push(ce.i/K),R.push(Ie.i/K),zh(ce),zh(ce.next),ce=M=Ie),ce=ce.next}while(ce!==M);return ic(ce)}function v3(M,R,K,ce,Me,Ie){var He=M;do{for(var et=He.next.next;et!==He.prev;){if(He.i!==et.i&&_3(He,et)){var ht=Lm(He,et);return He=ic(He,He.next),ht=ic(ht,ht.next),Oh(He,R,K,ce,Me,Ie),void Oh(ht,R,K,ce,Me,Ie)}et=et.next}He=He.next}while(He!==M)}function m3(M,R){return M.x-R.x}function y3(M,R){if(R=function(ce,Me){var Ie,He=Me,et=ce.x,ht=ce.y,Mt=-1/0;do{if(ht<=He.y&&ht>=He.next.y&&He.next.y!==He.y){var Lt=He.x+(ht-He.y)*(He.next.x-He.x)/(He.next.y-He.y);if(Lt<=et&&Lt>Mt){if(Mt=Lt,Lt===et){if(ht===He.y)return He;if(ht===He.next.y)return He.next}Ie=He.x<He.next.x?He:He.next}}He=He.next}while(He!==Me);if(!Ie)return null;if(et===Mt)return Ie;var Bt,Yt=Ie,Ht=Ie.x,ln=Ie.y,dn=1/0;He=Ie;do et>=He.x&&He.x>=Ht&&et!==He.x&&xf(ht<ln?et:Mt,ht,Ht,ln,ht<ln?Mt:et,ht,He.x,He.y)&&(Bt=Math.abs(ht-He.y)/(et-He.x),Ih(He,ce)&&(Bt<dn||Bt===dn&&(He.x>Ie.x||He.x===Ie.x&&x3(Ie,He)))&&(Ie=He,dn=Bt)),He=He.next;while(He!==Yt);return Ie}(M,R)){var K=Lm(R,M);ic(R,R.next),ic(K,K.next)}}function x3(M,R){return ma(M.prev,M,R.prev)<0&&ma(R.next,M,M.next)<0}function hg(M,R,K,ce,Me){return(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-K)*Me)|M<<8))|M<<4))|M<<2))|M<<1))|(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-ce)*Me)|R<<8))|R<<4))|R<<2))|R<<1))<<1}function b3(M){var R=M,K=M;do(R.x<K.x||R.x===K.x&&R.y<K.y)&&(K=R),R=R.next;while(R!==M);return K}function xf(M,R,K,ce,Me,Ie,He,et){return(Me-He)*(R-et)-(M-He)*(Ie-et)>=0&&(M-He)*(ce-et)-(K-He)*(R-et)>=0&&(K-He)*(Ie-et)-(Me-He)*(ce-et)>=0}function _3(M,R){return M.next.i!==R.i&&M.prev.i!==R.i&&!function(K,ce){var Me=K;do{if(Me.i!==K.i&&Me.next.i!==K.i&&Me.i!==ce.i&&Me.next.i!==ce.i&&Em(Me,Me.next,K,ce))return!0;Me=Me.next}while(Me!==K);return!1}(M,R)&&(Ih(M,R)&&Ih(R,M)&&function(K,ce){var Me=K,Ie=!1,He=(K.x+ce.x)/2,et=(K.y+ce.y)/2;do Me.y>et!=Me.next.y>et&&Me.next.y!==Me.y&&He<(Me.next.x-Me.x)*(et-Me.y)/(Me.next.y-Me.y)+Me.x&&(Ie=!Ie),Me=Me.next;while(Me!==K);return Ie}(M,R)&&(ma(M.prev,M,R.prev)||ma(M,R.prev,R))||ud(M,R)&&ma(M.prev,M,M.next)>0&&ma(R.prev,R,R.next)>0)}function ma(M,R,K){return(R.y-M.y)*(K.x-R.x)-(R.x-M.x)*(K.y-R.y)}function ud(M,R){return M.x===R.x&&M.y===R.y}function Em(M,R,K,ce){var Me=fd(ma(M,R,K)),Ie=fd(ma(M,R,ce)),He=fd(ma(K,ce,M)),et=fd(ma(K,ce,R));return Me!==Ie&&He!==et||!(Me!==0||!cd(M,K,R))||!(Ie!==0||!cd(M,ce,R))||!(He!==0||!cd(K,M,ce))||!(et!==0||!cd(K,R,ce))}function cd(M,R,K){return R.x<=Math.max(M.x,K.x)&&R.x>=Math.min(M.x,K.x)&&R.y<=Math.max(M.y,K.y)&&R.y>=Math.min(M.y,K.y)}function fd(M){return M>0?1:M<0?-1:0}function Ih(M,R){return ma(M.prev,M,M.next)<0?ma(M,R,M.next)>=0&&ma(M,M.prev,R)>=0:ma(M,R,M.prev)<0||ma(M,M.next,R)<0}function Lm(M,R){var K=new pg(M.i,M.x,M.y),ce=new pg(R.i,R.x,R.y),Me=M.next,Ie=R.prev;return M.next=R,R.prev=M,K.next=Me,Me.prev=K,ce.next=K,K.prev=ce,Ie.next=ce,ce.prev=Ie,ce}function Cm(M,R,K,ce){var Me=new pg(M,R,K);return ce?(Me.next=ce.next,Me.prev=ce,ce.next.prev=Me,ce.next=Me):(Me.prev=Me,Me.next=Me),Me}function zh(M){M.next.prev=M.prev,M.prev.next=M.next,M.prevZ&&(M.prevZ.nextZ=M.nextZ),M.nextZ&&(M.nextZ.prevZ=M.prevZ)}function pg(M,R,K){this.i=M,this.x=R,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function dg(M,R,K,ce){for(var Me=0,Ie=R,He=K-ce;Ie<K;Ie+=ce)Me+=(M[He]-M[Ie])*(M[Ie+1]+M[He+1]),He=Ie;return Me}function w3(M,R,K,ce,Me){Pm(M,R,K,ce||M.length-1,Me||T3)}function Pm(M,R,K,ce,Me){for(;ce>K;){if(ce-K>600){var Ie=ce-K+1,He=R-K+1,et=Math.log(Ie),ht=.5*Math.exp(2*et/3),Mt=.5*Math.sqrt(et*ht*(Ie-ht)/Ie)*(He-Ie/2<0?-1:1);Pm(M,R,Math.max(K,Math.floor(R-He*ht/Ie+Mt)),Math.min(ce,Math.floor(R+(Ie-He)*ht/Ie+Mt)),Me)}var Lt=M[R],Bt=K,Yt=ce;for(Dh(M,K,R),Me(M[ce],Lt)>0&&Dh(M,K,ce);Bt<Yt;){for(Dh(M,Bt,Yt),Bt++,Yt--;Me(M[Bt],Lt)<0;)Bt++;for(;Me(M[Yt],Lt)>0;)Yt--}Me(M[K],Lt)===0?Dh(M,K,Yt):Dh(M,++Yt,ce),Yt<=R&&(K=Yt+1),R<=Yt&&(ce=Yt-1)}}function Dh(M,R,K){var ce=M[R];M[R]=M[K],M[K]=ce}function T3(M,R){return M<R?-1:M>R?1:0}function gg(M,R){var K=M.length;if(K<=1)return[M];for(var ce,Me,Ie=[],He=0;He<K;He++){var et=O(M[He]);et!==0&&(M[He].area=Math.abs(et),Me===void 0&&(Me=et<0),Me===et<0?(ce&&Ie.push(ce),ce=[M[He]]):ce.push(M[He]))}if(ce&&Ie.push(ce),R>1)for(var ht=0;ht<Ie.length;ht++)Ie[ht].length<=R||(w3(Ie[ht],R,1,Ie[ht].length-1,k3),Ie[ht]=Ie[ht].slice(0,R));return Ie}function k3(M,R){return R.area-M.area}function vg(M,R,K){for(var ce=K.patternDependencies,Me=!1,Ie=0,He=R;Ie<He.length;Ie+=1){var et=He[Ie].paint.get(M+"-pattern");et.isConstant()||(Me=!0);var ht=et.constantOr(null);ht&&(Me=!0,ce[ht.to]=!0,ce[ht.from]=!0)}return Me}function mg(M,R,K,ce,Me){for(var Ie=Me.patternDependencies,He=0,et=R;He<et.length;He+=1){var ht=et[He],Mt=ht.paint.get(M+"-pattern").value;if(Mt.kind!=="constant"){var Lt=Mt.evaluate({zoom:ce-1},K,{},Me.availableImages),Bt=Mt.evaluate({zoom:ce},K,{},Me.availableImages),Yt=Mt.evaluate({zoom:ce+1},K,{},Me.availableImages);Lt=Lt&&Lt.name?Lt.name:Lt,Bt=Bt&&Bt.name?Bt.name:Bt,Yt=Yt&&Yt.name?Yt.name:Yt,Ie[Lt]=!0,Ie[Bt]=!0,Ie[Yt]=!0,K.patterns[ht.id]={min:Lt,mid:Bt,max:Yt}}}return K}ld.deviation=function(M,R,K,ce){var Me=R&&R.length,Ie=Me?R[0]*K:M.length,He=Math.abs(dg(M,0,Ie,K));if(Me)for(var et=0,ht=R.length;et<ht;et++){var Mt=R[et]*K,Lt=et<ht-1?R[et+1]*K:M.length;He-=Math.abs(dg(M,Mt,Lt,K))}var Bt=0;for(et=0;et<ce.length;et+=3){var Yt=ce[et]*K,Ht=ce[et+1]*K,ln=ce[et+2]*K;Bt+=Math.abs((M[Yt]-M[ln])*(M[Ht+1]-M[Yt+1])-(M[Yt]-M[Ht])*(M[ln+1]-M[Yt+1]))}return He===0&&Bt===0?0:Math.abs((Bt-He)/He)},ld.flatten=function(M){for(var R=M[0][0].length,K={vertices:[],holes:[],dimensions:R},ce=0,Me=0;Me<M.length;Me++){for(var Ie=0;Ie<M[Me].length;Ie++)for(var He=0;He<R;He++)K.vertices.push(M[Me][Ie][He]);Me>0&&(ce+=M[Me-1].length,K.holes.push(ce))}return K},fg.default=h3;var Wl=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Is,this.indexArray=new we,this.indexArray2=new pt,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.segments2=new Wn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};Wl.prototype.populate=function(M,R,K){this.hasPattern=vg("fill",this.layers,R);for(var ce=this.layers[0].layout.get("fill-sort-key"),Me=[],Ie=0,He=M;Ie<He.length;Ie+=1){var et=He[Ie],ht=et.feature,Mt=et.id,Lt=et.index,Bt=et.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,Ht=Di(ht,Yt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Ht,K)){var ln=ce?ce.evaluate(Ht,{},K,R.availableImages):void 0,dn={id:Mt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Lt,geometry:Yt?Ht.geometry:os(ht),patterns:{},sortKey:ln};Me.push(dn)}}ce&&Me.sort(function(Ar,Sr){return Ar.sortKey-Sr.sortKey});for(var Ln=0,An=Me;Ln<An.length;Ln+=1){var Bn=An[Ln],Un=Bn,Xn=Un.geometry,rr=Un.index,lr=Un.sourceLayerIndex;if(this.hasPattern){var br=mg("fill",this.layers,Bn,this.zoom,R);this.patternFeatures.push(br)}else this.addFeature(Bn,Xn,rr,K,{});var yr=M[rr].feature;R.featureIndex.insert(yr,Xn,rr,lr,this.index)}},Wl.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},Wl.prototype.addFeatures=function(M,R,K){for(var ce=0,Me=this.patternFeatures;ce<Me.length;ce+=1){var Ie=Me[ce];this.addFeature(Ie,Ie.geometry,Ie.index,R,K)}},Wl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Wl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wl.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,f3),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.indexBuffer2=M.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(M),this.uploaded=!0},Wl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Wl.prototype.addFeature=function(M,R,K,ce,Me){for(var Ie=0,He=gg(R,500);Ie<He.length;Ie+=1){for(var et=He[Ie],ht=0,Mt=0,Lt=et;Mt<Lt.length;Mt+=1)ht+=Lt[Mt].length;for(var Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray),Yt=Bt.vertexLength,Ht=[],ln=[],dn=0,Ln=et;dn<Ln.length;dn+=1){var An=Ln[dn];if(An.length!==0){An!==et[0]&&ln.push(Ht.length/2);var Bn=this.segments2.prepareSegment(An.length,this.layoutVertexArray,this.indexArray2),Un=Bn.vertexLength;this.layoutVertexArray.emplaceBack(An[0].x,An[0].y),this.indexArray2.emplaceBack(Un+An.length-1,Un),Ht.push(An[0].x),Ht.push(An[0].y);for(var Xn=1;Xn<An.length;Xn++)this.layoutVertexArray.emplaceBack(An[Xn].x,An[Xn].y),this.indexArray2.emplaceBack(Un+Xn-1,Un+Xn),Ht.push(An[Xn].x),Ht.push(An[Xn].y);Bn.vertexLength+=An.length,Bn.primitiveLength+=An.length}}for(var rr=fg(Ht,ln),lr=0;lr<rr.length;lr+=3)this.indexArray.emplaceBack(Yt+rr[lr],Yt+rr[lr+1],Yt+rr[lr+2]);Bt.vertexLength+=ht,Bt.primitiveLength+=rr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Me,ce)},Er("FillBucket",Wl,{omit:["layers","patternFeatures"]});var A3=new Hi({"fill-sort-key":new Fr(je.layout_fill["fill-sort-key"])}),M3={paint:new Hi({"fill-antialias":new Pr(je.paint_fill["fill-antialias"]),"fill-opacity":new Fr(je.paint_fill["fill-opacity"]),"fill-color":new Fr(je.paint_fill["fill-color"]),"fill-outline-color":new Fr(je.paint_fill["fill-outline-color"]),"fill-translate":new Pr(je.paint_fill["fill-translate"]),"fill-translate-anchor":new Pr(je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Za(je.paint_fill["fill-pattern"])}),layout:A3},S3=function(M){function R(K){M.call(this,K,M3)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(K,ce){M.prototype.recalculate.call(this,K,ce);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(K){return new Wl(K)},R.prototype.queryRadius=function(){return id(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(K,ce,Me,Ie,He,et,ht){return td(ad(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),et.angle,ht),Ie)},R.prototype.isTileClipped=function(){return!0},R}(ui),E3=Ai([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Om=bf;function bf(M,R,K,ce,Me){this.properties={},this.extent=K,this.type=0,this._pbf=M,this._geometry=-1,this._keys=ce,this._values=Me,M.readFields(L3,this,R)}function L3(M,R,K){M==1?R.id=K.readVarint():M==2?function(ce,Me){for(var Ie=ce.readVarint()+ce.pos;ce.pos<Ie;){var He=Me._keys[ce.readVarint()],et=Me._values[ce.readVarint()];Me.properties[He]=et}}(K,R):M==3?R.type=K.readVarint():M==4&&(R._geometry=K.pos)}function C3(M){for(var R,K,ce=0,Me=0,Ie=M.length,He=Ie-1;Me<Ie;He=Me++)R=M[Me],ce+=((K=M[He]).x-R.x)*(R.y+K.y);return ce}bf.types=["Unknown","Point","LineString","Polygon"],bf.prototype.loadGeometry=function(){var M=this._pbf;M.pos=this._geometry;for(var R,K=M.readVarint()+M.pos,ce=1,Me=0,Ie=0,He=0,et=[];M.pos<K;){if(Me<=0){var ht=M.readVarint();ce=7&ht,Me=ht>>3}if(Me--,ce===1||ce===2)Ie+=M.readSVarint(),He+=M.readSVarint(),ce===1&&(R&&et.push(R),R=[]),R.push(new t(Ie,He));else{if(ce!==7)throw new Error("unknown command "+ce);R&&R.push(R[0].clone())}}return R&&et.push(R),et},bf.prototype.bbox=function(){var M=this._pbf;M.pos=this._geometry;for(var R=M.readVarint()+M.pos,K=1,ce=0,Me=0,Ie=0,He=1/0,et=-1/0,ht=1/0,Mt=-1/0;M.pos<R;){if(ce<=0){var Lt=M.readVarint();K=7&Lt,ce=Lt>>3}if(ce--,K===1||K===2)(Me+=M.readSVarint())<He&&(He=Me),Me>et&&(et=Me),(Ie+=M.readSVarint())<ht&&(ht=Ie),Ie>Mt&&(Mt=Ie);else if(K!==7)throw new Error("unknown command "+K)}return[He,ht,et,Mt]},bf.prototype.toGeoJSON=function(M,R,K){var ce,Me,Ie=this.extent*Math.pow(2,K),He=this.extent*M,et=this.extent*R,ht=this.loadGeometry(),Mt=bf.types[this.type];function Lt(Ht){for(var ln=0;ln<Ht.length;ln++){var dn=Ht[ln],Ln=180-360*(dn.y+et)/Ie;Ht[ln]=[360*(dn.x+He)/Ie-180,360/Math.PI*Math.atan(Math.exp(Ln*Math.PI/180))-90]}}switch(this.type){case 1:var Bt=[];for(ce=0;ce<ht.length;ce++)Bt[ce]=ht[ce][0];Lt(ht=Bt);break;case 2:for(ce=0;ce<ht.length;ce++)Lt(ht[ce]);break;case 3:for(ht=function(Ht){var ln=Ht.length;if(ln<=1)return[Ht];for(var dn,Ln,An=[],Bn=0;Bn<ln;Bn++){var Un=C3(Ht[Bn]);Un!==0&&(Ln===void 0&&(Ln=Un<0),Ln===Un<0?(dn&&An.push(dn),dn=[Ht[Bn]]):dn.push(Ht[Bn]))}return dn&&An.push(dn),An}(ht),ce=0;ce<ht.length;ce++)for(Me=0;Me<ht[ce].length;Me++)Lt(ht[ce][Me])}ht.length===1?ht=ht[0]:Mt="Multi"+Mt;var Yt={type:"Feature",geometry:{type:Mt,coordinates:ht},properties:this.properties};return"id"in this&&(Yt.id=this.id),Yt};var Im=zm;function zm(M,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=M,this._keys=[],this._values=[],this._features=[],M.readFields(P3,this,R),this.length=this._features.length}function P3(M,R,K){M===15?R.version=K.readVarint():M===1?R.name=K.readString():M===5?R.extent=K.readVarint():M===2?R._features.push(K.pos):M===3?R._keys.push(K.readString()):M===4&&R._values.push(function(ce){for(var Me=null,Ie=ce.readVarint()+ce.pos;ce.pos<Ie;){var He=ce.readVarint()>>3;Me=He===1?ce.readString():He===2?ce.readFloat():He===3?ce.readDouble():He===4?ce.readVarint64():He===5?ce.readVarint():He===6?ce.readSVarint():He===7?ce.readBoolean():null}return Me}(K))}function O3(M,R,K){if(M===3){var ce=new Im(K,K.readVarint()+K.pos);ce.length&&(R[ce.name]=ce)}}zm.prototype.feature=function(M){if(M<0||M>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[M];var R=this._pbf.readVarint()+this._pbf.pos;return new Om(this._pbf,R,this.extent,this._keys,this._values)};var _f={VectorTile:function(M,R){this.layers=M.readFields(O3,{},R)},VectorTileFeature:Om,VectorTileLayer:Im},I3=_f.VectorTileFeature.types,yg=Math.pow(2,13);function Rh(M,R,K,ce,Me,Ie,He,et){M.emplaceBack(R,K,2*Math.floor(ce*yg)+He,Me*yg*2,Ie*yg*2,Math.round(et))}var Yl=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new Qe,this.indexArray=new we,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function z3(M,R){return M.x===R.x&&(M.x<0||M.x>ai)||M.y===R.y&&(M.y<0||M.y>ai)}Yl.prototype.populate=function(M,R,K){this.features=[],this.hasPattern=vg("fill-extrusion",this.layers,R);for(var ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce],He=Ie.feature,et=Ie.id,ht=Ie.index,Mt=Ie.sourceLayerIndex,Lt=this.layers[0]._featureFilter.needGeometry,Bt=Di(He,Lt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Bt,K)){var Yt={id:et,sourceLayerIndex:Mt,index:ht,geometry:Lt?Bt.geometry:os(He),properties:He.properties,type:He.type,patterns:{}};this.hasPattern?this.features.push(mg("fill-extrusion",this.layers,Yt,this.zoom,R)):this.addFeature(Yt,Yt.geometry,ht,K,{}),R.featureIndex.insert(He,Yt.geometry,ht,Mt,this.index,!0)}}},Yl.prototype.addFeatures=function(M,R,K){for(var ce=0,Me=this.features;ce<Me.length;ce+=1){var Ie=Me[ce],He=Ie.geometry;this.addFeature(Ie,He,Ie.index,R,K)}},Yl.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},Yl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Yl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Yl.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,E3),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Yl.prototype.addFeature=function(M,R,K,ce,Me){for(var Ie=0,He=gg(R,500);Ie<He.length;Ie+=1){for(var et=He[Ie],ht=0,Mt=0,Lt=et;Mt<Lt.length;Mt+=1)ht+=Lt[Mt].length;for(var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Yt=0,Ht=et;Yt<Ht.length;Yt+=1){var ln=Ht[Yt];if(ln.length!==0&&!((ri=ln).every(function(Yr){return Yr.x<0})||ri.every(function(Yr){return Yr.x>ai})||ri.every(function(Yr){return Yr.y<0})||ri.every(function(Yr){return Yr.y>ai})))for(var dn=0,Ln=0;Ln<ln.length;Ln++){var An=ln[Ln];if(Ln>=1){var Bn=ln[Ln-1];if(!z3(An,Bn)){Bt.vertexLength+4>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Un=An.sub(Bn)._perp()._unit(),Xn=Bn.dist(An);dn+Xn>32768&&(dn=0),Rh(this.layoutVertexArray,An.x,An.y,Un.x,Un.y,0,0,dn),Rh(this.layoutVertexArray,An.x,An.y,Un.x,Un.y,0,1,dn),dn+=Xn,Rh(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,0,dn),Rh(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,1,dn);var rr=Bt.vertexLength;this.indexArray.emplaceBack(rr,rr+2,rr+1),this.indexArray.emplaceBack(rr+1,rr+2,rr+3),Bt.vertexLength+=4,Bt.primitiveLength+=2}}}}if(Bt.vertexLength+ht>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray)),I3[M.type]==="Polygon"){for(var lr=[],br=[],yr=Bt.vertexLength,Ar=0,Sr=et;Ar<Sr.length;Ar+=1){var qr=Sr[Ar];if(qr.length!==0){qr!==et[0]&&br.push(lr.length/2);for(var zr=0;zr<qr.length;zr++){var Hr=qr[zr];Rh(this.layoutVertexArray,Hr.x,Hr.y,0,0,1,1,0),lr.push(Hr.x),lr.push(Hr.y)}}}for(var Rr=fg(lr,br),Ir=0;Ir<Rr.length;Ir+=3)this.indexArray.emplaceBack(yr+Rr[Ir],yr+Rr[Ir+2],yr+Rr[Ir+1]);Bt.primitiveLength+=Rr.length/3,Bt.vertexLength+=ht}}var ri;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Me,ce)},Er("FillExtrusionBucket",Yl,{omit:["layers","features"]});var D3={paint:new Hi({"fill-extrusion-opacity":new Pr(je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Fr(je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Pr(je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Pr(je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Za(je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Fr(je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Fr(je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Pr(je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},R3=function(M){function R(K){M.call(this,K,D3)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new Yl(K)},R.prototype.queryRadius=function(){return id(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(K,ce,Me,Ie,He,et,ht,Mt){var Lt=ad(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),et.angle,ht),Bt=this.paint.get("fill-extrusion-height").evaluate(ce,Me),Yt=this.paint.get("fill-extrusion-base").evaluate(ce,Me),Ht=function(dn,Ln,An,Bn){for(var Un=[],Xn=0,rr=dn;Xn<rr.length;Xn+=1){var lr=rr[Xn],br=[lr.x,lr.y,Bn,1];sd(br,br,Ln),Un.push(new t(br[0]/br[3],br[1]/br[3]))}return Un}(Lt,Mt,0,0),ln=function(dn,Ln,An,Bn){for(var Un=[],Xn=[],rr=Bn[8]*Ln,lr=Bn[9]*Ln,br=Bn[10]*Ln,yr=Bn[11]*Ln,Ar=Bn[8]*An,Sr=Bn[9]*An,qr=Bn[10]*An,zr=Bn[11]*An,Hr=0,Rr=dn;Hr<Rr.length;Hr+=1){for(var Ir=[],ri=[],Yr=0,Ci=Rr[Hr];Yr<Ci.length;Yr+=1){var Vr=Ci[Yr],ki=Vr.x,Fi=Vr.y,ji=Bn[0]*ki+Bn[4]*Fi+Bn[12],Ui=Bn[1]*ki+Bn[5]*Fi+Bn[13],Pi=Bn[2]*ki+Bn[6]*Fi+Bn[14],ba=Bn[3]*ki+Bn[7]*Fi+Bn[15],Yi=Pi+br,Fa=ba+yr,$a=ji+Ar,Ha=Ui+Sr,Mo=Pi+qr,qa=ba+zr,Sa=new t((ji+rr)/Fa,(Ui+lr)/Fa);Sa.z=Yi/Fa,Ir.push(Sa);var Ga=new t($a/qa,Ha/qa);Ga.z=Mo/qa,ri.push(Ga)}Un.push(Ir),Xn.push(ri)}return[Un,Xn]}(Ie,Yt,Bt,Mt);return function(dn,Ln,An){var Bn=1/0;td(An,Ln)&&(Bn=Dm(An,Ln[0]));for(var Un=0;Un<Ln.length;Un++)for(var Xn=Ln[Un],rr=dn[Un],lr=0;lr<Xn.length-1;lr++){var br=Xn[lr],yr=Xn[lr+1],Ar=rr[lr],Sr=[br,yr,rr[lr+1],Ar,br];jc(An,Sr)&&(Bn=Math.min(Bn,Dm(An,Sr)))}return Bn!==1/0&&Bn}(ln[0],ln[1],Ht)},R}(ui);function Fh(M,R){return M.x*R.x+M.y*R.y}function Dm(M,R){if(M.length===1){for(var K,ce=0,Me=R[ce++];!K||Me.equals(K);)if(!(K=R[ce++]))return 1/0;for(;ce<R.length;ce++){var Ie=R[ce],He=M[0],et=K.sub(Me),ht=Ie.sub(Me),Mt=He.sub(Me),Lt=Fh(et,et),Bt=Fh(et,ht),Yt=Fh(ht,ht),Ht=Fh(Mt,et),ln=Fh(Mt,ht),dn=Lt*Yt-Bt*Bt,Ln=(Yt*Ht-Bt*ln)/dn,An=(Lt*ln-Bt*Ht)/dn,Bn=1-Ln-An,Un=Me.z*Bn+K.z*Ln+Ie.z*An;if(isFinite(Un))return Un}return 1/0}for(var Xn=1/0,rr=0,lr=R;rr<lr.length;rr+=1){var br=lr[rr];Xn=Math.min(Xn,br.z)}return Xn}var F3=Ai([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,B3=Ai([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,N3=_f.VectorTileFeature.types,j3=Math.cos(Math.PI/180*37.5),Rm=Math.pow(2,14)/.5,Ao=function(M){var R=this;this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(K){return K.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(K){R.gradients[K.id]={}}),this.layoutVertexArray=new nt,this.layoutVertexArray2=new ct,this.indexArray=new we,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(K){return K.isStateDependent()}).map(function(K){return K.id})};Ao.prototype.populate=function(M,R,K){this.hasPattern=vg("line",this.layers,R);for(var ce=this.layers[0].layout.get("line-sort-key"),Me=[],Ie=0,He=M;Ie<He.length;Ie+=1){var et=He[Ie],ht=et.feature,Mt=et.id,Lt=et.index,Bt=et.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,Ht=Di(ht,Yt);if(this.layers[0]._featureFilter.filter(new $r(this.zoom),Ht,K)){var ln=ce?ce.evaluate(Ht,{},K):void 0,dn={id:Mt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Lt,geometry:Yt?Ht.geometry:os(ht),patterns:{},sortKey:ln};Me.push(dn)}}ce&&Me.sort(function(Ar,Sr){return Ar.sortKey-Sr.sortKey});for(var Ln=0,An=Me;Ln<An.length;Ln+=1){var Bn=An[Ln],Un=Bn,Xn=Un.geometry,rr=Un.index,lr=Un.sourceLayerIndex;if(this.hasPattern){var br=mg("line",this.layers,Bn,this.zoom,R);this.patternFeatures.push(br)}else this.addFeature(Bn,Xn,rr,K,{});var yr=M[rr].feature;R.featureIndex.insert(yr,Xn,rr,lr,this.index)}},Ao.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},Ao.prototype.addFeatures=function(M,R,K){for(var ce=0,Me=this.patternFeatures;ce<Me.length;ce+=1){var Ie=Me[ce];this.addFeature(Ie,Ie.geometry,Ie.index,R,K)}},Ao.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ao.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ao.prototype.upload=function(M){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=M.createVertexBuffer(this.layoutVertexArray2,B3)),this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,F3),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Ao.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ao.prototype.lineFeatureClips=function(M){if(M.properties&&M.properties.hasOwnProperty("mapbox_clip_start")&&M.properties.hasOwnProperty("mapbox_clip_end"))return{start:+M.properties.mapbox_clip_start,end:+M.properties.mapbox_clip_end}},Ao.prototype.addFeature=function(M,R,K,ce,Me){var Ie=this.layers[0].layout,He=Ie.get("line-join").evaluate(M,{}),et=Ie.get("line-cap"),ht=Ie.get("line-miter-limit"),Mt=Ie.get("line-round-limit");this.lineClips=this.lineFeatureClips(M);for(var Lt=0,Bt=R;Lt<Bt.length;Lt+=1){var Yt=Bt[Lt];this.addLine(Yt,M,He,et,ht,Mt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Me,ce)},Ao.prototype.addLine=function(M,R,K,ce,Me,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var He=0;He<M.length-1;He++)this.totalDistance+=M[He].dist(M[He+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var et=N3[R.type]==="Polygon",ht=M.length;ht>=2&&M[ht-1].equals(M[ht-2]);)ht--;for(var Mt=0;Mt<ht-1&&M[Mt].equals(M[Mt+1]);)Mt++;if(!(ht<(et?3:2))){K==="bevel"&&(Me=1.05);var Lt,Bt=this.overscaling<=16?15*ai/(512*this.overscaling):0,Yt=this.segments.prepareSegment(10*ht,this.layoutVertexArray,this.indexArray),Ht=void 0,ln=void 0,dn=void 0,Ln=void 0;this.e1=this.e2=-1,et&&(Lt=M[ht-2],Ln=M[Mt].sub(Lt)._unit()._perp());for(var An=Mt;An<ht;An++)if(!(ln=An===ht-1?et?M[Mt+1]:void 0:M[An+1])||!M[An].equals(ln)){Ln&&(dn=Ln),Lt&&(Ht=Lt),Lt=M[An],Ln=ln?ln.sub(Lt)._unit()._perp():dn;var Bn=(dn=dn||Ln).add(Ln);Bn.x===0&&Bn.y===0||Bn._unit();var Un=dn.x*Ln.x+dn.y*Ln.y,Xn=Bn.x*Ln.x+Bn.y*Ln.y,rr=Xn!==0?1/Xn:1/0,lr=2*Math.sqrt(2-2*Xn),br=Xn<j3&&Ht&&ln,yr=dn.x*Ln.y-dn.y*Ln.x>0;if(br&&An>Mt){var Ar=Lt.dist(Ht);if(Ar>2*Bt){var Sr=Lt.sub(Lt.sub(Ht)._mult(Bt/Ar)._round());this.updateDistance(Ht,Sr),this.addCurrentVertex(Sr,dn,0,0,Yt),Ht=Sr}}var qr=Ht&&ln,zr=qr?K:et?"butt":ce;if(qr&&zr==="round"&&(rr<Ie?zr="miter":rr<=2&&(zr="fakeround")),zr==="miter"&&rr>Me&&(zr="bevel"),zr==="bevel"&&(rr>2&&(zr="flipbevel"),rr<Me&&(zr="miter")),Ht&&this.updateDistance(Ht,Lt),zr==="miter")Bn._mult(rr),this.addCurrentVertex(Lt,Bn,0,0,Yt);else if(zr==="flipbevel"){if(rr>100)Bn=Ln.mult(-1);else{var Hr=rr*dn.add(Ln).mag()/dn.sub(Ln).mag();Bn._perp()._mult(Hr*(yr?-1:1))}this.addCurrentVertex(Lt,Bn,0,0,Yt),this.addCurrentVertex(Lt,Bn.mult(-1),0,0,Yt)}else if(zr==="bevel"||zr==="fakeround"){var Rr=-Math.sqrt(rr*rr-1),Ir=yr?Rr:0,ri=yr?0:Rr;if(Ht&&this.addCurrentVertex(Lt,dn,Ir,ri,Yt),zr==="fakeround")for(var Yr=Math.round(180*lr/Math.PI/20),Ci=1;Ci<Yr;Ci++){var Vr=Ci/Yr;if(Vr!==.5){var ki=Vr-.5;Vr+=Vr*ki*(Vr-1)*((1.0904+Un*(Un*(3.55645-1.43519*Un)-3.2452))*ki*ki+(.848013+Un*(.215638*Un-1.06021)))}var Fi=Ln.sub(dn)._mult(Vr)._add(dn)._unit()._mult(yr?-1:1);this.addHalfVertex(Lt,Fi.x,Fi.y,!1,yr,0,Yt)}ln&&this.addCurrentVertex(Lt,Ln,-Ir,-ri,Yt)}else if(zr==="butt")this.addCurrentVertex(Lt,Bn,0,0,Yt);else if(zr==="square"){var ji=Ht?1:-1;this.addCurrentVertex(Lt,Bn,ji,ji,Yt)}else zr==="round"&&(Ht&&(this.addCurrentVertex(Lt,dn,0,0,Yt),this.addCurrentVertex(Lt,dn,1,1,Yt,!0)),ln&&(this.addCurrentVertex(Lt,Ln,-1,-1,Yt,!0),this.addCurrentVertex(Lt,Ln,0,0,Yt)));if(br&&An<ht-1){var Ui=Lt.dist(ln);if(Ui>2*Bt){var Pi=Lt.add(ln.sub(Lt)._mult(Bt/Ui)._round());this.updateDistance(Lt,Pi),this.addCurrentVertex(Pi,Ln,0,0,Yt),Lt=Pi}}}}},Ao.prototype.addCurrentVertex=function(M,R,K,ce,Me,Ie){Ie===void 0&&(Ie=!1);var He=R.x+R.y*K,et=R.y-R.x*K,ht=-R.x+R.y*ce,Mt=-R.y-R.x*ce;this.addHalfVertex(M,He,et,Ie,!1,K,Me),this.addHalfVertex(M,ht,Mt,Ie,!0,-ce,Me),this.distance>Rm/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(M,R,K,ce,Me,Ie))},Ao.prototype.addHalfVertex=function(M,R,K,ce,Me,Ie,He){var et=M.x,ht=M.y,Mt=.5*(this.lineClips?this.scaledDistance*(Rm-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((et<<1)+(ce?1:0),(ht<<1)+(Me?1:0),Math.round(63*R)+128,Math.round(63*K)+128,1+(Ie===0?0:Ie<0?-1:1)|(63&Mt)<<2,Mt>>6),this.lineClips){var Lt=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(Lt,this.lineClipsArray.length)}var Bt=He.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Bt),He.primitiveLength++),Me?this.e2=Bt:this.e1=Bt},Ao.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ao.prototype.updateDistance=function(M,R){this.distance+=M.dist(R),this.updateScaledDistance()},Er("LineBucket",Ao,{omit:["layers","patternFeatures"]});var U3=new Hi({"line-cap":new Pr(je.layout_line["line-cap"]),"line-join":new Fr(je.layout_line["line-join"]),"line-miter-limit":new Pr(je.layout_line["line-miter-limit"]),"line-round-limit":new Pr(je.layout_line["line-round-limit"]),"line-sort-key":new Fr(je.layout_line["line-sort-key"])}),Fm={paint:new Hi({"line-opacity":new Fr(je.paint_line["line-opacity"]),"line-color":new Fr(je.paint_line["line-color"]),"line-translate":new Pr(je.paint_line["line-translate"]),"line-translate-anchor":new Pr(je.paint_line["line-translate-anchor"]),"line-width":new Fr(je.paint_line["line-width"]),"line-gap-width":new Fr(je.paint_line["line-gap-width"]),"line-offset":new Fr(je.paint_line["line-offset"]),"line-blur":new Fr(je.paint_line["line-blur"]),"line-dasharray":new Vo(je.paint_line["line-dasharray"]),"line-pattern":new Za(je.paint_line["line-pattern"]),"line-gradient":new as(je.paint_line["line-gradient"])}),layout:U3},V3=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(K,ce){return ce=new $r(Math.floor(ce.zoom),{now:ce.now,fadeDuration:ce.fadeDuration,zoomHistory:ce.zoomHistory,transition:ce.transition}),M.prototype.possiblyEvaluate.call(this,K,ce)},R.prototype.evaluate=function(K,ce,Me,Ie){return ce=c({},ce,{zoom:Math.floor(ce.zoom)}),M.prototype.evaluate.call(this,K,ce,Me,Ie)},R}(Fr),Bm=new V3(Fm.paint.properties["line-width"].specification);Bm.useIntegerZoom=!0;var H3=function(M){function R(K){M.call(this,K,Fm),this.gradientVersion=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(K){if(K==="line-gradient"){var ce=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ce._styleExpression.expression instanceof Cr,this.gradientVersion=(this.gradientVersion+1)%n}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(K,ce){M.prototype.recalculate.call(this,K,ce),this.paint._values["line-floorwidth"]=Bm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},R.prototype.createBucket=function(K){return new Ao(K)},R.prototype.queryRadius=function(K){var ce=K,Me=Nm(Ph("line-width",this,ce),Ph("line-gap-width",this,ce)),Ie=Ph("line-offset",this,ce);return Me/2+Math.abs(Ie)+id(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(K,ce,Me,Ie,He,et,ht){var Mt=ad(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),et.angle,ht),Lt=ht/2*Nm(this.paint.get("line-width").evaluate(ce,Me),this.paint.get("line-gap-width").evaluate(ce,Me)),Bt=this.paint.get("line-offset").evaluate(ce,Me);return Bt&&(Ie=function(Yt,Ht){for(var ln=[],dn=new t(0,0),Ln=0;Ln<Yt.length;Ln++){for(var An=Yt[Ln],Bn=[],Un=0;Un<An.length;Un++){var Xn=An[Un-1],rr=An[Un],lr=An[Un+1],br=Un===0?dn:rr.sub(Xn)._unit()._perp(),yr=Un===An.length-1?dn:lr.sub(rr)._unit()._perp(),Ar=br._add(yr)._unit(),Sr=Ar.x*yr.x+Ar.y*yr.y;Ar._mult(1/Sr),Bn.push(Ar._mult(Ht)._add(rr))}ln.push(Bn)}return ln}(Ie,Bt*ht)),function(Yt,Ht,ln){for(var dn=0;dn<Ht.length;dn++){var Ln=Ht[dn];if(Yt.length>=3){for(var An=0;An<Ln.length;An++)if(gu(Yt,Ln[An]))return!0}if(og(Yt,Ln,ln))return!0}return!1}(Mt,Ie,Lt)},R.prototype.isTileClipped=function(){return!0},R}(ui);function Nm(M,R){return R>0?R+2*M:M}var q3=Ai([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),G3=Ai([{name:"a_projected_pos",components:3,type:"Float32"}],4),W3=(Ai([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ai([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),jm=(Ai([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ai([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Y3=Ai([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function X3(M,R,K){return M.sections.forEach(function(ce){ce.text=function(Me,Ie,He){var et=Ie.layout.get("text-transform").evaluate(He,{});return et==="uppercase"?Me=Me.toLocaleUpperCase():et==="lowercase"&&(Me=Me.toLocaleLowerCase()),Da.applyArabicShaping&&(Me=Da.applyArabicShaping(Me)),Me}(ce.text,R,K)}),M}Ai([{name:"triangle",components:3,type:"Uint16"}]),Ai([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ai([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ai([{type:"Float32",name:"offsetX"}]),Ai([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Bh={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Va=24,Um=function(M,R,K,ce,Me){var Ie,He,et=8*Me-ce-1,ht=(1<<et)-1,Mt=ht>>1,Lt=-7,Bt=Me-1,Yt=-1,Ht=M[R+Bt];for(Bt+=Yt,Ie=Ht&(1<<-Lt)-1,Ht>>=-Lt,Lt+=et;Lt>0;Ie=256*Ie+M[R+Bt],Bt+=Yt,Lt-=8);for(He=Ie&(1<<-Lt)-1,Ie>>=-Lt,Lt+=ce;Lt>0;He=256*He+M[R+Bt],Bt+=Yt,Lt-=8);if(Ie===0)Ie=1-Mt;else{if(Ie===ht)return He?NaN:1/0*(Ht?-1:1);He+=Math.pow(2,ce),Ie-=Mt}return(Ht?-1:1)*He*Math.pow(2,Ie-ce)},Vm=function(M,R,K,ce,Me,Ie){var He,et,ht,Mt=8*Ie-Me-1,Lt=(1<<Mt)-1,Bt=Lt>>1,Yt=Me===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ht=0,ln=1,dn=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(et=isNaN(R)?1:0,He=Lt):(He=Math.floor(Math.log(R)/Math.LN2),R*(ht=Math.pow(2,-He))<1&&(He--,ht*=2),(R+=He+Bt>=1?Yt/ht:Yt*Math.pow(2,1-Bt))*ht>=2&&(He++,ht/=2),He+Bt>=Lt?(et=0,He=Lt):He+Bt>=1?(et=(R*ht-1)*Math.pow(2,Me),He+=Bt):(et=R*Math.pow(2,Bt-1)*Math.pow(2,Me),He=0));Me>=8;M[K+Ht]=255&et,Ht+=ln,et/=256,Me-=8);for(He=He<<Me|et,Mt+=Me;Mt>0;M[K+Ht]=255&He,Ht+=ln,He/=256,Mt-=8);M[K+Ht-ln]|=128*dn},hd=Ri;function Ri(M){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(M)?M:new Uint8Array(M||0),this.pos=0,this.type=0,this.length=this.buf.length}Ri.Varint=0,Ri.Fixed64=1,Ri.Bytes=2,Ri.Fixed32=5;var xg=4294967296,Hm=1/xg,qm=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ou(M){return M.type===Ri.Bytes?M.readVarint()+M.pos:M.pos+1}function wf(M,R,K){return K?4294967296*R+(M>>>0):4294967296*(R>>>0)+(M>>>0)}function Gm(M,R,K){var ce=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(7*Math.LN2));K.realloc(ce);for(var Me=K.pos-1;Me>=M;Me--)K.buf[Me+ce]=K.buf[Me]}function Z3(M,R){for(var K=0;K<M.length;K++)R.writeVarint(M[K])}function K3(M,R){for(var K=0;K<M.length;K++)R.writeSVarint(M[K])}function J3(M,R){for(var K=0;K<M.length;K++)R.writeFloat(M[K])}function $3(M,R){for(var K=0;K<M.length;K++)R.writeDouble(M[K])}function Q3(M,R){for(var K=0;K<M.length;K++)R.writeBoolean(M[K])}function ew(M,R){for(var K=0;K<M.length;K++)R.writeFixed32(M[K])}function tw(M,R){for(var K=0;K<M.length;K++)R.writeSFixed32(M[K])}function nw(M,R){for(var K=0;K<M.length;K++)R.writeFixed64(M[K])}function rw(M,R){for(var K=0;K<M.length;K++)R.writeSFixed64(M[K])}function pd(M,R){return(M[R]|M[R+1]<<8|M[R+2]<<16)+16777216*M[R+3]}function Tf(M,R,K){M[K]=R,M[K+1]=R>>>8,M[K+2]=R>>>16,M[K+3]=R>>>24}function Wm(M,R){return(M[R]|M[R+1]<<8|M[R+2]<<16)+(M[R+3]<<24)}Ri.prototype={destroy:function(){this.buf=null},readFields:function(M,R,K){for(K=K||this.length;this.pos<K;){var ce=this.readVarint(),Me=ce>>3,Ie=this.pos;this.type=7&ce,M(Me,R,this),this.pos===Ie&&this.skip(ce)}return R},readMessage:function(M,R){return this.readFields(M,R,this.readVarint()+this.pos)},readFixed32:function(){var M=pd(this.buf,this.pos);return this.pos+=4,M},readSFixed32:function(){var M=Wm(this.buf,this.pos);return this.pos+=4,M},readFixed64:function(){var M=pd(this.buf,this.pos)+pd(this.buf,this.pos+4)*xg;return this.pos+=8,M},readSFixed64:function(){var M=pd(this.buf,this.pos)+Wm(this.buf,this.pos+4)*xg;return this.pos+=8,M},readFloat:function(){var M=Um(this.buf,this.pos,!0,23,4);return this.pos+=4,M},readDouble:function(){var M=Um(this.buf,this.pos,!0,52,8);return this.pos+=8,M},readVarint:function(M){var R,K,ce=this.buf;return R=127&(K=ce[this.pos++]),K<128?R:(R|=(127&(K=ce[this.pos++]))<<7,K<128?R:(R|=(127&(K=ce[this.pos++]))<<14,K<128?R:(R|=(127&(K=ce[this.pos++]))<<21,K<128?R:function(Me,Ie,He){var et,ht,Mt=He.buf;if(et=(112&(ht=Mt[He.pos++]))>>4,ht<128||(et|=(127&(ht=Mt[He.pos++]))<<3,ht<128)||(et|=(127&(ht=Mt[He.pos++]))<<10,ht<128)||(et|=(127&(ht=Mt[He.pos++]))<<17,ht<128)||(et|=(127&(ht=Mt[He.pos++]))<<24,ht<128)||(et|=(1&(ht=Mt[He.pos++]))<<31,ht<128))return wf(Me,et,Ie);throw new Error("Expected varint not more than 10 bytes")}(R|=(15&(K=ce[this.pos]))<<28,M,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var M=this.readVarint();return M%2==1?(M+1)/-2:M/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var M=this.readVarint()+this.pos,R=this.pos;return this.pos=M,M-R>=12&&qm?function(K,ce,Me){return qm.decode(K.subarray(ce,Me))}(this.buf,R,M):function(K,ce,Me){for(var Ie="",He=ce;He<Me;){var et,ht,Mt,Lt=K[He],Bt=null,Yt=Lt>239?4:Lt>223?3:Lt>191?2:1;if(He+Yt>Me)break;Yt===1?Lt<128&&(Bt=Lt):Yt===2?(192&(et=K[He+1]))==128&&(Bt=(31&Lt)<<6|63&et)<=127&&(Bt=null):Yt===3?(et=K[He+1],ht=K[He+2],(192&et)==128&&(192&ht)==128&&((Bt=(15&Lt)<<12|(63&et)<<6|63&ht)<=2047||Bt>=55296&&Bt<=57343)&&(Bt=null)):Yt===4&&(et=K[He+1],ht=K[He+2],Mt=K[He+3],(192&et)==128&&(192&ht)==128&&(192&Mt)==128&&((Bt=(15&Lt)<<18|(63&et)<<12|(63&ht)<<6|63&Mt)<=65535||Bt>=1114112)&&(Bt=null)),Bt===null?(Bt=65533,Yt=1):Bt>65535&&(Bt-=65536,Ie+=String.fromCharCode(Bt>>>10&1023|55296),Bt=56320|1023&Bt),Ie+=String.fromCharCode(Bt),He+=Yt}return Ie}(this.buf,R,M)},readBytes:function(){var M=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,M);return this.pos=M,R},readPackedVarint:function(M,R){if(this.type!==Ri.Bytes)return M.push(this.readVarint(R));var K=Ou(this);for(M=M||[];this.pos<K;)M.push(this.readVarint(R));return M},readPackedSVarint:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSVarint());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readSVarint());return M},readPackedBoolean:function(M){if(this.type!==Ri.Bytes)return M.push(this.readBoolean());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readBoolean());return M},readPackedFloat:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFloat());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readFloat());return M},readPackedDouble:function(M){if(this.type!==Ri.Bytes)return M.push(this.readDouble());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readDouble());return M},readPackedFixed32:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFixed32());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readFixed32());return M},readPackedSFixed32:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSFixed32());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readSFixed32());return M},readPackedFixed64:function(M){if(this.type!==Ri.Bytes)return M.push(this.readFixed64());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readFixed64());return M},readPackedSFixed64:function(M){if(this.type!==Ri.Bytes)return M.push(this.readSFixed64());var R=Ou(this);for(M=M||[];this.pos<R;)M.push(this.readSFixed64());return M},skip:function(M){var R=7&M;if(R===Ri.Varint)for(;this.buf[this.pos++]>127;);else if(R===Ri.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Ri.Fixed32)this.pos+=4;else{if(R!==Ri.Fixed64)throw new Error("Unimplemented type: "+R);this.pos+=8}},writeTag:function(M,R){this.writeVarint(M<<3|R)},realloc:function(M){for(var R=this.length||16;R<this.pos+M;)R*=2;if(R!==this.length){var K=new Uint8Array(R);K.set(this.buf),this.buf=K,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(M){this.realloc(4),Tf(this.buf,M,this.pos),this.pos+=4},writeSFixed32:function(M){this.realloc(4),Tf(this.buf,M,this.pos),this.pos+=4},writeFixed64:function(M){this.realloc(8),Tf(this.buf,-1&M,this.pos),Tf(this.buf,Math.floor(M*Hm),this.pos+4),this.pos+=8},writeSFixed64:function(M){this.realloc(8),Tf(this.buf,-1&M,this.pos),Tf(this.buf,Math.floor(M*Hm),this.pos+4),this.pos+=8},writeVarint:function(M){(M=+M||0)>268435455||M<0?function(R,K){var ce,Me;if(R>=0?(ce=R%4294967296|0,Me=R/4294967296|0):(Me=~(-R/4294967296),4294967295^(ce=~(-R%4294967296))?ce=ce+1|0:(ce=0,Me=Me+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),function(Ie,He,et){et.buf[et.pos++]=127&Ie|128,Ie>>>=7,et.buf[et.pos++]=127&Ie|128,Ie>>>=7,et.buf[et.pos++]=127&Ie|128,Ie>>>=7,et.buf[et.pos++]=127&Ie|128,Ie>>>=7,et.buf[et.pos]=127&Ie}(ce,0,K),function(Ie,He){var et=(7&Ie)<<4;He.buf[He.pos++]|=et|((Ie>>>=3)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie|((Ie>>>=7)?128:0),Ie&&(He.buf[He.pos++]=127&Ie)))))}(Me,K)}(M,this):(this.realloc(4),this.buf[this.pos++]=127&M|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=M>>>7&127))))},writeSVarint:function(M){this.writeVarint(M<0?2*-M-1:2*M)},writeBoolean:function(M){this.writeVarint(!!M)},writeString:function(M){M=String(M),this.realloc(4*M.length),this.pos++;var R=this.pos;this.pos=function(ce,Me,Ie){for(var He,et,ht=0;ht<Me.length;ht++){if((He=Me.charCodeAt(ht))>55295&&He<57344){if(!et){He>56319||ht+1===Me.length?(ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189):et=He;continue}if(He<56320){ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189,et=He;continue}He=et-55296<<10|He-56320|65536,et=null}else et&&(ce[Ie++]=239,ce[Ie++]=191,ce[Ie++]=189,et=null);He<128?ce[Ie++]=He:(He<2048?ce[Ie++]=He>>6|192:(He<65536?ce[Ie++]=He>>12|224:(ce[Ie++]=He>>18|240,ce[Ie++]=He>>12&63|128),ce[Ie++]=He>>6&63|128),ce[Ie++]=63&He|128)}return Ie}(this.buf,M,this.pos);var K=this.pos-R;K>=128&&Gm(R,K,this),this.pos=R-1,this.writeVarint(K),this.pos+=K},writeFloat:function(M){this.realloc(4),Vm(this.buf,M,this.pos,!0,23,4),this.pos+=4},writeDouble:function(M){this.realloc(8),Vm(this.buf,M,this.pos,!0,52,8),this.pos+=8},writeBytes:function(M){var R=M.length;this.writeVarint(R),this.realloc(R);for(var K=0;K<R;K++)this.buf[this.pos++]=M[K]},writeRawMessage:function(M,R){this.pos++;var K=this.pos;M(R,this);var ce=this.pos-K;ce>=128&&Gm(K,ce,this),this.pos=K-1,this.writeVarint(ce),this.pos+=ce},writeMessage:function(M,R,K){this.writeTag(M,Ri.Bytes),this.writeRawMessage(R,K)},writePackedVarint:function(M,R){R.length&&this.writeMessage(M,Z3,R)},writePackedSVarint:function(M,R){R.length&&this.writeMessage(M,K3,R)},writePackedBoolean:function(M,R){R.length&&this.writeMessage(M,Q3,R)},writePackedFloat:function(M,R){R.length&&this.writeMessage(M,J3,R)},writePackedDouble:function(M,R){R.length&&this.writeMessage(M,$3,R)},writePackedFixed32:function(M,R){R.length&&this.writeMessage(M,ew,R)},writePackedSFixed32:function(M,R){R.length&&this.writeMessage(M,tw,R)},writePackedFixed64:function(M,R){R.length&&this.writeMessage(M,nw,R)},writePackedSFixed64:function(M,R){R.length&&this.writeMessage(M,rw,R)},writeBytesField:function(M,R){this.writeTag(M,Ri.Bytes),this.writeBytes(R)},writeFixed32Field:function(M,R){this.writeTag(M,Ri.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(M,R){this.writeTag(M,Ri.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(M,R){this.writeTag(M,Ri.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(M,R){this.writeTag(M,Ri.Fixed64),this.writeSFixed64(R)},writeVarintField:function(M,R){this.writeTag(M,Ri.Varint),this.writeVarint(R)},writeSVarintField:function(M,R){this.writeTag(M,Ri.Varint),this.writeSVarint(R)},writeStringField:function(M,R){this.writeTag(M,Ri.Bytes),this.writeString(R)},writeFloatField:function(M,R){this.writeTag(M,Ri.Fixed32),this.writeFloat(R)},writeDoubleField:function(M,R){this.writeTag(M,Ri.Fixed64),this.writeDouble(R)},writeBooleanField:function(M,R){this.writeVarintField(M,!!R)}};var bg=3;function iw(M,R,K){M===1&&K.readMessage(aw,R)}function aw(M,R,K){if(M===3){var ce=K.readMessage(ow,{}),Me=ce.id,Ie=ce.bitmap,He=ce.width,et=ce.height,ht=ce.left,Mt=ce.top,Lt=ce.advance;R.push({id:Me,bitmap:new Uc({width:He+2*bg,height:et+2*bg},Ie),metrics:{width:He,height:et,left:ht,top:Mt,advance:Lt}})}}function ow(M,R,K){M===1?R.id=K.readVarint():M===2?R.bitmap=K.readBytes():M===3?R.width=K.readVarint():M===4?R.height=K.readVarint():M===5?R.left=K.readSVarint():M===6?R.top=K.readSVarint():M===7&&(R.advance=K.readVarint())}var Ym=bg;function Xm(M){for(var R=0,K=0,ce=0,Me=M;ce<Me.length;ce+=1){var Ie=Me[ce];R+=Ie.w*Ie.h,K=Math.max(K,Ie.w)}M.sort(function(dn,Ln){return Ln.h-dn.h});for(var He=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(R/.95)),K),h:1/0}],et=0,ht=0,Mt=0,Lt=M;Mt<Lt.length;Mt+=1)for(var Bt=Lt[Mt],Yt=He.length-1;Yt>=0;Yt--){var Ht=He[Yt];if(!(Bt.w>Ht.w||Bt.h>Ht.h)){if(Bt.x=Ht.x,Bt.y=Ht.y,ht=Math.max(ht,Bt.y+Bt.h),et=Math.max(et,Bt.x+Bt.w),Bt.w===Ht.w&&Bt.h===Ht.h){var ln=He.pop();Yt<He.length&&(He[Yt]=ln)}else Bt.h===Ht.h?(Ht.x+=Bt.w,Ht.w-=Bt.w):Bt.w===Ht.w?(Ht.y+=Bt.h,Ht.h-=Bt.h):(He.push({x:Ht.x+Bt.w,y:Ht.y,w:Ht.w-Bt.w,h:Bt.h}),Ht.y+=Bt.h,Ht.h-=Bt.h);break}}return{w:et,h:ht,fill:R/(et*ht)||0}}var ss=1,dd=function(M,R){var K=R.pixelRatio,ce=R.version,Me=R.stretchX,Ie=R.stretchY,He=R.content;this.paddedRect=M,this.pixelRatio=K,this.stretchX=Me,this.stretchY=Ie,this.content=He,this.version=ce},Nh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Nh.tl.get=function(){return[this.paddedRect.x+ss,this.paddedRect.y+ss]},Nh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ss,this.paddedRect.y+this.paddedRect.h-ss]},Nh.tlbr.get=function(){return this.tl.concat(this.br)},Nh.displaySize.get=function(){return[(this.paddedRect.w-2*ss)/this.pixelRatio,(this.paddedRect.h-2*ss)/this.pixelRatio]},Object.defineProperties(dd.prototype,Nh);var jh=function(M,R){var K={},ce={};this.haveRenderCallbacks=[];var Me=[];this.addImages(M,K,Me),this.addImages(R,ce,Me);var Ie=Xm(Me),He=Ie.w,et=Ie.h,ht=new qo({width:He||1,height:et||1});for(var Mt in M){var Lt=M[Mt],Bt=K[Mt].paddedRect;qo.copy(Lt.data,ht,{x:0,y:0},{x:Bt.x+ss,y:Bt.y+ss},Lt.data)}for(var Yt in R){var Ht=R[Yt],ln=ce[Yt].paddedRect,dn=ln.x+ss,Ln=ln.y+ss,An=Ht.data.width,Bn=Ht.data.height;qo.copy(Ht.data,ht,{x:0,y:0},{x:dn,y:Ln},Ht.data),qo.copy(Ht.data,ht,{x:0,y:Bn-1},{x:dn,y:Ln-1},{width:An,height:1}),qo.copy(Ht.data,ht,{x:0,y:0},{x:dn,y:Ln+Bn},{width:An,height:1}),qo.copy(Ht.data,ht,{x:An-1,y:0},{x:dn-1,y:Ln},{width:1,height:Bn}),qo.copy(Ht.data,ht,{x:0,y:0},{x:dn+An,y:Ln},{width:1,height:Bn})}this.image=ht,this.iconPositions=K,this.patternPositions=ce};jh.prototype.addImages=function(M,R,K){for(var ce in M){var Me=M[ce],Ie={x:0,y:0,w:Me.data.width+2*ss,h:Me.data.height+2*ss};K.push(Ie),R[ce]=new dd(Ie,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(ce)}},jh.prototype.patchUpdatedImages=function(M,R){for(var K in M.dispatchRenderCallbacks(this.haveRenderCallbacks),M.updatedImages)this.patchUpdatedImage(this.iconPositions[K],M.getImage(K),R),this.patchUpdatedImage(this.patternPositions[K],M.getImage(K),R)},jh.prototype.patchUpdatedImage=function(M,R,K){if(M&&R&&M.version!==R.version){M.version=R.version;var ce=M.tl,Me=ce[0],Ie=ce[1];K.update(R.data,void 0,{x:Me,y:Ie})}},Er("ImagePosition",dd),Er("ImageAtlas",jh);var Ds={horizontal:1,vertical:2,horizontalOnly:3},Uh=-17,kf=function(){this.scale=1,this.fontStack="",this.imageName=null};kf.forText=function(M,R){var K=new kf;return K.scale=M||1,K.fontStack=R,K},kf.forImage=function(M){var R=new kf;return R.imageName=M,R};var uo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function gd(M,R,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn){var Ln,An=uo.fromFeature(M,Me);Bt===Ds.vertical&&An.verticalizePunctuation();var Bn=Da.processBidirectionalText,Un=Da.processStyledBidirectionalText;if(Bn&&An.sections.length===1){Ln=[];for(var Xn=0,rr=Bn(An.toString(),_g(An,Mt,Ie,R,ce,Ht,ln));Xn<rr.length;Xn+=1){var lr=rr[Xn],br=new uo;br.text=lr,br.sections=An.sections;for(var yr=0;yr<lr.length;yr++)br.sectionIndex.push(0);Ln.push(br)}}else if(Un){Ln=[];for(var Ar=0,Sr=Un(An.text,An.sectionIndex,_g(An,Mt,Ie,R,ce,Ht,ln));Ar<Sr.length;Ar+=1){var qr=Sr[Ar],zr=new uo;zr.text=qr[0],zr.sectionIndex=qr[1],zr.sections=An.sections,Ln.push(zr)}}else Ln=function(Ir,ri){for(var Yr=[],Ci=Ir.text,Vr=0,ki=0,Fi=ri;ki<Fi.length;ki+=1){var ji=Fi[ki];Yr.push(Ir.substring(Vr,ji)),Vr=ji}return Vr<Ci.length&&Yr.push(Ir.substring(Vr,Ci.length)),Yr}(An,_g(An,Mt,Ie,R,ce,Ht,ln));var Hr=[],Rr={positionedLines:Hr,text:An.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Bt,iconsInText:!1,verticalizable:!1};return function(Ir,ri,Yr,Ci,Vr,ki,Fi,ji,Ui,Pi,ba,Yi){for(var Fa=0,$a=Uh,Ha=0,Mo=0,qa=ji==="right"?1:ji==="left"?0:.5,Sa=0,Ga=0,Ba=Vr;Ga<Ba.length;Ga+=1){var Ea=Ba[Ga];Ea.trim();var Xr=Ea.getMaxScale(),oi=(Xr-1)*Va,ra={positionedGlyphs:[],lineOffset:0};Ir.positionedLines[Sa]=ra;var Si=ra.positionedGlyphs,Ki=0;if(Ea.length()){for(var Gi=0;Gi<Ea.length();Gi++){var ci=Ea.getSection(Gi),ia=Ea.getSectionIndex(Gi),So=Ea.getCharCode(Gi),us=0,co=null,Zl=null,Du=null,Na=Va,Kl=!(Ui===Ds.horizontal||!ba&&!rs(So)||ba&&(vd[So]||Ps(So)));if(ci.imageName){var Al=Ci[ci.imageName];if(!Al)continue;Du=ci.imageName,Ir.iconsInText=Ir.iconsInText||!0,Zl=Al.paddedRect;var Ml=Al.displaySize;ci.scale=ci.scale*Va/Yi,co={width:Ml[0],height:Ml[1],left:ss,top:-Ym,advance:Kl?Ml[1]:Ml[0]},us=oi+(Va-Ml[1]*ci.scale),Na=co.advance;var Gc=Kl?Ml[0]*ci.scale-Va*Xr:Ml[1]*ci.scale-Va*Xr;Gc>0&&Gc>Ki&&(Ki=Gc)}else{var Ad=Yr[ci.fontStack],Wc=Ad&&Ad[So];if(Wc&&Wc.rect)Zl=Wc.rect,co=Wc.metrics;else{var Md=ri[ci.fontStack],Gh=Md&&Md[So];if(!Gh)continue;co=Gh.metrics}us=(Xr-ci.scale)*Va}Kl?(Ir.verticalizable=!0,Si.push({glyph:So,imageName:Du,x:Fa,y:$a+us,vertical:Kl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:ia,metrics:co,rect:Zl}),Fa+=Na*ci.scale+Pi):(Si.push({glyph:So,imageName:Du,x:Fa,y:$a+us,vertical:Kl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:ia,metrics:co,rect:Zl}),Fa+=co.advance*ci.scale+Pi)}if(Si.length!==0){var Pg=Fa-Pi;Ha=Math.max(Pg,Ha),lw(Si,0,Si.length-1,qa,Ki)}Fa=0;var Sd=ki*Xr+Ki;ra.lineOffset=Math.max(Ki,oi),$a+=Sd,Mo=Math.max(Sd,Mo),++Sa}else $a+=ki,++Sa}var zf=$a-Uh,Ed=wg(Fi),Ld=Ed.horizontalAlign,Wh=Ed.verticalAlign;(function(Og,Yh,Yc,Df,Cd,Pd,Rf,Od,Id){var Xh=(Yh-Yc)*Cd,Zh=0;Zh=Pd!==Rf?-Od*Df-Uh:(-Df*Id+.5)*Rf;for(var Xc=0,Kh=Og;Xc<Kh.length;Xc+=1)for(var Zc=0,Jh=Kh[Xc].positionedGlyphs;Zc<Jh.length;Zc+=1){var $h=Jh[Zc];$h.x+=Xh,$h.y+=Zh}})(Ir.positionedLines,qa,Ld,Wh,Ha,Mo,ki,zf,Vr.length),Ir.top+=-Wh*zf,Ir.bottom=Ir.top+zf,Ir.left+=-Ld*Ha,Ir.right=Ir.left+Ha}(Rr,R,K,ce,Ln,He,et,ht,Bt,Mt,Yt,dn),!function(Ir){for(var ri=0,Yr=Ir;ri<Yr.length;ri+=1)if(Yr[ri].positionedGlyphs.length!==0)return!1;return!0}(Hr)&&Rr}uo.fromFeature=function(M,R){for(var K=new uo,ce=0;ce<M.sections.length;ce++){var Me=M.sections[ce];Me.image?K.addImageSection(Me):K.addTextSection(Me,R)}return K},uo.prototype.length=function(){return this.text.length},uo.prototype.getSection=function(M){return this.sections[this.sectionIndex[M]]},uo.prototype.getSectionIndex=function(M){return this.sectionIndex[M]},uo.prototype.getCharCode=function(M){return this.text.charCodeAt(M)},uo.prototype.verticalizePunctuation=function(){this.text=function(M){for(var R="",K=0;K<M.length;K++){var ce=M.charCodeAt(K+1)||null,Me=M.charCodeAt(K-1)||null;ce&&ta(ce)&&!Bh[M[K+1]]||Me&&ta(Me)&&!Bh[M[K-1]]||!Bh[M[K]]?R+=M[K]:R+=Bh[M[K]]}return R}(this.text)},uo.prototype.trim=function(){for(var M=0,R=0;R<this.text.length&&vd[this.text.charCodeAt(R)];R++)M++;for(var K=this.text.length,ce=this.text.length-1;ce>=0&&ce>=M&&vd[this.text.charCodeAt(ce)];ce--)K--;this.text=this.text.substring(M,K),this.sectionIndex=this.sectionIndex.slice(M,K)},uo.prototype.substring=function(M,R){var K=new uo;return K.text=this.text.substring(M,R),K.sectionIndex=this.sectionIndex.slice(M,R),K.sections=this.sections,K},uo.prototype.toString=function(){return this.text},uo.prototype.getMaxScale=function(){var M=this;return this.sectionIndex.reduce(function(R,K){return Math.max(R,M.sections[K].scale)},0)},uo.prototype.addTextSection=function(M,R){this.text+=M.text,this.sections.push(kf.forText(M.scale,M.fontStack||R));for(var K=this.sections.length-1,ce=0;ce<M.text.length;++ce)this.sectionIndex.push(K)},uo.prototype.addImageSection=function(M){var R=M.image?M.image.name:"";if(R.length!==0){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(kf.forImage(R)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},uo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var vd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ls={};function Zm(M,R,K,ce,Me,Ie){if(R.imageName){var He=ce[R.imageName];return He?He.displaySize[0]*R.scale*Va/Ie+Me:0}var et=K[R.fontStack],ht=et&&et[M];return ht?ht.metrics.advance*R.scale+Me:0}function Km(M,R,K,ce){var Me=Math.pow(M-R,2);return ce?M<R?Me/2:2*Me:Me+Math.abs(K)*K}function sw(M,R,K){var ce=0;return M===10&&(ce-=1e4),K&&(ce+=150),M!==40&&M!==65288||(ce+=50),R!==41&&R!==65289||(ce+=50),ce}function Jm(M,R,K,ce,Me,Ie){for(var He=null,et=Km(R,K,Me,Ie),ht=0,Mt=ce;ht<Mt.length;ht+=1){var Lt=Mt[ht],Bt=Km(R-Lt.x,K,Me,Ie)+Lt.badness;Bt<=et&&(He=Lt,et=Bt)}return{index:M,x:R,priorBreak:He,badness:et}}function $m(M){return M?$m(M.priorBreak).concat(M.index):[]}function _g(M,R,K,ce,Me,Ie,He){if(Ie!=="point")return[];if(!M)return[];for(var et=[],ht=function(Ln,An,Bn,Un,Xn,rr){for(var lr=0,br=0;br<Ln.length();br++){var yr=Ln.getSection(br);lr+=Zm(Ln.getCharCode(br),yr,Un,Xn,An,rr)}return lr/Math.max(1,Math.ceil(lr/Bn))}(M,R,K,ce,Me,He),Mt=M.text.indexOf("")>=0,Lt=0,Bt=0;Bt<M.length();Bt++){var Yt=M.getSection(Bt),Ht=M.getCharCode(Bt);if(vd[Ht]||(Lt+=Zm(Ht,Yt,ce,Me,R,He)),Bt<M.length()-1){var ln=!((dn=Ht)<11904||!(_r["Bopomofo Extended"](dn)||_r.Bopomofo(dn)||_r["CJK Compatibility Forms"](dn)||_r["CJK Compatibility Ideographs"](dn)||_r["CJK Compatibility"](dn)||_r["CJK Radicals Supplement"](dn)||_r["CJK Strokes"](dn)||_r["CJK Symbols and Punctuation"](dn)||_r["CJK Unified Ideographs Extension A"](dn)||_r["CJK Unified Ideographs"](dn)||_r["Enclosed CJK Letters and Months"](dn)||_r["Halfwidth and Fullwidth Forms"](dn)||_r.Hiragana(dn)||_r["Ideographic Description Characters"](dn)||_r["Kangxi Radicals"](dn)||_r["Katakana Phonetic Extensions"](dn)||_r.Katakana(dn)||_r["Vertical Forms"](dn)||_r["Yi Radicals"](dn)||_r["Yi Syllables"](dn)));(ls[Ht]||ln||Yt.imageName)&&et.push(Jm(Bt+1,Lt,ht,et,sw(Ht,M.getCharCode(Bt+1),ln&&Mt),!1))}}var dn;return $m(Jm(M.length(),Lt,ht,et,0,!0))}function wg(M){var R=.5,K=.5;switch(M){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0}switch(M){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:R,verticalAlign:K}}function lw(M,R,K,ce,Me){if(ce||Me)for(var Ie=M[K],He=Ie.metrics.advance*Ie.scale,et=(M[K].x+He)*ce,ht=R;ht<=K;ht++)M[ht].x-=et,M[ht].y+=Me}function Qm(M,R,K,ce,Me,Ie){var He,et=M.image;if(et.content){var ht=et.content,Mt=et.pixelRatio||1;He=[ht[0]/Mt,ht[1]/Mt,et.displaySize[0]-ht[2]/Mt,et.displaySize[1]-ht[3]/Mt]}var Lt,Bt,Yt,Ht,ln=R.left*Ie,dn=R.right*Ie;K==="width"||K==="both"?(Ht=Me[0]+ln-ce[3],Bt=Me[0]+dn+ce[1]):Bt=(Ht=Me[0]+(ln+dn-et.displaySize[0])/2)+et.displaySize[0];var Ln=R.top*Ie,An=R.bottom*Ie;return K==="height"||K==="both"?(Lt=Me[1]+Ln-ce[0],Yt=Me[1]+An+ce[2]):Yt=(Lt=Me[1]+(Ln+An-et.displaySize[1])/2)+et.displaySize[1],{image:et,top:Lt,right:Bt,bottom:Yt,left:Ht,collisionPadding:He}}ls[10]=!0,ls[32]=!0,ls[38]=!0,ls[40]=!0,ls[41]=!0,ls[43]=!0,ls[45]=!0,ls[47]=!0,ls[173]=!0,ls[183]=!0,ls[8203]=!0,ls[8208]=!0,ls[8211]=!0,ls[8231]=!0;var Af=function(M){function R(K,ce,Me,Ie){M.call(this,K,ce),this.angle=Me,Ie!==void 0&&(this.segment=Ie)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(t);Er("Anchor",Af);var Xl=128;function Tg(M,R){var K=R.expression;if(K.kind==="constant")return{kind:"constant",layoutSize:K.evaluate(new $r(M+1))};if(K.kind==="source")return{kind:"source"};for(var ce=K.zoomStops,Me=K.interpolationType,Ie=0;Ie<ce.length&&ce[Ie]<=M;)Ie++;for(var He=Ie=Math.max(0,Ie-1);He<ce.length&&ce[He]<M+1;)He++;He=Math.min(ce.length-1,He);var et=ce[Ie],ht=ce[He];return K.kind==="composite"?{kind:"composite",minZoom:et,maxZoom:ht,interpolationType:Me}:{kind:"camera",minZoom:et,maxZoom:ht,minSize:K.evaluate(new $r(et)),maxSize:K.evaluate(new $r(ht)),interpolationType:Me}}function ey(M,R,K){var ce=R.uSize,Me=R.uSizeT,Ie=K.lowerSize,He=K.upperSize;return M.kind==="source"?Ie/Xl:M.kind==="composite"?Nr(Ie/Xl,He/Xl,Me):ce}function ty(M,R){var K=0,ce=0;if(M.kind==="constant")ce=M.layoutSize;else if(M.kind!=="source"){var Me=M.interpolationType,Ie=M.minZoom,He=M.maxZoom,et=Me?u(Qi.interpolationFactor(Me,R,Ie,He),0,1):0;M.kind==="camera"?ce=Nr(M.minSize,M.maxSize,et):K=et}return{uSizeT:K,uSize:ce}}var uw=Object.freeze({__proto__:null,getSizeData:Tg,evaluateSizeForFeature:ey,evaluateSizeForZoom:ty,SIZE_PACK_FACTOR:Xl});function ny(M,R,K,ce,Me){if(R.segment===void 0)return!0;for(var Ie=R,He=R.segment+1,et=0;et>-K/2;){if(--He<0)return!1;et-=M[He].dist(Ie),Ie=M[He]}et+=M[He].dist(M[He+1]),He++;for(var ht=[],Mt=0;et<K/2;){var Lt=M[He-1],Bt=M[He],Yt=M[He+1];if(!Yt)return!1;var Ht=Lt.angleTo(Bt)-Bt.angleTo(Yt);for(Ht=Math.abs((Ht+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:et,angleDelta:Ht}),Mt+=Ht;et-ht[0].distance>ce;)Mt-=ht.shift().angleDelta;if(Mt>Me)return!1;He++,et+=Bt.dist(Yt)}return!0}function ry(M){for(var R=0,K=0;K<M.length-1;K++)R+=M[K].dist(M[K+1]);return R}function iy(M,R,K){return M?.6*R*K:0}function ay(M,R){return Math.max(M?M.right-M.left:0,R?R.right-R.left:0)}function cw(M,R,K,ce,Me,Ie){for(var He=iy(K,Me,Ie),et=ay(K,ce)*Ie,ht=0,Mt=ry(M)/2,Lt=0;Lt<M.length-1;Lt++){var Bt=M[Lt],Yt=M[Lt+1],Ht=Bt.dist(Yt);if(ht+Ht>Mt){var ln=(Mt-ht)/Ht,dn=Nr(Bt.x,Yt.x,ln),Ln=Nr(Bt.y,Yt.y,ln),An=new Af(dn,Ln,Yt.angleTo(Bt),Lt);return An._round(),!He||ny(M,An,et,He,R)?An:void 0}ht+=Ht}}function fw(M,R,K,ce,Me,Ie,He,et,ht){var Mt=iy(ce,Ie,He),Lt=ay(ce,Me),Bt=Lt*He,Yt=M[0].x===0||M[0].x===ht||M[0].y===0||M[0].y===ht;return R-Bt<R/4&&(R=Bt+R/4),oy(M,Yt?R/2*et%R:(Lt/2+2*Ie)*He*et%R,R,Mt,K,Bt,Yt,!1,ht)}function oy(M,R,K,ce,Me,Ie,He,et,ht){for(var Mt=Ie/2,Lt=ry(M),Bt=0,Yt=R-K,Ht=[],ln=0;ln<M.length-1;ln++){for(var dn=M[ln],Ln=M[ln+1],An=dn.dist(Ln),Bn=Ln.angleTo(dn);Yt+K<Bt+An;){var Un=((Yt+=K)-Bt)/An,Xn=Nr(dn.x,Ln.x,Un),rr=Nr(dn.y,Ln.y,Un);if(Xn>=0&&Xn<ht&&rr>=0&&rr<ht&&Yt-Mt>=0&&Yt+Mt<=Lt){var lr=new Af(Xn,rr,Bn,ln);lr._round(),ce&&!ny(M,lr,Ie,ce,Me)||Ht.push(lr)}}Bt+=An}return et||Ht.length||He||(Ht=oy(M,Bt/2,K,ce,Me,Ie,He,!0,ht)),Ht}function sy(M,R,K,ce,Me){for(var Ie=[],He=0;He<M.length;He++)for(var et=M[He],ht=void 0,Mt=0;Mt<et.length-1;Mt++){var Lt=et[Mt],Bt=et[Mt+1];Lt.x<R&&Bt.x<R||(Lt.x<R?Lt=new t(R,Lt.y+(Bt.y-Lt.y)*((R-Lt.x)/(Bt.x-Lt.x)))._round():Bt.x<R&&(Bt=new t(R,Lt.y+(Bt.y-Lt.y)*((R-Lt.x)/(Bt.x-Lt.x)))._round()),Lt.y<K&&Bt.y<K||(Lt.y<K?Lt=new t(Lt.x+(Bt.x-Lt.x)*((K-Lt.y)/(Bt.y-Lt.y)),K)._round():Bt.y<K&&(Bt=new t(Lt.x+(Bt.x-Lt.x)*((K-Lt.y)/(Bt.y-Lt.y)),K)._round()),Lt.x>=ce&&Bt.x>=ce||(Lt.x>=ce?Lt=new t(ce,Lt.y+(Bt.y-Lt.y)*((ce-Lt.x)/(Bt.x-Lt.x)))._round():Bt.x>=ce&&(Bt=new t(ce,Lt.y+(Bt.y-Lt.y)*((ce-Lt.x)/(Bt.x-Lt.x)))._round()),Lt.y>=Me&&Bt.y>=Me||(Lt.y>=Me?Lt=new t(Lt.x+(Bt.x-Lt.x)*((Me-Lt.y)/(Bt.y-Lt.y)),Me)._round():Bt.y>=Me&&(Bt=new t(Lt.x+(Bt.x-Lt.x)*((Me-Lt.y)/(Bt.y-Lt.y)),Me)._round()),ht&&Lt.equals(ht[ht.length-1])||(ht=[Lt],Ie.push(ht)),ht.push(Bt)))))}return Ie}var Mf=ss;function ly(M,R,K,ce){var Me=[],Ie=M.image,He=Ie.pixelRatio,et=Ie.paddedRect.w-2*Mf,ht=Ie.paddedRect.h-2*Mf,Mt=M.right-M.left,Lt=M.bottom-M.top,Bt=Ie.stretchX||[[0,et]],Yt=Ie.stretchY||[[0,ht]],Ht=function(ki,Fi){return ki+Fi[1]-Fi[0]},ln=Bt.reduce(Ht,0),dn=Yt.reduce(Ht,0),Ln=et-ln,An=ht-dn,Bn=0,Un=ln,Xn=0,rr=dn,lr=0,br=Ln,yr=0,Ar=An;if(Ie.content&&ce){var Sr=Ie.content;Bn=md(Bt,0,Sr[0]),Xn=md(Yt,0,Sr[1]),Un=md(Bt,Sr[0],Sr[2]),rr=md(Yt,Sr[1],Sr[3]),lr=Sr[0]-Bn,yr=Sr[1]-Xn,br=Sr[2]-Sr[0]-Un,Ar=Sr[3]-Sr[1]-rr}var qr=function(ki,Fi,ji,Ui){var Pi=yd(ki.stretch-Bn,Un,Mt,M.left),ba=xd(ki.fixed-lr,br,ki.stretch,ln),Yi=yd(Fi.stretch-Xn,rr,Lt,M.top),Fa=xd(Fi.fixed-yr,Ar,Fi.stretch,dn),$a=yd(ji.stretch-Bn,Un,Mt,M.left),Ha=xd(ji.fixed-lr,br,ji.stretch,ln),Mo=yd(Ui.stretch-Xn,rr,Lt,M.top),qa=xd(Ui.fixed-yr,Ar,Ui.stretch,dn),Sa=new t(Pi,Yi),Ga=new t($a,Yi),Ba=new t($a,Mo),Ea=new t(Pi,Mo),Xr=new t(ba/He,Fa/He),oi=new t(Ha/He,qa/He),ra=R*Math.PI/180;if(ra){var Si=Math.sin(ra),Ki=Math.cos(ra),Gi=[Ki,-Si,Si,Ki];Sa._matMult(Gi),Ga._matMult(Gi),Ea._matMult(Gi),Ba._matMult(Gi)}var ci=ki.stretch+ki.fixed,ia=ji.stretch+ji.fixed,So=Fi.stretch+Fi.fixed,us=Ui.stretch+Ui.fixed;return{tl:Sa,tr:Ga,bl:Ea,br:Ba,tex:{x:Ie.paddedRect.x+Mf+ci,y:Ie.paddedRect.y+Mf+So,w:ia-ci,h:us-So},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Xr,pixelOffsetBR:oi,minFontScaleX:br/He/Mt,minFontScaleY:Ar/He/Lt,isSDF:K}};if(ce&&(Ie.stretchX||Ie.stretchY))for(var zr=uy(Bt,Ln,ln),Hr=uy(Yt,An,dn),Rr=0;Rr<zr.length-1;Rr++)for(var Ir=zr[Rr],ri=zr[Rr+1],Yr=0;Yr<Hr.length-1;Yr++){var Ci=Hr[Yr],Vr=Hr[Yr+1];Me.push(qr(Ir,Ci,ri,Vr))}else Me.push(qr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:et+1},{fixed:0,stretch:ht+1}));return Me}function md(M,R,K){for(var ce=0,Me=0,Ie=M;Me<Ie.length;Me+=1){var He=Ie[Me];ce+=Math.max(R,Math.min(K,He[1]))-Math.max(R,Math.min(K,He[0]))}return ce}function uy(M,R,K){for(var ce=[{fixed:-Mf,stretch:0}],Me=0,Ie=M;Me<Ie.length;Me+=1){var He=Ie[Me],et=He[0],ht=He[1],Mt=ce[ce.length-1];ce.push({fixed:et-Mt.stretch,stretch:Mt.stretch}),ce.push({fixed:et-Mt.stretch,stretch:Mt.stretch+(ht-et)})}return ce.push({fixed:R+Mf,stretch:K}),ce}function yd(M,R,K,ce){return M/R*K+ce}function xd(M,R,K,ce){return M-R*K/ce}var bd=function(M,R,K,ce,Me,Ie,He,et,ht,Mt){if(this.boxStartIndex=M.length,ht){var Lt=Ie.top,Bt=Ie.bottom,Yt=Ie.collisionPadding;Yt&&(Lt-=Yt[1],Bt+=Yt[3]);var Ht=Bt-Lt;Ht>0&&(Ht=Math.max(10,Ht),this.circleDiameter=Ht)}else{var ln=Ie.top*He-et,dn=Ie.bottom*He+et,Ln=Ie.left*He-et,An=Ie.right*He+et,Bn=Ie.collisionPadding;if(Bn&&(Ln-=Bn[0]*He,ln-=Bn[1]*He,An+=Bn[2]*He,dn+=Bn[3]*He),Mt){var Un=new t(Ln,ln),Xn=new t(An,ln),rr=new t(Ln,dn),lr=new t(An,dn),br=Mt*Math.PI/180;Un._rotate(br),Xn._rotate(br),rr._rotate(br),lr._rotate(br),Ln=Math.min(Un.x,Xn.x,rr.x,lr.x),An=Math.max(Un.x,Xn.x,rr.x,lr.x),ln=Math.min(Un.y,Xn.y,rr.y,lr.y),dn=Math.max(Un.y,Xn.y,rr.y,lr.y)}M.emplaceBack(R.x,R.y,Ln,ln,An,dn,K,ce,Me)}this.boxEndIndex=M.length},Sf=function(M,R){if(M===void 0&&(M=[]),R===void 0&&(R=hw),this.data=M,this.length=this.data.length,this.compare=R,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function hw(M,R){return M<R?-1:M>R?1:0}function pw(M,R,K){K===void 0&&(K=!1);for(var ce=1/0,Me=1/0,Ie=-1/0,He=-1/0,et=M[0],ht=0;ht<et.length;ht++){var Mt=et[ht];(!ht||Mt.x<ce)&&(ce=Mt.x),(!ht||Mt.y<Me)&&(Me=Mt.y),(!ht||Mt.x>Ie)&&(Ie=Mt.x),(!ht||Mt.y>He)&&(He=Mt.y)}var Lt=Ie-ce,Bt=He-Me,Yt=Math.min(Lt,Bt),Ht=Yt/2,ln=new Sf([],dw);if(Yt===0)return new t(ce,Me);for(var dn=ce;dn<Ie;dn+=Yt)for(var Ln=Me;Ln<He;Ln+=Yt)ln.push(new Ef(dn+Ht,Ln+Ht,Ht,M));for(var An=function(Xn){for(var rr=0,lr=0,br=0,yr=Xn[0],Ar=0,Sr=yr.length,qr=Sr-1;Ar<Sr;qr=Ar++){var zr=yr[Ar],Hr=yr[qr],Rr=zr.x*Hr.y-Hr.x*zr.y;lr+=(zr.x+Hr.x)*Rr,br+=(zr.y+Hr.y)*Rr,rr+=3*Rr}return new Ef(lr/rr,br/rr,0,Xn)}(M),Bn=ln.length;ln.length;){var Un=ln.pop();(Un.d>An.d||!An.d)&&(An=Un,K&&console.log("found best %d after %d probes",Math.round(1e4*Un.d)/1e4,Bn)),Un.max-An.d<=R||(Ht=Un.h/2,ln.push(new Ef(Un.p.x-Ht,Un.p.y-Ht,Ht,M)),ln.push(new Ef(Un.p.x+Ht,Un.p.y-Ht,Ht,M)),ln.push(new Ef(Un.p.x-Ht,Un.p.y+Ht,Ht,M)),ln.push(new Ef(Un.p.x+Ht,Un.p.y+Ht,Ht,M)),Bn+=4)}return K&&(console.log("num probes: "+Bn),console.log("best distance: "+An.d)),An.p}function dw(M,R){return R.max-M.max}function Ef(M,R,K,ce){this.p=new t(M,R),this.h=K,this.d=function(Me,Ie){for(var He=!1,et=1/0,ht=0;ht<Ie.length;ht++)for(var Mt=Ie[ht],Lt=0,Bt=Mt.length,Yt=Bt-1;Lt<Bt;Yt=Lt++){var Ht=Mt[Lt],ln=Mt[Yt];Ht.y>Me.y!=ln.y>Me.y&&Me.x<(ln.x-Ht.x)*(Me.y-Ht.y)/(ln.y-Ht.y)+Ht.x&&(He=!He),et=Math.min(et,nd(Me,Ht,ln))}return(He?1:-1)*Math.sqrt(et)}(this.p,ce),this.max=this.d+this.h*Math.SQRT2}Sf.prototype.push=function(M){this.data.push(M),this.length++,this._up(this.length-1)},Sf.prototype.pop=function(){if(this.length!==0){var M=this.data[0],R=this.data.pop();return this.length--,this.length>0&&(this.data[0]=R,this._down(0)),M}},Sf.prototype.peek=function(){return this.data[0]},Sf.prototype._up=function(M){for(var R=this.data,K=this.compare,ce=R[M];M>0;){var Me=M-1>>1,Ie=R[Me];if(K(ce,Ie)>=0)break;R[M]=Ie,M=Me}R[M]=ce},Sf.prototype._down=function(M){for(var R=this.data,K=this.compare,ce=this.length>>1,Me=R[M];M<ce;){var Ie=1+(M<<1),He=R[Ie],et=Ie+1;if(et<this.length&&K(R[et],He)<0&&(Ie=et,He=R[et]),K(He,Me)>=0)break;R[M]=He,M=Ie}R[M]=Me};var Lf=7,kg=Number.POSITIVE_INFINITY;function cy(M,R){return R[1]!==kg?function(K,ce,Me){var Ie=0,He=0;switch(ce=Math.abs(ce),Me=Math.abs(Me),K){case"top-right":case"top-left":case"top":He=Me-Lf;break;case"bottom-right":case"bottom-left":case"bottom":He=-Me+Lf}switch(K){case"top-right":case"bottom-right":case"right":Ie=-ce;break;case"top-left":case"bottom-left":case"left":Ie=ce}return[Ie,He]}(M,R[0],R[1]):function(K,ce){var Me=0,Ie=0;ce<0&&(ce=0);var He=ce/Math.sqrt(2);switch(K){case"top-right":case"top-left":Ie=He-Lf;break;case"bottom-right":case"bottom-left":Ie=-He+Lf;break;case"bottom":Ie=-ce+Lf;break;case"top":Ie=ce-Lf}switch(K){case"top-right":case"bottom-right":Me=-He;break;case"top-left":case"bottom-left":Me=He;break;case"left":Me=ce;break;case"right":Me=-ce}return[Me,Ie]}(M,R[0])}function Ag(M){switch(M){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Vh=255,ac=Vh*Xl;function fy(M,R,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln){var dn=function(Xn,rr,lr,br,yr,Ar,Sr,qr){for(var zr=br.layout.get("text-rotate").evaluate(Ar,{})*Math.PI/180,Hr=[],Rr=0,Ir=rr.positionedLines;Rr<Ir.length;Rr+=1)for(var ri=Ir[Rr],Yr=0,Ci=ri.positionedGlyphs;Yr<Ci.length;Yr+=1){var Vr=Ci[Yr];if(Vr.rect){var ki=Vr.rect||{},Fi=Ym+1,ji=!0,Ui=1,Pi=0,ba=(yr||qr)&&Vr.vertical,Yi=Vr.metrics.advance*Vr.scale/2;if(qr&&rr.verticalizable){var Fa=(Vr.scale-1)*Va,$a=(Va-Vr.metrics.width*Vr.scale)/2;Pi=ri.lineOffset/2-(Vr.imageName?-$a:Fa)}if(Vr.imageName){var Ha=Sr[Vr.imageName];ji=Ha.sdf,Ui=Ha.pixelRatio,Fi=ss/Ui}var Mo=yr?[Vr.x+Yi,Vr.y]:[0,0],qa=yr?[0,0]:[Vr.x+Yi+lr[0],Vr.y+lr[1]-Pi],Sa=[0,0];ba&&(Sa=qa,qa=[0,0]);var Ga=(Vr.metrics.left-Fi)*Vr.scale-Yi+qa[0],Ba=(-Vr.metrics.top-Fi)*Vr.scale+qa[1],Ea=Ga+ki.w*Vr.scale/Ui,Xr=Ba+ki.h*Vr.scale/Ui,oi=new t(Ga,Ba),ra=new t(Ea,Ba),Si=new t(Ga,Xr),Ki=new t(Ea,Xr);if(ba){var Gi=new t(-Yi,Yi-Uh),ci=-Math.PI/2,ia=Va/2-Yi,So=Vr.imageName?ia:0,us=new t(5-Uh-ia,-So),co=new(Function.prototype.bind.apply(t,[null].concat(Sa)));oi._rotateAround(ci,Gi)._add(us)._add(co),ra._rotateAround(ci,Gi)._add(us)._add(co),Si._rotateAround(ci,Gi)._add(us)._add(co),Ki._rotateAround(ci,Gi)._add(us)._add(co)}if(zr){var Zl=Math.sin(zr),Du=Math.cos(zr),Na=[Du,-Zl,Zl,Du];oi._matMult(Na),ra._matMult(Na),Si._matMult(Na),Ki._matMult(Na)}var Kl=new t(0,0),Al=new t(0,0);Hr.push({tl:oi,tr:ra,bl:Si,br:Ki,tex:ki,writingMode:rr.writingMode,glyphOffset:Mo,sectionIndex:Vr.sectionIndex,isSDF:ji,pixelOffsetTL:Kl,pixelOffsetBR:Al,minFontScaleX:0,minFontScaleY:0})}}return Hr}(0,K,et,Me,Ie,He,ce,M.allowVerticalPlacement),Ln=M.textSizeData,An=null;Ln.kind==="source"?(An=[Xl*Me.layout.get("text-size").evaluate(He,{})])[0]>ac&&E(M.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'):Ln.kind==="composite"&&((An=[Xl*Ht.compositeTextSizes[0].evaluate(He,{},ln),Xl*Ht.compositeTextSizes[1].evaluate(He,{},ln)])[0]>ac||An[1]>ac)&&E(M.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'),M.addSymbols(M.text,dn,An,et,Ie,He,Mt,R,ht.lineStartIndex,ht.lineLength,Yt,ln);for(var Bn=0,Un=Lt;Bn<Un.length;Bn+=1)Bt[Un[Bn]]=M.text.placedSymbolArray.length-1;return 4*dn.length}function hy(M){for(var R in M)return M[R];return null}function gw(M,R,K,ce){var Me=M.compareText;if(R in Me){for(var Ie=Me[R],He=Ie.length-1;He>=0;He--)if(ce.dist(Ie[He])<K)return!0}else Me[R]=[];return Me[R].push(ce),!1}var vw=_f.VectorTileFeature.types,mw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function _d(M,R,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt){var Ht=et?Math.min(ac,Math.round(et[0])):0,ln=et?Math.min(ac,Math.round(et[1])):0;M.emplaceBack(R,K,Math.round(32*ce),Math.round(32*Me),Ie,He,(Ht<<1)+(ht?1:0),ln,16*Mt,16*Lt,256*Bt,256*Yt)}function Mg(M,R,K){M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K)}function yw(M){for(var R=0,K=M.sections;R<K.length;R+=1)if(Aa(K[R].text))return!0;return!1}var Cf=function(M){this.layoutVertexArray=new Y,this.indexArray=new we,this.programConfigurations=M,this.segments=new Wn,this.dynamicLayoutVertexArray=new G,this.opacityVertexArray=new L,this.placedSymbolArray=new zt};Cf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Cf.prototype.upload=function(M,R,K,ce){this.isEmpty()||(K&&(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,q3.members),this.indexBuffer=M.createIndexBuffer(this.indexArray,R),this.dynamicLayoutVertexBuffer=M.createVertexBuffer(this.dynamicLayoutVertexArray,G3.members,!0),this.opacityVertexBuffer=M.createVertexBuffer(this.opacityVertexArray,mw,!0),this.opacityVertexBuffer.itemSize=1),(K||ce)&&this.programConfigurations.upload(M))},Cf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Er("SymbolBuffers",Cf);var Hh=function(M,R,K){this.layoutVertexArray=new M,this.layoutAttributes=R,this.indexArray=new K,this.segments=new Wn,this.collisionVertexArray=new fe};Hh.prototype.upload=function(M){this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=M.createVertexBuffer(this.collisionVertexArray,W3.members,!0)},Hh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Er("CollisionBuffers",Hh);var Ti=function(M){this.collisionBoxArray=M.collisionBoxArray,this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(He){return He.id}),this.index=M.index,this.pixelRatio=M.pixelRatio,this.sourceLayerIndex=M.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=lg([]),this.placementViewportMatrix=lg([]);var R=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Tg(this.zoom,R["text-size"]),this.iconSizeData=Tg(this.zoom,R["icon-size"]);var K=this.layers[0].layout,ce=K.get("symbol-sort-key"),Me=K.get("symbol-z-order");this.canOverlap=K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement"),this.sortFeaturesByKey=Me!=="viewport-y"&&ce.constantOr(1)!==void 0;var Ie=Me==="viewport-y"||Me==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ie&&this.canOverlap,K.get("symbol-placement")==="point"&&(this.writingModes=K.get("text-writing-mode").map(function(He){return Ds[He]})),this.stateDependentLayerIds=this.layers.filter(function(He){return He.isStateDependent()}).map(function(He){return He.id}),this.sourceID=M.sourceID};Ti.prototype.createArrays=function(){this.text=new Cf(new Zi(this.layers,this.zoom,function(M){return/^text/.test(M)})),this.icon=new Cf(new Zi(this.layers,this.zoom,function(M){return/^icon/.test(M)})),this.glyphOffsetArray=new Gt,this.lineVertexArray=new mn,this.symbolInstances=new Zt},Ti.prototype.calculateGlyphDependencies=function(M,R,K,ce,Me){for(var Ie=0;Ie<M.length;Ie++)if(R[M.charCodeAt(Ie)]=!0,(K||ce)&&Me){var He=Bh[M.charAt(Ie)];He&&(R[He.charCodeAt(0)]=!0)}},Ti.prototype.populate=function(M,R,K){var ce=this.layers[0],Me=ce.layout,Ie=Me.get("text-font"),He=Me.get("text-field"),et=Me.get("icon-image"),ht=(He.value.kind!=="constant"||He.value.value instanceof $n&&!He.value.value.isEmpty()||He.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Mt=et.value.kind!=="constant"||!!et.value.value||Object.keys(et.parameters).length>0,Lt=Me.get("symbol-sort-key");if(this.features=[],ht||Mt){for(var Bt=R.iconDependencies,Yt=R.glyphDependencies,Ht=R.availableImages,ln=new $r(this.zoom),dn=0,Ln=M;dn<Ln.length;dn+=1){var An=Ln[dn],Bn=An.feature,Un=An.id,Xn=An.index,rr=An.sourceLayerIndex,lr=ce._featureFilter.needGeometry,br=Di(Bn,lr);if(ce._featureFilter.filter(ln,br,K)){lr||(br.geometry=os(Bn));var yr=void 0;if(ht){var Ar=ce.getValueAndResolveTokens("text-field",br,K,Ht),Sr=$n.factory(Ar);yw(Sr)&&(this.hasRTLText=!0),(!this.hasRTLText||xl()==="unavailable"||this.hasRTLText&&Da.isParsed())&&(yr=X3(Sr,ce,br))}var qr=void 0;if(Mt){var zr=ce.getValueAndResolveTokens("icon-image",br,K,Ht);qr=zr instanceof pr?zr:pr.fromString(zr)}if(yr||qr){var Hr=this.sortFeaturesByKey?Lt.evaluate(br,{},K):void 0,Rr={id:Un,text:yr,icon:qr,index:Xn,sourceLayerIndex:rr,geometry:br.geometry,properties:Bn.properties,type:vw[Bn.type],sortKey:Hr};if(this.features.push(Rr),qr&&(Bt[qr.name]=!0),yr){var Ir=Ie.evaluate(br,{},K).join(","),ri=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ds.vertical)>=0;for(var Yr=0,Ci=yr.sections;Yr<Ci.length;Yr+=1){var Vr=Ci[Yr];if(Vr.image)Bt[Vr.image.name]=!0;else{var ki=Hl(yr.toString()),Fi=Vr.fontStack||Ir,ji=Yt[Fi]=Yt[Fi]||{};this.calculateGlyphDependencies(Vr.text,ji,ri,this.allowVerticalPlacement,ki)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=function(Ui){var Pi={},ba={},Yi=[],Fa=0;function $a(Ki){Yi.push(Ui[Ki]),Fa++}function Ha(Ki,Gi,ci){var ia=ba[Ki];return delete ba[Ki],ba[Gi]=ia,Yi[ia].geometry[0].pop(),Yi[ia].geometry[0]=Yi[ia].geometry[0].concat(ci[0]),ia}function Mo(Ki,Gi,ci){var ia=Pi[Gi];return delete Pi[Gi],Pi[Ki]=ia,Yi[ia].geometry[0].shift(),Yi[ia].geometry[0]=ci[0].concat(Yi[ia].geometry[0]),ia}function qa(Ki,Gi,ci){var ia=ci?Gi[0][Gi[0].length-1]:Gi[0][0];return Ki+":"+ia.x+":"+ia.y}for(var Sa=0;Sa<Ui.length;Sa++){var Ga=Ui[Sa],Ba=Ga.geometry,Ea=Ga.text?Ga.text.toString():null;if(Ea){var Xr=qa(Ea,Ba),oi=qa(Ea,Ba,!0);if(Xr in ba&&oi in Pi&&ba[Xr]!==Pi[oi]){var ra=Mo(Xr,oi,Ba),Si=Ha(Xr,oi,Yi[ra].geometry);delete Pi[Xr],delete ba[oi],ba[qa(Ea,Yi[Si].geometry,!0)]=Si,Yi[ra].geometry=null}else Xr in ba?Ha(Xr,oi,Ba):oi in Pi?Mo(Xr,oi,Ba):($a(Sa),Pi[Xr]=Fa-1,ba[oi]=Fa-1)}else $a(Sa)}return Yi.filter(function(Ki){return Ki.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ui,Pi){return Ui.sortKey-Pi.sortKey})}},Ti.prototype.update=function(M,R,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(M,R,this.layers,K),this.icon.programConfigurations.updatePaintArrays(M,R,this.layers,K))},Ti.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ti.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ti.prototype.upload=function(M){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(M),this.iconCollisionBox.upload(M)),this.text.upload(M,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(M,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ti.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ti.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ti.prototype.addToLineVertexArray=function(M,R){var K=this.lineVertexArray.length;if(M.segment!==void 0){for(var ce=M.dist(R[M.segment+1]),Me=M.dist(R[M.segment]),Ie={},He=M.segment+1;He<R.length;He++)Ie[He]={x:R[He].x,y:R[He].y,tileUnitDistanceFromAnchor:ce},He<R.length-1&&(ce+=R[He+1].dist(R[He]));for(var et=M.segment||0;et>=0;et--)Ie[et]={x:R[et].x,y:R[et].y,tileUnitDistanceFromAnchor:Me},et>0&&(Me+=R[et-1].dist(R[et]));for(var ht=0;ht<R.length;ht++){var Mt=Ie[ht];this.lineVertexArray.emplaceBack(Mt.x,Mt.y,Mt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},Ti.prototype.addSymbols=function(M,R,K,ce,Me,Ie,He,et,ht,Mt,Lt,Bt){for(var Yt=M.indexArray,Ht=M.layoutVertexArray,ln=M.segments.prepareSegment(4*R.length,Ht,Yt,this.canOverlap?Ie.sortKey:void 0),dn=this.glyphOffsetArray.length,Ln=ln.vertexLength,An=this.allowVerticalPlacement&&He===Ds.vertical?Math.PI/2:0,Bn=Ie.text&&Ie.text.sections,Un=0;Un<R.length;Un++){var Xn=R[Un],rr=Xn.tl,lr=Xn.tr,br=Xn.bl,yr=Xn.br,Ar=Xn.tex,Sr=Xn.pixelOffsetTL,qr=Xn.pixelOffsetBR,zr=Xn.minFontScaleX,Hr=Xn.minFontScaleY,Rr=Xn.glyphOffset,Ir=Xn.isSDF,ri=Xn.sectionIndex,Yr=ln.vertexLength,Ci=Rr[1];_d(Ht,et.x,et.y,rr.x,Ci+rr.y,Ar.x,Ar.y,K,Ir,Sr.x,Sr.y,zr,Hr),_d(Ht,et.x,et.y,lr.x,Ci+lr.y,Ar.x+Ar.w,Ar.y,K,Ir,qr.x,Sr.y,zr,Hr),_d(Ht,et.x,et.y,br.x,Ci+br.y,Ar.x,Ar.y+Ar.h,K,Ir,Sr.x,qr.y,zr,Hr),_d(Ht,et.x,et.y,yr.x,Ci+yr.y,Ar.x+Ar.w,Ar.y+Ar.h,K,Ir,qr.x,qr.y,zr,Hr),Mg(M.dynamicLayoutVertexArray,et,An),Yt.emplaceBack(Yr,Yr+1,Yr+2),Yt.emplaceBack(Yr+1,Yr+2,Yr+3),ln.vertexLength+=4,ln.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Rr[0]),Un!==R.length-1&&ri===R[Un+1].sectionIndex||M.programConfigurations.populatePaintArrays(Ht.length,Ie,Ie.index,{},Bt,Bn&&Bn[ri])}M.placedSymbolArray.emplaceBack(et.x,et.y,dn,this.glyphOffsetArray.length-dn,Ln,ht,Mt,et.segment,K?K[0]:0,K?K[1]:0,ce[0],ce[1],He,0,!1,0,Lt)},Ti.prototype._addCollisionDebugVertex=function(M,R,K,ce,Me,Ie){return R.emplaceBack(0,0),M.emplaceBack(K.x,K.y,ce,Me,Math.round(Ie.x),Math.round(Ie.y))},Ti.prototype.addCollisionDebugVertices=function(M,R,K,ce,Me,Ie,He){var et=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),ht=et.vertexLength,Mt=Me.layoutVertexArray,Lt=Me.collisionVertexArray,Bt=He.anchorX,Yt=He.anchorY;this._addCollisionDebugVertex(Mt,Lt,Ie,Bt,Yt,new t(M,R)),this._addCollisionDebugVertex(Mt,Lt,Ie,Bt,Yt,new t(K,R)),this._addCollisionDebugVertex(Mt,Lt,Ie,Bt,Yt,new t(K,ce)),this._addCollisionDebugVertex(Mt,Lt,Ie,Bt,Yt,new t(M,ce)),et.vertexLength+=4;var Ht=Me.indexArray;Ht.emplaceBack(ht,ht+1),Ht.emplaceBack(ht+1,ht+2),Ht.emplaceBack(ht+2,ht+3),Ht.emplaceBack(ht+3,ht),et.primitiveLength+=4},Ti.prototype.addDebugCollisionBoxes=function(M,R,K,ce){for(var Me=M;Me<R;Me++){var Ie=this.collisionBoxArray.get(Me),He=Ie.x1,et=Ie.y1,ht=Ie.x2,Mt=Ie.y2;this.addCollisionDebugVertices(He,et,ht,Mt,ce?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,K)}},Ti.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hh(ee,jm.members,pt),this.iconCollisionBox=new Hh(ee,jm.members,pt);for(var M=0;M<this.symbolInstances.length;M++){var R=this.symbolInstances.get(M);this.addDebugCollisionBoxes(R.textBoxStartIndex,R.textBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.verticalTextBoxStartIndex,R.verticalTextBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.iconBoxStartIndex,R.iconBoxEndIndex,R,!1),this.addDebugCollisionBoxes(R.verticalIconBoxStartIndex,R.verticalIconBoxEndIndex,R,!1)}},Ti.prototype._deserializeCollisionBoxesForSymbol=function(M,R,K,ce,Me,Ie,He,et,ht){for(var Mt={},Lt=R;Lt<K;Lt++){var Bt=M.get(Lt);Mt.textBox={x1:Bt.x1,y1:Bt.y1,x2:Bt.x2,y2:Bt.y2,anchorPointX:Bt.anchorPointX,anchorPointY:Bt.anchorPointY},Mt.textFeatureIndex=Bt.featureIndex;break}for(var Yt=ce;Yt<Me;Yt++){var Ht=M.get(Yt);Mt.verticalTextBox={x1:Ht.x1,y1:Ht.y1,x2:Ht.x2,y2:Ht.y2,anchorPointX:Ht.anchorPointX,anchorPointY:Ht.anchorPointY},Mt.verticalTextFeatureIndex=Ht.featureIndex;break}for(var ln=Ie;ln<He;ln++){var dn=M.get(ln);Mt.iconBox={x1:dn.x1,y1:dn.y1,x2:dn.x2,y2:dn.y2,anchorPointX:dn.anchorPointX,anchorPointY:dn.anchorPointY},Mt.iconFeatureIndex=dn.featureIndex;break}for(var Ln=et;Ln<ht;Ln++){var An=M.get(Ln);Mt.verticalIconBox={x1:An.x1,y1:An.y1,x2:An.x2,y2:An.y2,anchorPointX:An.anchorPointX,anchorPointY:An.anchorPointY},Mt.verticalIconFeatureIndex=An.featureIndex;break}return Mt},Ti.prototype.deserializeCollisionBoxes=function(M){this.collisionArrays=[];for(var R=0;R<this.symbolInstances.length;R++){var K=this.symbolInstances.get(R);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(M,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},Ti.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ti.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ti.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ti.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ti.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ti.prototype.addIndicesForPlacedSymbol=function(M,R){for(var K=M.placedSymbolArray.get(R),ce=K.vertexStartIndex+4*K.numGlyphs,Me=K.vertexStartIndex;Me<ce;Me+=4)M.indexArray.emplaceBack(Me,Me+1,Me+2),M.indexArray.emplaceBack(Me+1,Me+2,Me+3)},Ti.prototype.getSortedSymbolIndexes=function(M){if(this.sortedAngle===M&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var R=Math.sin(M),K=Math.cos(M),ce=[],Me=[],Ie=[],He=0;He<this.symbolInstances.length;++He){Ie.push(He);var et=this.symbolInstances.get(He);ce.push(0|Math.round(R*et.anchorX+K*et.anchorY)),Me.push(et.featureIndex)}return Ie.sort(function(ht,Mt){return ce[ht]-ce[Mt]||Me[Mt]-Me[ht]}),Ie},Ti.prototype.addToSortKeyRanges=function(M,R){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===R?K.symbolInstanceEnd=M+1:this.sortKeyRanges.push({sortKey:R,symbolInstanceStart:M,symbolInstanceEnd:M+1})},Ti.prototype.sortFeatures=function(M){var R=this;if(this.sortFeaturesByY&&this.sortedAngle!==M&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(M),this.sortedAngle=M,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,ce=this.symbolInstanceIndexes;K<ce.length;K+=1){var Me=ce[K],Ie=this.symbolInstances.get(Me);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(He,et,ht){He>=0&&ht.indexOf(He)===et&&R.addIndicesForPlacedSymbol(R.text,He)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Er("SymbolBucket",Ti,{omit:["layers","collisionBoxArray","features","compareText"]}),Ti.MAX_GLYPHS=65535,Ti.addDynamicAttributes=Mg;var xw=new Hi({"symbol-placement":new Pr(je.layout_symbol["symbol-placement"]),"symbol-spacing":new Pr(je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Pr(je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Fr(je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Pr(je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Pr(je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Pr(je.layout_symbol["icon-ignore-placement"]),"icon-optional":new Pr(je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Pr(je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Fr(je.layout_symbol["icon-size"]),"icon-text-fit":new Pr(je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Pr(je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Fr(je.layout_symbol["icon-image"]),"icon-rotate":new Fr(je.layout_symbol["icon-rotate"]),"icon-padding":new Pr(je.layout_symbol["icon-padding"]),"icon-keep-upright":new Pr(je.layout_symbol["icon-keep-upright"]),"icon-offset":new Fr(je.layout_symbol["icon-offset"]),"icon-anchor":new Fr(je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Pr(je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Pr(je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Pr(je.layout_symbol["text-rotation-alignment"]),"text-field":new Fr(je.layout_symbol["text-field"]),"text-font":new Fr(je.layout_symbol["text-font"]),"text-size":new Fr(je.layout_symbol["text-size"]),"text-max-width":new Fr(je.layout_symbol["text-max-width"]),"text-line-height":new Pr(je.layout_symbol["text-line-height"]),"text-letter-spacing":new Fr(je.layout_symbol["text-letter-spacing"]),"text-justify":new Fr(je.layout_symbol["text-justify"]),"text-radial-offset":new Fr(je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Pr(je.layout_symbol["text-variable-anchor"]),"text-anchor":new Fr(je.layout_symbol["text-anchor"]),"text-max-angle":new Pr(je.layout_symbol["text-max-angle"]),"text-writing-mode":new Pr(je.layout_symbol["text-writing-mode"]),"text-rotate":new Fr(je.layout_symbol["text-rotate"]),"text-padding":new Pr(je.layout_symbol["text-padding"]),"text-keep-upright":new Pr(je.layout_symbol["text-keep-upright"]),"text-transform":new Fr(je.layout_symbol["text-transform"]),"text-offset":new Fr(je.layout_symbol["text-offset"]),"text-allow-overlap":new Pr(je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Pr(je.layout_symbol["text-ignore-placement"]),"text-optional":new Pr(je.layout_symbol["text-optional"])}),Sg={paint:new Hi({"icon-opacity":new Fr(je.paint_symbol["icon-opacity"]),"icon-color":new Fr(je.paint_symbol["icon-color"]),"icon-halo-color":new Fr(je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Fr(je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Fr(je.paint_symbol["icon-halo-blur"]),"icon-translate":new Pr(je.paint_symbol["icon-translate"]),"icon-translate-anchor":new Pr(je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Fr(je.paint_symbol["text-opacity"]),"text-color":new Fr(je.paint_symbol["text-color"],{runtimeType:on,getOverride:function(M){return M.textColor},hasOverride:function(M){return!!M.textColor}}),"text-halo-color":new Fr(je.paint_symbol["text-halo-color"]),"text-halo-width":new Fr(je.paint_symbol["text-halo-width"]),"text-halo-blur":new Fr(je.paint_symbol["text-halo-blur"]),"text-translate":new Pr(je.paint_symbol["text-translate"]),"text-translate-anchor":new Pr(je.paint_symbol["text-translate-anchor"])}),layout:xw},Pf=function(M){this.type=M.property.overrides?M.property.overrides.runtimeType:Tt,this.defaultValue=M};Pf.prototype.evaluate=function(M){if(M.formattedSection){var R=this.defaultValue.property.overrides;if(R&&R.hasOverride(M.formattedSection))return R.getOverride(M.formattedSection)}return M.feature&&M.featureState?this.defaultValue.evaluate(M.feature,M.featureState):this.defaultValue.property.specification.default},Pf.prototype.eachChild=function(M){this.defaultValue.isConstant()||M(this.defaultValue.value._styleExpression.expression)},Pf.prototype.outputDefined=function(){return!1},Pf.prototype.serialize=function(){return null},Er("FormatSectionOverride",Pf,{omit:["defaultValue"]});var bw=function(M){function R(K){M.call(this,K,Sg)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(K,ce){if(M.prototype.recalculate.call(this,K,ce),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var Ie=[],He=0,et=Me;He<et.length;He+=1){var ht=et[He];Ie.indexOf(ht)<0&&Ie.push(ht)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(K,ce,Me,Ie){var He=this.layout.get(K).evaluate(ce,{},Me,Ie),et=this._unevaluatedLayout._values[K];return et.isDataDriven()||Xs(et.value)||!He?He:function(ht,Mt){return Mt.replace(/{([^{}]+)}/g,function(Lt,Bt){return Bt in ht?String(ht[Bt]):""})}(ce.properties,He)},R.prototype.createBucket=function(K){return new Ti(K)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var K=0,ce=Sg.paint.overridableProperties;K<ce.length;K+=1){var Me=ce[K];if(R.hasPaintOverride(this.layout,Me)){var Ie,He=this.paint.get(Me),et=new Pf(He),ht=new ks(et,He.property.specification);Ie=He.value.kind==="constant"||He.value.kind==="source"?new yo("source",ht):new pl("composite",ht,He.value.zoomStops,He.value._interpolationType),this.paint._values[Me]=new _i(He.property,Ie,He.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(K,ce,Me){return!(!this.layout||ce.isDataDriven()||Me.isDataDriven())&&R.hasPaintOverride(this.layout,K)},R.hasPaintOverride=function(K,ce){var Me=K.get("text-field"),Ie=Sg.paint.properties[ce],He=!1,et=function(Lt){for(var Bt=0,Yt=Lt;Bt<Yt.length;Bt+=1){var Ht=Yt[Bt];if(Ie.overrides&&Ie.overrides.hasOverride(Ht))return void(He=!0)}};if(Me.value.kind==="constant"&&Me.value.value instanceof $n)et(Me.value.value.sections);else if(Me.value.kind==="source"){var ht=function(Lt){if(!He)if(Lt instanceof $t&&er(Lt.value)===tn){var Bt=Lt.value;et(Bt.sections)}else Lt instanceof In?et(Lt.sections):Lt.eachChild(ht)},Mt=Me.value;Mt._styleExpression&&ht(Mt._styleExpression.expression)}return He},R}(ui),_w={paint:new Hi({"background-color":new Pr(je.paint_background["background-color"]),"background-pattern":new Vo(je.paint_background["background-pattern"]),"background-opacity":new Pr(je.paint_background["background-opacity"])})},ww=function(M){function R(K){M.call(this,K,_w)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(ui),Tw={paint:new Hi({"raster-opacity":new Pr(je.paint_raster["raster-opacity"]),"raster-hue-rotate":new Pr(je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Pr(je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Pr(je.paint_raster["raster-brightness-max"]),"raster-saturation":new Pr(je.paint_raster["raster-saturation"]),"raster-contrast":new Pr(je.paint_raster["raster-contrast"]),"raster-resampling":new Pr(je.paint_raster["raster-resampling"]),"raster-fade-duration":new Pr(je.paint_raster["raster-fade-duration"])})},kw=function(M){function R(K){M.call(this,K,Tw)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(ui),Aw=function(M){function R(K){M.call(this,K,{}),this.implementation=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},R.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},R}(ui),Mw={circle:o3,heatmap:l3,hillshade:c3,fill:S3,"fill-extrusion":R3,line:H3,symbol:bw,background:ww,raster:kw},py=r.HTMLImageElement,dy=r.HTMLCanvasElement,gy=r.HTMLVideoElement,vy=r.ImageData,wd=r.ImageBitmap,Vc=function(M,R,K,ce){this.context=M,this.format=K,this.texture=M.gl.createTexture(),this.update(R,ce)};Vc.prototype.update=function(M,R,K){var ce=M.width,Me=M.height,Ie=!(this.size&&this.size[0]===ce&&this.size[1]===Me||K),He=this.context,et=He.gl;if(this.useMipmap=!!(R&&R.useMipmap),et.bindTexture(et.TEXTURE_2D,this.texture),He.pixelStoreUnpackFlipY.set(!1),He.pixelStoreUnpack.set(1),He.pixelStoreUnpackPremultiplyAlpha.set(this.format===et.RGBA&&(!R||R.premultiply!==!1)),Ie)this.size=[ce,Me],M instanceof py||M instanceof dy||M instanceof gy||M instanceof vy||wd&&M instanceof wd?et.texImage2D(et.TEXTURE_2D,0,this.format,this.format,et.UNSIGNED_BYTE,M):et.texImage2D(et.TEXTURE_2D,0,this.format,ce,Me,0,this.format,et.UNSIGNED_BYTE,M.data);else{var ht=K||{x:0,y:0},Mt=ht.x,Lt=ht.y;M instanceof py||M instanceof dy||M instanceof gy||M instanceof vy||wd&&M instanceof wd?et.texSubImage2D(et.TEXTURE_2D,0,Mt,Lt,et.RGBA,et.UNSIGNED_BYTE,M):et.texSubImage2D(et.TEXTURE_2D,0,Mt,Lt,ce,Me,et.RGBA,et.UNSIGNED_BYTE,M.data)}this.useMipmap&&this.isSizePowerOfTwo()&&et.generateMipmap(et.TEXTURE_2D)},Vc.prototype.bind=function(M,R,K){var ce=this.context.gl;ce.bindTexture(ce.TEXTURE_2D,this.texture),K!==ce.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=ce.LINEAR),M!==this.filter&&(ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,M),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,K||M),this.filter=M),R!==this.wrap&&(ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,R),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,R),this.wrap=R)},Vc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Vc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Eg=function(M){var R=this;this._callback=M,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){R._triggered=!1,R._callback()})};Eg.prototype.trigger=function(){var M=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){M._triggered=!1,M._callback()},0))},Eg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Of=function(M,R,K){this.target=M,this.parent=R,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Eg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?M:r};function my(M,R,K){var ce=2*Math.PI*6378137/256/Math.pow(2,K);return[M*ce-2*Math.PI*6378137/2,R*ce-2*Math.PI*6378137/2]}Of.prototype.send=function(M,R,K,ce,Me){var Ie=this;Me===void 0&&(Me=!1);var He=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[He]=K);var et=z(this.globalScope)?void 0:[];return this.target.postMessage({id:He,type:M,hasCallback:!!K,targetMapId:ce,mustQueue:Me,sourceMapId:this.mapId,data:Cs(R,et)},et),{cancel:function(){K&&delete Ie.callbacks[He],Ie.target.postMessage({id:He,type:"<cancel>",targetMapId:ce,sourceMapId:Ie.mapId})}}},Of.prototype.receive=function(M){var R=M.data,K=R.id;if(K&&(!R.targetMapId||this.mapId===R.targetMapId))if(R.type==="<cancel>"){delete this.tasks[K];var ce=this.cancelCallbacks[K];delete this.cancelCallbacks[K],ce&&ce()}else I()||R.mustQueue?(this.tasks[K]=R,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,R)},Of.prototype.process=function(){if(this.taskQueue.length){var M=this.taskQueue.shift(),R=this.tasks[M];delete this.tasks[M],this.taskQueue.length&&this.invoker.trigger(),R&&this.processTask(M,R)}},Of.prototype.processTask=function(M,R){var K=this;if(R.type==="<response>"){var ce=this.callbacks[M];delete this.callbacks[M],ce&&(R.error?ce(el(R.error)):ce(null,el(R.data)))}else{var Me=!1,Ie=z(this.globalScope)?void 0:[],He=R.hasCallback?function(Lt,Bt){Me=!0,delete K.cancelCallbacks[M],K.target.postMessage({id:M,type:"<response>",sourceMapId:K.mapId,error:Lt?Cs(Lt):null,data:Cs(Bt,Ie)},Ie)}:function(Lt){Me=!0},et=null,ht=el(R.data);if(this.parent[R.type])et=this.parent[R.type](R.sourceMapId,ht,He);else if(this.parent.getWorkerSource){var Mt=R.type.split(".");et=this.parent.getWorkerSource(R.sourceMapId,Mt[0],ht.source)[Mt[1]](ht,He)}else He(new Error("Could not find function "+R.type));!Me&&et&&et.cancel&&(this.cancelCallbacks[M]=et.cancel)}},Of.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ya=function(M,R){M&&(R?this.setSouthWest(M).setNorthEast(R):M.length===4?this.setSouthWest([M[0],M[1]]).setNorthEast([M[2],M[3]]):this.setSouthWest(M[0]).setNorthEast(M[1]))};ya.prototype.setNorthEast=function(M){return this._ne=M instanceof qi?new qi(M.lng,M.lat):qi.convert(M),this},ya.prototype.setSouthWest=function(M){return this._sw=M instanceof qi?new qi(M.lng,M.lat):qi.convert(M),this},ya.prototype.extend=function(M){var R,K,ce=this._sw,Me=this._ne;if(M instanceof qi)R=M,K=M;else{if(!(M instanceof ya)){if(Array.isArray(M)){if(M.length===4||M.every(Array.isArray)){var Ie=M;return this.extend(ya.convert(Ie))}var He=M;return this.extend(qi.convert(He))}return this}if(R=M._sw,K=M._ne,!R||!K)return this}return ce||Me?(ce.lng=Math.min(R.lng,ce.lng),ce.lat=Math.min(R.lat,ce.lat),Me.lng=Math.max(K.lng,Me.lng),Me.lat=Math.max(K.lat,Me.lat)):(this._sw=new qi(R.lng,R.lat),this._ne=new qi(K.lng,K.lat)),this},ya.prototype.getCenter=function(){return new qi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ya.prototype.getSouthWest=function(){return this._sw},ya.prototype.getNorthEast=function(){return this._ne},ya.prototype.getNorthWest=function(){return new qi(this.getWest(),this.getNorth())},ya.prototype.getSouthEast=function(){return new qi(this.getEast(),this.getSouth())},ya.prototype.getWest=function(){return this._sw.lng},ya.prototype.getSouth=function(){return this._sw.lat},ya.prototype.getEast=function(){return this._ne.lng},ya.prototype.getNorth=function(){return this._ne.lat},ya.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ya.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ya.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ya.prototype.contains=function(M){var R=qi.convert(M),K=R.lng,ce=R.lat,Me=this._sw.lat<=ce&&ce<=this._ne.lat,Ie=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=K&&K>=this._ne.lng),Me&&Ie},ya.convert=function(M){return!M||M instanceof ya?M:new ya(M)};var yy=63710088e-1,qi=function(M,R){if(isNaN(M)||isNaN(R))throw new Error("Invalid LngLat object: ("+M+", "+R+")");if(this.lng=+M,this.lat=+R,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};qi.prototype.wrap=function(){return new qi(h(this.lng,-180,180),this.lat)},qi.prototype.toArray=function(){return[this.lng,this.lat]},qi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},qi.prototype.distanceTo=function(M){var R=Math.PI/180,K=this.lat*R,ce=M.lat*R,Me=Math.sin(K)*Math.sin(ce)+Math.cos(K)*Math.cos(ce)*Math.cos((M.lng-this.lng)*R);return yy*Math.acos(Math.min(Me,1))},qi.prototype.toBounds=function(M){M===void 0&&(M=0);var R=360*M/40075017,K=R/Math.cos(Math.PI/180*this.lat);return new ya(new qi(this.lng-K,this.lat-R),new qi(this.lng+K,this.lat+R))},qi.convert=function(M){if(M instanceof qi)return M;if(Array.isArray(M)&&(M.length===2||M.length===3))return new qi(Number(M[0]),Number(M[1]));if(!Array.isArray(M)&&typeof M=="object"&&M!==null)return new qi(Number("lng"in M?M.lng:M.lon),Number(M.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var xy=2*Math.PI*yy;function by(M){return xy*Math.cos(M*Math.PI/180)}function _y(M){return(180+M)/360}function wy(M){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+M*Math.PI/360)))/360}function Ty(M,R){return M/by(R)}function Lg(M){var R=180-360*M;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}var Hc=function(M,R,K){K===void 0&&(K=0),this.x=+M,this.y=+R,this.z=+K};Hc.fromLngLat=function(M,R){R===void 0&&(R=0);var K=qi.convert(M);return new Hc(_y(K.lng),wy(K.lat),Ty(R,K.lat))},Hc.prototype.toLngLat=function(){return new qi(360*this.x-180,Lg(this.y))},Hc.prototype.toAltitude=function(){return M=this.z,R=this.y,M*by(Lg(R));var M,R},Hc.prototype.meterInMercatorCoordinateUnits=function(){return 1/xy*(M=Lg(this.y),1/Math.cos(M*Math.PI/180));var M};var qc=function(M,R,K){this.z=M,this.x=R,this.y=K,this.key=qh(0,M,M,R,K)};qc.prototype.equals=function(M){return this.z===M.z&&this.x===M.x&&this.y===M.y},qc.prototype.url=function(M,R){var K,ce,Me,Ie,He,et=(K=this.x,ce=this.y,Me=this.z,Ie=my(256*K,256*(ce=Math.pow(2,Me)-ce-1),Me),He=my(256*(K+1),256*(ce+1),Me),Ie[0]+","+Ie[1]+","+He[0]+","+He[1]),ht=function(Mt,Lt,Bt){for(var Yt,Ht="",ln=Mt;ln>0;ln--)Ht+=(Lt&(Yt=1<<ln-1)?1:0)+(Bt&Yt?2:0);return Ht}(this.z,this.x,this.y);return M[(this.x+this.y)%M.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(R==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ht).replace("{bbox-epsg-3857}",et)},qc.prototype.getTilePoint=function(M){var R=Math.pow(2,this.z);return new t((M.x*R-this.x)*ai,(M.y*R-this.y)*ai)},qc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ky=function(M,R){this.wrap=M,this.canonical=R,this.key=qh(M,R.z,R.z,R.x,R.y)},xa=function(M,R,K,ce,Me){this.overscaledZ=M,this.wrap=R,this.canonical=new qc(K,+ce,+Me),this.key=qh(R,M,K,ce,Me)};function qh(M,R,K,ce,Me){(M*=2)<0&&(M=-1*M-1);var Ie=1<<K;return(Ie*Ie*M+Ie*Me+ce).toString(36)+K.toString(36)+R.toString(36)}xa.prototype.equals=function(M){return this.overscaledZ===M.overscaledZ&&this.wrap===M.wrap&&this.canonical.equals(M.canonical)},xa.prototype.scaledTo=function(M){var R=this.canonical.z-M;return M>this.canonical.z?new xa(M,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xa(M,this.wrap,M,this.canonical.x>>R,this.canonical.y>>R)},xa.prototype.calculateScaledKey=function(M,R){var K=this.canonical.z-M;return M>this.canonical.z?qh(this.wrap*+R,M,this.canonical.z,this.canonical.x,this.canonical.y):qh(this.wrap*+R,M,M,this.canonical.x>>K,this.canonical.y>>K)},xa.prototype.isChildOf=function(M){if(M.wrap!==this.wrap)return!1;var R=this.canonical.z-M.canonical.z;return M.overscaledZ===0||M.overscaledZ<this.overscaledZ&&M.canonical.x===this.canonical.x>>R&&M.canonical.y===this.canonical.y>>R},xa.prototype.children=function(M){if(this.overscaledZ>=M)return[new xa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var R=this.canonical.z+1,K=2*this.canonical.x,ce=2*this.canonical.y;return[new xa(R,this.wrap,R,K,ce),new xa(R,this.wrap,R,K+1,ce),new xa(R,this.wrap,R,K,ce+1),new xa(R,this.wrap,R,K+1,ce+1)]},xa.prototype.isLessThan=function(M){return this.wrap<M.wrap||!(this.wrap>M.wrap)&&(this.overscaledZ<M.overscaledZ||!(this.overscaledZ>M.overscaledZ)&&(this.canonical.x<M.canonical.x||!(this.canonical.x>M.canonical.x)&&this.canonical.y<M.canonical.y))},xa.prototype.wrapped=function(){return new xa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},xa.prototype.unwrapTo=function(M){return new xa(this.overscaledZ,M,this.canonical.z,this.canonical.x,this.canonical.y)},xa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},xa.prototype.toUnwrapped=function(){return new ky(this.wrap,this.canonical)},xa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},xa.prototype.getTilePoint=function(M){return this.canonical.getTilePoint(new Hc(M.x-this.wrap,M.y))},Er("CanonicalTileID",qc),Er("OverscaledTileID",xa,{omit:["posMatrix"]});var Iu=function(M,R,K){if(this.uid=M,R.height!==R.width)throw new RangeError("DEM tiles must be square");if(K&&K!=="mapbox"&&K!=="terrarium")return E('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=R.height;var ce=this.dim=R.height-2;this.data=new Uint32Array(R.data.buffer),this.encoding=K||"mapbox";for(var Me=0;Me<ce;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(ce,Me)]=this.data[this._idx(ce-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,ce)]=this.data[this._idx(Me,ce-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ce,-1)]=this.data[this._idx(ce-1,0)],this.data[this._idx(-1,ce)]=this.data[this._idx(0,ce-1)],this.data[this._idx(ce,ce)]=this.data[this._idx(ce-1,ce-1)]};Iu.prototype.get=function(M,R){var K=new Uint8Array(this.data.buffer),ce=4*this._idx(M,R);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(K[ce],K[ce+1],K[ce+2])},Iu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Iu.prototype._idx=function(M,R){if(M<-1||M>=this.dim+1||R<-1||R>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(R+1)*this.stride+(M+1)},Iu.prototype._unpackMapbox=function(M,R,K){return(256*M*256+256*R+K)/10-1e4},Iu.prototype._unpackTerrarium=function(M,R,K){return 256*M+R+K/256-32768},Iu.prototype.getPixels=function(){return new qo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Iu.prototype.backfillBorder=function(M,R,K){if(this.dim!==M.dim)throw new Error("dem dimension mismatch");var ce=R*this.dim,Me=R*this.dim+this.dim,Ie=K*this.dim,He=K*this.dim+this.dim;switch(R){case-1:ce=Me-1;break;case 1:Me=ce+1}switch(K){case-1:Ie=He-1;break;case 1:He=Ie+1}for(var et=-R*this.dim,ht=-K*this.dim,Mt=Ie;Mt<He;Mt++)for(var Lt=ce;Lt<Me;Lt++)this.data[this._idx(Lt,Mt)]=M.data[this._idx(Lt+et,Mt+ht)]},Er("DEMData",Iu);var Td=function(M){this._stringToNumber={},this._numberToString=[];for(var R=0;R<M.length;R++){var K=M[R];this._stringToNumber[K]=R,this._numberToString[R]=K}};Td.prototype.encode=function(M){return this._stringToNumber[M]},Td.prototype.decode=function(M){return this._numberToString[M]};var kd=function(M,R,K,ce,Me){this.type="Feature",this._vectorTileFeature=M,M._z=R,M._x=K,M._y=ce,this.properties=M.properties,this.id=Me},Cg={geometry:{configurable:!0}};Cg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Cg.geometry.set=function(M){this._geometry=M},kd.prototype.toJSON=function(){var M={geometry:this.geometry};for(var R in this)R!=="_geometry"&&R!=="_vectorTileFeature"&&(M[R]=this[R]);return M},Object.defineProperties(kd.prototype,Cg);var If=function(){this.state={},this.stateChanges={},this.deletedStates={}};If.prototype.updateState=function(M,R,K){var ce=String(R);if(this.stateChanges[M]=this.stateChanges[M]||{},this.stateChanges[M][ce]=this.stateChanges[M][ce]||{},c(this.stateChanges[M][ce],K),this.deletedStates[M]===null)for(var Me in this.deletedStates[M]={},this.state[M])Me!==ce&&(this.deletedStates[M][Me]=null);else if(this.deletedStates[M]&&this.deletedStates[M][ce]===null)for(var Ie in this.deletedStates[M][ce]={},this.state[M][ce])K[Ie]||(this.deletedStates[M][ce][Ie]=null);else for(var He in K)this.deletedStates[M]&&this.deletedStates[M][ce]&&this.deletedStates[M][ce][He]===null&&delete this.deletedStates[M][ce][He]},If.prototype.removeFeatureState=function(M,R,K){if(this.deletedStates[M]!==null){var ce=String(R);if(this.deletedStates[M]=this.deletedStates[M]||{},K&&R!==void 0)this.deletedStates[M][ce]!==null&&(this.deletedStates[M][ce]=this.deletedStates[M][ce]||{},this.deletedStates[M][ce][K]=null);else if(R!==void 0)if(this.stateChanges[M]&&this.stateChanges[M][ce])for(K in this.deletedStates[M][ce]={},this.stateChanges[M][ce])this.deletedStates[M][ce][K]=null;else this.deletedStates[M][ce]=null;else this.deletedStates[M]=null}},If.prototype.getState=function(M,R){var K=String(R),ce=this.state[M]||{},Me=this.stateChanges[M]||{},Ie=c({},ce[K],Me[K]);if(this.deletedStates[M]===null)return{};if(this.deletedStates[M]){var He=this.deletedStates[M][R];if(He===null)return{};for(var et in He)delete Ie[et]}return Ie},If.prototype.initializeTileState=function(M,R){M.setFeatureState(this.state,R)},If.prototype.coalesceChanges=function(M,R){var K={};for(var ce in this.stateChanges){this.state[ce]=this.state[ce]||{};var Me={};for(var Ie in this.stateChanges[ce])this.state[ce][Ie]||(this.state[ce][Ie]={}),c(this.state[ce][Ie],this.stateChanges[ce][Ie]),Me[Ie]=this.state[ce][Ie];K[ce]=Me}for(var He in this.deletedStates){this.state[He]=this.state[He]||{};var et={};if(this.deletedStates[He]===null)for(var ht in this.state[He])et[ht]={},this.state[He][ht]={};else for(var Mt in this.deletedStates[He]){if(this.deletedStates[He][Mt]===null)this.state[He][Mt]={};else for(var Lt=0,Bt=Object.keys(this.deletedStates[He][Mt]);Lt<Bt.length;Lt+=1){var Yt=Bt[Lt];delete this.state[He][Mt][Yt]}et[Mt]=this.state[He][Mt]}K[He]=K[He]||{},c(K[He],et)}if(this.stateChanges={},this.deletedStates={},Object.keys(K).length!==0)for(var Ht in M)M[Ht].setFeatureState(K,R)};var zu=function(M,R){this.tileID=M,this.x=M.canonical.x,this.y=M.canonical.y,this.z=M.canonical.z,this.grid=new Qs(ai,16,0),this.grid3D=new Qs(ai,16,0),this.featureIndexArray=new Cn,this.promoteId=R};function Ay(M,R,K,ce,Me){return w(M,function(Ie,He){var et=R instanceof nl?R.get(He):null;return et&&et.evaluate?et.evaluate(K,ce,Me):et})}function My(M){for(var R=1/0,K=1/0,ce=-1/0,Me=-1/0,Ie=0,He=M;Ie<He.length;Ie+=1){var et=He[Ie];R=Math.min(R,et.x),K=Math.min(K,et.y),ce=Math.max(ce,et.x),Me=Math.max(Me,et.y)}return{minX:R,minY:K,maxX:ce,maxY:Me}}function Sw(M,R){return R-M}zu.prototype.insert=function(M,R,K,ce,Me,Ie){var He=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,ce,Me);for(var et=Ie?this.grid3D:this.grid,ht=0;ht<R.length;ht++){for(var Mt=R[ht],Lt=[1/0,1/0,-1/0,-1/0],Bt=0;Bt<Mt.length;Bt++){var Yt=Mt[Bt];Lt[0]=Math.min(Lt[0],Yt.x),Lt[1]=Math.min(Lt[1],Yt.y),Lt[2]=Math.max(Lt[2],Yt.x),Lt[3]=Math.max(Lt[3],Yt.y)}Lt[0]<ai&&Lt[1]<ai&&Lt[2]>=0&&Lt[3]>=0&&et.insert(He,Lt[0],Lt[1],Lt[2],Lt[3])}},zu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _f.VectorTile(new hd(this.rawTileData)).layers,this.sourceLayerCoder=new Td(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zu.prototype.query=function(M,R,K,ce){var Me=this;this.loadVTLayers();for(var Ie=M.params||{},He=ai/M.tileSize/M.scale,et=Fl(Ie.filter),ht=M.queryGeometry,Mt=M.queryPadding*He,Lt=My(ht),Bt=this.grid.query(Lt.minX-Mt,Lt.minY-Mt,Lt.maxX+Mt,Lt.maxY+Mt),Yt=My(M.cameraQueryGeometry),Ht=0,ln=this.grid3D.query(Yt.minX-Mt,Yt.minY-Mt,Yt.maxX+Mt,Yt.maxY+Mt,function(Xn,rr,lr,br){return function(yr,Ar,Sr,qr,zr){for(var Hr=0,Rr=yr;Hr<Rr.length;Hr+=1){var Ir=Rr[Hr];if(Ar<=Ir.x&&Sr<=Ir.y&&qr>=Ir.x&&zr>=Ir.y)return!0}var ri=[new t(Ar,Sr),new t(Ar,zr),new t(qr,zr),new t(qr,Sr)];if(yr.length>2){for(var Yr=0,Ci=ri;Yr<Ci.length;Yr+=1)if(gu(yr,Ci[Yr]))return!0}for(var Vr=0;Vr<yr.length-1;Vr++)if(e3(yr[Vr],yr[Vr+1],ri))return!0;return!1}(M.cameraQueryGeometry,Xn-Mt,rr-Mt,lr+Mt,br+Mt)});Ht<ln.length;Ht+=1){var dn=ln[Ht];Bt.push(dn)}Bt.sort(Sw);for(var Ln,An={},Bn=function(Xn){var rr=Bt[Xn];if(rr!==Ln){Ln=rr;var lr=Me.featureIndexArray.get(rr),br=null;Me.loadMatchingFeature(An,lr.bucketIndex,lr.sourceLayerIndex,lr.featureIndex,et,Ie.layers,Ie.availableImages,R,K,ce,function(yr,Ar,Sr){return br||(br=os(yr)),Ar.queryIntersectsFeature(ht,yr,Sr,br,Me.z,M.transform,He,M.pixelPosMatrix)})}},Un=0;Un<Bt.length;Un++)Bn(Un);return An},zu.prototype.loadMatchingFeature=function(M,R,K,ce,Me,Ie,He,et,ht,Mt,Lt){var Bt=this.bucketLayerIDs[R];if(!Ie||function(yr,Ar){for(var Sr=0;Sr<yr.length;Sr++)if(Ar.indexOf(yr[Sr])>=0)return!0;return!1}(Ie,Bt)){var Yt=this.sourceLayerCoder.decode(K),Ht=this.vtLayers[Yt].feature(ce);if(Me.needGeometry){var ln=Di(Ht,!0);if(!Me.filter(new $r(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!Me.filter(new $r(this.tileID.overscaledZ),Ht))return;for(var dn=this.getId(Ht,Yt),Ln=0;Ln<Bt.length;Ln++){var An=Bt[Ln];if(!(Ie&&Ie.indexOf(An)<0)){var Bn=et[An];if(Bn){var Un={};dn!==void 0&&Mt&&(Un=Mt.getState(Bn.sourceLayer||"_geojsonTileLayer",dn));var Xn=c({},ht[An]);Xn.paint=Ay(Xn.paint,Bn.paint,Ht,Un,He),Xn.layout=Ay(Xn.layout,Bn.layout,Ht,Un,He);var rr=!Lt||Lt(Ht,Bn,Un);if(rr){var lr=new kd(Ht,this.z,this.x,this.y,dn);lr.layer=Xn;var br=M[An];br===void 0&&(br=M[An]=[]),br.push({featureIndex:ce,feature:lr,intersectionZ:rr})}}}}}},zu.prototype.lookupSymbolFeatures=function(M,R,K,ce,Me,Ie,He,et){var ht={};this.loadVTLayers();for(var Mt=Fl(Me),Lt=0,Bt=M;Lt<Bt.length;Lt+=1){var Yt=Bt[Lt];this.loadMatchingFeature(ht,K,ce,Yt,Mt,Ie,He,et,R)}return ht},zu.prototype.hasLayer=function(M){for(var R=0,K=this.bucketLayerIDs;R<K.length;R+=1)for(var ce=0,Me=K[R];ce<Me.length;ce+=1)if(M===Me[ce])return!0;return!1},zu.prototype.getId=function(M,R){var K=M.id;if(this.promoteId){var ce=typeof this.promoteId=="string"?this.promoteId:this.promoteId[R];typeof(K=M.properties[ce])=="boolean"&&(K=Number(K))}return K},Er("FeatureIndex",zu,{omit:["rawTileData","sourceLayerCoder"]});var Ra=function(M,R){this.tileID=M,this.uid=p(),this.uses=0,this.tileSize=R,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ra.prototype.registerFadeDuration=function(M){var R=M+this.timeAdded;R<ne.now()||this.fadeEndTime&&R<this.fadeEndTime||(this.fadeEndTime=R)},Ra.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ra.prototype.loadVectorData=function(M,R,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",M){for(var ce in M.featureIndex&&(this.latestFeatureIndex=M.featureIndex,M.rawTileData?(this.latestRawTileData=M.rawTileData,this.latestFeatureIndex.rawTileData=M.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=M.collisionBoxArray,this.buckets=function(Mt,Lt){var Bt={};if(!Lt)return Bt;for(var Yt=function(){var dn=ln[Ht],Ln=dn.layerIds.map(function(Xn){return Lt.getLayer(Xn)}).filter(Boolean);if(Ln.length!==0){dn.layers=Ln,dn.stateDependentLayerIds&&(dn.stateDependentLayers=dn.stateDependentLayerIds.map(function(Xn){return Ln.filter(function(rr){return rr.id===Xn})[0]}));for(var An=0,Bn=Ln;An<Bn.length;An+=1){var Un=Bn[An];Bt[Un.id]=dn}}},Ht=0,ln=Mt;Ht<ln.length;Ht+=1)Yt();return Bt}(M.buckets,R.style),this.hasSymbolBuckets=!1,this.buckets){var Me=this.buckets[ce];if(Me instanceof Ti){if(this.hasSymbolBuckets=!0,!K)break;Me.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var He=this.buckets[Ie];if(He instanceof Ti&&He.hasRTLText){this.hasRTLText=!0,Da.isLoading()||Da.isLoaded()||xl()!=="deferred"||bl();break}}for(var et in this.queryPadding=0,this.buckets){var ht=this.buckets[et];this.queryPadding=Math.max(this.queryPadding,R.style.getLayer(et).queryRadius(ht))}M.imageAtlas&&(this.imageAtlas=M.imageAtlas),M.glyphAtlasImage&&(this.glyphAtlasImage=M.glyphAtlasImage)}else this.collisionBoxArray=new Ct},Ra.prototype.unloadVectorData=function(){for(var M in this.buckets)this.buckets[M].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ra.prototype.getBucket=function(M){return this.buckets[M.id]},Ra.prototype.upload=function(M){for(var R in this.buckets){var K=this.buckets[R];K.uploadPending()&&K.upload(M)}var ce=M.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Vc(M,this.imageAtlas.image,ce.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Vc(M,this.glyphAtlasImage,ce.ALPHA),this.glyphAtlasImage=null)},Ra.prototype.prepare=function(M){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(M,this.imageAtlasTexture)},Ra.prototype.queryRenderedFeatures=function(M,R,K,ce,Me,Ie,He,et,ht,Mt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ce,cameraQueryGeometry:Me,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Mt,transform:et,params:He,queryPadding:this.queryPadding*ht},M,R,K):{}},Ra.prototype.querySourceFeatures=function(M,R){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var ce=K.loadVTLayers(),Me=R?R.sourceLayer:"",Ie=ce._geojsonTileLayer||ce[Me];if(Ie)for(var He=Fl(R&&R.filter),et=this.tileID.canonical,ht=et.z,Mt=et.x,Lt=et.y,Bt={z:ht,x:Mt,y:Lt},Yt=0;Yt<Ie.length;Yt++){var Ht=Ie.feature(Yt);if(He.needGeometry){var ln=Di(Ht,!0);if(!He.filter(new $r(this.tileID.overscaledZ),ln,this.tileID.canonical))continue}else if(!He.filter(new $r(this.tileID.overscaledZ),Ht))continue;var dn=K.getId(Ht,Me),Ln=new kd(Ht,ht,Mt,Lt,dn);Ln.tile=Bt,M.push(Ln)}}},Ra.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ra.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ra.prototype.setExpiryData=function(M){var R=this.expirationTime;if(M.cacheControl){var K=D(M.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else M.expires&&(this.expirationTime=new Date(M.expires).getTime());if(this.expirationTime){var ce=Date.now(),Me=!1;if(this.expirationTime>ce)Me=!1;else if(R)if(this.expirationTime<R)Me=!0;else{var Ie=this.expirationTime-R;Ie?this.expirationTime=ce+Math.max(Ie,3e4):Me=!0}else Me=!0;Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ra.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ra.prototype.setFeatureState=function(M,R){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(M).length!==0){var K=this.latestFeatureIndex.loadVTLayers();for(var ce in this.buckets)if(R.style.hasLayer(ce)){var Me=this.buckets[ce],Ie=Me.layers[0].sourceLayer||"_geojsonTileLayer",He=K[Ie],et=M[Ie];if(He&&et&&Object.keys(et).length!==0){Me.update(et,He,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ht=R&&R.style&&R.style.getLayer(ce);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(Me)))}}}},Ra.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ra.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ne.now()},Ra.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ra.prototype.setHoldDuration=function(M){this.symbolFadeHoldUntil=ne.now()+M},Ra.prototype.setDependencies=function(M,R){for(var K={},ce=0,Me=R;ce<Me.length;ce+=1)K[Me[ce]]=!0;this.dependencies[M]=K},Ra.prototype.hasDependency=function(M,R){for(var K=0,ce=M;K<ce.length;K+=1){var Me=ce[K],Ie=this.dependencies[Me];if(Ie){for(var He=0,et=R;He<et.length;He+=1)if(Ie[et[He]])return!0}}return!1};var oc=r.performance,Sy=function(M){this._marks={start:[M.url,"start"].join("#"),end:[M.url,"end"].join("#"),measure:M.url.toString()},oc.mark(this._marks.start)};Sy.prototype.finish=function(){oc.mark(this._marks.end);var M=oc.getEntriesByName(this._marks.measure);return M.length===0&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),M=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),M},o.Actor=Of,o.AlphaImage=Uc,o.CanonicalTileID=qc,o.CollisionBoxArray=Ct,o.Color=Tn,o.DEMData=Iu,o.DataConstantProperty=Pr,o.DictionaryCoder=Td,o.EXTENT=ai,o.ErrorEvent=bt,o.EvaluationParameters=$r,o.Event=xt,o.Evented=qe,o.FeatureIndex=zu,o.FillBucket=Wl,o.FillExtrusionBucket=Yl,o.ImageAtlas=jh,o.ImagePosition=dd,o.LineBucket=Ao,o.LngLat=qi,o.LngLatBounds=ya,o.MercatorCoordinate=Hc,o.ONE_EM=Va,o.OverscaledTileID=xa,o.Point=t,o.Point$1=t,o.Properties=Hi,o.Protobuf=hd,o.RGBAImage=qo,o.RequestManager=pe,o.RequestPerformance=Sy,o.ResourceType=yt,o.SegmentVector=Wn,o.SourceFeatureState=If,o.StructArrayLayout1ui2=vt,o.StructArrayLayout2f1f2i16=ae,o.StructArrayLayout2i4=Is,o.StructArrayLayout3ui6=we,o.StructArrayLayout4i8=Pu,o.SymbolBucket=Ti,o.Texture=Vc,o.Tile=Ra,o.Transitionable=To,o.Uniform1f=Zr,o.Uniform1i=Wr,o.Uniform2f=Qr,o.Uniform3f=wi,o.Uniform4f=Bi,o.UniformColor=Ma,o.UniformMatrix4f=va,o.UnwrappedTileID=ky,o.ValidationError=lt,o.WritingMode=Ds,o.ZoomHistory=yl,o.add=function(M,R,K){return M[0]=R[0]+K[0],M[1]=R[1]+K[1],M[2]=R[2]+K[2],M},o.addDynamicAttributes=Mg,o.asyncAll=function(M,R,K){if(!M.length)return K(null,[]);var ce=M.length,Me=new Array(M.length),Ie=null;M.forEach(function(He,et){R(He,function(ht,Mt){ht&&(Ie=ht),Me[et]=Mt,--ce==0&&K(Ie,Me)})})},o.bezier=a,o.bindAll=y,o.browser=ne,o.cacheEntryPossiblyAdded=function(M){++mt>De&&(M.getActor().send("enforceCacheSizeLimit",Ee),mt=0)},o.clamp=u,o.clearTileCache=function(M){var R=r.caches.delete(ke);M&&R.catch(M).then(function(){return M()})},o.clipLine=sy,o.clone=function(M){var R=new zs(16);return R[0]=M[0],R[1]=M[1],R[2]=M[2],R[3]=M[3],R[4]=M[4],R[5]=M[5],R[6]=M[6],R[7]=M[7],R[8]=M[8],R[9]=M[9],R[10]=M[10],R[11]=M[11],R[12]=M[12],R[13]=M[13],R[14]=M[14],R[15]=M[15],R},o.clone$1=S,o.clone$2=function(M){var R=new zs(3);return R[0]=M[0],R[1]=M[1],R[2]=M[2],R},o.collisionCircleLayout=Y3,o.config=$,o.create=function(){var M=new zs(16);return zs!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=0,M[12]=0,M[13]=0,M[14]=0),M[0]=1,M[5]=1,M[10]=1,M[15]=1,M},o.create$1=function(){var M=new zs(9);return zs!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[5]=0,M[6]=0,M[7]=0),M[0]=1,M[4]=1,M[8]=1,M},o.create$2=function(){var M=new zs(4);return zs!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M},o.createCommonjsModule=_,o.createExpression=ts,o.createLayout=Ai,o.createStyleLayer=function(M){return M.type==="custom"?new Aw(M):new Mw[M.type](M)},o.cross=function(M,R,K){var ce=R[0],Me=R[1],Ie=R[2],He=K[0],et=K[1],ht=K[2];return M[0]=Me*ht-Ie*et,M[1]=Ie*He-ce*ht,M[2]=ce*et-Me*He,M},o.deepEqual=function M(R,K){if(Array.isArray(R)){if(!Array.isArray(K)||R.length!==K.length)return!1;for(var ce=0;ce<R.length;ce++)if(!M(R[ce],K[ce]))return!1;return!0}if(typeof R=="object"&&R!==null&&K!==null){if(typeof K!="object"||Object.keys(R).length!==Object.keys(K).length)return!1;for(var Me in R)if(!M(R[Me],K[Me]))return!1;return!0}return R===K},o.dot=function(M,R){return M[0]*R[0]+M[1]*R[1]+M[2]*R[2]},o.dot$1=function(M,R){return M[0]*R[0]+M[1]*R[1]+M[2]*R[2]+M[3]*R[3]},o.ease=l,o.emitValidationErrors=Oa,o.endsWith=m,o.enforceCacheSizeLimit=function(M){Ue(),de&&de.then(function(R){R.keys().then(function(K){for(var ce=0;ce<K.length-M;ce++)R.delete(K[ce])})})},o.evaluateSizeForFeature=ey,o.evaluateSizeForZoom=ty,o.evaluateVariableOffset=cy,o.evented=za,o.extend=c,o.featureFilter=Fl,o.filterObject=d,o.fromRotation=function(M,R){var K=Math.sin(R),ce=Math.cos(R);return M[0]=ce,M[1]=K,M[2]=0,M[3]=-K,M[4]=ce,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M},o.getAnchorAlignment=wg,o.getAnchorJustification=Ag,o.getArrayBuffer=Ft,o.getImage=Ke,o.getJSON=function(M,R){return Rt(c(M,{type:"json"}),R)},o.getRTLTextPluginStatus=xl,o.getReferrer=tt,o.getVideo=function(M,R){var K,ce,Me=r.document.createElement("video");Me.muted=!0,Me.onloadstart=function(){R(null,Me)};for(var Ie=0;Ie<M.length;Ie++){var He=r.document.createElement("source");K=M[Ie],ce=void 0,(ce=r.document.createElement("a")).href=K,ce.protocol===r.document.location.protocol&&ce.host===r.document.location.host||(Me.crossOrigin="Anonymous"),He.src=M[Ie],Me.appendChild(He)}return{cancel:function(){}}},o.identity=lg,o.invert=function(M,R){var K=R[0],ce=R[1],Me=R[2],Ie=R[3],He=R[4],et=R[5],ht=R[6],Mt=R[7],Lt=R[8],Bt=R[9],Yt=R[10],Ht=R[11],ln=R[12],dn=R[13],Ln=R[14],An=R[15],Bn=K*et-ce*He,Un=K*ht-Me*He,Xn=K*Mt-Ie*He,rr=ce*ht-Me*et,lr=ce*Mt-Ie*et,br=Me*Mt-Ie*ht,yr=Lt*dn-Bt*ln,Ar=Lt*Ln-Yt*ln,Sr=Lt*An-Ht*ln,qr=Bt*Ln-Yt*dn,zr=Bt*An-Ht*dn,Hr=Yt*An-Ht*Ln,Rr=Bn*Hr-Un*zr+Xn*qr+rr*Sr-lr*Ar+br*yr;return Rr?(Rr=1/Rr,M[0]=(et*Hr-ht*zr+Mt*qr)*Rr,M[1]=(Me*zr-ce*Hr-Ie*qr)*Rr,M[2]=(dn*br-Ln*lr+An*rr)*Rr,M[3]=(Yt*lr-Bt*br-Ht*rr)*Rr,M[4]=(ht*Sr-He*Hr-Mt*Ar)*Rr,M[5]=(K*Hr-Me*Sr+Ie*Ar)*Rr,M[6]=(Ln*Xn-ln*br-An*Un)*Rr,M[7]=(Lt*br-Yt*Xn+Ht*Un)*Rr,M[8]=(He*zr-et*Sr+Mt*yr)*Rr,M[9]=(ce*Sr-K*zr-Ie*yr)*Rr,M[10]=(ln*lr-dn*Xn+An*Bn)*Rr,M[11]=(Bt*Xn-Lt*lr-Ht*Bn)*Rr,M[12]=(et*Ar-He*qr-ht*yr)*Rr,M[13]=(K*qr-ce*Ar+Me*yr)*Rr,M[14]=(dn*Un-ln*rr-Ln*Bn)*Rr,M[15]=(Lt*rr-Bt*Un+Yt*Bn)*Rr,M):null},o.isChar=_r,o.isMapboxURL=ge,o.keysDifference=function(M,R){var K=[];for(var ce in M)ce in R||K.push(ce);return K},o.makeRequest=Rt,o.mapObject=w,o.mercatorXfromLng=_y,o.mercatorYfromLat=wy,o.mercatorZfromAltitude=Ty,o.mul=r3,o.multiply=wm,o.mvt=_f,o.nextPowerOfTwo=function(M){return M<=1?1:Math.pow(2,Math.ceil(Math.log(M)/Math.LN2))},o.normalize=function(M,R){var K=R[0],ce=R[1],Me=R[2],Ie=K*K+ce*ce+Me*Me;return Ie>0&&(Ie=1/Math.sqrt(Ie)),M[0]=R[0]*Ie,M[1]=R[1]*Ie,M[2]=R[2]*Ie,M},o.number=Nr,o.offscreenCanvasSupported=_t,o.ortho=function(M,R,K,ce,Me,Ie,He){var et=1/(R-K),ht=1/(ce-Me),Mt=1/(Ie-He);return M[0]=-2*et,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*ht,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*Mt,M[11]=0,M[12]=(R+K)*et,M[13]=(Me+ce)*ht,M[14]=(He+Ie)*Mt,M[15]=1,M},o.parseGlyphPBF=function(M){return new hd(M).readFields(iw,[])},o.pbf=hd,o.performSymbolLayout=function(M,R,K,ce,Me,Ie,He){M.createArrays();var et=512*M.overscaling;M.tilePixelRatio=ai/et,M.compareText={},M.iconsNeedLinear=!1;var ht=M.layers[0].layout,Mt=M.layers[0]._unevaluatedLayout._values,Lt={};if(M.textSizeData.kind==="composite"){var Bt=M.textSizeData,Yt=Bt.minZoom,Ht=Bt.maxZoom;Lt.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new $r(Yt),He),Mt["text-size"].possiblyEvaluate(new $r(Ht),He)]}if(M.iconSizeData.kind==="composite"){var ln=M.iconSizeData,dn=ln.minZoom,Ln=ln.maxZoom;Lt.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new $r(dn),He),Mt["icon-size"].possiblyEvaluate(new $r(Ln),He)]}Lt.layoutTextSize=Mt["text-size"].possiblyEvaluate(new $r(M.zoom+1),He),Lt.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new $r(M.zoom+1),He),Lt.textMaxSize=Mt["text-size"].possiblyEvaluate(new $r(18));for(var An=ht.get("text-line-height")*Va,Bn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",Un=ht.get("text-keep-upright"),Xn=ht.get("text-size"),rr=function(){var yr=br[lr],Ar=ht.get("text-font").evaluate(yr,{},He).join(","),Sr=Xn.evaluate(yr,{},He),qr=Lt.layoutTextSize.evaluate(yr,{},He),zr=Lt.layoutIconSize.evaluate(yr,{},He),Hr={horizontal:{},vertical:void 0},Rr=yr.text,Ir=[0,0];if(Rr){var ri=Rr.toString(),Yr=ht.get("text-letter-spacing").evaluate(yr,{},He)*Va,Ci=function(Xr){for(var oi=0,ra=Xr;oi<ra.length;oi+=1)if(Si=ra[oi].charCodeAt(0),_r.Arabic(Si)||_r["Arabic Supplement"](Si)||_r["Arabic Extended-A"](Si)||_r["Arabic Presentation Forms-A"](Si)||_r["Arabic Presentation Forms-B"](Si))return!1;var Si;return!0}(ri)?Yr:0,Vr=ht.get("text-anchor").evaluate(yr,{},He),ki=ht.get("text-variable-anchor");if(!ki){var Fi=ht.get("text-radial-offset").evaluate(yr,{},He);Ir=Fi?cy(Vr,[Fi*Va,kg]):ht.get("text-offset").evaluate(yr,{},He).map(function(Xr){return Xr*Va})}var ji=Bn?"center":ht.get("text-justify").evaluate(yr,{},He),Ui=ht.get("symbol-placement"),Pi=Ui==="point"?ht.get("text-max-width").evaluate(yr,{},He)*Va:0,ba=function(){M.allowVerticalPlacement&&Hl(ri)&&(Hr.vertical=gd(Rr,R,K,Me,Ar,Pi,An,Vr,"left",Ci,Ir,Ds.vertical,!0,Ui,qr,Sr))};if(!Bn&&ki){for(var Yi=ji==="auto"?ki.map(function(Xr){return Ag(Xr)}):[ji],Fa=!1,$a=0;$a<Yi.length;$a++){var Ha=Yi[$a];if(!Hr.horizontal[Ha])if(Fa)Hr.horizontal[Ha]=Hr.horizontal[0];else{var Mo=gd(Rr,R,K,Me,Ar,Pi,An,"center",Ha,Ci,Ir,Ds.horizontal,!1,Ui,qr,Sr);Mo&&(Hr.horizontal[Ha]=Mo,Fa=Mo.positionedLines.length===1)}}ba()}else{ji==="auto"&&(ji=Ag(Vr));var qa=gd(Rr,R,K,Me,Ar,Pi,An,Vr,ji,Ci,Ir,Ds.horizontal,!1,Ui,qr,Sr);qa&&(Hr.horizontal[ji]=qa),ba(),Hl(ri)&&Bn&&Un&&(Hr.vertical=gd(Rr,R,K,Me,Ar,Pi,An,Vr,ji,Ci,Ir,Ds.vertical,!1,Ui,qr,Sr))}}var Sa=void 0,Ga=!1;if(yr.icon&&yr.icon.name){var Ba=ce[yr.icon.name];Ba&&(Sa=function(Xr,oi,ra){var Si=wg(ra),Ki=Si.horizontalAlign,Gi=Si.verticalAlign,ci=oi[0],ia=oi[1],So=ci-Xr.displaySize[0]*Ki,us=So+Xr.displaySize[0],co=ia-Xr.displaySize[1]*Gi;return{image:Xr,top:co,bottom:co+Xr.displaySize[1],left:So,right:us}}(Me[yr.icon.name],ht.get("icon-offset").evaluate(yr,{},He),ht.get("icon-anchor").evaluate(yr,{},He)),Ga=Ba.sdf,M.sdfIcons===void 0?M.sdfIcons=Ba.sdf:M.sdfIcons!==Ba.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ba.pixelRatio!==M.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(M.iconsNeedLinear=!0))}var Ea=hy(Hr.horizontal)||Hr.vertical;M.iconsInText=!!Ea&&Ea.iconsInText,(Ea||Sa)&&function(Xr,oi,ra,Si,Ki,Gi,ci,ia,So,us,co){var Zl=Gi.textMaxSize.evaluate(oi,{});Zl===void 0&&(Zl=ci);var Du,Na=Xr.layers[0].layout,Kl=Na.get("icon-offset").evaluate(oi,{},co),Al=hy(ra.horizontal),Ml=24,Gc=ci/Ml,Ad=Xr.tilePixelRatio*Gc,Wc=Xr.tilePixelRatio*Zl/Ml,Md=Xr.tilePixelRatio*ia,Gh=Xr.tilePixelRatio*Na.get("symbol-spacing"),Pg=Na.get("text-padding")*Xr.tilePixelRatio,Sd=Na.get("icon-padding")*Xr.tilePixelRatio,zf=Na.get("text-max-angle")/180*Math.PI,Ed=Na.get("text-rotation-alignment")==="map"&&Na.get("symbol-placement")!=="point",Ld=Na.get("icon-rotation-alignment")==="map"&&Na.get("symbol-placement")!=="point",Wh=Na.get("symbol-placement"),Og=Gh/2,Yh=Na.get("icon-text-fit");Si&&Yh!=="none"&&(Xr.allowVerticalPlacement&&ra.vertical&&(Du=Qm(Si,ra.vertical,Yh,Na.get("icon-text-fit-padding"),Kl,Gc)),Al&&(Si=Qm(Si,Al,Yh,Na.get("icon-text-fit-padding"),Kl,Gc)));var Yc=function(Ew,Qh){Qh.x<0||Qh.x>=ai||Qh.y<0||Qh.y>=ai||function(ca,Jl,Lw,sc,Bg,Oy,zd,vu,Dd,ep,Rd,Fd,Ng,Iy,tp,zy,Dy,Ry,Fy,By,Rs,Bd,Ny,mu,Cw){var jy,Kc,Ff,Bf,Nf,jf=ca.addToLineVertexArray(Jl,Lw),Uy=0,Vy=0,Hy=0,qy=0,jg=-1,Ug=-1,Ru={},Gy=wr(""),Vg=0,Hg=0;if(vu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Vg=(jy=vu.layout.get("text-offset").evaluate(Rs,{},mu).map(function(rp){return rp*Va}))[0],Hg=jy[1]):(Vg=vu.layout.get("text-radial-offset").evaluate(Rs,{},mu)*Va,Hg=kg),ca.allowVerticalPlacement&&sc.vertical){var Wy=vu.layout.get("text-rotate").evaluate(Rs,{},mu)+90,Pw=sc.vertical;Bf=new bd(Dd,Jl,ep,Rd,Fd,Pw,Ng,Iy,tp,Wy),zd&&(Nf=new bd(Dd,Jl,ep,Rd,Fd,zd,Dy,Ry,tp,Wy))}if(Bg){var qg=vu.layout.get("icon-rotate").evaluate(Rs,{}),Yy=vu.layout.get("icon-text-fit")!=="none",Xy=ly(Bg,qg,Ny,Yy),Gg=zd?ly(zd,qg,Ny,Yy):void 0;Ff=new bd(Dd,Jl,ep,Rd,Fd,Bg,Dy,Ry,!1,qg),Uy=4*Xy.length;var Zy=ca.iconSizeData,np=null;Zy.kind==="source"?(np=[Xl*vu.layout.get("icon-size").evaluate(Rs,{})])[0]>ac&&E(ca.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'):Zy.kind==="composite"&&((np=[Xl*Bd.compositeIconSizes[0].evaluate(Rs,{},mu),Xl*Bd.compositeIconSizes[1].evaluate(Rs,{},mu)])[0]>ac||np[1]>ac)&&E(ca.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'),ca.addSymbols(ca.icon,Xy,np,By,Fy,Rs,!1,Jl,jf.lineStartIndex,jf.lineLength,-1,mu),jg=ca.icon.placedSymbolArray.length-1,Gg&&(Vy=4*Gg.length,ca.addSymbols(ca.icon,Gg,np,By,Fy,Rs,Ds.vertical,Jl,jf.lineStartIndex,jf.lineLength,-1,mu),Ug=ca.icon.placedSymbolArray.length-1)}for(var Ky in sc.horizontal){var Nd=sc.horizontal[Ky];if(!Kc){Gy=wr(Nd.text);var Ow=vu.layout.get("text-rotate").evaluate(Rs,{},mu);Kc=new bd(Dd,Jl,ep,Rd,Fd,Nd,Ng,Iy,tp,Ow)}var Jy=Nd.positionedLines.length===1;if(Hy+=fy(ca,Jl,Nd,Oy,vu,tp,Rs,zy,jf,sc.vertical?Ds.horizontal:Ds.horizontalOnly,Jy?Object.keys(sc.horizontal):[Ky],Ru,jg,Bd,mu),Jy)break}sc.vertical&&(qy+=fy(ca,Jl,sc.vertical,Oy,vu,tp,Rs,zy,jf,Ds.vertical,["vertical"],Ru,Ug,Bd,mu));var Iw=Kc?Kc.boxStartIndex:ca.collisionBoxArray.length,zw=Kc?Kc.boxEndIndex:ca.collisionBoxArray.length,Dw=Bf?Bf.boxStartIndex:ca.collisionBoxArray.length,Rw=Bf?Bf.boxEndIndex:ca.collisionBoxArray.length,Fw=Ff?Ff.boxStartIndex:ca.collisionBoxArray.length,Bw=Ff?Ff.boxEndIndex:ca.collisionBoxArray.length,Nw=Nf?Nf.boxStartIndex:ca.collisionBoxArray.length,jw=Nf?Nf.boxEndIndex:ca.collisionBoxArray.length,yu=-1,jd=function(rp,Qy){return rp&&rp.circleDiameter?Math.max(rp.circleDiameter,Qy):Qy};yu=jd(Kc,yu),yu=jd(Bf,yu),yu=jd(Ff,yu);var $y=(yu=jd(Nf,yu))>-1?1:0;$y&&(yu*=Cw/Va),ca.glyphOffsetArray.length>=Ti.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Rs.sortKey!==void 0&&ca.addToSortKeyRanges(ca.symbolInstances.length,Rs.sortKey),ca.symbolInstances.emplaceBack(Jl.x,Jl.y,Ru.right>=0?Ru.right:-1,Ru.center>=0?Ru.center:-1,Ru.left>=0?Ru.left:-1,Ru.vertical||-1,jg,Ug,Gy,Iw,zw,Dw,Rw,Fw,Bw,Nw,jw,ep,Hy,qy,Uy,Vy,$y,0,Ng,Vg,Hg,yu)}(Xr,Qh,Ew,ra,Si,Ki,Du,Xr.layers[0],Xr.collisionBoxArray,oi.index,oi.sourceLayerIndex,Xr.index,Ad,Pg,Ed,So,Md,Sd,Ld,Kl,oi,Gi,us,co,ci)};if(Wh==="line")for(var Df=0,Cd=sy(oi.geometry,0,0,ai,ai);Df<Cd.length;Df+=1)for(var Pd=Cd[Df],Rf=0,Od=fw(Pd,Gh,zf,ra.vertical||Al,Si,Ml,Wc,Xr.overscaling,ai);Rf<Od.length;Rf+=1){var Id=Od[Rf];Al&&gw(Xr,Al.text,Og,Id)||Yc(Pd,Id)}else if(Wh==="line-center")for(var Xh=0,Zh=oi.geometry;Xh<Zh.length;Xh+=1){var Xc=Zh[Xh];if(Xc.length>1){var Kh=cw(Xc,zf,ra.vertical||Al,Si,Ml,Wc);Kh&&Yc(Xc,Kh)}}else if(oi.type==="Polygon")for(var Zc=0,Jh=gg(oi.geometry,0);Zc<Jh.length;Zc+=1){var $h=Jh[Zc],Ey=pw($h,16);Yc($h[0],new Af(Ey.x,Ey.y,0))}else if(oi.type==="LineString")for(var Ig=0,Ly=oi.geometry;Ig<Ly.length;Ig+=1){var zg=Ly[Ig];Yc(zg,new Af(zg[0].x,zg[0].y,0))}else if(oi.type==="Point")for(var Dg=0,Cy=oi.geometry;Dg<Cy.length;Dg+=1)for(var Rg=0,Py=Cy[Dg];Rg<Py.length;Rg+=1){var Fg=Py[Rg];Yc([Fg],new Af(Fg.x,Fg.y,0))}}(M,yr,Hr,Sa,ce,Lt,qr,zr,Ir,Ga,He)},lr=0,br=M.features;lr<br.length;lr+=1)rr();Ie&&M.generateCollisionDebugBuffers()},o.perspective=function(M,R,K,ce,Me){var Ie,He=1/Math.tan(R/2);return M[0]=He/K,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=He,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,Me!=null&&Me!==1/0?(Ie=1/(ce-Me),M[10]=(Me+ce)*Ie,M[14]=2*Me*ce*Ie):(M[10]=-1,M[14]=-2*ce),M},o.pick=function(M,R){for(var K={},ce=0;ce<R.length;ce++){var Me=R[ce];Me in M&&(K[Me]=M[Me])}return K},o.plugin=Da,o.polygonIntersectsPolygon=jc,o.postMapLoadEvent=ve,o.postTurnstileEvent=ze,o.potpack=Xm,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=Er,o.registerForPluginStateChange=function(M){return M({pluginStatus:ei,pluginURL:la}),za.on("pluginStateChange",M),M},o.renderColorRamp=Mm,o.rotate=function(M,R,K){var ce=R[0],Me=R[1],Ie=R[2],He=R[3],et=Math.sin(K),ht=Math.cos(K);return M[0]=ce*ht+Ie*et,M[1]=Me*ht+He*et,M[2]=ce*-et+Ie*ht,M[3]=Me*-et+He*ht,M},o.rotateX=function(M,R,K){var ce=Math.sin(K),Me=Math.cos(K),Ie=R[4],He=R[5],et=R[6],ht=R[7],Mt=R[8],Lt=R[9],Bt=R[10],Yt=R[11];return R!==M&&(M[0]=R[0],M[1]=R[1],M[2]=R[2],M[3]=R[3],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]),M[4]=Ie*Me+Mt*ce,M[5]=He*Me+Lt*ce,M[6]=et*Me+Bt*ce,M[7]=ht*Me+Yt*ce,M[8]=Mt*Me-Ie*ce,M[9]=Lt*Me-He*ce,M[10]=Bt*Me-et*ce,M[11]=Yt*Me-ht*ce,M},o.rotateZ=function(M,R,K){var ce=Math.sin(K),Me=Math.cos(K),Ie=R[0],He=R[1],et=R[2],ht=R[3],Mt=R[4],Lt=R[5],Bt=R[6],Yt=R[7];return R!==M&&(M[8]=R[8],M[9]=R[9],M[10]=R[10],M[11]=R[11],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]),M[0]=Ie*Me+Mt*ce,M[1]=He*Me+Lt*ce,M[2]=et*Me+Bt*ce,M[3]=ht*Me+Yt*ce,M[4]=Mt*Me-Ie*ce,M[5]=Lt*Me-He*ce,M[6]=Bt*Me-et*ce,M[7]=Yt*Me-ht*ce,M},o.scale=function(M,R,K){var ce=K[0],Me=K[1],Ie=K[2];return M[0]=R[0]*ce,M[1]=R[1]*ce,M[2]=R[2]*ce,M[3]=R[3]*ce,M[4]=R[4]*Me,M[5]=R[5]*Me,M[6]=R[6]*Me,M[7]=R[7]*Me,M[8]=R[8]*Ie,M[9]=R[9]*Ie,M[10]=R[10]*Ie,M[11]=R[11]*Ie,M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15],M},o.scale$1=function(M,R,K){return M[0]=R[0]*K,M[1]=R[1]*K,M[2]=R[2]*K,M[3]=R[3]*K,M},o.scale$2=function(M,R,K){return M[0]=R[0]*K,M[1]=R[1]*K,M[2]=R[2]*K,M},o.setCacheLimits=function(M,R){Ee=M,De=R},o.setRTLTextPlugin=function(M,R,K){if(K===void 0&&(K=!1),ei===No||ei===lo||ei===is)throw new Error("setRTLTextPlugin cannot be called multiple times.");la=ne.resolveURL(M),ei=No,Os=R,jo(),K||bl()},o.sphericalToCartesian=function(M){var R=M[0],K=M[1],ce=M[2];return K+=90,K*=Math.PI/180,ce*=Math.PI/180,{x:R*Math.cos(K)*Math.sin(ce),y:R*Math.sin(K)*Math.sin(ce),z:R*Math.cos(ce)}},o.sqrLen=a3,o.styleSpec=je,o.sub=i3,o.symbolSize=uw,o.transformMat3=function(M,R,K){var ce=R[0],Me=R[1],Ie=R[2];return M[0]=ce*K[0]+Me*K[3]+Ie*K[6],M[1]=ce*K[1]+Me*K[4]+Ie*K[7],M[2]=ce*K[2]+Me*K[5]+Ie*K[8],M},o.transformMat4=sd,o.translate=function(M,R,K){var ce,Me,Ie,He,et,ht,Mt,Lt,Bt,Yt,Ht,ln,dn=K[0],Ln=K[1],An=K[2];return R===M?(M[12]=R[0]*dn+R[4]*Ln+R[8]*An+R[12],M[13]=R[1]*dn+R[5]*Ln+R[9]*An+R[13],M[14]=R[2]*dn+R[6]*Ln+R[10]*An+R[14],M[15]=R[3]*dn+R[7]*Ln+R[11]*An+R[15]):(ce=R[0],Me=R[1],Ie=R[2],He=R[3],et=R[4],ht=R[5],Mt=R[6],Lt=R[7],Bt=R[8],Yt=R[9],Ht=R[10],ln=R[11],M[0]=ce,M[1]=Me,M[2]=Ie,M[3]=He,M[4]=et,M[5]=ht,M[6]=Mt,M[7]=Lt,M[8]=Bt,M[9]=Yt,M[10]=Ht,M[11]=ln,M[12]=ce*dn+et*Ln+Bt*An+R[12],M[13]=Me*dn+ht*Ln+Yt*An+R[13],M[14]=Ie*dn+Mt*Ln+Ht*An+R[14],M[15]=He*dn+Lt*Ln+ln*An+R[15]),M},o.triggerPluginCompletionEvent=Ia,o.uniqueId=p,o.validateCustomStyleLayer=function(M){var R=[],K=M.id;return K===void 0&&R.push({message:"layers."+K+': missing required property "id"'}),M.render===void 0&&R.push({message:"layers."+K+': missing required method "render"'}),M.renderingMode&&M.renderingMode!=="2d"&&M.renderingMode!=="3d"&&R.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),R},o.validateLight=$s,o.validateStyle=Bo,o.values=function(M){var R=[];for(var K in M)R.push(M[K]);return R},o.vectorTile=_f,o.version=b,o.warnOnce=E,o.webpSupported=J,o.window=r,o.wrap=h}),k(0,function(o){function _(Xe){var Je=typeof Xe;if(Je==="number"||Je==="boolean"||Je==="string"||Xe==null)return JSON.stringify(Xe);if(Array.isArray(Xe)){for(var Ve="[",Ke=0,ft=Xe;Ke<ft.length;Ke+=1)Ve+=_(ft[Ke])+",";return Ve+"]"}for(var ut=Object.keys(Xe).sort(),xt="{",bt=0;bt<ut.length;bt++)xt+=JSON.stringify(ut[bt])+":"+_(Xe[ut[bt]])+",";return xt+"}"}function b(Xe){for(var Je="",Ve=0,Ke=o.refProperties;Ve<Ke.length;Ve+=1)Je+="/"+_(Xe[Ke[Ve]]);return Je}var f=function(Xe){this.keyCache={},Xe&&this.replace(Xe)};f.prototype.replace=function(Xe){this._layerConfigs={},this._layers={},this.update(Xe,[])},f.prototype.update=function(Xe,Je){for(var Ve=this,Ke=0,ft=Xe;Ke<ft.length;Ke+=1){var ut=ft[Ke];this._layerConfigs[ut.id]=ut;var xt=this._layers[ut.id]=o.createStyleLayer(ut);xt._featureFilter=o.featureFilter(xt.filter),this.keyCache[ut.id]&&delete this.keyCache[ut.id]}for(var bt=0,qe=Je;bt<qe.length;bt+=1){var je=qe[bt];delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je]}this.familiesBySource={};for(var lt=0,gt=function(At,Nt){for(var Wt={},on=0;on<At.length;on++){var cn=Nt&&Nt[At[on].id]||b(At[on]);Nt&&(Nt[At[on].id]=cn);var un=Wt[cn];un||(un=Wt[cn]=[]),un.push(At[on])}var Xt=[];for(var tn in Wt)Xt.push(Wt[tn]);return Xt}(o.values(this._layerConfigs),this.keyCache);lt<gt.length;lt+=1){var dt=gt[lt].map(function(At){return Ve._layers[At.id]}),at=dt[0];if(at.visibility!=="none"){var kt=at.source||"",wt=this.familiesBySource[kt];wt||(wt=this.familiesBySource[kt]={});var Et=at.sourceLayer||"_geojsonTileLayer",Tt=wt[Et];Tt||(Tt=wt[Et]=[]),Tt.push(dt)}}};var s=function(Xe){var Je={},Ve=[];for(var Ke in Xe){var ft=Xe[Ke],ut=Je[Ke]={};for(var xt in ft){var bt=ft[+xt];if(bt&&bt.bitmap.width!==0&&bt.bitmap.height!==0){var qe={x:0,y:0,w:bt.bitmap.width+2,h:bt.bitmap.height+2};Ve.push(qe),ut[xt]={rect:qe,metrics:bt.metrics}}}}var je=o.potpack(Ve),lt=je.w,gt=je.h,dt=new o.AlphaImage({width:lt||1,height:gt||1});for(var at in Xe){var kt=Xe[at];for(var wt in kt){var Et=kt[+wt];if(Et&&Et.bitmap.width!==0&&Et.bitmap.height!==0){var Tt=Je[at][wt].rect;o.AlphaImage.copy(Et.bitmap,dt,{x:0,y:0},{x:Tt.x+1,y:Tt.y+1},Et.bitmap)}}}this.image=dt,this.positions=Je};o.register("GlyphAtlas",s);var t=function(Xe){this.tileID=new o.OverscaledTileID(Xe.tileID.overscaledZ,Xe.tileID.wrap,Xe.tileID.canonical.z,Xe.tileID.canonical.x,Xe.tileID.canonical.y),this.uid=Xe.uid,this.zoom=Xe.zoom,this.pixelRatio=Xe.pixelRatio,this.tileSize=Xe.tileSize,this.source=Xe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Xe.showCollisionBoxes,this.collectResourceTiming=!!Xe.collectResourceTiming,this.returnDependencies=!!Xe.returnDependencies,this.promoteId=Xe.promoteId};function i(Xe,Je,Ve){for(var Ke=new o.EvaluationParameters(Je),ft=0,ut=Xe;ft<ut.length;ft+=1)ut[ft].recalculate(Ke,Ve)}function r(Xe,Je){var Ve=o.getArrayBuffer(Xe.request,function(Ke,ft,ut,xt){Ke?Je(Ke):ft&&Je(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(ft)),rawData:ft,cacheControl:ut,expires:xt})});return function(){Ve.cancel(),Je()}}t.prototype.parse=function(Xe,Je,Ve,Ke,ft){var ut=this;this.status="parsing",this.data=Xe,this.collisionBoxArray=new o.CollisionBoxArray;var xt=new o.DictionaryCoder(Object.keys(Xe.layers).sort()),bt=new o.FeatureIndex(this.tileID,this.promoteId);bt.bucketLayerIDs=[];var qe,je,lt,gt,dt={},at={featureIndex:bt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ve},kt=Je.familiesBySource[this.source];for(var wt in kt){var Et=Xe.layers[wt];if(Et){Et.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+wt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Tt=xt.encode(wt),At=[],Nt=0;Nt<Et.length;Nt++){var Wt=Et.feature(Nt),on=bt.getId(Wt,wt);At.push({feature:Wt,id:on,index:Nt,sourceLayerIndex:Tt})}for(var cn=0,un=kt[wt];cn<un.length;cn+=1){var Xt=un[cn],tn=Xt[0];tn.minzoom&&this.zoom<Math.floor(tn.minzoom)||tn.maxzoom&&this.zoom>=tn.maxzoom||tn.visibility!=="none"&&(i(Xt,this.zoom,Ve),(dt[tn.id]=tn.createBucket({index:bt.bucketLayerIDs.length,layers:Xt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Tt,sourceID:this.source})).populate(At,at,this.tileID.canonical),bt.bucketLayerIDs.push(Xt.map(function(nn){return nn.id})))}}}var kn=o.mapObject(at.glyphDependencies,function(nn){return Object.keys(nn).map(Number)});Object.keys(kn).length?Ke.send("getGlyphs",{uid:this.uid,stacks:kn},function(nn,sn){qe||(qe=nn,je=sn,pn.call(ut))}):je={};var fn=Object.keys(at.iconDependencies);fn.length?Ke.send("getImages",{icons:fn,source:this.source,tileID:this.tileID,type:"icons"},function(nn,sn){qe||(qe=nn,lt=sn,pn.call(ut))}):lt={};var Qt=Object.keys(at.patternDependencies);function pn(){if(qe)return ft(qe);if(je&&lt&&gt){var nn=new s(je),sn=new o.ImageAtlas(lt,gt);for(var Sn in dt){var wn=dt[Sn];wn instanceof o.SymbolBucket?(i(wn.layers,this.zoom,Ve),o.performSymbolLayout(wn,je,nn.positions,lt,sn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):wn.hasPattern&&(wn instanceof o.LineBucket||wn instanceof o.FillBucket||wn instanceof o.FillExtrusionBucket)&&(i(wn.layers,this.zoom,Ve),wn.addFeatures(at,this.tileID.canonical,sn.patternPositions))}this.status="done",ft(null,{buckets:o.values(dt).filter(function(Dn){return!Dn.isEmpty()}),featureIndex:bt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:sn,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?lt:null,glyphPositions:this.returnDependencies?nn.positions:null})}}Qt.length?Ke.send("getImages",{icons:Qt,source:this.source,tileID:this.tileID,type:"patterns"},function(nn,sn){qe||(qe=nn,gt=sn,pn.call(ut))}):gt={},pn.call(this)};var n=function(Xe,Je,Ve,Ke){this.actor=Xe,this.layerIndex=Je,this.availableImages=Ve,this.loadVectorData=Ke||r,this.loading={},this.loaded={}};n.prototype.loadTile=function(Xe,Je){var Ve=this,Ke=Xe.uid;this.loading||(this.loading={});var ft=!!(Xe&&Xe.request&&Xe.request.collectResourceTiming)&&new o.RequestPerformance(Xe.request),ut=this.loading[Ke]=new t(Xe);ut.abort=this.loadVectorData(Xe,function(xt,bt){if(delete Ve.loading[Ke],xt||!bt)return ut.status="done",Ve.loaded[Ke]=ut,Je(xt);var qe=bt.rawData,je={};bt.expires&&(je.expires=bt.expires),bt.cacheControl&&(je.cacheControl=bt.cacheControl);var lt={};if(ft){var gt=ft.finish();gt&&(lt.resourceTiming=JSON.parse(JSON.stringify(gt)))}ut.vectorTile=bt.vectorTile,ut.parse(bt.vectorTile,Ve.layerIndex,Ve.availableImages,Ve.actor,function(dt,at){if(dt||!at)return Je(dt);Je(null,o.extend({rawTileData:qe.slice(0)},at,je,lt))}),Ve.loaded=Ve.loaded||{},Ve.loaded[Ke]=ut})},n.prototype.reloadTile=function(Xe,Je){var Ve=this,Ke=this.loaded,ft=Xe.uid,ut=this;if(Ke&&Ke[ft]){var xt=Ke[ft];xt.showCollisionBoxes=Xe.showCollisionBoxes;var bt=function(qe,je){var lt=xt.reloadCallback;lt&&(delete xt.reloadCallback,xt.parse(xt.vectorTile,ut.layerIndex,Ve.availableImages,ut.actor,lt)),Je(qe,je)};xt.status==="parsing"?xt.reloadCallback=bt:xt.status==="done"&&(xt.vectorTile?xt.parse(xt.vectorTile,this.layerIndex,this.availableImages,this.actor,bt):bt())}},n.prototype.abortTile=function(Xe,Je){var Ve=this.loading,Ke=Xe.uid;Ve&&Ve[Ke]&&Ve[Ke].abort&&(Ve[Ke].abort(),delete Ve[Ke]),Je()},n.prototype.removeTile=function(Xe,Je){var Ve=this.loaded,Ke=Xe.uid;Ve&&Ve[Ke]&&delete Ve[Ke],Je()};var a=o.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(Xe,Je){var Ve=Xe.uid,Ke=Xe.encoding,ft=Xe.rawImageData,ut=a&&ft instanceof a?this.getImageData(ft):ft,xt=new o.DEMData(Ve,ut,Ke);this.loaded=this.loaded||{},this.loaded[Ve]=xt,Je(null,xt)},l.prototype.getImageData=function(Xe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Xe.width,Xe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Xe.width,this.offscreenCanvas.height=Xe.height,this.offscreenCanvasContext.drawImage(Xe,0,0,Xe.width,Xe.height);var Je=this.offscreenCanvasContext.getImageData(-1,-1,Xe.width+2,Xe.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:Je.width,height:Je.height},Je.data)},l.prototype.removeTile=function(Xe){var Je=this.loaded,Ve=Xe.uid;Je&&Je[Ve]&&delete Je[Ve]};var u=function Xe(Je,Ve){var Ke,ft=Je&&Je.type;if(ft==="FeatureCollection")for(Ke=0;Ke<Je.features.length;Ke++)Xe(Je.features[Ke],Ve);else if(ft==="GeometryCollection")for(Ke=0;Ke<Je.geometries.length;Ke++)Xe(Je.geometries[Ke],Ve);else if(ft==="Feature")Xe(Je.geometry,Ve);else if(ft==="Polygon")h(Je.coordinates,Ve);else if(ft==="MultiPolygon")for(Ke=0;Ke<Je.coordinates.length;Ke++)h(Je.coordinates[Ke],Ve);return Je};function h(Xe,Je){if(Xe.length!==0){c(Xe[0],Je);for(var Ve=1;Ve<Xe.length;Ve++)c(Xe[Ve],!Je)}}function c(Xe,Je){for(var Ve=0,Ke=0,ft=Xe.length,ut=ft-1;Ke<ft;ut=Ke++)Ve+=(Xe[Ke][0]-Xe[ut][0])*(Xe[ut][1]+Xe[Ke][1]);Ve>=0!=!!Je&&Xe.reverse()}var x=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(Xe){this._feature=Xe,this.extent=o.EXTENT,this.type=Xe.type,this.properties=Xe.tags,"id"in Xe&&!isNaN(Xe.id)&&(this.id=parseInt(Xe.id,10))};p.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Xe=[],Je=0,Ve=this._feature.geometry;Je<Ve.length;Je+=1){var Ke=Ve[Je];Xe.push([new o.Point$1(Ke[0],Ke[1])])}return Xe}for(var ft=[],ut=0,xt=this._feature.geometry;ut<xt.length;ut+=1){for(var bt=[],qe=0,je=xt[ut];qe<je.length;qe+=1){var lt=je[qe];bt.push(new o.Point$1(lt[0],lt[1]))}ft.push(bt)}return ft},p.prototype.toGeoJSON=function(Xe,Je,Ve){return x.call(this,Xe,Je,Ve)};var v=function(Xe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=Xe.length,this._features=Xe};v.prototype.feature=function(Xe){return new p(this._features[Xe])};var g=o.vectorTile.VectorTileFeature,y=m;function m(Xe,Je){this.options=Je||{},this.features=Xe,this.length=Xe.length}function w(Xe,Je){this.id=typeof Xe.id=="number"?Xe.id:void 0,this.type=Xe.type,this.rawGeometry=Xe.type===1?[Xe.geometry]:Xe.geometry,this.properties=Xe.tags,this.extent=Je||4096}m.prototype.feature=function(Xe){return new w(this.features[Xe],this.options.extent)},w.prototype.loadGeometry=function(){var Xe=this.rawGeometry;this.geometry=[];for(var Je=0;Je<Xe.length;Je++){for(var Ve=Xe[Je],Ke=[],ft=0;ft<Ve.length;ft++)Ke.push(new o.Point$1(Ve[ft][0],Ve[ft][1]));this.geometry.push(Ke)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Xe=this.geometry,Je=1/0,Ve=-1/0,Ke=1/0,ft=-1/0,ut=0;ut<Xe.length;ut++)for(var xt=Xe[ut],bt=0;bt<xt.length;bt++){var qe=xt[bt];Je=Math.min(Je,qe.x),Ve=Math.max(Ve,qe.x),Ke=Math.min(Ke,qe.y),ft=Math.max(ft,qe.y)}return[Je,Ke,Ve,ft]},w.prototype.toGeoJSON=g.prototype.toGeoJSON;var d=P,S=P,A=function(Xe,Je){Je=Je||{};var Ve={};for(var Ke in Xe)Ve[Ke]=new y(Xe[Ke].features,Je),Ve[Ke].name=Ke,Ve[Ke].version=Je.version,Ve[Ke].extent=Je.extent;return P({layers:Ve})},E=y;function P(Xe){var Je=new o.pbf;return function(Ve,Ke){for(var ft in Ve.layers)Ke.writeMessage(3,O,Ve.layers[ft])}(Xe,Je),Je.finish()}function O(Xe,Je){var Ve;Je.writeVarintField(15,Xe.version||1),Je.writeStringField(1,Xe.name||""),Je.writeVarintField(5,Xe.extent||4096);var Ke={keys:[],values:[],keycache:{},valuecache:{}};for(Ve=0;Ve<Xe.length;Ve++)Ke.feature=Xe.feature(Ve),Je.writeMessage(2,I,Ke);var ft=Ke.keys;for(Ve=0;Ve<ft.length;Ve++)Je.writeStringField(3,ft[Ve]);var ut=Ke.values;for(Ve=0;Ve<ut.length;Ve++)Je.writeMessage(4,X,ut[Ve])}function I(Xe,Je){var Ve=Xe.feature;Ve.id!==void 0&&Je.writeVarintField(1,Ve.id),Je.writeMessage(2,D,Xe),Je.writeVarintField(3,Ve.type),Je.writeMessage(4,j,Ve)}function D(Xe,Je){var Ve=Xe.feature,Ke=Xe.keys,ft=Xe.values,ut=Xe.keycache,xt=Xe.valuecache;for(var bt in Ve.properties){var qe=ut[bt];qe===void 0&&(Ke.push(bt),qe=Ke.length-1,ut[bt]=qe),Je.writeVarint(qe);var je=Ve.properties[bt],lt=typeof je;lt!=="string"&&lt!=="boolean"&&lt!=="number"&&(je=JSON.stringify(je));var gt=lt+":"+je,dt=xt[gt];dt===void 0&&(ft.push(je),dt=ft.length-1,xt[gt]=dt),Je.writeVarint(dt)}}function V(Xe,Je){return(Je<<3)+(7&Xe)}function z(Xe){return Xe<<1^Xe>>31}function j(Xe,Je){for(var Ve=Xe.loadGeometry(),Ke=Xe.type,ft=0,ut=0,xt=Ve.length,bt=0;bt<xt;bt++){var qe=Ve[bt],je=1;Ke===1&&(je=qe.length),Je.writeVarint(V(1,je));for(var lt=Ke===3?qe.length-1:qe.length,gt=0;gt<lt;gt++){gt===1&&Ke!==1&&Je.writeVarint(V(2,lt-1));var dt=qe[gt].x-ft,at=qe[gt].y-ut;Je.writeVarint(z(dt)),Je.writeVarint(z(at)),ft+=dt,ut+=at}Ke===3&&Je.writeVarint(V(7,1))}}function X(Xe,Je){var Ve=typeof Xe;Ve==="string"?Je.writeStringField(1,Xe):Ve==="boolean"?Je.writeBooleanField(7,Xe):Ve==="number"&&(Xe%1!=0?Je.writeDoubleField(3,Xe):Xe<0?Je.writeSVarintField(6,Xe):Je.writeVarintField(5,Xe))}function F(Xe,Je,Ve,Ke,ft,ut){if(!(ft-Ke<=Ve)){var xt=Ke+ft>>1;H(Xe,Je,xt,Ke,ft,ut%2),F(Xe,Je,Ve,Ke,xt-1,ut+1),F(Xe,Je,Ve,xt+1,ft,ut+1)}}function H(Xe,Je,Ve,Ke,ft,ut){for(;ft>Ke;){if(ft-Ke>600){var xt=ft-Ke+1,bt=Ve-Ke+1,qe=Math.log(xt),je=.5*Math.exp(2*qe/3),lt=.5*Math.sqrt(qe*je*(xt-je)/xt)*(bt-xt/2<0?-1:1);H(Xe,Je,Ve,Math.max(Ke,Math.floor(Ve-bt*je/xt+lt)),Math.min(ft,Math.floor(Ve+(xt-bt)*je/xt+lt)),ut)}var gt=Je[2*Ve+ut],dt=Ke,at=ft;for(W(Xe,Je,Ke,Ve),Je[2*ft+ut]>gt&&W(Xe,Je,Ke,ft);dt<at;){for(W(Xe,Je,dt,at),dt++,at--;Je[2*dt+ut]<gt;)dt++;for(;Je[2*at+ut]>gt;)at--}Je[2*Ke+ut]===gt?W(Xe,Je,Ke,at):W(Xe,Je,++at,ft),at<=Ve&&(Ke=at+1),Ve<=at&&(ft=at-1)}}function W(Xe,Je,Ve,Ke){ie(Xe,Ve,Ke),ie(Je,2*Ve,2*Ke),ie(Je,2*Ve+1,2*Ke+1)}function ie(Xe,Je,Ve){var Ke=Xe[Je];Xe[Je]=Xe[Ve],Xe[Ve]=Ke}function te(Xe,Je,Ve,Ke){var ft=Xe-Ve,ut=Je-Ke;return ft*ft+ut*ut}d.fromVectorTileJs=S,d.fromGeojsonVt=A,d.GeoJSONWrapper=E;var Q=function(Xe){return Xe[0]},ne=function(Xe){return Xe[1]},$=function(Xe,Je,Ve,Ke,ft){Je===void 0&&(Je=Q),Ve===void 0&&(Ve=ne),Ke===void 0&&(Ke=64),ft===void 0&&(ft=Float64Array),this.nodeSize=Ke,this.points=Xe;for(var ut=Xe.length<65536?Uint16Array:Uint32Array,xt=this.ids=new ut(Xe.length),bt=this.coords=new ft(2*Xe.length),qe=0;qe<Xe.length;qe++)xt[qe]=qe,bt[2*qe]=Je(Xe[qe]),bt[2*qe+1]=Ve(Xe[qe]);F(xt,bt,Ke,0,xt.length-1,0)};$.prototype.range=function(Xe,Je,Ve,Ke){return function(ft,ut,xt,bt,qe,je,lt){for(var gt,dt,at=[0,ft.length-1,0],kt=[];at.length;){var wt=at.pop(),Et=at.pop(),Tt=at.pop();if(Et-Tt<=lt)for(var At=Tt;At<=Et;At++)gt=ut[2*At],dt=ut[2*At+1],gt>=xt&&gt<=qe&&dt>=bt&&dt<=je&&kt.push(ft[At]);else{var Nt=Math.floor((Tt+Et)/2);gt=ut[2*Nt],dt=ut[2*Nt+1],gt>=xt&&gt<=qe&&dt>=bt&&dt<=je&&kt.push(ft[Nt]);var Wt=(wt+1)%2;(wt===0?xt<=gt:bt<=dt)&&(at.push(Tt),at.push(Nt-1),at.push(Wt)),(wt===0?qe>=gt:je>=dt)&&(at.push(Nt+1),at.push(Et),at.push(Wt))}}return kt}(this.ids,this.coords,Xe,Je,Ve,Ke,this.nodeSize)},$.prototype.within=function(Xe,Je,Ve){return function(Ke,ft,ut,xt,bt,qe){for(var je=[0,Ke.length-1,0],lt=[],gt=bt*bt;je.length;){var dt=je.pop(),at=je.pop(),kt=je.pop();if(at-kt<=qe)for(var wt=kt;wt<=at;wt++)te(ft[2*wt],ft[2*wt+1],ut,xt)<=gt&&lt.push(Ke[wt]);else{var Et=Math.floor((kt+at)/2),Tt=ft[2*Et],At=ft[2*Et+1];te(Tt,At,ut,xt)<=gt&&lt.push(Ke[Et]);var Nt=(dt+1)%2;(dt===0?ut-bt<=Tt:xt-bt<=At)&&(je.push(kt),je.push(Et-1),je.push(Nt)),(dt===0?ut+bt>=Tt:xt+bt>=At)&&(je.push(Et+1),je.push(at),je.push(Nt))}}return lt}(this.ids,this.coords,Xe,Je,Ve,this.nodeSize)};var J={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Xe){return Xe}},re=function(Xe){this.options=be(Object.create(J),Xe),this.trees=new Array(this.options.maxZoom+1)};function se(Xe,Je,Ve,Ke,ft){return{x:Xe,y:Je,zoom:1/0,id:Ve,parentId:-1,numPoints:Ke,properties:ft}}function ue(Xe,Je){var Ve=Xe.geometry.coordinates,Ke=Ve[0],ft=Ve[1];return{x:ge(Ke),y:ye(ft),zoom:1/0,index:Je,parentId:-1}}function he(Xe){return{type:"Feature",id:Xe.id,properties:pe(Xe),geometry:{type:"Point",coordinates:[(Ke=Xe.x,360*(Ke-.5)),(Je=Xe.y,Ve=(180-360*Je)*Math.PI/180,360*Math.atan(Math.exp(Ve))/Math.PI-90)]}};var Je,Ve,Ke}function pe(Xe){var Je=Xe.numPoints,Ve=Je>=1e4?Math.round(Je/1e3)+"k":Je>=1e3?Math.round(Je/100)/10+"k":Je;return be(be({},Xe.properties),{cluster:!0,cluster_id:Xe.id,point_count:Je,point_count_abbreviated:Ve})}function ge(Xe){return Xe/360+.5}function ye(Xe){var Je=Math.sin(Xe*Math.PI/180),Ve=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function be(Xe,Je){for(var Ve in Je)Xe[Ve]=Je[Ve];return Xe}function Te(Xe){return Xe.x}function Se(Xe){return Xe.y}function Fe(Xe,Je,Ve,Ke){for(var ft,ut=Ke,xt=Ve-Je>>1,bt=Ve-Je,qe=Xe[Je],je=Xe[Je+1],lt=Xe[Ve],gt=Xe[Ve+1],dt=Je+3;dt<Ve;dt+=3){var at=xe(Xe[dt],Xe[dt+1],qe,je,lt,gt);if(at>ut)ft=dt,ut=at;else if(at===ut){var kt=Math.abs(dt-xt);kt<bt&&(ft=dt,bt=kt)}}ut>Ke&&(ft-Je>3&&Fe(Xe,Je,ft,Ke),Xe[ft+2]=ut,Ve-ft>3&&Fe(Xe,ft,Ve,Ke))}function xe(Xe,Je,Ve,Ke,ft,ut){var xt=ft-Ve,bt=ut-Ke;if(xt!==0||bt!==0){var qe=((Xe-Ve)*xt+(Je-Ke)*bt)/(xt*xt+bt*bt);qe>1?(Ve=ft,Ke=ut):qe>0&&(Ve+=xt*qe,Ke+=bt*qe)}return(xt=Xe-Ve)*xt+(bt=Je-Ke)*bt}function le(Xe,Je,Ve,Ke){var ft={id:Xe===void 0?null:Xe,type:Je,geometry:Ve,tags:Ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ut){var xt=ut.geometry,bt=ut.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")oe(ut,xt);else if(bt==="Polygon"||bt==="MultiLineString")for(var qe=0;qe<xt.length;qe++)oe(ut,xt[qe]);else if(bt==="MultiPolygon")for(qe=0;qe<xt.length;qe++)for(var je=0;je<xt[qe].length;je++)oe(ut,xt[qe][je])}(ft),ft}function oe(Xe,Je){for(var Ve=0;Ve<Je.length;Ve+=3)Xe.minX=Math.min(Xe.minX,Je[Ve]),Xe.minY=Math.min(Xe.minY,Je[Ve+1]),Xe.maxX=Math.max(Xe.maxX,Je[Ve]),Xe.maxY=Math.max(Xe.maxY,Je[Ve+1])}function de(Xe,Je,Ve,Ke){if(Je.geometry){var ft=Je.geometry.coordinates,ut=Je.geometry.type,xt=Math.pow(Ve.tolerance/((1<<Ve.maxZoom)*Ve.extent),2),bt=[],qe=Je.id;if(Ve.promoteId?qe=Je.properties[Ve.promoteId]:Ve.generateId&&(qe=Ke||0),ut==="Point")Ce(ft,bt);else if(ut==="MultiPoint")for(var je=0;je<ft.length;je++)Ce(ft[je],bt);else if(ut==="LineString")_e(ft,bt,xt,!1);else if(ut==="MultiLineString"){if(Ve.lineMetrics){for(je=0;je<ft.length;je++)bt=[],_e(ft[je],bt,xt,!1),Xe.push(le(qe,"LineString",bt,Je.properties));return}Ae(ft,bt,xt,!1)}else if(ut==="Polygon")Ae(ft,bt,xt,!0);else{if(ut!=="MultiPolygon"){if(ut==="GeometryCollection"){for(je=0;je<Je.geometry.geometries.length;je++)de(Xe,{id:qe,geometry:Je.geometry.geometries[je],properties:Je.properties},Ve,Ke);return}throw new Error("Input data is not a valid GeoJSON object.")}for(je=0;je<ft.length;je++){var lt=[];Ae(ft[je],lt,xt,!0),bt.push(lt)}}Xe.push(le(qe,ut,bt,Je.properties))}}function Ce(Xe,Je){Je.push(Le(Xe[0])),Je.push(ze(Xe[1])),Je.push(0)}function _e(Xe,Je,Ve,Ke){for(var ft,ut,xt=0,bt=0;bt<Xe.length;bt++){var qe=Le(Xe[bt][0]),je=ze(Xe[bt][1]);Je.push(qe),Je.push(je),Je.push(0),bt>0&&(xt+=Ke?(ft*je-qe*ut)/2:Math.sqrt(Math.pow(qe-ft,2)+Math.pow(je-ut,2))),ft=qe,ut=je}var lt=Je.length-3;Je[2]=1,Fe(Je,0,lt,Ve),Je[lt+2]=1,Je.size=Math.abs(xt),Je.start=0,Je.end=Je.size}function Ae(Xe,Je,Ve,Ke){for(var ft=0;ft<Xe.length;ft++){var ut=[];_e(Xe[ft],ut,Ve,Ke),Je.push(ut)}}function Le(Xe){return Xe/360+.5}function ze(Xe){var Je=Math.sin(Xe*Math.PI/180),Ve=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function Re(Xe,Je,Ve,Ke,ft,ut,xt,bt){if(Ke/=Je,ut>=(Ve/=Je)&&xt<Ke)return Xe;if(xt<Ve||ut>=Ke)return null;for(var qe=[],je=0;je<Xe.length;je++){var lt=Xe[je],gt=lt.geometry,dt=lt.type,at=ft===0?lt.minX:lt.minY,kt=ft===0?lt.maxX:lt.maxY;if(at>=Ve&&kt<Ke)qe.push(lt);else if(!(kt<Ve||at>=Ke)){var wt=[];if(dt==="Point"||dt==="MultiPoint")ve(gt,wt,Ve,Ke,ft);else if(dt==="LineString")ke(gt,wt,Ve,Ke,ft,!1,bt.lineMetrics);else if(dt==="MultiLineString")De(gt,wt,Ve,Ke,ft,!1);else if(dt==="Polygon")De(gt,wt,Ve,Ke,ft,!0);else if(dt==="MultiPolygon")for(var Et=0;Et<gt.length;Et++){var Tt=[];De(gt[Et],Tt,Ve,Ke,ft,!0),Tt.length&&wt.push(Tt)}if(wt.length){if(bt.lineMetrics&&dt==="LineString"){for(Et=0;Et<wt.length;Et++)qe.push(le(lt.id,dt,wt[Et],lt.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(wt.length===1?(dt="LineString",wt=wt[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=wt.length===3?"Point":"MultiPoint"),qe.push(le(lt.id,dt,wt,lt.tags))}}}return qe.length?qe:null}function ve(Xe,Je,Ve,Ke,ft){for(var ut=0;ut<Xe.length;ut+=3){var xt=Xe[ut+ft];xt>=Ve&&xt<=Ke&&(Je.push(Xe[ut]),Je.push(Xe[ut+1]),Je.push(Xe[ut+2]))}}function ke(Xe,Je,Ve,Ke,ft,ut,xt){for(var bt,qe,je=Ee(Xe),lt=ft===0?Ue:We,gt=Xe.start,dt=0;dt<Xe.length-3;dt+=3){var at=Xe[dt],kt=Xe[dt+1],wt=Xe[dt+2],Et=Xe[dt+3],Tt=Xe[dt+4],At=ft===0?at:kt,Nt=ft===0?Et:Tt,Wt=!1;xt&&(bt=Math.sqrt(Math.pow(at-Et,2)+Math.pow(kt-Tt,2))),At<Ve?Nt>Ve&&(qe=lt(je,at,kt,Et,Tt,Ve),xt&&(je.start=gt+bt*qe)):At>Ke?Nt<Ke&&(qe=lt(je,at,kt,Et,Tt,Ke),xt&&(je.start=gt+bt*qe)):Pe(je,at,kt,wt),Nt<Ve&&At>=Ve&&(qe=lt(je,at,kt,Et,Tt,Ve),Wt=!0),Nt>Ke&&At<=Ke&&(qe=lt(je,at,kt,Et,Tt,Ke),Wt=!0),!ut&&Wt&&(xt&&(je.end=gt+bt*qe),Je.push(je),je=Ee(Xe)),xt&&(gt+=bt)}var on=Xe.length-3;at=Xe[on],kt=Xe[on+1],wt=Xe[on+2],(At=ft===0?at:kt)>=Ve&&At<=Ke&&Pe(je,at,kt,wt),on=je.length-3,ut&&on>=3&&(je[on]!==je[0]||je[on+1]!==je[1])&&Pe(je,je[0],je[1],je[2]),je.length&&Je.push(je)}function Ee(Xe){var Je=[];return Je.size=Xe.size,Je.start=Xe.start,Je.end=Xe.end,Je}function De(Xe,Je,Ve,Ke,ft,ut){for(var xt=0;xt<Xe.length;xt++)ke(Xe[xt],Je,Ve,Ke,ft,ut,!1)}function Pe(Xe,Je,Ve,Ke){Xe.push(Je),Xe.push(Ve),Xe.push(Ke)}function Ue(Xe,Je,Ve,Ke,ft,ut){var xt=(ut-Je)/(Ke-Je);return Xe.push(ut),Xe.push(Ve+(ft-Ve)*xt),Xe.push(1),xt}function We(Xe,Je,Ve,Ke,ft,ut){var xt=(ut-Ve)/(ft-Ve);return Xe.push(Je+(Ke-Je)*xt),Xe.push(ut),Xe.push(1),xt}function $e(Xe,Je){for(var Ve=[],Ke=0;Ke<Xe.length;Ke++){var ft,ut=Xe[Ke],xt=ut.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")ft=ot(ut.geometry,Je);else if(xt==="MultiLineString"||xt==="Polygon"){ft=[];for(var bt=0;bt<ut.geometry.length;bt++)ft.push(ot(ut.geometry[bt],Je))}else if(xt==="MultiPolygon")for(ft=[],bt=0;bt<ut.geometry.length;bt++){for(var qe=[],je=0;je<ut.geometry[bt].length;je++)qe.push(ot(ut.geometry[bt][je],Je));ft.push(qe)}Ve.push(le(ut.id,xt,ft,ut.tags))}return Ve}function ot(Xe,Je){var Ve=[];Ve.size=Xe.size,Xe.start!==void 0&&(Ve.start=Xe.start,Ve.end=Xe.end);for(var Ke=0;Ke<Xe.length;Ke+=3)Ve.push(Xe[Ke]+Je,Xe[Ke+1],Xe[Ke+2]);return Ve}function st(Xe,Je){if(Xe.transformed)return Xe;var Ve,Ke,ft,ut=1<<Xe.z,xt=Xe.x,bt=Xe.y;for(Ve=0;Ve<Xe.features.length;Ve++){var qe=Xe.features[Ve],je=qe.geometry,lt=qe.type;if(qe.geometry=[],lt===1)for(Ke=0;Ke<je.length;Ke+=2)qe.geometry.push(mt(je[Ke],je[Ke+1],Je,ut,xt,bt));else for(Ke=0;Ke<je.length;Ke++){var gt=[];for(ft=0;ft<je[Ke].length;ft+=2)gt.push(mt(je[Ke][ft],je[Ke][ft+1],Je,ut,xt,bt));qe.geometry.push(gt)}}return Xe.transformed=!0,Xe}function mt(Xe,Je,Ve,Ke,ft,ut){return[Math.round(Ve*(Xe*Ke-ft)),Math.round(Ve*(Je*Ke-ut))]}function _t(Xe,Je,Ve,Ke,ft){for(var ut=Je===ft.maxZoom?0:ft.tolerance/((1<<Je)*ft.extent),xt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ve,y:Ke,z:Je,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},bt=0;bt<Xe.length;bt++){xt.numFeatures++,yt(xt,Xe[bt],ut,ft);var qe=Xe[bt].minX,je=Xe[bt].minY,lt=Xe[bt].maxX,gt=Xe[bt].maxY;qe<xt.minX&&(xt.minX=qe),je<xt.minY&&(xt.minY=je),lt>xt.maxX&&(xt.maxX=lt),gt>xt.maxY&&(xt.maxY=gt)}return xt}function yt(Xe,Je,Ve,Ke){var ft=Je.geometry,ut=Je.type,xt=[];if(ut==="Point"||ut==="MultiPoint")for(var bt=0;bt<ft.length;bt+=3)xt.push(ft[bt]),xt.push(ft[bt+1]),Xe.numPoints++,Xe.numSimplified++;else if(ut==="LineString")it(xt,ft,Xe,Ve,!1,!1);else if(ut==="MultiLineString"||ut==="Polygon")for(bt=0;bt<ft.length;bt++)it(xt,ft[bt],Xe,Ve,ut==="Polygon",bt===0);else if(ut==="MultiPolygon")for(var qe=0;qe<ft.length;qe++){var je=ft[qe];for(bt=0;bt<je.length;bt++)it(xt,je[bt],Xe,Ve,!0,bt===0)}if(xt.length){var lt=Je.tags||null;if(ut==="LineString"&&Ke.lineMetrics){for(var gt in lt={},Je.tags)lt[gt]=Je.tags[gt];lt.mapbox_clip_start=ft.start/ft.size,lt.mapbox_clip_end=ft.end/ft.size}var dt={geometry:xt,type:ut==="Polygon"||ut==="MultiPolygon"?3:ut==="LineString"||ut==="MultiLineString"?2:1,tags:lt};Je.id!==null&&(dt.id=Je.id),Xe.features.push(dt)}}function it(Xe,Je,Ve,Ke,ft,ut){var xt=Ke*Ke;if(Ke>0&&Je.size<(ft?xt:Ke))Ve.numPoints+=Je.length/3;else{for(var bt=[],qe=0;qe<Je.length;qe+=3)(Ke===0||Je[qe+2]>xt)&&(Ve.numSimplified++,bt.push(Je[qe]),bt.push(Je[qe+1])),Ve.numPoints++;ft&&function(je,lt){for(var gt=0,dt=0,at=je.length,kt=at-2;dt<at;kt=dt,dt+=2)gt+=(je[dt]-je[kt])*(je[dt+1]+je[kt+1]);if(gt>0===lt)for(dt=0,at=je.length;dt<at/2;dt+=2){var wt=je[dt],Et=je[dt+1];je[dt]=je[at-2-dt],je[dt+1]=je[at-1-dt],je[at-2-dt]=wt,je[at-1-dt]=Et}}(bt,ut),Xe.push(bt)}}function tt(Xe,Je){var Ve=(Je=this.options=function(ft,ut){for(var xt in ut)ft[xt]=ut[xt];return ft}(Object.create(this.options),Je)).debug;if(Ve&&console.time("preprocess data"),Je.maxZoom<0||Je.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Je.promoteId&&Je.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ke=function(ft,ut){var xt=[];if(ft.type==="FeatureCollection")for(var bt=0;bt<ft.features.length;bt++)de(xt,ft.features[bt],ut,bt);else ft.type==="Feature"?de(xt,ft,ut):de(xt,{geometry:ft},ut);return xt}(Xe,Je);this.tiles={},this.tileCoords=[],Ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Je.indexMaxZoom,Je.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ke=function(ft,ut){var xt=ut.buffer/ut.extent,bt=ft,qe=Re(ft,1,-1-xt,xt,0,-1,2,ut),je=Re(ft,1,1-xt,2+xt,0,-1,2,ut);return(qe||je)&&(bt=Re(ft,1,-xt,1+xt,0,-1,2,ut)||[],qe&&(bt=$e(qe,1).concat(bt)),je&&(bt=bt.concat($e(je,-1)))),bt}(Ke,Je)).length&&this.splitTile(Ke,0,0,0),Ve&&(Ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pt(Xe,Je,Ve){return 32*((1<<Xe)*Ve+Je)+Xe}function Rt(Xe,Je){var Ve=Xe.tileID.canonical;if(!this._geoJSONIndex)return Je(null,null);var Ke=this._geoJSONIndex.getTile(Ve.z,Ve.x,Ve.y);if(!Ke)return Je(null,null);var ft=new v(Ke.features),ut=d(ft);ut.byteOffset===0&&ut.byteLength===ut.buffer.byteLength||(ut=new Uint8Array(ut)),Je(null,{vectorTile:ft,rawData:ut.buffer})}re.prototype.load=function(Xe){var Je=this.options,Ve=Je.log,Ke=Je.minZoom,ft=Je.maxZoom,ut=Je.nodeSize;Ve&&console.time("total time");var xt="prepare "+Xe.length+" points";Ve&&console.time(xt),this.points=Xe;for(var bt=[],qe=0;qe<Xe.length;qe++)Xe[qe].geometry&&bt.push(ue(Xe[qe],qe));this.trees[ft+1]=new $(bt,Te,Se,ut,Float32Array),Ve&&console.timeEnd(xt);for(var je=ft;je>=Ke;je--){var lt=+Date.now();bt=this._cluster(bt,je),this.trees[je]=new $(bt,Te,Se,ut,Float32Array),Ve&&console.log("z%d: %d clusters in %dms",je,bt.length,+Date.now()-lt)}return Ve&&console.timeEnd("total time"),this},re.prototype.getClusters=function(Xe,Je){var Ve=((Xe[0]+180)%360+360)%360-180,Ke=Math.max(-90,Math.min(90,Xe[1])),ft=Xe[2]===180?180:((Xe[2]+180)%360+360)%360-180,ut=Math.max(-90,Math.min(90,Xe[3]));if(Xe[2]-Xe[0]>=360)Ve=-180,ft=180;else if(Ve>ft){var xt=this.getClusters([Ve,Ke,180,ut],Je),bt=this.getClusters([-180,Ke,ft,ut],Je);return xt.concat(bt)}for(var qe=this.trees[this._limitZoom(Je)],je=[],lt=0,gt=qe.range(ge(Ve),ye(ut),ge(ft),ye(Ke));lt<gt.length;lt+=1){var dt=gt[lt],at=qe.points[dt];je.push(at.numPoints?he(at):this.points[at.index])}return je},re.prototype.getChildren=function(Xe){var Je=this._getOriginId(Xe),Ve=this._getOriginZoom(Xe),Ke="No cluster with the specified id.",ft=this.trees[Ve];if(!ft)throw new Error(Ke);var ut=ft.points[Je];if(!ut)throw new Error(Ke);for(var xt=this.options.radius/(this.options.extent*Math.pow(2,Ve-1)),bt=[],qe=0,je=ft.within(ut.x,ut.y,xt);qe<je.length;qe+=1){var lt=je[qe],gt=ft.points[lt];gt.parentId===Xe&&bt.push(gt.numPoints?he(gt):this.points[gt.index])}if(bt.length===0)throw new Error(Ke);return bt},re.prototype.getLeaves=function(Xe,Je,Ve){Je=Je||10,Ve=Ve||0;var Ke=[];return this._appendLeaves(Ke,Xe,Je,Ve,0),Ke},re.prototype.getTile=function(Xe,Je,Ve){var Ke=this.trees[this._limitZoom(Xe)],ft=Math.pow(2,Xe),ut=this.options,xt=ut.extent,bt=ut.radius/xt,qe=(Ve-bt)/ft,je=(Ve+1+bt)/ft,lt={features:[]};return this._addTileFeatures(Ke.range((Je-bt)/ft,qe,(Je+1+bt)/ft,je),Ke.points,Je,Ve,ft,lt),Je===0&&this._addTileFeatures(Ke.range(1-bt/ft,qe,1,je),Ke.points,ft,Ve,ft,lt),Je===ft-1&&this._addTileFeatures(Ke.range(0,qe,bt/ft,je),Ke.points,-1,Ve,ft,lt),lt.features.length?lt:null},re.prototype.getClusterExpansionZoom=function(Xe){for(var Je=this._getOriginZoom(Xe)-1;Je<=this.options.maxZoom;){var Ve=this.getChildren(Xe);if(Je++,Ve.length!==1)break;Xe=Ve[0].properties.cluster_id}return Je},re.prototype._appendLeaves=function(Xe,Je,Ve,Ke,ft){for(var ut=0,xt=this.getChildren(Je);ut<xt.length;ut+=1){var bt=xt[ut],qe=bt.properties;if(qe&&qe.cluster?ft+qe.point_count<=Ke?ft+=qe.point_count:ft=this._appendLeaves(Xe,qe.cluster_id,Ve,Ke,ft):ft<Ke?ft++:Xe.push(bt),Xe.length===Ve)break}return ft},re.prototype._addTileFeatures=function(Xe,Je,Ve,Ke,ft,ut){for(var xt=0,bt=Xe;xt<bt.length;xt+=1){var qe=Je[bt[xt]],je=qe.numPoints,lt={type:1,geometry:[[Math.round(this.options.extent*(qe.x*ft-Ve)),Math.round(this.options.extent*(qe.y*ft-Ke))]],tags:je?pe(qe):this.points[qe.index].properties},gt=void 0;je?gt=qe.id:this.options.generateId?gt=qe.index:this.points[qe.index].id&&(gt=this.points[qe.index].id),gt!==void 0&&(lt.id=gt),ut.features.push(lt)}},re.prototype._limitZoom=function(Xe){return Math.max(this.options.minZoom,Math.min(+Xe,this.options.maxZoom+1))},re.prototype._cluster=function(Xe,Je){for(var Ve=[],Ke=this.options,ft=Ke.radius,ut=Ke.extent,xt=Ke.reduce,bt=Ke.minPoints,qe=ft/(ut*Math.pow(2,Je)),je=0;je<Xe.length;je++){var lt=Xe[je];if(!(lt.zoom<=Je)){lt.zoom=Je;for(var gt=this.trees[Je+1],dt=gt.within(lt.x,lt.y,qe),at=lt.numPoints||1,kt=at,wt=0,Et=dt;wt<Et.length;wt+=1){var Tt=Et[wt],At=gt.points[Tt];At.zoom>Je&&(kt+=At.numPoints||1)}if(kt>=bt){for(var Nt=lt.x*at,Wt=lt.y*at,on=xt&&at>1?this._map(lt,!0):null,cn=(je<<5)+(Je+1)+this.points.length,un=0,Xt=dt;un<Xt.length;un+=1){var tn=Xt[un],kn=gt.points[tn];if(!(kn.zoom<=Je)){kn.zoom=Je;var fn=kn.numPoints||1;Nt+=kn.x*fn,Wt+=kn.y*fn,kn.parentId=cn,xt&&(on||(on=this._map(lt,!0)),xt(on,this._map(kn)))}}lt.parentId=cn,Ve.push(se(Nt/kt,Wt/kt,cn,kt,on))}else if(Ve.push(lt),kt>1)for(var Qt=0,pn=dt;Qt<pn.length;Qt+=1){var nn=pn[Qt],sn=gt.points[nn];sn.zoom<=Je||(sn.zoom=Je,Ve.push(sn))}}}return Ve},re.prototype._getOriginId=function(Xe){return Xe-this.points.length>>5},re.prototype._getOriginZoom=function(Xe){return(Xe-this.points.length)%32},re.prototype._map=function(Xe,Je){if(Xe.numPoints)return Je?be({},Xe.properties):Xe.properties;var Ve=this.points[Xe.index].properties,Ke=this.options.map(Ve);return Je&&Ke===Ve?be({},Ke):Ke},tt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},tt.prototype.splitTile=function(Xe,Je,Ve,Ke,ft,ut,xt){for(var bt=[Xe,Je,Ve,Ke],qe=this.options,je=qe.debug;bt.length;){Ke=bt.pop(),Ve=bt.pop(),Je=bt.pop(),Xe=bt.pop();var lt=1<<Je,gt=Pt(Je,Ve,Ke),dt=this.tiles[gt];if(!dt&&(je>1&&console.time("creation"),dt=this.tiles[gt]=_t(Xe,Je,Ve,Ke,qe),this.tileCoords.push({z:Je,x:Ve,y:Ke}),je)){je>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Je,Ve,Ke,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var at="z"+Je;this.stats[at]=(this.stats[at]||0)+1,this.total++}if(dt.source=Xe,ft){if(Je===qe.maxZoom||Je===ft)continue;var kt=1<<ft-Je;if(Ve!==Math.floor(ut/kt)||Ke!==Math.floor(xt/kt))continue}else if(Je===qe.indexMaxZoom||dt.numPoints<=qe.indexMaxPoints)continue;if(dt.source=null,Xe.length!==0){je>1&&console.time("clipping");var wt,Et,Tt,At,Nt,Wt,on=.5*qe.buffer/qe.extent,cn=.5-on,un=.5+on,Xt=1+on;wt=Et=Tt=At=null,Nt=Re(Xe,lt,Ve-on,Ve+un,0,dt.minX,dt.maxX,qe),Wt=Re(Xe,lt,Ve+cn,Ve+Xt,0,dt.minX,dt.maxX,qe),Xe=null,Nt&&(wt=Re(Nt,lt,Ke-on,Ke+un,1,dt.minY,dt.maxY,qe),Et=Re(Nt,lt,Ke+cn,Ke+Xt,1,dt.minY,dt.maxY,qe),Nt=null),Wt&&(Tt=Re(Wt,lt,Ke-on,Ke+un,1,dt.minY,dt.maxY,qe),At=Re(Wt,lt,Ke+cn,Ke+Xt,1,dt.minY,dt.maxY,qe),Wt=null),je>1&&console.timeEnd("clipping"),bt.push(wt||[],Je+1,2*Ve,2*Ke),bt.push(Et||[],Je+1,2*Ve,2*Ke+1),bt.push(Tt||[],Je+1,2*Ve+1,2*Ke),bt.push(At||[],Je+1,2*Ve+1,2*Ke+1)}}},tt.prototype.getTile=function(Xe,Je,Ve){var Ke=this.options,ft=Ke.extent,ut=Ke.debug;if(Xe<0||Xe>24)return null;var xt=1<<Xe,bt=Pt(Xe,Je=(Je%xt+xt)%xt,Ve);if(this.tiles[bt])return st(this.tiles[bt],ft);ut>1&&console.log("drilling down to z%d-%d-%d",Xe,Je,Ve);for(var qe,je=Xe,lt=Je,gt=Ve;!qe&&je>0;)je--,lt=Math.floor(lt/2),gt=Math.floor(gt/2),qe=this.tiles[Pt(je,lt,gt)];return qe&&qe.source?(ut>1&&console.log("found parent tile z%d-%d-%d",je,lt,gt),ut>1&&console.time("drilling down"),this.splitTile(qe.source,je,lt,gt,Xe,Je,Ve),ut>1&&console.timeEnd("drilling down"),this.tiles[bt]?st(this.tiles[bt],ft):null):null};var Ft=function(Xe){function Je(Ve,Ke,ft,ut){Xe.call(this,Ve,Ke,ft,Rt),ut&&(this.loadGeoJSON=ut)}return Xe&&(Je.__proto__=Xe),Je.prototype=Object.create(Xe&&Xe.prototype),Je.prototype.constructor=Je,Je.prototype.loadData=function(Ve,Ke){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ke,this._pendingLoadDataParams=Ve,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Je.prototype._loadData=function(){var Ve=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ke=this._pendingCallback,ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ut=!!(ft&&ft.request&&ft.request.collectResourceTiming)&&new o.RequestPerformance(ft.request);this.loadGeoJSON(ft,function(xt,bt){if(xt||!bt)return Ke(xt);if(typeof bt!="object")return Ke(new Error("Input data given to '"+ft.source+"' is not a valid GeoJSON object."));u(bt,!0);try{if(ft.filter){var qe=o.createExpression(ft.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(qe.result==="error")throw new Error(qe.value.map(function(dt){return dt.key+": "+dt.message}).join(", "));var je=bt.features.filter(function(dt){return qe.value.evaluate({zoom:0},dt)});bt={type:"FeatureCollection",features:je}}Ve._geoJSONIndex=ft.cluster?new re(function(dt){var at=dt.superclusterOptions,kt=dt.clusterProperties;if(!kt||!at)return at;for(var wt={},Et={},Tt={accumulated:null,zoom:0},At={properties:null},Nt=Object.keys(kt),Wt=0,on=Nt;Wt<on.length;Wt+=1){var cn=on[Wt],un=kt[cn],Xt=un[0],tn=un[1],kn=o.createExpression(tn),fn=o.createExpression(typeof Xt=="string"?[Xt,["accumulated"],["get",cn]]:Xt);wt[cn]=kn.value,Et[cn]=fn.value}return at.map=function(Qt){At.properties=Qt;for(var pn={},nn=0,sn=Nt;nn<sn.length;nn+=1){var Sn=sn[nn];pn[Sn]=wt[Sn].evaluate(Tt,At)}return pn},at.reduce=function(Qt,pn){At.properties=pn;for(var nn=0,sn=Nt;nn<sn.length;nn+=1){var Sn=sn[nn];Tt.accumulated=Qt[Sn],Qt[Sn]=Et[Sn].evaluate(Tt,At)}},at}(ft)).load(bt.features):function(dt,at){return new tt(dt,at)}(bt,ft.geojsonVtOptions)}catch(dt){return Ke(dt)}Ve.loaded={};var lt={};if(ut){var gt=ut.finish();gt&&(lt.resourceTiming={},lt.resourceTiming[ft.source]=JSON.parse(JSON.stringify(gt)))}Ke(null,lt)})}},Je.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Je.prototype.reloadTile=function(Ve,Ke){var ft=this.loaded,ut=Ve.uid;return ft&&ft[ut]?Xe.prototype.reloadTile.call(this,Ve,Ke):this.loadTile(Ve,Ke)},Je.prototype.loadGeoJSON=function(Ve,Ke){if(Ve.request)o.getJSON(Ve.request,Ke);else{if(typeof Ve.data!="string")return Ke(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."));try{return Ke(null,JSON.parse(Ve.data))}catch{return Ke(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."))}}},Je.prototype.removeSource=function(Ve,Ke){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ke()},Je.prototype.getClusterExpansionZoom=function(Ve,Ke){try{Ke(null,this._geoJSONIndex.getClusterExpansionZoom(Ve.clusterId))}catch(ft){Ke(ft)}},Je.prototype.getClusterChildren=function(Ve,Ke){try{Ke(null,this._geoJSONIndex.getChildren(Ve.clusterId))}catch(ft){Ke(ft)}},Je.prototype.getClusterLeaves=function(Ve,Ke){try{Ke(null,this._geoJSONIndex.getLeaves(Ve.clusterId,Ve.limit,Ve.offset))}catch(ft){Ke(ft)}},Je}(n),Ot=function(Xe){var Je=this;this.self=Xe,this.actor=new o.Actor(Xe,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ve,Ke){if(Je.workerSourceTypes[Ve])throw new Error('Worker source with name "'+Ve+'" already registered.');Je.workerSourceTypes[Ve]=Ke},this.self.registerRTLTextPlugin=function(Ve){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=Ve.applyArabicShaping,o.plugin.processBidirectionalText=Ve.processBidirectionalText,o.plugin.processStyledBidirectionalText=Ve.processStyledBidirectionalText}};return Ot.prototype.setReferrer=function(Xe,Je){this.referrer=Je},Ot.prototype.setImages=function(Xe,Je,Ve){for(var Ke in this.availableImages[Xe]=Je,this.workerSources[Xe]){var ft=this.workerSources[Xe][Ke];for(var ut in ft)ft[ut].availableImages=Je}Ve()},Ot.prototype.setLayers=function(Xe,Je,Ve){this.getLayerIndex(Xe).replace(Je),Ve()},Ot.prototype.updateLayers=function(Xe,Je,Ve){this.getLayerIndex(Xe).update(Je.layers,Je.removedIds),Ve()},Ot.prototype.loadTile=function(Xe,Je,Ve){this.getWorkerSource(Xe,Je.type,Je.source).loadTile(Je,Ve)},Ot.prototype.loadDEMTile=function(Xe,Je,Ve){this.getDEMWorkerSource(Xe,Je.source).loadTile(Je,Ve)},Ot.prototype.reloadTile=function(Xe,Je,Ve){this.getWorkerSource(Xe,Je.type,Je.source).reloadTile(Je,Ve)},Ot.prototype.abortTile=function(Xe,Je,Ve){this.getWorkerSource(Xe,Je.type,Je.source).abortTile(Je,Ve)},Ot.prototype.removeTile=function(Xe,Je,Ve){this.getWorkerSource(Xe,Je.type,Je.source).removeTile(Je,Ve)},Ot.prototype.removeDEMTile=function(Xe,Je){this.getDEMWorkerSource(Xe,Je.source).removeTile(Je)},Ot.prototype.removeSource=function(Xe,Je,Ve){if(this.workerSources[Xe]&&this.workerSources[Xe][Je.type]&&this.workerSources[Xe][Je.type][Je.source]){var Ke=this.workerSources[Xe][Je.type][Je.source];delete this.workerSources[Xe][Je.type][Je.source],Ke.removeSource!==void 0?Ke.removeSource(Je,Ve):Ve()}},Ot.prototype.loadWorkerSource=function(Xe,Je,Ve){try{this.self.importScripts(Je.url),Ve()}catch(Ke){Ve(Ke.toString())}},Ot.prototype.syncRTLPluginState=function(Xe,Je,Ve){try{o.plugin.setState(Je);var Ke=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Ke!=null){this.self.importScripts(Ke);var ft=o.plugin.isParsed();Ve(ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ke),ft)}}catch(ut){Ve(ut.toString())}},Ot.prototype.getAvailableImages=function(Xe){var Je=this.availableImages[Xe];return Je||(Je=[]),Je},Ot.prototype.getLayerIndex=function(Xe){var Je=this.layerIndexes[Xe];return Je||(Je=this.layerIndexes[Xe]=new f),Je},Ot.prototype.getWorkerSource=function(Xe,Je,Ve){var Ke=this;if(this.workerSources[Xe]||(this.workerSources[Xe]={}),this.workerSources[Xe][Je]||(this.workerSources[Xe][Je]={}),!this.workerSources[Xe][Je][Ve]){var ft={send:function(ut,xt,bt){Ke.actor.send(ut,xt,bt,Xe)}};this.workerSources[Xe][Je][Ve]=new this.workerSourceTypes[Je](ft,this.getLayerIndex(Xe),this.getAvailableImages(Xe))}return this.workerSources[Xe][Je][Ve]},Ot.prototype.getDEMWorkerSource=function(Xe,Je){return this.demWorkerSources[Xe]||(this.demWorkerSources[Xe]={}),this.demWorkerSources[Xe][Je]||(this.demWorkerSources[Xe][Je]=new l),this.demWorkerSources[Xe][Je]},Ot.prototype.enforceCacheSizeLimit=function(Xe,Je){o.enforceCacheSizeLimit(Je)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Ot(self)),Ot}),k(0,function(o){var _=o.createCommonjsModule(function(N){function Y(q){return!G(q)}function G(q){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ae,fe,we=new Blob([""],{type:"text/javascript"}),Oe=URL.createObjectURL(we);try{fe=new Worker(Oe),ae=!0}catch{ae=!1}return fe&&fe.terminate(),URL.revokeObjectURL(Oe),ae}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ae=document.createElement("canvas");ae.width=ae.height=1;var fe=ae.getContext("2d");if(!fe)return!1;var we=fe.getImageData(0,0,1,1);return we&&we.width===ae.width}()?(ee=q&&q.failIfMajorPerformanceCaveat,L[ee]===void 0&&(L[ee]=function(ae){var fe=function(Oe){var Be=document.createElement("canvas"),Ge=Object.create(Y.webGLContextAttributes);return Ge.failIfMajorPerformanceCaveat=Oe,Be.probablySupportsContext?Be.probablySupportsContext("webgl",Ge)||Be.probablySupportsContext("experimental-webgl",Ge):Be.supportsContext?Be.supportsContext("webgl",Ge)||Be.supportsContext("experimental-webgl",Ge):Be.getContext("webgl",Ge)||Be.getContext("experimental-webgl",Ge)}(ae);if(!fe)return!1;var we=fe.createShader(fe.VERTEX_SHADER);return!(!we||fe.isContextLost())&&(fe.shaderSource(we,"void main() {}"),fe.compileShader(we),fe.getShaderParameter(we,fe.COMPILE_STATUS)===!0)}(ee)),L[ee]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ee}N.exports?N.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=G);var L={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(N,Y,G){var L=o.window.document.createElement(N);return Y!==void 0&&(L.className=Y),G&&G.appendChild(L),L},createNS:function(N,Y){return o.window.document.createElementNS(N,Y)}},f=o.window.document&&o.window.document.documentElement.style;function s(N){if(!f)return N[0];for(var Y=0;Y<N.length;Y++)if(N[Y]in f)return N[Y];return N[0]}var t,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){f&&i&&(t=f[i],f[i]="none")},b.enableDrag=function(){f&&i&&(f[i]=t)};var r=s(["transform","WebkitTransform"]);b.setTransform=function(N,Y){N.style[r]=Y};var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});o.window.addEventListener("test",a,a),o.window.removeEventListener("test",a,a)}catch{n=!1}b.addEventListener=function(N,Y,G,L){L===void 0&&(L={}),"passive"in L&&n?N.addEventListener(Y,G,L):N.addEventListener(Y,G,L.capture)},b.removeEventListener=function(N,Y,G,L){L===void 0&&(L={}),"passive"in L&&n?N.removeEventListener(Y,G,L):N.removeEventListener(Y,G,L.capture)};var l=function(N){N.preventDefault(),N.stopPropagation(),o.window.removeEventListener("click",l,!0)};function u(N){var Y=N.userImage;return!!(Y&&Y.render&&Y.render())&&(N.data.replace(new Uint8Array(Y.data.buffer)),!0)}b.suppressClick=function(){o.window.addEventListener("click",l,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(N,Y){var G=N.getBoundingClientRect();return new o.Point(Y.clientX-G.left-N.clientLeft,Y.clientY-G.top-N.clientTop)},b.touchPos=function(N,Y){for(var G=N.getBoundingClientRect(),L=[],q=0;q<Y.length;q++)L.push(new o.Point(Y[q].clientX-G.left-N.clientLeft,Y[q].clientY-G.top-N.clientTop));return L},b.mouseButton=function(N){return o.window.InstallTrigger!==void 0&&N.button===2&&N.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:N.button},b.remove=function(N){N.parentNode&&N.parentNode.removeChild(N)};var h=function(N){function Y(){N.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(G){if(this.loaded!==G&&(this.loaded=G,G)){for(var L=0,q=this.requestors;L<q.length;L+=1){var ee=q[L],ae=ee.ids,fe=ee.callback;this._notify(ae,fe)}this.requestors=[]}},Y.prototype.getImage=function(G){return this.images[G]},Y.prototype.addImage=function(G,L){this._validate(G,L)&&(this.images[G]=L)},Y.prototype._validate=function(G,L){var q=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchX" value'))),q=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "stretchY" value'))),q=!1),this._validateContent(L.content,L)||(this.fire(new o.ErrorEvent(new Error('Image "'+G+'" has invalid "content" value'))),q=!1),q},Y.prototype._validateStretch=function(G,L){if(!G)return!0;for(var q=0,ee=0,ae=G;ee<ae.length;ee+=1){var fe=ae[ee];if(fe[0]<q||fe[1]<fe[0]||L<fe[1])return!1;q=fe[1]}return!0},Y.prototype._validateContent=function(G,L){return!(G&&(G.length!==4||G[0]<0||L.data.width<G[0]||G[1]<0||L.data.height<G[1]||G[2]<0||L.data.width<G[2]||G[3]<0||L.data.height<G[3]||G[2]<G[0]||G[3]<G[1]))},Y.prototype.updateImage=function(G,L){var q=this.images[G];L.version=q.version+1,this.images[G]=L,this.updatedImages[G]=!0},Y.prototype.removeImage=function(G){var L=this.images[G];delete this.images[G],delete this.patterns[G],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(G,L){var q=!0;if(!this.isLoaded())for(var ee=0,ae=G;ee<ae.length;ee+=1){var fe=ae[ee];this.images[fe]||(q=!1)}this.isLoaded()||q?this._notify(G,L):this.requestors.push({ids:G,callback:L})},Y.prototype._notify=function(G,L){for(var q={},ee=0,ae=G;ee<ae.length;ee+=1){var fe=ae[ee];this.images[fe]||this.fire(new o.Event("styleimagemissing",{id:fe}));var we=this.images[fe];we?q[fe]={data:we.data.clone(),pixelRatio:we.pixelRatio,sdf:we.sdf,version:we.version,stretchX:we.stretchX,stretchY:we.stretchY,content:we.content,hasRenderCallback:!!(we.userImage&&we.userImage.render)}:o.warnOnce('Image "'+fe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,q)},Y.prototype.getPixelSize=function(){var G=this.atlasImage;return{width:G.width,height:G.height}},Y.prototype.getPattern=function(G){var L=this.patterns[G],q=this.getImage(G);if(!q)return null;if(L&&L.position.version===q.version)return L.position;if(L)L.position.version=q.version;else{var ee={w:q.data.width+2,h:q.data.height+2,x:0,y:0},ae=new o.ImagePosition(ee,q);this.patterns[G]={bin:ee,position:ae}}return this._updatePatternAtlas(),this.patterns[G].position},Y.prototype.bind=function(G){var L=G.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(G,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var G=[];for(var L in this.patterns)G.push(this.patterns[L].bin);var q=o.potpack(G),ee=q.w,ae=q.h,fe=this.atlasImage;for(var we in fe.resize({width:ee||1,height:ae||1}),this.patterns){var Oe=this.patterns[we].bin,Be=Oe.x+1,Ge=Oe.y+1,Ye=this.images[we].data,rt=Ye.width,pt=Ye.height;o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be,y:Ge},{width:rt,height:pt}),o.RGBAImage.copy(Ye,fe,{x:0,y:pt-1},{x:Be,y:Ge-1},{width:rt,height:1}),o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be,y:Ge+pt},{width:rt,height:1}),o.RGBAImage.copy(Ye,fe,{x:rt-1,y:0},{x:Be-1,y:Ge},{width:1,height:pt}),o.RGBAImage.copy(Ye,fe,{x:0,y:0},{x:Be+rt,y:Ge},{width:1,height:pt})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(G){for(var L=0,q=G;L<q.length;L+=1){var ee=q[L];if(!this.callbackDispatchedThisFrame[ee]){this.callbackDispatchedThisFrame[ee]=!0;var ae=this.images[ee];u(ae)&&this.updateImage(ee,ae)}}},Y}(o.Evented),c=v,x=v,p=1e20;function v(N,Y,G,L,q,ee){this.fontSize=N||24,this.buffer=Y===void 0?3:Y,this.cutoff=L||.25,this.fontFamily=q||"sans-serif",this.fontWeight=ee||"normal",this.radius=G||8;var ae=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ae,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ae*ae),this.gridInner=new Float64Array(ae*ae),this.f=new Float64Array(ae),this.d=new Float64Array(ae),this.z=new Float64Array(ae+1),this.v=new Int16Array(ae),this.middle=Math.round(ae/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(N,Y,G,L,q,ee,ae){for(var fe=0;fe<Y;fe++){for(var we=0;we<G;we++)L[we]=N[we*Y+fe];for(y(L,q,ee,ae,G),we=0;we<G;we++)N[we*Y+fe]=q[we]}for(we=0;we<G;we++){for(fe=0;fe<Y;fe++)L[fe]=N[we*Y+fe];for(y(L,q,ee,ae,Y),fe=0;fe<Y;fe++)N[we*Y+fe]=Math.sqrt(q[fe])}}function y(N,Y,G,L,q){G[0]=0,L[0]=-p,L[1]=+p;for(var ee=1,ae=0;ee<q;ee++){for(var fe=(N[ee]+ee*ee-(N[G[ae]]+G[ae]*G[ae]))/(2*ee-2*G[ae]);fe<=L[ae];)ae--,fe=(N[ee]+ee*ee-(N[G[ae]]+G[ae]*G[ae]))/(2*ee-2*G[ae]);G[++ae]=ee,L[ae]=fe,L[ae+1]=+p}for(ee=0,ae=0;ee<q;ee++){for(;L[ae+1]<ee;)ae++;Y[ee]=(ee-G[ae])*(ee-G[ae])+N[G[ae]]}}v.prototype.draw=function(N){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(N,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),G=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var q=Y.data[4*L+3]/255;this.gridOuter[L]=q===1?0:q===0?p:Math.pow(Math.max(0,.5-q),2),this.gridInner[L]=q===1?p:q===0?0:Math.pow(Math.max(0,q-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var ee=this.gridOuter[L]-this.gridInner[L];G[L]=Math.max(0,Math.min(255,Math.round(255-255*(ee/this.radius+this.cutoff))))}return G},c.default=x;var m=function(N,Y){this.requestManager=N,this.localIdeographFontFamily=Y,this.entries={}};m.prototype.setURL=function(N){this.url=N},m.prototype.getGlyphs=function(N,Y){var G=this,L=[];for(var q in N)for(var ee=0,ae=N[q];ee<ae.length;ee+=1){var fe=ae[ee];L.push({stack:q,id:fe})}o.asyncAll(L,function(we,Oe){var Be=we.stack,Ge=we.id,Ye=G.entries[Be];Ye||(Ye=G.entries[Be]={glyphs:{},requests:{},ranges:{}});var rt=Ye.glyphs[Ge];if(rt===void 0){if(rt=G._tinySDF(Ye,Be,Ge))return Ye.glyphs[Ge]=rt,void Oe(null,{stack:Be,id:Ge,glyph:rt});var pt=Math.floor(Ge/256);if(256*pt>65535)Oe(new Error("glyphs > 65535 not supported"));else if(Ye.ranges[pt])Oe(null,{stack:Be,id:Ge,glyph:rt});else{var vt=Ye.requests[pt];vt||(vt=Ye.requests[pt]=[],m.loadGlyphRange(Be,pt,G.url,G.requestManager,function(St,It){if(It){for(var Ct in It)G._doesCharSupportLocalGlyph(+Ct)||(Ye.glyphs[+Ct]=It[+Ct]);Ye.ranges[pt]=!0}for(var jt=0,zt=vt;jt<zt.length;jt+=1)(0,zt[jt])(St,It);delete Ye.requests[pt]})),vt.push(function(St,It){St?Oe(St):It&&Oe(null,{stack:Be,id:Ge,glyph:It[Ge]||null})})}}else Oe(null,{stack:Be,id:Ge,glyph:rt})},function(we,Oe){if(we)Y(we);else if(Oe){for(var Be={},Ge=0,Ye=Oe;Ge<Ye.length;Ge+=1){var rt=Ye[Ge],pt=rt.stack,vt=rt.id,St=rt.glyph;(Be[pt]||(Be[pt]={}))[vt]=St&&{id:St.id,bitmap:St.bitmap.clone(),metrics:St.metrics}}Y(null,Be)}})},m.prototype._doesCharSupportLocalGlyph=function(N){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](N)||o.isChar["Hangul Syllables"](N)||o.isChar.Hiragana(N)||o.isChar.Katakana(N))},m.prototype._tinySDF=function(N,Y,G){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(G)){var q=N.tinySDF;if(!q){var ee="400";/bold/i.test(Y)?ee="900":/medium/i.test(Y)?ee="500":/light/i.test(Y)&&(ee="200"),q=N.tinySDF=new m.TinySDF(24,3,8,.25,L,ee)}return{id:G,bitmap:new o.AlphaImage({width:30,height:30},q.draw(String.fromCharCode(G))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(N,Y,G,L,q){var ee=256*Y,ae=ee+255,fe=L.transformRequest(L.normalizeGlyphsURL(G).replace("{fontstack}",N).replace("{range}",ee+"-"+ae),o.ResourceType.Glyphs);o.getArrayBuffer(fe,function(we,Oe){if(we)q(we);else if(Oe){for(var Be={},Ge=0,Ye=o.parseGlyphPBF(Oe);Ge<Ye.length;Ge+=1){var rt=Ye[Ge];Be[rt.id]=rt}q(null,Be)}})},m.TinySDF=c;var w=function(){this.specification=o.styleSpec.light.position};w.prototype.possiblyEvaluate=function(N,Y){return o.sphericalToCartesian(N.expression.evaluate(Y))},w.prototype.interpolate=function(N,Y,G){return{x:o.number(N.x,Y.x,G),y:o.number(N.y,Y.y,G),z:o.number(N.z,Y.z,G)}};var d=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new w,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),S="-transition",A=function(N){function Y(G){N.call(this),this._transitionable=new o.Transitionable(d),this.setLight(G),this._transitioning=this._transitionable.untransitioned()}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(G,L){if(L===void 0&&(L={}),!this._validate(o.validateLight,G,L))for(var q in G){var ee=G[q];o.endsWith(q,S)?this._transitionable.setTransition(q.slice(0,-11),ee):this._transitionable.setValue(q,ee)}},Y.prototype.updateTransitions=function(G){this._transitioning=this._transitionable.transitioned(G,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(G){this.properties=this._transitioning.possiblyEvaluate(G)},Y.prototype._validate=function(G,L,q){return(!q||q.validate!==!1)&&o.emitValidationErrors(this,G.call(o.validateStyle,o.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},Y}(o.Evented),E=function(N,Y){this.width=N,this.height=Y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(N,Y){var G=N.join(",")+String(Y);return this.dashEntry[G]||(this.dashEntry[G]=this.addDash(N,Y)),this.dashEntry[G]},E.prototype.getDashRanges=function(N,Y,G){var L=[],q=N.length%2==1?-N[N.length-1]*G:0,ee=N[0]*G,ae=!0;L.push({left:q,right:ee,isDash:ae,zeroLength:N[0]===0});for(var fe=N[0],we=1;we<N.length;we++){ae=!ae;var Oe=N[we];q=fe*G,ee=(fe+=Oe)*G,L.push({left:q,right:ee,isDash:ae,zeroLength:Oe===0})}return L},E.prototype.addRoundDash=function(N,Y,G){for(var L=Y/2,q=-G;q<=G;q++)for(var ee=this.nextRow+G+q,ae=this.width*ee,fe=0,we=N[fe],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=N[++fe]);var Be=Math.abs(Oe-we.left),Ge=Math.abs(Oe-we.right),Ye=Math.min(Be,Ge),rt=void 0,pt=q/G*(L+1);if(we.isDash){var vt=L-Math.abs(pt);rt=Math.sqrt(Ye*Ye+vt*vt)}else rt=L-Math.sqrt(Ye*Ye+pt*pt);this.data[ae+Oe]=Math.max(0,Math.min(255,rt+128))}},E.prototype.addRegularDash=function(N){for(var Y=N.length-1;Y>=0;--Y){var G=N[Y],L=N[Y+1];G.zeroLength?N.splice(Y,1):L&&L.isDash===G.isDash&&(L.left=G.left,N.splice(Y,1))}var q=N[0],ee=N[N.length-1];q.isDash===ee.isDash&&(q.left=ee.left-this.width,ee.right=q.right+this.width);for(var ae=this.width*this.nextRow,fe=0,we=N[fe],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=N[++fe]);var Be=Math.abs(Oe-we.left),Ge=Math.abs(Oe-we.right),Ye=Math.min(Be,Ge),rt=we.isDash?Ye:-Ye;this.data[ae+Oe]=Math.max(0,Math.min(255,rt+128))}},E.prototype.addDash=function(N,Y){var G=Y?7:0,L=2*G+1;if(this.nextRow+L>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var q=0,ee=0;ee<N.length;ee++)q+=N[ee];if(q!==0){var ae=this.width/q,fe=this.getDashRanges(N,this.width,ae);Y?this.addRoundDash(fe,ae,G):this.addRegularDash(fe)}var we={y:(this.nextRow+G+.5)/this.height,height:2*G/this.height,width:q};return this.nextRow+=L,this.dirty=!0,we},E.prototype.bind=function(N){var Y=N.gl;this.texture?(Y.bindTexture(Y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,this.width,this.height,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.width,this.height,0,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))};var P=function N(Y,G){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var L=this.workerPool.acquire(this.id),q=0;q<L.length;q++){var ee=L[q],ae=new N.Actor(ee,G,this.id);ae.name="Worker "+q,this.actors.push(ae)}};function O(N,Y,G){var L=function(q,ee){if(q)return G(q);if(ee){var ae=o.pick(o.extend(ee,N),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ee.vector_layers&&(ae.vectorLayers=ee.vector_layers,ae.vectorLayerIds=ae.vectorLayers.map(function(fe){return fe.id})),ae.tiles=Y.canonicalizeTileset(ae,N.url),G(null,ae)}};return N.url?o.getJSON(Y.transformRequest(Y.normalizeSourceURL(N.url),o.ResourceType.Source),L):o.browser.frame(function(){return L(null,N)})}P.prototype.broadcast=function(N,Y,G){G=G||function(){},o.asyncAll(this.actors,function(L,q){L.send(N,Y,q)},G)},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach(function(N){N.remove()}),this.actors=[],this.workerPool.release(this.id)},P.Actor=o.Actor;var I=function(N,Y,G){this.bounds=o.LngLatBounds.convert(this.validateBounds(N)),this.minzoom=Y||0,this.maxzoom=G||24};I.prototype.validateBounds=function(N){return Array.isArray(N)&&N.length===4?[Math.max(-180,N[0]),Math.max(-90,N[1]),Math.min(180,N[2]),Math.min(90,N[3])]:[-180,-90,180,90]},I.prototype.contains=function(N){var Y=Math.pow(2,N.z),G=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*Y),L=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*Y),q=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*Y),ee=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*Y);return N.x>=G&&N.x<q&&N.y>=L&&N.y<ee};var D=function(N){function Y(G,L,q,ee){if(N.call(this),this.id=G,this.dispatcher=q,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(L,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ee)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,q){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new o.ErrorEvent(L)):q&&(o.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),o.postTurnstileEvent(q.tiles,G.map._requestManager._customAccessToken),o.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken,G.map._requestManager._customAccessToken),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setSourceProperty=function(G){this._tileJSONRequest&&this._tileJSONRequest.cancel(),G(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},Y.prototype.setTiles=function(G){var L=this;return this.setSourceProperty(function(){L._options.tiles=G}),this},Y.prototype.setUrl=function(G){var L=this;return this.setSourceProperty(function(){L.url=G,L._options.url=G}),this},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return o.extend({},this._options)},Y.prototype.loadTile=function(G,L){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme)),ee={request:this.map._requestManager.transformRequest(q,o.ResourceType.Tile),uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,tileSize:this.tileSize*G.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ae(fe,we){return delete G.request,G.aborted?L(null):fe&&fe.status!==404?L(fe):(we&&we.resourceTiming&&(G.resourceTiming=we.resourceTiming),this.map._refreshExpiredTiles&&we&&G.setExpiryData(we),G.loadVectorData(we,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(G.reloadCallback&&(this.loadTile(G,G.reloadCallback),G.reloadCallback=null)))}ee.request.collectResourceTiming=this._collectResourceTiming,G.actor&&G.state!=="expired"?G.state==="loading"?G.reloadCallback=L:G.request=G.actor.send("reloadTile",ee,ae.bind(this)):(G.actor=this.dispatcher.getActor(),G.request=G.actor.send("loadTile",ee,ae.bind(this)))},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.actor&&G.actor.send("abortTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(G){G.unloadVectorData(),G.actor&&G.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),V=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.dispatcher=q,this.setEventedParent(ee),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},L),o.extend(this,o.pick(L,["url","scheme","tileSize"]))}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,q){G._tileJSONRequest=null,G._loaded=!0,L?G.fire(new o.ErrorEvent(L)):q&&(o.extend(G,q),q.bounds&&(G.tileBounds=new I(q.bounds,G.minzoom,G.maxzoom)),o.postTurnstileEvent(q.tiles),o.postMapLoadEvent(q.tiles,G.map._getMapId(),G.map._requestManager._skuToken),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),G.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return o.extend({},this._options)},Y.prototype.hasTile=function(G){return!this.tileBounds||this.tileBounds.contains(G.canonical)},Y.prototype.loadTile=function(G,L){var q=this,ee=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);G.request=o.getImage(this.map._requestManager.transformRequest(ee,o.ResourceType.Tile),function(ae,fe){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ae)G.state="errored",L(ae);else if(fe){q.map._refreshExpiredTiles&&G.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var we=q.map.painter.context,Oe=we.gl;G.texture=q.map.painter.getTileTexture(fe.width),G.texture?G.texture.update(fe,{useMipmap:!0}):(G.texture=new o.Texture(we,fe,Oe.RGBA,{useMipmap:!0}),G.texture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),we.extTextureFilterAnisotropic&&Oe.texParameterf(Oe.TEXTURE_2D,we.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,we.extTextureFilterAnisotropicMax)),G.state="loaded",o.cacheEntryPossiblyAdded(q.dispatcher),L(null)}})},Y.prototype.abortTile=function(G,L){G.request&&(G.request.cancel(),delete G.request),L()},Y.prototype.unloadTile=function(G,L){G.texture&&this.map.painter.saveTileTexture(G.texture),L()},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),z=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(G,L){var q=this.map._requestManager.normalizeTileURL(G.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ee(ae,fe){ae&&(G.state="errored",L(ae)),fe&&(G.dem=fe,G.needsHillshadePrepare=!0,G.state="loaded",L(null))}G.request=o.getImage(this.map._requestManager.transformRequest(q,o.ResourceType.Tile),(function(ae,fe){if(delete G.request,G.aborted)G.state="unloaded",L(null);else if(ae)G.state="errored",L(ae);else if(fe){this.map._refreshExpiredTiles&&G.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var we=o.window.ImageBitmap&&fe instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?fe:o.browser.getImageData(fe,1),Oe={uid:G.uid,coord:G.tileID,source:this.id,rawImageData:we,encoding:this.encoding};G.actor&&G.state!=="expired"||(G.actor=this.dispatcher.getActor(),G.actor.send("loadDEMTile",Oe,ee.bind(this)))}}).bind(this)),G.neighboringTiles=this._getNeighboringTiles(G.tileID)},Y.prototype._getNeighboringTiles=function(G){var L=G.canonical,q=Math.pow(2,L.z),ee=(L.x-1+q)%q,ae=L.x===0?G.wrap-1:G.wrap,fe=(L.x+1+q)%q,we=L.x+1===q?G.wrap+1:G.wrap,Oe={};return Oe[new o.OverscaledTileID(G.overscaledZ,ae,L.z,ee,L.y).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y).key]={backfilled:!1},L.y>0&&(Oe[new o.OverscaledTileID(G.overscaledZ,ae,L.z,ee,L.y-1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y-1).key]={backfilled:!1}),L.y+1<q&&(Oe[new o.OverscaledTileID(G.overscaledZ,ae,L.z,ee,L.y+1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,G.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Oe[new o.OverscaledTileID(G.overscaledZ,we,L.z,fe,L.y+1).key]={backfilled:!1}),Oe},Y.prototype.unloadTile=function(G){G.demTexture&&this.map.painter.saveTileTexture(G.demTexture),G.fbo&&(G.fbo.destroy(),delete G.fbo),G.dem&&delete G.dem,delete G.neighboringTiles,G.state="unloaded",G.actor&&G.actor.send("removeDEMTile",{uid:G.uid,source:this.id})},Y}(V),j=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=q.getActor(),this.setEventedParent(ee),this._data=L.data,this._options=o.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],L.maxzoom!==void 0&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var ae=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(L.buffer!==void 0?L.buffer:128)*ae,tolerance:(L.tolerance!==void 0?L.tolerance:.375)*ae,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:L.clusterMaxZoom!==void 0?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:o.EXTENT,radius:(L.clusterRadius||50)*ae,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)G.fire(new o.ErrorEvent(L));else{var q={dataType:"source",sourceDataType:"metadata"};G._collectResourceTiming&&G._resourceTiming&&G._resourceTiming.length>0&&(q.resourceTiming=G._resourceTiming,G._resourceTiming=[]),G.fire(new o.Event("data",q))}})},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setData=function(G){var L=this;return this._data=G,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(q){if(q)L.fire(new o.ErrorEvent(q));else{var ee={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&(ee.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new o.Event("data",ee))}}),this},Y.prototype.getClusterExpansionZoom=function(G,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterChildren=function(G,L){return this.actor.send("geojson.getClusterChildren",{clusterId:G,source:this.id},L),this},Y.prototype.getClusterLeaves=function(G,L,q,ee){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:G,limit:L,offset:q},ee),this},Y.prototype._updateWorkerData=function(G){var L=this;this._loaded=!1;var q=o.extend({},this.workerOptions),ee=this._data;typeof ee=="string"?(q.request=this.map._requestManager.transformRequest(o.browser.resolveURL(ee),o.ResourceType.Source),q.request.collectResourceTiming=this._collectResourceTiming):q.data=JSON.stringify(ee),this.actor.send(this.type+".loadData",q,function(ae,fe){L._removed||fe&&fe.abandoned||(L._loaded=!0,fe&&fe.resourceTiming&&fe.resourceTiming[L.id]&&(L._resourceTiming=fe.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:q.source},null),G(ae))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(G,L){var q=this,ee=G.actor?"reloadTile":"loadTile";G.actor=this.actor;var ae={type:this.type,uid:G.uid,tileID:G.tileID,zoom:G.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};G.request=this.actor.send(ee,ae,function(fe,we){return delete G.request,G.unloadVectorData(),G.aborted?L(null):fe?L(fe):(G.loadVectorData(we,q.map.painter,ee==="reloadTile"),L(null))})},Y.prototype.abortTile=function(G){G.request&&(G.request.cancel(),delete G.request),G.aborted=!0},Y.prototype.unloadTile=function(G){G.unloadVectorData(),this.actor.send("removeTile",{uid:G.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),X=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(N){function Y(G,L,q,ee){N.call(this),this.id=G,this.dispatcher=q,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ee),this.options=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(G,L){var q=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(ee,ae){q._loaded=!0,ee?q.fire(new o.ErrorEvent(ee)):ae&&(q.image=ae,G&&(q.coordinates=G),L&&L(),q._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(G){var L=this;return this.image&&G.url?(this.options.url=G.url,this.load(G.coordinates,function(){L.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(G){this.map=G,this.load()},Y.prototype.setCoordinates=function(G){var L=this;this.coordinates=G;var q=G.map(o.MercatorCoordinate.fromLngLat);this.tileID=function(ae){for(var fe=1/0,we=1/0,Oe=-1/0,Be=-1/0,Ge=0,Ye=ae;Ge<Ye.length;Ge+=1){var rt=Ye[Ge];fe=Math.min(fe,rt.x),we=Math.min(we,rt.y),Oe=Math.max(Oe,rt.x),Be=Math.max(Be,rt.y)}var pt=Oe-fe,vt=Be-we,St=Math.max(pt,vt),It=Math.max(0,Math.floor(-Math.log(St)/Math.LN2)),Ct=Math.pow(2,It);return new o.CanonicalTileID(It,Math.floor((fe+Oe)/2*Ct),Math.floor((we+Be)/2*Ct))}(q),this.minzoom=this.maxzoom=this.tileID.z;var ee=q.map(function(ae){return L.tileID.getTilePoint(ae)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(ee[0].x,ee[0].y,0,0),this._boundsArray.emplaceBack(ee[1].x,ee[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(ee[3].x,ee[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(ee[2].x,ee[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var G=this.map.painter.context,L=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(G,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[q];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},Y.prototype.loadTile=function(G,L){this.tileID&&this.tileID.equals(G.tileID.canonical)?(this.tiles[String(G.tileID.wrap)]=G,G.buckets={},L(null)):(G.state="errored",L(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(o.Evented),H=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),this.roundZoom=!0,this.type="video",this.options=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){var G=this;this._loaded=!1;var L=this.options;this.urls=[];for(var q=0,ee=L.urls;q<ee.length;q+=1){var ae=ee[q];this.urls.push(this.map._requestManager.transformRequest(ae,o.ResourceType.Source).url)}o.getVideo(this.urls,function(fe,we){G._loaded=!0,fe?G.fire(new o.ErrorEvent(fe)):we&&(G.video=we,G.video.loop=!0,G.video.addEventListener("playing",function(){G.map.triggerRepaint()}),G.map&&G.video.play(),G._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(G){if(this.video){var L=this.video.seekable;G<L.start(0)||G>L.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=G}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(G){this.map||(this.map=G,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var G=this.map.painter.context,L=G.gl;for(var q in this.boundsBuffer||(this.boundsBuffer=G.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(G,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[q];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(F),W=function(N){function Y(G,L,q,ee){N.call(this,G,L,q,ee),L.coordinates?Array.isArray(L.coordinates)&&L.coordinates.length===4&&!L.coordinates.some(function(ae){return!Array.isArray(ae)||ae.length!==2||ae.some(function(fe){return typeof fe!="number"})})||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'missing required property "coordinates"'))),L.animate&&typeof L.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'optional "animate" property must be a boolean value'))),L.canvas?typeof L.canvas=="string"||L.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+G,null,'missing required property "canvas"'))),this.options=L,this.animate=L.animate===void 0||L.animate}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(G){this.map=G,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var G=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,G=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,G=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var L=this.map.painter.context,q=L.gl;for(var ee in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(G||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(L,this.canvas,q.RGBA,{premultiply:!0}),this.tiles){var ae=this.tiles[ee];ae.state!=="loaded"&&(ae.state="loaded",ae.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var G=0,L=[this.canvas.width,this.canvas.height];G<L.length;G+=1){var q=L[G];if(isNaN(q)||q<=0)return!0}return!1},Y}(F),ie={vector:D,raster:V,"raster-dem":z,geojson:j,video:H,image:F,canvas:W};function te(N,Y){var G=o.identity([]);return o.translate(G,G,[1,1,0]),o.scale(G,G,[.5*N.width,.5*N.height,1]),o.multiply(G,G,N.calculatePosMatrix(Y.toUnwrapped()))}function Q(N,Y,G,L,q,ee){var ae=function(vt,St,It){if(vt)for(var Ct=0,jt=vt;Ct<jt.length;Ct+=1){var zt=St[jt[Ct]];if(zt&&zt.source===It&&zt.type==="fill-extrusion")return!0}else for(var Jt in St){var Zt=St[Jt];if(Zt.source===It&&Zt.type==="fill-extrusion")return!0}return!1}(q&&q.layers,Y,N.id),fe=ee.maxPitchScaleFactor(),we=N.tilesIn(L,fe,ae);we.sort(ne);for(var Oe=[],Be=0,Ge=we;Be<Ge.length;Be+=1){var Ye=Ge[Be];Oe.push({wrappedTileID:Ye.tileID.wrapped().key,queryResults:Ye.tile.queryRenderedFeatures(Y,G,N._state,Ye.queryGeometry,Ye.cameraQueryGeometry,Ye.scale,q,ee,fe,te(N.transform,Ye.tileID))})}var rt=function(vt){for(var St={},It={},Ct=0,jt=vt;Ct<jt.length;Ct+=1){var zt=jt[Ct],Jt=zt.queryResults,Zt=zt.wrappedTileID,Gt=It[Zt]=It[Zt]||{};for(var mn in Jt)for(var _n=Jt[mn],Cn=Gt[mn]=Gt[mn]||{},zn=St[mn]=St[mn]||[],Wn=0,sr=_n;Wn<sr.length;Wn+=1){var vr=sr[Wn];Cn[vr.featureIndex]||(Cn[vr.featureIndex]=!0,zn.push(vr))}}return St}(Oe);for(var pt in rt)rt[pt].forEach(function(vt){var St=vt.feature,It=N.getFeatureState(St.layer["source-layer"],St.id);St.source=St.layer.source,St.layer["source-layer"]&&(St.sourceLayer=St.layer["source-layer"]),St.state=It});return rt}function ne(N,Y){var G=N.tileID,L=Y.tileID;return G.overscaledZ-L.overscaledZ||G.canonical.y-L.canonical.y||G.wrap-L.wrap||G.canonical.x-L.canonical.x}var $=function(N,Y){this.max=N,this.onRemove=Y,this.reset()};$.prototype.reset=function(){for(var N in this.data)for(var Y=0,G=this.data[N];Y<G.length;Y+=1){var L=G[Y];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},$.prototype.add=function(N,Y,G){var L=this,q=N.wrapped().key;this.data[q]===void 0&&(this.data[q]=[]);var ee={value:Y,timeout:void 0};if(G!==void 0&&(ee.timeout=setTimeout(function(){L.remove(N,ee)},G)),this.data[q].push(ee),this.order.push(q),this.order.length>this.max){var ae=this._getAndRemoveByKey(this.order[0]);ae&&this.onRemove(ae)}return this},$.prototype.has=function(N){return N.wrapped().key in this.data},$.prototype.getAndRemove=function(N){return this.has(N)?this._getAndRemoveByKey(N.wrapped().key):null},$.prototype._getAndRemoveByKey=function(N){var Y=this.data[N].shift();return Y.timeout&&clearTimeout(Y.timeout),this.data[N].length===0&&delete this.data[N],this.order.splice(this.order.indexOf(N),1),Y.value},$.prototype.getByKey=function(N){var Y=this.data[N];return Y?Y[0].value:null},$.prototype.get=function(N){return this.has(N)?this.data[N.wrapped().key][0].value:null},$.prototype.remove=function(N,Y){if(!this.has(N))return this;var G=N.wrapped().key,L=Y===void 0?0:this.data[G].indexOf(Y),q=this.data[G][L];return this.data[G].splice(L,1),q.timeout&&clearTimeout(q.timeout),this.data[G].length===0&&delete this.data[G],this.onRemove(q.value),this.order.splice(this.order.indexOf(G),1),this},$.prototype.setMaxSize=function(N){for(this.max=N;this.order.length>this.max;){var Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this},$.prototype.filter=function(N){var Y=[];for(var G in this.data)for(var L=0,q=this.data[G];L<q.length;L+=1){var ee=q[L];N(ee.value)||Y.push(ee)}for(var ae=0,fe=Y;ae<fe.length;ae+=1){var we=fe[ae];this.remove(we.value.tileID,we)}};var J=function(N,Y,G){this.context=N;var L=N.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!G,this.context.unbindVAO(),N.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};J.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},J.prototype.updateData=function(N){var Y=this.context.gl;this.context.unbindVAO(),this.bind(),Y.bufferSubData(Y.ELEMENT_ARRAY_BUFFER,0,N.arrayBuffer)},J.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},se=function(N,Y,G,L){this.length=Y.length,this.attributes=G,this.itemSize=Y.bytesPerElement,this.dynamicDraw=L,this.context=N;var q=N.gl;this.buffer=q.createBuffer(),N.bindVertexBuffer.set(this.buffer),q.bufferData(q.ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?q.DYNAMIC_DRAW:q.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};se.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},se.prototype.updateData=function(N){var Y=this.context.gl;this.bind(),Y.bufferSubData(Y.ARRAY_BUFFER,0,N.arrayBuffer)},se.prototype.enableAttributes=function(N,Y){for(var G=0;G<this.attributes.length;G++){var L=this.attributes[G],q=Y.attributes[L.name];q!==void 0&&N.enableVertexAttribArray(q)}},se.prototype.setVertexAttribPointers=function(N,Y,G){for(var L=0;L<this.attributes.length;L++){var q=this.attributes[L],ee=Y.attributes[q.name];ee!==void 0&&N.vertexAttribPointer(ee,q.components,N[re[q.type]],!1,this.itemSize,q.offset+this.itemSize*(G||0))}},se.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ue=function(N){this.gl=N.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ue.prototype.get=function(){return this.current},ue.prototype.set=function(N){},ue.prototype.getDefault=function(){return this.default},ue.prototype.setDefault=function(){this.set(this.default)};var he=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return o.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.clearColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ue),pe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearDepth(G),this.current=G,this.dirty=!1)},Y}(ue),ge=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.clearStencil(G),this.current=G,this.dirty=!1)},Y}(ue),ye=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.colorMask(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ue),be=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthMask(G),this.current=G,this.dirty=!1)},Y}(ue),Te=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.stencilMask(G),this.current=G,this.dirty=!1)},Y}(ue),Se=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(G){var L=this.current;(G.func!==L.func||G.ref!==L.ref||G.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(G.func,G.ref,G.mask),this.current=G,this.dirty=!1)},Y}(ue),Fe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.KEEP,G.KEEP,G.KEEP]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(G[0],G[1],G[2]),this.current=G,this.dirty=!1)},Y}(ue),xe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=G,this.dirty=!1}},Y}(ue),le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.depthRange(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ue),oe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=G,this.dirty=!1}},Y}(ue),de=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.depthFunc(G),this.current=G,this.dirty=!1)},Y}(ue),Ce=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.BLEND):L.disable(L.BLEND),this.current=G,this.dirty=!1}},Y}(ue),_e=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[G.ONE,G.ZERO]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(G[0],G[1]),this.current=G,this.dirty=!1)},Y}(ue),Ae=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return o.Color.transparent},Y.prototype.set=function(G){var L=this.current;(G.r!==L.r||G.g!==L.g||G.b!==L.b||G.a!==L.a||this.dirty)&&(this.gl.blendColor(G.r,G.g,G.b,G.a),this.current=G,this.dirty=!1)},Y}(ue),Le=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.blendEquation(G),this.current=G,this.dirty=!1)},Y}(ue),ze=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;G?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=G,this.dirty=!1}},Y}(ue),Re=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.cullFace(G),this.current=G,this.dirty=!1)},Y}(ue),ve=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.frontFace(G),this.current=G,this.dirty=!1)},Y}(ue),ke=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.useProgram(G),this.current=G,this.dirty=!1)},Y}(ue),Ee=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(G){(G!==this.current||this.dirty)&&(this.gl.activeTexture(G),this.current=G,this.dirty=!1)},Y}(ue),De=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){var G=this.gl;return[0,0,G.drawingBufferWidth,G.drawingBufferHeight]},Y.prototype.set=function(G){var L=this.current;(G[0]!==L[0]||G[1]!==L[1]||G[2]!==L[2]||G[3]!==L[3]||this.dirty)&&(this.gl.viewport(G[0],G[1],G[2],G[3]),this.current=G,this.dirty=!1)},Y}(ue),Pe=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,G),this.current=G,this.dirty=!1}},Y}(ue),Ue=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(ue),We=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,G),this.current=G,this.dirty=!1}},Y}(ue),$e=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,G),this.current=G,this.dirty=!1}},Y}(ue),ot=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,G),this.current=G,this.dirty=!1},Y}(ue),st=function(N){function Y(G){N.call(this,G),this.vao=G.extVertexArrayObject}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(G){this.vao&&(G!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(G),this.current=G,this.dirty=!1)},Y}(ue),mt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,G),this.current=G,this.dirty=!1}},Y}(ue),_t=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ue),yt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(G){if(G!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,G),this.current=G,this.dirty=!1}},Y}(ue),it=function(N){function Y(G,L){N.call(this,G),this.context=G,this.parent=L}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getDefault=function(){return null},Y}(ue),tt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,G,0),this.current=G,this.dirty=!1}},Y}(it),Pt=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.set=function(G){if(G!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,G),this.current=G,this.dirty=!1}},Y}(it),Rt=function(N,Y,G,L){this.context=N,this.width=Y,this.height=G;var q=N.gl,ee=this.framebuffer=q.createFramebuffer();this.colorAttachment=new tt(N,ee),L&&(this.depthAttachment=new Pt(N,ee))};Rt.prototype.destroy=function(){var N=this.context.gl,Y=this.colorAttachment.get();if(Y&&N.deleteTexture(Y),this.depthAttachment){var G=this.depthAttachment.get();G&&N.deleteRenderbuffer(G)}N.deleteFramebuffer(this.framebuffer)};var Ft=function(N,Y,G){this.func=N,this.mask=Y,this.range=G};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Ot=7680,Xe=function(N,Y,G,L,q,ee){this.test=N,this.ref=Y,this.mask=G,this.fail=L,this.depthFail=q,this.pass=ee};Xe.disabled=new Xe({func:519,mask:0},0,0,Ot,Ot,Ot);var Je=function(N,Y,G){this.blendFunction=N,this.blendColor=Y,this.mask=G};Je.Replace=[1,0],Je.disabled=new Je(Je.Replace,o.Color.transparent,[!1,!1,!1,!1]),Je.unblended=new Je(Je.Replace,o.Color.transparent,[!0,!0,!0,!0]),Je.alphaBlended=new Je([1,771],o.Color.transparent,[!0,!0,!0,!0]);var Ve=function(N,Y,G){this.enable=N,this.mode=Y,this.frontFace=G};Ve.disabled=new Ve(!1,1029,2305),Ve.backCCW=new Ve(!0,1029,2305);var Ke=function(N){this.gl=N,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new he(this),this.clearDepth=new pe(this),this.clearStencil=new ge(this),this.colorMask=new ye(this),this.depthMask=new be(this),this.stencilMask=new Te(this),this.stencilFunc=new Se(this),this.stencilOp=new Fe(this),this.stencilTest=new xe(this),this.depthRange=new le(this),this.depthTest=new oe(this),this.depthFunc=new de(this),this.blend=new Ce(this),this.blendFunc=new _e(this),this.blendColor=new Ae(this),this.blendEquation=new Le(this),this.cullFace=new ze(this),this.cullFaceSide=new Re(this),this.frontFace=new ve(this),this.program=new ke(this),this.activeTexture=new Ee(this),this.viewport=new De(this),this.bindFramebuffer=new Pe(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new We(this),this.bindVertexBuffer=new $e(this),this.bindElementBuffer=new ot(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new st(this),this.pixelStoreUnpack=new mt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new yt(this),this.extTextureFilterAnisotropic=N.getExtension("EXT_texture_filter_anisotropic")||N.getExtension("MOZ_EXT_texture_filter_anisotropic")||N.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=N.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=N.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(N.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=N.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=N.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)};Ke.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ke.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ke.prototype.createIndexBuffer=function(N,Y){return new J(this,N,Y)},Ke.prototype.createVertexBuffer=function(N,Y,G){return new se(this,N,Y,G)},Ke.prototype.createRenderbuffer=function(N,Y,G){var L=this.gl,q=L.createRenderbuffer();return this.bindRenderbuffer.set(q),L.renderbufferStorage(L.RENDERBUFFER,N,Y,G),this.bindRenderbuffer.set(null),q},Ke.prototype.createFramebuffer=function(N,Y,G){return new Rt(this,N,Y,G)},Ke.prototype.clear=function(N){var Y=N.color,G=N.depth,L=this.gl,q=0;Y&&(q|=L.COLOR_BUFFER_BIT,this.clearColor.set(Y),this.colorMask.set([!0,!0,!0,!0])),G!==void 0&&(q|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(G),this.depthMask.set(!0)),L.clear(q)},Ke.prototype.setCullFace=function(N){N.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(N.mode),this.frontFace.set(N.frontFace))},Ke.prototype.setDepthMode=function(N){N.func!==this.gl.ALWAYS||N.mask?(this.depthTest.set(!0),this.depthFunc.set(N.func),this.depthMask.set(N.mask),this.depthRange.set(N.range)):this.depthTest.set(!1)},Ke.prototype.setStencilMode=function(N){N.test.func!==this.gl.ALWAYS||N.mask?(this.stencilTest.set(!0),this.stencilMask.set(N.mask),this.stencilOp.set([N.fail,N.depthFail,N.pass]),this.stencilFunc.set({func:N.test.func,ref:N.ref,mask:N.test.mask})):this.stencilTest.set(!1)},Ke.prototype.setColorMode=function(N){o.deepEqual(N.blendFunction,Je.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(N.blendFunction),this.blendColor.set(N.blendColor)),this.colorMask.set(N.mask)},Ke.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ft=function(N){function Y(G,L,q){var ee=this;N.call(this),this.id=G,this.dispatcher=q,this.on("data",function(ae){ae.dataType==="source"&&ae.sourceDataType==="metadata"&&(ee._sourceLoaded=!0),ee._sourceLoaded&&!ee._paused&&ae.dataType==="source"&&ae.sourceDataType==="content"&&(ee.reload(),ee.transform&&ee.update(ee.transform))}),this.on("error",function(){ee._sourceErrored=!0}),this._source=function(ae,fe,we,Oe){var Be=new ie[fe.type](ae,fe,we,Oe);if(Be.id!==ae)throw new Error("Expected Source id to be "+ae+" instead of "+Be.id);return o.bindAll(["load","abort","unload","serialize","prepare"],Be),Be}(G,L,q,this),this._tiles={},this._cache=new $(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){this.map=G,this._maxTileCacheSize=G?G._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(G)},Y.prototype.onRemove=function(G){this._source&&this._source.onRemove&&this._source.onRemove(G)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var G in this._tiles){var L=this._tiles[G];if(L.state!=="loaded"&&L.state!=="errored")return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var G=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,G&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(G,L){return this._source.loadTile(G,L)},Y.prototype._unloadTile=function(G){if(this._source.unloadTile)return this._source.unloadTile(G,function(){})},Y.prototype._abortTile=function(G){if(this._source.abortTile)return this._source.abortTile(G,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(G){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var q=this._tiles[L];q.upload(G),q.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return o.values(this._tiles).map(function(G){return G.tileID}).sort(ut).map(function(G){return G.key})},Y.prototype.getRenderableIds=function(G){var L=this,q=[];for(var ee in this._tiles)this._isIdRenderable(ee,G)&&q.push(this._tiles[ee]);return G?q.sort(function(ae,fe){var we=ae.tileID,Oe=fe.tileID,Be=new o.Point(we.canonical.x,we.canonical.y)._rotate(L.transform.angle),Ge=new o.Point(Oe.canonical.x,Oe.canonical.y)._rotate(L.transform.angle);return we.overscaledZ-Oe.overscaledZ||Ge.y-Be.y||Ge.x-Be.x}).map(function(ae){return ae.tileID.key}):q.map(function(ae){return ae.tileID}).sort(ut).map(function(ae){return ae.key})},Y.prototype.hasRenderableParent=function(G){var L=this.findLoadedParent(G,0);return!!L&&this._isIdRenderable(L.tileID.key)},Y.prototype._isIdRenderable=function(G,L){return this._tiles[G]&&this._tiles[G].hasData()&&!this._coveredTiles[G]&&(L||!this._tiles[G].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var G in this._cache.reset(),this._tiles)this._tiles[G].state!=="errored"&&this._reloadTile(G,"reloading")},Y.prototype._reloadTile=function(G,L){var q=this._tiles[G];q&&(q.state!=="loading"&&(q.state=L),this._loadTile(q,this._tileLoaded.bind(this,q,G,L)))},Y.prototype._tileLoaded=function(G,L,q,ee){if(ee)return G.state="errored",void(ee.status!==404?this._source.fire(new o.ErrorEvent(ee,{tile:G})):this.update(this.transform));G.timeAdded=o.browser.now(),q==="expired"&&(G.refreshedUponExpiration=!0),this._setTileReloadTimer(L,G),this.getSource().type==="raster-dem"&&G.dem&&this._backfillDEM(G),this._state.initializeTileState(G,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:G,coord:G.tileID}))},Y.prototype._backfillDEM=function(G){for(var L=this.getRenderableIds(),q=0;q<L.length;q++){var ee=L[q];if(G.neighboringTiles&&G.neighboringTiles[ee]){var ae=this.getTileByID(ee);fe(G,ae),fe(ae,G)}}function fe(we,Oe){we.needsHillshadePrepare=!0;var Be=Oe.tileID.canonical.x-we.tileID.canonical.x,Ge=Oe.tileID.canonical.y-we.tileID.canonical.y,Ye=Math.pow(2,we.tileID.canonical.z),rt=Oe.tileID.key;Be===0&&Ge===0||Math.abs(Ge)>1||(Math.abs(Be)>1&&(Math.abs(Be+Ye)===1?Be+=Ye:Math.abs(Be-Ye)===1&&(Be-=Ye)),Oe.dem&&we.dem&&(we.dem.backfillBorder(Oe.dem,Be,Ge),we.neighboringTiles&&we.neighboringTiles[rt]&&(we.neighboringTiles[rt].backfilled=!0)))}},Y.prototype.getTile=function(G){return this.getTileByID(G.key)},Y.prototype.getTileByID=function(G){return this._tiles[G]},Y.prototype._retainLoadedChildren=function(G,L,q,ee){for(var ae in this._tiles){var fe=this._tiles[ae];if(!(ee[ae]||!fe.hasData()||fe.tileID.overscaledZ<=L||fe.tileID.overscaledZ>q)){for(var we=fe.tileID;fe&&fe.tileID.overscaledZ>L+1;){var Oe=fe.tileID.scaledTo(fe.tileID.overscaledZ-1);(fe=this._tiles[Oe.key])&&fe.hasData()&&(we=Oe)}for(var Be=we;Be.overscaledZ>L;)if(G[(Be=Be.scaledTo(Be.overscaledZ-1)).key]){ee[we.key]=we;break}}}},Y.prototype.findLoadedParent=function(G,L){if(G.key in this._loadedParentTiles){var q=this._loadedParentTiles[G.key];return q&&q.tileID.overscaledZ>=L?q:null}for(var ee=G.overscaledZ-1;ee>=L;ee--){var ae=G.scaledTo(ee),fe=this._getLoadedTile(ae);if(fe)return fe}},Y.prototype._getLoadedTile=function(G){var L=this._tiles[G.key];return L&&L.hasData()?L:this._cache.getByKey(G.wrapped().key)},Y.prototype.updateCacheSize=function(G){var L=(Math.ceil(G.width/this._source.tileSize)+1)*(Math.ceil(G.height/this._source.tileSize)+1),q=Math.floor(5*L),ee=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,q):q;this._cache.setMaxSize(ee)},Y.prototype.handleWrapJump=function(G){var L=(G-(this._prevLng===void 0?G:this._prevLng))/360,q=Math.round(L);if(this._prevLng=G,q){var ee={};for(var ae in this._tiles){var fe=this._tiles[ae];fe.tileID=fe.tileID.unwrapTo(fe.tileID.wrap+q),ee[fe.tileID.key]=fe}for(var we in this._tiles=ee,this._timers)clearTimeout(this._timers[we]),delete this._timers[we];for(var Oe in this._tiles){var Be=this._tiles[Oe];this._setTileReloadTimer(Oe,Be)}}},Y.prototype.update=function(G){var L=this;if(this.transform=G,this._sourceLoaded&&!this._paused){var q;this.updateCacheSize(G),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?q=G.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Gt){return new o.OverscaledTileID(Gt.canonical.z,Gt.wrap,Gt.canonical.z,Gt.canonical.x,Gt.canonical.y)}):(q=G.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(q=q.filter(function(Gt){return L._source.hasTile(Gt)}))):q=[];var ee=G.coveringZoomLevel(this._source),ae=Math.max(ee-Y.maxOverzooming,this._source.minzoom),fe=Math.max(ee+Y.maxUnderzooming,this._source.minzoom),we=this._updateRetainedTiles(q,ee);if(xt(this._source.type)){for(var Oe={},Be={},Ge=0,Ye=Object.keys(we);Ge<Ye.length;Ge+=1){var rt=Ye[Ge],pt=we[rt],vt=this._tiles[rt];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=o.browser.now())){var St=this.findLoadedParent(pt,ae);St&&(this._addTile(St.tileID),Oe[St.tileID.key]=St.tileID),Be[rt]=pt}}for(var It in this._retainLoadedChildren(Be,ee,fe,we),Oe)we[It]||(this._coveredTiles[It]=!0,we[It]=Oe[It])}for(var Ct in we)this._tiles[Ct].clearFadeHold();for(var jt=0,zt=o.keysDifference(this._tiles,we);jt<zt.length;jt+=1){var Jt=zt[jt],Zt=this._tiles[Jt];Zt.hasSymbolBuckets&&!Zt.holdingForFade()?Zt.setHoldDuration(this.map._fadeDuration):Zt.hasSymbolBuckets&&!Zt.symbolFadeFinished()||this._removeTile(Jt)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var G in this._tiles)this._tiles[G].holdingForFade()&&this._removeTile(G)},Y.prototype._updateRetainedTiles=function(G,L){for(var q={},ee={},ae=Math.max(L-Y.maxOverzooming,this._source.minzoom),fe=Math.max(L+Y.maxUnderzooming,this._source.minzoom),we={},Oe=0,Be=G;Oe<Be.length;Oe+=1){var Ge=Be[Oe],Ye=this._addTile(Ge);q[Ge.key]=Ge,Ye.hasData()||L<this._source.maxzoom&&(we[Ge.key]=Ge)}this._retainLoadedChildren(we,L,fe,q);for(var rt=0,pt=G;rt<pt.length;rt+=1){var vt=pt[rt],St=this._tiles[vt.key];if(!St.hasData()){if(L+1>this._source.maxzoom){var It=vt.children(this._source.maxzoom)[0],Ct=this.getTile(It);if(Ct&&Ct.hasData()){q[It.key]=It;continue}}else{var jt=vt.children(this._source.maxzoom);if(q[jt[0].key]&&q[jt[1].key]&&q[jt[2].key]&&q[jt[3].key])continue}for(var zt=St.wasRequested(),Jt=vt.overscaledZ-1;Jt>=ae;--Jt){var Zt=vt.scaledTo(Jt);if(ee[Zt.key]||(ee[Zt.key]=!0,!(St=this.getTile(Zt))&&zt&&(St=this._addTile(Zt)),St&&(q[Zt.key]=Zt,zt=St.wasRequested(),St.hasData())))break}}}return q},Y.prototype._updateLoadedParentTileCache=function(){for(var G in this._loadedParentTiles={},this._tiles){for(var L=[],q=void 0,ee=this._tiles[G].tileID;ee.overscaledZ>0;){if(ee.key in this._loadedParentTiles){q=this._loadedParentTiles[ee.key];break}L.push(ee.key);var ae=ee.scaledTo(ee.overscaledZ-1);if(q=this._getLoadedTile(ae))break;ee=ae}for(var fe=0,we=L;fe<we.length;fe+=1){var Oe=we[fe];this._loadedParentTiles[Oe]=q}}},Y.prototype._addTile=function(G){var L=this._tiles[G.key];if(L)return L;(L=this._cache.getAndRemove(G))&&(this._setTileReloadTimer(G.key,L),L.tileID=G,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[G.key]&&(clearTimeout(this._cacheTimers[G.key]),delete this._cacheTimers[G.key],this._setTileReloadTimer(G.key,L)));var q=!!L;return q||(L=new o.Tile(G,this._source.tileSize*G.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,G.key,L.state))),L?(L.uses++,this._tiles[G.key]=L,q||this._source.fire(new o.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},Y.prototype._setTileReloadTimer=function(G,L){var q=this;G in this._timers&&(clearTimeout(this._timers[G]),delete this._timers[G]);var ee=L.getExpiryTimeout();ee&&(this._timers[G]=setTimeout(function(){q._reloadTile(G,"expired"),delete q._timers[G]},ee))},Y.prototype._removeTile=function(G){var L=this._tiles[G];L&&(L.uses--,delete this._tiles[G],this._timers[G]&&(clearTimeout(this._timers[G]),delete this._timers[G]),L.uses>0||(L.hasData()&&L.state!=="reloading"?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},Y.prototype.clearTiles=function(){for(var G in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(G);this._cache.reset()},Y.prototype.tilesIn=function(G,L,q){var ee=this,ae=[],fe=this.transform;if(!fe)return ae;for(var we=q?fe.getCameraQueryGeometry(G):G,Oe=G.map(function(Jt){return fe.pointCoordinate(Jt)}),Be=we.map(function(Jt){return fe.pointCoordinate(Jt)}),Ge=this.getIds(),Ye=1/0,rt=1/0,pt=-1/0,vt=-1/0,St=0,It=Be;St<It.length;St+=1){var Ct=It[St];Ye=Math.min(Ye,Ct.x),rt=Math.min(rt,Ct.y),pt=Math.max(pt,Ct.x),vt=Math.max(vt,Ct.y)}for(var jt=function(Jt){var Zt=ee._tiles[Ge[Jt]];if(!Zt.holdingForFade()){var Gt=Zt.tileID,mn=Math.pow(2,fe.zoom-Zt.tileID.overscaledZ),_n=L*Zt.queryPadding*o.EXTENT/Zt.tileSize/mn,Cn=[Gt.getTilePoint(new o.MercatorCoordinate(Ye,rt)),Gt.getTilePoint(new o.MercatorCoordinate(pt,vt))];if(Cn[0].x-_n<o.EXTENT&&Cn[0].y-_n<o.EXTENT&&Cn[1].x+_n>=0&&Cn[1].y+_n>=0){var zn=Oe.map(function(sr){return Gt.getTilePoint(sr)}),Wn=Be.map(function(sr){return Gt.getTilePoint(sr)});ae.push({tile:Zt,tileID:Gt,queryGeometry:zn,cameraQueryGeometry:Wn,scale:mn})}}},zt=0;zt<Ge.length;zt++)jt(zt);return ae},Y.prototype.getVisibleCoordinates=function(G){for(var L=this,q=this.getRenderableIds(G).map(function(we){return L._tiles[we].tileID}),ee=0,ae=q;ee<ae.length;ee+=1){var fe=ae[ee];fe.posMatrix=this.transform.calculatePosMatrix(fe.toUnwrapped())}return q},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(xt(this._source.type))for(var G in this._tiles){var L=this._tiles[G];if(L.fadeEndTime!==void 0&&L.fadeEndTime>=o.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(G,L,q){G=G||"_geojsonTileLayer",this._state.updateState(G,L,q)},Y.prototype.removeFeatureState=function(G,L,q){G=G||"_geojsonTileLayer",this._state.removeFeatureState(G,L,q)},Y.prototype.getFeatureState=function(G,L){return G=G||"_geojsonTileLayer",this._state.getState(G,L)},Y.prototype.setDependencies=function(G,L,q){var ee=this._tiles[G];ee&&ee.setDependencies(L,q)},Y.prototype.reloadTilesForDependencies=function(G,L){for(var q in this._tiles)this._tiles[q].hasDependency(G,L)&&this._reloadTile(q,"reloading");this._cache.filter(function(ee){return!ee.hasDependency(G,L)})},Y}(o.Evented);function ut(N,Y){var G=Math.abs(2*N.wrap)-+(N.wrap<0),L=Math.abs(2*Y.wrap)-+(Y.wrap<0);return N.overscaledZ-Y.overscaledZ||L-G||Y.canonical.y-N.canonical.y||Y.canonical.x-N.canonical.x}function xt(N){return N==="raster"||N==="image"||N==="video"}function bt(){return new o.window.Worker(ct.workerUrl)}ft.maxOverzooming=10,ft.maxUnderzooming=3;var qe="mapboxgl_preloaded_worker_pool",je=function(){this.active={}};je.prototype.acquire=function(N){if(!this.workers)for(this.workers=[];this.workers.length<je.workerCount;)this.workers.push(new bt);return this.active[N]=!0,this.workers.slice()},je.prototype.release=function(N){delete this.active[N],this.numActive()===0&&(this.workers.forEach(function(Y){Y.terminate()}),this.workers=null)},je.prototype.isPreloaded=function(){return!!this.active[qe]},je.prototype.numActive=function(){return Object.keys(this.active).length};var lt,gt=Math.floor(o.browser.hardwareConcurrency/2);function dt(){return lt||(lt=new je),lt}function at(N,Y){var G={};for(var L in N)L!=="ref"&&(G[L]=N[L]);return o.refProperties.forEach(function(q){q in Y&&(G[q]=Y[q])}),G}function kt(N){N=N.slice();for(var Y=Object.create(null),G=0;G<N.length;G++)Y[N[G].id]=N[G];for(var L=0;L<N.length;L++)"ref"in N[L]&&(N[L]=at(N[L],Y[N[L].ref]));return N}je.workerCount=Math.max(Math.min(gt,6),1);var wt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Et(N,Y,G){G.push({command:wt.addSource,args:[N,Y[N]]})}function Tt(N,Y,G){Y.push({command:wt.removeSource,args:[N]}),G[N]=!0}function At(N,Y,G,L){Tt(N,G,L),Et(N,Y,G)}function Nt(N,Y,G){var L;for(L in N[G])if(N[G].hasOwnProperty(L)&&L!=="data"&&!o.deepEqual(N[G][L],Y[G][L]))return!1;for(L in Y[G])if(Y[G].hasOwnProperty(L)&&L!=="data"&&!o.deepEqual(N[G][L],Y[G][L]))return!1;return!0}function Wt(N,Y,G,L,q,ee){var ae;for(ae in Y=Y||{},N=N||{})N.hasOwnProperty(ae)&&(o.deepEqual(N[ae],Y[ae])||G.push({command:ee,args:[L,ae,Y[ae],q]}));for(ae in Y)Y.hasOwnProperty(ae)&&!N.hasOwnProperty(ae)&&(o.deepEqual(N[ae],Y[ae])||G.push({command:ee,args:[L,ae,Y[ae],q]}))}function on(N){return N.id}function cn(N,Y){return N[Y.id]=Y,N}function un(N,Y){if(!N)return[{command:wt.setStyle,args:[Y]}];var G=[];try{if(!o.deepEqual(N.version,Y.version))return[{command:wt.setStyle,args:[Y]}];o.deepEqual(N.center,Y.center)||G.push({command:wt.setCenter,args:[Y.center]}),o.deepEqual(N.zoom,Y.zoom)||G.push({command:wt.setZoom,args:[Y.zoom]}),o.deepEqual(N.bearing,Y.bearing)||G.push({command:wt.setBearing,args:[Y.bearing]}),o.deepEqual(N.pitch,Y.pitch)||G.push({command:wt.setPitch,args:[Y.pitch]}),o.deepEqual(N.sprite,Y.sprite)||G.push({command:wt.setSprite,args:[Y.sprite]}),o.deepEqual(N.glyphs,Y.glyphs)||G.push({command:wt.setGlyphs,args:[Y.glyphs]}),o.deepEqual(N.transition,Y.transition)||G.push({command:wt.setTransition,args:[Y.transition]}),o.deepEqual(N.light,Y.light)||G.push({command:wt.setLight,args:[Y.light]});var L={},q=[];(function(ae,fe,we,Oe){var Be;for(Be in fe=fe||{},ae=ae||{})ae.hasOwnProperty(Be)&&(fe.hasOwnProperty(Be)||Tt(Be,we,Oe));for(Be in fe)fe.hasOwnProperty(Be)&&(ae.hasOwnProperty(Be)?o.deepEqual(ae[Be],fe[Be])||(ae[Be].type==="geojson"&&fe[Be].type==="geojson"&&Nt(ae,fe,Be)?we.push({command:wt.setGeoJSONSourceData,args:[Be,fe[Be].data]}):At(Be,fe,we,Oe)):Et(Be,fe,we))})(N.sources,Y.sources,q,L);var ee=[];N.layers&&N.layers.forEach(function(ae){L[ae.source]?G.push({command:wt.removeLayer,args:[ae.id]}):ee.push(ae)}),G=G.concat(q),function(ae,fe,we){fe=fe||[];var Oe,Be,Ge,Ye,rt,pt,vt,St=(ae=ae||[]).map(on),It=fe.map(on),Ct=ae.reduce(cn,{}),jt=fe.reduce(cn,{}),zt=St.slice(),Jt=Object.create(null);for(Oe=0,Be=0;Oe<St.length;Oe++)Ge=St[Oe],jt.hasOwnProperty(Ge)?Be++:(we.push({command:wt.removeLayer,args:[Ge]}),zt.splice(zt.indexOf(Ge,Be),1));for(Oe=0,Be=0;Oe<It.length;Oe++)Ge=It[It.length-1-Oe],zt[zt.length-1-Oe]!==Ge&&(Ct.hasOwnProperty(Ge)?(we.push({command:wt.removeLayer,args:[Ge]}),zt.splice(zt.lastIndexOf(Ge,zt.length-Be),1)):Be++,pt=zt[zt.length-Oe],we.push({command:wt.addLayer,args:[jt[Ge],pt]}),zt.splice(zt.length-Oe,0,Ge),Jt[Ge]=!0);for(Oe=0;Oe<It.length;Oe++)if(Ye=Ct[Ge=It[Oe]],rt=jt[Ge],!Jt[Ge]&&!o.deepEqual(Ye,rt))if(o.deepEqual(Ye.source,rt.source)&&o.deepEqual(Ye["source-layer"],rt["source-layer"])&&o.deepEqual(Ye.type,rt.type)){for(vt in Wt(Ye.layout,rt.layout,we,Ge,null,wt.setLayoutProperty),Wt(Ye.paint,rt.paint,we,Ge,null,wt.setPaintProperty),o.deepEqual(Ye.filter,rt.filter)||we.push({command:wt.setFilter,args:[Ge,rt.filter]}),o.deepEqual(Ye.minzoom,rt.minzoom)&&o.deepEqual(Ye.maxzoom,rt.maxzoom)||we.push({command:wt.setLayerZoomRange,args:[Ge,rt.minzoom,rt.maxzoom]}),Ye)Ye.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Wt(Ye[vt],rt[vt],we,Ge,vt.slice(6),wt.setPaintProperty):o.deepEqual(Ye[vt],rt[vt])||we.push({command:wt.setLayerProperty,args:[Ge,vt,rt[vt]]}));for(vt in rt)rt.hasOwnProperty(vt)&&!Ye.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Wt(Ye[vt],rt[vt],we,Ge,vt.slice(6),wt.setPaintProperty):o.deepEqual(Ye[vt],rt[vt])||we.push({command:wt.setLayerProperty,args:[Ge,vt,rt[vt]]}))}else we.push({command:wt.removeLayer,args:[Ge]}),pt=zt[zt.lastIndexOf(Ge)+1],we.push({command:wt.addLayer,args:[rt,pt]})}(ee,Y.layers,G)}catch(ae){console.warn("Unable to compute style diff:",ae),G=[{command:wt.setStyle,args:[Y]}]}return G}var Xt=function(N,Y){this.reset(N,Y)};Xt.prototype.reset=function(N,Y){this.points=N||[],this._distances=[0];for(var G=1;G<this.points.length;G++)this._distances[G]=this._distances[G-1]+this.points[G].dist(this.points[G-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Y||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xt.prototype.lerp=function(N){if(this.points.length===1)return this.points[0];N=o.clamp(N,0,1);for(var Y=1,G=this._distances[Y],L=N*this.paddedLength+this.padding;G<L&&Y<this._distances.length;)G=this._distances[++Y];var q=Y-1,ee=this._distances[q],ae=G-ee,fe=ae>0?(L-ee)/ae:0;return this.points[q].mult(1-fe).add(this.points[Y].mult(fe))};var tn=function(N,Y,G){var L=this.boxCells=[],q=this.circleCells=[];this.xCellCount=Math.ceil(N/G),this.yCellCount=Math.ceil(Y/G);for(var ee=0;ee<this.xCellCount*this.yCellCount;ee++)L.push([]),q.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=N,this.height=Y,this.xScale=this.xCellCount/N,this.yScale=this.yCellCount/Y,this.boxUid=0,this.circleUid=0};function kn(N,Y,G,L,q){var ee=o.create();return Y?(o.scale(ee,ee,[1/q,1/q,1]),G||o.rotateZ(ee,ee,L.angle)):o.multiply(ee,L.labelPlaneMatrix,N),ee}function fn(N,Y,G,L,q){if(Y){var ee=o.clone(N);return o.scale(ee,ee,[q,q,1]),G||o.rotateZ(ee,ee,-L.angle),ee}return L.glCoordMatrix}function Qt(N,Y){var G=[N.x,N.y,0,1];pr(G,G,Y);var L=G[3];return{point:new o.Point(G[0]/L,G[1]/L),signedDistanceFromCamera:L}}function pn(N,Y){return .5+N/Y*.5}function nn(N,Y){var G=N[0]/N[3],L=N[1]/N[3];return G>=-Y[0]&&G<=Y[0]&&L>=-Y[1]&&L<=Y[1]}function sn(N,Y,G,L,q,ee,ae,fe){var we=L?N.textSizeData:N.iconSizeData,Oe=o.evaluateSizeForZoom(we,G.transform.zoom),Be=[256/G.width*2+1,256/G.height*2+1],Ge=L?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;Ge.clear();for(var Ye=N.lineVertexArray,rt=L?N.text.placedSymbolArray:N.icon.placedSymbolArray,pt=G.transform.width/G.transform.height,vt=!1,St=0;St<rt.length;St++){var It=rt.get(St);if(It.hidden||It.writingMode===o.WritingMode.vertical&&!vt)$n(It.numGlyphs,Ge);else{vt=!1;var Ct=[It.anchorX,It.anchorY,0,1];if(o.transformMat4(Ct,Ct,Y),nn(Ct,Be)){var jt=Ct[3],zt=pn(G.transform.cameraToCenterDistance,jt),Jt=o.evaluateSizeForFeature(we,Oe,It),Zt=ae?Jt/zt:Jt*zt,Gt=new o.Point(It.anchorX,It.anchorY),mn=Qt(Gt,q).point,_n={},Cn=Dn(It,Zt,!1,fe,Y,q,ee,N.glyphOffsetArray,Ye,Ge,mn,Gt,_n,pt);vt=Cn.useVertical,(Cn.notEnoughRoom||vt||Cn.needsFlipping&&Dn(It,Zt,!0,fe,Y,q,ee,N.glyphOffsetArray,Ye,Ge,mn,Gt,_n,pt).notEnoughRoom)&&$n(It.numGlyphs,Ge)}else $n(It.numGlyphs,Ge)}}L?N.text.dynamicLayoutVertexBuffer.updateData(Ge):N.icon.dynamicLayoutVertexBuffer.updateData(Ge)}function Sn(N,Y,G,L,q,ee,ae,fe,we,Oe,Be){var Ge=fe.glyphStartIndex+fe.numGlyphs,Ye=fe.lineStartIndex,rt=fe.lineStartIndex+fe.lineLength,pt=Y.getoffsetX(fe.glyphStartIndex),vt=Y.getoffsetX(Ge-1),St=Pn(N*pt,G,L,q,ee,ae,fe.segment,Ye,rt,we,Oe,Be);if(!St)return null;var It=Pn(N*vt,G,L,q,ee,ae,fe.segment,Ye,rt,we,Oe,Be);return It?{first:St,last:It}:null}function wn(N,Y,G,L){return N===o.WritingMode.horizontal&&Math.abs(G.y-Y.y)>Math.abs(G.x-Y.x)*L?{useVertical:!0}:(N===o.WritingMode.vertical?Y.y<G.y:Y.x>G.x)?{needsFlipping:!0}:null}function Dn(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge,Ye,rt){var pt,vt=Y/24,St=N.lineOffsetX*vt,It=N.lineOffsetY*vt;if(N.numGlyphs>1){var Ct=N.glyphStartIndex+N.numGlyphs,jt=N.lineStartIndex,zt=N.lineStartIndex+N.lineLength,Jt=Sn(vt,fe,St,It,G,Be,Ge,N,we,ee,Ye);if(!Jt)return{notEnoughRoom:!0};var Zt=Qt(Jt.first.point,ae).point,Gt=Qt(Jt.last.point,ae).point;if(L&&!G){var mn=wn(N.writingMode,Zt,Gt,rt);if(mn)return mn}pt=[Jt.first];for(var _n=N.glyphStartIndex+1;_n<Ct-1;_n++)pt.push(Pn(vt*fe.getoffsetX(_n),St,It,G,Be,Ge,N.segment,jt,zt,we,ee,Ye));pt.push(Jt.last)}else{if(L&&!G){var Cn=Qt(Ge,q).point,zn=N.lineStartIndex+N.segment+1,Wn=new o.Point(we.getx(zn),we.gety(zn)),sr=Qt(Wn,q),vr=sr.signedDistanceFromCamera>0?sr.point:Tn(Ge,Wn,Cn,1,q),Kn=wn(N.writingMode,Cn,vr,rt);if(Kn)return Kn}var hr=Pn(vt*fe.getoffsetX(N.glyphStartIndex),St,It,G,Be,Ge,N.segment,N.lineStartIndex,N.lineStartIndex+N.lineLength,we,ee,Ye);if(!hr)return{notEnoughRoom:!0};pt=[hr]}for(var wr=0,Or=pt;wr<Or.length;wr+=1){var or=Or[wr];o.addDynamicAttributes(Oe,or.point,or.angle)}return{}}function Tn(N,Y,G,L,q){var ee=Qt(N.add(N.sub(Y)._unit()),q).point,ae=G.sub(ee);return G.add(ae._mult(L/ae.mag()))}function Pn(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge){var Ye=L?N-Y:N+Y,rt=Ye>0?1:-1,pt=0;L&&(rt*=-1,pt=Math.PI),rt<0&&(pt+=Math.PI);for(var vt=rt>0?fe+ae:fe+ae+1,St=q,It=q,Ct=0,jt=0,zt=Math.abs(Ye),Jt=[];Ct+jt<=zt;){if((vt+=rt)<fe||vt>=we)return null;if(It=St,Jt.push(St),(St=Ge[vt])===void 0){var Zt=new o.Point(Oe.getx(vt),Oe.gety(vt)),Gt=Qt(Zt,Be);if(Gt.signedDistanceFromCamera>0)St=Ge[vt]=Gt.point;else{var mn=vt-rt;St=Tn(Ct===0?ee:new o.Point(Oe.getx(mn),Oe.gety(mn)),Zt,It,zt-Ct+1,Be)}}Ct+=jt,jt=It.dist(St)}var _n=(zt-Ct)/jt,Cn=St.sub(It),zn=Cn.mult(_n)._add(It);zn._add(Cn._unit()._perp()._mult(G*rt));var Wn=pt+Math.atan2(St.y-It.y,St.x-It.x);return Jt.push(zn),{point:zn,angle:Wn,path:Jt}}tn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},tn.prototype.insert=function(N,Y,G,L,q){this._forEachCell(Y,G,L,q,this._insertBoxCell,this.boxUid++),this.boxKeys.push(N),this.bboxes.push(Y),this.bboxes.push(G),this.bboxes.push(L),this.bboxes.push(q)},tn.prototype.insertCircle=function(N,Y,G,L){this._forEachCell(Y-L,G-L,Y+L,G+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(N),this.circles.push(Y),this.circles.push(G),this.circles.push(L)},tn.prototype._insertBoxCell=function(N,Y,G,L,q,ee){this.boxCells[q].push(ee)},tn.prototype._insertCircleCell=function(N,Y,G,L,q,ee){this.circleCells[q].push(ee)},tn.prototype._query=function(N,Y,G,L,q,ee){if(G<0||N>this.width||L<0||Y>this.height)return!q&&[];var ae=[];if(N<=0&&Y<=0&&this.width<=G&&this.height<=L){if(q)return!0;for(var fe=0;fe<this.boxKeys.length;fe++)ae.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(var we=0;we<this.circleKeys.length;we++){var Oe=this.circles[3*we],Be=this.circles[3*we+1],Ge=this.circles[3*we+2];ae.push({key:this.circleKeys[we],x1:Oe-Ge,y1:Be-Ge,x2:Oe+Ge,y2:Be+Ge})}return ee?ae.filter(ee):ae}var Ye={hitTest:q,seenUids:{box:{},circle:{}}};return this._forEachCell(N,Y,G,L,this._queryCell,ae,Ye,ee),q?ae.length>0:ae},tn.prototype._queryCircle=function(N,Y,G,L,q){var ee=N-G,ae=N+G,fe=Y-G,we=Y+G;if(ae<0||ee>this.width||we<0||fe>this.height)return!L&&[];var Oe=[],Be={hitTest:L,circle:{x:N,y:Y,radius:G},seenUids:{box:{},circle:{}}};return this._forEachCell(ee,fe,ae,we,this._queryCellCircle,Oe,Be,q),L?Oe.length>0:Oe},tn.prototype.query=function(N,Y,G,L,q){return this._query(N,Y,G,L,!1,q)},tn.prototype.hitTest=function(N,Y,G,L,q){return this._query(N,Y,G,L,!0,q)},tn.prototype.hitTestCircle=function(N,Y,G,L){return this._queryCircle(N,Y,G,!0,L)},tn.prototype._queryCell=function(N,Y,G,L,q,ee,ae,fe){var we=ae.seenUids,Oe=this.boxCells[q];if(Oe!==null)for(var Be=this.bboxes,Ge=0,Ye=Oe;Ge<Ye.length;Ge+=1){var rt=Ye[Ge];if(!we.box[rt]){we.box[rt]=!0;var pt=4*rt;if(N<=Be[pt+2]&&Y<=Be[pt+3]&&G>=Be[pt+0]&&L>=Be[pt+1]&&(!fe||fe(this.boxKeys[rt]))){if(ae.hitTest)return ee.push(!0),!0;ee.push({key:this.boxKeys[rt],x1:Be[pt],y1:Be[pt+1],x2:Be[pt+2],y2:Be[pt+3]})}}}var vt=this.circleCells[q];if(vt!==null)for(var St=this.circles,It=0,Ct=vt;It<Ct.length;It+=1){var jt=Ct[It];if(!we.circle[jt]){we.circle[jt]=!0;var zt=3*jt;if(this._circleAndRectCollide(St[zt],St[zt+1],St[zt+2],N,Y,G,L)&&(!fe||fe(this.circleKeys[jt]))){if(ae.hitTest)return ee.push(!0),!0;var Jt=St[zt],Zt=St[zt+1],Gt=St[zt+2];ee.push({key:this.circleKeys[jt],x1:Jt-Gt,y1:Zt-Gt,x2:Jt+Gt,y2:Zt+Gt})}}}},tn.prototype._queryCellCircle=function(N,Y,G,L,q,ee,ae,fe){var we=ae.circle,Oe=ae.seenUids,Be=this.boxCells[q];if(Be!==null)for(var Ge=this.bboxes,Ye=0,rt=Be;Ye<rt.length;Ye+=1){var pt=rt[Ye];if(!Oe.box[pt]){Oe.box[pt]=!0;var vt=4*pt;if(this._circleAndRectCollide(we.x,we.y,we.radius,Ge[vt+0],Ge[vt+1],Ge[vt+2],Ge[vt+3])&&(!fe||fe(this.boxKeys[pt])))return ee.push(!0),!0}}var St=this.circleCells[q];if(St!==null)for(var It=this.circles,Ct=0,jt=St;Ct<jt.length;Ct+=1){var zt=jt[Ct];if(!Oe.circle[zt]){Oe.circle[zt]=!0;var Jt=3*zt;if(this._circlesCollide(It[Jt],It[Jt+1],It[Jt+2],we.x,we.y,we.radius)&&(!fe||fe(this.circleKeys[zt])))return ee.push(!0),!0}}},tn.prototype._forEachCell=function(N,Y,G,L,q,ee,ae,fe){for(var we=this._convertToXCellCoord(N),Oe=this._convertToYCellCoord(Y),Be=this._convertToXCellCoord(G),Ge=this._convertToYCellCoord(L),Ye=we;Ye<=Be;Ye++)for(var rt=Oe;rt<=Ge;rt++){var pt=this.xCellCount*rt+Ye;if(q.call(this,N,Y,G,L,pt,ee,ae,fe))return}},tn.prototype._convertToXCellCoord=function(N){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(N*this.xScale)))},tn.prototype._convertToYCellCoord=function(N){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(N*this.yScale)))},tn.prototype._circlesCollide=function(N,Y,G,L,q,ee){var ae=L-N,fe=q-Y,we=G+ee;return we*we>ae*ae+fe*fe},tn.prototype._circleAndRectCollide=function(N,Y,G,L,q,ee,ae){var fe=(ee-L)/2,we=Math.abs(N-(L+fe));if(we>fe+G)return!1;var Oe=(ae-q)/2,Be=Math.abs(Y-(q+Oe));if(Be>Oe+G)return!1;if(we<=fe||Be<=Oe)return!0;var Ge=we-fe,Ye=Be-Oe;return Ge*Ge+Ye*Ye<=G*G};var Nn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $n(N,Y){for(var G=0;G<N;G++){var L=Y.length;Y.resize(L+4),Y.float32.set(Nn,3*L)}}function pr(N,Y,G){var L=Y[0],q=Y[1];return N[0]=G[0]*L+G[4]*q+G[12],N[1]=G[1]*L+G[5]*q+G[13],N[3]=G[3]*L+G[7]*q+G[15],N}var Hn=100,Qn=function(N,Y,G){Y===void 0&&(Y=new tn(N.width+200,N.height+200,25)),G===void 0&&(G=new tn(N.width+200,N.height+200,25)),this.transform=N,this.grid=Y,this.ignoredGrid=G,this.pitchfactor=Math.cos(N._pitch)*N.cameraToCenterDistance,this.screenRightBoundary=N.width+Hn,this.screenBottomBoundary=N.height+Hn,this.gridRightBoundary=N.width+200,this.gridBottomBoundary=N.height+200};function er(N,Y,G){return Y*(o.EXTENT/(N.tileSize*Math.pow(2,G-N.tileID.overscaledZ)))}Qn.prototype.placeCollisionBox=function(N,Y,G,L,q){var ee=this.projectAndGetPerspectiveRatio(L,N.anchorPointX,N.anchorPointY),ae=G*ee.perspectiveRatio,fe=N.x1*ae+ee.point.x,we=N.y1*ae+ee.point.y,Oe=N.x2*ae+ee.point.x,Be=N.y2*ae+ee.point.y;return!this.isInsideGrid(fe,we,Oe,Be)||!Y&&this.grid.hitTest(fe,we,Oe,Be,q)?{box:[],offscreen:!1}:{box:[fe,we,Oe,Be],offscreen:this.isOffscreen(fe,we,Oe,Be)}},Qn.prototype.placeCollisionCircles=function(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge,Ye){var rt=[],pt=new o.Point(Y.anchorX,Y.anchorY),vt=Qt(pt,ee),St=pn(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),It=(Oe?q/St:q*St)/o.ONE_EM,Ct=Qt(pt,ae).point,jt=Sn(It,L,Y.lineOffsetX*It,Y.lineOffsetY*It,!1,Ct,pt,Y,G,ae,{}),zt=!1,Jt=!1,Zt=!0;if(jt){for(var Gt=.5*Ge*St+Ye,mn=new o.Point(-100,-100),_n=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),Cn=new Xt,zn=jt.first,Wn=jt.last,sr=[],vr=zn.path.length-1;vr>=1;vr--)sr.push(zn.path[vr]);for(var Kn=1;Kn<Wn.path.length;Kn++)sr.push(Wn.path[Kn]);var hr=2.5*Gt;if(fe){var wr=sr.map(function(ti){return Qt(ti,fe)});sr=wr.some(function(ti){return ti.signedDistanceFromCamera<=0})?[]:wr.map(function(ti){return ti.point})}var Or=[];if(sr.length>0){for(var or=sr[0].clone(),fr=sr[0].clone(),Mr=1;Mr<sr.length;Mr++)or.x=Math.min(or.x,sr[Mr].x),or.y=Math.min(or.y,sr[Mr].y),fr.x=Math.max(fr.x,sr[Mr].x),fr.y=Math.max(fr.y,sr[Mr].y);Or=or.x>=mn.x&&fr.x<=_n.x&&or.y>=mn.y&&fr.y<=_n.y?[sr]:fr.x<mn.x||or.x>_n.x||fr.y<mn.y||or.y>_n.y?[]:o.clipLine([sr],mn.x,mn.y,_n.x,_n.y)}for(var mr=0,Lr=Or;mr<Lr.length;mr+=1){var Dr=Lr[mr];Cn.reset(Dr,.25*Gt);var Gr;Gr=Cn.length<=.5*Gt?1:Math.ceil(Cn.paddedLength/hr)+1;for(var Wr=0;Wr<Gr;Wr++){var Zr=Wr/Math.max(Gr-1,1),Qr=Cn.lerp(Zr),wi=Qr.x+Hn,Bi=Qr.y+Hn;rt.push(wi,Bi,Gt,0);var Ma=wi-Gt,na=Bi-Gt,va=wi+Gt,Mi=Bi+Gt;if(Zt=Zt&&this.isOffscreen(Ma,na,va,Mi),Jt=Jt||this.isInsideGrid(Ma,na,va,Mi),!N&&this.grid.hitTestCircle(wi,Bi,Gt,Be)&&(zt=!0,!we))return{circles:[],offscreen:!1,collisionDetected:zt}}}}return{circles:!we&&zt||!Jt?[]:rt,offscreen:Zt,collisionDetected:zt}},Qn.prototype.queryRenderedSymbols=function(N){if(N.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var Y=[],G=1/0,L=1/0,q=-1/0,ee=-1/0,ae=0,fe=N;ae<fe.length;ae+=1){var we=fe[ae],Oe=new o.Point(we.x+Hn,we.y+Hn);G=Math.min(G,Oe.x),L=Math.min(L,Oe.y),q=Math.max(q,Oe.x),ee=Math.max(ee,Oe.y),Y.push(Oe)}for(var Be={},Ge={},Ye=0,rt=this.grid.query(G,L,q,ee).concat(this.ignoredGrid.query(G,L,q,ee));Ye<rt.length;Ye+=1){var pt=rt[Ye],vt=pt.key;if(Be[vt.bucketInstanceId]===void 0&&(Be[vt.bucketInstanceId]={}),!Be[vt.bucketInstanceId][vt.featureIndex]){var St=[new o.Point(pt.x1,pt.y1),new o.Point(pt.x2,pt.y1),new o.Point(pt.x2,pt.y2),new o.Point(pt.x1,pt.y2)];o.polygonIntersectsPolygon(Y,St)&&(Be[vt.bucketInstanceId][vt.featureIndex]=!0,Ge[vt.bucketInstanceId]===void 0&&(Ge[vt.bucketInstanceId]=[]),Ge[vt.bucketInstanceId].push(vt.featureIndex))}}return Ge},Qn.prototype.insertCollisionBox=function(N,Y,G,L,q){var ee={bucketInstanceId:G,featureIndex:L,collisionGroupID:q};(Y?this.ignoredGrid:this.grid).insert(ee,N[0],N[1],N[2],N[3])},Qn.prototype.insertCollisionCircles=function(N,Y,G,L,q){for(var ee=Y?this.ignoredGrid:this.grid,ae={bucketInstanceId:G,featureIndex:L,collisionGroupID:q},fe=0;fe<N.length;fe+=4)ee.insertCircle(ae,N[fe],N[fe+1],N[fe+2])},Qn.prototype.projectAndGetPerspectiveRatio=function(N,Y,G){var L=[Y,G,0,1];return pr(L,L,N),{point:new o.Point((L[0]/L[3]+1)/2*this.transform.width+Hn,(-L[1]/L[3]+1)/2*this.transform.height+Hn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},Qn.prototype.isOffscreen=function(N,Y,G,L){return G<Hn||N>=this.screenRightBoundary||L<Hn||Y>this.screenBottomBoundary},Qn.prototype.isInsideGrid=function(N,Y,G,L){return G>=0&&N<this.gridRightBoundary&&L>=0&&Y<this.gridBottomBoundary},Qn.prototype.getViewportMatrix=function(){var N=o.identity([]);return o.translate(N,N,[-100,-100,0]),N};var ur=function(N,Y,G,L){this.opacity=N?Math.max(0,Math.min(1,N.opacity+(N.placed?Y:-Y))):L&&G?1:0,this.placed=G};ur.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var $t=function(N,Y,G,L,q){this.text=new ur(N?N.text:null,Y,G,q),this.icon=new ur(N?N.icon:null,Y,L,q)};$t.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var rn=function(N,Y,G){this.text=N,this.icon=Y,this.skipFade=G},On=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},xn=function(N,Y,G,L,q){this.bucketInstanceId=N,this.featureIndex=Y,this.sourceLayerIndex=G,this.bucketIndex=L,this.tileID=q},In=function(N){this.crossSourceCollisions=N,this.maxGroupID=0,this.collisionGroups={}};function Gn(N,Y,G,L,q){var ee=o.getAnchorAlignment(N),ae=-(ee.horizontalAlign-.5)*Y,fe=-(ee.verticalAlign-.5)*G,we=o.evaluateVariableOffset(N,L);return new o.Point(ae+we[0]*q,fe+we[1]*q)}function qn(N,Y,G,L,q,ee){var ae=N.x1,fe=N.x2,we=N.y1,Oe=N.y2,Be=N.anchorPointX,Ge=N.anchorPointY,Ye=new o.Point(Y,G);return L&&Ye._rotate(q?ee:-ee),{x1:ae+Ye.x,y1:we+Ye.y,x2:fe+Ye.x,y2:Oe+Ye.y,anchorPointX:Be,anchorPointY:Ge}}In.prototype.get=function(N){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[N]){var Y=++this.maxGroupID;this.collisionGroups[N]={ID:Y,predicate:function(G){return G.collisionGroupID===Y}}}return this.collisionGroups[N]};var ir=function(N,Y,G,L){this.transform=N.clone(),this.collisionIndex=new Qn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Y,this.retainedQueryData={},this.collisionGroups=new In(G),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function dr(N,Y,G,L,q){N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0),N.emplaceBack(Y?1:0,G?1:0,L||0,q||0)}ir.prototype.getBucketParts=function(N,Y,G,L){var q=G.getBucket(Y),ee=G.latestFeatureIndex;if(q&&ee&&Y.id===q.layerIds[0]){var ae=G.collisionBoxArray,fe=q.layers[0].layout,we=Math.pow(2,this.transform.zoom-G.tileID.overscaledZ),Oe=G.tileSize/o.EXTENT,Be=this.transform.calculatePosMatrix(G.tileID.toUnwrapped()),Ge=fe.get("text-pitch-alignment")==="map",Ye=fe.get("text-rotation-alignment")==="map",rt=er(G,1,this.transform.zoom),pt=kn(Be,Ge,Ye,this.transform,rt),vt=null;if(Ge){var St=fn(Be,Ge,Ye,this.transform,rt);vt=o.multiply([],this.transform.labelPlaneMatrix,St)}this.retainedQueryData[q.bucketInstanceId]=new xn(q.bucketInstanceId,ee,q.sourceLayerIndex,q.index,G.tileID);var It={bucket:q,layout:fe,posMatrix:Be,textLabelPlaneMatrix:pt,labelToScreenMatrix:vt,scale:we,textPixelRatio:Oe,holdingForFade:G.holdingForFade(),collisionBoxArray:ae,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(q.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(q.sourceID)};if(L)for(var Ct=0,jt=q.sortKeyRanges;Ct<jt.length;Ct+=1){var zt=jt[Ct],Jt=zt.sortKey,Zt=zt.symbolInstanceStart,Gt=zt.symbolInstanceEnd;N.push({sortKey:Jt,symbolInstanceStart:Zt,symbolInstanceEnd:Gt,parameters:It})}else N.push({symbolInstanceStart:0,symbolInstanceEnd:q.symbolInstances.length,parameters:It})}},ir.prototype.attemptAnchorPlacement=function(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge,Ye,rt,pt){var vt,St=[Ge.textOffset0,Ge.textOffset1],It=Gn(N,G,L,St,q),Ct=this.collisionIndex.placeCollisionBox(qn(Y,It.x,It.y,ee,ae,this.transform.angle),Be,fe,we,Oe.predicate);if(!pt||this.collisionIndex.placeCollisionBox(qn(pt,It.x,It.y,ee,ae,this.transform.angle),Be,fe,we,Oe.predicate).box.length!==0)return Ct.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ge.crossTileID]&&this.prevPlacement.placements[Ge.crossTileID]&&this.prevPlacement.placements[Ge.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[Ge.crossTileID].anchor),this.variableOffsets[Ge.crossTileID]={textOffset:St,width:G,height:L,anchor:N,textBoxScale:q,prevAnchor:vt},this.markUsedJustification(Ye,N,Ge,rt),Ye.allowVerticalPlacement&&(this.markUsedOrientation(Ye,rt,Ge),this.placedOrientations[Ge.crossTileID]=rt),{shift:It,placedGlyphBoxes:Ct}):void 0},ir.prototype.placeLayerBucketPart=function(N,Y,G){var L=this,q=N.parameters,ee=q.bucket,ae=q.layout,fe=q.posMatrix,we=q.textLabelPlaneMatrix,Oe=q.labelToScreenMatrix,Be=q.textPixelRatio,Ge=q.holdingForFade,Ye=q.collisionBoxArray,rt=q.partiallyEvaluatedTextSize,pt=q.collisionGroup,vt=ae.get("text-optional"),St=ae.get("icon-optional"),It=ae.get("text-allow-overlap"),Ct=ae.get("icon-allow-overlap"),jt=ae.get("text-rotation-alignment")==="map",zt=ae.get("text-pitch-alignment")==="map",Jt=ae.get("icon-text-fit")!=="none",Zt=ae.get("symbol-z-order")==="viewport-y",Gt=It&&(Ct||!ee.hasIconData()||St),mn=Ct&&(It||!ee.hasTextData()||vt);!ee.collisionArrays&&Ye&&ee.deserializeCollisionBoxes(Ye);var _n=function(Kn,hr){if(!Y[Kn.crossTileID])if(Ge)L.placements[Kn.crossTileID]=new rn(!1,!1,!1);else{var wr,Or=!1,or=!1,fr=!0,Mr=null,mr={box:null,offscreen:null},Lr={box:null,offscreen:null},Dr=null,Gr=null,Wr=0,Zr=0,Qr=0;hr.textFeatureIndex?Wr=hr.textFeatureIndex:Kn.useRuntimeCollisionCircles&&(Wr=Kn.featureIndex),hr.verticalTextFeatureIndex&&(Zr=hr.verticalTextFeatureIndex);var wi=hr.textBox;if(wi){var Bi=function(Di){var Ja=o.WritingMode.horizontal;if(ee.allowVerticalPlacement&&!Di&&L.prevPlacement){var ua=L.prevPlacement.placedOrientations[Kn.crossTileID];ua&&(L.placedOrientations[Kn.crossTileID]=ua,Ja=ua,L.markUsedOrientation(ee,Ja,Kn))}return Ja},Ma=function(Di,Ja){if(ee.allowVerticalPlacement&&Kn.numVerticalGlyphVertices>0&&hr.verticalTextBox)for(var ua=0,jc=ee.writingModes;ua<jc.length&&(jc[ua]===o.WritingMode.vertical?(mr=Ja(),Lr=mr):mr=Di(),!(mr&&mr.box&&mr.box.length));ua+=1);else mr=Di()};if(ae.get("text-variable-anchor")){var na=ae.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Kn.crossTileID]){var va=L.prevPlacement.variableOffsets[Kn.crossTileID];na.indexOf(va.anchor)>0&&(na=na.filter(function(Di){return Di!==va.anchor})).unshift(va.anchor)}var Mi=function(Di,Ja,ua){for(var jc=Di.x2-Di.x1,ag=Di.y2-Di.y1,td=Kn.textBoxScale,og=Jt&&!Ct?Ja:null,nc={box:[],offscreen:!1},sg=It?2*na.length:na.length,rc=0;rc<sg;++rc){var nd=na[rc%na.length],rd=rc>=na.length,gu=L.attemptAnchorPlacement(nd,Di,jc,ag,td,jt,zt,Be,fe,pt,rd,Kn,ee,ua,og);if(gu&&(nc=gu.placedGlyphBoxes)&&nc.box&&nc.box.length){Or=!0,Mr=gu.shift;break}}return nc};Ma(function(){return Mi(wi,hr.iconBox,o.WritingMode.horizontal)},function(){var Di=hr.verticalTextBox,Ja=mr&&mr.box&&mr.box.length;return ee.allowVerticalPlacement&&!Ja&&Kn.numVerticalGlyphVertices>0&&Di?Mi(Di,hr.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),mr&&(Or=mr.box,fr=mr.offscreen);var ti=Bi(mr&&mr.box);if(!Or&&L.prevPlacement){var Ii=L.prevPlacement.variableOffsets[Kn.crossTileID];Ii&&(L.variableOffsets[Kn.crossTileID]=Ii,L.markUsedJustification(ee,Ii.anchor,Kn,ti))}}else{var di=function(Di,Ja){var ua=L.collisionIndex.placeCollisionBox(Di,It,Be,fe,pt.predicate);return ua&&ua.box&&ua.box.length&&(L.markUsedOrientation(ee,Ja,Kn),L.placedOrientations[Kn.crossTileID]=Ja),ua};Ma(function(){return di(wi,o.WritingMode.horizontal)},function(){var Di=hr.verticalTextBox;return ee.allowVerticalPlacement&&Kn.numVerticalGlyphVertices>0&&Di?di(Di,o.WritingMode.vertical):{box:null,offscreen:null}}),Bi(mr&&mr.box&&mr.box.length)}}if(Or=(wr=mr)&&wr.box&&wr.box.length>0,fr=wr&&wr.offscreen,Kn.useRuntimeCollisionCircles){var ii=ee.text.placedSymbolArray.get(Kn.centerJustifiedTextSymbolIndex),zi=o.evaluateSizeForFeature(ee.textSizeData,rt,ii),Ni=ae.get("text-padding"),Zi=Kn.collisionCircleDiameter;Dr=L.collisionIndex.placeCollisionCircles(It,ii,ee.lineVertexArray,ee.glyphOffsetArray,zi,fe,we,Oe,G,zt,pt.predicate,Zi,Ni),Or=It||Dr.circles.length>0&&!Dr.collisionDetected,fr=fr&&Dr.offscreen}if(hr.iconFeatureIndex&&(Qr=hr.iconFeatureIndex),hr.iconBox){var Tl=function(Di){var Ja=Jt&&Mr?qn(Di,Mr.x,Mr.y,jt,zt,L.transform.angle):Di;return L.collisionIndex.placeCollisionBox(Ja,Ct,Be,fe,pt.predicate)};or=Lr&&Lr.box&&Lr.box.length&&hr.verticalIconBox?(Gr=Tl(hr.verticalIconBox)).box.length>0:(Gr=Tl(hr.iconBox)).box.length>0,fr=fr&&Gr.offscreen}var kl=vt||Kn.numHorizontalGlyphVertices===0&&Kn.numVerticalGlyphVertices===0,ai=St||Kn.numIconVertices===0;if(kl||ai?ai?kl||(or=or&&Or):Or=or&&Or:or=Or=or&&Or,Or&&wr&&wr.box&&(Lr&&Lr.box&&Zr?L.collisionIndex.insertCollisionBox(wr.box,ae.get("text-ignore-placement"),ee.bucketInstanceId,Zr,pt.ID):L.collisionIndex.insertCollisionBox(wr.box,ae.get("text-ignore-placement"),ee.bucketInstanceId,Wr,pt.ID)),or&&Gr&&L.collisionIndex.insertCollisionBox(Gr.box,ae.get("icon-ignore-placement"),ee.bucketInstanceId,Qr,pt.ID),Dr&&(Or&&L.collisionIndex.insertCollisionCircles(Dr.circles,ae.get("text-ignore-placement"),ee.bucketInstanceId,Wr,pt.ID),G)){var du=ee.bucketInstanceId,Gl=L.collisionCircleArrays[du];Gl===void 0&&(Gl=L.collisionCircleArrays[du]=new On);for(var os=0;os<Dr.circles.length;os+=4)Gl.circles.push(Dr.circles[os+0]),Gl.circles.push(Dr.circles[os+1]),Gl.circles.push(Dr.circles[os+2]),Gl.circles.push(Dr.collisionDetected?1:0)}L.placements[Kn.crossTileID]=new rn(Or||Gt,or||mn,fr||ee.justReloaded),Y[Kn.crossTileID]=!0}};if(Zt)for(var Cn=ee.getSortedSymbolIndexes(this.transform.angle),zn=Cn.length-1;zn>=0;--zn){var Wn=Cn[zn];_n(ee.symbolInstances.get(Wn),ee.collisionArrays[Wn])}else for(var sr=N.symbolInstanceStart;sr<N.symbolInstanceEnd;sr++)_n(ee.symbolInstances.get(sr),ee.collisionArrays[sr]);if(G&&ee.bucketInstanceId in this.collisionCircleArrays){var vr=this.collisionCircleArrays[ee.bucketInstanceId];o.invert(vr.invProjMatrix,fe),vr.viewportMatrix=this.collisionIndex.getViewportMatrix()}ee.justReloaded=!1},ir.prototype.markUsedJustification=function(N,Y,G,L){var q,ee={left:G.leftJustifiedTextSymbolIndex,center:G.centerJustifiedTextSymbolIndex,right:G.rightJustifiedTextSymbolIndex};q=L===o.WritingMode.vertical?G.verticalPlacedTextSymbolIndex:ee[o.getAnchorJustification(Y)];for(var ae=0,fe=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex,G.verticalPlacedTextSymbolIndex];ae<fe.length;ae+=1){var we=fe[ae];we>=0&&(N.text.placedSymbolArray.get(we).crossTileID=q>=0&&we!==q?0:G.crossTileID)}},ir.prototype.markUsedOrientation=function(N,Y,G){for(var L=Y===o.WritingMode.horizontal||Y===o.WritingMode.horizontalOnly?Y:0,q=Y===o.WritingMode.vertical?Y:0,ee=0,ae=[G.leftJustifiedTextSymbolIndex,G.centerJustifiedTextSymbolIndex,G.rightJustifiedTextSymbolIndex];ee<ae.length;ee+=1){var fe=ae[ee];N.text.placedSymbolArray.get(fe).placedOrientation=L}G.verticalPlacedTextSymbolIndex&&(N.text.placedSymbolArray.get(G.verticalPlacedTextSymbolIndex).placedOrientation=q)},ir.prototype.commit=function(N){this.commitTime=N,this.zoomAtLastRecencyCheck=this.transform.zoom;var Y=this.prevPlacement,G=!1;this.prevZoomAdjustment=Y?Y.zoomAdjustment(this.transform.zoom):0;var L=Y?Y.symbolFadeChange(N):1,q=Y?Y.opacities:{},ee=Y?Y.variableOffsets:{},ae=Y?Y.placedOrientations:{};for(var fe in this.placements){var we=this.placements[fe],Oe=q[fe];Oe?(this.opacities[fe]=new $t(Oe,L,we.text,we.icon),G=G||we.text!==Oe.text.placed||we.icon!==Oe.icon.placed):(this.opacities[fe]=new $t(null,L,we.text,we.icon,we.skipFade),G=G||we.text||we.icon)}for(var Be in q){var Ge=q[Be];if(!this.opacities[Be]){var Ye=new $t(Ge,L,!1,!1);Ye.isHidden()||(this.opacities[Be]=Ye,G=G||Ge.text.placed||Ge.icon.placed)}}for(var rt in ee)this.variableOffsets[rt]||!this.opacities[rt]||this.opacities[rt].isHidden()||(this.variableOffsets[rt]=ee[rt]);for(var pt in ae)this.placedOrientations[pt]||!this.opacities[pt]||this.opacities[pt].isHidden()||(this.placedOrientations[pt]=ae[pt]);G?this.lastPlacementChangeTime=N:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=Y?Y.lastPlacementChangeTime:N)},ir.prototype.updateLayerOpacities=function(N,Y){for(var G={},L=0,q=Y;L<q.length;L+=1){var ee=q[L],ae=ee.getBucket(N);ae&&ee.latestFeatureIndex&&N.id===ae.layerIds[0]&&this.updateBucketOpacities(ae,G,ee.collisionBoxArray)}},ir.prototype.updateBucketOpacities=function(N,Y,G){var L=this;N.hasTextData()&&N.text.opacityVertexArray.clear(),N.hasIconData()&&N.icon.opacityVertexArray.clear(),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexArray.clear(),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexArray.clear();var q=N.layers[0].layout,ee=new $t(null,0,!1,!1,!0),ae=q.get("text-allow-overlap"),fe=q.get("icon-allow-overlap"),we=q.get("text-variable-anchor"),Oe=q.get("text-rotation-alignment")==="map",Be=q.get("text-pitch-alignment")==="map",Ge=q.get("icon-text-fit")!=="none",Ye=new $t(null,0,ae&&(fe||!N.hasIconData()||q.get("icon-optional")),fe&&(ae||!N.hasTextData()||q.get("text-optional")),!0);!N.collisionArrays&&G&&(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData())&&N.deserializeCollisionBoxes(G);for(var rt=function(It,Ct,jt){for(var zt=0;zt<Ct/4;zt++)It.opacityVertexArray.emplaceBack(jt)},pt=function(It){var Ct=N.symbolInstances.get(It),jt=Ct.numHorizontalGlyphVertices,zt=Ct.numVerticalGlyphVertices,Jt=Ct.crossTileID,Zt=Y[Jt],Gt=L.opacities[Jt];Zt?Gt=ee:Gt||(Gt=Ye,L.opacities[Jt]=Gt),Y[Jt]=!0;var mn=jt>0||zt>0,_n=Ct.numIconVertices>0,Cn=L.placedOrientations[Ct.crossTileID],zn=Cn===o.WritingMode.vertical,Wn=Cn===o.WritingMode.horizontal||Cn===o.WritingMode.horizontalOnly;if(mn){var sr=Mn(Gt.text),vr=zn?yn:sr;rt(N.text,jt,vr);var Kn=Wn?yn:sr;rt(N.text,zt,Kn);var hr=Gt.text.isHidden();[Ct.rightJustifiedTextSymbolIndex,Ct.centerJustifiedTextSymbolIndex,Ct.leftJustifiedTextSymbolIndex].forEach(function(Qr){Qr>=0&&(N.text.placedSymbolArray.get(Qr).hidden=hr||zn?1:0)}),Ct.verticalPlacedTextSymbolIndex>=0&&(N.text.placedSymbolArray.get(Ct.verticalPlacedTextSymbolIndex).hidden=hr||Wn?1:0);var wr=L.variableOffsets[Ct.crossTileID];wr&&L.markUsedJustification(N,wr.anchor,Ct,Cn);var Or=L.placedOrientations[Ct.crossTileID];Or&&(L.markUsedJustification(N,"left",Ct,Or),L.markUsedOrientation(N,Or,Ct))}if(_n){var or=Mn(Gt.icon),fr=!(Ge&&Ct.verticalPlacedIconSymbolIndex&&zn);if(Ct.placedIconSymbolIndex>=0){var Mr=fr?or:yn;rt(N.icon,Ct.numIconVertices,Mr),N.icon.placedSymbolArray.get(Ct.placedIconSymbolIndex).hidden=Gt.icon.isHidden()}if(Ct.verticalPlacedIconSymbolIndex>=0){var mr=fr?yn:or;rt(N.icon,Ct.numVerticalIconVertices,mr),N.icon.placedSymbolArray.get(Ct.verticalPlacedIconSymbolIndex).hidden=Gt.icon.isHidden()}}if(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData()){var Lr=N.collisionArrays[It];if(Lr){var Dr=new o.Point(0,0);if(Lr.textBox||Lr.verticalTextBox){var Gr=!0;if(we){var Wr=L.variableOffsets[Jt];Wr?(Dr=Gn(Wr.anchor,Wr.width,Wr.height,Wr.textOffset,Wr.textBoxScale),Oe&&Dr._rotate(Be?L.transform.angle:-L.transform.angle)):Gr=!1}Lr.textBox&&dr(N.textCollisionBox.collisionVertexArray,Gt.text.placed,!Gr||zn,Dr.x,Dr.y),Lr.verticalTextBox&&dr(N.textCollisionBox.collisionVertexArray,Gt.text.placed,!Gr||Wn,Dr.x,Dr.y)}var Zr=!!(!Wn&&Lr.verticalIconBox);Lr.iconBox&&dr(N.iconCollisionBox.collisionVertexArray,Gt.icon.placed,Zr,Ge?Dr.x:0,Ge?Dr.y:0),Lr.verticalIconBox&&dr(N.iconCollisionBox.collisionVertexArray,Gt.icon.placed,!Zr,Ge?Dr.x:0,Ge?Dr.y:0)}}},vt=0;vt<N.symbolInstances.length;vt++)pt(vt);if(N.sortFeatures(this.transform.angle),this.retainedQueryData[N.bucketInstanceId]&&(this.retainedQueryData[N.bucketInstanceId].featureSortOrder=N.featureSortOrder),N.hasTextData()&&N.text.opacityVertexBuffer&&N.text.opacityVertexBuffer.updateData(N.text.opacityVertexArray),N.hasIconData()&&N.icon.opacityVertexBuffer&&N.icon.opacityVertexBuffer.updateData(N.icon.opacityVertexArray),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexBuffer&&N.iconCollisionBox.collisionVertexBuffer.updateData(N.iconCollisionBox.collisionVertexArray),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexBuffer&&N.textCollisionBox.collisionVertexBuffer.updateData(N.textCollisionBox.collisionVertexArray),N.bucketInstanceId in this.collisionCircleArrays){var St=this.collisionCircleArrays[N.bucketInstanceId];N.placementInvProjMatrix=St.invProjMatrix,N.placementViewportMatrix=St.viewportMatrix,N.collisionCircleArray=St.circles,delete this.collisionCircleArrays[N.bucketInstanceId]}},ir.prototype.symbolFadeChange=function(N){return this.fadeDuration===0?1:(N-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},ir.prototype.zoomAdjustment=function(N){return Math.max(0,(this.transform.zoom-N)/1.5)},ir.prototype.hasTransitions=function(N){return this.stale||N-this.lastPlacementChangeTime<this.fadeDuration},ir.prototype.stillRecent=function(N,Y){var G=this.zoomAtLastRecencyCheck===Y?1-this.zoomAdjustment(Y):1;return this.zoomAtLastRecencyCheck=Y,this.commitTime+this.fadeDuration*G>N},ir.prototype.setStale=function(){this.stale=!0};var Kt=Math.pow(2,25),bn=Math.pow(2,24),Dt=Math.pow(2,17),Ut=Math.pow(2,16),en=Math.pow(2,9),gn=Math.pow(2,8),vn=Math.pow(2,1);function Mn(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;var Y=N.placed?1:0,G=Math.floor(127*N.opacity);return G*Kt+Y*bn+G*Dt+Y*Ut+G*en+Y*gn+G*vn+Y}var yn=0,hn=function(N){this._sortAcrossTiles=N.layout.get("symbol-z-order")!=="viewport-y"&&N.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};hn.prototype.continuePlacement=function(N,Y,G,L,q){for(var ee=this._bucketParts;this._currentTileIndex<N.length;){var ae=N[this._currentTileIndex];if(Y.getBucketParts(ee,L,ae,this._sortAcrossTiles),this._currentTileIndex++,q())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ee.sort(function(we,Oe){return we.sortKey-Oe.sortKey}));this._currentPartIndex<ee.length;){var fe=ee[this._currentPartIndex];if(Y.placeLayerBucketPart(fe,this._seenCrossTileIDs,G),this._currentPartIndex++,q())return!0}return!1};var qt=function(N,Y,G,L,q,ee,ae){this.placement=new ir(N,q,ee,ae),this._currentPlacementIndex=Y.length-1,this._forceFullPlacement=G,this._showCollisionBoxes=L,this._done=!1};qt.prototype.isDone=function(){return this._done},qt.prototype.continuePlacement=function(N,Y,G){for(var L=this,q=o.browser.now(),ee=function(){var we=o.browser.now()-q;return!L._forceFullPlacement&&we>2};this._currentPlacementIndex>=0;){var ae=Y[N[this._currentPlacementIndex]],fe=this.placement.collisionIndex.transform.zoom;if(ae.type==="symbol"&&(!ae.minzoom||ae.minzoom<=fe)&&(!ae.maxzoom||ae.maxzoom>fe)){if(this._inProgressLayer||(this._inProgressLayer=new hn(ae)),this._inProgressLayer.continuePlacement(G[ae.source],this.placement,this._showCollisionBoxes,ae,ee))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},qt.prototype.commit=function(N){return this.placement.commit(N),this.placement};var Vt=512/o.EXTENT/2,an=function(N,Y,G){this.tileID=N,this.indexedSymbolInstances={},this.bucketInstanceId=G;for(var L=0;L<Y.length;L++){var q=Y.get(L),ee=q.key;this.indexedSymbolInstances[ee]||(this.indexedSymbolInstances[ee]=[]),this.indexedSymbolInstances[ee].push({crossTileID:q.crossTileID,coord:this.getScaledCoordinates(q,N)})}};an.prototype.getScaledCoordinates=function(N,Y){var G=Y.canonical.z-this.tileID.canonical.z,L=Vt/Math.pow(2,G);return{x:Math.floor((Y.canonical.x*o.EXTENT+N.anchorX)*L),y:Math.floor((Y.canonical.y*o.EXTENT+N.anchorY)*L)}},an.prototype.findMatches=function(N,Y,G){for(var L=this.tileID.canonical.z<Y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Y.canonical.z),q=0;q<N.length;q++){var ee=N.get(q);if(!ee.crossTileID){var ae=this.indexedSymbolInstances[ee.key];if(ae)for(var fe=this.getScaledCoordinates(ee,Y),we=0,Oe=ae;we<Oe.length;we+=1){var Be=Oe[we];if(Math.abs(Be.coord.x-fe.x)<=L&&Math.abs(Be.coord.y-fe.y)<=L&&!G[Be.crossTileID]){G[Be.crossTileID]=!0,ee.crossTileID=Be.crossTileID;break}}}}};var En=function(){this.maxCrossTileID=0};En.prototype.generate=function(){return++this.maxCrossTileID};var Fn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Fn.prototype.handleWrapJump=function(N){var Y=Math.round((N-this.lng)/360);if(Y!==0)for(var G in this.indexes){var L=this.indexes[G],q={};for(var ee in L){var ae=L[ee];ae.tileID=ae.tileID.unwrapTo(ae.tileID.wrap+Y),q[ae.tileID.key]=ae}this.indexes[G]=q}this.lng=N},Fn.prototype.addBucket=function(N,Y,G){if(this.indexes[N.overscaledZ]&&this.indexes[N.overscaledZ][N.key]){if(this.indexes[N.overscaledZ][N.key].bucketInstanceId===Y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(N.overscaledZ,this.indexes[N.overscaledZ][N.key])}for(var L=0;L<Y.symbolInstances.length;L++)Y.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[N.overscaledZ]||(this.usedCrossTileIDs[N.overscaledZ]={});var q=this.usedCrossTileIDs[N.overscaledZ];for(var ee in this.indexes){var ae=this.indexes[ee];if(Number(ee)>N.overscaledZ)for(var fe in ae){var we=ae[fe];we.tileID.isChildOf(N)&&we.findMatches(Y.symbolInstances,N,q)}else{var Oe=ae[N.scaledTo(Number(ee)).key];Oe&&Oe.findMatches(Y.symbolInstances,N,q)}}for(var Be=0;Be<Y.symbolInstances.length;Be++){var Ge=Y.symbolInstances.get(Be);Ge.crossTileID||(Ge.crossTileID=G.generate(),q[Ge.crossTileID]=!0)}return this.indexes[N.overscaledZ]===void 0&&(this.indexes[N.overscaledZ]={}),this.indexes[N.overscaledZ][N.key]=new an(N,Y.symbolInstances,Y.bucketInstanceId),!0},Fn.prototype.removeBucketCrossTileIDs=function(N,Y){for(var G in Y.indexedSymbolInstances)for(var L=0,q=Y.indexedSymbolInstances[G];L<q.length;L+=1){var ee=q[L];delete this.usedCrossTileIDs[N][ee.crossTileID]}},Fn.prototype.removeStaleBuckets=function(N){var Y=!1;for(var G in this.indexes){var L=this.indexes[G];for(var q in L)N[L[q].bucketInstanceId]||(this.removeBucketCrossTileIDs(G,L[q]),delete L[q],Y=!0)}return Y};var Rn=function(){this.layerIndexes={},this.crossTileIDs=new En,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Rn.prototype.addLayer=function(N,Y,G){var L=this.layerIndexes[N.id];L===void 0&&(L=this.layerIndexes[N.id]=new Fn);var q=!1,ee={};L.handleWrapJump(G);for(var ae=0,fe=Y;ae<fe.length;ae+=1){var we=fe[ae],Oe=we.getBucket(N);Oe&&N.id===Oe.layerIds[0]&&(Oe.bucketInstanceId||(Oe.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(we.tileID,Oe,this.crossTileIDs)&&(q=!0),ee[Oe.bucketInstanceId]=!0)}return L.removeStaleBuckets(ee)&&(q=!0),q},Rn.prototype.pruneUnusedLayers=function(N){var Y={};for(var G in N.forEach(function(L){Y[L]=!0}),this.layerIndexes)Y[G]||delete this.layerIndexes[G]};var jn=function(N,Y){return o.emitValidationErrors(N,Y&&Y.filter(function(G){return G.identifier!=="source.canvas"}))},tr=o.pick(wt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Zn=o.pick(wt,["setCenter","setZoom","setBearing","setPitch"]),nr=function(){var N={},Y=o.styleSpec.$version;for(var G in o.styleSpec.$root){var L=o.styleSpec.$root[G];if(L.required){var q;(q=G==="version"?Y:L.type==="array"?[]:{})!=null&&(N[G]=q)}}return N}(),Yn=function(N){function Y(G,L){var q=this;L===void 0&&(L={}),N.call(this),this.map=G,this.dispatcher=new P(dt(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new m(G._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Rn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var ee=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(ae){var fe={pluginStatus:ae.pluginStatus,pluginURL:ae.pluginURL};ee.dispatcher.broadcast("syncRTLPluginState",fe,function(we,Oe){if(o.triggerPluginCompletionEvent(we),Oe&&Oe.every(function(Ge){return Ge}))for(var Be in ee.sourceCaches)ee.sourceCaches[Be].reload()})}),this.on("data",function(ae){if(ae.dataType==="source"&&ae.sourceDataType==="metadata"){var fe=q.sourceCaches[ae.sourceId];if(fe){var we=fe.getSource();if(we&&we.vectorLayerIds)for(var Oe in q._layers){var Be=q._layers[Oe];Be.source===we.id&&q._validateLayer(Be)}}}})}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.loadURL=function(G,L){var q=this;L===void 0&&(L={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var ee=typeof L.validate=="boolean"?L.validate:!o.isMapboxURL(G);G=this.map._requestManager.normalizeStyleURL(G,L.accessToken);var ae=this.map._requestManager.transformRequest(G,o.ResourceType.Style);this._request=o.getJSON(ae,function(fe,we){q._request=null,fe?q.fire(new o.ErrorEvent(fe)):we&&q._load(we,ee)})},Y.prototype.loadJSON=function(G,L){var q=this;L===void 0&&(L={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){q._request=null,q._load(G,L.validate!==!1)})},Y.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(nr,!1)},Y.prototype._load=function(G,L){if(!L||!jn(this,o.validateStyle(G))){for(var q in this._loaded=!0,this.stylesheet=G,G.sources)this.addSource(q,G.sources[q],{validate:!1});G.sprite?this._loadSprite(G.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(G.glyphs);var ee=kt(this.stylesheet.layers);this._order=ee.map(function(Oe){return Oe.id}),this._layers={},this._serializedLayers={};for(var ae=0,fe=ee;ae<fe.length;ae+=1){var we=fe[ae];(we=o.createStyleLayer(we)).setEventedParent(this,{layer:{id:we.id}}),this._layers[we.id]=we,this._serializedLayers[we.id]=we.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},Y.prototype._loadSprite=function(G){var L=this;this._spriteRequest=function(q,ee,ae){var fe,we,Oe,Be=o.browser.devicePixelRatio>1?"@2x":"",Ge=o.getJSON(ee.transformRequest(ee.normalizeSpriteURL(q,Be,".json"),o.ResourceType.SpriteJSON),function(pt,vt){Ge=null,Oe||(Oe=pt,fe=vt,rt())}),Ye=o.getImage(ee.transformRequest(ee.normalizeSpriteURL(q,Be,".png"),o.ResourceType.SpriteImage),function(pt,vt){Ye=null,Oe||(Oe=pt,we=vt,rt())});function rt(){if(Oe)ae(Oe);else if(fe&&we){var pt=o.browser.getImageData(we),vt={};for(var St in fe){var It=fe[St],Ct=It.width,jt=It.height,zt=It.x,Jt=It.y,Zt=It.sdf,Gt=It.pixelRatio,mn=It.stretchX,_n=It.stretchY,Cn=It.content,zn=new o.RGBAImage({width:Ct,height:jt});o.RGBAImage.copy(pt,zn,{x:zt,y:Jt},{x:0,y:0},{width:Ct,height:jt}),vt[St]={data:zn,pixelRatio:Gt,sdf:Zt,stretchX:mn,stretchY:_n,content:Cn}}ae(null,vt)}}return{cancel:function(){Ge&&(Ge.cancel(),Ge=null),Ye&&(Ye.cancel(),Ye=null)}}}(G,this.map._requestManager,function(q,ee){if(L._spriteRequest=null,q)L.fire(new o.ErrorEvent(q));else if(ee)for(var ae in ee)L.imageManager.addImage(ae,ee[ae]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new o.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(G){var L=this.sourceCaches[G.source];if(L){var q=G.sourceLayer;if(q){var ee=L.getSource();(ee.type==="geojson"||ee.vectorLayerIds&&ee.vectorLayerIds.indexOf(q)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+q+'" does not exist on source "'+ee.id+'" as specified by style layer "'+G.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var G in this.sourceCaches)if(!this.sourceCaches[G].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(G){for(var L=[],q=0,ee=G;q<ee.length;q+=1){var ae=ee[q],fe=this._layers[ae];fe.type!=="custom"&&L.push(fe.serialize())}return L},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var G in this.sourceCaches)if(this.sourceCaches[G].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(G){if(this._loaded){var L=this._changed;if(this._changed){var q=Object.keys(this._updatedLayers),ee=Object.keys(this._removedLayers);for(var ae in(q.length||ee.length)&&this._updateWorkerLayers(q,ee),this._updatedSources){var fe=this._updatedSources[ae];fe==="reload"?this._reloadSource(ae):fe==="clear"&&this._clearSource(ae)}for(var we in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[we].updateTransitions(G);this.light.updateTransitions(G),this._resetUpdates()}var Oe={};for(var Be in this.sourceCaches){var Ge=this.sourceCaches[Be];Oe[Be]=Ge.used,Ge.used=!1}for(var Ye=0,rt=this._order;Ye<rt.length;Ye+=1){var pt=rt[Ye],vt=this._layers[pt];vt.recalculate(G,this._availableImages),!vt.isHidden(G.zoom)&&vt.source&&(this.sourceCaches[vt.source].used=!0)}for(var St in Oe){var It=this.sourceCaches[St];Oe[St]!==It.used&&It.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:St}))}this.light.recalculate(G),this.z=G.zoom,L&&this.fire(new o.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var G=Object.keys(this._changedImages);if(G.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],G);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(G,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(G),removedIds:L})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(G){var L=this;if(this._checkLoaded(),jn(this,o.validateStyle(G)))return!1;(G=o.clone$1(G)).layers=kt(G.layers);var q=un(this.serialize(),G).filter(function(ae){return!(ae.command in Zn)});if(q.length===0)return!1;var ee=q.filter(function(ae){return!(ae.command in tr)});if(ee.length>0)throw new Error("Unimplemented: "+ee.map(function(ae){return ae.command}).join(", ")+".");return q.forEach(function(ae){ae.command!=="setTransition"&&L[ae.command].apply(L,ae.args)}),this.stylesheet=G,!0},Y.prototype.addImage=function(G,L){if(this.getImage(G))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(G,L),this._afterImageUpdated(G)},Y.prototype.updateImage=function(G,L){this.imageManager.updateImage(G,L)},Y.prototype.getImage=function(G){return this.imageManager.getImage(G)},Y.prototype.removeImage=function(G){if(!this.getImage(G))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(G),this._afterImageUpdated(G)},Y.prototype._afterImageUpdated=function(G){this._availableImages=this.imageManager.listImages(),this._changedImages[G]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(G,L,q){var ee=this;if(q===void 0&&(q={}),this._checkLoaded(),this.sourceCaches[G]!==void 0)throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(o.validateStyle.source,"sources."+G,L,null,q))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var ae=this.sourceCaches[G]=new ft(G,L,this.dispatcher);ae.style=this,ae.setEventedParent(this,function(){return{isSourceLoaded:ee.loaded(),source:ae.serialize(),sourceId:G}}),ae.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(G){if(this._checkLoaded(),this.sourceCaches[G]===void 0)throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===G)return this.fire(new o.ErrorEvent(new Error('Source "'+G+'" cannot be removed while layer "'+L+'" is using it.')));var q=this.sourceCaches[G];delete this.sourceCaches[G],delete this._updatedSources[G],q.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G})),q.setEventedParent(null),q.clearTiles(),q.onRemove&&q.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(G,L){this._checkLoaded(),this.sourceCaches[G].getSource().setData(L),this._changed=!0},Y.prototype.getSource=function(G){return this.sourceCaches[G]&&this.sourceCaches[G].getSource()},Y.prototype.addLayer=function(G,L,q){q===void 0&&(q={}),this._checkLoaded();var ee=G.id;if(this.getLayer(ee))this.fire(new o.ErrorEvent(new Error('Layer with id "'+ee+'" already exists on this map')));else{var ae;if(G.type==="custom"){if(jn(this,o.validateCustomStyleLayer(G)))return;ae=o.createStyleLayer(G)}else{if(typeof G.source=="object"&&(this.addSource(ee,G.source),G=o.clone$1(G),G=o.extend(G,{source:ee})),this._validate(o.validateStyle.layer,"layers."+ee,G,{arrayIndex:-1},q))return;ae=o.createStyleLayer(G),this._validateLayer(ae),ae.setEventedParent(this,{layer:{id:ee}}),this._serializedLayers[ae.id]=ae.serialize()}var fe=L?this._order.indexOf(L):this._order.length;if(L&&fe===-1)this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(fe,0,ee),this._layerOrderChanged=!0,this._layers[ee]=ae,this._removedLayers[ee]&&ae.source&&ae.type!=="custom"){var we=this._removedLayers[ee];delete this._removedLayers[ee],we.type!==ae.type?this._updatedSources[ae.source]="clear":(this._updatedSources[ae.source]="reload",this.sourceCaches[ae.source].pause())}this._updateLayer(ae),ae.onAdd&&ae.onAdd(this.map)}}},Y.prototype.moveLayer=function(G,L){if(this._checkLoaded(),this._changed=!0,this._layers[G]){if(G!==L){var q=this._order.indexOf(G);this._order.splice(q,1);var ee=L?this._order.indexOf(L):this._order.length;L&&ee===-1?this.fire(new o.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice(ee,0,G),this._layerOrderChanged=!0)}}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function(G){this._checkLoaded();var L=this._layers[G];if(L){L.setEventedParent(null);var q=this._order.indexOf(G);this._order.splice(q,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[G]=L,delete this._layers[G],delete this._serializedLayers[G],delete this._updatedLayers[G],delete this._updatedPaintProps[G],L.onRemove&&L.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function(G){return this._layers[G]},Y.prototype.hasLayer=function(G){return G in this._layers},Y.prototype.setLayerZoomRange=function(G,L,q){this._checkLoaded();var ee=this.getLayer(G);ee?ee.minzoom===L&&ee.maxzoom===q||(L!=null&&(ee.minzoom=L),q!=null&&(ee.maxzoom=q),this._updateLayer(ee)):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function(G,L,q){q===void 0&&(q={}),this._checkLoaded();var ee=this.getLayer(G);if(ee){if(!o.deepEqual(ee.filter,L))return L==null?(ee.filter=void 0,void this._updateLayer(ee)):void(this._validate(o.validateStyle.filter,"layers."+ee.id+".filter",L,null,q)||(ee.filter=o.clone$1(L),this._updateLayer(ee)))}else this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function(G){return o.clone$1(this.getLayer(G).filter)},Y.prototype.setLayoutProperty=function(G,L,q,ee){ee===void 0&&(ee={}),this._checkLoaded();var ae=this.getLayer(G);ae?o.deepEqual(ae.getLayoutProperty(L),q)||(ae.setLayoutProperty(L,q,ee),this._updateLayer(ae)):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function(G,L){var q=this.getLayer(G);if(q)return q.getLayoutProperty(L);this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function(G,L,q,ee){ee===void 0&&(ee={}),this._checkLoaded();var ae=this.getLayer(G);ae?o.deepEqual(ae.getPaintProperty(L),q)||(ae.setPaintProperty(L,q,ee)&&this._updateLayer(ae),this._changed=!0,this._updatedPaintProps[G]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+G+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function(G,L){return this.getLayer(G).getPaintProperty(L)},Y.prototype.setFeatureState=function(G,L){this._checkLoaded();var q=G.source,ee=G.sourceLayer,ae=this.sourceCaches[q];if(ae!==void 0){var fe=ae.getSource().type;fe==="geojson"&&ee?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):fe!=="vector"||ee?(G.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),ae.setFeatureState(ee,G.id,L)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function(G,L){this._checkLoaded();var q=G.source,ee=this.sourceCaches[q];if(ee!==void 0){var ae=ee.getSource().type,fe=ae==="vector"?G.sourceLayer:void 0;ae!=="vector"||fe?L&&typeof G.id!="string"&&typeof G.id!="number"?this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ee.removeFeatureState(fe,G.id,L):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+q+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function(G){this._checkLoaded();var L=G.source,q=G.sourceLayer,ee=this.sourceCaches[L];if(ee!==void 0){if(ee.getSource().type!=="vector"||q)return G.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),ee.getFeatureState(q,G.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(G){return G.serialize()}),layers:this._serializeLayers(this._order)},function(G){return G!==void 0})},Y.prototype._updateLayer=function(G){this._updatedLayers[G.id]=!0,G.source&&!this._updatedSources[G.source]&&this.sourceCaches[G.source].getSource().type!=="raster"&&(this._updatedSources[G.source]="reload",this.sourceCaches[G.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(G){for(var L=this,q=function(Cn){return L._layers[Cn].type==="fill-extrusion"},ee={},ae=[],fe=this._order.length-1;fe>=0;fe--){var we=this._order[fe];if(q(we)){ee[we]=fe;for(var Oe=0,Be=G;Oe<Be.length;Oe+=1){var Ge=Be[Oe][we];if(Ge)for(var Ye=0,rt=Ge;Ye<rt.length;Ye+=1){var pt=rt[Ye];ae.push(pt)}}}}ae.sort(function(Cn,zn){return zn.intersectionZ-Cn.intersectionZ});for(var vt=[],St=this._order.length-1;St>=0;St--){var It=this._order[St];if(q(It))for(var Ct=ae.length-1;Ct>=0;Ct--){var jt=ae[Ct].feature;if(ee[jt.layer.id]<St)break;vt.push(jt),ae.pop()}else for(var zt=0,Jt=G;zt<Jt.length;zt+=1){var Zt=Jt[zt][It];if(Zt)for(var Gt=0,mn=Zt;Gt<mn.length;Gt+=1){var _n=mn[Gt];vt.push(_n.feature)}}}return vt},Y.prototype.queryRenderedFeatures=function(G,L,q){L&&L.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var ee={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ae=0,fe=L.layers;ae<fe.length;ae+=1){var we=fe[ae],Oe=this._layers[we];if(!Oe)return this.fire(new o.ErrorEvent(new Error("The layer '"+we+"' does not exist in the map's style and cannot be queried for features."))),[];ee[Oe.source]=!0}}var Be=[];for(var Ge in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!ee[Ge]||Be.push(Q(this.sourceCaches[Ge],this._layers,this._serializedLayers,G,L,q));return this.placement&&Be.push(function(Ye,rt,pt,vt,St,It,Ct){for(var jt={},zt=It.queryRenderedSymbols(vt),Jt=[],Zt=0,Gt=Object.keys(zt).map(Number);Zt<Gt.length;Zt+=1){var mn=Gt[Zt];Jt.push(Ct[mn])}Jt.sort(ne);for(var _n=function(){var vr=zn[Cn],Kn=vr.featureIndex.lookupSymbolFeatures(zt[vr.bucketInstanceId],rt,vr.bucketIndex,vr.sourceLayerIndex,St.filter,St.layers,St.availableImages,Ye);for(var hr in Kn){var wr=jt[hr]=jt[hr]||[],Or=Kn[hr];Or.sort(function(mr,Lr){var Dr=vr.featureSortOrder;if(Dr){var Gr=Dr.indexOf(mr.featureIndex);return Dr.indexOf(Lr.featureIndex)-Gr}return Lr.featureIndex-mr.featureIndex});for(var or=0,fr=Or;or<fr.length;or+=1){var Mr=fr[or];wr.push(Mr)}}},Cn=0,zn=Jt;Cn<zn.length;Cn+=1)_n();var Wn=function(vr){jt[vr].forEach(function(Kn){var hr=Kn.feature,wr=Ye[vr],Or=pt[wr.source].getFeatureState(hr.layer["source-layer"],hr.id);hr.source=hr.layer.source,hr.layer["source-layer"]&&(hr.sourceLayer=hr.layer["source-layer"]),hr.state=Or})};for(var sr in jt)Wn(sr);return jt}(this._layers,this._serializedLayers,this.sourceCaches,G,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Be)},Y.prototype.querySourceFeatures=function(G,L){L&&L.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var q=this.sourceCaches[G];return q?function(ee,ae){for(var fe=ee.getRenderableIds().map(function(rt){return ee.getTileByID(rt)}),we=[],Oe={},Be=0;Be<fe.length;Be++){var Ge=fe[Be],Ye=Ge.tileID.canonical.key;Oe[Ye]||(Oe[Ye]=!0,Ge.querySourceFeatures(we,ae))}return we}(q,L):[]},Y.prototype.addSourceType=function(G,L,q){return Y.getSourceType(G)?q(new Error('A source type called "'+G+'" already exists.')):(Y.setSourceType(G,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:G,url:L.workerSourceURL},q):q(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(G,L){L===void 0&&(L={}),this._checkLoaded();var q=this.light.getLight(),ee=!1;for(var ae in G)if(!o.deepEqual(G[ae],q[ae])){ee=!0;break}if(ee){var fe={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(G,L),this.light.updateTransitions(fe)}},Y.prototype._validate=function(G,L,q,ee,ae){return ae===void 0&&(ae={}),(!ae||ae.validate!==!1)&&jn(this,G.call(o.validateStyle,o.extend({key:L,style:this.serialize(),value:q,styleSpec:o.styleSpec},ee)))},Y.prototype._remove=function(){for(var G in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[G].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(G){this.sourceCaches[G].clearTiles()},Y.prototype._reloadSource=function(G){this.sourceCaches[G].resume(),this.sourceCaches[G].reload()},Y.prototype._updateSources=function(G){for(var L in this.sourceCaches)this.sourceCaches[L].update(G)},Y.prototype._generateCollisionBoxes=function(){for(var G in this.sourceCaches)this._reloadSource(G)},Y.prototype._updatePlacement=function(G,L,q,ee,ae){ae===void 0&&(ae=!1);for(var fe=!1,we=!1,Oe={},Be=0,Ge=this._order;Be<Ge.length;Be+=1){var Ye=Ge[Be],rt=this._layers[Ye];if(rt.type==="symbol"){if(!Oe[rt.source]){var pt=this.sourceCaches[rt.source];Oe[rt.source]=pt.getRenderableIds(!0).map(function(zt){return pt.getTileByID(zt)}).sort(function(zt,Jt){return Jt.tileID.overscaledZ-zt.tileID.overscaledZ||(zt.tileID.isLessThan(Jt.tileID)?-1:1)})}var vt=this.crossTileSymbolIndex.addLayer(rt,Oe[rt.source],G.center.lng);fe=fe||vt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ae=ae||this._layerOrderChanged||q===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),G.zoom))&&(this.pauseablePlacement=new qt(G,this._order,ae,L,q,ee,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),we=!0),fe&&this.pauseablePlacement.placement.setStale()),we||fe)for(var St=0,It=this._order;St<It.length;St+=1){var Ct=It[St],jt=this._layers[Ct];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,Oe[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var G in this.sourceCaches)this.sourceCaches[G].releaseSymbolFadeTiles()},Y.prototype.getImages=function(G,L,q){this.imageManager.getImages(L.icons,q),this._updateTilesForChangedImages();var ee=this.sourceCaches[L.source];ee&&ee.setDependencies(L.tileID.key,L.type,L.icons)},Y.prototype.getGlyphs=function(G,L,q){this.glyphManager.getGlyphs(L.stacks,q)},Y.prototype.getResource=function(G,L,q){return o.makeRequest(L,q)},Y}(o.Evented);Yn.getSourceType=function(N){return ie[N]},Yn.setSourceType=function(N,Y){ie[N]=Y},Yn.registerForPluginStateChange=o.registerForPluginStateChange;var Jn=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),cr=hi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Tr=hi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),gr=hi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ar=hi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),xr=hi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Cr=hi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Nr=hi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),xi=hi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Li=hi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Ji=hi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),gi=hi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Oi=hi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Pa=hi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),jr=hi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),$i=hi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),to=hi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Xi=hi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ko=hi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ms=hi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),da=hi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Oo=hi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Io=hi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),ys=hi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),no=hi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),po=hi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),go=hi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function hi(N,Y){var G=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=Y.match(/attribute ([\w]+) ([\w]+)/g),q=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ee=Y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ae=ee?ee.concat(q):q,fe={};return{fragmentSource:N=N.replace(G,function(we,Oe,Be,Ge,Ye){return fe[Ye]=!0,Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
varying `+Be+" "+Ge+" "+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`}),vertexSource:Y=Y.replace(G,function(we,Oe,Be,Ge,Ye){var rt=Ge==="float"?"vec2":"vec4",pt=Ye.match(/color/)?"color":rt;return fe[Ye]?Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
uniform lowp float u_`+Ye+`_t;
attribute `+Be+" "+rt+" a_"+Ye+`;
varying `+Be+" "+Ge+" "+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Ye+" = a_"+Ye+`;
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Ye+" = unpack_mix_"+pt+"(a_"+Ye+", u_"+Ye+`_t);
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
uniform lowp float u_`+Ye+`_t;
attribute `+Be+" "+rt+" a_"+Ye+`;
#else
uniform `+Be+" "+Ge+" u_"+Ye+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = a_"+Ye+`;
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ye+`
    `+Be+" "+Ge+" "+Ye+" = unpack_mix_"+pt+"(a_"+Ye+", u_"+Ye+`_t);
#else
    `+Be+" "+Ge+" "+Ye+" = u_"+Ye+`;
#endif
`}),staticAttributes:L,staticUniforms:ae}}var Qi=Object.freeze({__proto__:null,prelude:cr,background:Tr,backgroundPattern:gr,circle:ar,clippingMask:xr,heatmap:Cr,heatmapTexture:Nr,collisionBox:xi,collisionCircle:Li,debug:Ji,fill:gi,fillOutline:Oi,fillOutlinePattern:Pa,fillPattern:jr,fillExtrusion:$i,fillExtrusionPattern:to,hillshadePrepare:Xi,hillshade:Ko,line:ms,lineGradient:da,linePattern:Oo,lineSDF:Io,raster:ys,symbolIcon:no,symbolSDF:po,symbolTextAndIcon:go}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function zo(N){for(var Y=[],G=0;G<N.length;G++)if(N[G]!==null){var L=N[G].split(" ");Y.push(L.pop())}return Y}Jo.prototype.bind=function(N,Y,G,L,q,ee,ae,fe){this.context=N;for(var we=this.boundPaintVertexBuffers.length!==L.length,Oe=0;!we&&Oe<L.length;Oe++)this.boundPaintVertexBuffers[Oe]!==L[Oe]&&(we=!0);var Be=!this.vao||this.boundProgram!==Y||this.boundLayoutVertexBuffer!==G||we||this.boundIndexBuffer!==q||this.boundVertexOffset!==ee||this.boundDynamicVertexBuffer!==ae||this.boundDynamicVertexBuffer2!==fe;!N.extVertexArrayObject||Be?this.freshBind(Y,G,L,q,ee,ae,fe):(N.bindVertexArrayOES.set(this.vao),ae&&ae.bind(),q&&q.dynamicDraw&&q.bind(),fe&&fe.bind())},Jo.prototype.freshBind=function(N,Y,G,L,q,ee,ae){var fe,we=N.numAttributes,Oe=this.context,Be=Oe.gl;if(Oe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Oe.extVertexArrayObject.createVertexArrayOES(),Oe.bindVertexArrayOES.set(this.vao),fe=0,this.boundProgram=N,this.boundLayoutVertexBuffer=Y,this.boundPaintVertexBuffers=G,this.boundIndexBuffer=L,this.boundVertexOffset=q,this.boundDynamicVertexBuffer=ee,this.boundDynamicVertexBuffer2=ae;else{fe=Oe.currentNumAttributes||0;for(var Ge=we;Ge<fe;Ge++)Be.disableVertexAttribArray(Ge)}Y.enableAttributes(Be,N);for(var Ye=0,rt=G;Ye<rt.length;Ye+=1)rt[Ye].enableAttributes(Be,N);ee&&ee.enableAttributes(Be,N),ae&&ae.enableAttributes(Be,N),Y.bind(),Y.setVertexAttribPointers(Be,N,q);for(var pt=0,vt=G;pt<vt.length;pt+=1){var St=vt[pt];St.bind(),St.setVertexAttribPointers(Be,N,q)}ee&&(ee.bind(),ee.setVertexAttribPointers(Be,N,q)),L&&L.bind(),ae&&(ae.bind(),ae.setVertexAttribPointers(Be,N,q)),Oe.currentNumAttributes=we},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var vo=function(N,Y,G,L,q,ee){var ae=N.gl;this.program=ae.createProgram();for(var fe=zo(G.staticAttributes),we=L?L.getBinderAttributes():[],Oe=fe.concat(we),Be=G.staticUniforms?zo(G.staticUniforms):[],Ge=L?L.getBinderUniforms():[],Ye=[],rt=0,pt=Be.concat(Ge);rt<pt.length;rt+=1){var vt=pt[rt];Ye.indexOf(vt)<0&&Ye.push(vt)}var St=L?L.defines():[];ee&&St.push("#define OVERDRAW_INSPECTOR;");var It=St.concat(cr.fragmentSource,G.fragmentSource).join(`
`),Ct=St.concat(cr.vertexSource,G.vertexSource).join(`
`),jt=ae.createShader(ae.FRAGMENT_SHADER);if(ae.isContextLost())this.failedToCreate=!0;else{ae.shaderSource(jt,It),ae.compileShader(jt),ae.attachShader(this.program,jt);var zt=ae.createShader(ae.VERTEX_SHADER);if(ae.isContextLost())this.failedToCreate=!0;else{ae.shaderSource(zt,Ct),ae.compileShader(zt),ae.attachShader(this.program,zt),this.attributes={};var Jt={};this.numAttributes=Oe.length;for(var Zt=0;Zt<this.numAttributes;Zt++)Oe[Zt]&&(ae.bindAttribLocation(this.program,Zt,Oe[Zt]),this.attributes[Oe[Zt]]=Zt);ae.linkProgram(this.program),ae.deleteShader(zt),ae.deleteShader(jt);for(var Gt=0;Gt<Ye.length;Gt++){var mn=Ye[Gt];if(mn&&!Jt[mn]){var _n=ae.getUniformLocation(this.program,mn);_n&&(Jt[mn]=_n)}}this.fixedUniforms=q(N,Jt),this.binderUniforms=L?L.getUniforms(N,Jt):[]}}};function xs(N,Y,G){var L=1/er(G,1,Y.transform.tileZoom),q=Math.pow(2,G.tileID.overscaledZ),ee=G.tileSize*Math.pow(2,Y.transform.tileZoom)/q,ae=ee*(G.tileID.canonical.x+G.tileID.wrap*q),fe=ee*G.tileID.canonical.y;return{u_image:0,u_texsize:G.imageAtlasTexture.size,u_scale:[L,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[ae>>16,fe>>16],u_pixel_coord_lower:[65535&ae,65535&fe]}}vo.prototype.draw=function(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge,Ye,rt,pt,vt){var St,It=N.gl;if(!this.failedToCreate){for(var Ct in N.program.set(this.program),N.setDepthMode(G),N.setStencilMode(L),N.setColorMode(q),N.setCullFace(ee),this.fixedUniforms)this.fixedUniforms[Ct].set(ae[Ct]);rt&&rt.setUniforms(N,this.binderUniforms,Ge,{zoom:Ye});for(var jt=(St={},St[It.LINES]=2,St[It.TRIANGLES]=3,St[It.LINE_STRIP]=1,St)[Y],zt=0,Jt=Be.get();zt<Jt.length;zt+=1){var Zt=Jt[zt],Gt=Zt.vaos||(Zt.vaos={});(Gt[fe]||(Gt[fe]=new Jo)).bind(N,this,we,rt?rt.getPaintVertexBuffers():[],Oe,Zt.vertexOffset,pt,vt),It.drawElements(Y,Zt.primitiveLength*jt,It.UNSIGNED_SHORT,Zt.primitiveOffset*jt*2)}}};var Do=function(N,Y,G,L){var q=Y.style.light,ee=q.properties.get("position"),ae=[ee.x,ee.y,ee.z],fe=o.create$1();q.properties.get("anchor")==="viewport"&&o.fromRotation(fe,-Y.transform.angle),o.transformMat3(ae,ae,fe);var we=q.properties.get("color");return{u_matrix:N,u_lightpos:ae,u_lightintensity:q.properties.get("intensity"),u_lightcolor:[we.r,we.g,we.b],u_vertical_gradient:+G,u_opacity:L}},bs=function(N,Y,G,L,q,ee,ae){return o.extend(Do(N,Y,G,L),xs(ee,Y,ae),{u_height_factor:-Math.pow(2,q.overscaledZ)/ae.tileSize/8})},$o=function(N){return{u_matrix:N}},_s=function(N,Y,G,L){return o.extend($o(N),xs(G,Y,L))},Ro=function(N,Y){return{u_matrix:N,u_world:Y}},Eu=function(N,Y,G,L,q){return o.extend(_s(N,Y,G,L),{u_world:q})},su=function(N,Y,G,L){var q,ee,ae=N.transform;if(L.paint.get("circle-pitch-alignment")==="map"){var fe=er(G,1,ae.zoom);q=!0,ee=[fe,fe]}else q=!1,ee=ae.pixelsToGLUnits;return{u_camera_to_center_distance:ae.cameraToCenterDistance,u_scale_with_map:+(L.paint.get("circle-pitch-scale")==="map"),u_matrix:N.translatePosMatrix(Y.posMatrix,G,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+q,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:ee}},Hs=function(N,Y,G){var L=er(G,1,Y.zoom),q=Math.pow(2,Y.zoom-G.tileID.overscaledZ),ee=G.tileID.overscaleFactor();return{u_matrix:N,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[Y.pixelsToGLUnits[0]/(L*q),Y.pixelsToGLUnits[1]/(L*q)],u_overscale_factor:ee}},Zu=function(N,Y,G){return{u_matrix:N,u_inv_matrix:Y,u_camera_to_center_distance:G.cameraToCenterDistance,u_viewport_size:[G.width,G.height]}},Ku=function(N,Y,G){return G===void 0&&(G=1),{u_matrix:N,u_color:Y,u_overlay:0,u_overlay_scale:G}},qs=function(N){return{u_matrix:N}},Ju=function(N,Y,G,L){return{u_matrix:N,u_extrude_scale:er(Y,1,G),u_intensity:L}},Dc=function(N,Y,G,L){var q=o.create();o.ortho(q,0,N.width,N.height,0,0,1);var ee=N.context.gl;return{u_matrix:q,u_world:[ee.drawingBufferWidth,ee.drawingBufferHeight],u_image:G,u_color_ramp:L,u_opacity:Y.paint.get("heatmap-opacity")}},Rc=function(N,Y,G){var L=G.paint.get("hillshade-shadow-color"),q=G.paint.get("hillshade-highlight-color"),ee=G.paint.get("hillshade-accent-color"),ae=G.paint.get("hillshade-illumination-direction")*(Math.PI/180);G.paint.get("hillshade-illumination-anchor")==="viewport"&&(ae-=N.transform.angle);var fe,we,Oe,Be=!N.options.moving;return{u_matrix:N.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),Be),u_image:0,u_latrange:(fe=Y.tileID,we=Math.pow(2,fe.canonical.z),Oe=fe.canonical.y,[new o.MercatorCoordinate(0,Oe/we).toLngLat().lat,new o.MercatorCoordinate(0,(Oe+1)/we).toLngLat().lat]),u_light:[G.paint.get("hillshade-exaggeration"),ae],u_shadow:L,u_highlight:q,u_accent:ee}},Gs=function(N,Y){var G=Y.stride,L=o.create();return o.ortho(L,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(L,L,[0,-o.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[G,G],u_zoom:N.overscaledZ,u_unpack:Y.getUnpackVector()}},Fo=function(N,Y,G){var L=N.transform;return{u_matrix:mo(N,Y,G),u_ratio:1/er(Y,1,L.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},cl=function(N,Y,G,L){return o.extend(Fo(N,Y,G),{u_image:0,u_image_height:L})},Ws=function(N,Y,G,L){var q=N.transform,ee=Ys(Y,q);return{u_matrix:mo(N,Y,G),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/er(Y,1,q.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[ee,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},Dl=function(N,Y,G,L,q){var ee=N.transform,ae=N.lineAtlas,fe=Ys(Y,ee),we=G.layout.get("line-cap")==="round",Oe=ae.getDash(L.from,we),Be=ae.getDash(L.to,we),Ge=Oe.width*q.fromScale,Ye=Be.width*q.toScale;return o.extend(Fo(N,Y,G),{u_patternscale_a:[fe/Ge,-Oe.height/2],u_patternscale_b:[fe/Ye,-Be.height/2],u_sdfgamma:ae.width/(256*Math.min(Ge,Ye)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Oe.y,u_tex_y_b:Be.y,u_mix:q.t})};function Ys(N,Y){return 1/er(N,1,Y.tileZoom)}function mo(N,Y,G){return N.translatePosMatrix(Y.tileID.posMatrix,Y,G.paint.get("line-translate"),G.paint.get("line-translate-anchor"))}var Lu=function(N,Y,G,L,q){return{u_matrix:N,u_tl_parent:Y,u_scale_parent:G,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:q.paint.get("raster-brightness-min"),u_brightness_high:q.paint.get("raster-brightness-max"),u_saturation_factor:(ae=q.paint.get("raster-saturation"),ae>0?1-1/(1.001-ae):-ae),u_contrast_factor:(ee=q.paint.get("raster-contrast"),ee>0?1/(1-ee):1+ee),u_spin_weights:ws(q.paint.get("raster-hue-rotate"))};var ee,ae};function ws(N){N*=Math.PI/180;var Y=Math.sin(N),G=Math.cos(N);return[(2*G+1)/3,(-Math.sqrt(3)*Y-G+1)/3,(Math.sqrt(3)*Y-G+1)/3]}var Qo,es=function(N,Y,G,L,q,ee,ae,fe,we,Oe){var Be=q.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:Be.cameraToCenterDistance,u_pitch:Be.pitch/360*2*Math.PI,u_rotate_symbol:+G,u_aspect_ratio:Be.width/Be.height,u_fade_change:q.options.fadeDuration?q.symbolFadeChange:1,u_matrix:ee,u_label_plane_matrix:ae,u_coord_matrix:fe,u_is_text:+we,u_pitch_with_map:+L,u_texsize:Oe,u_texture:0}},Ts=function(N,Y,G,L,q,ee,ae,fe,we,Oe,Be){var Ge=q.transform;return o.extend(es(N,Y,G,L,q,ee,ae,fe,we,Oe),{u_gamma_scale:L?Math.cos(Ge._pitch)*Ge.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+Be})},Kr=function(N,Y,G,L,q,ee,ae,fe,we,Oe){return o.extend(Ts(N,Y,G,L,q,ee,ae,fe,!0,we,!0),{u_texsize_icon:Oe,u_texture_icon:1})},fl=function(N,Y,G){return{u_matrix:N,u_opacity:Y,u_color:G}},Fc=function(N,Y,G,L,q,ee){return o.extend(function(ae,fe,we,Oe){var Be=we.imageManager.getPattern(ae.from.toString()),Ge=we.imageManager.getPattern(ae.to.toString()),Ye=we.imageManager.getPixelSize(),rt=Ye.width,pt=Ye.height,vt=Math.pow(2,Oe.tileID.overscaledZ),St=Oe.tileSize*Math.pow(2,we.transform.tileZoom)/vt,It=St*(Oe.tileID.canonical.x+Oe.tileID.wrap*vt),Ct=St*Oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Be.tl,u_pattern_br_a:Be.br,u_pattern_tl_b:Ge.tl,u_pattern_br_b:Ge.br,u_texsize:[rt,pt],u_mix:fe.t,u_pattern_size_a:Be.displaySize,u_pattern_size_b:Ge.displaySize,u_scale_a:fe.fromScale,u_scale_b:fe.toScale,u_tile_units_to_pixels:1/er(Oe,1,we.transform.tileZoom),u_pixel_coord_upper:[It>>16,Ct>>16],u_pixel_coord_lower:[65535&It,65535&Ct]}}(L,ee,G,q),{u_matrix:N,u_opacity:Y})},lu={fillExtrusion:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new o.Uniform3f(N,Y.u_lightpos),u_lightintensity:new o.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new o.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new o.Uniform1f(N,Y.u_vertical_gradient),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},fillExtrusionPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_lightpos:new o.Uniform3f(N,Y.u_lightpos),u_lightintensity:new o.Uniform1f(N,Y.u_lightintensity),u_lightcolor:new o.Uniform3f(N,Y.u_lightcolor),u_vertical_gradient:new o.Uniform1f(N,Y.u_vertical_gradient),u_height_factor:new o.Uniform1f(N,Y.u_height_factor),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},fill:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},fillPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},fillOutline:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world)}},fillOutlinePattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world),u_image:new o.Uniform1i(N,Y.u_image),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},circle:function(N,Y){return{u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(N,Y.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(N,Y.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},collisionBox:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(N,Y.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(N,Y.u_extrude_scale),u_overscale_factor:new o.Uniform1f(N,Y.u_overscale_factor)}},collisionCircle:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_inv_matrix:new o.UniformMatrix4f(N,Y.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(N,Y.u_viewport_size)}},debug:function(N,Y){return{u_color:new o.UniformColor(N,Y.u_color),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_overlay:new o.Uniform1i(N,Y.u_overlay),u_overlay_scale:new o.Uniform1f(N,Y.u_overlay_scale)}},clippingMask:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},heatmap:function(N,Y){return{u_extrude_scale:new o.Uniform1f(N,Y.u_extrude_scale),u_intensity:new o.Uniform1f(N,Y.u_intensity),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix)}},heatmapTexture:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_world:new o.Uniform2f(N,Y.u_world),u_image:new o.Uniform1i(N,Y.u_image),u_color_ramp:new o.Uniform1i(N,Y.u_color_ramp),u_opacity:new o.Uniform1f(N,Y.u_opacity)}},hillshade:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_latrange:new o.Uniform2f(N,Y.u_latrange),u_light:new o.Uniform2f(N,Y.u_light),u_shadow:new o.UniformColor(N,Y.u_shadow),u_highlight:new o.UniformColor(N,Y.u_highlight),u_accent:new o.UniformColor(N,Y.u_accent)}},hillshadePrepare:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_image:new o.Uniform1i(N,Y.u_image),u_dimension:new o.Uniform2f(N,Y.u_dimension),u_zoom:new o.Uniform1f(N,Y.u_zoom),u_unpack:new o.Uniform4f(N,Y.u_unpack)}},line:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels)}},lineGradient:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_image:new o.Uniform1i(N,Y.u_image),u_image_height:new o.Uniform1f(N,Y.u_image_height)}},linePattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_image:new o.Uniform1i(N,Y.u_image),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_scale:new o.Uniform3f(N,Y.u_scale),u_fade:new o.Uniform1f(N,Y.u_fade)}},lineSDF:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_ratio:new o.Uniform1f(N,Y.u_ratio),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(N,Y.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(N,Y.u_patternscale_a),u_patternscale_b:new o.Uniform2f(N,Y.u_patternscale_b),u_sdfgamma:new o.Uniform1f(N,Y.u_sdfgamma),u_image:new o.Uniform1i(N,Y.u_image),u_tex_y_a:new o.Uniform1f(N,Y.u_tex_y_a),u_tex_y_b:new o.Uniform1f(N,Y.u_tex_y_b),u_mix:new o.Uniform1f(N,Y.u_mix)}},raster:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_tl_parent:new o.Uniform2f(N,Y.u_tl_parent),u_scale_parent:new o.Uniform1f(N,Y.u_scale_parent),u_buffer_scale:new o.Uniform1f(N,Y.u_buffer_scale),u_fade_t:new o.Uniform1f(N,Y.u_fade_t),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_image0:new o.Uniform1i(N,Y.u_image0),u_image1:new o.Uniform1i(N,Y.u_image1),u_brightness_low:new o.Uniform1f(N,Y.u_brightness_low),u_brightness_high:new o.Uniform1f(N,Y.u_brightness_high),u_saturation_factor:new o.Uniform1f(N,Y.u_saturation_factor),u_contrast_factor:new o.Uniform1f(N,Y.u_contrast_factor),u_spin_weights:new o.Uniform3f(N,Y.u_spin_weights)}},symbolIcon:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texture:new o.Uniform1i(N,Y.u_texture)}},symbolSDF:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texture:new o.Uniform1i(N,Y.u_texture),u_gamma_scale:new o.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(N,Y.u_is_halo)}},symbolTextAndIcon:function(N,Y){return{u_is_size_zoom_constant:new o.Uniform1i(N,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(N,Y.u_is_size_feature_constant),u_size_t:new o.Uniform1f(N,Y.u_size_t),u_size:new o.Uniform1f(N,Y.u_size),u_camera_to_center_distance:new o.Uniform1f(N,Y.u_camera_to_center_distance),u_pitch:new o.Uniform1f(N,Y.u_pitch),u_rotate_symbol:new o.Uniform1i(N,Y.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(N,Y.u_aspect_ratio),u_fade_change:new o.Uniform1f(N,Y.u_fade_change),u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(N,Y.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(N,Y.u_coord_matrix),u_is_text:new o.Uniform1i(N,Y.u_is_text),u_pitch_with_map:new o.Uniform1i(N,Y.u_pitch_with_map),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_texsize_icon:new o.Uniform2f(N,Y.u_texsize_icon),u_texture:new o.Uniform1i(N,Y.u_texture),u_texture_icon:new o.Uniform1i(N,Y.u_texture_icon),u_gamma_scale:new o.Uniform1f(N,Y.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(N,Y.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(N,Y.u_is_halo)}},background:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_color:new o.UniformColor(N,Y.u_color)}},backgroundPattern:function(N,Y){return{u_matrix:new o.UniformMatrix4f(N,Y.u_matrix),u_opacity:new o.Uniform1f(N,Y.u_opacity),u_image:new o.Uniform1i(N,Y.u_image),u_pattern_tl_a:new o.Uniform2f(N,Y.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(N,Y.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(N,Y.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(N,Y.u_pattern_br_b),u_texsize:new o.Uniform2f(N,Y.u_texsize),u_mix:new o.Uniform1f(N,Y.u_mix),u_pattern_size_a:new o.Uniform2f(N,Y.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(N,Y.u_pattern_size_b),u_scale_a:new o.Uniform1f(N,Y.u_scale_a),u_scale_b:new o.Uniform1f(N,Y.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(N,Y.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(N,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(N,Y.u_tile_units_to_pixels)}}};function hl(N,Y,G,L,q,ee,ae){for(var fe=N.context,we=fe.gl,Oe=N.useProgram("collisionBox"),Be=[],Ge=0,Ye=0,rt=0;rt<L.length;rt++){var pt=L[rt],vt=Y.getTile(pt),St=vt.getBucket(G);if(St){var It=pt.posMatrix;q[0]===0&&q[1]===0||(It=N.translatePosMatrix(pt.posMatrix,vt,q,ee));var Ct=ae?St.textCollisionBox:St.iconCollisionBox,jt=St.collisionCircleArray;if(jt.length>0){var zt=o.create(),Jt=It;o.mul(zt,St.placementInvProjMatrix,N.transform.glCoordMatrix),o.mul(zt,zt,St.placementViewportMatrix),Be.push({circleArray:jt,circleOffset:Ye,transform:Jt,invTransform:zt}),Ye=Ge+=jt.length/4}Ct&&Oe.draw(fe,we.LINES,Ft.disabled,Xe.disabled,N.colorModeForRenderPass(),Ve.disabled,Hs(It,N.transform,vt),G.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,null,N.transform.zoom,null,null,Ct.collisionVertexBuffer)}}if(ae&&Be.length){var Zt=N.useProgram("collisionCircle"),Gt=new o.StructArrayLayout2f1f2i16;Gt.resize(4*Ge),Gt._trim();for(var mn=0,_n=0,Cn=Be;_n<Cn.length;_n+=1)for(var zn=Cn[_n],Wn=0;Wn<zn.circleArray.length/4;Wn++){var sr=4*Wn,vr=zn.circleArray[sr+0],Kn=zn.circleArray[sr+1],hr=zn.circleArray[sr+2],wr=zn.circleArray[sr+3];Gt.emplace(mn++,vr,Kn,hr,wr,0),Gt.emplace(mn++,vr,Kn,hr,wr,1),Gt.emplace(mn++,vr,Kn,hr,wr,2),Gt.emplace(mn++,vr,Kn,hr,wr,3)}(!Qo||Qo.length<2*Ge)&&(Qo=function(Dr){var Gr=2*Dr,Wr=new o.StructArrayLayout3ui6;Wr.resize(Gr),Wr._trim();for(var Zr=0;Zr<Gr;Zr++){var Qr=6*Zr;Wr.uint16[Qr+0]=4*Zr+0,Wr.uint16[Qr+1]=4*Zr+1,Wr.uint16[Qr+2]=4*Zr+2,Wr.uint16[Qr+3]=4*Zr+2,Wr.uint16[Qr+4]=4*Zr+3,Wr.uint16[Qr+5]=4*Zr+0}return Wr}(Ge));for(var Or=fe.createIndexBuffer(Qo,!0),or=fe.createVertexBuffer(Gt,o.collisionCircleLayout.members,!0),fr=0,Mr=Be;fr<Mr.length;fr+=1){var mr=Mr[fr],Lr=Zu(mr.transform,mr.invTransform,N.transform);Zt.draw(fe,we.TRIANGLES,Ft.disabled,Xe.disabled,N.colorModeForRenderPass(),Ve.disabled,Lr,G.id,or,Or,o.SegmentVector.simpleSegment(0,2*mr.circleOffset,mr.circleArray.length,mr.circleArray.length/2),null,N.transform.zoom,null,null,null)}or.destroy(),Or.destroy()}}var $u=o.identity(new Float32Array(16));function Bc(N,Y,G,L,q,ee){var ae=o.getAnchorAlignment(N),fe=-(ae.horizontalAlign-.5)*Y,we=-(ae.verticalAlign-.5)*G,Oe=o.evaluateVariableOffset(N,L);return new o.Point((fe/q+Oe[0])*ee,(we/q+Oe[1])*ee)}function uu(N,Y,G,L,q,ee,ae,fe,we,Oe,Be){var Ge=N.text.placedSymbolArray,Ye=N.text.dynamicLayoutVertexArray,rt=N.icon.dynamicLayoutVertexArray,pt={};Ye.clear();for(var vt=0;vt<Ge.length;vt++){var St=Ge.get(vt),It=N.allowVerticalPlacement&&!St.placedOrientation,Ct=St.hidden||!St.crossTileID||It?null:L[St.crossTileID];if(Ct){var jt=new o.Point(St.anchorX,St.anchorY),zt=Qt(jt,G?fe:ae),Jt=pn(ee.cameraToCenterDistance,zt.signedDistanceFromCamera),Zt=q.evaluateSizeForFeature(N.textSizeData,Oe,St)*Jt/o.ONE_EM;G&&(Zt*=N.tilePixelRatio/we);for(var Gt=Ct.width,mn=Ct.height,_n=Bc(Ct.anchor,Gt,mn,Ct.textOffset,Ct.textBoxScale,Zt),Cn=G?Qt(jt.add(_n),ae).point:zt.point.add(Y?_n.rotate(-ee.angle):_n),zn=N.allowVerticalPlacement&&St.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Wn=0;Wn<St.numGlyphs;Wn++)o.addDynamicAttributes(Ye,Cn,zn);Be&&St.associatedIconIndex>=0&&(pt[St.associatedIconIndex]={shiftedAnchor:Cn,angle:zn})}else $n(St.numGlyphs,Ye)}if(Be){rt.clear();for(var sr=N.icon.placedSymbolArray,vr=0;vr<sr.length;vr++){var Kn=sr.get(vr);if(Kn.hidden)$n(Kn.numGlyphs,rt);else{var hr=pt[vr];if(hr)for(var wr=0;wr<Kn.numGlyphs;wr++)o.addDynamicAttributes(rt,hr.shiftedAnchor,hr.angle);else $n(Kn.numGlyphs,rt)}}N.icon.dynamicLayoutVertexBuffer.updateData(rt)}N.text.dynamicLayoutVertexBuffer.updateData(Ye)}function Nc(N,Y,G){return G.iconsInText&&Y?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function ks(N,Y,G,L,q,ee,ae,fe,we,Oe,Be,Ge){for(var Ye=N.context,rt=Ye.gl,pt=N.transform,vt=fe==="map",St=we==="map",It=vt&&G.layout.get("symbol-placement")!=="point",Ct=vt&&!St&&!It,jt=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,zt=!1,Jt=N.depthModeForSublayer(0,Ft.ReadOnly),Zt=G.layout.get("text-variable-anchor"),Gt=[],mn=0,_n=L;mn<_n.length;mn+=1){var Cn=_n[mn],zn=Y.getTile(Cn),Wn=zn.getBucket(G);if(Wn){var sr=q?Wn.text:Wn.icon;if(sr&&sr.segments.get().length){var vr=sr.programConfigurations.get(G.id),Kn=q||Wn.sdfIcons,hr=q?Wn.textSizeData:Wn.iconSizeData,wr=St||pt.pitch!==0,Or=N.useProgram(Nc(Kn,q,Wn),vr),or=o.evaluateSizeForZoom(hr,pt.zoom),fr=void 0,Mr=[0,0],mr=void 0,Lr=void 0,Dr=null,Gr=void 0;if(q){if(mr=zn.glyphAtlasTexture,Lr=rt.LINEAR,fr=zn.glyphAtlasTexture.size,Wn.iconsInText){Mr=zn.imageAtlasTexture.size,Dr=zn.imageAtlasTexture;var Wr=hr.kind==="composite"||hr.kind==="camera";Gr=wr||N.options.rotating||N.options.zooming||Wr?rt.LINEAR:rt.NEAREST}}else{var Zr=G.layout.get("icon-size").constantOr(0)!==1||Wn.iconsNeedLinear;mr=zn.imageAtlasTexture,Lr=Kn||N.options.rotating||N.options.zooming||Zr||wr?rt.LINEAR:rt.NEAREST,fr=zn.imageAtlasTexture.size}var Qr=er(zn,1,N.transform.zoom),wi=kn(Cn.posMatrix,St,vt,N.transform,Qr),Bi=fn(Cn.posMatrix,St,vt,N.transform,Qr),Ma=Zt&&Wn.hasTextData(),na=G.layout.get("icon-text-fit")!=="none"&&Ma&&Wn.hasIconData();It&&sn(Wn,Cn.posMatrix,N,q,wi,Bi,St,Oe);var va=N.translatePosMatrix(Cn.posMatrix,zn,ee,ae),Mi=It||q&&Zt||na?$u:wi,ti=N.translatePosMatrix(Bi,zn,ee,ae,!0),Ii=Kn&&G.paint.get(q?"text-halo-width":"icon-halo-width").constantOr(1)!==0,di={program:Or,buffers:sr,uniformValues:Kn?Wn.iconsInText?Kr(hr.kind,or,Ct,St,N,va,Mi,ti,fr,Mr):Ts(hr.kind,or,Ct,St,N,va,Mi,ti,q,fr,!0):es(hr.kind,or,Ct,St,N,va,Mi,ti,q,fr),atlasTexture:mr,atlasTextureIcon:Dr,atlasInterpolation:Lr,atlasInterpolationIcon:Gr,isSDF:Kn,hasHalo:Ii};if(jt&&Wn.canOverlap){zt=!0;for(var ii=0,zi=sr.segments.get();ii<zi.length;ii+=1){var Ni=zi[ii];Gt.push({segments:new o.SegmentVector([Ni]),sortKey:Ni.sortKey,state:di})}}else Gt.push({segments:sr.segments,sortKey:0,state:di})}}}zt&&Gt.sort(function(Gl,os){return Gl.sortKey-os.sortKey});for(var Zi=0,Tl=Gt;Zi<Tl.length;Zi+=1){var kl=Tl[Zi],ai=kl.state;if(Ye.activeTexture.set(rt.TEXTURE0),ai.atlasTexture.bind(ai.atlasInterpolation,rt.CLAMP_TO_EDGE),ai.atlasTextureIcon&&(Ye.activeTexture.set(rt.TEXTURE1),ai.atlasTextureIcon&&ai.atlasTextureIcon.bind(ai.atlasInterpolationIcon,rt.CLAMP_TO_EDGE)),ai.isSDF){var du=ai.uniformValues;ai.hasHalo&&(du.u_is_halo=1,Xs(ai.buffers,kl.segments,G,N,ai.program,Jt,Be,Ge,du)),du.u_is_halo=0}Xs(ai.buffers,kl.segments,G,N,ai.program,Jt,Be,Ge,ai.uniformValues)}}function Xs(N,Y,G,L,q,ee,ae,fe,we){var Oe=L.context,Be=Oe.gl;q.draw(Oe,Be.TRIANGLES,ee,ae,fe,Ve.disabled,we,G.id,N.layoutVertexBuffer,N.indexBuffer,Y,G.paint,L.transform.zoom,N.programConfigurations.get(G.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function ts(N,Y,G,L,q,ee,ae){var fe,we,Oe,Be,Ge,Ye=N.context.gl,rt=G.paint.get("fill-pattern"),pt=rt&&rt.constantOr(1),vt=G.getCrossfadeParameters();ae?(we=pt&&!G.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fe=Ye.LINES):(we=pt?"fillPattern":"fill",fe=Ye.TRIANGLES);for(var St=0,It=L;St<It.length;St+=1){var Ct=It[St],jt=Y.getTile(Ct);if(!pt||jt.patternsLoaded()){var zt=jt.getBucket(G);if(zt){var Jt=zt.programConfigurations.get(G.id),Zt=N.useProgram(we,Jt);pt&&(N.context.activeTexture.set(Ye.TEXTURE0),jt.imageAtlasTexture.bind(Ye.LINEAR,Ye.CLAMP_TO_EDGE),Jt.updatePaintBuffers(vt));var Gt=rt.constantOr(null);if(Gt&&jt.imageAtlas){var mn=jt.imageAtlas,_n=mn.patternPositions[Gt.to.toString()],Cn=mn.patternPositions[Gt.from.toString()];_n&&Cn&&Jt.setConstantPatternPositions(_n,Cn)}var zn=N.translatePosMatrix(Ct.posMatrix,jt,G.paint.get("fill-translate"),G.paint.get("fill-translate-anchor"));if(ae){Be=zt.indexBuffer2,Ge=zt.segments2;var Wn=[Ye.drawingBufferWidth,Ye.drawingBufferHeight];Oe=we==="fillOutlinePattern"&&pt?Eu(zn,N,vt,jt,Wn):Ro(zn,Wn)}else Be=zt.indexBuffer,Ge=zt.segments,Oe=pt?_s(zn,N,vt,jt):$o(zn);Zt.draw(N.context,fe,q,N.stencilModeForClipping(Ct),ee,Ve.disabled,Oe,G.id,zt.layoutVertexBuffer,Be,Ge,G.paint,N.transform.zoom,Jt)}}}}function yo(N,Y,G,L,q,ee,ae){for(var fe=N.context,we=fe.gl,Oe=G.paint.get("fill-extrusion-pattern"),Be=Oe.constantOr(1),Ge=G.getCrossfadeParameters(),Ye=G.paint.get("fill-extrusion-opacity"),rt=0,pt=L;rt<pt.length;rt+=1){var vt=pt[rt],St=Y.getTile(vt),It=St.getBucket(G);if(It){var Ct=It.programConfigurations.get(G.id),jt=N.useProgram(Be?"fillExtrusionPattern":"fillExtrusion",Ct);Be&&(N.context.activeTexture.set(we.TEXTURE0),St.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Ct.updatePaintBuffers(Ge));var zt=Oe.constantOr(null);if(zt&&St.imageAtlas){var Jt=St.imageAtlas,Zt=Jt.patternPositions[zt.to.toString()],Gt=Jt.patternPositions[zt.from.toString()];Zt&&Gt&&Ct.setConstantPatternPositions(Zt,Gt)}var mn=N.translatePosMatrix(vt.posMatrix,St,G.paint.get("fill-extrusion-translate"),G.paint.get("fill-extrusion-translate-anchor")),_n=G.paint.get("fill-extrusion-vertical-gradient"),Cn=Be?bs(mn,N,_n,Ye,vt,Ge,St):Do(mn,N,_n,Ye);jt.draw(fe,fe.gl.TRIANGLES,q,ee,ae,Ve.backCCW,Cn,G.id,It.layoutVertexBuffer,It.indexBuffer,It.segments,G.paint,N.transform.zoom,Ct)}}}function pl(N,Y,G,L,q,ee){var ae=N.context,fe=ae.gl,we=Y.fbo;if(we){var Oe=N.useProgram("hillshade");ae.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,we.colorAttachment.get());var Be=Rc(N,Y,G);Oe.draw(ae,fe.TRIANGLES,L,q,ee,Ve.disabled,Be,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}}function Qu(N,Y,G,L,q,ee){var ae=N.context,fe=ae.gl,we=Y.dem;if(we&&we.data){var Oe=we.dim,Be=we.stride,Ge=we.getPixels();if(ae.activeTexture.set(fe.TEXTURE1),ae.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||N.getTileTexture(Be),Y.demTexture){var Ye=Y.demTexture;Ye.update(Ge,{premultiply:!1}),Ye.bind(fe.NEAREST,fe.CLAMP_TO_EDGE)}else Y.demTexture=new o.Texture(ae,Ge,fe.RGBA,{premultiply:!1}),Y.demTexture.bind(fe.NEAREST,fe.CLAMP_TO_EDGE);ae.activeTexture.set(fe.TEXTURE0);var rt=Y.fbo;if(!rt){var pt=new o.Texture(ae,{width:Oe,height:Oe,data:null},fe.RGBA);pt.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),(rt=Y.fbo=ae.createFramebuffer(Oe,Oe,!0)).colorAttachment.set(pt.texture)}ae.bindFramebuffer.set(rt.framebuffer),ae.viewport.set([0,0,Oe,Oe]),N.useProgram("hillshadePrepare").draw(ae,fe.TRIANGLES,L,q,ee,Ve.disabled,Gs(Y.tileID,we),G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function Rl(N,Y,G,L,q){var ee=L.paint.get("raster-fade-duration");if(ee>0){var ae=o.browser.now(),fe=(ae-N.timeAdded)/ee,we=Y?(ae-Y.timeAdded)/ee:-1,Oe=G.getSource(),Be=q.coveringZoomLevel({tileSize:Oe.tileSize,roundZoom:Oe.roundZoom}),Ge=!Y||Math.abs(Y.tileID.overscaledZ-Be)>Math.abs(N.tileID.overscaledZ-Be),Ye=Ge&&N.refreshedUponExpiration?1:o.clamp(Ge?fe:1-we,0,1);return N.refreshedUponExpiration&&fe>=1&&(N.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-Ye}:{opacity:Ye,mix:0}}return{opacity:1,mix:0}}var cu=new o.Color(1,0,0,1),Ya=new o.Color(0,1,0,1),fu=new o.Color(0,0,1,1),ec=new o.Color(1,0,1,1),dl=new o.Color(0,1,1,1);function Zs(N){var Y=N.transform.padding;vl(N,N.transform.height-(Y.top||0),3,cu),vl(N,Y.bottom||0,3,Ya),Ks(N,Y.left||0,3,fu),Ks(N,N.transform.width-(Y.right||0),3,ec);var G=N.transform.centerPoint;(function(L,q,ee,ae){var fe=20,we=2;Js(L,q-we/2,ee-fe/2,we,fe,ae),Js(L,q-fe/2,ee-we/2,fe,we,ae)})(N,G.x,N.transform.height-G.y,dl)}function vl(N,Y,G,L){Js(N,0,Y+G/2,N.transform.width,G,L)}function Ks(N,Y,G,L){Js(N,Y-G/2,0,G,N.transform.height,L)}function Js(N,Y,G,L,q,ee){var ae=N.context,fe=ae.gl;fe.enable(fe.SCISSOR_TEST),fe.scissor(Y*o.browser.devicePixelRatio,G*o.browser.devicePixelRatio,L*o.browser.devicePixelRatio,q*o.browser.devicePixelRatio),ae.clear({color:ee}),fe.disable(fe.SCISSOR_TEST)}function Fl(N,Y,G){var L=N.context,q=L.gl,ee=G.posMatrix,ae=N.useProgram("debug"),fe=Ft.disabled,we=Xe.disabled,Oe=N.colorModeForRenderPass(),Be="$debug";L.activeTexture.set(q.TEXTURE0),N.emptyTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),ae.draw(L,q.LINE_STRIP,fe,we,Oe,Ve.disabled,Ku(ee,o.Color.red),Be,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments);var Ge=Y.getTileByID(G.key).latestRawTileData,Ye=Ge&&Ge.byteLength||0,rt=Math.floor(Ye/1024),pt=Y.getTile(G).tileSize,vt=512/Math.min(pt,512)*(G.overscaledZ/N.transform.zoom)*.5,St=G.canonical.toString();G.overscaledZ!==G.canonical.z&&(St+=" => "+G.overscaledZ),function(It,Ct){It.initDebugOverlayCanvas();var jt=It.debugOverlayCanvas,zt=It.context.gl,Jt=It.debugOverlayCanvas.getContext("2d");Jt.clearRect(0,0,jt.width,jt.height),Jt.shadowColor="white",Jt.shadowBlur=2,Jt.lineWidth=1.5,Jt.strokeStyle="white",Jt.textBaseline="top",Jt.font="bold 36px Open Sans, sans-serif",Jt.fillText(Ct,5,5),Jt.strokeText(Ct,5,5),It.debugOverlayTexture.update(jt),It.debugOverlayTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}(N,St+" "+rt+"kb"),ae.draw(L,q.TRIANGLES,fe,we,Je.alphaBlended,Ve.disabled,Ku(ee,o.Color.transparent,vt),Be,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments)}var hu={symbol:function(N,Y,G,L,q){if(N.renderPass==="translucent"){var ee=Xe.disabled,ae=N.colorModeForRenderPass();G.layout.get("text-variable-anchor")&&function(fe,we,Oe,Be,Ge,Ye,rt){for(var pt=we.transform,vt=Ge==="map",St=Ye==="map",It=0,Ct=fe;It<Ct.length;It+=1){var jt=Ct[It],zt=Be.getTile(jt),Jt=zt.getBucket(Oe);if(Jt&&Jt.text&&Jt.text.segments.get().length){var Zt=Jt.textSizeData,Gt=o.evaluateSizeForZoom(Zt,pt.zoom),mn=er(zt,1,we.transform.zoom),_n=kn(jt.posMatrix,St,vt,we.transform,mn),Cn=Oe.layout.get("icon-text-fit")!=="none"&&Jt.hasIconData();if(Gt){var zn=Math.pow(2,pt.zoom-zt.tileID.overscaledZ);uu(Jt,vt,St,rt,o.symbolSize,pt,_n,jt.posMatrix,zn,Gt,Cn)}}}}(L,N,G,Y,G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),q),G.paint.get("icon-opacity").constantOr(1)!==0&&ks(N,Y,G,L,!1,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),G.layout.get("icon-rotation-alignment"),G.layout.get("icon-pitch-alignment"),G.layout.get("icon-keep-upright"),ee,ae),G.paint.get("text-opacity").constantOr(1)!==0&&ks(N,Y,G,L,!0,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),G.layout.get("text-rotation-alignment"),G.layout.get("text-pitch-alignment"),G.layout.get("text-keep-upright"),ee,ae),Y.map.showCollisionBoxes&&(hl(N,Y,G,L,G.paint.get("text-translate"),G.paint.get("text-translate-anchor"),!0),hl(N,Y,G,L,G.paint.get("icon-translate"),G.paint.get("icon-translate-anchor"),!1))}},circle:function(N,Y,G,L){if(N.renderPass==="translucent"){var q=G.paint.get("circle-opacity"),ee=G.paint.get("circle-stroke-width"),ae=G.paint.get("circle-stroke-opacity"),fe=G.layout.get("circle-sort-key").constantOr(1)!==void 0;if(q.constantOr(1)!==0||ee.constantOr(1)!==0&&ae.constantOr(1)!==0){for(var we=N.context,Oe=we.gl,Be=N.depthModeForSublayer(0,Ft.ReadOnly),Ge=Xe.disabled,Ye=N.colorModeForRenderPass(),rt=[],pt=0;pt<L.length;pt++){var vt=L[pt],St=Y.getTile(vt),It=St.getBucket(G);if(It){var Ct=It.programConfigurations.get(G.id),jt={programConfiguration:Ct,program:N.useProgram("circle",Ct),layoutVertexBuffer:It.layoutVertexBuffer,indexBuffer:It.indexBuffer,uniformValues:su(N,vt,St,G)};if(fe)for(var zt=0,Jt=It.segments.get();zt<Jt.length;zt+=1){var Zt=Jt[zt];rt.push({segments:new o.SegmentVector([Zt]),sortKey:Zt.sortKey,state:jt})}else rt.push({segments:It.segments,sortKey:0,state:jt})}}fe&&rt.sort(function(wr,Or){return wr.sortKey-Or.sortKey});for(var Gt=0,mn=rt;Gt<mn.length;Gt+=1){var _n=mn[Gt],Cn=_n.state,zn=Cn.programConfiguration,Wn=Cn.program,sr=Cn.layoutVertexBuffer,vr=Cn.indexBuffer,Kn=Cn.uniformValues,hr=_n.segments;Wn.draw(we,Oe.TRIANGLES,Be,Ge,Ye,Ve.disabled,Kn,G.id,sr,vr,hr,G.paint,N.transform.zoom,zn)}}}},heatmap:function(N,Y,G,L){if(G.paint.get("heatmap-opacity")!==0)if(N.renderPass==="offscreen"){var q=N.context,ee=q.gl,ae=Xe.disabled,fe=new Je([ee.ONE,ee.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(vt,St,It){var Ct=vt.gl;vt.activeTexture.set(Ct.TEXTURE1),vt.viewport.set([0,0,St.width/4,St.height/4]);var jt=It.heatmapFbo;if(jt)Ct.bindTexture(Ct.TEXTURE_2D,jt.colorAttachment.get()),vt.bindFramebuffer.set(jt.framebuffer);else{var zt=Ct.createTexture();Ct.bindTexture(Ct.TEXTURE_2D,zt),Ct.texParameteri(Ct.TEXTURE_2D,Ct.TEXTURE_WRAP_S,Ct.CLAMP_TO_EDGE),Ct.texParameteri(Ct.TEXTURE_2D,Ct.TEXTURE_WRAP_T,Ct.CLAMP_TO_EDGE),Ct.texParameteri(Ct.TEXTURE_2D,Ct.TEXTURE_MIN_FILTER,Ct.LINEAR),Ct.texParameteri(Ct.TEXTURE_2D,Ct.TEXTURE_MAG_FILTER,Ct.LINEAR),jt=It.heatmapFbo=vt.createFramebuffer(St.width/4,St.height/4,!1),function(Jt,Zt,Gt,mn){var _n=Jt.gl,Cn=Jt.extRenderToTextureHalfFloat?Jt.extTextureHalfFloat.HALF_FLOAT_OES:_n.UNSIGNED_BYTE;_n.texImage2D(_n.TEXTURE_2D,0,_n.RGBA,Zt.width/4,Zt.height/4,0,_n.RGBA,Cn,null),mn.colorAttachment.set(Gt)}(vt,St,zt,jt)}})(q,N,G),q.clear({color:o.Color.transparent});for(var we=0;we<L.length;we++){var Oe=L[we];if(!Y.hasRenderableParent(Oe)){var Be=Y.getTile(Oe),Ge=Be.getBucket(G);if(Ge){var Ye=Ge.programConfigurations.get(G.id),rt=N.useProgram("heatmap",Ye),pt=N.transform.zoom;rt.draw(q,ee.TRIANGLES,Ft.disabled,ae,fe,Ve.disabled,Ju(Oe.posMatrix,Be,pt,G.paint.get("heatmap-intensity")),G.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,G.paint,N.transform.zoom,Ye)}}}q.viewport.set([0,0,N.width,N.height])}else N.renderPass==="translucent"&&(N.context.setColorMode(N.colorModeForRenderPass()),function(vt,St){var It=vt.context,Ct=It.gl,jt=St.heatmapFbo;if(jt){It.activeTexture.set(Ct.TEXTURE0),Ct.bindTexture(Ct.TEXTURE_2D,jt.colorAttachment.get()),It.activeTexture.set(Ct.TEXTURE1);var zt=St.colorRampTexture;zt||(zt=St.colorRampTexture=new o.Texture(It,St.colorRamp,Ct.RGBA)),zt.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(It,Ct.TRIANGLES,Ft.disabled,Xe.disabled,vt.colorModeForRenderPass(),Ve.disabled,Dc(vt,St,0,1),St.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,St.paint,vt.transform.zoom)}}(N,G))},line:function(N,Y,G,L){if(N.renderPass==="translucent"){var q=G.paint.get("line-opacity"),ee=G.paint.get("line-width");if(q.constantOr(1)!==0&&ee.constantOr(1)!==0)for(var ae=N.depthModeForSublayer(0,Ft.ReadOnly),fe=N.colorModeForRenderPass(),we=G.paint.get("line-dasharray"),Oe=G.paint.get("line-pattern"),Be=Oe.constantOr(1),Ge=G.paint.get("line-gradient"),Ye=G.getCrossfadeParameters(),rt=Be?"linePattern":we?"lineSDF":Ge?"lineGradient":"line",pt=N.context,vt=pt.gl,St=!0,It=0,Ct=L;It<Ct.length;It+=1){var jt=Ct[It],zt=Y.getTile(jt);if(!Be||zt.patternsLoaded()){var Jt=zt.getBucket(G);if(Jt){var Zt=Jt.programConfigurations.get(G.id),Gt=N.context.program.get(),mn=N.useProgram(rt,Zt),_n=St||mn.program!==Gt,Cn=Oe.constantOr(null);if(Cn&&zt.imageAtlas){var zn=zt.imageAtlas,Wn=zn.patternPositions[Cn.to.toString()],sr=zn.patternPositions[Cn.from.toString()];Wn&&sr&&Zt.setConstantPatternPositions(Wn,sr)}var vr=Be?Ws(N,zt,G,Ye):we?Dl(N,zt,G,we,Ye):Ge?cl(N,zt,G,Jt.lineClipsArray.length):Fo(N,zt,G);if(Be)pt.activeTexture.set(vt.TEXTURE0),zt.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Zt.updatePaintBuffers(Ye);else if(we&&(_n||N.lineAtlas.dirty))pt.activeTexture.set(vt.TEXTURE0),N.lineAtlas.bind(pt);else if(Ge){var Kn=Jt.gradients[G.id],hr=Kn.texture;if(G.gradientVersion!==Kn.version){var wr=256;if(G.stepInterpolant){var Or=Y.getSource().maxzoom,or=jt.canonical.z===Or?Math.ceil(1<<N.transform.maxZoom-jt.canonical.z):1,fr=Jt.maxLineLength/o.EXTENT*1024*or;wr=o.clamp(o.nextPowerOfTwo(fr),256,pt.maxTextureSize)}Kn.gradient=o.renderColorRamp({expression:G.gradientExpression(),evaluationKey:"lineProgress",resolution:wr,image:Kn.gradient||void 0,clips:Jt.lineClipsArray}),Kn.texture?Kn.texture.update(Kn.gradient):Kn.texture=new o.Texture(pt,Kn.gradient,vt.RGBA),Kn.version=G.gradientVersion,hr=Kn.texture}pt.activeTexture.set(vt.TEXTURE0),hr.bind(G.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}mn.draw(pt,vt.TRIANGLES,ae,N.stencilModeForClipping(jt),fe,Ve.disabled,vr,G.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,G.paint,N.transform.zoom,Zt,Jt.layoutVertexBuffer2),St=!1}}}}},fill:function(N,Y,G,L){var q=G.paint.get("fill-color"),ee=G.paint.get("fill-opacity");if(ee.constantOr(1)!==0){var ae=N.colorModeForRenderPass(),fe=G.paint.get("fill-pattern"),we=N.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&q.constantOr(o.Color.transparent).a===1&&ee.constantOr(0)===1?"opaque":"translucent";if(N.renderPass===we){var Oe=N.depthModeForSublayer(1,N.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);ts(N,Y,G,L,Oe,ae,!1)}if(N.renderPass==="translucent"&&G.paint.get("fill-antialias")){var Be=N.depthModeForSublayer(G.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);ts(N,Y,G,L,Be,ae,!0)}}},"fill-extrusion":function(N,Y,G,L){var q=G.paint.get("fill-extrusion-opacity");if(q!==0&&N.renderPass==="translucent"){var ee=new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D);if(q!==1||G.paint.get("fill-extrusion-pattern").constantOr(1))yo(N,Y,G,L,ee,Xe.disabled,Je.disabled),yo(N,Y,G,L,ee,N.stencilModeFor3D(),N.colorModeForRenderPass());else{var ae=N.colorModeForRenderPass();yo(N,Y,G,L,ee,Xe.disabled,ae)}}},hillshade:function(N,Y,G,L){if(N.renderPass==="offscreen"||N.renderPass==="translucent"){for(var q=N.context,ee=N.depthModeForSublayer(0,Ft.ReadOnly),ae=N.colorModeForRenderPass(),fe=N.renderPass==="translucent"?N.stencilConfigForOverlap(L):[{},L],we=fe[0],Oe=0,Be=fe[1];Oe<Be.length;Oe+=1){var Ge=Be[Oe],Ye=Y.getTile(Ge);Ye.needsHillshadePrepare&&N.renderPass==="offscreen"?Qu(N,Ye,G,ee,Xe.disabled,ae):N.renderPass==="translucent"&&pl(N,Ye,G,ee,we[Ge.overscaledZ],ae)}q.viewport.set([0,0,N.width,N.height])}},raster:function(N,Y,G,L){if(N.renderPass==="translucent"&&G.paint.get("raster-opacity")!==0&&L.length)for(var q=N.context,ee=q.gl,ae=Y.getSource(),fe=N.useProgram("raster"),we=N.colorModeForRenderPass(),Oe=ae instanceof F?[{},L]:N.stencilConfigForOverlap(L),Be=Oe[0],Ge=Oe[1],Ye=Ge[Ge.length-1].overscaledZ,rt=!N.options.moving,pt=0,vt=Ge;pt<vt.length;pt+=1){var St=vt[pt],It=N.depthModeForSublayer(St.overscaledZ-Ye,G.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,ee.LESS),Ct=Y.getTile(St),jt=N.transform.calculatePosMatrix(St.toUnwrapped(),rt);Ct.registerFadeDuration(G.paint.get("raster-fade-duration"));var zt=Y.findLoadedParent(St,0),Jt=Rl(Ct,zt,Y,G,N.transform),Zt=void 0,Gt=void 0,mn=G.paint.get("raster-resampling")==="nearest"?ee.NEAREST:ee.LINEAR;q.activeTexture.set(ee.TEXTURE0),Ct.texture.bind(mn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),q.activeTexture.set(ee.TEXTURE1),zt?(zt.texture.bind(mn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),Zt=Math.pow(2,zt.tileID.overscaledZ-Ct.tileID.overscaledZ),Gt=[Ct.tileID.canonical.x*Zt%1,Ct.tileID.canonical.y*Zt%1]):Ct.texture.bind(mn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST);var _n=Lu(jt,Gt||[0,0],Zt||1,Jt,G);ae instanceof F?fe.draw(q,ee.TRIANGLES,It,Xe.disabled,we,Ve.disabled,_n,G.id,ae.boundsBuffer,N.quadTriangleIndexBuffer,ae.boundsSegments):fe.draw(q,ee.TRIANGLES,It,Be[St.overscaledZ],we,Ve.disabled,_n,G.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}},background:function(N,Y,G){var L=G.paint.get("background-color"),q=G.paint.get("background-opacity");if(q!==0){var ee=N.context,ae=ee.gl,fe=N.transform,we=fe.tileSize,Oe=G.paint.get("background-pattern");if(!N.isPatternMissing(Oe)){var Be=!Oe&&L.a===1&&q===1&&N.opaquePassEnabledForLayer()?"opaque":"translucent";if(N.renderPass===Be){var Ge=Xe.disabled,Ye=N.depthModeForSublayer(0,Be==="opaque"?Ft.ReadWrite:Ft.ReadOnly),rt=N.colorModeForRenderPass(),pt=N.useProgram(Oe?"backgroundPattern":"background"),vt=fe.coveringTiles({tileSize:we});Oe&&(ee.activeTexture.set(ae.TEXTURE0),N.imageManager.bind(N.context));for(var St=G.getCrossfadeParameters(),It=0,Ct=vt;It<Ct.length;It+=1){var jt=Ct[It],zt=N.transform.calculatePosMatrix(jt.toUnwrapped()),Jt=Oe?Fc(zt,q,N,Oe,{tileID:jt,tileSize:we},St):fl(zt,q,L);pt.draw(ee,ae.TRIANGLES,Ye,Ge,rt,Ve.disabled,Jt,G.id,N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}}}},debug:function(N,Y,G){for(var L=0;L<G.length;L++)Fl(N,Y,G[L])},custom:function(N,Y,G){var L=N.context,q=G.implementation;if(N.renderPass==="offscreen"){var ee=q.prerender;ee&&(N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),ee.call(q,L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState())}else if(N.renderPass==="translucent"){N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),L.setStencilMode(Xe.disabled);var ae=q.renderingMode==="3d"?new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D):N.depthModeForSublayer(0,Ft.ReadOnly);L.setDepthMode(ae),q.render(L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState(),L.bindFramebuffer.set(null)}}},li=function(N,Y){this.context=new Ke(N),this.transform=Y,this._tileTextures={},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Rn,this.gpuTimers={}};li.prototype.resize=function(N,Y){if(this.width=N*o.browser.devicePixelRatio,this.height=Y*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var G=0,L=this.style._order;G<L.length;G+=1){var q=L[G];this.style._layers[q].resize()}},li.prototype.setup=function(){var N=this.context,Y=new o.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(o.EXTENT,0),Y.emplaceBack(0,o.EXTENT),Y.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=N.createVertexBuffer(Y,Jn.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var G=new o.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(o.EXTENT,0),G.emplaceBack(0,o.EXTENT),G.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=N.createVertexBuffer(G,Jn.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var L=new o.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(o.EXTENT,0,o.EXTENT,0),L.emplaceBack(0,o.EXTENT,0,o.EXTENT),L.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=N.createVertexBuffer(L,X.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var q=new o.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(1,0),q.emplaceBack(0,1),q.emplaceBack(1,1),this.viewportBuffer=N.createVertexBuffer(q,Jn.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var ee=new o.StructArrayLayout1ui2;ee.emplaceBack(0),ee.emplaceBack(1),ee.emplaceBack(3),ee.emplaceBack(2),ee.emplaceBack(0),this.tileBorderIndexBuffer=N.createIndexBuffer(ee);var ae=new o.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=N.createIndexBuffer(ae),this.emptyTexture=new o.Texture(N,{width:1,height:1,data:new Uint8Array([0,0,0,0])},N.gl.RGBA);var fe=this.context.gl;this.stencilClearMode=new Xe({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO)},li.prototype.clearStencil=function(){var N=this.context,Y=N.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var G=o.create();o.ortho(G,0,this.width,this.height,0,0,1),o.scale(G,G,[Y.drawingBufferWidth,Y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(N,Y.TRIANGLES,Ft.disabled,this.stencilClearMode,Je.disabled,Ve.disabled,qs(G),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},li.prototype._renderTileClippingMasks=function(N,Y){if(this.currentStencilSource!==N.source&&N.isTileClipped()&&Y&&Y.length){this.currentStencilSource=N.source;var G=this.context,L=G.gl;this.nextStencilID+Y.length>256&&this.clearStencil(),G.setColorMode(Je.disabled),G.setDepthMode(Ft.disabled);var q=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ee=0,ae=Y;ee<ae.length;ee+=1){var fe=ae[ee],we=this._tileClippingMaskIDs[fe.key]=this.nextStencilID++;q.draw(G,L.TRIANGLES,Ft.disabled,new Xe({func:L.ALWAYS,mask:0},we,255,L.KEEP,L.KEEP,L.REPLACE),Je.disabled,Ve.disabled,qs(fe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},li.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var N=this.nextStencilID++,Y=this.context.gl;return new Xe({func:Y.NOTEQUAL,mask:255},N,255,Y.KEEP,Y.KEEP,Y.REPLACE)},li.prototype.stencilModeForClipping=function(N){var Y=this.context.gl;return new Xe({func:Y.EQUAL,mask:255},this._tileClippingMaskIDs[N.key],0,Y.KEEP,Y.KEEP,Y.REPLACE)},li.prototype.stencilConfigForOverlap=function(N){var Y,G=this.context.gl,L=N.sort(function(we,Oe){return Oe.overscaledZ-we.overscaledZ}),q=L[L.length-1].overscaledZ,ee=L[0].overscaledZ-q+1;if(ee>1){this.currentStencilSource=void 0,this.nextStencilID+ee>256&&this.clearStencil();for(var ae={},fe=0;fe<ee;fe++)ae[fe+q]=new Xe({func:G.GEQUAL,mask:255},fe+this.nextStencilID,255,G.KEEP,G.KEEP,G.REPLACE);return this.nextStencilID+=ee,[ae,L]}return[(Y={},Y[q]=Xe.disabled,Y),L]},li.prototype.colorModeForRenderPass=function(){var N=this.context.gl;if(this._showOverdrawInspector){var Y=.125;return new Je([N.CONSTANT_COLOR,N.ONE],new o.Color(Y,Y,Y,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Je.unblended:Je.alphaBlended},li.prototype.depthModeForSublayer=function(N,Y,G){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+N)*this.depthEpsilon;return new Ft(G||this.context.gl.LEQUAL,Y,[L,L])},li.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},li.prototype.render=function(N,Y){var G=this;this.style=N,this.options=Y,this.lineAtlas=N.lineAtlas,this.imageManager=N.imageManager,this.glyphManager=N.glyphManager,this.symbolFadeChange=N.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var L=this.style._order,q=this.style.sourceCaches;for(var ee in q){var ae=q[ee];ae.used&&ae.prepare(this.context)}var fe,we,Oe={},Be={},Ge={};for(var Ye in q){var rt=q[Ye];Oe[Ye]=rt.getVisibleCoordinates(),Be[Ye]=Oe[Ye].slice().reverse(),Ge[Ye]=rt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var pt=0;pt<L.length;pt++){var vt=L[pt];if(this.style._layers[vt].is3D()){this.opaquePassCutoff=pt;break}}this.renderPass="offscreen";for(var St=0,It=L;St<It.length;St+=1){var Ct=It[St],jt=this.style._layers[Ct];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var zt=Be[jt.source];(jt.type==="custom"||zt.length)&&this.renderLayer(this,q[jt.source],jt,zt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Y.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(N._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var Jt=this.style._layers[L[this.currentLayer]],Zt=q[Jt.source],Gt=Oe[Jt.source];this._renderTileClippingMasks(Jt,Gt),this.renderLayer(this,Zt,Jt,Gt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var mn=this.style._layers[L[this.currentLayer]],_n=q[mn.source],Cn=(mn.type==="symbol"?Ge:Be)[mn.source];this._renderTileClippingMasks(mn,Oe[mn.source]),this.renderLayer(this,_n,mn,Cn)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(zn){zn.source&&!zn.isHidden(G.transform.zoom)&&(zn.source!==(we&&we.id)&&(we=G.style.sourceCaches[zn.source]),(!fe||fe.getSource().maxzoom<we.getSource().maxzoom)&&(fe=we))}),fe&&hu.debug(this,fe,fe.getVisibleCoordinates())),this.options.showPadding&&Zs(this),this.context.setDefault()},li.prototype.renderLayer=function(N,Y,G,L){G.isHidden(this.transform.zoom)||(G.type==="background"||G.type==="custom"||L.length)&&(this.id=G.id,this.gpuTimingStart(G),hu[G.type](N,Y,G,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},li.prototype.gpuTimingStart=function(N){if(this.options.gpuTiming){var Y=this.context.extTimerQuery,G=this.gpuTimers[N.id];G||(G=this.gpuTimers[N.id]={calls:0,cpuTime:0,query:Y.createQueryEXT()}),G.calls++,Y.beginQueryEXT(Y.TIME_ELAPSED_EXT,G.query)}},li.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var N=this.context.extTimerQuery;N.endQueryEXT(N.TIME_ELAPSED_EXT)}},li.prototype.collectGpuTimers=function(){var N=this.gpuTimers;return this.gpuTimers={},N},li.prototype.queryGpuTimers=function(N){var Y={};for(var G in N){var L=N[G],q=this.context.extTimerQuery,ee=q.getQueryObjectEXT(L.query,q.QUERY_RESULT_EXT)/1e6;q.deleteQueryEXT(L.query),Y[G]=ee}return Y},li.prototype.translatePosMatrix=function(N,Y,G,L,q){if(!G[0]&&!G[1])return N;var ee=q?L==="map"?this.transform.angle:0:L==="viewport"?-this.transform.angle:0;if(ee){var ae=Math.sin(ee),fe=Math.cos(ee);G=[G[0]*fe-G[1]*ae,G[0]*ae+G[1]*fe]}var we=[q?G[0]:er(Y,G[0],this.transform.zoom),q?G[1]:er(Y,G[1],this.transform.zoom),0],Oe=new Float32Array(16);return o.translate(Oe,N,we),Oe},li.prototype.saveTileTexture=function(N){var Y=this._tileTextures[N.size[0]];Y?Y.push(N):this._tileTextures[N.size[0]]=[N]},li.prototype.getTileTexture=function(N){var Y=this._tileTextures[N];return Y&&Y.length>0?Y.pop():null},li.prototype.isPatternMissing=function(N){if(!N)return!1;if(!N.from||!N.to)return!0;var Y=this.imageManager.getPattern(N.from.toString()),G=this.imageManager.getPattern(N.to.toString());return!Y||!G},li.prototype.useProgram=function(N,Y){this.cache=this.cache||{};var G=""+N+(Y?Y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[G]||(this.cache[G]=new vo(this.context,N,Qi[N],Y,lu[N],this._showOverdrawInspector)),this.cache[G]},li.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},li.prototype.setBaseState=function(){var N=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(N.FUNC_ADD)},li.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var N=this.context.gl;this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,N.RGBA)}},li.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var As=function(N,Y){this.points=N,this.planes=Y};As.fromInvProjectionMatrix=function(N,Y,G){var L=Math.pow(2,G),q=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ae){return o.transformMat4([],ae,N)}).map(function(ae){return o.scale$1([],ae,1/ae[3]/Y*L)}),ee=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ae){var fe=o.sub([],q[ae[0]],q[ae[1]]),we=o.sub([],q[ae[2]],q[ae[1]]),Oe=o.normalize([],o.cross([],fe,we)),Be=-o.dot(Oe,q[ae[1]]);return Oe.concat(Be)});return new As(q,ee)};var ga=function(N,Y){this.min=N,this.max=Y,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};ga.prototype.quadrant=function(N){for(var Y=[N%2==0,N<2],G=o.clone$2(this.min),L=o.clone$2(this.max),q=0;q<Y.length;q++)G[q]=Y[q]?this.min[q]:this.center[q],L[q]=Y[q]?this.center[q]:this.max[q];return L[2]=this.max[2],new ga(G,L)},ga.prototype.distanceX=function(N){return Math.max(Math.min(this.max[0],N[0]),this.min[0])-N[0]},ga.prototype.distanceY=function(N){return Math.max(Math.min(this.max[1],N[1]),this.min[1])-N[1]},ga.prototype.intersects=function(N){for(var Y=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],G=!0,L=0;L<N.planes.length;L++){for(var q=N.planes[L],ee=0,ae=0;ae<Y.length;ae++)ee+=o.dot$1(q,Y[ae])>=0;if(ee===0)return 0;ee!==Y.length&&(G=!1)}if(G)return 2;for(var fe=0;fe<3;fe++){for(var we=Number.MAX_VALUE,Oe=-Number.MAX_VALUE,Be=0;Be<N.points.length;Be++){var Ge=N.points[Be][fe]-this.min[fe];we=Math.min(we,Ge),Oe=Math.max(Oe,Ge)}if(Oe<0||we>this.max[fe]-this.min[fe])return 0}return 1};var xo=function(N,Y,G,L){if(N===void 0&&(N=0),Y===void 0&&(Y=0),G===void 0&&(G=0),L===void 0&&(L=0),isNaN(N)||N<0||isNaN(Y)||Y<0||isNaN(G)||G<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=N,this.bottom=Y,this.left=G,this.right=L};xo.prototype.interpolate=function(N,Y,G){return Y.top!=null&&N.top!=null&&(this.top=o.number(N.top,Y.top,G)),Y.bottom!=null&&N.bottom!=null&&(this.bottom=o.number(N.bottom,Y.bottom,G)),Y.left!=null&&N.left!=null&&(this.left=o.number(N.left,Y.left,G)),Y.right!=null&&N.right!=null&&(this.right=o.number(N.right,Y.right,G)),this},xo.prototype.getCenter=function(N,Y){var G=o.clamp((this.left+N-this.right)/2,0,N),L=o.clamp((this.top+Y-this.bottom)/2,0,Y);return new o.Point(G,L)},xo.prototype.equals=function(N){return this.top===N.top&&this.bottom===N.bottom&&this.left===N.left&&this.right===N.right},xo.prototype.clone=function(){return new xo(this.top,this.bottom,this.left,this.right)},xo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ni=function(N,Y,G,L,q){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=q===void 0||q,this._minZoom=N||0,this._maxZoom=Y||22,this._minPitch=G??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xo,this._posMatrixCache={},this._alignedPosMatrixCache={}},si={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ni.prototype.clone=function(){var N=new ni(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return N.tileSize=this.tileSize,N.latRange=this.latRange,N.width=this.width,N.height=this.height,N._center=this._center,N.zoom=this.zoom,N.angle=this.angle,N._fov=this._fov,N._pitch=this._pitch,N._unmodified=this._unmodified,N._edgeInsets=this._edgeInsets.clone(),N._calcMatrices(),N},si.minZoom.get=function(){return this._minZoom},si.minZoom.set=function(N){this._minZoom!==N&&(this._minZoom=N,this.zoom=Math.max(this.zoom,N))},si.maxZoom.get=function(){return this._maxZoom},si.maxZoom.set=function(N){this._maxZoom!==N&&(this._maxZoom=N,this.zoom=Math.min(this.zoom,N))},si.minPitch.get=function(){return this._minPitch},si.minPitch.set=function(N){this._minPitch!==N&&(this._minPitch=N,this.pitch=Math.max(this.pitch,N))},si.maxPitch.get=function(){return this._maxPitch},si.maxPitch.set=function(N){this._maxPitch!==N&&(this._maxPitch=N,this.pitch=Math.min(this.pitch,N))},si.renderWorldCopies.get=function(){return this._renderWorldCopies},si.renderWorldCopies.set=function(N){N===void 0?N=!0:N===null&&(N=!1),this._renderWorldCopies=N},si.worldSize.get=function(){return this.tileSize*this.scale},si.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},si.size.get=function(){return new o.Point(this.width,this.height)},si.bearing.get=function(){return-this.angle/Math.PI*180},si.bearing.set=function(N){var Y=-o.wrap(N,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},si.pitch.get=function(){return this._pitch/Math.PI*180},si.pitch.set=function(N){var Y=o.clamp(N,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},si.fov.get=function(){return this._fov/Math.PI*180},si.fov.set=function(N){N=Math.max(.01,Math.min(60,N)),this._fov!==N&&(this._unmodified=!1,this._fov=N/180*Math.PI,this._calcMatrices())},si.zoom.get=function(){return this._zoom},si.zoom.set=function(N){var Y=Math.min(Math.max(N,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},si.center.get=function(){return this._center},si.center.set=function(N){N.lat===this._center.lat&&N.lng===this._center.lng||(this._unmodified=!1,this._center=N,this._constrain(),this._calcMatrices())},si.padding.get=function(){return this._edgeInsets.toJSON()},si.padding.set=function(N){this._edgeInsets.equals(N)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,N,1),this._calcMatrices())},si.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ni.prototype.isPaddingEqual=function(N){return this._edgeInsets.equals(N)},ni.prototype.interpolatePadding=function(N,Y,G){this._unmodified=!1,this._edgeInsets.interpolate(N,Y,G),this._constrain(),this._calcMatrices()},ni.prototype.coveringZoomLevel=function(N){var Y=(N.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/N.tileSize));return Math.max(0,Y)},ni.prototype.getVisibleUnwrappedCoordinates=function(N){var Y=[new o.UnwrappedTileID(0,N)];if(this._renderWorldCopies)for(var G=this.pointCoordinate(new o.Point(0,0)),L=this.pointCoordinate(new o.Point(this.width,0)),q=this.pointCoordinate(new o.Point(this.width,this.height)),ee=this.pointCoordinate(new o.Point(0,this.height)),ae=Math.floor(Math.min(G.x,L.x,q.x,ee.x)),fe=Math.floor(Math.max(G.x,L.x,q.x,ee.x)),we=ae-1;we<=fe+1;we++)we!==0&&Y.push(new o.UnwrappedTileID(we,N));return Y},ni.prototype.coveringTiles=function(N){var Y=this.coveringZoomLevel(N),G=Y;if(N.minzoom!==void 0&&Y<N.minzoom)return[];N.maxzoom!==void 0&&Y>N.maxzoom&&(Y=N.maxzoom);var L=o.MercatorCoordinate.fromLngLat(this.center),q=Math.pow(2,Y),ee=[q*L.x,q*L.y,0],ae=As.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Y),fe=N.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(fe=Y);var we=function(Cn){return{aabb:new ga([Cn*q,0,0],[(Cn+1)*q,q,0]),zoom:0,x:0,y:0,wrap:Cn,fullyVisible:!1}},Oe=[],Be=[],Ge=Y,Ye=N.reparseOverscaled?G:Y;if(this._renderWorldCopies)for(var rt=1;rt<=3;rt++)Oe.push(we(-rt)),Oe.push(we(rt));for(Oe.push(we(0));Oe.length>0;){var pt=Oe.pop(),vt=pt.x,St=pt.y,It=pt.fullyVisible;if(!It){var Ct=pt.aabb.intersects(ae);if(Ct===0)continue;It=Ct===2}var jt=pt.aabb.distanceX(ee),zt=pt.aabb.distanceY(ee),Jt=Math.max(Math.abs(jt),Math.abs(zt)),Zt=3+(1<<Ge-pt.zoom)-2;if(pt.zoom===Ge||Jt>Zt&&pt.zoom>=fe)Be.push({tileID:new o.OverscaledTileID(pt.zoom===Ge?Ye:pt.zoom,pt.wrap,pt.zoom,vt,St),distanceSq:o.sqrLen([ee[0]-.5-vt,ee[1]-.5-St])});else for(var Gt=0;Gt<4;Gt++){var mn=(vt<<1)+Gt%2,_n=(St<<1)+(Gt>>1);Oe.push({aabb:pt.aabb.quadrant(Gt),zoom:pt.zoom+1,x:mn,y:_n,wrap:pt.wrap,fullyVisible:It})}}return Be.sort(function(Cn,zn){return Cn.distanceSq-zn.distanceSq}).map(function(Cn){return Cn.tileID})},ni.prototype.resize=function(N,Y){this.width=N,this.height=Y,this.pixelsToGLUnits=[2/N,-2/Y],this._constrain(),this._calcMatrices()},si.unmodified.get=function(){return this._unmodified},ni.prototype.zoomScale=function(N){return Math.pow(2,N)},ni.prototype.scaleZoom=function(N){return Math.log(N)/Math.LN2},ni.prototype.project=function(N){var Y=o.clamp(N.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(N.lng)*this.worldSize,o.mercatorYfromLat(Y)*this.worldSize)},ni.prototype.unproject=function(N){return new o.MercatorCoordinate(N.x/this.worldSize,N.y/this.worldSize).toLngLat()},si.point.get=function(){return this.project(this.center)},ni.prototype.setLocationAtPoint=function(N,Y){var G=this.pointCoordinate(Y),L=this.pointCoordinate(this.centerPoint),q=this.locationCoordinate(N),ee=new o.MercatorCoordinate(q.x-(G.x-L.x),q.y-(G.y-L.y));this.center=this.coordinateLocation(ee),this._renderWorldCopies&&(this.center=this.center.wrap())},ni.prototype.locationPoint=function(N){return this.coordinatePoint(this.locationCoordinate(N))},ni.prototype.pointLocation=function(N){return this.coordinateLocation(this.pointCoordinate(N))},ni.prototype.locationCoordinate=function(N){return o.MercatorCoordinate.fromLngLat(N)},ni.prototype.coordinateLocation=function(N){return N.toLngLat()},ni.prototype.pointCoordinate=function(N){var Y=[N.x,N.y,0,1],G=[N.x,N.y,1,1];o.transformMat4(Y,Y,this.pixelMatrixInverse),o.transformMat4(G,G,this.pixelMatrixInverse);var L=Y[3],q=G[3],ee=Y[0]/L,ae=G[0]/q,fe=Y[1]/L,we=G[1]/q,Oe=Y[2]/L,Be=G[2]/q,Ge=Oe===Be?0:(0-Oe)/(Be-Oe);return new o.MercatorCoordinate(o.number(ee,ae,Ge)/this.worldSize,o.number(fe,we,Ge)/this.worldSize)},ni.prototype.coordinatePoint=function(N){var Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return o.transformMat4(Y,Y,this.pixelMatrix),new o.Point(Y[0]/Y[3],Y[1]/Y[3])},ni.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},ni.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ni.prototype.setMaxBounds=function(N){N?(this.lngRange=[N.getWest(),N.getEast()],this.latRange=[N.getSouth(),N.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ni.prototype.calculatePosMatrix=function(N,Y){Y===void 0&&(Y=!1);var G=N.key,L=Y?this._alignedPosMatrixCache:this._posMatrixCache;if(L[G])return L[G];var q=N.canonical,ee=this.worldSize/this.zoomScale(q.z),ae=q.x+Math.pow(2,q.z)*N.wrap,fe=o.identity(new Float64Array(16));return o.translate(fe,fe,[ae*ee,q.y*ee,0]),o.scale(fe,fe,[ee/o.EXTENT,ee/o.EXTENT,1]),o.multiply(fe,Y?this.alignedProjMatrix:this.projMatrix,fe),L[G]=new Float32Array(fe),L[G]},ni.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ni.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var N,Y,G,L,q=-90,ee=90,ae=-180,fe=180,we=this.size,Oe=this._unmodified;if(this.latRange){var Be=this.latRange;q=o.mercatorYfromLat(Be[1])*this.worldSize,N=(ee=o.mercatorYfromLat(Be[0])*this.worldSize)-q<we.y?we.y/(ee-q):0}if(this.lngRange){var Ge=this.lngRange;ae=o.mercatorXfromLng(Ge[0])*this.worldSize,Y=(fe=o.mercatorXfromLng(Ge[1])*this.worldSize)-ae<we.x?we.x/(fe-ae):0}var Ye=this.point,rt=Math.max(Y||0,N||0);if(rt)return this.center=this.unproject(new o.Point(Y?(fe+ae)/2:Ye.x,N?(ee+q)/2:Ye.y)),this.zoom+=this.scaleZoom(rt),this._unmodified=Oe,void(this._constraining=!1);if(this.latRange){var pt=Ye.y,vt=we.y/2;pt-vt<q&&(L=q+vt),pt+vt>ee&&(L=ee-vt)}if(this.lngRange){var St=Ye.x,It=we.x/2;St-It<ae&&(G=ae+It),St+It>fe&&(G=fe-It)}G===void 0&&L===void 0||(this.center=this.unproject(new o.Point(G!==void 0?G:Ye.x,L!==void 0?L:Ye.y))),this._unmodified=Oe,this._constraining=!1}},ni.prototype._calcMatrices=function(){if(this.height){var N=this._fov/2,Y=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(N)*this.height;var G=Math.PI/2+this._pitch,L=this._fov*(.5+Y.y/this.height),q=Math.sin(L)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-G-L,.01,Math.PI-.01)),ee=this.point,ae=ee.x,fe=ee.y,we=1.01*(Math.cos(Math.PI/2-this._pitch)*q+this.cameraToCenterDistance),Oe=this.height/50,Be=new Float64Array(16);o.perspective(Be,this._fov,this.width/this.height,Oe,we),Be[8]=2*-Y.x/this.width,Be[9]=2*Y.y/this.height,o.scale(Be,Be,[1,-1,1]),o.translate(Be,Be,[0,0,-this.cameraToCenterDistance]),o.rotateX(Be,Be,this._pitch),o.rotateZ(Be,Be,this.angle),o.translate(Be,Be,[-ae,-fe,0]),this.mercatorMatrix=o.scale([],Be,[this.worldSize,this.worldSize,this.worldSize]),o.scale(Be,Be,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Be,this.invProjMatrix=o.invert([],this.projMatrix);var Ge=this.width%2/2,Ye=this.height%2/2,rt=Math.cos(this.angle),pt=Math.sin(this.angle),vt=ae-Math.round(ae)+rt*Ge+pt*Ye,St=fe-Math.round(fe)+rt*Ye+pt*Ge,It=new Float64Array(Be);if(o.translate(It,It,[vt>.5?vt-1:vt,St>.5?St-1:St,0]),this.alignedProjMatrix=It,Be=o.create(),o.scale(Be,Be,[this.width/2,-this.height/2,1]),o.translate(Be,Be,[1,-1,0]),this.labelPlaneMatrix=Be,Be=o.create(),o.scale(Be,Be,[1,-1,1]),o.translate(Be,Be,[-1,-1,0]),o.scale(Be,Be,[2/this.width,2/this.height,1]),this.glCoordMatrix=Be,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Be=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Be,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ni.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var N=this.pointCoordinate(new o.Point(0,0)),Y=[N.x*this.worldSize,N.y*this.worldSize,0,1];return o.transformMat4(Y,Y,this.pixelMatrix)[3]/this.cameraToCenterDistance},ni.prototype.getCameraPoint=function(){var N=this._pitch,Y=Math.tan(N)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,Y))},ni.prototype.getCameraQueryGeometry=function(N){var Y=this.getCameraPoint();if(N.length===1)return[N[0],Y];for(var G=Y.x,L=Y.y,q=Y.x,ee=Y.y,ae=0,fe=N;ae<fe.length;ae+=1){var we=fe[ae];G=Math.min(G,we.x),L=Math.min(L,we.y),q=Math.max(q,we.x),ee=Math.max(ee,we.y)}return[new o.Point(G,L),new o.Point(q,L),new o.Point(q,ee),new o.Point(G,ee),new o.Point(G,L)]},Object.defineProperties(ni.prototype,si);var Xa=function(N){var Y,G,L,q,ee;this._hashName=N&&encodeURIComponent(N),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Y=this._updateHashUnthrottled.bind(this),G=300,L=!1,q=null,ee=function(){q=null,L&&(Y(),q=setTimeout(ee,G),L=!1)},function(){return L=!0,q||ee(),q})};Xa.prototype.addTo=function(N){return this._map=N,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Xa.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Xa.prototype.getHashString=function(N){var Y=this._map.getCenter(),G=Math.round(100*this._map.getZoom())/100,L=Math.ceil((G*Math.LN2+Math.log(512/360/.5))/Math.LN10),q=Math.pow(10,L),ee=Math.round(Y.lng*q)/q,ae=Math.round(Y.lat*q)/q,fe=this._map.getBearing(),we=this._map.getPitch(),Oe="";if(Oe+=N?"/"+ee+"/"+ae+"/"+G:G+"/"+ae+"/"+ee,(fe||we)&&(Oe+="/"+Math.round(10*fe)/10),we&&(Oe+="/"+Math.round(we)),this._hashName){var Be=this._hashName,Ge=!1,Ye=o.window.location.hash.slice(1).split("&").map(function(rt){var pt=rt.split("=")[0];return pt===Be?(Ge=!0,pt+"="+Oe):rt}).filter(function(rt){return rt});return Ge||Ye.push(Be+"="+Oe),"#"+Ye.join("&")}return"#"+Oe},Xa.prototype._getCurrentHash=function(){var N,Y=this,G=o.window.location.hash.replace("#","");return this._hashName?(G.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===Y._hashName&&(N=L)}),(N&&N[1]||"").split("/")):G.split("/")},Xa.prototype._onHashChange=function(){var N=this._getCurrentHash();if(N.length>=3&&!N.some(function(G){return isNaN(G)})){var Y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(N[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+N[2],+N[1]],zoom:+N[0],bearing:Y,pitch:+(N[4]||0)}),!0}return!1},Xa.prototype._updateHashUnthrottled=function(){var N=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,N)}catch{}};var ml={linearity:.3,easing:o.bezier(0,0,.3,1)},Bl=o.extend({deceleration:2500,maxSpeed:1400},ml),pu=o.extend({deceleration:20,maxSpeed:1400},ml),Nl=o.extend({deceleration:1e3,maxSpeed:360},ml),jl=o.extend({deceleration:1e3,maxSpeed:90},ml),ro=function(N){this._map=N,this.clear()};function Ms(N,Y){(!N.duration||N.duration<Y.duration)&&(N.duration=Y.duration,N.easing=Y.easing)}function Ss(N,Y,G){var L=G.maxSpeed,q=G.linearity,ee=G.deceleration,ae=o.clamp(N*q/(Y/1e3),-L,L),fe=Math.abs(ae)/(ee*q);return{easing:G.easing,duration:1e3*fe,amount:ae*(fe/2)}}ro.prototype.clear=function(){this._inertiaBuffer=[]},ro.prototype.record=function(N){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:N})},ro.prototype._drainInertiaBuffer=function(){for(var N=this._inertiaBuffer,Y=o.browser.now();N.length>0&&Y-N[0].time>160;)N.shift()},ro.prototype._onMoveEnd=function(N){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Y={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},G=0,L=this._inertiaBuffer;G<L.length;G+=1){var q=L[G].settings;Y.zoom+=q.zoomDelta||0,Y.bearing+=q.bearingDelta||0,Y.pitch+=q.pitchDelta||0,q.panDelta&&Y.pan._add(q.panDelta),q.around&&(Y.around=q.around),q.pinchAround&&(Y.pinchAround=q.pinchAround)}var ee=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ae={};if(Y.pan.mag()){var fe=Ss(Y.pan.mag(),ee,o.extend({},Bl,N||{}));ae.offset=Y.pan.mult(fe.amount/Y.pan.mag()),ae.center=this._map.transform.center,Ms(ae,fe)}if(Y.zoom){var we=Ss(Y.zoom,ee,pu);ae.zoom=this._map.transform.zoom+we.amount,Ms(ae,we)}if(Y.bearing){var Oe=Ss(Y.bearing,ee,Nl);ae.bearing=this._map.transform.bearing+o.clamp(Oe.amount,-179,179),Ms(ae,Oe)}if(Y.pitch){var Be=Ss(Y.pitch,ee,jl);ae.pitch=this._map.transform.pitch+Be.amount,Ms(ae,Be)}if(ae.zoom||ae.bearing){var Ge=Y.pinchAround===void 0?Y.around:Y.pinchAround;ae.around=Ge?this._map.unproject(Ge):this._map.getCenter()}return this.clear(),o.extend(ae,{noMoveStart:!0})}};var ka=function(N){function Y(L,q,ee,ae){ae===void 0&&(ae={});var fe=b.mousePos(q.getCanvasContainer(),ee),we=q.unproject(fe);N.call(this,L,o.extend({point:fe,lngLat:we,originalEvent:ee},ae)),this._defaultPrevented=!1,this.target=q}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),Ul=function(N){function Y(L,q,ee){var ae=L==="touchend"?ee.changedTouches:ee.touches,fe=b.touchPos(q.getCanvasContainer(),ae),we=fe.map(function(Ge){return q.unproject(Ge)}),Oe=fe.reduce(function(Ge,Ye,rt,pt){return Ge.add(Ye.div(pt.length))},new o.Point(0,0)),Be=q.unproject(Oe);N.call(this,L,{points:fe,point:Oe,lngLats:we,lngLat:Be,originalEvent:ee}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),io=function(N){function Y(L,q,ee){N.call(this,L,{originalEvent:ee}),this._defaultPrevented=!1}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},G.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,G),Y}(o.Event),ea=function(N,Y){this._map=N,this._clickTolerance=Y.clickTolerance};ea.prototype.reset=function(){delete this._mousedownPos},ea.prototype.wheel=function(N){return this._firePreventable(new io(N.type,this._map,N))},ea.prototype.mousedown=function(N,Y){return this._mousedownPos=Y,this._firePreventable(new ka(N.type,this._map,N))},ea.prototype.mouseup=function(N){this._map.fire(new ka(N.type,this._map,N))},ea.prototype.click=function(N,Y){this._mousedownPos&&this._mousedownPos.dist(Y)>=this._clickTolerance||this._map.fire(new ka(N.type,this._map,N))},ea.prototype.dblclick=function(N){return this._firePreventable(new ka(N.type,this._map,N))},ea.prototype.mouseover=function(N){this._map.fire(new ka(N.type,this._map,N))},ea.prototype.mouseout=function(N){this._map.fire(new ka(N.type,this._map,N))},ea.prototype.touchstart=function(N){return this._firePreventable(new Ul(N.type,this._map,N))},ea.prototype.touchmove=function(N){this._map.fire(new Ul(N.type,this._map,N))},ea.prototype.touchend=function(N){this._map.fire(new Ul(N.type,this._map,N))},ea.prototype.touchcancel=function(N){this._map.fire(new Ul(N.type,this._map,N))},ea.prototype._firePreventable=function(N){if(this._map.fire(N),N.defaultPrevented)return{}},ea.prototype.isEnabled=function(){return!0},ea.prototype.isActive=function(){return!1},ea.prototype.enable=function(){},ea.prototype.disable=function(){};var oa=function(N){this._map=N};oa.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},oa.prototype.mousemove=function(N){this._map.fire(new ka(N.type,this._map,N))},oa.prototype.mousedown=function(){this._delayContextMenu=!0},oa.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ka("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},oa.prototype.contextmenu=function(N){this._delayContextMenu?this._contextMenuEvent=N:this._map.fire(new ka(N.type,this._map,N)),this._map.listens("contextmenu")&&N.preventDefault()},oa.prototype.isEnabled=function(){return!0},oa.prototype.isActive=function(){return!1},oa.prototype.enable=function(){},oa.prototype.disable=function(){};var vi=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._container=N.getContainer(),this._clickTolerance=Y.clickTolerance||1};function sa(N,Y){for(var G={},L=0;L<N.length;L++)G[N[L].identifier]=Y[L];return G}vi.prototype.isEnabled=function(){return!!this._enabled},vi.prototype.isActive=function(){return!!this._active},vi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vi.prototype.mousedown=function(N,Y){this.isEnabled()&&N.shiftKey&&N.button===0&&(b.disableDrag(),this._startPos=this._lastPos=Y,this._active=!0)},vi.prototype.mousemoveWindow=function(N,Y){if(this._active){var G=Y;if(!(this._lastPos.equals(G)||!this._box&&G.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=G,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",N));var q=Math.min(L.x,G.x),ee=Math.max(L.x,G.x),ae=Math.min(L.y,G.y),fe=Math.max(L.y,G.y);b.setTransform(this._box,"translate("+q+"px,"+ae+"px)"),this._box.style.width=ee-q+"px",this._box.style.height=fe-ae+"px"}}},vi.prototype.mouseupWindow=function(N,Y){var G=this;if(this._active&&N.button===0){var L=this._startPos,q=Y;if(this.reset(),b.suppressClick(),L.x!==q.x||L.y!==q.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:N})),{cameraAnimation:function(ee){return ee.fitScreenCoordinates(L,q,G._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",N)}},vi.prototype.keydown=function(N){this._active&&N.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",N))},vi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},vi.prototype._fireEvent=function(N,Y){return this._map.fire(new o.Event(N,{originalEvent:Y}))};var Bo=function(N){this.reset(),this.numTouches=N.numTouches};Bo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Bo.prototype.touchstart=function(N,Y,G){(this.centroid||G.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=N.timeStamp),G.length===this.numTouches&&(this.centroid=function(L){for(var q=new o.Point(0,0),ee=0,ae=L;ee<ae.length;ee+=1){var fe=ae[ee];q._add(fe)}return q.div(L.length)}(Y),this.touches=sa(G,Y)))},Bo.prototype.touchmove=function(N,Y,G){if(!this.aborted&&this.centroid){var L=sa(G,Y);for(var q in this.touches){var ee=this.touches[q],ae=L[q];(!ae||ae.dist(ee)>30)&&(this.aborted=!0)}}},Bo.prototype.touchend=function(N,Y,G){if((!this.centroid||N.timeStamp-this.startTime>500)&&(this.aborted=!0),G.length===0){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var $s=function(N){this.singleTap=new Bo(N),this.numTaps=N.numTaps,this.reset()};$s.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},$s.prototype.touchstart=function(N,Y,G){this.singleTap.touchstart(N,Y,G)},$s.prototype.touchmove=function(N,Y,G){this.singleTap.touchmove(N,Y,G)},$s.prototype.touchend=function(N,Y,G){var L=this.singleTap.touchend(N,Y,G);if(L){var q=N.timeStamp-this.lastTime<500,ee=!this.lastTap||this.lastTap.dist(L)<30;if(q&&ee||this.reset(),this.count++,this.lastTime=N.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var bo=function(){this._zoomIn=new $s({numTouches:1,numTaps:2}),this._zoomOut=new $s({numTouches:2,numTaps:1}),this.reset()};bo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},bo.prototype.touchstart=function(N,Y,G){this._zoomIn.touchstart(N,Y,G),this._zoomOut.touchstart(N,Y,G)},bo.prototype.touchmove=function(N,Y,G){this._zoomIn.touchmove(N,Y,G),this._zoomOut.touchmove(N,Y,G)},bo.prototype.touchend=function(N,Y,G){var L=this,q=this._zoomIn.touchend(N,Y,G),ee=this._zoomOut.touchend(N,Y,G);return q?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(q)},{originalEvent:N})}}):ee?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(ee)},{originalEvent:N})}}):void 0},bo.prototype.touchcancel=function(){this.reset()},bo.prototype.enable=function(){this._enabled=!0},bo.prototype.disable=function(){this._enabled=!1,this.reset()},bo.prototype.isEnabled=function(){return this._enabled},bo.prototype.isActive=function(){return this._active};var Es={};Es[0]=1,Es[2]=2;var Oa=function(N){this.reset(),this._clickTolerance=N.clickTolerance||1};Oa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Oa.prototype._correctButton=function(N,Y){return!1},Oa.prototype._move=function(N,Y){return{}},Oa.prototype.mousedown=function(N,Y){if(!this._lastPoint){var G=b.mouseButton(N);this._correctButton(N,G)&&(this._lastPoint=Y,this._eventButton=G)}},Oa.prototype.mousemoveWindow=function(N,Y){var G=this._lastPoint;if(G){if(N.preventDefault(),function(L,q){var ee=Es[q];return L.buttons===void 0||(L.buttons&ee)!==ee}(N,this._eventButton))this.reset();else if(this._moved||!(Y.dist(G)<this._clickTolerance))return this._moved=!0,this._lastPoint=Y,this._move(G,Y)}},Oa.prototype.mouseupWindow=function(N){this._lastPoint&&b.mouseButton(N)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};var Qs=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.mousedown=function(G,L){N.prototype.mousedown.call(this,G,L),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(G,L){return L===0&&!G.ctrlKey},Y.prototype._move=function(G,L){return{around:L,panDelta:L.sub(G)}},Y}(Oa),ns=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var q=.8*(L.x-G.x);if(q)return this._active=!0,{bearingDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),ao=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype._correctButton=function(G,L){return L===0&&G.ctrlKey||L===2},Y.prototype._move=function(G,L){var q=-.5*(L.y-G.y);if(q)return this._active=!0,{pitchDelta:q}},Y.prototype.contextmenu=function(G){G.preventDefault()},Y}(Oa),oo=function(N){this._minTouches=1,this._clickTolerance=N.clickTolerance||1,this.reset()};oo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},oo.prototype.touchstart=function(N,Y,G){return this._calculateTransform(N,Y,G)},oo.prototype.touchmove=function(N,Y,G){if(this._active&&!(G.length<this._minTouches))return N.preventDefault(),this._calculateTransform(N,Y,G)},oo.prototype.touchend=function(N,Y,G){this._calculateTransform(N,Y,G),this._active&&G.length<this._minTouches&&this.reset()},oo.prototype.touchcancel=function(){this.reset()},oo.prototype._calculateTransform=function(N,Y,G){G.length>0&&(this._active=!0);var L=sa(G,Y),q=new o.Point(0,0),ee=new o.Point(0,0),ae=0;for(var fe in L){var we=L[fe],Oe=this._touches[fe];Oe&&(q._add(we),ee._add(we.sub(Oe)),ae++,L[fe]=we)}if(this._touches=L,!(ae<this._minTouches)&&ee.mag()){var Be=ee.div(ae);if(this._sum._add(Be),!(this._sum.mag()<this._clickTolerance))return{around:q.div(ae),panDelta:Be}}},oo.prototype.enable=function(){this._enabled=!0},oo.prototype.disable=function(){this._enabled=!1,this.reset()},oo.prototype.isEnabled=function(){return this._enabled},oo.prototype.isActive=function(){return this._active};var bi=function(){this.reset()};function _o(N,Y,G){for(var L=0;L<N.length;L++)if(N[L].identifier===G)return Y[L]}bi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},bi.prototype._start=function(N){},bi.prototype._move=function(N,Y,G){return{}},bi.prototype.touchstart=function(N,Y,G){this._firstTwoTouches||G.length<2||(this._firstTwoTouches=[G[0].identifier,G[1].identifier],this._start([Y[0],Y[1]]))},bi.prototype.touchmove=function(N,Y,G){if(this._firstTwoTouches){N.preventDefault();var L=this._firstTwoTouches,q=L[0],ee=L[1],ae=_o(G,Y,q),fe=_o(G,Y,ee);if(ae&&fe){var we=this._aroundCenter?null:ae.add(fe).div(2);return this._move([ae,fe],we,N)}}},bi.prototype.touchend=function(N,Y,G){if(this._firstTwoTouches){var L=this._firstTwoTouches,q=L[0],ee=L[1],ae=_o(G,Y,q),fe=_o(G,Y,ee);ae&&fe||(this._active&&b.suppressClick(),this.reset())}},bi.prototype.touchcancel=function(){this.reset()},bi.prototype.enable=function(N){this._enabled=!0,this._aroundCenter=!!N&&N.around==="center"},bi.prototype.disable=function(){this._enabled=!1,this.reset()},bi.prototype.isEnabled=function(){return this._enabled},bi.prototype.isActive=function(){return this._active};function Er(N,Y){return Math.log(N/Y)/Math.LN2}var Vl=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(G){this._startDistance=this._distance=G[0].dist(G[1])},Y.prototype._move=function(G,L){var q=this._distance;if(this._distance=G[0].dist(G[1]),this._active||!(Math.abs(Er(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Er(this._distance,q),pinchAround:L}},Y}(bi);function Cu(N,Y){return 180*N.angleWith(Y)/Math.PI}var Ls=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(G){this._startVector=this._vector=G[0].sub(G[1]),this._minDiameter=G[0].dist(G[1])},Y.prototype._move=function(G,L){var q=this._vector;if(this._vector=G[0].sub(G[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Cu(this._vector,q),pinchAround:L}},Y.prototype._isBelowThreshold=function(G){this._minDiameter=Math.min(this._minDiameter,G.mag());var L=25/(Math.PI*this._minDiameter)*360,q=Cu(G,this._startVector);return Math.abs(q)<L},Y}(bi);function Cs(N){return Math.abs(N.y)>Math.abs(N.x)}var el=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.reset=function(){N.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(G){this._lastPoints=G,Cs(G[0].sub(G[1]))&&(this._valid=!1)},Y.prototype._move=function(G,L,q){var ee=G[0].sub(this._lastPoints[0]),ae=G[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ee,ae,q.timeStamp),this._valid)return this._lastPoints=G,this._active=!0,{pitchDelta:(ee.y+ae.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function(G,L,q){if(this._valid!==void 0)return this._valid;var ee=G.mag()>=2,ae=L.mag()>=2;if(ee||ae){if(!ee||!ae)return this._firstMove===void 0&&(this._firstMove=q),q-this._firstMove<100&&void 0;var fe=G.y>0==L.y>0;return Cs(G)&&Cs(L)&&fe}},Y}(bi),yl={panStep:100,bearingStep:15,pitchStep:10},_r=function(){var N=yl;this._panStep=N.panStep,this._bearingStep=N.bearingStep,this._pitchStep=N.pitchStep,this._rotationDisabled=!1};function Hl(N){return N*(2-N)}_r.prototype.reset=function(){this._active=!1},_r.prototype.keydown=function(N){var Y=this;if(!(N.altKey||N.ctrlKey||N.metaKey)){var G=0,L=0,q=0,ee=0,ae=0;switch(N.keyCode){case 61:case 107:case 171:case 187:G=1;break;case 189:case 109:case 173:G=-1;break;case 37:N.shiftKey?L=-1:(N.preventDefault(),ee=-1);break;case 39:N.shiftKey?L=1:(N.preventDefault(),ee=1);break;case 38:N.shiftKey?q=1:(N.preventDefault(),ae=-1);break;case 40:N.shiftKey?q=-1:(N.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(L=0,q=0),{cameraAnimation:function(fe){var we=fe.getZoom();fe.easeTo({duration:300,easeId:"keyboardHandler",easing:Hl,zoom:G?Math.round(we)+G*(N.shiftKey?2:1):we,bearing:fe.getBearing()+L*Y._bearingStep,pitch:fe.getPitch()+q*Y._pitchStep,offset:[-ee*Y._panStep,-ae*Y._panStep],center:fe.getCenter()},{originalEvent:N})}}}},_r.prototype.enable=function(){this._enabled=!0},_r.prototype.disable=function(){this._enabled=!1,this.reset()},_r.prototype.isEnabled=function(){return this._enabled},_r.prototype.isActive=function(){return this._active},_r.prototype.disableRotation=function(){this._rotationDisabled=!0},_r.prototype.enableRotation=function(){this._rotationDisabled=!1};var rs=4.000244140625,ta=function(N,Y){this._map=N,this._el=N.getCanvasContainer(),this._handler=Y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,o.bindAll(["_onTimeout"],this)};ta.prototype.setZoomRate=function(N){this._defaultZoomRate=N},ta.prototype.setWheelZoomRate=function(N){this._wheelZoomRate=N},ta.prototype.isEnabled=function(){return!!this._enabled},ta.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ta.prototype.isZooming=function(){return!!this._zooming},ta.prototype.enable=function(N){this.isEnabled()||(this._enabled=!0,this._aroundCenter=N&&N.around==="center")},ta.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ta.prototype.wheel=function(N){if(this.isEnabled()){var Y=N.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*N.deltaY:N.deltaY,G=o.browser.now(),L=G-(this._lastWheelEventTime||0);this._lastWheelEventTime=G,Y!==0&&Y%rs==0?this._type="wheel":Y!==0&&Math.abs(Y)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=Y,this._timeout=setTimeout(this._onTimeout,40,N)):this._type||(this._type=Math.abs(L*Y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Y+=this._lastValue)),N.shiftKey&&Y&&(Y/=4),this._type&&(this._lastWheelEvent=N,this._delta-=Y,this._active||this._start(N)),N.preventDefault()}},ta.prototype._onTimeout=function(N){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(N)},ta.prototype._start=function(N){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Y=b.mousePos(this._el,N);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Y)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ta.prototype.renderFrame=function(){var N=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Y=this._map.transform;if(this._delta!==0){var G=this._type==="wheel"&&Math.abs(this._delta)>rs?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*G)));this._delta<0&&L!==0&&(L=1/L);var q=typeof this._targetZoom=="number"?Y.zoomScale(this._targetZoom):Y.scale;this._targetZoom=Math.min(Y.maxZoom,Math.max(Y.minZoom,Y.scaleZoom(q*L))),this._type==="wheel"&&(this._startZoom=Y.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ee,ae=typeof this._targetZoom=="number"?this._targetZoom:Y.zoom,fe=this._startZoom,we=this._easing,Oe=!1;if(this._type==="wheel"&&fe&&we){var Be=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),Ge=we(Be);ee=o.number(fe,ae,Ge),Be<1?this._frameId||(this._frameId=!0):Oe=!0}else ee=ae,Oe=!0;return this._active=!0,Oe&&(this._active=!1,this._finishTimeout=setTimeout(function(){N._zooming=!1,N._handler._triggerRenderFrame(),delete N._targetZoom,delete N._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Oe,zoomDelta:ee-Y.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ta.prototype._smoothOutEasing=function(N){var Y=o.ease;if(this._prevEase){var G=this._prevEase,L=(o.browser.now()-G.start)/G.duration,q=G.easing(L+.01)-G.easing(L),ee=.27/Math.sqrt(q*q+1e-4)*.01,ae=Math.sqrt(.0729-ee*ee);Y=o.bezier(ee,ae,.25,1)}return this._prevEase={start:o.browser.now(),duration:N,easing:Y},Y},ta.prototype.reset=function(){this._active=!1};var Ps=function(N,Y){this._clickZoom=N,this._tapZoom=Y};Ps.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ps.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ps.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ps.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var wo=function(){this.reset()};wo.prototype.reset=function(){this._active=!1},wo.prototype.dblclick=function(N,Y){return N.preventDefault(),{cameraAnimation:function(G){G.easeTo({duration:300,zoom:G.getZoom()+(N.shiftKey?-1:1),around:G.unproject(Y)},{originalEvent:N})}}},wo.prototype.enable=function(){this._enabled=!0},wo.prototype.disable=function(){this._enabled=!1,this.reset()},wo.prototype.isEnabled=function(){return this._enabled},wo.prototype.isActive=function(){return this._active};var so=function(){this._tap=new $s({numTouches:1,numTaps:1}),this.reset()};so.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},so.prototype.touchstart=function(N,Y,G){this._swipePoint||(this._tapTime&&N.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?G.length>0&&(this._swipePoint=Y[0],this._swipeTouch=G[0].identifier):this._tap.touchstart(N,Y,G))},so.prototype.touchmove=function(N,Y,G){if(this._tapTime){if(this._swipePoint){if(G[0].identifier!==this._swipeTouch)return;var L=Y[0],q=L.y-this._swipePoint.y;return this._swipePoint=L,N.preventDefault(),this._active=!0,{zoomDelta:q/128}}}else this._tap.touchmove(N,Y,G)},so.prototype.touchend=function(N,Y,G){this._tapTime?this._swipePoint&&G.length===0&&this.reset():this._tap.touchend(N,Y,G)&&(this._tapTime=N.timeStamp)},so.prototype.touchcancel=function(){this.reset()},so.prototype.enable=function(){this._enabled=!0},so.prototype.disable=function(){this._enabled=!1,this.reset()},so.prototype.isEnabled=function(){return this._enabled},so.prototype.isActive=function(){return this._active};var Aa=function(N,Y,G){this._el=N,this._mousePan=Y,this._touchPan=G};Aa.prototype.enable=function(N){this._inertiaOptions=N||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Aa.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Aa.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Aa.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var No=function(N,Y,G){this._pitchWithRotate=N.pitchWithRotate,this._mouseRotate=Y,this._mousePitch=G};No.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},No.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},No.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},No.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var lo=function(N,Y,G,L){this._el=N,this._touchZoom=Y,this._touchRotate=G,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};lo.prototype.enable=function(N){this._touchZoom.enable(N),this._rotationDisabled||this._touchRotate.enable(N),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},lo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},lo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},lo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},lo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},lo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var is=function(N){return N.zoom||N.drag||N.pitch||N.rotate},ql=function(N){function Y(){N.apply(this,arguments)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y}(o.Event);function Os(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta}var ei=function(N,Y){this._map=N,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ro(N),this._bearingSnap=Y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Y),o.bindAll(["handleEvent","handleWindowEvent"],this);var G=this._el;this._listeners=[[G,"touchstart",{passive:!0}],[G,"touchmove",{passive:!1}],[G,"touchend",void 0],[G,"touchcancel",void 0],[G,"mousedown",void 0],[G,"mousemove",void 0],[G,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[G,"mouseover",void 0],[G,"mouseout",void 0],[G,"dblclick",void 0],[G,"click",void 0],[G,"keydown",{capture:!1}],[G,"keyup",void 0],[G,"wheel",{passive:!1}],[G,"contextmenu",void 0],[o.window,"blur",void 0]];for(var L=0,q=this._listeners;L<q.length;L+=1){var ee=q[L],ae=ee[0],fe=ee[1],we=ee[2];b.addEventListener(ae,fe,ae===o.window.document?this.handleWindowEvent:this.handleEvent,we)}};ei.prototype.destroy=function(){for(var N=0,Y=this._listeners;N<Y.length;N+=1){var G=Y[N],L=G[0],q=G[1],ee=G[2];b.removeEventListener(L,q,L===o.window.document?this.handleWindowEvent:this.handleEvent,ee)}},ei.prototype._addDefaultHandlers=function(N){var Y=this._map,G=Y.getCanvasContainer();this._add("mapEvent",new ea(Y,N));var L=Y.boxZoom=new vi(Y,N);this._add("boxZoom",L);var q=new bo,ee=new wo;Y.doubleClickZoom=new Ps(ee,q),this._add("tapZoom",q),this._add("clickZoom",ee);var ae=new so;this._add("tapDragZoom",ae);var fe=Y.touchPitch=new el;this._add("touchPitch",fe);var we=new ns(N),Oe=new ao(N);Y.dragRotate=new No(N,we,Oe),this._add("mouseRotate",we,["mousePitch"]),this._add("mousePitch",Oe,["mouseRotate"]);var Be=new Qs(N),Ge=new oo(N);Y.dragPan=new Aa(G,Be,Ge),this._add("mousePan",Be),this._add("touchPan",Ge,["touchZoom","touchRotate"]);var Ye=new Ls,rt=new Vl;Y.touchZoomRotate=new lo(G,rt,Ye,ae),this._add("touchRotate",Ye,["touchPan","touchZoom"]),this._add("touchZoom",rt,["touchPan","touchRotate"]);var pt=Y.scrollZoom=new ta(Y,this);this._add("scrollZoom",pt,["mousePan"]);var vt=Y.keyboard=new _r;this._add("keyboard",vt),this._add("blockableMapEvent",new oa(Y));for(var St=0,It=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];St<It.length;St+=1){var Ct=It[St];N.interactive&&N[Ct]&&Y[Ct].enable(N[Ct])}},ei.prototype._add=function(N,Y,G){this._handlers.push({handlerName:N,handler:Y,allowed:G}),this._handlersById[N]=Y},ei.prototype.stop=function(N){if(!this._updatingCamera){for(var Y=0,G=this._handlers;Y<G.length;Y+=1)G[Y].handler.reset();this._inertia.clear(),this._fireEvents({},{},N),this._changes=[]}},ei.prototype.isActive=function(){for(var N=0,Y=this._handlers;N<Y.length;N+=1)if(Y[N].handler.isActive())return!0;return!1},ei.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ei.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ei.prototype.isMoving=function(){return!!is(this._eventsInProgress)||this.isZooming()},ei.prototype._blockedByActive=function(N,Y,G){for(var L in N)if(L!==G&&(!Y||Y.indexOf(L)<0))return!0;return!1},ei.prototype.handleWindowEvent=function(N){this.handleEvent(N,N.type+"Window")},ei.prototype._getMapTouches=function(N){for(var Y=[],G=0,L=N;G<L.length;G+=1){var q=L[G],ee=q.target;this._el.contains(ee)&&Y.push(q)}return Y},ei.prototype.handleEvent=function(N,Y){if(N.type!=="blur"){this._updatingCamera=!0;for(var G=N.type==="renderFrame"?void 0:N,L={needsRenderFrame:!1},q={},ee={},ae=N.touches?this._getMapTouches(N.touches):void 0,fe=ae?b.touchPos(this._el,ae):b.mousePos(this._el,N),we=0,Oe=this._handlers;we<Oe.length;we+=1){var Be=Oe[we],Ge=Be.handlerName,Ye=Be.handler,rt=Be.allowed;if(Ye.isEnabled()){var pt=void 0;this._blockedByActive(ee,rt,Ge)?Ye.reset():Ye[Y||N.type]&&(pt=Ye[Y||N.type](N,fe,ae),this.mergeHandlerResult(L,q,pt,Ge,G),pt&&pt.needsRenderFrame&&this._triggerRenderFrame()),(pt||Ye.isActive())&&(ee[Ge]=Ye)}}var vt={};for(var St in this._previousActiveHandlers)ee[St]||(vt[St]=G);this._previousActiveHandlers=ee,(Object.keys(vt).length||Os(L))&&(this._changes.push([L,q,vt]),this._triggerRenderFrame()),(Object.keys(ee).length||Os(L))&&this._map._stop(!0),this._updatingCamera=!1;var It=L.cameraAnimation;It&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],It(this._map))}else this.stop(!0)},ei.prototype.mergeHandlerResult=function(N,Y,G,L,q){if(G){o.extend(N,G);var ee={handlerName:L,originalEvent:G.originalEvent||q};G.zoomDelta!==void 0&&(Y.zoom=ee),G.panDelta!==void 0&&(Y.drag=ee),G.pitchDelta!==void 0&&(Y.pitch=ee),G.bearingDelta!==void 0&&(Y.rotate=ee)}},ei.prototype._applyChanges=function(){for(var N={},Y={},G={},L=0,q=this._changes;L<q.length;L+=1){var ee=q[L],ae=ee[0],fe=ee[1],we=ee[2];ae.panDelta&&(N.panDelta=(N.panDelta||new o.Point(0,0))._add(ae.panDelta)),ae.zoomDelta&&(N.zoomDelta=(N.zoomDelta||0)+ae.zoomDelta),ae.bearingDelta&&(N.bearingDelta=(N.bearingDelta||0)+ae.bearingDelta),ae.pitchDelta&&(N.pitchDelta=(N.pitchDelta||0)+ae.pitchDelta),ae.around!==void 0&&(N.around=ae.around),ae.pinchAround!==void 0&&(N.pinchAround=ae.pinchAround),ae.noInertia&&(N.noInertia=ae.noInertia),o.extend(Y,fe),o.extend(G,we)}this._updateMapTransform(N,Y,G),this._changes=[]},ei.prototype._updateMapTransform=function(N,Y,G){var L=this._map,q=L.transform;if(!Os(N))return this._fireEvents(Y,G,!0);var ee=N.panDelta,ae=N.zoomDelta,fe=N.bearingDelta,we=N.pitchDelta,Oe=N.around,Be=N.pinchAround;Be!==void 0&&(Oe=Be),L._stop(!0),Oe=Oe||L.transform.centerPoint;var Ge=q.pointLocation(ee?Oe.sub(ee):Oe);fe&&(q.bearing+=fe),we&&(q.pitch+=we),ae&&(q.zoom+=ae),q.setLocationAtPoint(Ge,Oe),this._map._update(),N.noInertia||this._inertia.record(N),this._fireEvents(Y,G,!0)},ei.prototype._fireEvents=function(N,Y,G){var L=this,q=is(this._eventsInProgress),ee=is(N),ae={};for(var fe in N){var we=N[fe].originalEvent;this._eventsInProgress[fe]||(ae[fe+"start"]=we),this._eventsInProgress[fe]=N[fe]}for(var Oe in!q&&ee&&this._fireEvent("movestart",ee.originalEvent),ae)this._fireEvent(Oe,ae[Oe]);for(var Be in ee&&this._fireEvent("move",ee.originalEvent),N){var Ge=N[Be].originalEvent;this._fireEvent(Be,Ge)}var Ye,rt={};for(var pt in this._eventsInProgress){var vt=this._eventsInProgress[pt],St=vt.handlerName,It=vt.originalEvent;this._handlersById[St].isActive()||(delete this._eventsInProgress[pt],Ye=Y[St]||It,rt[pt+"end"]=Ye)}for(var Ct in rt)this._fireEvent(Ct,rt[Ct]);var jt=is(this._eventsInProgress);if(G&&(q||ee)&&!jt){this._updatingCamera=!0;var zt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jt=function(Zt){return Zt!==0&&-L._bearingSnap<Zt&&Zt<L._bearingSnap};zt?(Jt(zt.bearing||this._map.getBearing())&&(zt.bearing=0),this._map.easeTo(zt,{originalEvent:Ye})):(this._map.fire(new o.Event("moveend",{originalEvent:Ye})),Jt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ei.prototype._fireEvent=function(N,Y){this._map.fire(new o.Event(N,Y?{originalEvent:Y}:{}))},ei.prototype._requestFrame=function(){var N=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(Y){delete N._frameId,N.handleEvent(new ql("renderFrame",{timeStamp:Y})),N._applyChanges()})},ei.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var la=function(N){function Y(G,L){N.call(this),this._moving=!1,this._zooming=!1,this.transform=G,this._bearingSnap=L.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(G,L){return this.jumpTo({center:G},L)},Y.prototype.panBy=function(G,L,q){return G=o.Point.convert(G).mult(-1),this.panTo(this.transform.center,o.extend({offset:G},L),q)},Y.prototype.panTo=function(G,L,q){return this.easeTo(o.extend({center:G},L),q)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(G,L){return this.jumpTo({zoom:G},L),this},Y.prototype.zoomTo=function(G,L,q){return this.easeTo(o.extend({zoom:G},L),q)},Y.prototype.zoomIn=function(G,L){return this.zoomTo(this.getZoom()+1,G,L),this},Y.prototype.zoomOut=function(G,L){return this.zoomTo(this.getZoom()-1,G,L),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(G,L){return this.jumpTo({bearing:G},L),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(G,L){return this.jumpTo({padding:G},L),this},Y.prototype.rotateTo=function(G,L,q){return this.easeTo(o.extend({bearing:G},L),q)},Y.prototype.resetNorth=function(G,L){return this.rotateTo(0,o.extend({duration:1e3},G),L),this},Y.prototype.resetNorthPitch=function(G,L){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},G),L),this},Y.prototype.snapToNorth=function(G,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(G,L):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(G,L){return this.jumpTo({pitch:G},L),this},Y.prototype.cameraForBounds=function(G,L){G=o.LngLatBounds.convert(G);var q=L&&L.bearing||0;return this._cameraForBoxAndBearing(G.getNorthWest(),G.getSouthEast(),q,L)},Y.prototype._cameraForBoxAndBearing=function(G,L,q,ee){var ae={top:0,bottom:0,right:0,left:0};if(typeof(ee=o.extend({padding:ae,offset:[0,0],maxZoom:this.transform.maxZoom},ee)).padding=="number"){var fe=ee.padding;ee.padding={top:fe,bottom:fe,right:fe,left:fe}}ee.padding=o.extend(ae,ee.padding);var we=this.transform,Oe=we.padding,Be=we.project(o.LngLat.convert(G)),Ge=we.project(o.LngLat.convert(L)),Ye=Be.rotate(-q*Math.PI/180),rt=Ge.rotate(-q*Math.PI/180),pt=new o.Point(Math.max(Ye.x,rt.x),Math.max(Ye.y,rt.y)),vt=new o.Point(Math.min(Ye.x,rt.x),Math.min(Ye.y,rt.y)),St=pt.sub(vt),It=(we.width-(Oe.left+Oe.right+ee.padding.left+ee.padding.right))/St.x,Ct=(we.height-(Oe.top+Oe.bottom+ee.padding.top+ee.padding.bottom))/St.y;if(!(Ct<0||It<0)){var jt=Math.min(we.scaleZoom(we.scale*Math.min(It,Ct)),ee.maxZoom),zt=typeof ee.offset.x=="number"?new o.Point(ee.offset.x,ee.offset.y):o.Point.convert(ee.offset),Jt=(ee.padding.left-ee.padding.right)/2,Zt=(ee.padding.top-ee.padding.bottom)/2,Gt=new o.Point(Jt,Zt).rotate(q*Math.PI/180),mn=zt.add(Gt).mult(we.scale/we.zoomScale(jt));return{center:we.unproject(Be.add(Ge).div(2).sub(mn)),zoom:jt,bearing:q}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function(G,L,q){return this._fitInternal(this.cameraForBounds(G,L),L,q)},Y.prototype.fitScreenCoordinates=function(G,L,q,ee,ae){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(G)),this.transform.pointLocation(o.Point.convert(L)),q,ee),ee,ae)},Y.prototype._fitInternal=function(G,L,q){return G?(delete(L=o.extend(G,L)).padding,L.linear?this.easeTo(L,q):this.flyTo(L,q)):this},Y.prototype.jumpTo=function(G,L){this.stop();var q=this.transform,ee=!1,ae=!1,fe=!1;return"zoom"in G&&q.zoom!==+G.zoom&&(ee=!0,q.zoom=+G.zoom),G.center!==void 0&&(q.center=o.LngLat.convert(G.center)),"bearing"in G&&q.bearing!==+G.bearing&&(ae=!0,q.bearing=+G.bearing),"pitch"in G&&q.pitch!==+G.pitch&&(fe=!0,q.pitch=+G.pitch),G.padding==null||q.isPaddingEqual(G.padding)||(q.padding=G.padding),this.fire(new o.Event("movestart",L)).fire(new o.Event("move",L)),ee&&this.fire(new o.Event("zoomstart",L)).fire(new o.Event("zoom",L)).fire(new o.Event("zoomend",L)),ae&&this.fire(new o.Event("rotatestart",L)).fire(new o.Event("rotate",L)).fire(new o.Event("rotateend",L)),fe&&this.fire(new o.Event("pitchstart",L)).fire(new o.Event("pitch",L)).fire(new o.Event("pitchend",L)),this.fire(new o.Event("moveend",L))},Y.prototype.easeTo=function(G,L){var q=this;this._stop(!1,G.easeId),((G=o.extend({offset:[0,0],duration:500,easing:o.ease},G)).animate===!1||!G.essential&&o.browser.prefersReducedMotion)&&(G.duration=0);var ee=this.transform,ae=this.getZoom(),fe=this.getBearing(),we=this.getPitch(),Oe=this.getPadding(),Be="zoom"in G?+G.zoom:ae,Ge="bearing"in G?this._normalizeBearing(G.bearing,fe):fe,Ye="pitch"in G?+G.pitch:we,rt="padding"in G?G.padding:ee.padding,pt=o.Point.convert(G.offset),vt=ee.centerPoint.add(pt),St=ee.pointLocation(vt),It=o.LngLat.convert(G.center||St);this._normalizeCenter(It);var Ct,jt,zt=ee.project(St),Jt=ee.project(It).sub(zt),Zt=ee.zoomScale(Be-ae);G.around&&(Ct=o.LngLat.convert(G.around),jt=ee.locationPoint(Ct));var Gt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Be!==ae,this._rotating=this._rotating||fe!==Ge,this._pitching=this._pitching||Ye!==we,this._padding=!ee.isPaddingEqual(rt),this._easeId=G.easeId,this._prepareEase(L,G.noMoveStart,Gt),this._ease(function(mn){if(q._zooming&&(ee.zoom=o.number(ae,Be,mn)),q._rotating&&(ee.bearing=o.number(fe,Ge,mn)),q._pitching&&(ee.pitch=o.number(we,Ye,mn)),q._padding&&(ee.interpolatePadding(Oe,rt,mn),vt=ee.centerPoint.add(pt)),Ct)ee.setLocationAtPoint(Ct,jt);else{var _n=ee.zoomScale(ee.zoom-ae),Cn=Be>ae?Math.min(2,Zt):Math.max(.5,Zt),zn=Math.pow(Cn,1-mn),Wn=ee.unproject(zt.add(Jt.mult(mn*zn)).mult(_n));ee.setLocationAtPoint(ee.renderWorldCopies?Wn.wrap():Wn,vt)}q._fireMoveEvents(L)},function(mn){q._afterEase(L,mn)},G),this},Y.prototype._prepareEase=function(G,L,q){q===void 0&&(q={}),this._moving=!0,L||q.moving||this.fire(new o.Event("movestart",G)),this._zooming&&!q.zooming&&this.fire(new o.Event("zoomstart",G)),this._rotating&&!q.rotating&&this.fire(new o.Event("rotatestart",G)),this._pitching&&!q.pitching&&this.fire(new o.Event("pitchstart",G))},Y.prototype._fireMoveEvents=function(G){this.fire(new o.Event("move",G)),this._zooming&&this.fire(new o.Event("zoom",G)),this._rotating&&this.fire(new o.Event("rotate",G)),this._pitching&&this.fire(new o.Event("pitch",G))},Y.prototype._afterEase=function(G,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var q=this._zooming,ee=this._rotating,ae=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,q&&this.fire(new o.Event("zoomend",G)),ee&&this.fire(new o.Event("rotateend",G)),ae&&this.fire(new o.Event("pitchend",G)),this.fire(new o.Event("moveend",G))}},Y.prototype.flyTo=function(G,L){var q=this;if(!G.essential&&o.browser.prefersReducedMotion){var ee=o.pick(G,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ee,L)}this.stop(),G=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},G);var ae=this.transform,fe=this.getZoom(),we=this.getBearing(),Oe=this.getPitch(),Be=this.getPadding(),Ge="zoom"in G?o.clamp(+G.zoom,ae.minZoom,ae.maxZoom):fe,Ye="bearing"in G?this._normalizeBearing(G.bearing,we):we,rt="pitch"in G?+G.pitch:Oe,pt="padding"in G?G.padding:ae.padding,vt=ae.zoomScale(Ge-fe),St=o.Point.convert(G.offset),It=ae.centerPoint.add(St),Ct=ae.pointLocation(It),jt=o.LngLat.convert(G.center||Ct);this._normalizeCenter(jt);var zt=ae.project(Ct),Jt=ae.project(jt).sub(zt),Zt=G.curve,Gt=Math.max(ae.width,ae.height),mn=Gt/vt,_n=Jt.mag();if("minZoom"in G){var Cn=o.clamp(Math.min(G.minZoom,fe,Ge),ae.minZoom,ae.maxZoom),zn=Gt/ae.zoomScale(Cn-fe);Zt=Math.sqrt(zn/_n*2)}var Wn=Zt*Zt;function sr(mr){var Lr=(mn*mn-Gt*Gt+(mr?-1:1)*Wn*Wn*_n*_n)/(2*(mr?mn:Gt)*Wn*_n);return Math.log(Math.sqrt(Lr*Lr+1)-Lr)}function vr(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function Kn(mr){return(Math.exp(mr)+Math.exp(-mr))/2}var hr=sr(0),wr=function(mr){return Kn(hr)/Kn(hr+Zt*mr)},Or=function(mr){return Gt*((Kn(hr)*(vr(Lr=hr+Zt*mr)/Kn(Lr))-vr(hr))/Wn)/_n;var Lr},or=(sr(1)-hr)/Zt;if(Math.abs(_n)<1e-6||!isFinite(or)){if(Math.abs(Gt-mn)<1e-6)return this.easeTo(G,L);var fr=mn<Gt?-1:1;or=Math.abs(Math.log(mn/Gt))/Zt,Or=function(){return 0},wr=function(mr){return Math.exp(fr*Zt*mr)}}if("duration"in G)G.duration=+G.duration;else{var Mr="screenSpeed"in G?+G.screenSpeed/Zt:+G.speed;G.duration=1e3*or/Mr}return G.maxDuration&&G.duration>G.maxDuration&&(G.duration=0),this._zooming=!0,this._rotating=we!==Ye,this._pitching=rt!==Oe,this._padding=!ae.isPaddingEqual(pt),this._prepareEase(L,!1),this._ease(function(mr){var Lr=mr*or,Dr=1/wr(Lr);ae.zoom=mr===1?Ge:fe+ae.scaleZoom(Dr),q._rotating&&(ae.bearing=o.number(we,Ye,mr)),q._pitching&&(ae.pitch=o.number(Oe,rt,mr)),q._padding&&(ae.interpolatePadding(Be,pt,mr),It=ae.centerPoint.add(St));var Gr=mr===1?jt:ae.unproject(zt.add(Jt.mult(Or(Lr))).mult(Dr));ae.setLocationAtPoint(ae.renderWorldCopies?Gr.wrap():Gr,It),q._fireMoveEvents(L)},function(){return q._afterEase(L)},G),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(G,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var q=this._onEaseEnd;delete this._onEaseEnd,q.call(this,L)}if(!G){var ee=this.handlers;ee&&ee.stop(!1)}return this},Y.prototype._ease=function(G,L,q){q.animate===!1||q.duration===0?(G(1),L()):(this._easeStart=o.browser.now(),this._easeOptions=q,this._onEaseFrame=G,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var G=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(G)),G<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(G,L){G=o.wrap(G,-180,180);var q=Math.abs(G-L);return Math.abs(G-360-L)<q&&(G-=360),Math.abs(G+360-L)<q&&(G+=360),G},Y.prototype._normalizeCenter=function(G){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var q=G.lng-L.center.lng;G.lng+=q>180?-360:q<-180?360:0}},Y}(o.Evented),Ia=function(N){N===void 0&&(N={}),this.options=N,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ia.prototype.getDefaultPosition=function(){return"bottom-right"},Ia.prototype.onAdd=function(N){var Y=this.options&&this.options.compact;return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),Y&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),Y===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ia.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ia.prototype._setElementTitle=function(N,Y){var G=this._map._getUIString("AttributionControl."+Y);N.title=G,N.setAttribute("aria-label",G)},Ia.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ia.prototype._updateEditLink=function(){var N=this._editLink;N||(N=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Y=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(N){var G=Y.reduce(function(L,q,ee){return q.value&&(L+=q.key+"="+q.value+(ee<Y.length-1?"&":"")),L},"?");N.href=o.config.FEEDBACK_URL+"/"+G+(this._map._hash?this._map._hash.getHashString(!0):""),N.rel="noopener nofollow",this._setElementTitle(N,"MapFeedback")}},Ia.prototype._updateData=function(N){!N||N.sourceDataType!=="metadata"&&N.sourceDataType!=="visibility"&&N.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Ia.prototype._updateAttributions=function(){if(this._map.style){var N=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?N=N.concat(this.options.customAttribution.map(function(fe){return typeof fe!="string"?"":fe})):typeof this.options.customAttribution=="string"&&N.push(this.options.customAttribution)),this._map.style.stylesheet){var Y=this._map.style.stylesheet;this.styleOwner=Y.owner,this.styleId=Y.id}var G=this._map.style.sourceCaches;for(var L in G){var q=G[L];if(q.used){var ee=q.getSource();ee.attribution&&N.indexOf(ee.attribution)<0&&N.push(ee.attribution)}}N.sort(function(fe,we){return fe.length-we.length});var ae=(N=N.filter(function(fe,we){for(var Oe=we+1;Oe<N.length;Oe++)if(N[Oe].indexOf(fe)>=0)return!1;return!0})).join(" | ");ae!==this._attribHTML&&(this._attribHTML=ae,N.length?(this._innerContainer.innerHTML=ae,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ia.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var jo=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};jo.prototype.onAdd=function(N){this._map=N,this._container=b.create("div","mapboxgl-ctrl");var Y=b.create("a","mapboxgl-ctrl-logo");return Y.target="_blank",Y.rel="noopener nofollow",Y.href="https://www.mapbox.com/",Y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Y.setAttribute("rel","noopener nofollow"),this._container.appendChild(Y),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},jo.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},jo.prototype.getDefaultPosition=function(){return"bottom-left"},jo.prototype._updateLogo=function(N){N&&N.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},jo.prototype._logoRequired=function(){if(this._map.style){var N=this._map.style.sourceCaches;for(var Y in N)if(N[Y].getSource().mapbox_logo)return!0;return!1}},jo.prototype._updateCompact=function(){var N=this._container.children;if(N.length){var Y=N[0];this._map.getCanvasContainer().offsetWidth<250?Y.classList.add("mapboxgl-compact"):Y.classList.remove("mapboxgl-compact")}};var za=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};za.prototype.add=function(N){var Y=++this._id;return this._queue.push({callback:N,id:Y,cancelled:!1}),Y},za.prototype.remove=function(N){for(var Y=this._currentlyRunning,G=0,L=Y?this._queue.concat(Y):this._queue;G<L.length;G+=1){var q=L[G];if(q.id===N)return void(q.cancelled=!0)}},za.prototype.run=function(N){N===void 0&&(N=0);var Y=this._currentlyRunning=this._queue;this._queue=[];for(var G=0,L=Y;G<L.length;G+=1){var q=L[G];if(!q.cancelled&&(q.callback(N),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},za.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},bl=o.window.HTMLImageElement,Da=o.window.HTMLElement,$r=o.window.ImageBitmap,Uo=60,tl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:Uo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},To=function(N){function Y(L){var q=this;if((L=o.extend({},tl,L)).minZoom!=null&&L.maxZoom!=null&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(L.minPitch!=null&&L.maxPitch!=null&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(L.minPitch!=null&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(L.maxPitch!=null&&L.maxPitch>Uo)throw new Error("maxPitch must be less than or equal to 60");var ee=new ni(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(N.call(this,ee,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new za,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},xl,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new o.RequestManager(L.transformRequest,L.accessToken),typeof L.container=="string"){if(this._container=o.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof Da))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return q._update(!1)}),this.on("moveend",function(){return q._update(!1)}),this.on("zoom",function(){return q._update(!0)}),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ei(this,L);var ae=typeof L.hash=="string"&&L.hash||void 0;this._hash=L.hash&&new Xa(ae).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,o.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new Ia({customAttribution:L.customAttribution})),this.addControl(new jo,L.logoPosition),this.on("style.load",function(){q.transform.unmodified&&q.jumpTo(q.style.stylesheet)}),this.on("data",function(fe){q._update(fe.dataType==="style"),q.fire(new o.Event(fe.dataType+"data",fe))}),this.on("dataloading",function(fe){q.fire(new o.Event(fe.dataType+"dataloading",fe))})}N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y;var G={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(L,q){if(q===void 0&&(q=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ee=L.onAdd(this);this._controls.push(L);var ae=this._controlPositions[q];return q.indexOf("bottom")!==-1?ae.insertBefore(ee,ae.firstChild):ae.appendChild(ee),this},Y.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var q=this._controls.indexOf(L);return q>-1&&this._controls.splice(q,1),L.onRemove(this),this},Y.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},Y.prototype.resize=function(L){var q=this._containerDimensions(),ee=q[0],ae=q[1];this._resizeCanvas(ee,ae),this.transform.resize(ee,ae),this.painter.resize(ee,ae);var fe=!this._moving;return fe&&(this.stop(),this.fire(new o.Event("movestart",L)).fire(new o.Event("move",L))),this.fire(new o.Event("resize",L)),fe&&this.fire(new o.Event("moveend",L)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(o.LngLatBounds.convert(L)),this._update()},Y.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(L){if((L=L??Uo)>Uo)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},Y.prototype.project=function(L){return this.transform.locationPoint(o.LngLat.convert(L))},Y.prototype.unproject=function(L){return this.transform.pointLocation(o.Point.convert(L))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(L,q,ee){var ae,fe=this;if(L==="mouseenter"||L==="mouseover"){var we=!1;return{layer:q,listener:ee,delegates:{mousemove:function(Be){var Ge=fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[];Ge.length?we||(we=!0,ee.call(fe,new ka(L,fe,Be.originalEvent,{features:Ge}))):we=!1},mouseout:function(){we=!1}}}}if(L==="mouseleave"||L==="mouseout"){var Oe=!1;return{layer:q,listener:ee,delegates:{mousemove:function(Be){(fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[]).length?Oe=!0:Oe&&(Oe=!1,ee.call(fe,new ka(L,fe,Be.originalEvent)))},mouseout:function(Be){Oe&&(Oe=!1,ee.call(fe,new ka(L,fe,Be.originalEvent)))}}}}return{layer:q,listener:ee,delegates:(ae={},ae[L]=function(Be){var Ge=fe.getLayer(q)?fe.queryRenderedFeatures(Be.point,{layers:[q]}):[];Ge.length&&(Be.features=Ge,ee.call(fe,Be),delete Be.features)},ae)}},Y.prototype.on=function(L,q,ee){if(ee===void 0)return N.prototype.on.call(this,L,q);var ae=this._createDelegatedListener(L,q,ee);for(var fe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(ae),ae.delegates)this.on(fe,ae.delegates[fe]);return this},Y.prototype.once=function(L,q,ee){if(ee===void 0)return N.prototype.once.call(this,L,q);var ae=this._createDelegatedListener(L,q,ee);for(var fe in ae.delegates)this.once(fe,ae.delegates[fe]);return this},Y.prototype.off=function(L,q,ee){var ae=this;return ee===void 0?N.prototype.off.call(this,L,q):(this._delegatedListeners&&this._delegatedListeners[L]&&function(fe){for(var we=fe[L],Oe=0;Oe<we.length;Oe++){var Be=we[Oe];if(Be.layer===q&&Be.listener===ee){for(var Ge in Be.delegates)ae.off(Ge,Be.delegates[Ge]);return we.splice(Oe,1),ae}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(L,q){if(!this.style)return[];var ee;if(q!==void 0||L===void 0||L instanceof o.Point||Array.isArray(L)||(q=L,L=void 0),q=q||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||typeof L[0]=="number")ee=[o.Point.convert(L)];else{var ae=o.Point.convert(L[0]),fe=o.Point.convert(L[1]);ee=[ae,new o.Point(fe.x,ae.y),fe,new o.Point(ae.x,fe.y),ae]}return this.style.queryRenderedFeatures(ee,q,this.transform)},Y.prototype.querySourceFeatures=function(L,q){return this.style.querySourceFeatures(L,q)},Y.prototype.setStyle=function(L,q){return(q=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},q)).diff!==!1&&q.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,q),this):(this._localIdeographFontFamily=q.localIdeographFontFamily,this._updateStyle(L,q))},Y.prototype._getUIString=function(L){var q=this._locale[L];if(q==null)throw new Error("Missing UI string '"+L+"'");return q},Y.prototype._updateStyle=function(L,q){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new Yn(this,q||{}),this.style.setEventedParent(this,{style:this.style}),typeof L=="string"?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Yn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(L,q){var ee=this;if(typeof L=="string"){var ae=this._requestManager.normalizeStyleURL(L),fe=this._requestManager.transformRequest(ae,o.ResourceType.Style);o.getJSON(fe,function(we,Oe){we?ee.fire(new o.ErrorEvent(we)):Oe&&ee._updateDiff(Oe,q)})}else typeof L=="object"&&this._updateDiff(L,q)},Y.prototype._updateDiff=function(L,q){try{this.style.setState(L)&&this._update(!0)}catch(ee){o.warnOnce("Unable to perform style diff: "+(ee.message||ee.error||ee)+".  Rebuilding the style from scratch."),this._updateStyle(L,q)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(L,q){return this._lazyInitEmptyStyle(),this.style.addSource(L,q),this._update(!0)},Y.prototype.isSourceLoaded=function(L){var q=this.style&&this.style.sourceCaches[L];if(q!==void 0)return q.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},Y.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var q in L){var ee=L[q]._tiles;for(var ae in ee){var fe=ee[ae];if(fe.state!=="loaded"&&fe.state!=="errored")return!1}}return!0},Y.prototype.addSourceType=function(L,q,ee){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,q,ee)},Y.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},Y.prototype.getSource=function(L){return this.style.getSource(L)},Y.prototype.addImage=function(L,q,ee){ee===void 0&&(ee={});var ae=ee.pixelRatio;ae===void 0&&(ae=1);var fe=ee.sdf;fe===void 0&&(fe=!1);var we=ee.stretchX,Oe=ee.stretchY,Be=ee.content;if(this._lazyInitEmptyStyle(),q instanceof bl||$r&&q instanceof $r){var Ge=o.browser.getImageData(q),Ye=Ge.width,rt=Ge.height,pt=Ge.data;this.style.addImage(L,{data:new o.RGBAImage({width:Ye,height:rt},pt),pixelRatio:ae,stretchX:we,stretchY:Oe,content:Be,sdf:fe,version:0})}else{if(q.width===void 0||q.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var vt=q.width,St=q.height,It=q.data,Ct=q;this.style.addImage(L,{data:new o.RGBAImage({width:vt,height:St},new Uint8Array(It)),pixelRatio:ae,stretchX:we,stretchY:Oe,content:Be,sdf:fe,version:0,userImage:Ct}),Ct.onAdd&&Ct.onAdd(this,L)}},Y.prototype.updateImage=function(L,q){var ee=this.style.getImage(L);if(!ee)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ae=q instanceof bl||$r&&q instanceof $r?o.browser.getImageData(q):q,fe=ae.width,we=ae.height,Oe=ae.data;if(fe===void 0||we===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(fe!==ee.data.width||we!==ee.data.height)return this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Be=!(q instanceof bl||$r&&q instanceof $r);ee.data.replace(Oe,Be),this.style.updateImage(L,ee)},Y.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(L){this.style.removeImage(L)},Y.prototype.loadImage=function(L,q){o.getImage(this._requestManager.transformRequest(L,o.ResourceType.Image),q)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(L,q){return this._lazyInitEmptyStyle(),this.style.addLayer(L,q),this._update(!0)},Y.prototype.moveLayer=function(L,q){return this.style.moveLayer(L,q),this._update(!0)},Y.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},Y.prototype.getLayer=function(L){return this.style.getLayer(L)},Y.prototype.setLayerZoomRange=function(L,q,ee){return this.style.setLayerZoomRange(L,q,ee),this._update(!0)},Y.prototype.setFilter=function(L,q,ee){return ee===void 0&&(ee={}),this.style.setFilter(L,q,ee),this._update(!0)},Y.prototype.getFilter=function(L){return this.style.getFilter(L)},Y.prototype.setPaintProperty=function(L,q,ee,ae){return ae===void 0&&(ae={}),this.style.setPaintProperty(L,q,ee,ae),this._update(!0)},Y.prototype.getPaintProperty=function(L,q){return this.style.getPaintProperty(L,q)},Y.prototype.setLayoutProperty=function(L,q,ee,ae){return ae===void 0&&(ae={}),this.style.setLayoutProperty(L,q,ee,ae),this._update(!0)},Y.prototype.getLayoutProperty=function(L,q){return this.style.getLayoutProperty(L,q)},Y.prototype.setLight=function(L,q){return q===void 0&&(q={}),this._lazyInitEmptyStyle(),this.style.setLight(L,q),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(L,q){return this.style.setFeatureState(L,q),this._update()},Y.prototype.removeFeatureState=function(L,q){return this.style.removeFeatureState(L,q),this._update()},Y.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var L=0,q=0;return this._container&&(L=this._container.clientWidth||400,q=this._container.clientHeight||300),[L,q]},Y.prototype._detectMissingCSS=function(){o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var q=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&q.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",q),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ee=this._containerDimensions();this._resizeCanvas(ee[0],ee[1]);var ae=this._controlContainer=b.create("div","mapboxgl-control-container",L),fe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(we){fe[we]=b.create("div","mapboxgl-ctrl-"+we,ae)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Y.prototype._resizeCanvas=function(L,q){var ee=o.browser.devicePixelRatio||1;this._canvas.width=ee*L,this._canvas.height=ee*q,this._canvas.style.width=L+"px",this._canvas.style.height=q+"px"},Y.prototype._setupPainter=function(){var L=o.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),q=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);q?(this.painter=new li(q,this.transform),o.webpSupported.testSupport(q)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:L}))},Y.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:L}))},Y.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},Y.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},Y.prototype._render=function(L){var q,ee=this,ae=0,fe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(q=fe.createQueryEXT(),fe.beginQueryEXT(fe.TIME_ELAPSED_EXT,q),ae=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var we=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Oe=this.transform.zoom,Be=o.browser.now();this.style.zoomHistory.update(Oe,Be);var Ge=new o.EvaluationParameters(Oe,{now:Be,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ye=Ge.crossFadingFactor();Ye===1&&Ye===this._crossFadingFactor||(we=!0,this._crossFadingFactor=Ye),this.style.update(Ge)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||we)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var rt=o.browser.now()-ae;fe.endQueryEXT(fe.TIME_ELAPSED_EXT,q),setTimeout(function(){var St=fe.getQueryObjectEXT(q,fe.QUERY_RESULT_EXT)/1e6;fe.deleteQueryEXT(q),ee.fire(new o.Event("gpu-timing-frame",{cpuTime:rt,gpuTime:St}))},50)}if(this.listens("gpu-timing-layer")){var pt=this.painter.collectGpuTimers();setTimeout(function(){var St=ee.painter.queryGpuTimers(pt);ee.fire(new o.Event("gpu-timing-layer",{layerTimes:St}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,q=this._controls;L<q.length;L+=1)q[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var ee=this.painter.context.gl.getExtension("WEBGL_lose_context");ee&&ee.loseContext&&ee.loseContext(),_l(this._canvasContainer),_l(this._controlContainer),_l(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},Y.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(q){L._frame=null,L._render(q)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},G.showTileBoundaries.get=function(){return!!this._showTileBoundaries},G.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},G.showPadding.get=function(){return!!this._showPadding},G.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},G.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},G.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},G.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},G.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},G.repaint.get=function(){return!!this._repaint},G.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},G.vertices.get=function(){return!!this._vertices},G.vertices.set=function(L){this._vertices=L,this._update()},Y.prototype._setCacheLimits=function(L,q){o.setCacheLimits(L,q)},G.version.get=function(){return o.version},Object.defineProperties(Y.prototype,G),Y}(la);function _l(N){N.parentNode&&N.parentNode.removeChild(N)}var wl={showCompass:!0,showZoom:!0,visualizePitch:!1},ko=function(N){var Y=this;this.options=o.extend({},wl,N),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(G){return G.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(G){return Y._map.zoomIn({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(G){return Y._map.zoomOut({},{originalEvent:G})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(G){Y.options.visualizePitch?Y._map.resetNorthPitch({},{originalEvent:G}):Y._map.resetNorth({},{originalEvent:G})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ko.prototype._updateZoomButtons=function(){var N=this._map.getZoom(),Y=N===this._map.getMaxZoom(),G=N===this._map.getMinZoom();this._zoomInButton.disabled=Y,this._zoomOutButton.disabled=G,this._zoomInButton.setAttribute("aria-disabled",Y.toString()),this._zoomOutButton.setAttribute("aria-disabled",G.toString())},ko.prototype._rotateCompassArrow=function(){var N=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=N},ko.prototype.onAdd=function(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _i(this._map,this._compass,this.options.visualizePitch)),this._container},ko.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ko.prototype._createButton=function(N,Y){var G=b.create("button",N,this._container);return G.type="button",G.addEventListener("click",Y),G},ko.prototype._setButtonTitle=function(N,Y){var G=this._map._getUIString("NavigationControl."+Y);N.title=G,N.setAttribute("aria-label",G)};var _i=function(N,Y,G){G===void 0&&(G=!1),this._clickTolerance=10,this.element=Y,this.mouseRotate=new ns({clickTolerance:N.dragRotate._mouseRotate._clickTolerance}),this.map=N,G&&(this.mousePitch=new ao({clickTolerance:N.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(Y,"mousedown",this.mousedown),b.addEventListener(Y,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(Y,"touchmove",this.touchmove),b.addEventListener(Y,"touchend",this.touchend),b.addEventListener(Y,"touchcancel",this.reset)};function nl(N,Y,G){if(N=new o.LngLat(N.lng,N.lat),Y){var L=new o.LngLat(N.lng-360,N.lat),q=new o.LngLat(N.lng+360,N.lat),ee=G.locationPoint(N).distSqr(Y);G.locationPoint(L).distSqr(Y)<ee?N=L:G.locationPoint(q).distSqr(Y)<ee&&(N=q)}for(;Math.abs(N.lng-G.center.lng)>180;){var ae=G.locationPoint(N);if(ae.x>=0&&ae.y>=0&&ae.x<=G.width&&ae.y<=G.height)break;N.lng>G.center.lng?N.lng-=360:N.lng+=360}return N}_i.prototype.down=function(N,Y){this.mouseRotate.mousedown(N,Y),this.mousePitch&&this.mousePitch.mousedown(N,Y),b.disableDrag()},_i.prototype.move=function(N,Y){var G=this.map,L=this.mouseRotate.mousemoveWindow(N,Y);if(L&&L.bearingDelta&&G.setBearing(G.getBearing()+L.bearingDelta),this.mousePitch){var q=this.mousePitch.mousemoveWindow(N,Y);q&&q.pitchDelta&&G.setPitch(G.getPitch()+q.pitchDelta)}},_i.prototype.off=function(){var N=this.element;b.removeEventListener(N,"mousedown",this.mousedown),b.removeEventListener(N,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(N,"touchmove",this.touchmove),b.removeEventListener(N,"touchend",this.touchend),b.removeEventListener(N,"touchcancel",this.reset),this.offTemp()},_i.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(o.window,"mousemove",this.mousemove),b.removeEventListener(o.window,"mouseup",this.mouseup)},_i.prototype.mousedown=function(N){this.down(o.extend({},N,{ctrlKey:!0,preventDefault:function(){return N.preventDefault()}}),b.mousePos(this.element,N)),b.addEventListener(o.window,"mousemove",this.mousemove),b.addEventListener(o.window,"mouseup",this.mouseup)},_i.prototype.mousemove=function(N){this.move(N,b.mousePos(this.element,N))},_i.prototype.mouseup=function(N){this.mouseRotate.mouseupWindow(N),this.mousePitch&&this.mousePitch.mouseupWindow(N),this.offTemp()},_i.prototype.touchstart=function(N){N.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return N.preventDefault()}},this._startPos))},_i.prototype.touchmove=function(N){N.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.move({preventDefault:function(){return N.preventDefault()}},this._lastPos))},_i.prototype.touchend=function(N){N.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},_i.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Pr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Fr(N,Y,G){var L=N.classList;for(var q in Pr)L.remove("mapboxgl-"+G+"-anchor-"+q);L.add("mapboxgl-"+G+"-anchor-"+Y)}var Za,Vo=function(N){function Y(G,L){if(N.call(this),(G instanceof o.window.HTMLElement||L)&&(G=o.extend({element:G},L)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=G&&G.anchor||"center",this._color=G&&G.color||"#3FB1CE",this._scale=G&&G.scale||1,this._draggable=G&&G.draggable||!1,this._clickTolerance=G&&G.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=G&&G.rotation||0,this._rotationAlignment=G&&G.rotationAlignment||"auto",this._pitchAlignment=G&&G.pitchAlignment&&G.pitchAlignment!=="auto"?G.pitchAlignment:this._rotationAlignment,G&&G.element)this._element=G.element,this._offset=o.Point.convert(G&&G.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var q=b.createNS("http://www.w3.org/2000/svg","svg");q.setAttributeNS(null,"display","block"),q.setAttributeNS(null,"height","41px"),q.setAttributeNS(null,"width","27px"),q.setAttributeNS(null,"viewBox","0 0 27 41");var ee=b.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"stroke","none"),ee.setAttributeNS(null,"stroke-width","1"),ee.setAttributeNS(null,"fill","none"),ee.setAttributeNS(null,"fill-rule","evenodd");var ae=b.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"fill-rule","nonzero");var fe=b.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),fe.setAttributeNS(null,"fill","#000000");for(var we=0,Oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];we<Oe.length;we+=1){var Be=Oe[we],Ge=b.createNS("http://www.w3.org/2000/svg","ellipse");Ge.setAttributeNS(null,"opacity","0.04"),Ge.setAttributeNS(null,"cx","10.5"),Ge.setAttributeNS(null,"cy","5.80029008"),Ge.setAttributeNS(null,"rx",Be.rx),Ge.setAttributeNS(null,"ry",Be.ry),fe.appendChild(Ge)}var Ye=b.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"fill",this._color);var rt=b.createNS("http://www.w3.org/2000/svg","path");rt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ye.appendChild(rt);var pt=b.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"fill","#000000");var vt=b.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),pt.appendChild(vt);var St=b.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"transform","translate(6.0, 7.0)"),St.setAttributeNS(null,"fill","#FFFFFF");var It=b.createNS("http://www.w3.org/2000/svg","g");It.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Ct=b.createNS("http://www.w3.org/2000/svg","circle");Ct.setAttributeNS(null,"fill","#000000"),Ct.setAttributeNS(null,"opacity","0.25"),Ct.setAttributeNS(null,"cx","5.5"),Ct.setAttributeNS(null,"cy","5.5"),Ct.setAttributeNS(null,"r","5.4999962");var jt=b.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),It.appendChild(Ct),It.appendChild(jt),ae.appendChild(fe),ae.appendChild(Ye),ae.appendChild(pt),ae.appendChild(St),ae.appendChild(It),q.appendChild(ae),q.setAttributeNS(null,"height",41*this._scale+"px"),q.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(q),this._offset=o.Point.convert(G&&G.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),Fr(this._element,this._anchor,"marker"),this._popup=null}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this.remove(),this._map=G,G.getCanvasContainer().appendChild(this._element),G.on("move",this._update),G.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=o.LngLat.convert(G),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(G){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),G){if(!("offset"in G.options)){var L=13.5,q=Math.sqrt(Math.pow(L,2)/2);G.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[q,-1*(24.6+q)],"bottom-right":[-q,-1*(24.6+q)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=G,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(G){var L=G.code,q=G.charCode||G.keyCode;L!=="Space"&&L!=="Enter"&&q!==32&&q!==13||this.togglePopup()},Y.prototype._onMapClick=function(G){var L=G.originalEvent.target,q=this._element;this._popup&&(L===q||q.contains(L))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var G=this._popup;return G?(G.isOpen()?G.remove():G.addTo(this._map),this):this},Y.prototype._update=function(G){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=nl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var q="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?q="rotateX(0deg)":this._pitchAlignment==="map"&&(q="rotateX("+this._map.getPitch()+"deg)"),G&&G.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,Pr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+q+" "+L)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(G){return this._offset=o.Point.convert(G),this._update(),this},Y.prototype._onMove=function(G){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=G.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=G.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(G){this._element.contains(G.originalEvent.target)&&(G.preventDefault(),this._positionDelta=G.point.sub(this._pos).add(this._offset),this._pointerdownPos=G.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(G){return this._draggable=!!G,this._map&&(G?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(G){return this._rotation=G||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(G){return this._rotationAlignment=G||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(G){return this._pitchAlignment=G&&G!=="auto"?G:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(o.Evented),as={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Hi=0,Ho=!1,ui=function(N){function Y(G){N.call(this),this.options=o.extend({},as,G),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.onAdd=function(G){return this._map=G,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,Za!==void 0?L(Za):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(q){Za=q.state!=="denied",L(Za)}):(Za=!!o.window.navigator.geolocation,L(Za)),this._container;var L},Y.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Hi=0,Ho=!1},Y.prototype._isOutOfMapMaxBounds=function(G){var L=this._map.getMaxBounds(),q=G.coords;return L&&(q.longitude<L.getWest()||q.longitude>L.getEast()||q.latitude<L.getSouth()||q.latitude>L.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function(G){if(this._map){if(this._isOutOfMapMaxBounds(G))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",G)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=G,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(G),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(G),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",G)),this._finish()}},Y.prototype._updateCamera=function(G){var L=new o.LngLat(G.coords.longitude,G.coords.latitude),q=G.coords.accuracy,ee=this._map.getBearing(),ae=o.extend({bearing:ee},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(q),ae,{geolocateSource:!0})},Y.prototype._updateMarker=function(G){if(G){var L=new o.LngLat(G.coords.longitude,G.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=G.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var G=this._map._container.clientHeight/2,L=this._map.unproject([0,G]),q=this._map.unproject([1,G]),ee=L.distanceTo(q),ae=Math.ceil(2*this._accuracy/ee);this._circleElement.style.width=ae+"px",this._circleElement.style.height=ae+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(G){if(this._map){if(this.options.trackUserLocation)if(G.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(G.code===3&&Ho)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",G)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(G){var L=this;if(this._container.addEventListener("contextmenu",function(ae){return ae.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",G===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var q=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=q,this._geolocateButton.setAttribute("aria-label",q)}else{var ee=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ee,this._geolocateButton.setAttribute("aria-label",ee)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Vo(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Vo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ae){var fe=ae.originalEvent&&ae.originalEvent.type==="resize";ae.geolocateSource||L._watchState!=="ACTIVE_LOCK"||fe||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new o.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Hi--,Ho=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var G;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Hi>1?(G={maximumAge:6e5,timeout:0},Ho=!0):(G=this.options.positionOptions,Ho=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,G)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(o.Evented),tc={maxWidth:100,unit:"metric"},Ka=function(N){this.options=o.extend({},tc,N),o.bindAll(["_onMove","setUnit"],this)};function pi(N,Y,G){var L=G&&G.maxWidth||100,q=N._container.clientHeight/2,ee=N.unproject([0,q]),ae=N.unproject([L,q]),fe=ee.distanceTo(ae);if(G&&G.unit==="imperial"){var we=3.2808*fe;we>5280?Ai(Y,L,we/5280,N._getUIString("ScaleControl.Miles")):Ai(Y,L,we,N._getUIString("ScaleControl.Feet"))}else G&&G.unit==="nautical"?Ai(Y,L,fe/1852,N._getUIString("ScaleControl.NauticalMiles")):fe>=1e3?Ai(Y,L,fe/1e3,N._getUIString("ScaleControl.Kilometers")):Ai(Y,L,fe,N._getUIString("ScaleControl.Meters"))}function Ai(N,Y,G,L){var q,ee,ae,fe=(q=G,(ee=Math.pow(10,(""+Math.floor(q)).length-1))*((ae=q/ee)>=10?10:ae>=5?5:ae>=3?3:ae>=2?2:ae>=1?1:function(Oe){var Be=Math.pow(10,Math.ceil(-Math.log(Oe)/Math.LN10));return Math.round(Oe*Be)/Be}(ae))),we=fe/G;N.style.width=Y*we+"px",N.innerHTML=fe+"&nbsp;"+L}Ka.prototype.getDefaultPosition=function(){return"bottom-left"},Ka.prototype._onMove=function(){pi(this._map,this._container,this.options)},Ka.prototype.onAdd=function(N){return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ka.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ka.prototype.setUnit=function(N){this.options.unit=N,pi(this._map,this._container,this.options)};var Ua=function(N){this._fullscreen=!1,N&&N.container&&(N.container instanceof o.window.HTMLElement?this._container=N.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ua.prototype.onAdd=function(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ua.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Ua.prototype._setupUI=function(){var N=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",N).setAttribute("aria-hidden",!0),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ua.prototype._updateTitle=function(){var N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N},Ua.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ua.prototype._isFullscreen=function(){return this._fullscreen},Ua.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ua.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Is={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Pu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Qe=function(N){function Y(G){N.call(this),this.options=o.extend(Object.create(Is),G),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return N&&(Y.__proto__=N),Y.prototype=Object.create(N&&N.prototype),Y.prototype.constructor=Y,Y.prototype.addTo=function(G){return this._map&&this.remove(),this._map=G,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(G){return this._lngLat=o.LngLat.convert(G),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(G){return this.setDOMContent(o.window.document.createTextNode(G))},Y.prototype.setHTML=function(G){var L,q=o.window.document.createDocumentFragment(),ee=o.window.document.createElement("body");for(ee.innerHTML=G;L=ee.firstChild;)q.appendChild(L);return this.setDOMContent(q)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(G){return this.options.maxWidth=G,this._update(),this},Y.prototype.setDOMContent=function(G){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(G),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Y.prototype.addClassName=function(G){this._container&&this._container.classList.add(G)},Y.prototype.removeClassName=function(G){this._container&&this._container.classList.remove(G)},Y.prototype.setOffset=function(G){return this.options.offset=G,this._update(),this},Y.prototype.toggleClassName=function(G){if(this._container)return this._container.classList.toggle(G)},Y.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(G){this._update(G.point)},Y.prototype._onMouseMove=function(G){this._update(G.point)},Y.prototype._onDrag=function(G){this._update(G.point)},Y.prototype._update=function(G){var L=this,q=this._lngLat||this._trackPointer;if(this._map&&q&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ye){return L._container.classList.add(Ye)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=nl(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||G)){var ee=this._pos=this._trackPointer&&G?G:this._map.project(this._lngLat),ae=this.options.anchor,fe=nt(this.options.offset);if(!ae){var we,Oe=this._container.offsetWidth,Be=this._container.offsetHeight;we=ee.y+fe.bottom.y<Be?["top"]:ee.y>this._map.transform.height-Be?["bottom"]:[],ee.x<Oe/2?we.push("left"):ee.x>this._map.transform.width-Oe/2&&we.push("right"),ae=we.length===0?"bottom":we.join("-")}var Ge=ee.add(fe[ae]).round();b.setTransform(this._container,Pr[ae]+" translate("+Ge.x+"px,"+Ge.y+"px)"),Fr(this._container,ae,"popup")}},Y.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var G=this._container.querySelector(Pu);G&&G.focus()}},Y.prototype._onClose=function(){this.remove()},Y}(o.Evented);function nt(N){if(N){if(typeof N=="number"){var Y=Math.round(Math.sqrt(.5*Math.pow(N,2)));return{center:new o.Point(0,0),top:new o.Point(0,N),"top-left":new o.Point(Y,Y),"top-right":new o.Point(-Y,Y),bottom:new o.Point(0,-N),"bottom-left":new o.Point(Y,-Y),"bottom-right":new o.Point(-Y,-Y),left:new o.Point(N,0),right:new o.Point(-N,0)}}if(N instanceof o.Point||Array.isArray(N)){var G=o.Point.convert(N);return{center:G,top:G,"top-left":G,"top-right":G,bottom:G,"bottom-left":G,"bottom-right":G,left:G,right:G}}return{center:o.Point.convert(N.center||[0,0]),top:o.Point.convert(N.top||[0,0]),"top-left":o.Point.convert(N["top-left"]||[0,0]),"top-right":o.Point.convert(N["top-right"]||[0,0]),bottom:o.Point.convert(N.bottom||[0,0]),"bottom-left":o.Point.convert(N["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(N["bottom-right"]||[0,0]),left:o.Point.convert(N.left||[0,0]),right:o.Point.convert(N.right||[0,0])}}return nt(new o.Point(0,0))}var ct={version:o.version,supported:_,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:To,NavigationControl:ko,GeolocateControl:ui,AttributionControl:Ia,ScaleControl:Ka,FullscreenControl:Ua,Popup:Qe,Marker:Vo,Style:Yn,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function(){dt().acquire(qe)},clearPrewarmedResources:function(){var N=lt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(qe),lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(N){o.config.ACCESS_TOKEN=N},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(N){o.config.API_URL=N},get workerCount(){return je.workerCount},set workerCount(N){je.workerCount=N},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(N){o.config.MAX_PARALLEL_IMAGE_REQUESTS=N},clearStorage:function(N){o.clearTileCache(N)},workerUrl:""};return ct}),T}()},3108:function(U,C,e){U.exports=e(26099)},26099:function(U,C,e){var T=e(64928),k=e(32420),o=e(51160),_=e(76752),b=e(55616),f=e(31264),s=e(47520),t=e(18400),i=e(72512),r=e(76244);function n(a,l){for(var u=l[0],h=l[1],c=1/(l[2]-u),x=1/(l[3]-h),p=new Array(a.length),v=0,g=a.length/2;v<g;v++)p[2*v]=k((a[2*v]-u)*c,0,1),p[2*v+1]=k((a[2*v+1]-h)*x,0,1);return p}U.exports=function(a,l){l||(l={}),a=s(a,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=f(l.maxDepth,255),h=f(l.bounds,_(a,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var c,x=n(a,h),p=a.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?c=new(i(l.dtype))(p):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=p));for(var v=0;v<p;++v)c[v]=v;var g=[],y=[],m=[],w=[];(function D(V,z,j,X,F,H){if(!X.length)return null;var W=g[F]||(g[F]=[]),ie=m[F]||(m[F]=[]),te=y[F]||(y[F]=[]),Q=W.length;if(++F>u||H>1073741824){for(var ne=0;ne<X.length;ne++)W.push(X[ne]),ie.push(H),te.push(null,null,null,null);return Q}if(W.push(X[0]),ie.push(H),X.length<=1)return te.push(null,null,null,null),Q;for(var $=.5*j,J=V+$,re=z+$,se=[],ue=[],he=[],pe=[],ge=1,ye=X.length;ge<ye;ge++){var be=X[ge],Te=x[2*be],Se=x[2*be+1];Te<J?Se<re?se.push(be):ue.push(be):Se<re?he.push(be):pe.push(be)}return H<<=2,te.push(D(V,z,$,se,F,H),D(V,re,$,ue,F,H+1),D(J,z,$,he,F,H+2),D(J,re,$,pe,F,H+3)),Q})(0,0,1,c,0,1);for(var d=0,S=0;S<g.length;S++){var A=g[S];if(c.set)c.set(A,d);else for(var E=0,P=A.length;E<P;E++)c[E+d]=A[E];var O=d+g[S].length;w[S]=[d,O],d=O}return c.range=function(){for(var D,V=[],z=arguments.length;z--;)V[z]=arguments[z];if(t(V[V.length-1])){var j=V.pop();V.length||j.x==null&&j.l==null&&j.left==null||(V=[j],D={}),D=b(j,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else D={};V.length||(V=h);var X,F=o.apply(void 0,V),H=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],W=H[0],ie=H[1],te=H[2],Q=H[3],ne=n([W,ie,te,Q],h),$=ne[0],J=ne[1],re=ne[2],se=ne[3],ue=f(D.level,g.length);if(D.d!=null&&(typeof D.d=="number"?X=[D.d,D.d]:D.d.length&&(X=D.d),ue=Math.min(Math.max(Math.ceil(-r(Math.abs(X[0])/(h[2]-h[0]))),Math.ceil(-r(Math.abs(X[1])/(h[3]-h[1])))),ue)),ue=Math.min(ue,g.length),D.lod)return function(pe,ge,ye,be,Te){for(var Se=[],Fe=0;Fe<Te;Fe++){var xe=m[Fe],le=w[Fe][0],oe=I(pe,ge,Fe),de=I(ye,be,Fe),Ce=T.ge(xe,oe),_e=T.gt(xe,de,Ce,xe.length-1);Se[Fe]=[Ce+le,_e+le]}return Se}($,J,re,se,ue);var he=[];return function pe(ge,ye,be,Te,Se,Fe){if(Se!==null&&Fe!==null&&!($>ge+be||J>ye+be||re<ge||se<ye||Te>=ue||Se===Fe)){var xe=g[Te];Fe===void 0&&(Fe=xe.length);for(var le=Se;le<Fe;le++){var oe=xe[le],de=a[2*oe],Ce=a[2*oe+1];de>=W&&de<=te&&Ce>=ie&&Ce<=Q&&he.push(oe)}var _e=y[Te],Ae=_e[4*Se+0],Le=_e[4*Se+1],ze=_e[4*Se+2],Re=_e[4*Se+3],ve=function(De,Pe){for(var Ue=null,We=0;Ue===null;)if(Ue=De[4*Pe+We],++We>De.length)return null;return Ue}(_e,Se+1),ke=.5*be,Ee=Te+1;pe(ge,ye,ke,Ee,Ae,Le||ze||Re||ve),pe(ge,ye+ke,ke,Ee,Le,ze||Re||ve),pe(ge+ke,ye,ke,Ee,ze,Re||ve),pe(ge+ke,ye+ke,ke,Ee,Re,ve)}}(0,0,1,0,0,1),he},c;function I(D,V,z){for(var j=1,X=.5,F=.5,H=.5,W=0;W<z;W++)j<<=2,j+=D<X?V<F?0:1:V<F?2:3,H*=.5,X+=D<X?-H:H,F+=V<F?-H:H;return j}}},40440:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(3256),k=6378137;function o(f){var s=0;if(f&&f.length>0){s+=Math.abs(_(f[0]));for(var t=1;t<f.length;t++)s-=Math.abs(_(f[t]))}return s}function _(f){var s,t,i,r,n,a,l=0,u=f.length;if(u>2){for(a=0;a<u;a++)a===u-2?(i=u-2,r=u-1,n=0):a===u-1?(i=u-1,r=0,n=1):(i=a,r=a+1,n=a+2),s=f[i],t=f[r],l+=(b(f[n][0])-b(s[0]))*Math.sin(b(t[1]));l=l*k*k/2}return l}function b(f){return f*Math.PI/180}C.default=function(f){return T.geomReduce(f,function(s,t){return s+function(i){var r,n=0;switch(i.type){case"Polygon":return o(i.coordinates);case"MultiPolygon":for(r=0;r<i.coordinates.length;r++)n+=o(i.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function T(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(a[0])||!n(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function k(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var x=c[h];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<x[x.length-1].length;p++)if(x[x.length-1][p]!==x[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function _(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return T(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=T,C.points=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return T(h,l)}),u)},C.polygon=k,C.polygons=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return k(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return o(h,l)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=n,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},3256:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(46284);function k(i,r,n){if(i!==null)for(var a,l,u,h,c,x,p,v,g=0,y=0,m=i.type,w=m==="FeatureCollection",d=m==="Feature",S=w?i.features.length:1,A=0;A<S;A++){c=(v=!!(p=w?i.features[A].geometry:d?i.geometry:i)&&p.type==="GeometryCollection")?p.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=v?p.geometries[E]:p)!==null){x=h.coordinates;var I=h.type;switch(g=!n||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(x,y,A,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(a=0;a<x.length;a++){if(r(x[a],y,A,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(a=0;a<x.length;a++){for(l=0;l<x[a].length-g;l++){if(r(x[a][l],y,A,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(a=0;a<x.length;a++){for(O=0,l=0;l<x[a].length;l++){for(u=0;u<x[a][l].length-g;u++){if(r(x[a][l][u],y,A,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(k(h.geometries[a],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,a,l,u,h,c,x,p,v,g,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",d=m?i.features.length:1;for(n=0;n<d;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,p=m?i.features[n].properties:w?i.properties:{},v=m?i.features[n].bbox:w?i.bbox:void 0,g=m?i.features[n].id:w?i.id:void 0,h=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,p,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],y,p,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,p,v,g)===!1)return!1;y++}}function f(i,r){b(i,function(n,a,l,u,h){var c,x=n===null?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return r(T.feature(n,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<n.coordinates.length;p++){var v={type:c,coordinates:n.coordinates[p]};if(r(T.feature(v,l),a,p)===!1)return!1}})}function s(i,r){f(i,function(n,a,l){var u=0;if(n.geometry){var h=n.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,x=0,p=0,v=0;return k(n,function(g,y,m,w,d){if(c===void 0||a>x||w>p||d>v)return c=g,x=a,p=w,v=d,void(u=0);var S=T.lineString([c,g],n.properties);if(r(S,a,l,d,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");f(i,function(n,a,l){if(n.geometry!==null){var u=n.geometry.type,h=n.geometry.coordinates;switch(u){case"LineString":if(r(n,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(T.lineString(h[c],n.properties),a,l,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,r,n,a){var l=n;return k(i,function(u,h,c,x,p){l=h===0&&n===void 0?u:r(l,u,h,c,x,p)},a),l},C.propEach=o,C.propReduce=function(i,r,n){var a=n;return o(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.featureEach=_,C.featureReduce=function(i,r,n){var a=n;return _(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},C.geomEach=b,C.geomReduce=function(i,r,n){var a=n;return b(i,function(l,u,h,c,x){a=u===0&&n===void 0?l:r(a,l,u,h,c,x)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,n){var a=n;return f(i,function(l,u,h){a=u===0&&h===0&&n===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,n){var a=n,l=!1;return s(i,function(u,h,c,x,p){a=l===!1&&n===void 0?u:r(a,u,h,c,x,p),l=!0}),a},C.lineEach=t,C.lineReduce=function(i,r,n){var a=n;return t(i,function(l,u,h,c){a=u===0&&n===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=x.length+h-1),T.lineString([x[h],x[h+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h-1),T.lineString([x[u][h],x[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h-1),T.lineString([x[l][h],x[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h-1),T.lineString([x[l][u][h],x[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":return T.point(x,c,r);case"MultiPoint":return l<0&&(l=x.length+l),T.point(x[l],c,r);case"LineString":return h<0&&(h=x.length+h),T.point(x[h],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h),T.point(x[u][h],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h),T.point(x[l][h],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h),T.point(x[l][u][h],c,r)}throw new Error("geojson is invalid")}},42428:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(84880);function k(o){var _=[1/0,1/0,-1/0,-1/0];return T.coordEach(o,function(b){_[0]>b[0]&&(_[0]=b[0]),_[1]>b[1]&&(_[1]=b[1]),_[2]<b[0]&&(_[2]=b[0]),_[3]<b[1]&&(_[3]=b[1])}),_}k.default=k,C.default=k},76796:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function T(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(a[0])||!n(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function k(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var x=c[h];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<x[x.length-1].length;p++)if(x[x.length-1][p]!==x[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function _(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:1.0936*C.earthRadius},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:1.0936133},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return T(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=T,C.points=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return T(h,l)}),u)},C.polygon=k,C.polygons=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return k(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return o(h,l)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=n,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},84880:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(76796);function k(i,r,n){if(i!==null)for(var a,l,u,h,c,x,p,v,g=0,y=0,m=i.type,w=m==="FeatureCollection",d=m==="Feature",S=w?i.features.length:1,A=0;A<S;A++){c=(v=!!(p=w?i.features[A].geometry:d?i.geometry:i)&&p.type==="GeometryCollection")?p.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=v?p.geometries[E]:p)!==null){x=h.coordinates;var I=h.type;switch(g=!n||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(x,y,A,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(a=0;a<x.length;a++){if(r(x[a],y,A,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(a=0;a<x.length;a++){for(l=0;l<x[a].length-g;l++){if(r(x[a][l],y,A,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(a=0;a<x.length;a++){for(O=0,l=0;l<x[a].length;l++){for(u=0;u<x[a][l].length-g;u++){if(r(x[a][l][u],y,A,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(k(h.geometries[a],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,a,l,u,h,c,x,p,v,g,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",d=m?i.features.length:1;for(n=0;n<d;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,p=m?i.features[n].properties:w?i.properties:{},v=m?i.features[n].bbox:w?i.bbox:void 0,g=m?i.features[n].id:w?i.id:void 0,h=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,p,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],y,p,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,p,v,g)===!1)return!1;y++}}function f(i,r){b(i,function(n,a,l,u,h){var c,x=n===null?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return r(T.feature(n,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<n.coordinates.length;p++){var v={type:c,coordinates:n.coordinates[p]};if(r(T.feature(v,l),a,p)===!1)return!1}})}function s(i,r){f(i,function(n,a,l){var u=0;if(n.geometry){var h=n.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,x=0,p=0,v=0;return k(n,function(g,y,m,w,d){if(c===void 0||a>x||w>p||d>v)return c=g,x=a,p=w,v=d,void(u=0);var S=T.lineString([c,g],n.properties);if(r(S,a,l,d,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");f(i,function(n,a,l){if(n.geometry!==null){var u=n.geometry.type,h=n.geometry.coordinates;switch(u){case"LineString":if(r(n,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(T.lineString(h[c],n.properties),a,l,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,r,n,a){var l=n;return k(i,function(u,h,c,x,p){l=h===0&&n===void 0?u:r(l,u,h,c,x,p)},a),l},C.propEach=o,C.propReduce=function(i,r,n){var a=n;return o(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.featureEach=_,C.featureReduce=function(i,r,n){var a=n;return _(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},C.geomEach=b,C.geomReduce=function(i,r,n){var a=n;return b(i,function(l,u,h,c,x){a=u===0&&n===void 0?l:r(a,l,u,h,c,x)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,n){var a=n;return f(i,function(l,u,h){a=u===0&&h===0&&n===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,n){var a=n,l=!1;return s(i,function(u,h,c,x,p){a=l===!1&&n===void 0?u:r(a,u,h,c,x,p),l=!0}),a},C.lineEach=t,C.lineReduce=function(i,r,n){var a=n;return t(i,function(l,u,h,c){a=u===0&&n===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=x.length+h-1),T.lineString([x[h],x[h+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h-1),T.lineString([x[u][h],x[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h-1),T.lineString([x[l][h],x[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h-1),T.lineString([x[l][u][h],x[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":return T.point(x,c,r);case"MultiPoint":return l<0&&(l=x.length+l),T.point(x[l],c,r);case"LineString":return h<0&&(h=x.length+h),T.point(x[h],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h),T.point(x[u][h],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h),T.point(x[l][h],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h),T.point(x[l][u][h],c,r)}throw new Error("geojson is invalid")}},77844:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(43752),k=e(49840);C.default=function(o,_){_===void 0&&(_={});var b=0,f=0,s=0;return T.coordEach(o,function(t){b+=t[0],f+=t[1],s++}),k.point([b/s,f/s],_.properties)}},49840:function(U,C){function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function T(a,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:a},l,u)}function k(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var x=c[h];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var p=0;p<x[x.length-1].length;p++)if(x[x.length-1][p]!==x[0][p])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function o(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function _(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function i(a,l){l===void 0&&(l="kilometers");var u=C.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function n(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)&&!/^\s*$/.test(a)}Object.defineProperty(C,"__esModule",{value:!0}),C.earthRadius=63710088e-1,C.factors={centimeters:100*C.earthRadius,centimetres:100*C.earthRadius,degrees:C.earthRadius/111325,feet:3.28084*C.earthRadius,inches:39.37*C.earthRadius,kilometers:C.earthRadius/1e3,kilometres:C.earthRadius/1e3,meters:C.earthRadius,metres:C.earthRadius,miles:C.earthRadius/1609.344,millimeters:1e3*C.earthRadius,millimetres:1e3*C.earthRadius,nauticalmiles:C.earthRadius/1852,radians:1,yards:C.earthRadius/1.0936},C.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/C.earthRadius,yards:.91441111923921},C.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},C.feature=e,C.geometry=function(a,l,u){switch(a){case"Point":return T(l).geometry;case"LineString":return o(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},C.point=T,C.points=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return T(h,l)}),u)},C.polygon=k,C.polygons=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return k(h,l)}),u)},C.lineString=o,C.lineStrings=function(a,l,u){return u===void 0&&(u={}),_(a.map(function(h){return o(h,l)}),u)},C.featureCollection=_,C.multiLineString=b,C.multiPoint=f,C.multiPolygon=s,C.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},C.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},C.radiansToLength=t,C.lengthToRadians=i,C.lengthToDegrees=function(a,l){return r(i(a,l))},C.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},C.radiansToDegrees=r,C.degreesToRadians=function(a){return a%360*Math.PI/180},C.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(i(a,l),u)},C.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=C.areaFactors[l];if(!h)throw new Error("invalid original units");var c=C.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},C.isNumber=n,C.isObject=function(a){return!!a&&a.constructor===Object},C.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!n(l))throw new Error("bbox must only contain numbers")})},C.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")},C.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},C.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},C.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},C.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},C.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},C.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},C.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(U,C,e){Object.defineProperty(C,"__esModule",{value:!0});var T=e(49840);function k(i,r,n){if(i!==null)for(var a,l,u,h,c,x,p,v,g=0,y=0,m=i.type,w=m==="FeatureCollection",d=m==="Feature",S=w?i.features.length:1,A=0;A<S;A++){c=(v=!!(p=w?i.features[A].geometry:d?i.geometry:i)&&p.type==="GeometryCollection")?p.geometries.length:1;for(var E=0;E<c;E++){var P=0,O=0;if((h=v?p.geometries[E]:p)!==null){x=h.coordinates;var I=h.type;switch(g=!n||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(r(x,y,A,P,O)===!1)return!1;y++,P++;break;case"LineString":case"MultiPoint":for(a=0;a<x.length;a++){if(r(x[a],y,A,P,O)===!1)return!1;y++,I==="MultiPoint"&&P++}I==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(a=0;a<x.length;a++){for(l=0;l<x[a].length-g;l++){if(r(x[a][l],y,A,P,O)===!1)return!1;y++}I==="MultiLineString"&&P++,I==="Polygon"&&O++}I==="Polygon"&&P++;break;case"MultiPolygon":for(a=0;a<x.length;a++){for(O=0,l=0;l<x[a].length;l++){for(u=0;u<x[a][l].length-g;u++){if(r(x[a][l][u],y,A,P,O)===!1)return!1;y++}O++}P++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(k(h.geometries[a],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function b(i,r){var n,a,l,u,h,c,x,p,v,g,y=0,m=i.type==="FeatureCollection",w=i.type==="Feature",d=m?i.features.length:1;for(n=0;n<d;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,p=m?i.features[n].properties:w?i.properties:{},v=m?i.features[n].bbox:w?i.bbox:void 0,g=m?i.features[n].id:w?i.id:void 0,h=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,y,p,v,g)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],y,p,v,g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,y,p,v,g)===!1)return!1;y++}}function f(i,r){b(i,function(n,a,l,u,h){var c,x=n===null?null:n.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return r(T.feature(n,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var p=0;p<n.coordinates.length;p++){var v={type:c,coordinates:n.coordinates[p]};if(r(T.feature(v,l),a,p)===!1)return!1}})}function s(i,r){f(i,function(n,a,l){var u=0;if(n.geometry){var h=n.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,x=0,p=0,v=0;return k(n,function(g,y,m,w,d){if(c===void 0||a>x||w>p||d>v)return c=g,x=a,p=w,v=d,void(u=0);var S=T.lineString([c,g],n.properties);if(r(S,a,l,d,u)===!1)return!1;u++,c=g})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");f(i,function(n,a,l){if(n.geometry!==null){var u=n.geometry.type,h=n.geometry.coordinates;switch(u){case"LineString":if(r(n,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(T.lineString(h[c],n.properties),a,l,c)===!1)return!1}}})}C.coordEach=k,C.coordReduce=function(i,r,n,a){var l=n;return k(i,function(u,h,c,x,p){l=h===0&&n===void 0?u:r(l,u,h,c,x,p)},a),l},C.propEach=o,C.propReduce=function(i,r,n){var a=n;return o(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.featureEach=_,C.featureReduce=function(i,r,n){var a=n;return _(i,function(l,u){a=u===0&&n===void 0?l:r(a,l,u)}),a},C.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},C.geomEach=b,C.geomReduce=function(i,r,n){var a=n;return b(i,function(l,u,h,c,x){a=u===0&&n===void 0?l:r(a,l,u,h,c,x)}),a},C.flattenEach=f,C.flattenReduce=function(i,r,n){var a=n;return f(i,function(l,u,h){a=u===0&&h===0&&n===void 0?l:r(a,l,u,h)}),a},C.segmentEach=s,C.segmentReduce=function(i,r,n){var a=n,l=!1;return s(i,function(u,h,c,x,p){a=l===!1&&n===void 0?u:r(a,u,h,c,x,p),l=!0}),a},C.lineEach=t,C.lineReduce=function(i,r,n){var a=n;return t(i,function(l,u,h,c){a=u===0&&n===void 0?l:r(a,l,u,h,c)}),a},C.findSegment=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=x.length+h-1),T.lineString([x[h],x[h+1]],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h-1),T.lineString([x[u][h],x[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h-1),T.lineString([x[l][h],x[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h-1),T.lineString([x[l][u][h],x[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},C.findPoint=function(i,r){if(r=r||{},!T.isObject(r))throw new Error("options is invalid");var n,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":a<0&&(a=i.features.length+a),c=c||i.features[a].properties,n=i.features[a].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var x=n.coordinates;switch(n.type){case"Point":return T.point(x,c,r);case"MultiPoint":return l<0&&(l=x.length+l),T.point(x[l],c,r);case"LineString":return h<0&&(h=x.length+h),T.point(x[h],c,r);case"Polygon":return u<0&&(u=x.length+u),h<0&&(h=x[u].length+h),T.point(x[u][h],c,r);case"MultiLineString":return l<0&&(l=x.length+l),h<0&&(h=x[l].length+h),T.point(x[l][h],c,r);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),h<0&&(h=x[l][u].length-h),T.point(x[l][u][h],c,r)}throw new Error("geojson is invalid")}},49972:function(U){U.exports=function(C){var e=0,T=0,k=0,o=0;return C.map(function(_){var b=(_=_.slice())[0],f=b.toUpperCase();if(b!=f)switch(_[0]=f,b){case"a":_[6]+=k,_[7]+=o;break;case"v":_[1]+=o;break;case"h":_[1]+=k;break;default:for(var s=1;s<_.length;)_[s++]+=k,_[s++]+=o}switch(f){case"Z":k=e,o=T;break;case"H":k=_[1];break;case"V":o=_[1];break;case"M":k=e=_[1],o=T=_[2];break;default:k=_[_.length-2],o=_[_.length-1]}return _})}},76752:function(U){U.exports=function(C,e){if(!C||C.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var T=Array(2*e),k=0;k<e;k++){for(var o=-1/0,_=1/0,b=k,f=C.length;b<f;b+=e)C[b]>o&&(o=C[b]),C[b]<_&&(_=C[b]);T[k]=_,T[e+k]=o}return T}},10272:function(U){U.exports=function(C,e,T){if(typeof Array.prototype.findIndex=="function")return C.findIndex(e,T);if(typeof e!="function")throw new TypeError("predicate must be a function");var k=Object(C),o=k.length;if(o===0)return-1;for(var _=0;_<o;_++)if(e.call(T,k[_],_,k))return _;return-1}},71152:function(U,C,e){var T=e(76752);U.exports=function(k,o,_){if(!k||k.length==null)throw Error("Argument should be an array");o==null&&(o=1),_==null&&(_=T(k,o));for(var b=0;b<o;b++){var f=_[o+b],s=_[b],t=b,i=k.length;if(f===1/0&&s===-1/0)for(t=b;t<i;t+=o)k[t]=k[t]===f?1:k[t]===s?0:.5;else if(f===1/0)for(t=b;t<i;t+=o)k[t]=k[t]===f?1:0;else if(s===-1/0)for(t=b;t<i;t+=o)k[t]=k[t]===s?0:1;else{var r=f-s;for(t=b;t<i;t+=o)isNaN(k[t])||(k[t]=r===0?.5:(k[t]-s)/r)}}return k}},67752:function(U){U.exports=function(C,e){var T=typeof C=="number",k=typeof e=="number";T&&!k?(e=C,C=0):T||k||(C=0,e=0);var o=(e|=0)-(C|=0);if(o<0)throw new Error("array length must be positive");for(var _=new Array(o),b=0,f=C;b<o;b++,f++)_[b]=f;return _}},45408:function(U,C,e){var T=e(4168);function k(z){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},k(z)}var o,_,b=e(86832).codes,f=b.ERR_AMBIGUOUS_ARGUMENT,s=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,r=b.ERR_MISSING_ARGS,n=e(26144),a=e(35840).inspect,l=e(35840).types,u=l.isPromise,h=l.isRegExp,c=Object.assign?Object.assign:e(60964).assign,x=Object.is?Object.is:e(39896);function p(){var z=e(25116);o=z.isDeepEqual,_=z.isDeepStrictEqual}var v=!1,g=U.exports=d,y={};function m(z){throw z.message instanceof Error?z.message:new n(z)}function w(z,j,X,F){if(!X){var H=!1;if(j===0)H=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var W=new n({actual:X,expected:!0,message:F,operator:"==",stackStartFn:z});throw W.generatedMessage=H,W}}function d(){for(var z=arguments.length,j=new Array(z),X=0;X<z;X++)j[X]=arguments[X];w.apply(void 0,[d,j.length].concat(j))}g.fail=function z(j,X,F,H,W){var ie,te=arguments.length;if(te===0?ie="Failed":te===1?(F=j,j=void 0):(v===!1&&(v=!0,(T.emitWarning?T.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),te===2&&(H="!=")),F instanceof Error)throw F;var Q={actual:j,expected:X,operator:H===void 0?"fail":H,stackStartFn:W||z};F!==void 0&&(Q.message=F);var ne=new n(Q);throw ie&&(ne.message=ie,ne.generatedMessage=!0),ne},g.AssertionError=n,g.ok=d,g.equal=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");j!=X&&m({actual:j,expected:X,message:F,operator:"==",stackStartFn:z})},g.notEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");j==X&&m({actual:j,expected:X,message:F,operator:"!=",stackStartFn:z})},g.deepEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&p(),o(j,X)||m({actual:j,expected:X,message:F,operator:"deepEqual",stackStartFn:z})},g.notDeepEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&p(),o(j,X)&&m({actual:j,expected:X,message:F,operator:"notDeepEqual",stackStartFn:z})},g.deepStrictEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&p(),_(j,X)||m({actual:j,expected:X,message:F,operator:"deepStrictEqual",stackStartFn:z})},g.notDeepStrictEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");o===void 0&&p(),_(j,X)&&m({actual:j,expected:X,message:F,operator:"notDeepStrictEqual",stackStartFn:z})},g.strictEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");x(j,X)||m({actual:j,expected:X,message:F,operator:"strictEqual",stackStartFn:z})},g.notStrictEqual=function z(j,X,F){if(arguments.length<2)throw new r("actual","expected");x(j,X)&&m({actual:j,expected:X,message:F,operator:"notStrictEqual",stackStartFn:z})};var S=function z(j,X,F){var H=this;(function(W,ie){if(!(W instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,z),X.forEach(function(W){W in j&&(F!==void 0&&typeof F[W]=="string"&&h(j[W])&&j[W].test(F[W])?H[W]=F[W]:H[W]=j[W])})};function A(z,j,X,F){if(typeof j!="function"){if(h(j))return j.test(z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],j);if(k(z)!=="object"||z===null){var H=new n({actual:z,expected:j,message:X,operator:"deepStrictEqual",stackStartFn:F});throw H.operator=F.name,H}var W=Object.keys(j);if(j instanceof Error)W.push("name","message");else if(W.length===0)throw new t("error",j,"may not be an empty object");return o===void 0&&p(),W.forEach(function(ie){typeof z[ie]=="string"&&h(j[ie])&&j[ie].test(z[ie])||function(te,Q,ne,$,J,re){if(!(ne in te)||!_(te[ne],Q[ne])){if(!$){var se=new S(te,J),ue=new S(Q,J,te),he=new n({actual:se,expected:ue,operator:"deepStrictEqual",stackStartFn:re});throw he.actual=te,he.expected=Q,he.operator=re.name,he}m({actual:te,expected:Q,message:$,operator:re.name,stackStartFn:re})}}(z,j,ie,X,W,F)}),!0}return j.prototype!==void 0&&z instanceof j||!Error.isPrototypeOf(j)&&j.call({},z)===!0}function E(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(j){return j}return y}function P(z){return u(z)||z!==null&&k(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function O(z){return Promise.resolve().then(function(){var j;if(typeof z=="function"){if(!P(j=z()))throw new i("instance of Promise","promiseFn",j)}else{if(!P(z))throw new s("promiseFn",["Function","Promise"],z);j=z}return Promise.resolve().then(function(){return j}).then(function(){return y}).catch(function(X){return X})})}function I(z,j,X,F){if(typeof X=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],X);if(k(j)==="object"&&j!==null){if(j.message===X)throw new f("error/message",'The error message "'.concat(j.message,'" is identical to the message.'))}else if(j===X)throw new f("error/message",'The error "'.concat(j,'" is identical to the message.'));F=X,X=void 0}else if(X!=null&&k(X)!=="object"&&typeof X!="function")throw new s("error",["Object","Error","Function","RegExp"],X);if(j===y){var H="";X&&X.name&&(H+=" (".concat(X.name,")")),H+=F?": ".concat(F):".";var W=z.name==="rejects"?"rejection":"exception";m({actual:void 0,expected:X,operator:z.name,message:"Missing expected ".concat(W).concat(H),stackStartFn:z})}if(X&&!A(j,X,F,z))throw j}function D(z,j,X,F){if(j!==y){if(typeof X=="string"&&(F=X,X=void 0),!X||A(j,X)){var H=F?": ".concat(F):".",W=z.name==="doesNotReject"?"rejection":"exception";m({actual:j,expected:X,operator:z.name,message:"Got unwanted ".concat(W).concat(H,`
`)+'Actual message: "'.concat(j&&j.message,'"'),stackStartFn:z})}throw j}}function V(){for(var z=arguments.length,j=new Array(z),X=0;X<z;X++)j[X]=arguments[X];w.apply(void 0,[V,j.length].concat(j))}g.throws=function z(j){for(var X=arguments.length,F=new Array(X>1?X-1:0),H=1;H<X;H++)F[H-1]=arguments[H];I.apply(void 0,[z,E(j)].concat(F))},g.rejects=function z(j){for(var X=arguments.length,F=new Array(X>1?X-1:0),H=1;H<X;H++)F[H-1]=arguments[H];return O(j).then(function(W){return I.apply(void 0,[z,W].concat(F))})},g.doesNotThrow=function z(j){for(var X=arguments.length,F=new Array(X>1?X-1:0),H=1;H<X;H++)F[H-1]=arguments[H];D.apply(void 0,[z,E(j)].concat(F))},g.doesNotReject=function z(j){for(var X=arguments.length,F=new Array(X>1?X-1:0),H=1;H<X;H++)F[H-1]=arguments[H];return O(j).then(function(W){return D.apply(void 0,[z,W].concat(F))})},g.ifError=function z(j){if(j!=null){var X="ifError got unwanted exception: ";k(j)==="object"&&typeof j.message=="string"?j.message.length===0&&j.constructor?X+=j.constructor.name:X+=j.message:X+=a(j);var F=new n({actual:j,expected:null,operator:"ifError",message:X,stackStartFn:z}),H=j.stack;if(typeof H=="string"){var W=H.split(`
`);W.shift();for(var ie=F.stack.split(`
`),te=0;te<W.length;te++){var Q=ie.indexOf(W[te]);if(Q!==-1){ie=ie.slice(0,Q);break}}F.stack="".concat(ie.join(`
`),`
`).concat(W.join(`
`))}throw F}},g.strict=c(V,g,{equal:g.strictEqual,deepEqual:g.deepStrictEqual,notEqual:g.notStrictEqual,notDeepEqual:g.notDeepStrictEqual}),g.strict.strict=g.strict},26144:function(U,C,e){var T=e(4168);function k(m,w,d){return w in m?Object.defineProperty(m,w,{value:d,enumerable:!0,configurable:!0,writable:!0}):m[w]=d,m}function o(m,w){for(var d=0;d<w.length;d++){var S=w[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function _(m,w){return!w||r(w)!=="object"&&typeof w!="function"?b(m):w}function b(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function f(m){var w=typeof Map=="function"?new Map:void 0;return f=function(d){if(d===null||(S=d,Function.toString.call(S).indexOf("[native code]")===-1))return d;var S;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(d))return w.get(d);w.set(d,A)}function A(){return s(d,arguments,i(this).constructor)}return A.prototype=Object.create(d.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),t(A,d)},f(m)}function s(m,w,d){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,A,E){var P=[null];P.push.apply(P,A);var O=new(Function.bind.apply(S,P));return E&&t(O,E.prototype),O},s.apply(null,arguments)}function t(m,w){return t=Object.setPrototypeOf||function(d,S){return d.__proto__=S,d},t(m,w)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},i(m)}function r(m){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(m)}var n=e(35840).inspect,a=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(m,w,d){return(d===void 0||d>m.length)&&(d=m.length),m.substring(d-w.length,d)===w}var u="",h="",c="",x="",p={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function v(m){var w=Object.keys(m),d=Object.create(Object.getPrototypeOf(m));return w.forEach(function(S){d[S]=m[S]}),Object.defineProperty(d,"message",{value:m.message}),d}function g(m){return n(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(m){function w(A){var E;if(function(ie,te){if(!(ie instanceof te))throw new TypeError("Cannot call a class as a function")}(this,w),r(A)!=="object"||A===null)throw new a("options","Object",A);var P=A.message,O=A.operator,I=A.stackStartFn,D=A.actual,V=A.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,P!=null)E=_(this,i(w).call(this,String(P)));else if(T.stderr&&T.stderr.isTTY&&(T.stderr&&T.stderr.getColorDepth&&T.stderr.getColorDepth()!==1?(u="\x1B[34m",h="\x1B[32m",x="\x1B[39m",c="\x1B[31m"):(u="",h="",x="",c="")),r(D)==="object"&&D!==null&&r(V)==="object"&&V!==null&&"stack"in D&&D instanceof Error&&"stack"in V&&V instanceof Error&&(D=v(D),V=v(V)),O==="deepStrictEqual"||O==="strictEqual")E=_(this,i(w).call(this,function(ie,te,Q){var ne="",$="",J=0,re="",se=!1,ue=g(ie),he=ue.split(`
`),pe=g(te).split(`
`),ge=0,ye="";if(Q==="strictEqual"&&r(ie)==="object"&&r(te)==="object"&&ie!==null&&te!==null&&(Q="strictEqualObject"),he.length===1&&pe.length===1&&he[0]!==pe[0]){var be=he[0].length+pe[0].length;if(be<=10){if(!(r(ie)==="object"&&ie!==null||r(te)==="object"&&te!==null||ie===0&&te===0))return"".concat(p[Q],`

`)+"".concat(he[0]," !== ").concat(pe[0],`
`)}else if(Q!=="strictEqualObject"&&be<(T.stderr&&T.stderr.isTTY?T.stderr.columns:80)){for(;he[0][ge]===pe[0][ge];)ge++;ge>2&&(ye=`
  `.concat(function(ze,Re){if(Re=Math.floor(Re),ze.length==0||Re==0)return"";var ve=ze.length*Re;for(Re=Math.floor(Math.log(Re)/Math.log(2));Re;)ze+=ze,Re--;return ze+ze.substring(0,ve-ze.length)}(" ",ge),"^"),ge=0)}}for(var Te=he[he.length-1],Se=pe[pe.length-1];Te===Se&&(ge++<2?re=`
  `.concat(Te).concat(re):ne=Te,he.pop(),pe.pop(),he.length!==0&&pe.length!==0);)Te=he[he.length-1],Se=pe[pe.length-1];var Fe=Math.max(he.length,pe.length);if(Fe===0){var xe=ue.split(`
`);if(xe.length>30)for(xe[26]="".concat(u,"...").concat(x);xe.length>27;)xe.pop();return"".concat(p.notIdentical,`

`).concat(xe.join(`
`),`
`)}ge>3&&(re=`
`.concat(u,"...").concat(x).concat(re),se=!0),ne!==""&&(re=`
  `.concat(ne).concat(re),ne="");var le=0,oe=p[Q]+`
`.concat(h,"+ actual").concat(x," ").concat(c,"- expected").concat(x),de=" ".concat(u,"...").concat(x," Lines skipped");for(ge=0;ge<Fe;ge++){var Ce=ge-J;if(he.length<ge+1)Ce>1&&ge>2&&(Ce>4?($+=`
`.concat(u,"...").concat(x),se=!0):Ce>3&&($+=`
  `.concat(pe[ge-2]),le++),$+=`
  `.concat(pe[ge-1]),le++),J=ge,ne+=`
`.concat(c,"-").concat(x," ").concat(pe[ge]),le++;else if(pe.length<ge+1)Ce>1&&ge>2&&(Ce>4?($+=`
`.concat(u,"...").concat(x),se=!0):Ce>3&&($+=`
  `.concat(he[ge-2]),le++),$+=`
  `.concat(he[ge-1]),le++),J=ge,$+=`
`.concat(h,"+").concat(x," ").concat(he[ge]),le++;else{var _e=pe[ge],Ae=he[ge],Le=Ae!==_e&&(!l(Ae,",")||Ae.slice(0,-1)!==_e);Le&&l(_e,",")&&_e.slice(0,-1)===Ae&&(Le=!1,Ae+=","),Le?(Ce>1&&ge>2&&(Ce>4?($+=`
`.concat(u,"...").concat(x),se=!0):Ce>3&&($+=`
  `.concat(he[ge-2]),le++),$+=`
  `.concat(he[ge-1]),le++),J=ge,$+=`
`.concat(h,"+").concat(x," ").concat(Ae),ne+=`
`.concat(c,"-").concat(x," ").concat(_e),le+=2):($+=ne,ne="",Ce!==1&&ge!==0||($+=`
  `.concat(Ae),le++))}if(le>20&&ge<Fe-2)return"".concat(oe).concat(de,`
`).concat($,`
`).concat(u,"...").concat(x).concat(ne,`
`)+"".concat(u,"...").concat(x)}return"".concat(oe).concat(se?de:"",`
`).concat($).concat(ne).concat(re).concat(ye)}(D,V,O)));else if(O==="notDeepStrictEqual"||O==="notStrictEqual"){var j=p[O],X=g(D).split(`
`);if(O==="notStrictEqual"&&r(D)==="object"&&D!==null&&(j=p.notStrictEqualObject),X.length>30)for(X[26]="".concat(u,"...").concat(x);X.length>27;)X.pop();E=X.length===1?_(this,i(w).call(this,"".concat(j," ").concat(X[0]))):_(this,i(w).call(this,"".concat(j,`

`).concat(X.join(`
`),`
`)))}else{var F=g(D),H="",W=p[O];O==="notDeepEqual"||O==="notEqual"?(F="".concat(p[O],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(H="".concat(g(V)),F.length>512&&(F="".concat(F.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),O==="deepEqual"||O==="equal"?F="".concat(W,`

`).concat(F,`

should equal

`):H=" ".concat(O," ").concat(H)),E=_(this,i(w).call(this,"".concat(F).concat(H)))}return Error.stackTraceLimit=z,E.generatedMessage=!P,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=D,E.expected=V,E.operator=O,Error.captureStackTrace&&Error.captureStackTrace(b(E),I),E.stack,E.name="AssertionError",_(E)}var d,S;return function(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),E&&t(A,E)}(w,m),d=w,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:n.custom,value:function(A,E){return n(this,function(P){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{},D=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(I).filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable}))),D.forEach(function(V){k(P,V,I[V])})}return P}({},E,{customInspect:!1,depth:0}))}}],S&&o(d.prototype,S),w}(f(Error));U.exports=y},86832:function(U,C,e){function T(i){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(i)}function k(i){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},k(i)}function o(i,r){return o=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},o(i,r)}var _,b,f={};function s(i,r,n){n||(n=Error);var a=function(l){function u(h,c,x){var p;return function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}(this,u),p=function(v,g){return!g||T(g)!=="object"&&typeof g!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(v):g}(this,k(u).call(this,function(v,g,y){return typeof r=="string"?r:r(v,g,y)}(h,c,x))),p.code=i,p}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&o(h,c)}(u,l),u}(n);f[i]=a}function t(i,r){if(Array.isArray(i)){var n=i.length;return i=i.map(function(a){return String(a)}),n>2?"one of ".concat(r," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:n===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,r,n){var a,l,u,h,c;if(_===void 0&&(_=e(45408)),_(typeof i=="string","'name' must be a string"),typeof r=="string"&&(l="not ",r.substr(0,4)===l)?(a="must not be",r=r.replace(/^not /,"")):a="must be",function(p,v,g){return(g===void 0||g>p.length)&&(g=p.length),p.substring(g-9,g)===v}(i," argument"))u="The ".concat(i," ").concat(a," ").concat(t(r,"type"));else{var x=(typeof c!="number"&&(c=0),c+1>(h=i).length||h.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(x," ").concat(a," ").concat(t(r,"type"))}return u+". Received type ".concat(T(n))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(35840));var a=b.inspect(r);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(n,". Received ").concat(a)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(i,r,n){var a;return a=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(T(n)),"Expected ".concat(i,' to be returned from the "').concat(r,'"')+" function but got ".concat(a,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];_===void 0&&(_=e(45408)),_(r.length>0,"At least one arg needs to be specified");var a="The ",l=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),l){case 1:a+="".concat(r[0]," argument");break;case 2:a+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:a+=r.slice(0,l-1).join(", "),a+=", and ".concat(r[l-1]," arguments")}return"".concat(a," must be specified")},TypeError),U.exports.codes=f},25116:function(U,C,e){function T(J,re){return function(se){if(Array.isArray(se))return se}(J)||function(se,ue){var he=[],pe=!0,ge=!1,ye=void 0;try{for(var be,Te=se[Symbol.iterator]();!(pe=(be=Te.next()).done)&&(he.push(be.value),!ue||he.length!==ue);pe=!0);}catch(Se){ge=!0,ye=Se}finally{try{pe||Te.return==null||Te.return()}finally{if(ge)throw ye}}return he}(J,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(J){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},k(J)}var o=/a/g.flags!==void 0,_=function(J){var re=[];return J.forEach(function(se){return re.push(se)}),re},b=function(J){var re=[];return J.forEach(function(se,ue){return re.push([ue,se])}),re},f=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function i(J){return J.call.bind(J)}var r=i(Object.prototype.hasOwnProperty),n=i(Object.prototype.propertyIsEnumerable),a=i(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,h=l.isArrayBufferView,c=l.isDate,x=l.isMap,p=l.isRegExp,v=l.isSet,g=l.isNativeError,y=l.isBoxedPrimitive,m=l.isNumberObject,w=l.isStringObject,d=l.isBooleanObject,S=l.isBigIntObject,A=l.isSymbolObject,E=l.isFloat32Array,P=l.isFloat64Array;function O(J){if(J.length===0||J.length>10)return!0;for(var re=0;re<J.length;re++){var se=J.charCodeAt(re);if(se<48||se>57)return!0}return J.length===10&&J>=Math.pow(2,32)}function I(J){return Object.keys(J).filter(O).concat(s(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}function D(J,re){if(J===re)return 0;for(var se=J.length,ue=re.length,he=0,pe=Math.min(se,ue);he<pe;++he)if(J[he]!==re[he]){se=J[he],ue=re[he];break}return se<ue?-1:ue<se?1:0}var V=0,z=1,j=2,X=3;function F(J,re,se,ue){if(J===re)return J!==0||!se||f(J,re);if(se){if(k(J)!=="object")return typeof J=="number"&&t(J)&&t(re);if(k(re)!=="object"||J===null||re===null||Object.getPrototypeOf(J)!==Object.getPrototypeOf(re))return!1}else{if(J===null||k(J)!=="object")return(re===null||k(re)!=="object")&&J==re;if(re===null||k(re)!=="object")return!1}var he,pe,ge,ye,be=a(J);if(be!==a(re))return!1;if(Array.isArray(J)){if(J.length!==re.length)return!1;var Te=I(J),Se=I(re);return Te.length===Se.length&&W(J,re,se,ue,z,Te)}if(be==="[object Object]"&&(!x(J)&&x(re)||!v(J)&&v(re)))return!1;if(c(J)){if(!c(re)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(re))return!1}else if(p(J)){if(!p(re)||(ge=J,ye=re,!(o?ge.source===ye.source&&ge.flags===ye.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(ye))))return!1}else if(g(J)||J instanceof Error){if(J.message!==re.message||J.name!==re.name)return!1}else{if(h(J)){if(se||!E(J)&&!P(J)){if(!function(le,oe){return le.byteLength===oe.byteLength&&D(new Uint8Array(le.buffer,le.byteOffset,le.byteLength),new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength))===0}(J,re))return!1}else if(!function(le,oe){if(le.byteLength!==oe.byteLength)return!1;for(var de=0;de<le.byteLength;de++)if(le[de]!==oe[de])return!1;return!0}(J,re))return!1;var Fe=I(J),xe=I(re);return Fe.length===xe.length&&W(J,re,se,ue,V,Fe)}if(v(J))return!(!v(re)||J.size!==re.size)&&W(J,re,se,ue,j);if(x(J))return!(!x(re)||J.size!==re.size)&&W(J,re,se,ue,X);if(u(J)){if(pe=re,(he=J).byteLength!==pe.byteLength||D(new Uint8Array(he),new Uint8Array(pe))!==0)return!1}else if(y(J)&&!function(le,oe){return m(le)?m(oe)&&f(Number.prototype.valueOf.call(le),Number.prototype.valueOf.call(oe)):w(le)?w(oe)&&String.prototype.valueOf.call(le)===String.prototype.valueOf.call(oe):d(le)?d(oe)&&Boolean.prototype.valueOf.call(le)===Boolean.prototype.valueOf.call(oe):S(le)?S(oe)&&BigInt.prototype.valueOf.call(le)===BigInt.prototype.valueOf.call(oe):A(oe)&&Symbol.prototype.valueOf.call(le)===Symbol.prototype.valueOf.call(oe)}(J,re))return!1}return W(J,re,se,ue,V)}function H(J,re){return re.filter(function(se){return n(J,se)})}function W(J,re,se,ue,he,pe){if(arguments.length===5){pe=Object.keys(J);var ge=Object.keys(re);if(pe.length!==ge.length)return!1}for(var ye=0;ye<pe.length;ye++)if(!r(re,pe[ye]))return!1;if(se&&arguments.length===5){var be=s(J);if(be.length!==0){var Te=0;for(ye=0;ye<be.length;ye++){var Se=be[ye];if(n(J,Se)){if(!n(re,Se))return!1;pe.push(Se),Te++}else if(n(re,Se))return!1}var Fe=s(re);if(be.length!==Fe.length&&H(re,Fe).length!==Te)return!1}else{var xe=s(re);if(xe.length!==0&&H(re,xe).length!==0)return!1}}if(pe.length===0&&(he===V||he===z&&J.length===0||J.size===0))return!0;if(ue===void 0)ue={val1:new Map,val2:new Map,position:0};else{var le=ue.val1.get(J);if(le!==void 0){var oe=ue.val2.get(re);if(oe!==void 0)return le===oe}ue.position++}ue.val1.set(J,ue.position),ue.val2.set(re,ue.position);var de=function(Ce,_e,Ae,Le,ze,Re){var ve=0;if(Re===j){if(!function(Pe,Ue,We,$e){for(var ot=null,st=_(Pe),mt=0;mt<st.length;mt++){var _t=st[mt];if(k(_t)==="object"&&_t!==null)ot===null&&(ot=new Set),ot.add(_t);else if(!Ue.has(_t)){if(We||!Q(Pe,Ue,_t))return!1;ot===null&&(ot=new Set),ot.add(_t)}}if(ot!==null){for(var yt=_(Ue),it=0;it<yt.length;it++){var tt=yt[it];if(k(tt)==="object"&&tt!==null){if(!ie(ot,tt,We,$e))return!1}else if(!We&&!Pe.has(tt)&&!ie(ot,tt,We,$e))return!1}return ot.size===0}return!0}(Ce,_e,Ae,ze))return!1}else if(Re===X){if(!function(Pe,Ue,We,$e){for(var ot=null,st=b(Pe),mt=0;mt<st.length;mt++){var _t=T(st[mt],2),yt=_t[0],it=_t[1];if(k(yt)==="object"&&yt!==null)ot===null&&(ot=new Set),ot.add(yt);else{var tt=Ue.get(yt);if(tt===void 0&&!Ue.has(yt)||!F(it,tt,We,$e)){if(We||!ne(Pe,Ue,yt,it,$e))return!1;ot===null&&(ot=new Set),ot.add(yt)}}}if(ot!==null){for(var Pt=b(Ue),Rt=0;Rt<Pt.length;Rt++){var Ft=T(Pt[Rt],2),Ot=(yt=Ft[0],Ft[1]);if(k(yt)==="object"&&yt!==null){if(!$(ot,Pe,yt,Ot,We,$e))return!1}else if(!(We||Pe.has(yt)&&F(Pe.get(yt),Ot,!1,$e)||$(ot,Pe,yt,Ot,!1,$e)))return!1}return ot.size===0}return!0}(Ce,_e,Ae,ze))return!1}else if(Re===z)for(;ve<Ce.length;ve++){if(!r(Ce,ve)){if(r(_e,ve))return!1;for(var ke=Object.keys(Ce);ve<ke.length;ve++){var Ee=ke[ve];if(!r(_e,Ee)||!F(Ce[Ee],_e[Ee],Ae,ze))return!1}return ke.length===Object.keys(_e).length}if(!r(_e,ve)||!F(Ce[ve],_e[ve],Ae,ze))return!1}for(ve=0;ve<Le.length;ve++){var De=Le[ve];if(!F(Ce[De],_e[De],Ae,ze))return!1}return!0}(J,re,se,pe,ue,he);return ue.val1.delete(J),ue.val2.delete(re),de}function ie(J,re,se,ue){for(var he=_(J),pe=0;pe<he.length;pe++){var ge=he[pe];if(F(re,ge,se,ue))return J.delete(ge),!0}return!1}function te(J){switch(k(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(t(J))return!1}return!0}function Q(J,re,se){var ue=te(se);return ue??(re.has(ue)&&!J.has(ue))}function ne(J,re,se,ue,he){var pe=te(se);if(pe!=null)return pe;var ge=re.get(pe);return!(ge===void 0&&!re.has(pe)||!F(ue,ge,!1,he))&&!J.has(pe)&&F(ue,ge,!1,he)}function $(J,re,se,ue,he,pe){for(var ge=_(J),ye=0;ye<ge.length;ye++){var be=ge[ye];if(F(se,be,he,pe)&&F(ue,re.get(be),he,pe))return J.delete(be),!0}return!1}U.exports={isDeepEqual:function(J,re){return F(J,re,!1)},isDeepStrictEqual:function(J,re){return F(J,re,!0)}}},83160:function(U,C,e){e.r(C),e.d(C,{decode:function(){return b},encode:function(){return _}});for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=typeof Uint8Array>"u"?[]:new Uint8Array(256),o=0;o<64;o++)k[T.charCodeAt(o)]=o;var _=function(f){var s,t=new Uint8Array(f),i=t.length,r="";for(s=0;s<i;s+=3)r+=T[t[s]>>2],r+=T[(3&t[s])<<4|t[s+1]>>4],r+=T[(15&t[s+1])<<2|t[s+2]>>6],r+=T[63&t[s+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r},b=function(f){var s,t,i,r,n,a=.75*f.length,l=f.length,u=0;f[f.length-1]==="="&&(a--,f[f.length-2]==="="&&a--);var h=new ArrayBuffer(a),c=new Uint8Array(h);for(s=0;s<l;s+=4)t=k[f.charCodeAt(s)],i=k[f.charCodeAt(s+1)],r=k[f.charCodeAt(s+2)],n=k[f.charCodeAt(s+3)],c[u++]=t<<2|i>>4,c[u++]=(15&i)<<4|r>>2,c[u++]=(3&r)<<6|63&n;return h}},59968:function(U,C){C.byteLength=function(s){var t=b(s),i=t[0],r=t[1];return 3*(i+r)/4-r},C.toByteArray=function(s){var t,i,r=b(s),n=r[0],a=r[1],l=new k(function(c,x,p){return 3*(x+p)/4-p}(0,n,a)),u=0,h=a>0?n-4:n;for(i=0;i<h;i+=4)t=T[s.charCodeAt(i)]<<18|T[s.charCodeAt(i+1)]<<12|T[s.charCodeAt(i+2)]<<6|T[s.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return a===2&&(t=T[s.charCodeAt(i)]<<2|T[s.charCodeAt(i+1)]>>4,l[u++]=255&t),a===1&&(t=T[s.charCodeAt(i)]<<10|T[s.charCodeAt(i+1)]<<4|T[s.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},C.fromByteArray=function(s){for(var t,i=s.length,r=i%3,n=[],a=16383,l=0,u=i-r;l<u;l+=a)n.push(f(s,l,l+a>u?u:l+a));return r===1?(t=s[i-1],n.push(e[t>>2]+e[t<<4&63]+"==")):r===2&&(t=(s[i-2]<<8)+s[i-1],n.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),n.join("")};for(var e=[],T=[],k=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0;_<64;++_)e[_]=o[_],T[o.charCodeAt(_)]=_;function b(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function f(s,t,i){for(var r,n,a=[],l=t;l<i;l+=3)r=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),a.push(e[(n=r)>>18&63]+e[n>>12&63]+e[n>>6&63]+e[63&n]);return a.join("")}T[45]=62,T[95]=63},64928:function(U){function C(b,f,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,a=b[n];(s!==void 0?s(a,f):a-f)>=0?(r=n,i=n-1):t=n+1}return r}function e(b,f,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,a=b[n];(s!==void 0?s(a,f):a-f)>0?(r=n,i=n-1):t=n+1}return r}function T(b,f,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,a=b[n];(s!==void 0?s(a,f):a-f)<0?(r=n,t=n+1):i=n-1}return r}function k(b,f,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,a=b[n];(s!==void 0?s(a,f):a-f)<=0?(r=n,t=n+1):i=n-1}return r}function o(b,f,s,t,i){for(;t<=i;){var r=t+i>>>1,n=b[r],a=s!==void 0?s(n,f):n-f;if(a===0)return r;a<=0?t=r+1:i=r-1}return-1}function _(b,f,s,t,i,r){return typeof s=="function"?r(b,f,s,t===void 0?0:0|t,i===void 0?b.length-1:0|i):r(b,f,void 0,s===void 0?0:0|s,t===void 0?b.length-1:0|t)}U.exports={ge:function(b,f,s,t,i){return _(b,f,s,t,i,C)},gt:function(b,f,s,t,i){return _(b,f,s,t,i,e)},lt:function(b,f,s,t,i){return _(b,f,s,t,i,T)},le:function(b,f,s,t,i){return _(b,f,s,t,i,k)},eq:function(b,f,s,t,i){return _(b,f,s,t,i,o)}}},308:function(U,C){function e(k){var o=32;return(k&=-k)&&o--,65535&k&&(o-=16),16711935&k&&(o-=8),252645135&k&&(o-=4),858993459&k&&(o-=2),1431655765&k&&(o-=1),o}C.INT_BITS=32,C.INT_MAX=2147483647,C.INT_MIN=-2147483648,C.sign=function(k){return(k>0)-(k<0)},C.abs=function(k){var o=k>>31;return(k^o)-o},C.min=function(k,o){return o^(k^o)&-(k<o)},C.max=function(k,o){return k^(k^o)&-(k<o)},C.isPow2=function(k){return!(k&k-1||!k)},C.log2=function(k){var o,_;return o=(k>65535)<<4,o|=_=((k>>>=o)>255)<<3,o|=_=((k>>>=_)>15)<<2,(o|=_=((k>>>=_)>3)<<1)|(k>>>=_)>>1},C.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},C.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},C.countTrailingZeros=e,C.nextPow2=function(k){return k+=k===0,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,1+(k|=k>>>16)},C.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},C.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var T=new Array(256);(function(k){for(var o=0;o<256;++o){var _=o,b=o,f=7;for(_>>>=1;_;_>>>=1)b<<=1,b|=1&_,--f;k[o]=b<<f&255}})(T),C.reverse=function(k){return T[255&k]<<24|T[k>>>8&255]<<16|T[k>>>16&255]<<8|T[k>>>24&255]},C.interleave2=function(k,o){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},C.deinterleave2=function(k,o){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>o&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},C.interleave3=function(k,o,_){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(_=1227133513&((_=3272356035&((_=251719695&((_=4278190335&((_&=1023)|_<<16))|_<<8))|_<<4))|_<<2))<<2},C.deinterleave3=function(k,o){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>o&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},C.nextCombination=function(k){var o=k|k-1;return o+1|(~o&-~o)-1>>>e(k)+1}},29620:function(U,C,e){var T=e(32420);U.exports=function(b,f){f||(f={});var s,t,i,r,n,a,l,u,h,c,x,p=f.cutoff==null?.25:f.cutoff,v=f.radius==null?8:f.radius,g=f.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!f.width||!f.height)throw Error("For raw data width and height should be provided by options");s=f.width,t=f.height,r=b,a=f.stride?f.stride:Math.floor(b.length/s/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),s=u.width,t=u.height,r=(h=l.getImageData(0,0,s,t)).data,a=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,s=(u=b.canvas).width,t=u.height,r=(h=l.getImageData(0,0,s,t)).data,a=4):window.ImageData&&b instanceof window.ImageData&&(h=b,s=b.width,t=b.height,r=h.data,a=4);if(i=Math.max(s,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(n=r,r=Array(s*t),c=0,x=n.length;c<x;c++)r[c]=n[c*a+g]/255;else if(a!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(s*t),m=Array(s*t),w=Array(i),d=Array(i),S=Array(i+1),A=Array(i);for(c=0,x=s*t;c<x;c++){var E=r[c];y[c]=E===1?0:E===0?k:Math.pow(Math.max(0,.5-E),2),m[c]=E===1?k:E===0?0:Math.pow(Math.max(0,E-.5),2)}o(y,s,t,w,d,A,S),o(m,s,t,w,d,A,S);var P=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,x=s*t;c<x;c++)P[c]=T(1-((y[c]-m[c])/v+p),0,1);return P};var k=1e20;function o(b,f,s,t,i,r,n){for(var a=0;a<f;a++){for(var l=0;l<s;l++)t[l]=b[l*f+a];for(_(t,i,r,n,s),l=0;l<s;l++)b[l*f+a]=i[l]}for(l=0;l<s;l++){for(a=0;a<f;a++)t[a]=b[l*f+a];for(_(t,i,r,n,f),a=0;a<f;a++)b[l*f+a]=Math.sqrt(i[a])}}function _(b,f,s,t,i){s[0]=0,t[0]=-k,t[1]=+k;for(var r=1,n=0;r<i;r++){for(var a=(b[r]+r*r-(b[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);a<=t[n];)n--,a=(b[r]+r*r-(b[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);s[++n]=r,t[n]=a,t[n+1]=+k}for(r=0,n=0;r<i;r++){for(;t[n+1]<r;)n++;f[r]=(r-s[n])*(r-s[n])+b[s[n]]}}},99676:function(U,C,e){var T=e(53664),k=e(57916),o=k(T("String.prototype.indexOf"));U.exports=function(_,b){var f=T(_,!!b);return typeof f=="function"&&o(_,".prototype.")>-1?k(f):f}},57916:function(U,C,e){var T=e(8844),k=e(53664),o=e(14500),_=k("%TypeError%"),b=k("%Function.prototype.apply%"),f=k("%Function.prototype.call%"),s=k("%Reflect.apply%",!0)||T.call(f,b),t=k("%Object.defineProperty%",!0),i=k("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}U.exports=function(n){if(typeof n!="function")throw new _("a function is required");var a=s(T,f,arguments);return o(a,1+i(0,n.length-(arguments.length-1)),!0)};var r=function(){return s(T,b,arguments)};t?t(U.exports,"apply",{value:r}):U.exports.apply=r},32420:function(U){U.exports=function(C,e,T){return e<T?C<e?e:C>T?T:C:C<T?T:C>e?e:C}},3808:function(U,C,e){var T=e(32420);function k(o,_){_==null&&(_=!0);var b=o[0],f=o[1],s=o[2],t=o[3];return t==null&&(t=_?1:255),_&&(b*=255,f*=255,s*=255,t*=255),16777216*(b=255&T(b,0,255))+((f=255&T(f,0,255))<<16)+((s=255&T(s,0,255))<<8)+(255&T(t,0,255))}U.exports=k,U.exports.to=k,U.exports.from=function(o,_){var b=(o=+o)>>>24,f=(16711680&o)>>>16,s=(65280&o)>>>8,t=255&o;return _===!1?[b,f,s,t]:[b/255,f/255,s/255,t/255]}},17592:function(U){U.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(U,C,e){var T=e(96824),k=e(32420),o=e(72512);U.exports=function(_,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var f=new(o(b))(4),s=b!=="uint8"&&b!=="uint8_clamped";return _.length&&typeof _!="string"||((_=T(_))[0]/=255,_[1]/=255,_[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(_)?(f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3]!=null?_[3]:255,s&&(f[0]/=255,f[1]/=255,f[2]/=255,f[3]/=255),f):(s?(f[0]=_[0],f[1]=_[1],f[2]=_[2],f[3]=_[3]!=null?_[3]:1):(f[0]=k(Math.floor(255*_[0]),0,255),f[1]=k(Math.floor(255*_[1]),0,255),f[2]=k(Math.floor(255*_[2]),0,255),f[3]=_[3]==null?255:k(Math.floor(255*_[3]),0,255)),f)}},96824:function(U,C,e){var T=e(95532),k=e(53576),o=e(32420);U.exports=function(_){var b,f=T(_);return f.space?((b=Array(3))[0]=o(f.values[0],0,255),b[1]=o(f.values[1],0,255),b[2]=o(f.values[2],0,255),f.space[0]==="h"&&(b=k.rgb(b)),b.push(o(f.alpha,0,1)),b):[]}},95532:function(U,C,e){var T=e(17592);U.exports=function(o){var _,b,f=[],s=1;if(typeof o=="string")if(o=o.toLowerCase(),T[o])f=T[o].slice(),b="rgb";else if(o==="transparent")s=0,b="rgb",f=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(o)){var t=o.slice(1);s=1,(n=t.length)<=4?(f=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],n===4&&(s=parseInt(t[3]+t[3],16)/255)):(f=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],n===8&&(s=parseInt(t[6]+t[7],16)/255)),f[0]||(f[0]=0),f[1]||(f[1]=0),f[2]||(f[2]=0),b="rgb"}else if(_=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(o)){var i=_[1],r=i==="rgb";b=t=i.replace(/a$/,"");var n=t==="cmyk"?4:t==="gray"?1:3;f=_[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(a,l){if(/%$/.test(a))return l===n?parseFloat(a)/100:t==="rgb"?255*parseFloat(a)/100:parseFloat(a);if(t[l]==="h"){if(/deg$/.test(a))return parseFloat(a);if(k[a]!==void 0)return k[a]}return parseFloat(a)}),i===t&&f.push(1),s=r||f[n]===void 0?1:f[n],f=f.slice(0,n)}else o.length>10&&/[0-9](?:\s|\/)/.test(o)&&(f=o.match(/([0-9]+)/g).map(function(a){return parseFloat(a)}),b=o.match(/([a-z])/gi).join("").toLowerCase());else isNaN(o)?Array.isArray(o)||o.length?(f=[o[0],o[1],o[2]],b="rgb",s=o.length===4?o[3]:1):o instanceof Object&&(o.r!=null||o.red!=null||o.R!=null?(b="rgb",f=[o.r||o.red||o.R||0,o.g||o.green||o.G||0,o.b||o.blue||o.B||0]):(b="hsl",f=[o.h||o.hue||o.H||0,o.s||o.saturation||o.S||0,o.l||o.lightness||o.L||o.b||o.brightness]),s=o.a||o.alpha||o.opacity||1,o.opacity!=null&&(s/=100)):(b="rgb",f=[o>>>16,(65280&o)>>>8,255&o]);return{space:b,values:f,alpha:s}};var k={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(U,C,e){var T=e(19336);U.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var o,_,b,f,s,t=k[0]/360,i=k[1]/100,r=k[2]/100;if(i===0)return[s=255*r,s,s];o=2*r-(_=r<.5?r*(1+i):r+i-r*i),f=[0,0,0];for(var n=0;n<3;n++)(b=t+.3333333333333333*-(n-1))<0?b++:b>1&&b--,s=6*b<1?o+6*(_-o)*b:2*b<1?_:3*b<2?o+(_-o)*(.6666666666666666-b)*6:o,f[n]=255*s;return f}},T.hsl=function(k){var o,_,b=k[0]/255,f=k[1]/255,s=k[2]/255,t=Math.min(b,f,s),i=Math.max(b,f,s),r=i-t;return i===t?o=0:b===i?o=(f-s)/r:f===i?o=2+(s-b)/r:s===i&&(o=4+(b-f)/r),(o=Math.min(60*o,360))<0&&(o+=360),_=(t+i)/2,[o,100*(i===t?0:_<=.5?r/(i+t):r/(2-i-t)),100*_]}},19336:function(U){U.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(U){U.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(U,C,e){U.exports={parse:e(46416),stringify:e(49395)}},8744:function(U,C,e){var T=e(30584);U.exports={isSize:function(k){return/^[\d\.]/.test(k)||k.indexOf("/")!==-1||T.indexOf(k)!==-1}}},46416:function(U,C,e){var T=e(92384),k=e(68194),o=e(3748),_=e(2904),b=e(47916),f=e(7294),s=e(39956),t=e(8744).isSize;U.exports=r;var i=r.cache={};function r(a){if(typeof a!="string")throw new Error("Font argument must be a string.");if(i[a])return i[a];if(a==="")throw new Error("Cannot parse an empty string.");if(o.indexOf(a)!==-1)return i[a]={system:a};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(a,/\s+/);l=h.shift();){if(k.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(x){u[x]=l}),i[a]=u;if(b.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(f.indexOf(l)===-1){if(_.indexOf(l)===-1){if(t(l)){var c=s(l,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=n(c[1]):h[0]==="/"&&(h.shift(),u.lineHeight=n(h.shift())),!h.length)throw new Error("Missing required font-family.");return u.family=s(h.join(" "),/\s*,\s*/).map(T),i[a]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function n(a){var l=parseFloat(a);return l.toString()===a?l:a}},49395:function(U,C,e){var T=e(55616),k=e(8744).isSize,o=a(e(68194)),_=a(e(3748)),b=a(e(2904)),f=a(e(47916)),s=a(e(7294)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function n(l,u){if(l&&!u[l]&&!o[l])throw Error("Unknown keyword `"+l+"`");return l}function a(l){for(var u={},h=0;h<l.length;h++)u[l[h]]=1;return u}U.exports=function(l){if((l=T(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&n(l.system,_),l.system;if(n(l.style,f),n(l.variant,t),n(l.weight,b),n(l.stretch,s),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!k)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=r),Array.isArray(l.family)&&(l.family.length||(l.family=[r]),l.family=l.family.map(function(h){return i[h]?h:'"'+h+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(U,C,e){var T,k=e(81680),o=e(18496),_=e(87396),b=e(95920),f=e(50868),s=e(84323),t=Function.prototype.bind,i=Object.defineProperty,r=Object.prototype.hasOwnProperty;T=function(n,a,l){var u,h=o(a)&&_(a.value);return delete(u=b(a)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&r.call(this,n)?h:(a.value=t.call(h,l.resolveContext?l.resolveContext(this):this),i(this,n,a),this[n])},u},U.exports=function(n){var a=f(arguments[1]);return k(a.resolveContext)&&_(a.resolveContext),s(n,function(l,u){return T(u,l,a)})}},21092:function(U,C,e){var T=e(81680),k=e(85488),o=e(38452),_=e(50868),b=e(71056),f=U.exports=function(s,t){var i,r,n,a,l;return arguments.length<2||typeof s!="string"?(a=t,t=s,s=null):a=arguments[2],T(s)?(i=b.call(s,"c"),r=b.call(s,"e"),n=b.call(s,"w")):(i=n=!0,r=!1),l={value:t,configurable:i,enumerable:r,writable:n},a?o(_(a),l):l};f.gs=function(s,t,i){var r,n,a,l;return typeof s!="string"?(a=i,i=t,t=s,s=null):a=arguments[3],T(t)?k(t)?T(i)?k(i)||(a=i,i=void 0):i=void 0:(a=t,t=i=void 0):t=void 0,T(s)?(r=b.call(s,"c"),n=b.call(s,"e")):(r=!0,n=!1),l={get:t,set:i,configurable:r,enumerable:n},a?o(_(a),l):l}},84706:function(U,C,e){function T(n,a){return n<a?-1:n>a?1:n>=a?0:NaN}e.d(C,{XE:function(){return T},kv:function(){return _},mo:function(){return f},Uf:function(){return s},SY:function(){return t},ik:function(){return i},oh:function(){return r}}),(k=T).length===1&&(o=k,k=function(n,a){return T(o(n),a)});var k,o;function _(n,a){var l,u,h=n.length,c=-1;if(a==null){for(;++c<h;)if((l=n[c])!=null&&l>=l)for(u=l;++c<h;)(l=n[c])!=null&&l>u&&(u=l)}else for(;++c<h;)if((l=a(n[c],c,n))!=null&&l>=l)for(u=l;++c<h;)(l=a(n[c],c,n))!=null&&l>u&&(u=l);return u}function b(n){return n===null?NaN:+n}function f(n,a){var l,u=n.length,h=u,c=-1,x=0;if(a==null)for(;++c<u;)isNaN(l=b(n[c]))?--h:x+=l;else for(;++c<u;)isNaN(l=b(a(n[c],c,n)))?--h:x+=l;if(h)return x/h}function s(n){for(var a,l,u,h=n.length,c=-1,x=0;++c<h;)x+=n[c].length;for(l=new Array(x);--h>=0;)for(a=(u=n[h]).length;--a>=0;)l[--x]=u[a];return l}function t(n,a){var l,u,h=n.length,c=-1;if(a==null){for(;++c<h;)if((l=n[c])!=null&&l>=l)for(u=l;++c<h;)(l=n[c])!=null&&u>l&&(u=l)}else for(;++c<h;)if((l=a(n[c],c,n))!=null&&l>=l)for(u=l;++c<h;)(l=a(n[c],c,n))!=null&&u>l&&(u=l);return u}function i(n,a,l){n=+n,a=+a,l=(h=arguments.length)<2?(a=n,n=0,1):h<3?1:+l;for(var u=-1,h=0|Math.max(0,Math.ceil((a-n)/l)),c=new Array(h);++u<h;)c[u]=n+u*l;return c}function r(n,a){var l,u=n.length,h=-1,c=0;if(a==null)for(;++h<u;)(l=+n[h])&&(c+=l);else for(;++h<u;)(l=+a(n[h],h,n))&&(c+=l);return c}},34712:function(U,C,e){e.d(C,{kH:function(){return _},UJ:function(){return b}});var T="$";function k(){}function o(a,l){var u=new k;if(a instanceof k)a.each(function(v,g){u.set(g,v)});else if(Array.isArray(a)){var h,c=-1,x=a.length;if(l==null)for(;++c<x;)u.set(c,a[c]);else for(;++c<x;)u.set(l(h=a[c],c,a),h)}else if(a)for(var p in a)u.set(p,a[p]);return u}k.prototype=o.prototype={constructor:k,has:function(a){return T+a in this},get:function(a){return this[T+a]},set:function(a,l){return this[T+a]=l,this},remove:function(a){var l=T+a;return l in this&&delete this[l]},clear:function(){for(var a in this)a[0]===T&&delete this[a]},keys:function(){var a=[];for(var l in this)l[0]===T&&a.push(l.slice(1));return a},values:function(){var a=[];for(var l in this)l[0]===T&&a.push(this[l]);return a},entries:function(){var a=[];for(var l in this)l[0]===T&&a.push({key:l.slice(1),value:this[l]});return a},size:function(){var a=0;for(var l in this)l[0]===T&&++a;return a},empty:function(){for(var a in this)if(a[0]===T)return!1;return!0},each:function(a){for(var l in this)l[0]===T&&a(this[l],l.slice(1),this)}};var _=o;function b(){var a,l,u,h=[],c=[];function x(v,g,y,m){if(g>=h.length)return a!=null&&v.sort(a),l!=null?l(v):v;for(var w,d,S,A=-1,E=v.length,P=h[g++],O=_(),I=y();++A<E;)(S=O.get(w=P(d=v[A])+""))?S.push(d):O.set(w,[d]);return O.each(function(D,V){m(I,V,x(D,g,y,m))}),I}function p(v,g){if(++g>h.length)return v;var y,m=c[g-1];return l!=null&&g>=h.length?y=v.entries():(y=[],v.each(function(w,d){y.push({key:d,values:p(w,g)})})),m!=null?y.sort(function(w,d){return m(w.key,d.key)}):y}return u={object:function(v){return x(v,0,f,s)},map:function(v){return x(v,0,t,i)},entries:function(v){return p(x(v,0,t,i),0)},key:function(v){return h.push(v),u},sortKeys:function(v){return c[h.length-1]=v,u},sortValues:function(v){return a=v,u},rollup:function(v){return l=v,u}}}function f(){return{}}function s(a,l,u){a[l]=u}function t(){return _()}function i(a,l,u){a.set(l,u)}function r(){}var n=_.prototype;r.prototype={constructor:r,has:n.has,add:function(a){return this[T+(a+="")]=a,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(U,C,e){function T(be,Te){var Se;function Fe(){var xe,le,oe=Se.length,de=0,Ce=0;for(xe=0;xe<oe;++xe)de+=(le=Se[xe]).x,Ce+=le.y;for(de=de/oe-be,Ce=Ce/oe-Te,xe=0;xe<oe;++xe)(le=Se[xe]).x-=de,le.y-=Ce}return be==null&&(be=0),Te==null&&(Te=0),Fe.initialize=function(xe){Se=xe},Fe.x=function(xe){return arguments.length?(be=+xe,Fe):be},Fe.y=function(xe){return arguments.length?(Te=+xe,Fe):Te},Fe}function k(be){return function(){return be}}function o(){return 1e-6*(Math.random()-.5)}function _(be,Te,Se,Fe){if(isNaN(Te)||isNaN(Se))return be;var xe,le,oe,de,Ce,_e,Ae,Le,ze,Re=be._root,ve={data:Fe},ke=be._x0,Ee=be._y0,De=be._x1,Pe=be._y1;if(!Re)return be._root=ve,be;for(;Re.length;)if((_e=Te>=(le=(ke+De)/2))?ke=le:De=le,(Ae=Se>=(oe=(Ee+Pe)/2))?Ee=oe:Pe=oe,xe=Re,!(Re=Re[Le=Ae<<1|_e]))return xe[Le]=ve,be;if(de=+be._x.call(null,Re.data),Ce=+be._y.call(null,Re.data),Te===de&&Se===Ce)return ve.next=Re,xe?xe[Le]=ve:be._root=ve,be;do xe=xe?xe[Le]=new Array(4):be._root=new Array(4),(_e=Te>=(le=(ke+De)/2))?ke=le:De=le,(Ae=Se>=(oe=(Ee+Pe)/2))?Ee=oe:Pe=oe;while((Le=Ae<<1|_e)==(ze=(Ce>=oe)<<1|de>=le));return xe[ze]=Re,xe[Le]=ve,be}function b(be,Te,Se,Fe,xe){this.node=be,this.x0=Te,this.y0=Se,this.x1=Fe,this.y1=xe}function f(be){return be[0]}function s(be){return be[1]}function t(be,Te,Se){var Fe=new i(Te??f,Se??s,NaN,NaN,NaN,NaN);return be==null?Fe:Fe.addAll(be)}function i(be,Te,Se,Fe,xe,le){this._x=be,this._y=Te,this._x0=Se,this._y0=Fe,this._x1=xe,this._y1=le,this._root=void 0}function r(be){for(var Te={data:be.data},Se=Te;be=be.next;)Se=Se.next={data:be.data};return Te}e.r(C),e.d(C,{forceCenter:function(){return T},forceCollide:function(){return u},forceLink:function(){return p},forceManyBody:function(){return he},forceRadial:function(){return pe},forceSimulation:function(){return ue},forceX:function(){return ge},forceY:function(){return ye}});var n=t.prototype=i.prototype;function a(be){return be.x+be.vx}function l(be){return be.y+be.vy}function u(be){var Te,Se,Fe=1,xe=1;function le(){for(var Ce,_e,Ae,Le,ze,Re,ve,ke=Te.length,Ee=0;Ee<xe;++Ee)for(_e=t(Te,a,l).visitAfter(oe),Ce=0;Ce<ke;++Ce)Ae=Te[Ce],Re=Se[Ae.index],ve=Re*Re,Le=Ae.x+Ae.vx,ze=Ae.y+Ae.vy,_e.visit(De);function De(Pe,Ue,We,$e,ot){var st=Pe.data,mt=Pe.r,_t=Re+mt;if(!st)return Ue>Le+_t||$e<Le-_t||We>ze+_t||ot<ze-_t;if(st.index>Ae.index){var yt=Le-st.x-st.vx,it=ze-st.y-st.vy,tt=yt*yt+it*it;tt<_t*_t&&(yt===0&&(tt+=(yt=o())*yt),it===0&&(tt+=(it=o())*it),tt=(_t-(tt=Math.sqrt(tt)))/tt*Fe,Ae.vx+=(yt*=tt)*(_t=(mt*=mt)/(ve+mt)),Ae.vy+=(it*=tt)*_t,st.vx-=yt*(_t=1-_t),st.vy-=it*_t)}}}function oe(Ce){if(Ce.data)return Ce.r=Se[Ce.data.index];for(var _e=Ce.r=0;_e<4;++_e)Ce[_e]&&Ce[_e].r>Ce.r&&(Ce.r=Ce[_e].r)}function de(){if(Te){var Ce,_e,Ae=Te.length;for(Se=new Array(Ae),Ce=0;Ce<Ae;++Ce)_e=Te[Ce],Se[_e.index]=+be(_e,Ce,Te)}}return typeof be!="function"&&(be=k(be==null?1:+be)),le.initialize=function(Ce){Te=Ce,de()},le.iterations=function(Ce){return arguments.length?(xe=+Ce,le):xe},le.strength=function(Ce){return arguments.length?(Fe=+Ce,le):Fe},le.radius=function(Ce){return arguments.length?(be=typeof Ce=="function"?Ce:k(+Ce),de(),le):be},le}n.copy=function(){var be,Te,Se=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Fe=this._root;if(!Fe)return Se;if(!Fe.length)return Se._root=r(Fe),Se;for(be=[{source:Fe,target:Se._root=new Array(4)}];Fe=be.pop();)for(var xe=0;xe<4;++xe)(Te=Fe.source[xe])&&(Te.length?be.push({source:Te,target:Fe.target[xe]=new Array(4)}):Fe.target[xe]=r(Te));return Se},n.add=function(be){var Te=+this._x.call(null,be),Se=+this._y.call(null,be);return _(this.cover(Te,Se),Te,Se,be)},n.addAll=function(be){var Te,Se,Fe,xe,le=be.length,oe=new Array(le),de=new Array(le),Ce=1/0,_e=1/0,Ae=-1/0,Le=-1/0;for(Se=0;Se<le;++Se)isNaN(Fe=+this._x.call(null,Te=be[Se]))||isNaN(xe=+this._y.call(null,Te))||(oe[Se]=Fe,de[Se]=xe,Fe<Ce&&(Ce=Fe),Fe>Ae&&(Ae=Fe),xe<_e&&(_e=xe),xe>Le&&(Le=xe));if(Ce>Ae||_e>Le)return this;for(this.cover(Ce,_e).cover(Ae,Le),Se=0;Se<le;++Se)_(this,oe[Se],de[Se],be[Se]);return this},n.cover=function(be,Te){if(isNaN(be=+be)||isNaN(Te=+Te))return this;var Se=this._x0,Fe=this._y0,xe=this._x1,le=this._y1;if(isNaN(Se))xe=(Se=Math.floor(be))+1,le=(Fe=Math.floor(Te))+1;else{for(var oe,de,Ce=xe-Se,_e=this._root;Se>be||be>=xe||Fe>Te||Te>=le;)switch(de=(Te<Fe)<<1|be<Se,(oe=new Array(4))[de]=_e,_e=oe,Ce*=2,de){case 0:xe=Se+Ce,le=Fe+Ce;break;case 1:Se=xe-Ce,le=Fe+Ce;break;case 2:xe=Se+Ce,Fe=le-Ce;break;case 3:Se=xe-Ce,Fe=le-Ce}this._root&&this._root.length&&(this._root=_e)}return this._x0=Se,this._y0=Fe,this._x1=xe,this._y1=le,this},n.data=function(){var be=[];return this.visit(function(Te){if(!Te.length)do be.push(Te.data);while(Te=Te.next)}),be},n.extent=function(be){return arguments.length?this.cover(+be[0][0],+be[0][1]).cover(+be[1][0],+be[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(be,Te,Se){var Fe,xe,le,oe,de,Ce,_e,Ae=this._x0,Le=this._y0,ze=this._x1,Re=this._y1,ve=[],ke=this._root;for(ke&&ve.push(new b(ke,Ae,Le,ze,Re)),Se==null?Se=1/0:(Ae=be-Se,Le=Te-Se,ze=be+Se,Re=Te+Se,Se*=Se);Ce=ve.pop();)if(!(!(ke=Ce.node)||(xe=Ce.x0)>ze||(le=Ce.y0)>Re||(oe=Ce.x1)<Ae||(de=Ce.y1)<Le))if(ke.length){var Ee=(xe+oe)/2,De=(le+de)/2;ve.push(new b(ke[3],Ee,De,oe,de),new b(ke[2],xe,De,Ee,de),new b(ke[1],Ee,le,oe,De),new b(ke[0],xe,le,Ee,De)),(_e=(Te>=De)<<1|be>=Ee)&&(Ce=ve[ve.length-1],ve[ve.length-1]=ve[ve.length-1-_e],ve[ve.length-1-_e]=Ce)}else{var Pe=be-+this._x.call(null,ke.data),Ue=Te-+this._y.call(null,ke.data),We=Pe*Pe+Ue*Ue;if(We<Se){var $e=Math.sqrt(Se=We);Ae=be-$e,Le=Te-$e,ze=be+$e,Re=Te+$e,Fe=ke.data}}return Fe},n.remove=function(be){if(isNaN(le=+this._x.call(null,be))||isNaN(oe=+this._y.call(null,be)))return this;var Te,Se,Fe,xe,le,oe,de,Ce,_e,Ae,Le,ze,Re=this._root,ve=this._x0,ke=this._y0,Ee=this._x1,De=this._y1;if(!Re)return this;if(Re.length)for(;;){if((_e=le>=(de=(ve+Ee)/2))?ve=de:Ee=de,(Ae=oe>=(Ce=(ke+De)/2))?ke=Ce:De=Ce,Te=Re,!(Re=Re[Le=Ae<<1|_e]))return this;if(!Re.length)break;(Te[Le+1&3]||Te[Le+2&3]||Te[Le+3&3])&&(Se=Te,ze=Le)}for(;Re.data!==be;)if(Fe=Re,!(Re=Re.next))return this;return(xe=Re.next)&&delete Re.next,Fe?(xe?Fe.next=xe:delete Fe.next,this):Te?(xe?Te[Le]=xe:delete Te[Le],(Re=Te[0]||Te[1]||Te[2]||Te[3])&&Re===(Te[3]||Te[2]||Te[1]||Te[0])&&!Re.length&&(Se?Se[ze]=Re:this._root=Re),this):(this._root=xe,this)},n.removeAll=function(be){for(var Te=0,Se=be.length;Te<Se;++Te)this.remove(be[Te]);return this},n.root=function(){return this._root},n.size=function(){var be=0;return this.visit(function(Te){if(!Te.length)do++be;while(Te=Te.next)}),be},n.visit=function(be){var Te,Se,Fe,xe,le,oe,de=[],Ce=this._root;for(Ce&&de.push(new b(Ce,this._x0,this._y0,this._x1,this._y1));Te=de.pop();)if(!be(Ce=Te.node,Fe=Te.x0,xe=Te.y0,le=Te.x1,oe=Te.y1)&&Ce.length){var _e=(Fe+le)/2,Ae=(xe+oe)/2;(Se=Ce[3])&&de.push(new b(Se,_e,Ae,le,oe)),(Se=Ce[2])&&de.push(new b(Se,Fe,Ae,_e,oe)),(Se=Ce[1])&&de.push(new b(Se,_e,xe,le,Ae)),(Se=Ce[0])&&de.push(new b(Se,Fe,xe,_e,Ae))}return this},n.visitAfter=function(be){var Te,Se=[],Fe=[];for(this._root&&Se.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));Te=Se.pop();){var xe=Te.node;if(xe.length){var le,oe=Te.x0,de=Te.y0,Ce=Te.x1,_e=Te.y1,Ae=(oe+Ce)/2,Le=(de+_e)/2;(le=xe[0])&&Se.push(new b(le,oe,de,Ae,Le)),(le=xe[1])&&Se.push(new b(le,Ae,de,Ce,Le)),(le=xe[2])&&Se.push(new b(le,oe,Le,Ae,_e)),(le=xe[3])&&Se.push(new b(le,Ae,Le,Ce,_e))}Fe.push(Te)}for(;Te=Fe.pop();)be(Te.node,Te.x0,Te.y0,Te.x1,Te.y1);return this},n.x=function(be){return arguments.length?(this._x=be,this):this._x},n.y=function(be){return arguments.length?(this._y=be,this):this._y};var h=e(34712);function c(be){return be.index}function x(be,Te){var Se=be.get(Te);if(!Se)throw new Error("missing: "+Te);return Se}function p(be){var Te,Se,Fe,xe,le,oe=c,de=function(ve){return 1/Math.min(xe[ve.source.index],xe[ve.target.index])},Ce=k(30),_e=1;function Ae(ve){for(var ke=0,Ee=be.length;ke<_e;++ke)for(var De,Pe,Ue,We,$e,ot,st,mt=0;mt<Ee;++mt)Pe=(De=be[mt]).source,We=(Ue=De.target).x+Ue.vx-Pe.x-Pe.vx||o(),$e=Ue.y+Ue.vy-Pe.y-Pe.vy||o(),We*=ot=((ot=Math.sqrt(We*We+$e*$e))-Se[mt])/ot*ve*Te[mt],$e*=ot,Ue.vx-=We*(st=le[mt]),Ue.vy-=$e*st,Pe.vx+=We*(st=1-st),Pe.vy+=$e*st}function Le(){if(Fe){var ve,ke,Ee=Fe.length,De=be.length,Pe=(0,h.kH)(Fe,oe);for(ve=0,xe=new Array(Ee);ve<De;++ve)(ke=be[ve]).index=ve,typeof ke.source!="object"&&(ke.source=x(Pe,ke.source)),typeof ke.target!="object"&&(ke.target=x(Pe,ke.target)),xe[ke.source.index]=(xe[ke.source.index]||0)+1,xe[ke.target.index]=(xe[ke.target.index]||0)+1;for(ve=0,le=new Array(De);ve<De;++ve)ke=be[ve],le[ve]=xe[ke.source.index]/(xe[ke.source.index]+xe[ke.target.index]);Te=new Array(De),ze(),Se=new Array(De),Re()}}function ze(){if(Fe)for(var ve=0,ke=be.length;ve<ke;++ve)Te[ve]=+de(be[ve],ve,be)}function Re(){if(Fe)for(var ve=0,ke=be.length;ve<ke;++ve)Se[ve]=+Ce(be[ve],ve,be)}return be==null&&(be=[]),Ae.initialize=function(ve){Fe=ve,Le()},Ae.links=function(ve){return arguments.length?(be=ve,Le(),Ae):be},Ae.id=function(ve){return arguments.length?(oe=ve,Ae):oe},Ae.iterations=function(ve){return arguments.length?(_e=+ve,Ae):_e},Ae.strength=function(ve){return arguments.length?(de=typeof ve=="function"?ve:k(+ve),ze(),Ae):de},Ae.distance=function(ve){return arguments.length?(Ce=typeof ve=="function"?ve:k(+ve),Re(),Ae):Ce},Ae}var v={value:function(){}};function g(){for(var be,Te=0,Se=arguments.length,Fe={};Te<Se;++Te){if(!(be=arguments[Te]+"")||be in Fe||/[\s.]/.test(be))throw new Error("illegal type: "+be);Fe[be]=[]}return new y(Fe)}function y(be){this._=be}function m(be,Te){for(var Se,Fe=0,xe=be.length;Fe<xe;++Fe)if((Se=be[Fe]).name===Te)return Se.value}function w(be,Te,Se){for(var Fe=0,xe=be.length;Fe<xe;++Fe)if(be[Fe].name===Te){be[Fe]=v,be=be.slice(0,Fe).concat(be.slice(Fe+1));break}return Se!=null&&be.push({name:Te,value:Se}),be}y.prototype=g.prototype={constructor:y,on:function(be,Te){var Se,Fe,xe=this._,le=(Fe=xe,(be+"").trim().split(/^|\s+/).map(function(Ce){var _e="",Ae=Ce.indexOf(".");if(Ae>=0&&(_e=Ce.slice(Ae+1),Ce=Ce.slice(0,Ae)),Ce&&!Fe.hasOwnProperty(Ce))throw new Error("unknown type: "+Ce);return{type:Ce,name:_e}})),oe=-1,de=le.length;if(!(arguments.length<2)){if(Te!=null&&typeof Te!="function")throw new Error("invalid callback: "+Te);for(;++oe<de;)if(Se=(be=le[oe]).type)xe[Se]=w(xe[Se],be.name,Te);else if(Te==null)for(Se in xe)xe[Se]=w(xe[Se],be.name,null);return this}for(;++oe<de;)if((Se=(be=le[oe]).type)&&(Se=m(xe[Se],be.name)))return Se},copy:function(){var be={},Te=this._;for(var Se in Te)be[Se]=Te[Se].slice();return new y(be)},call:function(be,Te){if((Se=arguments.length-2)>0)for(var Se,Fe,xe=new Array(Se),le=0;le<Se;++le)xe[le]=arguments[le+2];if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(le=0,Se=(Fe=this._[be]).length;le<Se;++le)Fe[le].value.apply(Te,xe)},apply:function(be,Te,Se){if(!this._.hasOwnProperty(be))throw new Error("unknown type: "+be);for(var Fe=this._[be],xe=0,le=Fe.length;xe<le;++xe)Fe[xe].value.apply(Te,Se)}};var d,S,A=g,E=0,P=0,O=0,I=1e3,D=0,V=0,z=0,j=typeof performance=="object"&&performance.now?performance:Date,X=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(be){setTimeout(be,17)};function F(){return V||(X(H),V=j.now()+z)}function H(){V=0}function W(){this._call=this._time=this._next=null}function ie(be,Te,Se){var Fe=new W;return Fe.restart(be,Te,Se),Fe}function te(){V=(D=j.now())+z,E=P=0;try{(function(){F(),++E;for(var be,Te=d;Te;)(be=V-Te._time)>=0&&Te._call.call(null,be),Te=Te._next;--E})()}finally{E=0,function(){for(var be,Te,Se=d,Fe=1/0;Se;)Se._call?(Fe>Se._time&&(Fe=Se._time),be=Se,Se=Se._next):(Te=Se._next,Se._next=null,Se=be?be._next=Te:d=Te);S=be,ne(Fe)}(),V=0}}function Q(){var be=j.now(),Te=be-D;Te>I&&(z-=Te,D=be)}function ne(be){E||(P&&(P=clearTimeout(P)),be-V>24?(be<1/0&&(P=setTimeout(te,be-j.now()-z)),O&&(O=clearInterval(O))):(O||(D=j.now(),O=setInterval(Q,I)),E=1,X(te)))}function $(be){return be.x}function J(be){return be.y}W.prototype=ie.prototype={constructor:W,restart:function(be,Te,Se){if(typeof be!="function")throw new TypeError("callback is not a function");Se=(Se==null?F():+Se)+(Te==null?0:+Te),this._next||S===this||(S?S._next=this:d=this,S=this),this._call=be,this._time=Se,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var re=10,se=Math.PI*(3-Math.sqrt(5));function ue(be){var Te,Se=1,Fe=.001,xe=1-Math.pow(Fe,1/300),le=0,oe=.6,de=(0,h.kH)(),Ce=ie(Ae),_e=A("tick","end");function Ae(){Le(),_e.call("tick",Te),Se<Fe&&(Ce.stop(),_e.call("end",Te))}function Le(ve){var ke,Ee,De=be.length;ve===void 0&&(ve=1);for(var Pe=0;Pe<ve;++Pe)for(Se+=(le-Se)*xe,de.each(function(Ue){Ue(Se)}),ke=0;ke<De;++ke)(Ee=be[ke]).fx==null?Ee.x+=Ee.vx*=oe:(Ee.x=Ee.fx,Ee.vx=0),Ee.fy==null?Ee.y+=Ee.vy*=oe:(Ee.y=Ee.fy,Ee.vy=0);return Te}function ze(){for(var ve,ke=0,Ee=be.length;ke<Ee;++ke){if((ve=be[ke]).index=ke,ve.fx!=null&&(ve.x=ve.fx),ve.fy!=null&&(ve.y=ve.fy),isNaN(ve.x)||isNaN(ve.y)){var De=re*Math.sqrt(ke),Pe=ke*se;ve.x=De*Math.cos(Pe),ve.y=De*Math.sin(Pe)}(isNaN(ve.vx)||isNaN(ve.vy))&&(ve.vx=ve.vy=0)}}function Re(ve){return ve.initialize&&ve.initialize(be),ve}return be==null&&(be=[]),ze(),Te={tick:Le,restart:function(){return Ce.restart(Ae),Te},stop:function(){return Ce.stop(),Te},nodes:function(ve){return arguments.length?(be=ve,ze(),de.each(Re),Te):be},alpha:function(ve){return arguments.length?(Se=+ve,Te):Se},alphaMin:function(ve){return arguments.length?(Fe=+ve,Te):Fe},alphaDecay:function(ve){return arguments.length?(xe=+ve,Te):+xe},alphaTarget:function(ve){return arguments.length?(le=+ve,Te):le},velocityDecay:function(ve){return arguments.length?(oe=1-ve,Te):1-oe},force:function(ve,ke){return arguments.length>1?(ke==null?de.remove(ve):de.set(ve,Re(ke)),Te):de.get(ve)},find:function(ve,ke,Ee){var De,Pe,Ue,We,$e,ot=0,st=be.length;for(Ee==null?Ee=1/0:Ee*=Ee,ot=0;ot<st;++ot)(Ue=(De=ve-(We=be[ot]).x)*De+(Pe=ke-We.y)*Pe)<Ee&&($e=We,Ee=Ue);return $e},on:function(ve,ke){return arguments.length>1?(_e.on(ve,ke),Te):_e.on(ve)}}}function he(){var be,Te,Se,Fe,xe=k(-30),le=1,oe=1/0,de=.81;function Ce(ze){var Re,ve=be.length,ke=t(be,$,J).visitAfter(Ae);for(Se=ze,Re=0;Re<ve;++Re)Te=be[Re],ke.visit(Le)}function _e(){if(be){var ze,Re,ve=be.length;for(Fe=new Array(ve),ze=0;ze<ve;++ze)Re=be[ze],Fe[Re.index]=+xe(Re,ze,be)}}function Ae(ze){var Re,ve,ke,Ee,De,Pe=0,Ue=0;if(ze.length){for(ke=Ee=De=0;De<4;++De)(Re=ze[De])&&(ve=Math.abs(Re.value))&&(Pe+=Re.value,Ue+=ve,ke+=ve*Re.x,Ee+=ve*Re.y);ze.x=ke/Ue,ze.y=Ee/Ue}else{(Re=ze).x=Re.data.x,Re.y=Re.data.y;do Pe+=Fe[Re.data.index];while(Re=Re.next)}ze.value=Pe}function Le(ze,Re,ve,ke){if(!ze.value)return!0;var Ee=ze.x-Te.x,De=ze.y-Te.y,Pe=ke-Re,Ue=Ee*Ee+De*De;if(Pe*Pe/de<Ue)return Ue<oe&&(Ee===0&&(Ue+=(Ee=o())*Ee),De===0&&(Ue+=(De=o())*De),Ue<le&&(Ue=Math.sqrt(le*Ue)),Te.vx+=Ee*ze.value*Se/Ue,Te.vy+=De*ze.value*Se/Ue),!0;if(!(ze.length||Ue>=oe)){(ze.data!==Te||ze.next)&&(Ee===0&&(Ue+=(Ee=o())*Ee),De===0&&(Ue+=(De=o())*De),Ue<le&&(Ue=Math.sqrt(le*Ue)));do ze.data!==Te&&(Pe=Fe[ze.data.index]*Se/Ue,Te.vx+=Ee*Pe,Te.vy+=De*Pe);while(ze=ze.next)}}return Ce.initialize=function(ze){be=ze,_e()},Ce.strength=function(ze){return arguments.length?(xe=typeof ze=="function"?ze:k(+ze),_e(),Ce):xe},Ce.distanceMin=function(ze){return arguments.length?(le=ze*ze,Ce):Math.sqrt(le)},Ce.distanceMax=function(ze){return arguments.length?(oe=ze*ze,Ce):Math.sqrt(oe)},Ce.theta=function(ze){return arguments.length?(de=ze*ze,Ce):Math.sqrt(de)},Ce}function pe(be,Te,Se){var Fe,xe,le,oe=k(.1);function de(_e){for(var Ae=0,Le=Fe.length;Ae<Le;++Ae){var ze=Fe[Ae],Re=ze.x-Te||1e-6,ve=ze.y-Se||1e-6,ke=Math.sqrt(Re*Re+ve*ve),Ee=(le[Ae]-ke)*xe[Ae]*_e/ke;ze.vx+=Re*Ee,ze.vy+=ve*Ee}}function Ce(){if(Fe){var _e,Ae=Fe.length;for(xe=new Array(Ae),le=new Array(Ae),_e=0;_e<Ae;++_e)le[_e]=+be(Fe[_e],_e,Fe),xe[_e]=isNaN(le[_e])?0:+oe(Fe[_e],_e,Fe)}}return typeof be!="function"&&(be=k(+be)),Te==null&&(Te=0),Se==null&&(Se=0),de.initialize=function(_e){Fe=_e,Ce()},de.strength=function(_e){return arguments.length?(oe=typeof _e=="function"?_e:k(+_e),Ce(),de):oe},de.radius=function(_e){return arguments.length?(be=typeof _e=="function"?_e:k(+_e),Ce(),de):be},de.x=function(_e){return arguments.length?(Te=+_e,de):Te},de.y=function(_e){return arguments.length?(Se=+_e,de):Se},de}function ge(be){var Te,Se,Fe,xe=k(.1);function le(de){for(var Ce,_e=0,Ae=Te.length;_e<Ae;++_e)(Ce=Te[_e]).vx+=(Fe[_e]-Ce.x)*Se[_e]*de}function oe(){if(Te){var de,Ce=Te.length;for(Se=new Array(Ce),Fe=new Array(Ce),de=0;de<Ce;++de)Se[de]=isNaN(Fe[de]=+be(Te[de],de,Te))?0:+xe(Te[de],de,Te)}}return typeof be!="function"&&(be=k(be==null?0:+be)),le.initialize=function(de){Te=de,oe()},le.strength=function(de){return arguments.length?(xe=typeof de=="function"?de:k(+de),oe(),le):xe},le.x=function(de){return arguments.length?(be=typeof de=="function"?de:k(+de),oe(),le):be},le}function ye(be){var Te,Se,Fe,xe=k(.1);function le(de){for(var Ce,_e=0,Ae=Te.length;_e<Ae;++_e)(Ce=Te[_e]).vy+=(Fe[_e]-Ce.y)*Se[_e]*de}function oe(){if(Te){var de,Ce=Te.length;for(Se=new Array(Ce),Fe=new Array(Ce),de=0;de<Ce;++de)Se[de]=isNaN(Fe[de]=+be(Te[de],de,Te))?0:+xe(Te[de],de,Te)}}return typeof be!="function"&&(be=k(be==null?0:+be)),le.initialize=function(de){Te=de,oe()},le.strength=function(de){return arguments.length?(xe=typeof de=="function"?de:k(+de),oe(),le):xe},le.y=function(de){return arguments.length?(be=typeof de=="function"?de:k(+de),oe(),le):be},le}},57624:function(U,C,e){function T(u,h){if((c=(u=h?u.toExponential(h-1):u.toExponential()).indexOf("e"))<0)return null;var c,x=u.slice(0,c);return[x.length>1?x[0]+x.slice(2):x,+u.slice(c+1)]}e.d(C,{E9:function(){return r},SO:function(){return l}});var k,o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _(u){if(!(h=o.exec(u)))throw new Error("invalid format: "+u);var h;return new b({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function f(u,h){var c=T(u,h);if(!c)return u+"";var x=c[0],p=c[1];return p<0?"0."+new Array(-p).join("0")+x:x.length>p+1?x.slice(0,p+1)+"."+x.slice(p+1):x+new Array(p-x.length+2).join("0")}_.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,h){return(100*u).toFixed(h)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,h){return u.toExponential(h)},f:function(u,h){return u.toFixed(h)},g:function(u,h){return u.toPrecision(h)},o:function(u){return Math.round(u).toString(8)},p:function(u,h){return f(100*u,h)},r:f,s:function(u,h){var c=T(u,h);if(!c)return u+"";var x=c[0],p=c[1],v=p-(k=3*Math.max(-8,Math.min(8,Math.floor(p/3))))+1,g=x.length;return v===g?x:v>g?x+new Array(v-g+1).join("0"):v>0?x.slice(0,v)+"."+x.slice(v):"0."+new Array(1-v).join("0")+T(u,Math.max(0,h+v-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,r,n=Array.prototype.map,a=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l(u){var h,c,x=u.grouping===void 0||u.thousands===void 0?t:(h=n.call(u.grouping,Number),c=u.thousands+"",function(A,E){for(var P=A.length,O=[],I=0,D=h[0],V=0;P>0&&D>0&&(V+D+1>E&&(D=Math.max(1,E-V)),O.push(A.substring(P-=D,P+D)),!((V+=D+1)>E));)D=h[I=(I+1)%h.length];return O.reverse().join(c)}),p=u.currency===void 0?"":u.currency[0]+"",v=u.currency===void 0?"":u.currency[1]+"",g=u.decimal===void 0?".":u.decimal+"",y=u.numerals===void 0?t:function(A){return function(E){return E.replace(/[0-9]/g,function(P){return A[+P]})}}(n.call(u.numerals,String)),m=u.percent===void 0?"%":u.percent+"",w=u.minus===void 0?"-":u.minus+"",d=u.nan===void 0?"NaN":u.nan+"";function S(A){var E=(A=_(A)).fill,P=A.align,O=A.sign,I=A.symbol,D=A.zero,V=A.width,z=A.comma,j=A.precision,X=A.trim,F=A.type;F==="n"?(z=!0,F="g"):s[F]||(j===void 0&&(j=12),X=!0,F="g"),(D||E==="0"&&P==="=")&&(D=!0,E="0",P="=");var H=I==="$"?p:I==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",W=I==="$"?v:/[%p]/.test(F)?m:"",ie=s[F],te=/[defgprs%]/.test(F);function Q(ne){var $,J,re,se=H,ue=W;if(F==="c")ue=ie(ne)+ue,ne="";else{var he=(ne=+ne)<0||1/ne<0;if(ne=isNaN(ne)?d:ie(Math.abs(ne),j),X&&(ne=function(ye){e:for(var be,Te=ye.length,Se=1,Fe=-1;Se<Te;++Se)switch(ye[Se]){case".":Fe=be=Se;break;case"0":Fe===0&&(Fe=Se),be=Se;break;default:if(!+ye[Se])break e;Fe>0&&(Fe=0)}return Fe>0?ye.slice(0,Fe)+ye.slice(be+1):ye}(ne)),he&&+ne==0&&O!=="+"&&(he=!1),se=(he?O==="("?O:w:O==="-"||O==="("?"":O)+se,ue=(F==="s"?a[8+k/3]:"")+ue+(he&&O==="("?")":""),te){for($=-1,J=ne.length;++$<J;)if(48>(re=ne.charCodeAt($))||re>57){ue=(re===46?g+ne.slice($+1):ne.slice($))+ue,ne=ne.slice(0,$);break}}}z&&!D&&(ne=x(ne,1/0));var pe=se.length+ne.length+ue.length,ge=pe<V?new Array(V-pe+1).join(E):"";switch(z&&D&&(ne=x(ge+ne,ge.length?V-ue.length:1/0),ge=""),P){case"<":ne=se+ne+ue+ge;break;case"=":ne=se+ge+ne+ue;break;case"^":ne=ge.slice(0,pe=ge.length>>1)+se+ne+ue+ge.slice(pe);break;default:ne=ge+se+ne+ue}return y(ne)}return j=j===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),Q.toString=function(){return A+""},Q}return{format:S,formatPrefix:function(A,E){var P,O=S(((A=_(A)).type="f",A)),I=3*Math.max(-8,Math.min(8,Math.floor((P=E,((P=T(Math.abs(P)))?P[1]:NaN)/3)))),D=Math.pow(10,-I),V=a[8+I/3];return function(z){return O(D*z)+V}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=i.format,i.formatPrefix},87108:function(U,C,e){e.r(C),e.d(C,{geoAiry:function(){return z},geoAiryRaw:function(){return V},geoAitoff:function(){return X},geoAitoffRaw:function(){return j},geoArmadillo:function(){return H},geoArmadilloRaw:function(){return F},geoAugust:function(){return ie},geoAugustRaw:function(){return W},geoBaker:function(){return $},geoBakerRaw:function(){return ne},geoBerghaus:function(){return se},geoBerghausRaw:function(){return re},geoBertin1953:function(){return Se},geoBertin1953Raw:function(){return Te},geoBoggs:function(){return Ae},geoBoggsRaw:function(){return _e},geoBonne:function(){return ke},geoBonneRaw:function(){return ve},geoBottomley:function(){return De},geoBottomleyRaw:function(){return Ee},geoBromley:function(){return Ue},geoBromleyRaw:function(){return Pe},geoChamberlin:function(){return tt},geoChamberlinAfrica:function(){return it},geoChamberlinRaw:function(){return _t},geoCollignon:function(){return Rt},geoCollignonRaw:function(){return Pt},geoCraig:function(){return Ot},geoCraigRaw:function(){return Ft},geoCraster:function(){return Ve},geoCrasterRaw:function(){return Je},geoCylindricalEqualArea:function(){return ft},geoCylindricalEqualAreaRaw:function(){return Ke},geoCylindricalStereographic:function(){return xt},geoCylindricalStereographicRaw:function(){return ut},geoEckert1:function(){return qe},geoEckert1Raw:function(){return bt},geoEckert2:function(){return lt},geoEckert2Raw:function(){return je},geoEckert3:function(){return dt},geoEckert3Raw:function(){return gt},geoEckert4:function(){return kt},geoEckert4Raw:function(){return at},geoEckert5:function(){return Et},geoEckert5Raw:function(){return wt},geoEckert6:function(){return At},geoEckert6Raw:function(){return Tt},geoEisenlohr:function(){return on},geoEisenlohrRaw:function(){return Wt},geoFahey:function(){return Xt},geoFaheyRaw:function(){return un},geoFoucaut:function(){return kn},geoFoucautRaw:function(){return tn},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return fn},geoGilbert:function(){return wn},geoGingery:function(){return Nn},geoGingeryRaw:function(){return Dn},geoGinzburg4:function(){return Hn},geoGinzburg4Raw:function(){return pr},geoGinzburg5:function(){return er},geoGinzburg5Raw:function(){return Qn},geoGinzburg6:function(){return $t},geoGinzburg6Raw:function(){return ur},geoGinzburg8:function(){return On},geoGinzburg8Raw:function(){return rn},geoGinzburg9:function(){return In},geoGinzburg9Raw:function(){return xn},geoGringorten:function(){return ir},geoGringortenQuincuncial:function(){return Oa},geoGringortenRaw:function(){return qn},geoGuyou:function(){return Dt},geoGuyouRaw:function(){return bn},geoHammer:function(){return ge},geoHammerRaw:function(){return he},geoHammerRetroazimuthal:function(){return vn},geoHammerRetroazimuthalRaw:function(){return en},geoHealpix:function(){return Rn},geoHealpixRaw:function(){return Vt},geoHill:function(){return tr},geoHillRaw:function(){return jn},geoHomolosine:function(){return Tr},geoHomolosineRaw:function(){return cr},geoHufnagel:function(){return ar},geoHufnagelRaw:function(){return gr},geoHyperelliptical:function(){return xi},geoHyperellipticalRaw:function(){return Nr},geoInterrupt:function(){return gi},geoInterruptedBoggs:function(){return Pa},geoInterruptedHomolosine:function(){return $i},geoInterruptedMollweide:function(){return Xi},geoInterruptedMollweideHemispheres:function(){return ms},geoInterruptedQuarticAuthalic:function(){return Bc},geoInterruptedSinuMollweide:function(){return Oo},geoInterruptedSinusoidal:function(){return ys},geoKavrayskiy7:function(){return po},geoKavrayskiy7Raw:function(){return no},geoLagrange:function(){return hi},geoLagrangeRaw:function(){return go},geoLarrivee:function(){return zo},geoLarriveeRaw:function(){return Jo},geoLaskowski:function(){return xs},geoLaskowskiRaw:function(){return vo},geoLittrow:function(){return bs},geoLittrowRaw:function(){return Do},geoLoximuthal:function(){return _s},geoLoximuthalRaw:function(){return $o},geoMiller:function(){return Eu},geoMillerRaw:function(){return Ro},geoModifiedStereographic:function(){return Ws},geoModifiedStereographicAlaska:function(){return Dc},geoModifiedStereographicGs48:function(){return Rc},geoModifiedStereographicGs50:function(){return Gs},geoModifiedStereographicLee:function(){return cl},geoModifiedStereographicMiller:function(){return Fo},geoModifiedStereographicRaw:function(){return su},geoMollweide:function(){return oe},geoMollweideRaw:function(){return le},geoMtFlatPolarParabolic:function(){return Lu},geoMtFlatPolarParabolicRaw:function(){return mo},geoMtFlatPolarQuartic:function(){return Qo},geoMtFlatPolarQuarticRaw:function(){return ws},geoMtFlatPolarSinusoidal:function(){return Ts},geoMtFlatPolarSinusoidalRaw:function(){return es},geoNaturalEarth:function(){return Kr.c},geoNaturalEarth2:function(){return Fc},geoNaturalEarth2Raw:function(){return fl},geoNaturalEarthRaw:function(){return Kr.g},geoNellHammer:function(){return hl},geoNellHammerRaw:function(){return lu},geoNicolosi:function(){return Nc},geoNicolosiRaw:function(){return uu},geoPatterson:function(){return ec},geoPattersonRaw:function(){return fu},geoPeirceQuincuncial:function(){return Qs},geoPierceQuincuncial:function(){return Qs},geoPolyconic:function(){return Zs},geoPolyconicRaw:function(){return dl},geoPolyhedral:function(){return li},geoPolyhedralButterfly:function(){return ml},geoPolyhedralCollignon:function(){return Nl},geoPolyhedralWaterman:function(){return jl},geoProject:function(){return Ul},geoQuantize:function(){return ns},geoQuincuncial:function(){return Es},geoRectangularPolyconic:function(){return oo},geoRectangularPolyconicRaw:function(){return ao},geoRobinson:function(){return Er},geoRobinsonRaw:function(){return _o},geoSatellite:function(){return Cu},geoSatelliteRaw:function(){return Vl},geoSinuMollweide:function(){return Jn},geoSinuMollweideRaw:function(){return Yn},geoSinusoidal:function(){return Re},geoSinusoidalRaw:function(){return ze},geoStitch:function(){return la},geoTimes:function(){return jo},geoTimesRaw:function(){return Ia},geoTwoPointAzimuthal:function(){return Da},geoTwoPointAzimuthalRaw:function(){return xl},geoTwoPointAzimuthalUsa:function(){return bl},geoTwoPointEquidistant:function(){return tl},geoTwoPointEquidistantRaw:function(){return $r},geoTwoPointEquidistantUsa:function(){return Uo},geoVanDerGrinten:function(){return _l},geoVanDerGrinten2:function(){return ko},geoVanDerGrinten2Raw:function(){return wl},geoVanDerGrinten3:function(){return nl},geoVanDerGrinten3Raw:function(){return _i},geoVanDerGrinten4:function(){return Fr},geoVanDerGrinten4Raw:function(){return Pr},geoVanDerGrintenRaw:function(){return To},geoWagner:function(){return Vo},geoWagner4:function(){return tc},geoWagner4Raw:function(){return ui},geoWagner6:function(){return pi},geoWagner6Raw:function(){return Ka},geoWagner7:function(){return as},geoWagnerRaw:function(){return Za},geoWiechel:function(){return Ua},geoWiechelRaw:function(){return Ai},geoWinkel3:function(){return Pu},geoWinkel3Raw:function(){return Is}});var T=e(87952),k=Math.abs,o=Math.atan,_=Math.atan2,b=Math.cos,f=Math.exp,s=Math.floor,t=Math.log,i=Math.max,r=Math.min,n=Math.pow,a=Math.round,l=Math.sign||function(Qe){return Qe>0?1:Qe<0?-1:0},u=Math.sin,h=Math.tan,c=1e-6,x=1e-12,p=Math.PI,v=p/2,g=p/4,y=Math.SQRT1_2,m=O(2),w=O(p),d=2*p,S=180/p,A=p/180;function E(Qe){return Qe>1?v:Qe<-1?-v:Math.asin(Qe)}function P(Qe){return Qe>1?0:Qe<-1?p:Math.acos(Qe)}function O(Qe){return Qe>0?Math.sqrt(Qe):0}function I(Qe){return(f(Qe)-f(-Qe))/2}function D(Qe){return(f(Qe)+f(-Qe))/2}function V(Qe){var nt=h(Qe/2),ct=2*t(b(Qe/2))/(nt*nt);function N(Y,G){var L=b(Y),q=b(G),ee=u(G),ae=q*L,fe=-((1-ae?t((1+ae)/2)/(1-ae):-.5)+ct/(1+ae));return[fe*q*u(Y),fe*ee]}return N.invert=function(Y,G){var L,q=O(Y*Y+G*G),ee=-Qe/2,ae=50;if(!q)return[0,0];do{var fe=ee/2,we=b(fe),Oe=u(fe),Be=Oe/we,Ge=-t(k(we));ee-=L=(2/Be*Ge-ct*Be-q)/(-Ge/(Oe*Oe)+1-ct/(2*we*we))*(we<0?.7:1)}while(k(L)>c&&--ae>0);var Ye=u(ee);return[_(Y*Ye,q*b(ee)),E(G*Ye/q)]},N}function z(){var Qe=v,nt=(0,T.U)(V),ct=nt(Qe);return ct.radius=function(N){return arguments.length?nt(Qe=N*A):Qe*S},ct.scale(179.976).clipAngle(147)}function j(Qe,nt){var ct=b(nt),N=function(Y){return Y?Y/Math.sin(Y):1}(P(ct*b(Qe/=2)));return[2*ct*u(Qe)*N,u(nt)*N]}function X(){return(0,T.c)(j).scale(152.63)}function F(Qe){var nt=u(Qe),ct=b(Qe),N=Qe>=0?1:-1,Y=h(N*Qe),G=(1+nt-ct)/2;function L(q,ee){var ae=b(ee),fe=b(q/=2);return[(1+ae)*u(q),(N*ee>-_(fe,Y)-.001?0:10*-N)+G+u(ee)*ct-(1+ae)*nt*fe]}return L.invert=function(q,ee){var ae=0,fe=0,we=50;do{var Oe=b(ae),Be=u(ae),Ge=b(fe),Ye=u(fe),rt=1+Ge,pt=rt*Be-q,vt=G+Ye*ct-rt*nt*Oe-ee,St=rt*Oe/2,It=-Be*Ye,Ct=nt*rt*Be/2,jt=ct*Ge+nt*Oe*Ye,zt=It*Ct-jt*St,Jt=(vt*It-pt*jt)/zt/2,Zt=(pt*Ct-vt*St)/zt;k(Zt)>2&&(Zt/=2),ae-=Jt,fe-=Zt}while((k(Jt)>c||k(Zt)>c)&&--we>0);return N*fe>-_(b(ae),Y)-.001?[2*ae,fe]:null},L}function H(){var Qe=20*A,nt=Qe>=0?1:-1,ct=h(nt*Qe),N=(0,T.U)(F),Y=N(Qe),G=Y.stream;return Y.parallel=function(L){return arguments.length?(ct=h((nt=(Qe=L*A)>=0?1:-1)*Qe),N(Qe)):Qe*S},Y.stream=function(L){var q=Y.rotate(),ee=G(L),ae=(Y.rotate([0,0]),G(L)),fe=Y.precision();return Y.rotate(q),ee.sphere=function(){ae.polygonStart(),ae.lineStart();for(var we=-180*nt;nt*we<180;we+=90*nt)ae.point(we,90*nt);if(Qe)for(;nt*(we-=3*nt*fe)>=-180;)ae.point(we,nt*-_(b(we*A/2),ct)*S);ae.lineEnd(),ae.polygonEnd()},ee},Y.scale(218.695).center([0,28.0974])}function W(Qe,nt){var ct=h(nt/2),N=O(1-ct*ct),Y=1+N*b(Qe/=2),G=u(Qe)*N/Y,L=ct/Y,q=G*G,ee=L*L;return[1.3333333333333333*G*(3+q-3*ee),1.3333333333333333*L*(3+3*q-ee)]}function ie(){return(0,T.c)(W).scale(66.1603)}j.invert=function(Qe,nt){if(!(Qe*Qe+4*nt*nt>p*p+c)){var ct=Qe,N=nt,Y=25;do{var G,L=u(ct),q=u(ct/2),ee=b(ct/2),ae=u(N),fe=b(N),we=u(2*N),Oe=ae*ae,Be=fe*fe,Ge=q*q,Ye=1-Be*ee*ee,rt=Ye?P(fe*ee)*O(G=1/Ye):G=0,pt=2*rt*fe*q-Qe,vt=rt*ae-nt,St=G*(Be*Ge+rt*fe*ee*Oe),It=G*(.5*L*we-2*rt*ae*q),Ct=.25*G*(we*q-rt*ae*Be*L),jt=G*(Oe*ee+rt*Ge*fe),zt=It*Ct-jt*St;if(!zt)break;var Jt=(vt*It-pt*jt)/zt,Zt=(pt*Ct-vt*St)/zt;ct-=Jt,N-=Zt}while((k(Jt)>c||k(Zt)>c)&&--Y>0);return[ct,N]}},W.invert=function(Qe,nt){if(nt*=.375,!(Qe*=.375)&&k(nt)>1)return null;var ct=1+Qe*Qe+nt*nt,N=O((ct-O(ct*ct-4*nt*nt))/2),Y=E(N)/3,G=N?function(ae){return t(ae+O(ae*ae-1))}(k(nt/N))/3:function(ae){return t(ae+O(ae*ae+1))}(k(Qe))/3,L=b(Y),q=D(G),ee=q*q-L*L;return[2*l(Qe)*_(I(G)*L,.25-ee),2*l(nt)*_(q*u(Y),.25+ee)]};var te=O(8),Q=t(1+m);function ne(Qe,nt){var ct=k(nt);return ct<g?[Qe,t(h(g+nt/2))]:[Qe*b(ct)*(2*m-1/u(ct)),l(nt)*(2*m*(ct-g)-t(h(ct/2)))]}function $(){return(0,T.c)(ne).scale(112.314)}ne.invert=function(Qe,nt){if((N=k(nt))<Q)return[Qe,2*o(f(nt))-v];var ct,N,Y=g,G=25;do{var L=b(Y/2),q=h(Y/2);Y-=ct=(te*(Y-g)-t(q)-N)/(te-L*L/(2*q))}while(k(ct)>x&&--G>0);return[Qe/(b(Y)*(te-1/u(Y))),l(nt)*Y]};var J=e(69020);function re(Qe){var nt=2*p/Qe;function ct(N,Y){var G=(0,J.O)(N,Y);if(k(N)>v){var L=_(G[1],G[0]),q=O(G[0]*G[0]+G[1]*G[1]),ee=nt*a((L-v)/nt)+v,ae=_(u(L-=ee),2-b(L));L=ee+E(p/q*u(ae))-ae,G[0]=q*b(L),G[1]=q*u(L)}return G}return ct.invert=function(N,Y){var G=O(N*N+Y*Y);if(G>v){var L=_(Y,N),q=nt*a((L-v)/nt)+v,ee=L>q?-1:1,ae=G*b(q-L),fe=1/h(ee*P((ae-p)/O(p*(p-2*ae)+G*G)));L=q+2*o((fe+ee*O(fe*fe-3))/3),N=G*b(L),Y=G*u(L)}return J.O.invert(N,Y)},ct}function se(){var Qe=5,nt=(0,T.U)(re),ct=nt(Qe),N=ct.stream,Y=.01,G=-b(Y*A),L=u(Y*A);return ct.lobes=function(q){return arguments.length?nt(Qe=+q):Qe},ct.stream=function(q){var ee=ct.rotate(),ae=N(q),fe=(ct.rotate([0,0]),N(q));return ct.rotate(ee),ae.sphere=function(){fe.polygonStart(),fe.lineStart();for(var we=0,Oe=360/Qe,Be=2*p/Qe,Ge=90-180/Qe,Ye=v;we<Qe;++we,Ge-=Oe,Ye-=Be)fe.point(_(L*b(Ye),G)*S,E(L*u(Ye))*S),Ge<-90?(fe.point(-90,-180-Ge-Y),fe.point(-90,-180-Ge+Y)):(fe.point(90,Ge+Y),fe.point(90,Ge-Y));fe.lineEnd(),fe.polygonEnd()},ae},ct.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(54724);function he(Qe,nt){if(arguments.length<2&&(nt=Qe),nt===1)return ue.y;if(nt===1/0)return pe;function ct(N,Y){var G=(0,ue.y)(N/nt,Y);return G[0]*=Qe,G}return ct.invert=function(N,Y){var G=ue.y.invert(N/Qe,Y);return G[0]*=nt,G},ct}function pe(Qe,nt){return[Qe*b(nt)/b(nt/=2),2*u(nt)]}function ge(){var Qe=2,nt=(0,T.U)(he),ct=nt(Qe);return ct.coefficient=function(N){return arguments.length?nt(Qe=+N):Qe},ct.scale(169.529)}function ye(Qe,nt,ct){var N,Y,G,L=100;ct=ct===void 0?0:+ct,nt=+nt;do(Y=Qe(ct))===(G=Qe(ct+c))&&(G=Y+c),ct-=N=-1*c*(Y-nt)/(Y-G);while(L-- >0&&k(N)>c);return L<0?NaN:ct}function be(Qe,nt,ct){return nt===void 0&&(nt=40),ct===void 0&&(ct=x),function(N,Y,G,L){var q,ee,ae;G=G===void 0?0:+G,L=L===void 0?0:+L;for(var fe=0;fe<nt;fe++){var we=Qe(G,L),Oe=we[0]-N,Be=we[1]-Y;if(k(Oe)<ct&&k(Be)<ct)break;var Ge=Oe*Oe+Be*Be;if(Ge>q)G-=ee/=2,L-=ae/=2;else{q=Ge;var Ye=(G>0?-1:1)*ct,rt=(L>0?-1:1)*ct,pt=Qe(G+Ye,L),vt=Qe(G,L+rt),St=(pt[0]-we[0])/Ye,It=(pt[1]-we[1])/Ye,Ct=(vt[0]-we[0])/rt,jt=(vt[1]-we[1])/rt,zt=jt*St-It*Ct,Jt=(k(zt)<.5?.5:1)/zt;if(G+=ee=(Be*Ct-Oe*jt)*Jt,L+=ae=(Oe*It-Be*St)*Jt,k(ee)<ct&&k(ae)<ct)break}}return[G,L]}}function Te(){var Qe=he(1.68,2);function nt(ct,N){if(ct+N<-1.4){var Y=(ct-N+1.6)*(ct+N+1.4)/8;ct+=Y,N-=.8*Y*u(N+p/2)}var G=Qe(ct,N),L=(1-b(ct*N))/12;return G[1]<0&&(G[0]*=1+L),G[1]>0&&(G[1]*=1+L/1.5*G[0]*G[0]),G}return nt.invert=be(nt),nt}function Se(){return(0,T.c)(Te()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Fe(Qe,nt){var ct,N=Qe*u(nt),Y=30;do nt-=ct=(nt+u(nt)-N)/(1+b(nt));while(k(ct)>c&&--Y>0);return nt/2}function xe(Qe,nt,ct){function N(Y,G){return[Qe*Y*b(G=Fe(ct,G)),nt*u(G)]}return N.invert=function(Y,G){return G=E(G/nt),[Y/(Qe*b(G)),E((2*G+u(2*G))/ct)]},N}pe.invert=function(Qe,nt){var ct=2*E(nt/2);return[Qe*b(ct/2)/b(ct),ct]};var le=xe(m/v,m,p);function oe(){return(0,T.c)(le).scale(169.529)}var de=2.00276,Ce=1.11072;function _e(Qe,nt){var ct=Fe(p,nt);return[de*Qe/(1/b(nt)+Ce/b(ct)),(nt+m*u(ct))/de]}function Ae(){return(0,T.c)(_e).scale(160.857)}function Le(Qe){var nt=0,ct=(0,T.U)(Qe),N=ct(nt);return N.parallel=function(Y){return arguments.length?ct(nt=Y*A):nt*S},N}function ze(Qe,nt){return[Qe*b(nt),nt]}function Re(){return(0,T.c)(ze).scale(152.63)}function ve(Qe){if(!Qe)return ze;var nt=1/h(Qe);function ct(N,Y){var G=nt+Qe-Y,L=G&&N*b(Y)/G;return[G*u(L),nt-G*b(L)]}return ct.invert=function(N,Y){var G=O(N*N+(Y=nt-Y)*Y),L=nt+Qe-G;return[G/b(L)*_(N,Y),L]},ct}function ke(){return Le(ve).scale(123.082).center([0,26.1441]).parallel(45)}function Ee(Qe){function nt(ct,N){var Y=v-N,G=Y&&ct*Qe*u(Y)/Y;return[Y*u(G)/Qe,v-Y*b(G)]}return nt.invert=function(ct,N){var Y=ct*Qe,G=v-N,L=O(Y*Y+G*G),q=_(Y,G);return[(L?L/u(L):1)*q/Qe,v-L]},nt}function De(){var Qe=.5,nt=(0,T.U)(Ee),ct=nt(Qe);return ct.fraction=function(N){return arguments.length?nt(Qe=+N):Qe},ct.scale(158.837)}_e.invert=function(Qe,nt){var ct,N,Y=de*nt,G=nt<0?-g:g,L=25;do N=Y-m*u(G),G-=ct=(u(2*G)+2*G-p*u(N))/(2*b(2*G)+2+p*b(N)*m*b(G));while(k(ct)>c&&--L>0);return N=Y-m*u(G),[Qe*(1/b(N)+Ce/b(G))/de,N]},ze.invert=function(Qe,nt){return[Qe/b(nt),nt]};var Pe=xe(1,4/p,p);function Ue(){return(0,T.c)(Pe).scale(152.63)}var We=e(24052),$e=e(92992);function ot(Qe,nt,ct,N,Y,G){var L,q=b(G);if(k(Qe)>1||k(G)>1)L=P(ct*Y+nt*N*q);else{var ee=u(Qe/2),ae=u(G/2);L=2*E(O(ee*ee+nt*N*ae*ae))}return k(L)>c?[L,_(N*u(G),nt*Y-ct*N*q)]:[0,0]}function st(Qe,nt,ct){return P((Qe*Qe+nt*nt-ct*ct)/(2*Qe*nt))}function mt(Qe){return Qe-2*p*s((Qe+p)/(2*p))}function _t(Qe,nt,ct){for(var N,Y=[[Qe[0],Qe[1],u(Qe[1]),b(Qe[1])],[nt[0],nt[1],u(nt[1]),b(nt[1])],[ct[0],ct[1],u(ct[1]),b(ct[1])]],G=Y[2],L=0;L<3;++L,G=N)N=Y[L],G.v=ot(N[1]-G[1],G[3],G[2],N[3],N[2],N[0]-G[0]),G.point=[0,0];var q=st(Y[0].v[0],Y[2].v[0],Y[1].v[0]),ee=st(Y[0].v[0],Y[1].v[0],Y[2].v[0]),ae=p-q;Y[2].point[1]=0,Y[0].point[0]=-(Y[1].point[0]=Y[0].v[0]/2);var fe=[Y[2].point[0]=Y[0].point[0]+Y[2].v[0]*b(q),2*(Y[0].point[1]=Y[1].point[1]=Y[2].v[0]*u(q))];return function(we,Oe){var Be,Ge=u(Oe),Ye=b(Oe),rt=new Array(3);for(Be=0;Be<3;++Be){var pt=Y[Be];if(rt[Be]=ot(Oe-pt[1],pt[3],pt[2],Ye,Ge,we-pt[0]),!rt[Be][0])return pt.point;rt[Be][1]=mt(rt[Be][1]-pt.v[1])}var vt=fe.slice();for(Be=0;Be<3;++Be){var St=Be==2?0:Be+1,It=st(Y[Be].v[0],rt[Be][0],rt[St][0]);rt[Be][1]<0&&(It=-It),Be?Be==1?(It=ee-It,vt[0]-=rt[Be][0]*b(It),vt[1]-=rt[Be][0]*u(It)):(It=ae-It,vt[0]+=rt[Be][0]*b(It),vt[1]+=rt[Be][0]*u(It)):(vt[0]+=rt[Be][0]*b(It),vt[1]-=rt[Be][0]*u(It))}return vt[0]/=3,vt[1]/=3,vt}}function yt(Qe){return Qe[0]*=A,Qe[1]*=A,Qe}function it(){return tt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function tt(Qe,nt,ct){var N=(0,We.c)({type:"MultiPoint",coordinates:[Qe,nt,ct]}),Y=[-N[0],-N[1]],G=(0,$e.c)(Y),L=_t(yt(G(Qe)),yt(G(nt)),yt(G(ct)));L.invert=be(L);var q=(0,T.c)(L).rotate(Y),ee=q.center;return delete q.rotate,q.center=function(ae){return arguments.length?ee(G(ae)):G.invert(ee())},q.clipAngle(90)}function Pt(Qe,nt){var ct=O(1-u(nt));return[2/w*Qe*ct,w*(1-ct)]}function Rt(){return(0,T.c)(Pt).scale(95.6464).center([0,30])}function Ft(Qe){var nt=h(Qe);function ct(N,Y){return[N,(N?N/u(N):1)*(u(Y)*b(N)-nt*b(Y))]}return ct.invert=nt?function(N,Y){N&&(Y*=u(N)/N);var G=b(N);return[N,2*_(O(G*G+nt*nt-Y*Y)-G,nt-Y)]}:function(N,Y){return[N,E(N?Y*h(N)/N:Y)]},ct}function Ot(){return Le(Ft).scale(249.828).clipAngle(90)}Pt.invert=function(Qe,nt){var ct=(ct=nt/w-1)*ct;return[ct>0?Qe*O(p/ct)/2:0,E(1-ct)]};var Xe=O(3);function Je(Qe,nt){return[Xe*Qe*(2*b(2*nt/3)-1)/w,Xe*w*u(nt/3)]}function Ve(){return(0,T.c)(Je).scale(156.19)}function Ke(Qe){var nt=b(Qe);function ct(N,Y){return[N*nt,u(Y)/nt]}return ct.invert=function(N,Y){return[N/nt,E(Y*nt)]},ct}function ft(){return Le(Ke).parallel(38.58).scale(195.044)}function ut(Qe){var nt=b(Qe);function ct(N,Y){return[N*nt,(1+nt)*h(Y/2)]}return ct.invert=function(N,Y){return[N/nt,2*o(Y/(1+nt))]},ct}function xt(){return Le(ut).scale(124.75)}function bt(Qe,nt){var ct=O(8/(3*p));return[ct*Qe*(1-k(nt)/p),ct*nt]}function qe(){return(0,T.c)(bt).scale(165.664)}function je(Qe,nt){var ct=O(4-3*u(k(nt)));return[2/O(6*p)*Qe*ct,l(nt)*O(2*p/3)*(2-ct)]}function lt(){return(0,T.c)(je).scale(165.664)}function gt(Qe,nt){var ct=O(p*(4+p));return[2/ct*Qe*(1+O(1-4*nt*nt/(p*p))),4/ct*nt]}function dt(){return(0,T.c)(gt).scale(180.739)}function at(Qe,nt){var ct=(2+v)*u(nt);nt/=2;for(var N=0,Y=1/0;N<10&&k(Y)>c;N++){var G=b(nt);nt-=Y=(nt+u(nt)*(G+2)-ct)/(2*G*(1+G))}return[2/O(p*(4+p))*Qe*(1+b(nt)),2*O(p/(4+p))*u(nt)]}function kt(){return(0,T.c)(at).scale(180.739)}function wt(Qe,nt){return[Qe*(1+b(nt))/O(2+p),2*nt/O(2+p)]}function Et(){return(0,T.c)(wt).scale(173.044)}function Tt(Qe,nt){for(var ct=(1+v)*u(nt),N=0,Y=1/0;N<10&&k(Y)>c;N++)nt-=Y=(nt+u(nt)-ct)/(1+b(nt));return ct=O(2+p),[Qe*(1+b(nt))/ct,2*nt/ct]}function At(){return(0,T.c)(Tt).scale(173.044)}Je.invert=function(Qe,nt){var ct=3*E(nt/(Xe*w));return[w*Qe/(Xe*(2*b(2*ct/3)-1)),ct]},bt.invert=function(Qe,nt){var ct=O(8/(3*p)),N=nt/ct;return[Qe/(ct*(1-k(N)/p)),N]},je.invert=function(Qe,nt){var ct=2-k(nt)/O(2*p/3);return[Qe*O(6*p)/(2*ct),l(nt)*E((4-ct*ct)/3)]},gt.invert=function(Qe,nt){var ct=O(p*(4+p))/2;return[Qe*ct/(1+O(1-nt*nt*(4+p)/(4*p))),nt*ct/2]},at.invert=function(Qe,nt){var ct=nt*O((4+p)/p)/2,N=E(ct),Y=b(N);return[Qe/(2/O(p*(4+p))*(1+Y)),E((N+ct*(Y+2))/(2+v))]},wt.invert=function(Qe,nt){var ct=O(2+p),N=nt*ct/2;return[ct*Qe/(1+b(N)),N]},Tt.invert=function(Qe,nt){var ct=1+v,N=O(ct/2);return[2*Qe*N/(1+b(nt*=N)),E((nt+u(nt))/ct)]};var Nt=3+2*m;function Wt(Qe,nt){var ct=u(Qe/=2),N=b(Qe),Y=O(b(nt)),G=b(nt/=2),L=u(nt)/(G+m*N*Y),q=O(2/(1+L*L)),ee=O((m*G+(N+ct)*Y)/(m*G+(N-ct)*Y));return[Nt*(q*(ee-1/ee)-2*t(ee)),Nt*(q*L*(ee+1/ee)-2*o(L))]}function on(){return(0,T.c)(Wt).scale(62.5271)}Wt.invert=function(Qe,nt){if(!(ct=W.invert(Qe/1.2,1.065*nt)))return null;var ct,N=ct[0],Y=ct[1],G=20;Qe/=Nt,nt/=Nt;do{var L=N/2,q=Y/2,ee=u(L),ae=b(L),fe=u(q),we=b(q),Oe=b(Y),Be=O(Oe),Ge=fe/(we+m*ae*Be),Ye=Ge*Ge,rt=O(2/(1+Ye)),pt=(m*we+(ae+ee)*Be)/(m*we+(ae-ee)*Be),vt=O(pt),St=vt-1/vt,It=vt+1/vt,Ct=rt*St-2*t(vt)-Qe,jt=rt*Ge*It-2*o(Ge)-nt,zt=fe&&y*Be*ee*Ye/fe,Jt=(m*ae*we+Be)/(2*(we+m*ae*Be)*(we+m*ae*Be)*Be),Zt=-.5*Ge*rt*rt*rt,Gt=Zt*zt,mn=Zt*Jt,_n=(_n=2*we+m*Be*(ae-ee))*_n*vt,Cn=(m*ae*we*Be+Oe)/_n,zn=-m*ee*fe/(Be*_n),Wn=St*Gt-2*Cn/vt+rt*(Cn+Cn/pt),sr=St*mn-2*zn/vt+rt*(zn+zn/pt),vr=Ge*It*Gt-2*zt/(1+Ye)+rt*It*zt+rt*Ge*(Cn-Cn/pt),Kn=Ge*It*mn-2*Jt/(1+Ye)+rt*It*Jt+rt*Ge*(zn-zn/pt),hr=sr*vr-Kn*Wn;if(!hr)break;var wr=(jt*sr-Ct*Kn)/hr,Or=(Ct*vr-jt*Wn)/hr;N-=wr,Y=i(-v,r(v,Y-Or))}while((k(wr)>c||k(Or)>c)&&--G>0);return k(k(Y)-v)<c?[0,Y]:G&&[N,Y]};var cn=b(35*A);function un(Qe,nt){var ct=h(nt/2);return[Qe*cn*O(1-ct*ct),(1+cn)*ct]}function Xt(){return(0,T.c)(un).scale(137.152)}function tn(Qe,nt){var ct=nt/2,N=b(ct);return[2*Qe/w*b(nt)*N*N,w*h(ct)]}function kn(){return(0,T.c)(tn).scale(135.264)}function fn(Qe){var nt=1-Qe,ct=Y(p,0)[0]-Y(-p,0)[0],N=O(2*(Y(0,v)[1]-Y(0,-v)[1])/ct);function Y(q,ee){var ae=b(ee),fe=u(ee);return[ae/(nt+Qe*ae)*q,nt*ee+Qe*fe]}function G(q,ee){var ae=Y(q,ee);return[ae[0]*N,ae[1]/N]}function L(q){return G(0,q)[1]}return G.invert=function(q,ee){var ae=ye(L,ee);return[q/N*(Qe+nt/b(ae)),ae]},G}function Qt(){var Qe=.5,nt=(0,T.U)(fn),ct=nt(Qe);return ct.alpha=function(N){return arguments.length?nt(Qe=+N):Qe},ct.scale(168.725)}un.invert=function(Qe,nt){var ct=nt/(1+cn);return[Qe&&Qe/(cn*O(1-ct*ct)),2*o(ct)]},tn.invert=function(Qe,nt){var ct=o(nt/w),N=b(ct),Y=2*ct;return[Qe*w/2/(b(Y)*N*N),Y]};var pn=e(4888),nn=e(69604);function sn(Qe){return[Qe[0]/2,E(h(Qe[1]/2*A))*S]}function Sn(Qe){return[2*Qe[0],2*o(u(Qe[1]*A))*S]}function wn(Qe){Qe==null&&(Qe=pn.c);var nt=Qe(),ct=(0,nn.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function N(G){return nt(sn(G))}function Y(G){N[G]=function(){return arguments.length?(nt[G].apply(nt,arguments),N):nt[G]()}}return nt.invert&&(N.invert=function(G){return Sn(nt.invert(G))}),N.stream=function(G){var L=nt.stream(G),q=ct.stream({point:function(ee,ae){L.point(ee/2,E(h(-ae/2*A))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return q.sphere=L.sphere,q},N.rotate=function(G){return arguments.length?(ct.rotate(G),N):ct.rotate()},N.center=function(G){return arguments.length?(nt.center(sn(G)),N):Sn(nt.center())},Y("angle"),Y("clipAngle"),Y("clipExtent"),Y("fitExtent"),Y("fitHeight"),Y("fitSize"),Y("fitWidth"),Y("scale"),Y("translate"),Y("precision"),N.scale(249.5)}function Dn(Qe,nt){var ct=2*p/nt,N=Qe*Qe;function Y(G,L){var q=(0,J.O)(G,L),ee=q[0],ae=q[1],fe=ee*ee+ae*ae;if(fe>N){var we=O(fe),Oe=_(ae,ee),Be=ct*a(Oe/ct),Ge=Oe-Be,Ye=Qe*b(Ge),rt=(Qe*u(Ge)-Ge*u(Ye))/(v-Ye),pt=Tn(Ge,rt),vt=(p-Qe)/Pn(pt,Ye,p);ee=we;var St,It=50;do ee-=St=(Qe+Pn(pt,Ye,ee)*vt-we)/(pt(ee)*vt);while(k(St)>c&&--It>0);ae=Ge*u(ee),ee<v&&(ae-=rt*(ee-v));var Ct=u(Be),jt=b(Be);q[0]=ee*jt-ae*Ct,q[1]=ee*Ct+ae*jt}return q}return Y.invert=function(G,L){var q=G*G+L*L;if(q>N){var ee=O(q),ae=_(L,G),fe=ct*a(ae/ct),we=ae-fe;G=ee*b(we),L=ee*u(we);for(var Oe=G-v,Be=u(G),Ge=L/Be,Ye=G<v?1/0:0,rt=10;;){var pt=Qe*u(Ge),vt=Qe*b(Ge),St=u(vt),It=v-vt,Ct=(pt-Ge*St)/It,jt=Tn(Ge,Ct);if(k(Ye)<x||!--rt)break;Ge-=Ye=(Ge*Be-Ct*Oe-L)/(Be-2*Oe*(It*(vt+Ge*pt*b(vt)-St)-pt*(pt-Ge*St))/(It*It))}G=(ee=Qe+Pn(jt,vt,G)*(p-Qe)/Pn(jt,vt,p))*b(ae=fe+Ge),L=ee*u(ae)}return J.O.invert(G,L)},Y}function Tn(Qe,nt){return function(ct){var N=Qe*b(ct);return ct<v&&(N-=nt),O(1+N*N)}}function Pn(Qe,nt,ct){for(var N=(ct-nt)/50,Y=Qe(nt)+Qe(ct),G=1,L=nt;G<50;++G)Y+=2*Qe(L+=N);return .5*Y*N}function Nn(){var Qe=6,nt=30*A,ct=b(nt),N=u(nt),Y=(0,T.U)(Dn),G=Y(nt,Qe),L=G.stream,q=-b(.01*A),ee=u(.01*A);return G.radius=function(ae){return arguments.length?(ct=b(nt=ae*A),N=u(nt),Y(nt,Qe)):nt*S},G.lobes=function(ae){return arguments.length?Y(nt,Qe=+ae):Qe},G.stream=function(ae){var fe=G.rotate(),we=L(ae),Oe=(G.rotate([0,0]),L(ae));return G.rotate(fe),we.sphere=function(){Oe.polygonStart(),Oe.lineStart();for(var Be=0,Ge=2*p/Qe,Ye=0;Be<Qe;++Be,Ye-=Ge)Oe.point(_(ee*b(Ye),q)*S,E(ee*u(Ye))*S),Oe.point(_(N*b(Ye-Ge/2),ct)*S,E(N*u(Ye-Ge/2))*S);Oe.lineEnd(),Oe.polygonEnd()},we},G.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function $n(Qe,nt,ct,N,Y,G,L,q){function ee(ae,fe){if(!fe)return[Qe*ae/p,0];var we=fe*fe,Oe=Qe+we*(nt+we*(ct+we*N)),Be=fe*(Y-1+we*(G-q+we*L)),Ge=(Oe*Oe+Be*Be)/(2*Be),Ye=ae*E(Oe/Ge)/p;return[Ge*u(Ye),fe*(1+we*q)+Ge*(1-b(Ye))]}return arguments.length<8&&(q=0),ee.invert=function(ae,fe){var we,Oe,Be=p*ae/Qe,Ge=fe,Ye=50;do{var rt=Ge*Ge,pt=Qe+rt*(nt+rt*(ct+rt*N)),vt=Ge*(Y-1+rt*(G-q+rt*L)),St=pt*pt+vt*vt,It=2*vt,Ct=St/It,jt=Ct*Ct,zt=E(pt/Ct)/p,Jt=Be*zt,Zt=pt*pt,Gt=(2*nt+rt*(4*ct+6*rt*N))*Ge,mn=Y+rt*(3*G+5*rt*L),_n=(2*(pt*Gt+vt*(mn-1))*It-St*(2*(mn-1)))/(It*It),Cn=b(Jt),zn=u(Jt),Wn=Ct*Cn,sr=Ct*zn,vr=Be/p*(1/O(1-Zt/jt))*(Gt*Ct-pt*_n)/jt,Kn=sr-ae,hr=Ge*(1+rt*q)+Ct-Wn-fe,wr=_n*zn+Wn*vr,Or=Wn*zt,or=1+_n-(_n*Cn-sr*vr),fr=sr*zt,Mr=wr*fr-or*Or;if(!Mr)break;Be-=we=(hr*wr-Kn*or)/Mr,Ge-=Oe=(Kn*fr-hr*Or)/Mr}while((k(we)>c||k(Oe)>c)&&--Ye>0);return[Be,Ge]},ee}var pr=$n(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Hn(){return(0,T.c)(pr).scale(149.995)}var Qn=$n(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function er(){return(0,T.c)(Qn).scale(153.93)}var ur=$n(5/6*p,-.62636,-.0344,0,1.3493,-.05524,0,.045);function $t(){return(0,T.c)(ur).scale(130.945)}function rn(Qe,nt){var ct=Qe*Qe,N=nt*nt;return[Qe*(1-.162388*N)*(.87-952426e-9*ct*ct),nt*(1+N/12)]}function On(){return(0,T.c)(rn).scale(131.747)}rn.invert=function(Qe,nt){var ct,N=Qe,Y=nt,G=50;do{var L=Y*Y;Y-=ct=(Y*(1+L/12)-nt)/(1+L/4)}while(k(ct)>c&&--G>0);G=50,Qe/=1-.162388*L;do{var q=(q=N*N)*q;N-=ct=(N*(.87-952426e-9*q)-Qe)/(.87-.00476213*q)}while(k(ct)>c&&--G>0);return[N,Y]};var xn=$n(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function In(){return(0,T.c)(xn).scale(131.087)}function Gn(Qe){var nt=Qe(v,0)[0]-Qe(-v,0)[0];function ct(N,Y){var G=N>0?-.5:.5,L=Qe(N+G*p,Y);return L[0]-=G*nt,L}return Qe.invert&&(ct.invert=function(N,Y){var G=N>0?-.5:.5,L=Qe.invert(N+G*nt,Y),q=L[0]-G*p;return q<-p?q+=2*p:q>p&&(q-=2*p),L[0]=q,L}),ct}function qn(Qe,nt){var ct=l(Qe),N=l(nt),Y=b(nt),G=b(Qe)*Y,L=u(Qe)*Y,q=u(N*nt);Qe=k(_(L,q)),nt=E(G),k(Qe-v)>c&&(Qe%=v);var ee=function(ae,fe){if(fe===v)return[0,0];var we,Oe,Be=u(fe),Ge=Be*Be,Ye=Ge*Ge,rt=1+Ye,pt=1+3*Ye,vt=1-Ye,St=E(1/O(rt)),It=vt+Ge*rt*St,Ct=(1-Be)/It,jt=O(Ct),zt=Ct*rt,Jt=O(zt),Zt=jt*vt;if(ae===0)return[0,-(Zt+Ge*Jt)];var Gt,mn=b(fe),_n=1/mn,Cn=2*Be*mn,zn=(-It*mn-(1-Be)*((-3*Ge+St*pt)*Cn))/(It*It),Wn=-_n*Cn,sr=-_n*(Ge*rt*zn+Ct*pt*Cn),vr=-2*_n*(vt*(.5*zn/jt)-2*Ge*jt*Cn),Kn=4*ae/p;if(ae>.222*p||fe<p/4&&ae>.175*p){if(we=(Zt+Ge*O(zt*(1+Ye)-Zt*Zt))/(1+Ye),ae>p/4)return[we,we];var hr=we,wr=.5*we;we=.5*(wr+hr),Oe=50;do{var Or=we*(vr+Wn*O(zt-we*we))+sr*E(we/Jt)-Kn;if(!Or)break;Or<0?wr=we:hr=we,we=.5*(wr+hr)}while(k(hr-wr)>c&&--Oe>0)}else{we=c,Oe=25;do{var or=we*we,fr=O(zt-or),Mr=vr+Wn*fr,mr=we*Mr+sr*E(we/Jt)-Kn;we-=Gt=fr?mr/(Mr+(sr-Wn*or)/fr):0}while(k(Gt)>c&&--Oe>0)}return[we,-Zt-Ge*O(zt-we*we)]}(Qe>p/4?v-Qe:Qe,nt);return Qe>p/4&&(q=ee[0],ee[0]=-ee[1],ee[1]=-q),ee[0]*=ct,ee[1]*=-N,ee}function ir(){return(0,T.c)(Gn(qn)).scale(239.75)}function dr(Qe,nt){var ct,N,Y,G,L,q;if(nt<c)return[(G=u(Qe))-(ct=nt*(Qe-G*(N=b(Qe)))/4)*N,N+ct*G,1-nt*G*G/2,Qe-ct];if(nt>=1-c)return ct=(1-nt)/4,Y=1/(N=D(Qe)),[(G=((q=f(2*(q=Qe)))-1)/(q+1))+ct*((L=N*I(Qe))-Qe)/(N*N),Y-ct*G*Y*(L-Qe),Y+ct*G*Y*(L+Qe),2*o(f(Qe))-v+ct*(L-Qe)/N];var ee=[1,0,0,0,0,0,0,0,0],ae=[O(nt),0,0,0,0,0,0,0,0],fe=0;for(N=O(1-nt),L=1;k(ae[fe]/ee[fe])>c&&fe<8;)ct=ee[fe++],ae[fe]=(ct-N)/2,ee[fe]=(ct+N)/2,N=O(ct*N),L*=2;Y=L*ee[fe]*Qe;do Y=(E(G=ae[fe]*u(N=Y)/ee[fe])+Y)/2;while(--fe);return[u(Y),G=b(Y),G/b(Y-N),Y]}function Kt(Qe,nt){if(!nt)return Qe;if(nt===1)return t(h(Qe/2+g));for(var ct=1,N=O(1-nt),Y=O(nt),G=0;k(Y)>c;G++){if(Qe%p){var L=o(N*h(Qe)/ct);L<0&&(L+=p),Qe+=L+~~(Qe/p)*p}else Qe+=Qe;Y=(ct+N)/2,N=O(ct*N),Y=((ct=Y)-N)/2}return Qe/(n(2,G)*ct)}function bn(Qe,nt){var ct=(m-1)/(m+1),N=O(1-ct*ct),Y=Kt(v,N*N),G=t(h(p/4+k(nt)/2)),L=f(-1*G)/O(ct),q=function(ae,fe){var we=ae*ae,Oe=fe+1,Be=1-we-fe*fe;return[.5*((ae>=0?v:-v)-_(Be,2*ae)),-.25*t(Be*Be+4*we)+.5*t(Oe*Oe+we)]}(L*b(-1*Qe),L*u(-1*Qe)),ee=function(ae,fe,we){var Oe=k(ae),Be=I(k(fe));if(Oe){var Ge=1/u(Oe),Ye=1/(h(Oe)*h(Oe)),rt=-(Ye+we*(Be*Be*Ge*Ge)-1+we),pt=(-rt+O(rt*rt-(we-1)*Ye*4))/2;return[Kt(o(1/O(pt)),we)*l(ae),Kt(o(O((pt/Ye-1)/we)),1-we)*l(fe)]}return[0,Kt(o(Be),1-we)*l(fe)]}(q[0],q[1],N*N);return[-ee[1],(nt>=0?1:-1)*(.5*Y-ee[0])]}function Dt(){return(0,T.c)(Gn(bn)).scale(151.496)}qn.invert=function(Qe,nt){k(Qe)>1&&(Qe=2*l(Qe)-Qe),k(nt)>1&&(nt=2*l(nt)-nt);var ct=l(Qe),N=l(nt),Y=-ct*Qe,G=-N*nt,L=G/Y<1,q=function(we,Oe){for(var Be=0,Ge=1,Ye=.5,rt=50;;){var pt=Ye*Ye,vt=O(Ye),St=E(1/O(1+pt)),It=1-pt+Ye*(1+pt)*St,Ct=(1-vt)/It,jt=O(Ct),zt=Ct*(1+pt),Jt=jt*(1-pt),Zt=O(zt-we*we),Gt=Oe+Jt+Ye*Zt;if(k(Ge-Be)<x||--rt==0||Gt===0)break;Gt>0?Be=Ye:Ge=Ye,Ye=.5*(Be+Ge)}if(!rt)return null;var mn=E(vt),_n=b(mn),Cn=1/_n,zn=2*vt*_n,Wn=(-It*_n-(-3*Ye+St*(1+3*pt))*zn*(1-vt))/(It*It);return[p/4*(we*(-2*Cn*((1-pt)*(.5*Wn/jt)-2*Ye*jt*zn)+-Cn*zn*Zt)+-Cn*(Ye*(1+pt)*Wn+Ct*(1+3*pt)*zn)*E(we/O(zt))),mn]}(L?G:Y,L?Y:G),ee=q[0],ae=q[1],fe=b(ae);return L&&(ee=-v-ee),[ct*(_(u(ee)*fe,-u(ae))+p),N*E(b(ee)*fe)]},bn.invert=function(Qe,nt){var ct,N,Y,G,L,q,ee=(m-1)/(m+1),ae=O(1-ee*ee),fe=(N=-Qe,Y=ae*ae,(ct=.5*Kt(v,ae*ae)-nt)?(G=dr(ct,Y),N?(q=(L=dr(N,1-Y))[1]*L[1]+Y*G[0]*G[0]*L[0]*L[0],[[G[0]*L[2]/q,G[1]*G[2]*L[0]*L[1]/q],[G[1]*L[1]/q,-G[0]*G[2]*L[0]*L[2]/q],[G[2]*L[1]*L[2]/q,-Y*G[0]*G[1]*L[0]/q]]):[[G[0],0],[G[1],0],[G[2],0]]):[[0,(L=dr(N,1-Y))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),we=function(Oe,Be){var Ge=Be[0]*Be[0]+Be[1]*Be[1];return[(Oe[0]*Be[0]+Oe[1]*Be[1])/Ge,(Oe[1]*Be[0]-Oe[0]*Be[1])/Ge]}(fe[0],fe[1]);return[_(we[1],we[0])/-1,2*o(f(-.5*t(ee*we[0]*we[0]+ee*we[1]*we[1])))-v]};var Ut=e(61780);function en(Qe){var nt=u(Qe),ct=b(Qe),N=gn(Qe);function Y(G,L){var q=N(G,L);G=q[0],L=q[1];var ee=u(L),ae=b(L),fe=b(G),we=P(nt*ee+ct*ae*fe),Oe=u(we),Be=k(Oe)>c?we/Oe:1;return[Be*ct*u(G),(k(G)>v?Be:-Be)*(nt*ae-ct*ee*fe)]}return N.invert=gn(-Qe),Y.invert=function(G,L){var q=O(G*G+L*L),ee=-u(q),ae=b(q),fe=q*ae,we=-L*ee,Oe=q*nt,Be=O(fe*fe+we*we-Oe*Oe),Ge=_(fe*Oe+we*Be,we*Oe-fe*Be),Ye=(q>v?-1:1)*_(G*ee,q*b(Ge)*ae+L*u(Ge)*ee);return N.invert(Ye,Ge)},Y}function gn(Qe){var nt=u(Qe),ct=b(Qe);return function(N,Y){var G=b(Y),L=b(N)*G,q=u(N)*G,ee=u(Y);return[_(q,L*ct-ee*nt),E(ee*ct+L*nt)]}}function vn(){var Qe=0,nt=(0,T.U)(en),ct=nt(Qe),N=ct.rotate,Y=ct.stream,G=(0,Ut.c)();return ct.parallel=function(L){if(!arguments.length)return Qe*S;var q=ct.rotate();return nt(Qe=L*A).rotate(q)},ct.rotate=function(L){return arguments.length?(N.call(ct,[L[0],L[1]-Qe*S]),G.center([-L[0],-L[1]]),ct):((L=N.call(ct))[1]+=Qe*S,L)},ct.stream=function(L){return(L=Y(L)).sphere=function(){L.polygonStart();var q,ee=G.radius(89.99)().coordinates[0],ae=ee.length-1,fe=-1;for(L.lineStart();++fe<ae;)L.point((q=ee[fe])[0],q[1]);for(L.lineEnd(),ae=(ee=G.radius(90.01)().coordinates[0]).length-1,L.lineStart();--fe>=0;)L.point((q=ee[fe])[0],q[1]);L.lineEnd(),L.polygonEnd()},L},ct.scale(79.4187).parallel(45).clipAngle(179.999)}var Mn=e(84706),yn=e(16016),hn=E(1-1/3)*S,qt=Ke(0);function Vt(Qe){var nt=hn*A,ct=Pt(p,nt)[0]-Pt(-p,nt)[0],N=qt(0,nt)[1],Y=Pt(0,nt)[1],G=w-Y,L=d/Qe,q=4/d,ee=N+G*G*4/d;function ae(fe,we){var Oe,Be=k(we);if(Be>nt){var Ge=r(Qe-1,i(0,s((fe+p)/L)));(Oe=Pt(fe+=p*(Qe-1)/Qe-Ge*L,Be))[0]=Oe[0]*d/ct-d*(Qe-1)/(2*Qe)+Ge*d/Qe,Oe[1]=N+4*(Oe[1]-Y)*G/d,we<0&&(Oe[1]=-Oe[1])}else Oe=qt(fe,we);return Oe[0]*=q,Oe[1]/=ee,Oe}return ae.invert=function(fe,we){fe/=q;var Oe=k(we*=ee);if(Oe>N){var Be=r(Qe-1,i(0,s((fe+p)/L)));fe=(fe+p*(Qe-1)/Qe-Be*L)*ct/d;var Ge=Pt.invert(fe,.25*(Oe-N)*d/G+Y);return Ge[0]-=p*(Qe-1)/Qe-Be*L,we<0&&(Ge[1]=-Ge[1]),Ge}return qt.invert(fe,we)},ae}function an(Qe,nt){return[Qe,1&nt?90-c:hn]}function En(Qe,nt){return[Qe,1&nt?-90+c:-hn]}function Fn(Qe){return[Qe[0]*(1-c),Qe[1]]}function Rn(){var Qe=4,nt=(0,T.U)(Vt),ct=nt(Qe),N=ct.stream;return ct.lobes=function(Y){return arguments.length?nt(Qe=+Y):Qe},ct.stream=function(Y){var G=ct.rotate(),L=N(Y),q=(ct.rotate([0,0]),N(Y));return ct.rotate(G),L.sphere=function(){var ee,ae;(0,yn.c)((ee=180/Qe,ae=[].concat((0,Mn.ik)(-180,180+ee/2,ee).map(an),(0,Mn.ik)(180,-180-ee/2,-ee).map(En)),{type:"Polygon",coordinates:[ee===180?ae.map(Fn):ae]}),q)},L},ct.scale(239.75)}function jn(Qe){var nt,ct=1+Qe,N=E(u(1/ct)),Y=2*O(p/(nt=p+4*N*ct)),G=.5*Y*(ct+O(Qe*(2+Qe))),L=Qe*Qe,q=ct*ct;function ee(ae,fe){var we,Oe,Be=1-u(fe);if(Be&&Be<2){var Ge,Ye=v-fe,rt=25;do{var pt=u(Ye),vt=b(Ye),St=N+_(pt,ct-vt),It=1+q-2*ct*vt;Ye-=Ge=(Ye-L*N-ct*pt+It*St-.5*Be*nt)/(2*ct*pt*St)}while(k(Ge)>x&&--rt>0);we=Y*O(It),Oe=ae*St/p}else we=Y*(Qe+Be),Oe=ae*N/p;return[we*u(Oe),G-we*b(Oe)]}return ee.invert=function(ae,fe){var we=ae*ae+(fe-=G)*fe,Oe=(1+q-we/(Y*Y))/(2*ct),Be=P(Oe),Ge=u(Be),Ye=N+_(Ge,ct-Oe);return[E(ae/O(we))*p/Ye,E(1-2*(Be-L*N-ct*Ge+(1+q-2*ct*Oe)*Ye)/nt)]},ee}function tr(){var Qe=1,nt=(0,T.U)(jn),ct=nt(Qe);return ct.ratio=function(N){return arguments.length?nt(Qe=+N):Qe},ct.scale(167.774).center([0,18.67])}var Zn=.7109889596207567,nr=.0528035274542;function Yn(Qe,nt){return nt>-Zn?((Qe=le(Qe,nt))[1]+=nr,Qe):ze(Qe,nt)}function Jn(){return(0,T.c)(Yn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function cr(Qe,nt){return k(nt)>Zn?((Qe=le(Qe,nt))[1]-=nt>0?nr:-nr,Qe):ze(Qe,nt)}function Tr(){return(0,T.c)(cr).scale(152.63)}function gr(Qe,nt,ct,N){var Y=O(4*p/(2*ct+(1+Qe-nt/2)*u(2*ct)+(Qe+nt)/2*u(4*ct)+nt/2*u(6*ct))),G=O(N*u(ct)*O((1+Qe*b(2*ct)+nt*b(4*ct))/(1+Qe+nt))),L=ct*ee(1);function q(we){return O(1+Qe*b(2*we)+nt*b(4*we))}function ee(we){var Oe=we*ct;return(2*Oe+(1+Qe-nt/2)*u(2*Oe)+(Qe+nt)/2*u(4*Oe)+nt/2*u(6*Oe))/ct}function ae(we){return q(we)*u(we)}var fe=function(we,Oe){var Be=ct*ye(ee,L*u(Oe)/ct,Oe/p);isNaN(Be)&&(Be=ct*l(Oe));var Ge=Y*q(Be);return[Ge*G*we/p*b(Be),Ge/G*u(Be)]};return fe.invert=function(we,Oe){var Be=ye(ae,Oe*G/Y);return[we*p/(b(Be)*Y*G*q(Be)),E(ct*ee(Be/ct)/L)]},ct===0&&(Y=O(N/p),(fe=function(we,Oe){return[we*Y,u(Oe)/Y]}).invert=function(we,Oe){return[we/Y,E(Oe*Y)]}),fe}function ar(){var Qe=1,nt=0,ct=45*A,N=2,Y=(0,T.U)(gr),G=Y(Qe,nt,ct,N);return G.a=function(L){return arguments.length?Y(Qe=+L,nt,ct,N):Qe},G.b=function(L){return arguments.length?Y(Qe,nt=+L,ct,N):nt},G.psiMax=function(L){return arguments.length?Y(Qe,nt,ct=+L*A,N):ct*S},G.ratio=function(L){return arguments.length?Y(Qe,nt,ct,N=+L):N},G.scale(180.739)}function xr(Qe,nt,ct,N,Y,G,L,q,ee,ae,fe){if(fe.nanEncountered)return NaN;var we,Oe,Be,Ge,Ye,rt,pt,vt,St,It;if(Oe=Qe(nt+.25*(we=ct-nt)),Be=Qe(ct-.25*we),isNaN(Oe))fe.nanEncountered=!0;else{if(!isNaN(Be))return It=((rt=(Ge=we*(N+4*Oe+Y)/12)+(Ye=we*(Y+4*Be+G)/12))-L)/15,ae>ee?(fe.maxDepthCount++,rt+It):Math.abs(It)<q?rt+It:(vt=xr(Qe,nt,pt=nt+.5*we,N,Oe,Y,Ge,.5*q,ee,ae+1,fe),isNaN(vt)?(fe.nanEncountered=!0,NaN):(St=xr(Qe,pt,ct,Y,Be,G,Ye,.5*q,ee,ae+1,fe),isNaN(St)?(fe.nanEncountered=!0,NaN):vt+St));fe.nanEncountered=!0}}function Cr(Qe,nt,ct,N,Y){Y===void 0&&(Y=20);var G=Qe(nt),L=Qe(.5*(nt+ct)),q=Qe(ct);return xr(Qe,nt,ct,G,L,q,(G+4*L+q)*(ct-nt)/6,N,Y,1,{maxDepthCount:0,nanEncountered:!1})}function Nr(Qe,nt,ct){function N(Be){return Qe+(1-Qe)*n(1-n(Be,nt),1/nt)}function Y(Be){return Cr(N,0,Be,1e-4)}for(var G=1/Y(1),L=1e3,q=1.00000001*G,ee=[],ae=0;ae<=L;ae++)ee.push(Y(ae/L)*q);function fe(Be){var Ge=0,Ye=L,rt=500;do ee[rt]>Be?Ye=rt:Ge=rt,rt=Ge+Ye>>1;while(rt>Ge);var pt=ee[rt+1]-ee[rt];return pt&&(pt=(Be-ee[rt+1])/pt),(rt+1+pt)/L}var we=2*fe(1)/p*G/ct,Oe=function(Be,Ge){var Ye=fe(k(u(Ge))),rt=N(Ye)*Be;return Ye/=we,[rt,Ge>=0?Ye:-Ye]};return Oe.invert=function(Be,Ge){var Ye;return k(Ge*=we)<1&&(Ye=l(Ge)*E(Y(k(Ge))*G)),[Be/N(k(Ge)),Ye]},Oe}function xi(){var Qe=0,nt=2.5,ct=1.183136,N=(0,T.U)(Nr),Y=N(Qe,nt,ct);return Y.alpha=function(G){return arguments.length?N(Qe=+G,nt,ct):Qe},Y.k=function(G){return arguments.length?N(Qe,nt=+G,ct):nt},Y.gamma=function(G){return arguments.length?N(Qe,nt,ct=+G):ct},Y.scale(152.63)}function Li(Qe,nt){return k(Qe[0]-nt[0])<c&&k(Qe[1]-nt[1])<c}function Ji(Qe,nt){for(var ct,N,Y,G=-1,L=Qe.length,q=Qe[0],ee=[];++G<L;){N=((ct=Qe[G])[0]-q[0])/nt,Y=(ct[1]-q[1])/nt;for(var ae=0;ae<nt;++ae)ee.push([q[0]+ae*N,q[1]+ae*Y]);q=ct}return ee.push(ct),ee}function gi(Qe,nt,ct){var N,Y;function G(ee,ae){for(var fe=ae<0?-1:1,we=nt[+(ae<0)],Oe=0,Be=we.length-1;Oe<Be&&ee>we[Oe][2][0];++Oe);var Ge=Qe(ee-we[Oe][1][0],ae);return Ge[0]+=Qe(we[Oe][1][0],fe*ae>fe*we[Oe][0][1]?we[Oe][0][1]:ae)[0],Ge}ct?G.invert=ct(G):Qe.invert&&(G.invert=function(ee,ae){for(var fe=Y[+(ae<0)],we=nt[+(ae<0)],Oe=0,Be=fe.length;Oe<Be;++Oe){var Ge=fe[Oe];if(Ge[0][0]<=ee&&ee<Ge[1][0]&&Ge[0][1]<=ae&&ae<Ge[1][1]){var Ye=Qe.invert(ee-Qe(we[Oe][1][0],0)[0],ae);return Ye[0]+=we[Oe][1][0],Li(G(Ye[0],Ye[1]),[ee,ae])?Ye:null}}});var L=(0,T.c)(G),q=L.stream;return L.stream=function(ee){var ae=L.rotate(),fe=q(ee),we=(L.rotate([0,0]),q(ee));return L.rotate(ae),fe.sphere=function(){(0,yn.c)(N,we)},fe},L.lobes=function(ee){return arguments.length?(N=function(ae){var fe,we,Oe,Be,Ge,Ye,rt,pt=[],vt=ae[0].length;for(rt=0;rt<vt;++rt)we=(fe=ae[0][rt])[0][0],Oe=fe[0][1],Be=fe[1][1],Ge=fe[2][0],Ye=fe[2][1],pt.push(Ji([[we+c,Oe+c],[we+c,Be-c],[Ge-c,Be-c],[Ge-c,Ye+c]],30));for(rt=ae[1].length-1;rt>=0;--rt)we=(fe=ae[1][rt])[0][0],Oe=fe[0][1],Be=fe[1][1],Ge=fe[2][0],Ye=fe[2][1],pt.push(Ji([[Ge-c,Ye-c],[Ge-c,Be+c],[we+c,Be+c],[we+c,Oe-c]],30));return{type:"Polygon",coordinates:[(0,Mn.Uf)(pt)]}}(ee),nt=ee.map(function(ae){return ae.map(function(fe){return[[fe[0][0]*A,fe[0][1]*A],[fe[1][0]*A,fe[1][1]*A],[fe[2][0]*A,fe[2][1]*A]]})}),Y=nt.map(function(ae){return ae.map(function(fe){var we,Oe=Qe(fe[0][0],fe[0][1])[0],Be=Qe(fe[2][0],fe[2][1])[0],Ge=Qe(fe[1][0],fe[0][1])[1],Ye=Qe(fe[1][0],fe[1][1])[1];return Ge>Ye&&(we=Ge,Ge=Ye,Ye=we),[[Oe,Ge],[Be,Ye]]})}),L):nt.map(function(ae){return ae.map(function(fe){return[[fe[0][0]*S,fe[0][1]*S],[fe[1][0]*S,fe[1][1]*S],[fe[2][0]*S,fe[2][1]*S]]})})},nt!=null&&L.lobes(nt),L}Yn.invert=function(Qe,nt){return nt>-Zn?le.invert(Qe,nt-nr):ze.invert(Qe,nt)},cr.invert=function(Qe,nt){return k(nt)>Zn?le.invert(Qe,nt+(nt>0?nr:-nr)):ze.invert(Qe,nt)};var Oi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Pa(){return gi(_e,Oi).scale(160.857)}var jr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function $i(){return gi(cr,jr).scale(152.63)}var to=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Xi(){return gi(le,to).scale(169.529)}var Ko=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ms(){return gi(le,Ko).scale(169.529).rotate([20,0])}var da=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Oo(){return gi(Yn,da,be).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Io=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function ys(){return gi(ze,Io).scale(152.63).rotate([-20,0])}function no(Qe,nt){return[3/d*Qe*O(p*p/3-nt*nt),nt]}function po(){return(0,T.c)(no).scale(158.837)}function go(Qe){function nt(ct,N){if(k(k(N)-v)<c)return[0,N<0?-2:2];var Y=u(N),G=n((1+Y)/(1-Y),Qe/2),L=.5*(G+1/G)+b(ct*=Qe);return[2*u(ct)/L,(G-1/G)/L]}return nt.invert=function(ct,N){var Y=k(N);if(k(Y-2)<c)return ct?null:[0,l(N)*v];if(Y>2)return null;var G=(ct/=2)*ct,L=(N/=2)*N,q=2*N/(1+G+L);return q=n((1+q)/(1-q),1/Qe),[_(2*ct,1-G-L)/Qe,E((q-1)/(q+1))]},nt}function hi(){var Qe=.5,nt=(0,T.U)(go),ct=nt(Qe);return ct.spacing=function(N){return arguments.length?nt(Qe=+N):Qe},ct.scale(124.75)}no.invert=function(Qe,nt){return[d/3*Qe/O(p*p/3-nt*nt),nt]};var Qi=p/m;function Jo(Qe,nt){return[Qe*(1+O(b(nt)))/2,nt/(b(nt/2)*b(Qe/6))]}function zo(){return(0,T.c)(Jo).scale(97.2672)}function vo(Qe,nt){var ct=Qe*Qe,N=nt*nt;return[Qe*(.975534+N*(-.0143059*ct-.119161+-.0547009*N)),nt*(1.00384+ct*(.0802894+-.02855*N+199025e-9*ct)+N*(.0998909+-.0491032*N))]}function xs(){return(0,T.c)(vo).scale(139.98)}function Do(Qe,nt){return[u(Qe)/b(nt),h(nt)*b(Qe)]}function bs(){return(0,T.c)(Do).scale(144.049).clipAngle(89.999)}function $o(Qe){var nt=b(Qe),ct=h(g+Qe/2);function N(Y,G){var L=G-Qe,q=k(L)<c?Y*nt:k(q=g+G/2)<c||k(k(q)-v)<c?0:Y*L/t(h(q)/ct);return[q,L]}return N.invert=function(Y,G){var L,q=G+Qe;return[k(G)<c?Y/nt:k(L=g+q/2)<c||k(k(L)-v)<c?0:Y*t(h(L)/ct)/G,q]},N}function _s(){return Le($o).parallel(40).scale(158.837)}function Ro(Qe,nt){return[Qe,1.25*t(h(g+.4*nt))]}function Eu(){return(0,T.c)(Ro).scale(108.318)}function su(Qe){var nt=Qe.length-1;function ct(N,Y){for(var G,L=b(Y),q=2/(1+L*b(N)),ee=q*L*u(N),ae=q*u(Y),fe=nt,we=Qe[fe],Oe=we[0],Be=we[1];--fe>=0;)Oe=(we=Qe[fe])[0]+ee*(G=Oe)-ae*Be,Be=we[1]+ee*Be+ae*G;return[Oe=ee*(G=Oe)-ae*Be,Be=ee*Be+ae*G]}return ct.invert=function(N,Y){var G=20,L=N,q=Y;do{for(var ee,ae=nt,fe=Qe[ae],we=fe[0],Oe=fe[1],Be=0,Ge=0;--ae>=0;)Be=we+L*(ee=Be)-q*Ge,Ge=Oe+L*Ge+q*ee,we=(fe=Qe[ae])[0]+L*(ee=we)-q*Oe,Oe=fe[1]+L*Oe+q*ee;var Ye,rt,pt=(Be=we+L*(ee=Be)-q*Ge)*Be+(Ge=Oe+L*Ge+q*ee)*Ge;L-=Ye=((we=L*(ee=we)-q*Oe-N)*Be+(Oe=L*Oe+q*ee-Y)*Ge)/pt,q-=rt=(Oe*Be-we*Ge)/pt}while(k(Ye)+k(rt)>c*c&&--G>0);if(G){var vt=O(L*L+q*q),St=2*o(.5*vt),It=u(St);return[_(L*It,vt*b(St)),vt?E(q*It/vt):0]}},ct}Jo.invert=function(Qe,nt){var ct=k(Qe),N=k(nt),Y=c,G=v;N<Qi?G*=N/Qi:Y+=6*P(Qi/N);for(var L=0;L<25;L++){var q=u(G),ee=O(b(G)),ae=u(G/2),fe=b(G/2),we=u(Y/6),Oe=b(Y/6),Be=.5*Y*(1+ee)-ct,Ge=G/(fe*Oe)-N,Ye=ee?-.25*Y*q/ee:0,rt=.5*(1+ee),pt=(1+.5*G*ae/fe)/(fe*Oe),vt=G/fe*(we/6)/(Oe*Oe),St=Ye*vt-pt*rt,It=(Be*vt-Ge*rt)/St,Ct=(Ge*Ye-Be*pt)/St;if(G-=It,Y-=Ct,k(It)<c&&k(Ct)<c)break}return[Qe<0?-Y:Y,nt<0?-G:G]},vo.invert=function(Qe,nt){var ct=l(Qe)*p,N=nt/2,Y=50;do{var G=ct*ct,L=N*N,q=ct*N,ee=ct*(.975534+L*(-.0143059*G-.119161+-.0547009*L))-Qe,ae=N*(1.00384+G*(.0802894+-.02855*L+199025e-9*G)+L*(.0998909+-.0491032*L))-nt,fe=.975534-L*(.119161+3*G*.0143059+.0547009*L),we=-q*(.238322+.2188036*L+.0286118*G),Oe=q*(.1605788+7961e-7*G+-.0571*L),Be=1.00384+G*(.0802894+199025e-9*G)+L*(3*(.0998909-.02855*G)-.245516*L),Ge=we*Oe-Be*fe,Ye=(ae*we-ee*Be)/Ge,rt=(ee*Oe-ae*fe)/Ge;ct-=Ye,N-=rt}while((k(Ye)>c||k(rt)>c)&&--Y>0);return Y&&[ct,N]},Do.invert=function(Qe,nt){var ct=Qe*Qe,N=nt*nt+1,Y=ct+N,G=Qe?y*O((Y-O(Y*Y-4*ct))/ct):1/O(N);return[E(Qe*G),l(nt)*P(G)]},Ro.invert=function(Qe,nt){return[Qe,2.5*o(f(.8*nt))-.625*p]};var Hs=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Zu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ku=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],qs=[[.9245,0],[0,0],[.01943,0]],Ju=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Dc(){return Ws(Hs,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Rc(){return Ws(Zu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Gs(){return Ws(Ku,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Fo(){return Ws(qs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function cl(){return Ws(Ju,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ws(Qe,nt){var ct=(0,T.c)(su(Qe)).rotate(nt).clipAngle(90),N=(0,$e.c)(nt),Y=ct.center;return delete ct.rotate,ct.center=function(G){return arguments.length?Y(N(G)):N.invert(Y())},ct}var Dl=O(6),Ys=O(7);function mo(Qe,nt){var ct=E(7*u(nt)/(3*Dl));return[Dl*Qe*(2*b(2*ct/3)-1)/Ys,9*u(ct/3)/Ys]}function Lu(){return(0,T.c)(mo).scale(164.859)}function ws(Qe,nt){for(var ct,N=(1+y)*u(nt),Y=nt,G=0;G<25&&(Y-=ct=(u(Y/2)+u(Y)-N)/(.5*b(Y/2)+b(Y)),!(k(ct)<c));G++);return[Qe*(1+2*b(Y)/b(Y/2))/(3*m),2*O(3)*u(Y/2)/O(2+m)]}function Qo(){return(0,T.c)(ws).scale(188.209)}function es(Qe,nt){for(var ct,N=O(6/(4+p)),Y=(1+p/4)*u(nt),G=nt/2,L=0;L<25&&(G-=ct=(G/2+u(G)-Y)/(.5+b(G)),!(k(ct)<c));L++);return[N*(.5+b(G))*Qe/1.5,N*G]}function Ts(){return(0,T.c)(es).scale(166.518)}mo.invert=function(Qe,nt){var ct=3*E(nt*Ys/9);return[Qe*Ys/(Dl*(2*b(2*ct/3)-1)),E(3*u(ct)*Dl/7)]},ws.invert=function(Qe,nt){var ct=nt*O(2+m)/(2*O(3)),N=2*E(ct);return[3*m*Qe/(1+2*b(N)/b(N/2)),E((ct+u(N))/(1+y))]},es.invert=function(Qe,nt){var ct=O(6/(4+p)),N=nt/ct;return k(k(N)-v)<c&&(N=N<0?-v:v),[1.5*Qe/(ct*(.5+b(N))),E((N/2+u(N))/(1+p/4))]};var Kr=e(47984);function fl(Qe,nt){var ct=nt*nt,N=ct*ct,Y=ct*N;return[Qe*(.84719-.13063*ct+Y*Y*(.05494*ct-.04515-.02326*N+.00331*Y)),nt*(1.01183+N*N*(.01926*ct-.02625-.00396*N))]}function Fc(){return(0,T.c)(fl).scale(175.295)}function lu(Qe,nt){return[Qe*(1+b(nt))/2,2*(nt-h(nt/2))]}function hl(){return(0,T.c)(lu).scale(152.63)}fl.invert=function(Qe,nt){var ct,N,Y,G,L=nt,q=25;do L-=ct=(L*(1.01183+(Y=(N=L*L)*N)*Y*(.01926*N-.02625-.00396*Y))-nt)/(1.01183+Y*Y*(.21186*N-.23625+-.05148*Y));while(k(ct)>x&&--q>0);return[Qe/(.84719-.13063*(N=L*L)+(G=N*(Y=N*N))*G*(.05494*N-.04515-.02326*Y+.00331*G)),L]},lu.invert=function(Qe,nt){for(var ct=nt/2,N=0,Y=1/0;N<10&&k(Y)>c;++N){var G=b(nt/2);nt-=Y=(nt-h(nt/2)-ct)/(1-.5/(G*G))}return[2*Qe/(1+b(nt)),nt]};var $u=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Bc(){return gi(he(1/0),$u).rotate([20,0]).scale(152.63)}function uu(Qe,nt){var ct=u(nt),N=b(nt),Y=l(Qe);if(Qe===0||k(nt)===v)return[0,nt];if(nt===0)return[Qe,0];if(k(Qe)===v)return[Qe*N,v*ct];var G=p/(2*Qe)-2*Qe/p,L=2*nt/p,q=(1-L*L)/(ct-L),ee=G*G,ae=q*q,fe=1+ee/ae,we=1+ae/ee,Oe=(G*ct/q-G/2)/fe,Be=(ae*ct/ee+q/2)/we,Ge=Be*Be-(ae*ct*ct/ee+q*ct-1)/we;return[v*(Oe+O(Oe*Oe+N*N/fe)*Y),v*(Be+O(Ge<0?0:Ge)*l(-nt*G)*Y)]}function Nc(){return(0,T.c)(uu).scale(127.267)}uu.invert=function(Qe,nt){var ct=(Qe/=v)*Qe,N=ct+(nt/=v)*nt,Y=p*p;return[Qe?(N-1+O((1-N)*(1-N)+4*ct))/(2*Qe)*v:0,ye(function(G){return N*(p*u(G)-2*G)*p+4*G*G*(nt-u(G))+2*p*G-Y*nt},0)]};var ks=1.0148,Xs=.23185,ts=-.14499,yo=.02406,pl=ks,Qu=5*Xs,Rl=7*ts,cu=9*yo,Ya=1.790857183;function fu(Qe,nt){var ct=nt*nt;return[Qe,nt*(ks+ct*ct*(Xs+ct*(ts+yo*ct)))]}function ec(){return(0,T.c)(fu).scale(139.319)}function dl(Qe,nt){if(k(nt)<c)return[Qe,0];var ct=h(nt),N=Qe*u(nt);return[u(N)/ct,nt+(1-b(N))/ct]}function Zs(){return(0,T.c)(dl).scale(103.74)}fu.invert=function(Qe,nt){nt>Ya?nt=Ya:nt<-1.790857183&&(nt=-1.790857183);var ct,N=nt;do{var Y=N*N;N-=ct=(N*(ks+Y*Y*(Xs+Y*(ts+yo*Y)))-nt)/(pl+Y*Y*(Qu+Y*(Rl+cu*Y)))}while(k(ct)>c);return[Qe,N]},dl.invert=function(Qe,nt){if(k(nt)<c)return[Qe,0];var ct,N=Qe*Qe+nt*nt,Y=.5*nt,G=10;do{var L=h(Y),q=1/b(Y),ee=N-2*nt*Y+Y*Y;Y-=ct=(L*ee+2*(Y-nt))/(2+ee*q*q+2*(Y-nt)*L)}while(k(ct)>c&&--G>0);return L=h(Y),[(k(nt)<k(Y+1/L)?E(Qe*L):l(nt)*l(Qe)*(P(k(Qe*L))+v))/u(Y),Y]};var vl=e(13696),Ks=e(27284);function Js(Qe,nt){return[Qe[0]*nt[0]+Qe[1]*nt[3],Qe[0]*nt[1]+Qe[1]*nt[4],Qe[0]*nt[2]+Qe[1]*nt[5]+Qe[2],Qe[3]*nt[0]+Qe[4]*nt[3],Qe[3]*nt[1]+Qe[4]*nt[4],Qe[3]*nt[2]+Qe[4]*nt[5]+Qe[5]]}function Fl(Qe,nt){return[Qe[0]-nt[0],Qe[1]-nt[1]]}function hu(Qe){return O(Qe[0]*Qe[0]+Qe[1]*Qe[1])}function li(Qe,nt,ct){function N(q,ee){var ae,fe=nt(q,ee),we=fe.project([q*S,ee*S]);return(ae=fe.transform)?[ae[0]*we[0]+ae[1]*we[1]+ae[2],-(ae[3]*we[0]+ae[4]*we[1]+ae[5])]:(we[1]=-we[1],we)}function Y(q,ee){var ae=q.project.invert,fe=q.transform,we=ee;if(fe&&(fe=function(rt){var pt=1/(rt[0]*rt[4]-rt[1]*rt[3]);return[pt*rt[4],-pt*rt[1],pt*(rt[1]*rt[5]-rt[2]*rt[4]),-pt*rt[3],pt*rt[0],pt*(rt[2]*rt[3]-rt[0]*rt[5])]}(fe),we=[fe[0]*we[0]+fe[1]*we[1]+fe[2],fe[3]*we[0]+fe[4]*we[1]+fe[5]]),ae&&q===function(rt){return nt(rt[0]*A,rt[1]*A)}(Oe=ae(we)))return Oe;for(var Oe,Be=q.children,Ge=0,Ye=Be&&Be.length;Ge<Ye;++Ge)if(Oe=Y(Be[Ge],ee))return Oe}(function q(ee,ae){if(ee.edges=function(Ct){for(var jt=Ct.length,zt=[],Jt=Ct[jt-1],Zt=0;Zt<jt;++Zt)zt.push([Jt,Jt=Ct[Zt]]);return zt}(ee.face),ae.face){var fe=ee.shared=function(Ct,jt){for(var zt,Jt,Zt=Ct.length,Gt=null,mn=0;mn<Zt;++mn){zt=Ct[mn];for(var _n=jt.length;--_n>=0;)if(Jt=jt[_n],zt[0]===Jt[0]&&zt[1]===Jt[1]){if(Gt)return[Gt,zt];Gt=zt}}}(ee.face,ae.face),we=(Ye=fe.map(ae.project),rt=fe.map(ee.project),pt=Fl(Ye[1],Ye[0]),vt=Fl(rt[1],rt[0]),St=function(Ct,jt){return _(Ct[0]*jt[1]-Ct[1]*jt[0],Ct[0]*jt[0]+Ct[1]*jt[1])}(pt,vt),It=hu(pt)/hu(vt),Js([1,0,Ye[0][0],0,1,Ye[0][1]],Js([It,0,0,0,It,0],Js([b(St),u(St),0,-u(St),b(St),0],[1,0,-rt[0][0],0,1,-rt[0][1]]))));ee.transform=ae.transform?Js(ae.transform,we):we;for(var Oe=ae.edges,Be=0,Ge=Oe.length;Be<Ge;++Be)ga(fe[0],Oe[Be][1])&&ga(fe[1],Oe[Be][0])&&(Oe[Be]=ee),ga(fe[0],Oe[Be][0])&&ga(fe[1],Oe[Be][1])&&(Oe[Be]=ee);for(Be=0,Ge=(Oe=ee.edges).length;Be<Ge;++Be)ga(fe[0],Oe[Be][0])&&ga(fe[1],Oe[Be][1])&&(Oe[Be]=ae),ga(fe[0],Oe[Be][1])&&ga(fe[1],Oe[Be][0])&&(Oe[Be]=ae)}else ee.transform=ae.transform;var Ye,rt,pt,vt,St,It;return ee.children&&ee.children.forEach(function(Ct){q(Ct,ee)}),ee})(Qe,{transform:null}),xo(Qe)&&(N.invert=function(q,ee){var ae=Y(Qe,[q,-ee]);return ae&&(ae[0]*=A,ae[1]*=A,ae)});var G=(0,T.c)(N),L=G.stream;return G.stream=function(q){var ee=G.rotate(),ae=L(q),fe=(G.rotate([0,0]),L(q));return G.rotate(ee),ae.sphere=function(){fe.polygonStart(),fe.lineStart(),As(fe,Qe),fe.lineEnd(),fe.polygonEnd()},ae},G.angle(ct==null?-30:ct*S)}function As(Qe,nt,ct){var N,Y,G=nt.edges,L=G.length,q={type:"MultiPoint",coordinates:nt.face},ee=nt.face.filter(function(Ye){return k(Ye[1])!==90}),ae=(0,vl.c)({type:"MultiPoint",coordinates:ee}),fe=!1,we=-1,Oe=ae[1][0]-ae[0][0],Be=Oe===180||Oe===360?[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2]:(0,We.c)(q);if(ct)for(;++we<L&&G[we]!==ct;);++we;for(var Ge=0;Ge<L;++Ge)Y=G[(Ge+we)%L],Array.isArray(Y)?(fe||(Qe.point((N=(0,Ks.c)(Y[0],Be)(c))[0],N[1]),fe=!0),Qe.point((N=(0,Ks.c)(Y[1],Be)(c))[0],N[1])):(fe=!1,Y!==ct&&As(Qe,Y,nt))}function ga(Qe,nt){return Qe&&nt&&Qe[0]===nt[0]&&Qe[1]===nt[1]}function xo(Qe){return Qe.project.invert||Qe.children&&Qe.children.some(xo)}var ni=e(53285),si=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Xa=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Qe){return Qe.map(function(nt){return si[nt]})});function ml(Qe){Qe=Qe||function(ct){var N=(0,We.c)({type:"MultiPoint",coordinates:ct});return(0,ni.c)().scale(1).translate([0,0]).rotate([-N[0],-N[1]])};var nt=Xa.map(function(ct){return{face:ct,project:Qe(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,N){var Y=nt[ct];Y&&(Y.children||(Y.children=[])).push(nt[N])}),li(nt[0],function(ct,N){return nt[ct<-p/2?N<0?6:4:ct<0?N<0?2:0:ct<p/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Bl=2/O(3);function pu(Qe,nt){var ct=Pt(Qe,nt);return[ct[0]*Bl,ct[1]]}function Nl(Qe){Qe=Qe||function(ct){var N=(0,We.c)({type:"MultiPoint",coordinates:ct});return(0,T.c)(pu).translate([0,0]).scale(1).rotate(N[1]>0?[-N[0],0]:[180-N[0],180])};var nt=Xa.map(function(ct){return{face:ct,project:Qe(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,N){var Y=nt[ct];Y&&(Y.children||(Y.children=[])).push(nt[N])}),li(nt[0],function(ct,N){return nt[ct<-p/2?N<0?6:4:ct<0?N<0?2:0:ct<p/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function jl(Qe){Qe=Qe||function(G){var L=G.length===6?(0,We.c)({type:"MultiPoint",coordinates:G}):G[0];return(0,ni.c)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var nt=Xa.map(function(G){for(var L,q=G.map(Ss),ee=q.length,ae=q[ee-1],fe=[],we=0;we<ee;++we)L=q[we],fe.push(Ms([.9486832980505138*ae[0]+.31622776601683794*L[0],.9486832980505138*ae[1]+.31622776601683794*L[1],.9486832980505138*ae[2]+.31622776601683794*L[2]]),Ms([.9486832980505138*L[0]+.31622776601683794*ae[0],.9486832980505138*L[1]+.31622776601683794*ae[1],.9486832980505138*L[2]+.31622776601683794*ae[2]])),ae=L;return fe}),ct=[],N=[-1,0,0,1,0,1,4,5];nt.forEach(function(G,L){for(var q,ee,ae=Xa[L],fe=ae.length,we=ct[L]=[],Oe=0;Oe<fe;++Oe)nt.push([ae[Oe],G[(2*Oe+2)%(2*fe)],G[(2*Oe+1)%(2*fe)]]),N.push(L),we.push((q=Ss(G[(2*Oe+2)%(2*fe)]),ee=Ss(G[(2*Oe+1)%(2*fe)]),[q[1]*ee[2]-q[2]*ee[1],q[2]*ee[0]-q[0]*ee[2],q[0]*ee[1]-q[1]*ee[0]]))});var Y=nt.map(function(G){return{project:Qe(G),face:G}});return N.forEach(function(G,L){var q=Y[G];q&&(q.children||(q.children=[])).push(Y[L])}),li(Y[0],function(G,L){var q=b(L),ee=[q*b(G),q*u(G),u(L)],ae=G<-p/2?L<0?6:4:G<0?L<0?2:0:G<p/2?L<0?3:1:L<0?7:5,fe=ct[ae];return Y[ro(fe[0],ee)<0?8+3*ae:ro(fe[1],ee)<0?8+3*ae+1:ro(fe[2],ee)<0?8+3*ae+2:ae]}).angle(-30).scale(110.625).center([0,45])}function ro(Qe,nt){for(var ct=0,N=Qe.length,Y=0;ct<N;++ct)Y+=Qe[ct]*nt[ct];return Y}function Ms(Qe){return[_(Qe[1],Qe[0])*S,E(i(-1,r(1,Qe[2])))*S]}function Ss(Qe){var nt=Qe[0]*A,ct=Qe[1]*A,N=b(ct);return[N*b(nt),N*u(nt),u(ct)]}function ka(){}function Ul(Qe,nt){var ct,N=nt.stream;if(!N)throw new Error("invalid projection");switch(Qe&&Qe.type){case"Feature":ct=ea;break;case"FeatureCollection":ct=io;break;default:ct=oa}return ct(Qe,N)}function io(Qe,nt){return{type:"FeatureCollection",features:Qe.features.map(function(ct){return ea(ct,nt)})}}function ea(Qe,nt){return{type:"Feature",id:Qe.id,properties:Qe.properties,geometry:oa(Qe.geometry,nt)}}function oa(Qe,nt){if(!Qe)return null;if(Qe.type==="GeometryCollection")return function(N,Y){return{type:"GeometryCollection",geometries:N.geometries.map(function(G){return oa(G,Y)})}}(Qe,nt);var ct;switch(Qe.type){case"Point":case"MultiPoint":ct=Bo;break;case"LineString":case"MultiLineString":ct=$s;break;case"Polygon":case"MultiPolygon":case"Sphere":ct=bo;break;default:return null}return(0,yn.c)(Qe,nt(ct)),ct.result()}pu.invert=function(Qe,nt){return Pt.invert(Qe/Bl,nt)};var vi=[],sa=[],Bo={point:function(Qe,nt){vi.push([Qe,nt])},result:function(){var Qe=vi.length?vi.length<2?{type:"Point",coordinates:vi[0]}:{type:"MultiPoint",coordinates:vi}:null;return vi=[],Qe}},$s={lineStart:ka,point:function(Qe,nt){vi.push([Qe,nt])},lineEnd:function(){vi.length&&(sa.push(vi),vi=[])},result:function(){var Qe=sa.length?sa.length<2?{type:"LineString",coordinates:sa[0]}:{type:"MultiLineString",coordinates:sa}:null;return sa=[],Qe}},bo={polygonStart:ka,lineStart:ka,point:function(Qe,nt){vi.push([Qe,nt])},lineEnd:function(){var Qe=vi.length;if(Qe){do vi.push(vi[0].slice());while(++Qe<4);sa.push(vi),vi=[]}},polygonEnd:ka,result:function(){if(!sa.length)return null;var Qe=[],nt=[];return sa.forEach(function(ct){(function(N){if((Y=N.length)<4)return!1;for(var Y,G=0,L=N[Y-1][1]*N[0][0]-N[Y-1][0]*N[0][1];++G<Y;)L+=N[G-1][1]*N[G][0]-N[G-1][0]*N[G][1];return L<=0})(ct)?Qe.push([ct]):nt.push(ct)}),nt.forEach(function(ct){var N=ct[0];Qe.some(function(Y){if(function(G,L){for(var q=L[0],ee=L[1],ae=!1,fe=0,we=G.length,Oe=we-1;fe<we;Oe=fe++){var Be=G[fe],Ge=Be[0],Ye=Be[1],rt=G[Oe],pt=rt[0],vt=rt[1];Ye>ee^vt>ee&&q<(pt-Ge)*(ee-Ye)/(vt-Ye)+Ge&&(ae=!ae)}return ae}(Y[0],N))return Y.push(ct),!0})||Qe.push([ct])}),sa=[],Qe.length?Qe.length>1?{type:"MultiPolygon",coordinates:Qe}:{type:"Polygon",coordinates:Qe[0]}:null}};function Es(Qe){var nt=Qe(v,0)[0]-Qe(-v,0)[0];function ct(N,Y){var G=k(N)<v,L=Qe(G?N:N>0?N-p:N+p,Y),q=(L[0]-L[1])*y,ee=(L[0]+L[1])*y;if(G)return[q,ee];var ae=nt*y,fe=q>0^ee>0?-1:1;return[fe*q-l(ee)*ae,fe*ee-l(q)*ae]}return Qe.invert&&(ct.invert=function(N,Y){var G=(N+Y)*y,L=(Y-N)*y,q=k(G)<.5*nt&&k(L)<.5*nt;if(!q){var ee=nt*y,ae=G>0^L>0?-1:1,fe=-ae*N+(L>0?1:-1)*ee,we=-ae*Y+(G>0?1:-1)*ee;G=(-fe-we)*y,L=(fe-we)*y}var Oe=Qe.invert(G,L);return q||(Oe[0]+=G>0?p:-p),Oe}),(0,T.c)(ct).rotate([-90,-90,45]).clipAngle(179.999)}function Oa(){return Es(qn).scale(176.423)}function Qs(){return Es(bn).scale(111.48)}function ns(Qe,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ct(ae){var fe=ae.length,we=2,Oe=new Array(fe);for(Oe[0]=+ae[0].toFixed(nt),Oe[1]=+ae[1].toFixed(nt);we<fe;)Oe[we]=ae[we],++we;return Oe}function N(ae){return ae.map(ct)}function Y(ae){for(var fe=ct(ae[0]),we=[fe],Oe=1;Oe<ae.length;Oe++){var Be=ct(ae[Oe]);(Be.length>2||Be[0]!=fe[0]||Be[1]!=fe[1])&&(we.push(Be),fe=Be)}return we.length===1&&ae.length>1&&we.push(ct(ae[ae.length-1])),we}function G(ae){return ae.map(Y)}function L(ae){if(ae==null)return ae;var fe;switch(ae.type){case"GeometryCollection":fe={type:"GeometryCollection",geometries:ae.geometries.map(L)};break;case"Point":fe={type:"Point",coordinates:ct(ae.coordinates)};break;case"MultiPoint":fe={type:ae.type,coordinates:N(ae.coordinates)};break;case"LineString":fe={type:ae.type,coordinates:Y(ae.coordinates)};break;case"MultiLineString":case"Polygon":fe={type:ae.type,coordinates:G(ae.coordinates)};break;case"MultiPolygon":fe={type:"MultiPolygon",coordinates:ae.coordinates.map(G)};break;default:return ae}return ae.bbox!=null&&(fe.bbox=ae.bbox),fe}function q(ae){var fe={type:"Feature",properties:ae.properties,geometry:L(ae.geometry)};return ae.id!=null&&(fe.id=ae.id),ae.bbox!=null&&(fe.bbox=ae.bbox),fe}if(Qe!=null)switch(Qe.type){case"Feature":return q(Qe);case"FeatureCollection":var ee={type:"FeatureCollection",features:Qe.features.map(q)};return Qe.bbox!=null&&(ee.bbox=Qe.bbox),ee;default:return L(Qe)}return Qe}function ao(Qe){var nt=u(Qe);function ct(N,Y){var G=nt?h(N*nt/2)/nt:N/2;if(!Y)return[2*G,-Qe];var L=2*o(G*u(Y)),q=1/h(Y);return[u(L)*q,Y+(1-b(L))*q-Qe]}return ct.invert=function(N,Y){if(k(Y+=Qe)<c)return[nt?2*o(nt*N/2)/nt:N,0];var G,L=N*N+Y*Y,q=0,ee=10;do{var ae=h(q),fe=1/b(q),we=L-2*Y*q+q*q;q-=G=(ae*we+2*(q-Y))/(2+we*fe*fe+2*(q-Y)*ae)}while(k(G)>c&&--ee>0);var Oe=N*(ae=h(q)),Be=h(k(Y)<k(q+1/ae)?.5*E(Oe):.5*P(Oe)+p/4)/u(q);return[nt?2*o(nt*Be)/nt:2*Be,q]},ct}function oo(){return Le(ao).scale(131.215)}var bi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function _o(Qe,nt){var ct,N=r(18,36*k(nt)/p),Y=s(N),G=N-Y,L=(ct=bi[Y])[0],q=ct[1],ee=(ct=bi[++Y])[0],ae=ct[1],fe=(ct=bi[r(19,++Y)])[0],we=ct[1];return[Qe*(ee+G*(fe-L)/2+G*G*(fe-2*ee+L)/2),(nt>0?v:-v)*(ae+G*(we-q)/2+G*G*(we-2*ae+q)/2)]}function Er(){return(0,T.c)(_o).scale(152.63)}function Vl(Qe,nt){var ct=function(L){function q(ee,ae){var fe=b(ae),we=(L-1)/(L-fe*b(ee));return[we*fe*u(ee),we*u(ae)]}return q.invert=function(ee,ae){var fe=ee*ee+ae*ae,we=O(fe),Oe=(L-O(1-fe*(L+1)/(L-1)))/((L-1)/we+we/(L-1));return[_(ee*Oe,we*O(1-Oe*Oe)),we?E(ae*Oe/we):0]},q}(Qe);if(!nt)return ct;var N=b(nt),Y=u(nt);function G(L,q){var ee=ct(L,q),ae=ee[1],fe=ae*Y/(Qe-1)+N;return[ee[0]*N/fe,ae/fe]}return G.invert=function(L,q){var ee=(Qe-1)/(Qe-1-q*Y);return ct.invert(ee*L,ee*q*N)},G}function Cu(){var Qe=2,nt=0,ct=(0,T.U)(Vl),N=ct(Qe,nt);return N.distance=function(Y){return arguments.length?ct(Qe=+Y,nt):Qe},N.tilt=function(Y){return arguments.length?ct(Qe,nt=Y*A):nt*S},N.scale(432.147).clipAngle(P(1/Qe)*S-1e-6)}bi.forEach(function(Qe){Qe[1]*=1.0144}),_o.invert=function(Qe,nt){var ct=nt/v,N=90*ct,Y=r(18,k(N/5)),G=i(0,s(Y));do{var L=bi[G][1],q=bi[G+1][1],ee=bi[r(19,G+2)][1],ae=ee-L,fe=ee-2*q+L,we=2*(k(ct)-q)/ae,Oe=fe/ae,Be=we*(1-Oe*we*(1-2*Oe*we));if(Be>=0||G===1){N=(nt>=0?5:-5)*(Be+Y);var Ge,Ye=50;do Be=(Y=r(18,k(N)/5))-(G=s(Y)),L=bi[G][1],q=bi[G+1][1],ee=bi[r(19,G+2)][1],N-=(Ge=(nt>=0?v:-v)*(q+Be*(ee-L)/2+Be*Be*(ee-2*q+L)/2)-nt)*S;while(k(Ge)>x&&--Ye>0);break}}while(--G>=0);var rt=bi[G][0],pt=bi[G+1][0],vt=bi[r(19,G+2)][0];return[Qe/(pt+Be*(vt-rt)/2+Be*Be*(vt-2*pt+rt)/2),N*A]};var Ls=1e-4,Cs=1e4,el=-180,yl=el+Ls,_r=180,Hl=_r-Ls,rs=-90,ta=rs+Ls,Ps=90,wo=Ps-Ls;function so(Qe){return Qe.length>0}function Aa(Qe){return Qe===rs||Qe===Ps?[0,Qe]:[el,(nt=Qe,Math.floor(nt*Cs)/Cs)];var nt}function No(Qe){var nt=Qe[0],ct=Qe[1],N=!1;return nt<=yl?(nt=el,N=!0):nt>=Hl&&(nt=_r,N=!0),ct<=ta?(ct=rs,N=!0):ct>=wo&&(ct=Ps,N=!0),N?[nt,ct]:Qe}function lo(Qe){return Qe.map(No)}function is(Qe,nt,ct){for(var N=0,Y=Qe.length;N<Y;++N){var G=Qe[N].slice();ct.push({index:-1,polygon:nt,ring:G});for(var L=0,q=G.length;L<q;++L){var ee=G[L],ae=ee[0],fe=ee[1];if(ae<=yl||ae>=Hl||fe<=ta||fe>=wo){G[L]=No(ee);for(var we=L+1;we<q;++we){var Oe=G[we],Be=Oe[0],Ge=Oe[1];if(Be>yl&&Be<Hl&&Ge>ta&&Ge<wo)break}if(we===L+1)continue;if(L){var Ye={index:-1,polygon:nt,ring:G.slice(0,L+1)};Ye.ring[Ye.ring.length-1]=Aa(fe),ct[ct.length-1]=Ye}else ct.pop();if(we>=q)break;ct.push({index:-1,polygon:nt,ring:G=G.slice(we-1)}),G[0]=Aa(G[0][1]),L=-1,q=G.length}}}}function ql(Qe){var nt,ct,N,Y,G,L,q=Qe.length,ee={},ae={};for(nt=0;nt<q;++nt)N=(ct=Qe[nt]).ring[0],G=ct.ring[ct.ring.length-1],N[0]!==G[0]||N[1]!==G[1]?(ct.index=nt,ee[N]=ae[G]=ct):(ct.polygon.push(ct.ring),Qe[nt]=null);for(nt=0;nt<q;++nt)if(ct=Qe[nt]){if(N=ct.ring[0],G=ct.ring[ct.ring.length-1],Y=ae[N],L=ee[G],delete ee[N],delete ae[G],N[0]===G[0]&&N[1]===G[1]){ct.polygon.push(ct.ring);continue}Y?(delete ae[N],delete ee[Y.ring[0]],Y.ring.pop(),Qe[Y.index]=null,ct={index:-1,polygon:Y.polygon,ring:Y.ring.concat(ct.ring)},Y===L?ct.polygon.push(ct.ring):(ct.index=q++,Qe.push(ee[ct.ring[0]]=ae[ct.ring[ct.ring.length-1]]=ct))):L?(delete ee[G],delete ae[L.ring[L.ring.length-1]],ct.ring.pop(),ct={index:q++,polygon:L.polygon,ring:ct.ring.concat(L.ring)},Qe[L.index]=null,Qe.push(ee[ct.ring[0]]=ae[ct.ring[ct.ring.length-1]]=ct)):(ct.ring.push(ct.ring[0]),ct.polygon.push(ct.ring))}}function Os(Qe){var nt={type:"Feature",geometry:ei(Qe.geometry)};return Qe.id!=null&&(nt.id=Qe.id),Qe.bbox!=null&&(nt.bbox=Qe.bbox),Qe.properties!=null&&(nt.properties=Qe.properties),nt}function ei(Qe){if(Qe==null)return Qe;var nt,ct,N,Y;switch(Qe.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Qe.geometries.map(ei)};break;case"Point":nt={type:"Point",coordinates:No(Qe.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Qe.type,coordinates:lo(Qe.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Qe.coordinates.map(lo)};break;case"Polygon":var G=[];is(Qe.coordinates,G,ct=[]),ql(ct),nt={type:"Polygon",coordinates:G};break;case"MultiPolygon":ct=[],N=-1,Y=Qe.coordinates.length;for(var L=new Array(Y);++N<Y;)is(Qe.coordinates[N],L[N]=[],ct);ql(ct),nt={type:"MultiPolygon",coordinates:L.filter(so)};break;default:return Qe}return Qe.bbox!=null&&(nt.bbox=Qe.bbox),nt}function la(Qe){if(Qe==null)return Qe;switch(Qe.type){case"Feature":return Os(Qe);case"FeatureCollection":var nt={type:"FeatureCollection",features:Qe.features.map(Os)};return Qe.bbox!=null&&(nt.bbox=Qe.bbox),nt;default:return ei(Qe)}}function Ia(Qe,nt){var ct=h(nt/2),N=u(g*ct);return[Qe*(.74482-.34588*N*N),1.70711*ct]}function jo(){return(0,T.c)(Ia).scale(146.153)}function za(Qe,nt,ct){var N=(0,Ks.c)(nt,ct),Y=N(.5),G=(0,$e.c)([-Y[0],-Y[1]])(nt),L=N.distance/2,q=-E(u(G[1]*A)/u(L)),ee=[-Y[0],-Y[1],-(G[0]>0?p-q:q)*S],ae=(0,T.c)(Qe(L)).rotate(ee),fe=(0,$e.c)(ee),we=ae.center;return delete ae.rotate,ae.center=function(Oe){return arguments.length?we(fe(Oe)):fe.invert(we())},ae.clipAngle(90)}function xl(Qe){var nt=b(Qe);function ct(N,Y){var G=(0,ni.Y)(N,Y);return G[0]*=nt,G}return ct.invert=function(N,Y){return ni.Y.invert(N/nt,Y)},ct}function bl(){return Da([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Da(Qe,nt){return za(xl,Qe,nt)}function $r(Qe){if(!(Qe*=2))return J.O;var nt=-Qe/2,ct=-nt,N=Qe*Qe,Y=h(ct),G=.5/u(ct);function L(q,ee){var ae=P(b(ee)*b(q-nt)),fe=P(b(ee)*b(q-ct));return[((ae*=ae)-(fe*=fe))/(2*Qe),(ee<0?-1:1)*O(4*N*fe-(N-ae+fe)*(N-ae+fe))/(2*Qe)]}return L.invert=function(q,ee){var ae,fe,we=ee*ee,Oe=b(O(we+(ae=q+nt)*ae)),Be=b(O(we+(ae=q+ct)*ae));return[_(fe=Oe-Be,ae=(Oe+Be)*Y),(ee<0?-1:1)*P(O(ae*ae+fe*fe)*G)]},L}function Uo(){return tl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function tl(Qe,nt){return za($r,Qe,nt)}function To(Qe,nt){if(k(nt)<c)return[Qe,0];var ct=k(nt/v),N=E(ct);if(k(Qe)<c||k(k(nt)-v)<c)return[0,l(nt)*p*h(N/2)];var Y=b(N),G=k(p/Qe-Qe/p)/2,L=G*G,q=Y/(ct+Y-1),ee=q*(2/ct-1),ae=ee*ee,fe=ae+L,we=q-ae,Oe=L+q;return[l(Qe)*p*(G*we+O(L*we*we-fe*(q*q-ae)))/fe,l(nt)*p*(ee*Oe-G*O((L+1)*fe-Oe*Oe))/fe]}function _l(){return(0,T.c)(To).scale(79.4183)}function wl(Qe,nt){if(k(nt)<c)return[Qe,0];var ct=k(nt/v),N=E(ct);if(k(Qe)<c||k(k(nt)-v)<c)return[0,l(nt)*p*h(N/2)];var Y=b(N),G=k(p/Qe-Qe/p)/2,L=G*G,q=Y*(O(1+L)-G*Y)/(1+L*ct*ct);return[l(Qe)*p*q,l(nt)*p*O(1-q*(2*G+q))]}function ko(){return(0,T.c)(wl).scale(79.4183)}function _i(Qe,nt){if(k(nt)<c)return[Qe,0];var ct=nt/v,N=E(ct);if(k(Qe)<c||k(k(nt)-v)<c)return[0,p*h(N/2)];var Y=(p/Qe-Qe/p)/2,G=ct/(1+b(N));return[p*(l(Qe)*O(Y*Y+1-G*G)-Y),p*G]}function nl(){return(0,T.c)(_i).scale(79.4183)}function Pr(Qe,nt){if(!nt)return[Qe,0];var ct=k(nt);if(!Qe||ct===v)return[0,nt];var N=ct/v,Y=N*N,G=(8*N-Y*(Y+2)-5)/(2*Y*(N-1)),L=G*G,q=N*G,ee=Y+L+2*q,ae=N+3*G,fe=Qe/v,we=fe+1/fe,Oe=l(k(Qe)-v)*O(we*we-4),Be=Oe*Oe,Ge=(Oe*(ee+L-1)+2*O(ee*(Y+L*Be-1)+(1-Y)*(Y*(ae*ae+4*L)+12*q*L+4*L*L)))/(4*ee+Be);return[l(Qe)*v*Ge,l(nt)*v*O(1+Oe*k(Ge)-Ge*Ge)]}function Fr(){return(0,T.c)(Pr).scale(127.16)}function Za(Qe,nt,ct,N){var Y=p/3;Qe=i(Qe,c),nt=i(nt,c),Qe=r(Qe,v),nt=r(nt,p-c),ct=i(ct,0),ct=r(ct,100-c);var G=(N=i(N,c))/100,L=P((ct/100+1)*b(Y))/Y,q=u(Qe)/u(L*v),ee=nt/p,ae=O(G*u(Qe/2)/u(nt/2));return function(fe,we,Oe,Be,Ge){function Ye(rt,pt){var vt=Oe*u(Be*pt),St=O(1-vt*vt),It=O(2/(1+St*b(rt*=Ge)));return[fe*St*It*u(rt),we*vt*It]}return Ye.invert=function(rt,pt){var vt=rt/fe,St=pt/we,It=O(vt*vt+St*St),Ct=2*E(It/2);return[_(rt*h(Ct),fe*It)/Ge,It&&E(pt*u(Ct)/(we*Oe*It))/Be]},Ye}(ae/O(ee*q*L),1/(ae*O(ee*q*L)),q,L,ee)}function Vo(){var Qe=65*A,nt=60*A,ct=20,N=200,Y=(0,T.U)(Za),G=Y(Qe,nt,ct,N);return G.poleline=function(L){return arguments.length?Y(Qe=+L*A,nt,ct,N):Qe*S},G.parallels=function(L){return arguments.length?Y(Qe,nt=+L*A,ct,N):nt*S},G.inflation=function(L){return arguments.length?Y(Qe,nt,ct=+L,N):ct},G.ratio=function(L){return arguments.length?Y(Qe,nt,ct,N=+L):N},G.scale(163.775)}function as(){return Vo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ia.invert=function(Qe,nt){var ct=nt/1.70711,N=u(g*ct);return[Qe/(.74482-.34588*N*N),2*o(ct)]},To.invert=function(Qe,nt){if(k(nt)<c)return[Qe,0];if(k(Qe)<c)return[0,v*u(2*o(nt/p))];var ct=(Qe/=p)*Qe,N=(nt/=p)*nt,Y=ct+N,G=Y*Y,L=-k(nt)*(1+Y),q=L-2*N+ct,ee=-2*L+1+2*N+G,ae=N/ee+(2*q*q*q/(ee*ee*ee)-9*L*q/(ee*ee))/27,fe=(L-q*q/(3*ee))/ee,we=2*O(-fe/3),Oe=P(3*ae/(fe*we))/3;return[p*(Y-1+O(1+2*(ct-N)+G))/(2*Qe),l(nt)*p*(-we*b(Oe+p/3)-q/(3*ee))]},wl.invert=function(Qe,nt){if(!Qe)return[0,v*u(2*o(nt/p))];var ct=k(Qe/p),N=(1-ct*ct-(nt/=p)*nt)/(2*ct),Y=O(N*N+1);return[l(Qe)*p*(Y-N),l(nt)*v*u(2*_(O((1-2*N*ct)*(N+Y)-ct),O(Y+N+ct)))]},_i.invert=function(Qe,nt){if(!nt)return[Qe,0];var ct=nt/p,N=(p*p*(1-ct*ct)-Qe*Qe)/(2*p*Qe);return[Qe?p*(l(Qe)*O(N*N+1)-N):0,v*u(2*o(ct))]},Pr.invert=function(Qe,nt){var ct;if(!Qe||!nt)return[Qe,nt];nt/=p;var N=l(Qe)*Qe/v,Y=(N*N-1+4*nt*nt)/k(N),G=Y*Y,L=2*nt,q=50;do{var ee=L*L,ae=(8*L-ee*(ee+2)-5)/(2*ee*(L-1)),fe=(3*L-ee*L-10)/(2*ee*L),we=ae*ae,Oe=L*ae,Be=L+ae,Ge=Be*Be,Ye=L+3*ae,rt=-2*Be*(4*Oe*we+(1-4*ee+3*ee*ee)*(1+fe)+we*(14*ee-6-G+(8*ee-8-2*G)*fe)+Oe*(12*ee-8+(10*ee-10-G)*fe)),pt=O(Ge*(ee+we*G-1)+(1-ee)*(ee*(Ye*Ye+4*we)+we*(12*Oe+4*we)));L-=ct=(Y*(Ge+we-1)+2*pt-N*(4*Ge+G))/(Y*(2*ae*fe+2*Be*(1+fe))+rt/pt-8*Be*(Y*(-1+we+Ge)+2*pt)*(1+fe)/(G+4*Ge))}while(ct>c&&--q>0);return[l(Qe)*(O(Y*Y+4)+Y)*p/4,v*L]};var Hi=4*p+3*O(3),Ho=2*O(2*p*O(3)/Hi),ui=xe(Ho*O(3)/p,Ho,Hi/6);function tc(){return(0,T.c)(ui).scale(176.84)}function Ka(Qe,nt){return[Qe*O(1-3*nt*nt/(p*p)),nt]}function pi(){return(0,T.c)(Ka).scale(152.63)}function Ai(Qe,nt){var ct=b(nt),N=b(Qe)*ct,Y=1-N,G=b(Qe=_(u(Qe)*ct,-u(nt))),L=u(Qe);return[L*(ct=O(1-N*N))-G*Y,-G*ct-L*Y]}function Ua(){return(0,T.c)(Ai).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Is(Qe,nt){var ct=j(Qe,nt);return[(ct[0]+Qe/v)/2,(ct[1]+nt)/2]}function Pu(){return(0,T.c)(Is).scale(158.837)}Ka.invert=function(Qe,nt){return[Qe/O(1-3*nt*nt/(p*p)),nt]},Ai.invert=function(Qe,nt){var ct=(Qe*Qe+nt*nt)/-2,N=O(-ct*(2+ct)),Y=nt*ct+Qe*N,G=Qe*ct-nt*N,L=O(G*G+Y*Y);return[_(N*Y,L*(1+ct)),L?-E(N*G/L):0]},Is.invert=function(Qe,nt){var ct=Qe,N=nt,Y=25;do{var G,L=b(N),q=u(N),ee=u(2*N),ae=q*q,fe=L*L,we=u(ct),Oe=b(ct/2),Be=u(ct/2),Ge=Be*Be,Ye=1-fe*Oe*Oe,rt=Ye?P(L*Oe)*O(G=1/Ye):G=0,pt=.5*(2*rt*L*Be+ct/v)-Qe,vt=.5*(rt*q+N)-nt,St=.5*G*(fe*Ge+rt*L*Oe*ae)+.5/v,It=G*(we*ee/4-rt*q*Be),Ct=.125*G*(ee*Be-rt*q*fe*we),jt=.5*G*(ae*Oe+rt*Ge*L)+.5,zt=It*Ct-jt*St,Jt=(vt*It-pt*jt)/zt,Zt=(pt*Ct-vt*St)/zt;ct-=Jt,N-=Zt}while((k(Jt)>c||k(Zt)>c)&&--Y>0);return[ct,N]}},88728:function(U,C,e){function T(){return new k}function k(){this.reset()}e.d(C,{c:function(){return T}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){_(o,b,this.t),_(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new k;function _(b,f,s){var t=b.s=f+s,i=t-f,r=t-i;b.t=f-r+(s-i)}},95384:function(U,C,e){e.d(C,{cp:function(){return x},mQ:function(){return r},oB:function(){return a}});var T,k,o,_,b,f=e(88728),s=e(64528),t=e(70932),i=e(16016),r=(0,f.c)(),n=(0,f.c)(),a={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){r.reset(),a.lineStart=l,a.lineEnd=u},polygonEnd:function(){var p=+r;n.add(p<0?s.kD+p:p),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){n.add(s.kD)}};function l(){a.point=h}function u(){c(T,k)}function h(p,v){a.point=c,T=p,k=v,p*=s.qw,v*=s.qw,o=p,_=(0,s.W8)(v=v/2+s.wL),b=(0,s.g$)(v)}function c(p,v){p*=s.qw,v=(v*=s.qw)/2+s.wL;var g=p-o,y=g>=0?1:-1,m=y*g,w=(0,s.W8)(v),d=(0,s.g$)(v),S=b*d,A=_*w+S*(0,s.W8)(m),E=S*y*(0,s.g$)(m);r.add((0,s.WE)(E,A)),o=p,_=w,b=d}function x(p){return n.reset(),(0,i.c)(p,a),2*n}},13696:function(U,C,e){e.d(C,{c:function(){return P}});var T,k,o,_,b,f,s,t,i,r,n=e(88728),a=e(95384),l=e(84220),u=e(64528),h=e(16016),c=(0,n.c)(),x={point:p,lineStart:g,lineEnd:y,polygonStart:function(){x.point=m,x.lineStart=w,x.lineEnd=d,c.reset(),a.oB.polygonStart()},polygonEnd:function(){a.oB.polygonEnd(),x.point=p,x.lineStart=g,x.lineEnd=y,a.mQ<0?(T=-(o=180),k=-(_=90)):c>u.Gg?_=90:c<-u.Gg&&(k=-90),r[0]=T,r[1]=o},sphere:function(){T=-(o=180),k=-(_=90)}};function p(O,I){i.push(r=[T=O,o=O]),I<k&&(k=I),I>_&&(_=I)}function v(O,I){var D=(0,l.ux)([O*u.qw,I*u.qw]);if(t){var V=(0,l.CW)(t,D),z=[V[1],-V[0],0],j=(0,l.CW)(z,V);(0,l.cJ)(j),j=(0,l.G)(j);var X,F=O-b,H=F>0?1:-1,W=j[0]*u.oh*H,ie=(0,u.a2)(F)>180;ie^(H*b<W&&W<H*O)?(X=j[1]*u.oh)>_&&(_=X):ie^(H*b<(W=(W+360)%360-180)&&W<H*O)?(X=-j[1]*u.oh)<k&&(k=X):(I<k&&(k=I),I>_&&(_=I)),ie?O<b?S(T,O)>S(T,o)&&(o=O):S(O,o)>S(T,o)&&(T=O):o>=T?(O<T&&(T=O),O>o&&(o=O)):O>b?S(T,O)>S(T,o)&&(o=O):S(O,o)>S(T,o)&&(T=O)}else i.push(r=[T=O,o=O]);I<k&&(k=I),I>_&&(_=I),t=D,b=O}function g(){x.point=v}function y(){r[0]=T,r[1]=o,x.point=p,t=null}function m(O,I){if(t){var D=O-b;c.add((0,u.a2)(D)>180?D+(D>0?360:-360):D)}else f=O,s=I;a.oB.point(O,I),v(O,I)}function w(){a.oB.lineStart()}function d(){m(f,s),a.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(T=-(o=180)),r[0]=T,r[1]=o,t=null}function S(O,I){return(I-=O)<0?I+360:I}function A(O,I){return O[0]-I[0]}function E(O,I){return O[0]<=O[1]?O[0]<=I&&I<=O[1]:I<O[0]||O[1]<I}function P(O){var I,D,V,z,j,X,F;if(_=o=-(T=k=1/0),i=[],(0,h.c)(O,x),D=i.length){for(i.sort(A),I=1,j=[V=i[0]];I<D;++I)E(V,(z=i[I])[0])||E(V,z[1])?(S(V[0],z[1])>S(V[0],V[1])&&(V[1]=z[1]),S(z[0],V[1])>S(V[0],V[1])&&(V[0]=z[0])):j.push(V=z);for(X=-1/0,I=0,V=j[D=j.length-1];I<=D;V=z,++I)z=j[I],(F=S(V[1],z[0]))>X&&(X=F,T=z[0],o=V[1])}return i=r=null,T===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[T,k],[o,_]]}},84220:function(U,C,e){e.d(C,{CW:function(){return b},Ez:function(){return _},G:function(){return k},cJ:function(){return t},mg:function(){return f},ux:function(){return o},wx:function(){return s}});var T=e(64528);function k(i){return[(0,T.WE)(i[1],i[0]),(0,T.qR)(i[2])]}function o(i){var r=i[0],n=i[1],a=(0,T.W8)(n);return[a*(0,T.W8)(r),a*(0,T.g$)(r),(0,T.g$)(n)]}function _(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}function b(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]}function f(i,r){i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}function s(i,r){return[i[0]*r,i[1]*r,i[2]*r]}function t(i){var r=(0,T._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=r,i[1]/=r,i[2]/=r}},24052:function(U,C,e){e.d(C,{c:function(){return D}});var T,k,o,_,b,f,s,t,i,r,n,a,l,u,h,c,x=e(64528),p=e(70932),v=e(16016),g={sphere:p.c,point:y,lineStart:w,lineEnd:A,polygonStart:function(){g.lineStart=E,g.lineEnd=P},polygonEnd:function(){g.lineStart=w,g.lineEnd=A}};function y(V,z){V*=x.qw,z*=x.qw;var j=(0,x.W8)(z);m(j*(0,x.W8)(V),j*(0,x.g$)(V),(0,x.g$)(z))}function m(V,z,j){++T,o+=(V-o)/T,_+=(z-_)/T,b+=(j-b)/T}function w(){g.point=d}function d(V,z){V*=x.qw,z*=x.qw;var j=(0,x.W8)(z);u=j*(0,x.W8)(V),h=j*(0,x.g$)(V),c=(0,x.g$)(z),g.point=S,m(u,h,c)}function S(V,z){V*=x.qw,z*=x.qw;var j=(0,x.W8)(z),X=j*(0,x.W8)(V),F=j*(0,x.g$)(V),H=(0,x.g$)(z),W=(0,x.WE)((0,x._I)((W=h*H-c*F)*W+(W=c*X-u*H)*W+(W=u*F-h*X)*W),u*X+h*F+c*H);k+=W,f+=W*(u+(u=X)),s+=W*(h+(h=F)),t+=W*(c+(c=H)),m(u,h,c)}function A(){g.point=y}function E(){g.point=O}function P(){I(a,l),g.point=y}function O(V,z){a=V,l=z,V*=x.qw,z*=x.qw,g.point=I;var j=(0,x.W8)(z);u=j*(0,x.W8)(V),h=j*(0,x.g$)(V),c=(0,x.g$)(z),m(u,h,c)}function I(V,z){V*=x.qw,z*=x.qw;var j=(0,x.W8)(z),X=j*(0,x.W8)(V),F=j*(0,x.g$)(V),H=(0,x.g$)(z),W=h*H-c*F,ie=c*X-u*H,te=u*F-h*X,Q=(0,x._I)(W*W+ie*ie+te*te),ne=(0,x.qR)(Q),$=Q&&-ne/Q;i+=$*W,r+=$*ie,n+=$*te,k+=ne,f+=ne*(u+(u=X)),s+=ne*(h+(h=F)),t+=ne*(c+(c=H)),m(u,h,c)}function D(V){T=k=o=_=b=f=s=t=i=r=n=0,(0,v.c)(V,g);var z=i,j=r,X=n,F=z*z+j*j+X*X;return F<x.a8&&(z=f,j=s,X=t,k<x.Gg&&(z=o,j=_,X=b),(F=z*z+j*j+X*X)<x.a8)?[NaN,NaN]:[(0,x.WE)(j,z)*x.oh,(0,x.qR)(X/(0,x._I)(F))*x.oh]}},61780:function(U,C,e){e.d(C,{Q:function(){return b},c:function(){return s}});var T=e(84220);function k(t){return function(){return t}}var o=e(64528),_=e(92992);function b(t,i,r,n,a,l){if(r){var u=(0,o.W8)(i),h=(0,o.g$)(i),c=n*r;a==null?(a=i+n*o.kD,l=i-c/2):(a=f(u,a),l=f(u,l),(n>0?a<l:a>l)&&(a+=n*o.kD));for(var x,p=a;n>0?p>l:p<l;p-=c)x=(0,T.G)([u,-h*(0,o.W8)(p),-h*(0,o.g$)(p)]),t.point(x[0],x[1])}}function f(t,i){(i=(0,T.ux)(i))[0]-=t,(0,T.cJ)(i);var r=(0,o.mE)(-i[1]);return((-i[2]<0?-r:r)+o.kD-o.Gg)%o.kD}function s(){var t,i,r=k([0,0]),n=k(90),a=k(6),l={point:function(h,c){t.push(h=i(h,c)),h[0]*=o.oh,h[1]*=o.oh}};function u(){var h=r.apply(this,arguments),c=n.apply(this,arguments)*o.qw,x=a.apply(this,arguments)*o.qw;return t=[],i=(0,_.O)(-h[0]*o.qw,-h[1]*o.qw,0).invert,b(l,c,x,1),h={type:"Polygon",coordinates:[t]},t=i=null,h}return u.center=function(h){return arguments.length?(r=typeof h=="function"?h:k([+h[0],+h[1]]),u):r},u.radius=function(h){return arguments.length?(n=typeof h=="function"?h:k(+h),u):n},u.precision=function(h){return arguments.length?(a=typeof h=="function"?h:k(+h),u):a},u}},78284:function(U,C,e){var T=e(14229),k=e(64528);C.c=(0,T.c)(function(){return!0},function(o){var _,b=NaN,f=NaN,s=NaN;return{lineStart:function(){o.lineStart(),_=1},point:function(t,i){var r=t>0?k.pi:-k.pi,n=(0,k.a2)(t-b);(0,k.a2)(n-k.pi)<k.Gg?(o.point(b,f=(f+i)/2>0?k.or:-k.or),o.point(s,f),o.lineEnd(),o.lineStart(),o.point(r,f),o.point(t,f),_=0):s!==r&&n>=k.pi&&((0,k.a2)(b-s)<k.Gg&&(b-=s*k.Gg),(0,k.a2)(t-r)<k.Gg&&(t-=r*k.Gg),f=function(a,l,u,h){var c,x,p=(0,k.g$)(a-u);return(0,k.a2)(p)>k.Gg?(0,k.MQ)(((0,k.g$)(l)*(x=(0,k.W8)(h))*(0,k.g$)(u)-(0,k.g$)(h)*(c=(0,k.W8)(l))*(0,k.g$)(a))/(c*x*p)):(l+h)/2}(b,f,t,i),o.point(s,f),o.lineEnd(),o.lineStart(),o.point(r,f),_=0),o.point(b=t,f=i),s=r},lineEnd:function(){o.lineEnd(),b=f=NaN},clean:function(){return 2-_}}},function(o,_,b,f){var s;if(o==null)s=b*k.or,f.point(-k.pi,s),f.point(0,s),f.point(k.pi,s),f.point(k.pi,0),f.point(k.pi,-s),f.point(0,-s),f.point(-k.pi,-s),f.point(-k.pi,0),f.point(-k.pi,s);else if((0,k.a2)(o[0]-_[0])>k.Gg){var t=o[0]<_[0]?k.pi:-k.pi;s=b*t/2,f.point(-t,s),f.point(0,s),f.point(t,s)}else f.point(_[0],_[1])},[-k.pi,-k.or])},97208:function(U,C,e){e.d(C,{c:function(){return k}});var T=e(70932);function k(){var o,_=[];return{point:function(b,f,s){o.push([b,f,s])},lineStart:function(){_.push(o=[])},lineEnd:T.c,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var b=_;return _=[],o=null,b}}}},2728:function(U,C,e){e.d(C,{c:function(){return f}});var T=e(84220),k=e(61780),o=e(64528),_=e(41860),b=e(14229);function f(s){var t=(0,o.W8)(s),i=6*o.qw,r=t>0,n=(0,o.a2)(t)>o.Gg;function a(h,c){return(0,o.W8)(h)*(0,o.W8)(c)>t}function l(h,c,x){var p=(0,T.ux)(h),v=(0,T.ux)(c),g=[1,0,0],y=(0,T.CW)(p,v),m=(0,T.Ez)(y,y),w=y[0],d=m-w*w;if(!d)return!x&&h;var S=t*m/d,A=-t*w/d,E=(0,T.CW)(g,y),P=(0,T.wx)(g,S),O=(0,T.wx)(y,A);(0,T.mg)(P,O);var I=E,D=(0,T.Ez)(P,I),V=(0,T.Ez)(I,I),z=D*D-V*((0,T.Ez)(P,P)-1);if(!(z<0)){var j=(0,o._I)(z),X=(0,T.wx)(I,(-D-j)/V);if((0,T.mg)(X,P),X=(0,T.G)(X),!x)return X;var F,H=h[0],W=c[0],ie=h[1],te=c[1];W<H&&(F=H,H=W,W=F);var Q=W-H,ne=(0,o.a2)(Q-o.pi)<o.Gg;if(!ne&&te<ie&&(F=ie,ie=te,te=F),ne||Q<o.Gg?ne?ie+te>0^X[1]<((0,o.a2)(X[0]-H)<o.Gg?ie:te):ie<=X[1]&&X[1]<=te:Q>o.pi^(H<=X[0]&&X[0]<=W)){var $=(0,T.wx)(I,(-D+j)/V);return(0,T.mg)($,P),[X,(0,T.G)($)]}}}function u(h,c){var x=r?s:o.pi-s,p=0;return h<-x?p|=1:h>x&&(p|=2),c<-x?p|=4:c>x&&(p|=8),p}return(0,b.c)(a,function(h){var c,x,p,v,g;return{lineStart:function(){v=p=!1,g=1},point:function(y,m){var w,d=[y,m],S=a(y,m),A=r?S?0:u(y,m):S?u(y+(y<0?o.pi:-o.pi),m):0;if(!c&&(v=p=S)&&h.lineStart(),S!==p&&(!(w=l(c,d))||(0,_.c)(c,w)||(0,_.c)(d,w))&&(d[2]=1),S!==p)g=0,S?(h.lineStart(),w=l(d,c),h.point(w[0],w[1])):(w=l(c,d),h.point(w[0],w[1],2),h.lineEnd()),c=w;else if(n&&c&&r^S){var E;A&x||!(E=l(d,c,!0))||(g=0,r?(h.lineStart(),h.point(E[0][0],E[0][1]),h.point(E[1][0],E[1][1]),h.lineEnd()):(h.point(E[1][0],E[1][1]),h.lineEnd(),h.lineStart(),h.point(E[0][0],E[0][1],3)))}!S||c&&(0,_.c)(c,d)||h.point(d[0],d[1]),c=d,p=S,x=A},lineEnd:function(){p&&h.lineEnd(),c=null},clean:function(){return g|(v&&p)<<1}}},function(h,c,x,p){(0,k.Q)(p,s,i,x,h,c)},r?[0,-s]:[-o.pi,s-o.pi])}},14229:function(U,C,e){e.d(C,{c:function(){return f}});var T=e(97208),k=e(32232),o=e(64528),_=e(58196),b=e(84706);function f(i,r,n,a){return function(l){var u,h,c,x=r(l),p=(0,T.c)(),v=r(p),g=!1,y={point:m,lineStart:d,lineEnd:S,polygonStart:function(){y.point=A,y.lineStart=E,y.lineEnd=P,h=[],u=[]},polygonEnd:function(){y.point=m,y.lineStart=d,y.lineEnd=S,h=(0,b.Uf)(h);var O=(0,_.c)(u,a);h.length?(g||(l.polygonStart(),g=!0),(0,k.c)(h,t,O,n,l)):O&&(g||(l.polygonStart(),g=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),g&&(l.polygonEnd(),g=!1),h=u=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function m(O,I){i(O,I)&&l.point(O,I)}function w(O,I){x.point(O,I)}function d(){y.point=w,x.lineStart()}function S(){y.point=m,x.lineEnd()}function A(O,I){c.push([O,I]),v.point(O,I)}function E(){v.lineStart(),c=[]}function P(){A(c[0][0],c[0][1]),v.lineEnd();var O,I,D,V,z=v.clean(),j=p.result(),X=j.length;if(c.pop(),u.push(c),c=null,X)if(1&z){if((I=(D=j[0]).length-1)>0){for(g||(l.polygonStart(),g=!0),l.lineStart(),O=0;O<I;++O)l.point((V=D[O])[0],V[1]);l.lineEnd()}}else X>1&&2&z&&j.push(j.pop().concat(j.shift())),h.push(j.filter(s))}return y}}function s(i){return i.length>1}function t(i,r){return((i=i.x)[0]<0?i[1]-o.or-o.Gg:o.or-i[1])-((r=r.x)[0]<0?r[1]-o.or-o.Gg:o.or-r[1])}},21676:function(U,C,e){e.d(C,{c:function(){return s}});var T=e(64528),k=e(97208),o=e(32232),_=e(84706),b=1e9,f=-b;function s(t,i,r,n){function a(x,p){return t<=x&&x<=r&&i<=p&&p<=n}function l(x,p,v,g){var y=0,m=0;if(x==null||(y=u(x,v))!==(m=u(p,v))||c(x,p)<0^v>0)do g.point(y===0||y===3?t:r,y>1?n:i);while((y=(y+v+4)%4)!==m);else g.point(p[0],p[1])}function u(x,p){return(0,T.a2)(x[0]-t)<T.Gg?p>0?0:3:(0,T.a2)(x[0]-r)<T.Gg?p>0?2:1:(0,T.a2)(x[1]-i)<T.Gg?p>0?1:0:p>0?3:2}function h(x,p){return c(x.x,p.x)}function c(x,p){var v=u(x,1),g=u(p,1);return v!==g?v-g:v===0?p[1]-x[1]:v===1?x[0]-p[0]:v===2?x[1]-p[1]:p[0]-x[0]}return function(x){var p,v,g,y,m,w,d,S,A,E,P,O=x,I=(0,k.c)(),D={point:V,lineStart:function(){D.point=z,v&&v.push(g=[]),E=!0,A=!1,d=S=NaN},lineEnd:function(){p&&(z(y,m),w&&A&&I.rejoin(),p.push(I.result())),D.point=V,A&&O.lineEnd()},polygonStart:function(){O=I,p=[],v=[],P=!0},polygonEnd:function(){var j=function(){for(var H=0,W=0,ie=v.length;W<ie;++W)for(var te,Q,ne=v[W],$=1,J=ne.length,re=ne[0],se=re[0],ue=re[1];$<J;++$)te=se,Q=ue,se=(re=ne[$])[0],ue=re[1],Q<=n?ue>n&&(se-te)*(n-Q)>(ue-Q)*(t-te)&&++H:ue<=n&&(se-te)*(n-Q)<(ue-Q)*(t-te)&&--H;return H}(),X=P&&j,F=(p=(0,_.Uf)(p)).length;(X||F)&&(x.polygonStart(),X&&(x.lineStart(),l(null,null,1,x),x.lineEnd()),F&&(0,o.c)(p,h,j,l,x),x.polygonEnd()),O=x,p=v=g=null}};function V(j,X){a(j,X)&&O.point(j,X)}function z(j,X){var F=a(j,X);if(v&&g.push([j,X]),E)y=j,m=X,w=F,E=!1,F&&(O.lineStart(),O.point(j,X));else if(F&&A)O.point(j,X);else{var H=[d=Math.max(f,Math.min(b,d)),S=Math.max(f,Math.min(b,S))],W=[j=Math.max(f,Math.min(b,j)),X=Math.max(f,Math.min(b,X))];(function(ie,te,Q,ne,$,J){var re,se=ie[0],ue=ie[1],he=0,pe=1,ge=te[0]-se,ye=te[1]-ue;if(re=Q-se,ge||!(re>0)){if(re/=ge,ge<0){if(re<he)return;re<pe&&(pe=re)}else if(ge>0){if(re>pe)return;re>he&&(he=re)}if(re=$-se,ge||!(re<0)){if(re/=ge,ge<0){if(re>pe)return;re>he&&(he=re)}else if(ge>0){if(re<he)return;re<pe&&(pe=re)}if(re=ne-ue,ye||!(re>0)){if(re/=ye,ye<0){if(re<he)return;re<pe&&(pe=re)}else if(ye>0){if(re>pe)return;re>he&&(he=re)}if(re=J-ue,ye||!(re<0)){if(re/=ye,ye<0){if(re>pe)return;re>he&&(he=re)}else if(ye>0){if(re<he)return;re<pe&&(pe=re)}return he>0&&(ie[0]=se+he*ge,ie[1]=ue+he*ye),pe<1&&(te[0]=se+pe*ge,te[1]=ue+pe*ye),!0}}}}})(H,W,t,i,r,n)?(A||(O.lineStart(),O.point(H[0],H[1])),O.point(W[0],W[1]),F||O.lineEnd(),P=!1):F&&(O.lineStart(),O.point(j,X),P=!1)}d=j,S=X,A=F}return D}}},32232:function(U,C,e){e.d(C,{c:function(){return _}});var T=e(41860),k=e(64528);function o(f,s,t,i){this.x=f,this.z=s,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function _(f,s,t,i,r){var n,a,l=[],u=[];if(f.forEach(function(g){if(!((y=g.length-1)<=0)){var y,m,w=g[0],d=g[y];if((0,T.c)(w,d)){if(!w[2]&&!d[2]){for(r.lineStart(),n=0;n<y;++n)r.point((w=g[n])[0],w[1]);return void r.lineEnd()}d[0]+=2*k.Gg}l.push(m=new o(w,g,null,!0)),u.push(m.o=new o(w,null,m,!1)),l.push(m=new o(d,g,null,!1)),u.push(m.o=new o(d,null,m,!0))}}),l.length){for(u.sort(s),b(l),b(u),n=0,a=u.length;n<a;++n)u[n].e=t=!t;for(var h,c,x=l[0];;){for(var p=x,v=!0;p.v;)if((p=p.n)===x)return;h=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(v)for(n=0,a=h.length;n<a;++n)r.point((c=h[n])[0],c[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(v)for(h=p.p.z,n=h.length-1;n>=0;--n)r.point((c=h[n])[0],c[1]);else i(p.x,p.p.x,-1,r);p=p.p}h=(p=p.o).z,v=!v}while(!p.v);r.lineEnd()}}}function b(f){if(s=f.length){for(var s,t,i=0,r=f[0];++i<s;)r.n=t=f[i],t.p=r,r=t;r.n=t=f[0],t.p=r}}},68120:function(U,C,e){function T(k,o){function _(b,f){return b=k(b,f),o(b[0],b[1])}return k.invert&&o.invert&&(_.invert=function(b,f){return(b=o.invert(b,f))&&k.invert(b[0],b[1])}),_}e.d(C,{c:function(){return T}})},7376:function(U,C,e){function T(k){return k}e.d(C,{c:function(){return T}})},83356:function(U,C,e){e.r(C),e.d(C,{geoAlbers:function(){return dt},geoAlbersUsa:function(){return kt},geoArea:function(){return T.cp},geoAzimuthalEqualArea:function(){return wt.c},geoAzimuthalEqualAreaRaw:function(){return wt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return k.c},geoCentroid:function(){return o.c},geoCircle:function(){return _.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return f.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return un},geoConicConformalRaw:function(){return cn},geoConicEqualArea:function(){return gt},geoConicEqualAreaRaw:function(){return lt},geoConicEquidistant:function(){return kn},geoConicEquidistantRaw:function(){return tn},geoContains:function(){return j},geoDistance:function(){return S},geoEqualEarth:function(){return wn},geoEqualEarthRaw:function(){return Sn},geoEquirectangular:function(){return Xt.c},geoEquirectangularRaw:function(){return Xt.u},geoGnomonic:function(){return Dn.c},geoGnomonicRaw:function(){return Dn.Y},geoGraticule:function(){return W},geoGraticule10:function(){return ie},geoIdentity:function(){return Pn},geoInterpolate:function(){return J.c},geoLength:function(){return m},geoMercator:function(){return Nt},geoMercatorRaw:function(){return At},geoNaturalEarth1:function(){return Nn.c},geoNaturalEarth1Raw:function(){return Nn.g},geoOrthographic:function(){return $n.c},geoOrthographicRaw:function(){return $n.t},geoPath:function(){return bt},geoProjection:function(){return qe.c},geoProjectionMutator:function(){return qe.U},geoRotation:function(){return Tt.c},geoStereographic:function(){return Qn},geoStereographicRaw:function(){return Hn},geoStream:function(){return c.c},geoTransform:function(){return Tn.c},geoTransverseMercator:function(){return ur},geoTransverseMercatorRaw:function(){return er}});var T=e(95384),k=e(13696),o=e(24052),_=e(61780),b=e(78284),f=e(2728),s=e(21676);function t(){var $t,rn,On,xn=0,In=0,Gn=960,qn=500;return On={stream:function(ir){return $t&&rn===ir?$t:$t=(0,s.c)(xn,In,Gn,qn)(rn=ir)},extent:function(ir){return arguments.length?(xn=+ir[0][0],In=+ir[0][1],Gn=+ir[1][0],qn=+ir[1][1],$t=rn=null,On):[[xn,In],[Gn,qn]]}}}var i,r,n,a=e(58196),l=e(88728),u=e(64528),h=e(70932),c=e(16016),x=(0,l.c)(),p={sphere:h.c,point:h.c,lineStart:function(){p.point=g,p.lineEnd=v},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function v(){p.point=p.lineEnd=h.c}function g($t,rn){$t*=u.qw,rn*=u.qw,i=$t,r=(0,u.g$)(rn),n=(0,u.W8)(rn),p.point=y}function y($t,rn){$t*=u.qw,rn*=u.qw;var On=(0,u.g$)(rn),xn=(0,u.W8)(rn),In=(0,u.a2)($t-i),Gn=(0,u.W8)(In),qn=xn*(0,u.g$)(In),ir=n*On-r*xn*Gn,dr=r*On+n*xn*Gn;x.add((0,u.WE)((0,u._I)(qn*qn+ir*ir),dr)),i=$t,r=On,n=xn}function m($t){return x.reset(),(0,c.c)($t,p),+x}var w=[null,null],d={type:"LineString",coordinates:w};function S($t,rn){return w[0]=$t,w[1]=rn,m(d)}var A={Feature:function($t,rn){return P($t.geometry,rn)},FeatureCollection:function($t,rn){for(var On=$t.features,xn=-1,In=On.length;++xn<In;)if(P(On[xn].geometry,rn))return!0;return!1}},E={Sphere:function(){return!0},Point:function($t,rn){return O($t.coordinates,rn)},MultiPoint:function($t,rn){for(var On=$t.coordinates,xn=-1,In=On.length;++xn<In;)if(O(On[xn],rn))return!0;return!1},LineString:function($t,rn){return I($t.coordinates,rn)},MultiLineString:function($t,rn){for(var On=$t.coordinates,xn=-1,In=On.length;++xn<In;)if(I(On[xn],rn))return!0;return!1},Polygon:function($t,rn){return D($t.coordinates,rn)},MultiPolygon:function($t,rn){for(var On=$t.coordinates,xn=-1,In=On.length;++xn<In;)if(D(On[xn],rn))return!0;return!1},GeometryCollection:function($t,rn){for(var On=$t.geometries,xn=-1,In=On.length;++xn<In;)if(P(On[xn],rn))return!0;return!1}};function P($t,rn){return!(!$t||!E.hasOwnProperty($t.type))&&E[$t.type]($t,rn)}function O($t,rn){return S($t,rn)===0}function I($t,rn){for(var On,xn,In,Gn=0,qn=$t.length;Gn<qn;Gn++){if((xn=S($t[Gn],rn))===0||Gn>0&&(In=S($t[Gn],$t[Gn-1]))>0&&On<=In&&xn<=In&&(On+xn-In)*(1-Math.pow((On-xn)/In,2))<u.a8*In)return!0;On=xn}return!1}function D($t,rn){return!!(0,a.c)($t.map(V),z(rn))}function V($t){return($t=$t.map(z)).pop(),$t}function z($t){return[$t[0]*u.qw,$t[1]*u.qw]}function j($t,rn){return($t&&A.hasOwnProperty($t.type)?A[$t.type]:P)($t,rn)}var X=e(84706);function F($t,rn,On){var xn=(0,X.ik)($t,rn-u.Gg,On).concat(rn);return function(In){return xn.map(function(Gn){return[In,Gn]})}}function H($t,rn,On){var xn=(0,X.ik)($t,rn-u.Gg,On).concat(rn);return function(In){return xn.map(function(Gn){return[Gn,In]})}}function W(){var $t,rn,On,xn,In,Gn,qn,ir,dr,Kt,bn,Dt,Ut=10,en=Ut,gn=90,vn=360,Mn=2.5;function yn(){return{type:"MultiLineString",coordinates:hn()}}function hn(){return(0,X.ik)((0,u.Km)(xn/gn)*gn,On,gn).map(bn).concat((0,X.ik)((0,u.Km)(ir/vn)*vn,qn,vn).map(Dt)).concat((0,X.ik)((0,u.Km)(rn/Ut)*Ut,$t,Ut).filter(function(qt){return(0,u.a2)(qt%gn)>u.Gg}).map(dr)).concat((0,X.ik)((0,u.Km)(Gn/en)*en,In,en).filter(function(qt){return(0,u.a2)(qt%vn)>u.Gg}).map(Kt))}return yn.lines=function(){return hn().map(function(qt){return{type:"LineString",coordinates:qt}})},yn.outline=function(){return{type:"Polygon",coordinates:[bn(xn).concat(Dt(qn).slice(1),bn(On).reverse().slice(1),Dt(ir).reverse().slice(1))]}},yn.extent=function(qt){return arguments.length?yn.extentMajor(qt).extentMinor(qt):yn.extentMinor()},yn.extentMajor=function(qt){return arguments.length?(xn=+qt[0][0],On=+qt[1][0],ir=+qt[0][1],qn=+qt[1][1],xn>On&&(qt=xn,xn=On,On=qt),ir>qn&&(qt=ir,ir=qn,qn=qt),yn.precision(Mn)):[[xn,ir],[On,qn]]},yn.extentMinor=function(qt){return arguments.length?(rn=+qt[0][0],$t=+qt[1][0],Gn=+qt[0][1],In=+qt[1][1],rn>$t&&(qt=rn,rn=$t,$t=qt),Gn>In&&(qt=Gn,Gn=In,In=qt),yn.precision(Mn)):[[rn,Gn],[$t,In]]},yn.step=function(qt){return arguments.length?yn.stepMajor(qt).stepMinor(qt):yn.stepMinor()},yn.stepMajor=function(qt){return arguments.length?(gn=+qt[0],vn=+qt[1],yn):[gn,vn]},yn.stepMinor=function(qt){return arguments.length?(Ut=+qt[0],en=+qt[1],yn):[Ut,en]},yn.precision=function(qt){return arguments.length?(Mn=+qt,dr=F(Gn,In,90),Kt=H(rn,$t,Mn),bn=F(ir,qn,90),Dt=H(xn,On,Mn),yn):Mn},yn.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function ie(){return W()()}var te,Q,ne,$,J=e(27284),re=e(7376),se=(0,l.c)(),ue=(0,l.c)(),he={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){he.lineStart=pe,he.lineEnd=be},polygonEnd:function(){he.lineStart=he.lineEnd=he.point=h.c,se.add((0,u.a2)(ue)),ue.reset()},result:function(){var $t=se/2;return se.reset(),$t}};function pe(){he.point=ge}function ge($t,rn){he.point=ye,te=ne=$t,Q=$=rn}function ye($t,rn){ue.add($*$t-ne*rn),ne=$t,$=rn}function be(){ye(te,Q)}var Te,Se,Fe,xe,le=he,oe=e(73784),de=0,Ce=0,_e=0,Ae=0,Le=0,ze=0,Re=0,ve=0,ke=0,Ee={point:De,lineStart:Pe,lineEnd:$e,polygonStart:function(){Ee.lineStart=ot,Ee.lineEnd=st},polygonEnd:function(){Ee.point=De,Ee.lineStart=Pe,Ee.lineEnd=$e},result:function(){var $t=ke?[Re/ke,ve/ke]:ze?[Ae/ze,Le/ze]:_e?[de/_e,Ce/_e]:[NaN,NaN];return de=Ce=_e=Ae=Le=ze=Re=ve=ke=0,$t}};function De($t,rn){de+=$t,Ce+=rn,++_e}function Pe(){Ee.point=Ue}function Ue($t,rn){Ee.point=We,De(Fe=$t,xe=rn)}function We($t,rn){var On=$t-Fe,xn=rn-xe,In=(0,u._I)(On*On+xn*xn);Ae+=In*(Fe+$t)/2,Le+=In*(xe+rn)/2,ze+=In,De(Fe=$t,xe=rn)}function $e(){Ee.point=De}function ot(){Ee.point=mt}function st(){_t(Te,Se)}function mt($t,rn){Ee.point=_t,De(Te=Fe=$t,Se=xe=rn)}function _t($t,rn){var On=$t-Fe,xn=rn-xe,In=(0,u._I)(On*On+xn*xn);Ae+=In*(Fe+$t)/2,Le+=In*(xe+rn)/2,ze+=In,Re+=(In=xe*$t-Fe*rn)*(Fe+$t),ve+=In*(xe+rn),ke+=3*In,De(Fe=$t,xe=rn)}var yt=Ee;function it($t){this._context=$t}it.prototype={_radius:4.5,pointRadius:function($t){return this._radius=$t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function($t,rn){switch(this._point){case 0:this._context.moveTo($t,rn),this._point=1;break;case 1:this._context.lineTo($t,rn);break;default:this._context.moveTo($t+this._radius,rn),this._context.arc($t,rn,this._radius,0,u.kD)}},result:h.c};var tt,Pt,Rt,Ft,Ot,Xe=(0,l.c)(),Je={point:h.c,lineStart:function(){Je.point=Ve},lineEnd:function(){tt&&Ke(Pt,Rt),Je.point=h.c},polygonStart:function(){tt=!0},polygonEnd:function(){tt=null},result:function(){var $t=+Xe;return Xe.reset(),$t}};function Ve($t,rn){Je.point=Ke,Pt=Ft=$t,Rt=Ot=rn}function Ke($t,rn){Ft-=$t,Ot-=rn,Xe.add((0,u._I)(Ft*Ft+Ot*Ot)),Ft=$t,Ot=rn}var ft=Je;function ut(){this._string=[]}function xt($t){return"m0,"+$t+"a"+$t+","+$t+" 0 1,1 0,"+-2*$t+"a"+$t+","+$t+" 0 1,1 0,"+2*$t+"z"}function bt($t,rn){var On,xn,In=4.5;function Gn(qn){return qn&&(typeof In=="function"&&xn.pointRadius(+In.apply(this,arguments)),(0,c.c)(qn,On(xn))),xn.result()}return Gn.area=function(qn){return(0,c.c)(qn,On(le)),le.result()},Gn.measure=function(qn){return(0,c.c)(qn,On(ft)),ft.result()},Gn.bounds=function(qn){return(0,c.c)(qn,On(oe.c)),oe.c.result()},Gn.centroid=function(qn){return(0,c.c)(qn,On(yt)),yt.result()},Gn.projection=function(qn){return arguments.length?(On=qn==null?($t=null,re.c):($t=qn).stream,Gn):$t},Gn.context=function(qn){return arguments.length?(xn=qn==null?(rn=null,new ut):new it(rn=qn),typeof In!="function"&&xn.pointRadius(In),Gn):rn},Gn.pointRadius=function(qn){return arguments.length?(In=typeof qn=="function"?qn:(xn.pointRadius(+qn),+qn),Gn):In},Gn.projection($t).context(rn)}ut.prototype={_radius:4.5,_circle:xt(4.5),pointRadius:function($t){return($t=+$t)!==this._radius&&(this._radius=$t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function($t,rn){switch(this._point){case 0:this._string.push("M",$t,",",rn),this._point=1;break;case 1:this._string.push("L",$t,",",rn);break;default:this._circle==null&&(this._circle=xt(this._radius)),this._string.push("M",$t,",",rn,this._circle)}},result:function(){if(this._string.length){var $t=this._string.join("");return this._string=[],$t}return null}};var qe=e(87952);function je($t){var rn=0,On=u.pi/3,xn=(0,qe.U)($t),In=xn(rn,On);return In.parallels=function(Gn){return arguments.length?xn(rn=Gn[0]*u.qw,On=Gn[1]*u.qw):[rn*u.oh,On*u.oh]},In}function lt($t,rn){var On=(0,u.g$)($t),xn=(On+(0,u.g$)(rn))/2;if((0,u.a2)(xn)<u.Gg)return function(ir){var dr=(0,u.W8)(ir);function Kt(bn,Dt){return[bn*dr,(0,u.g$)(Dt)/dr]}return Kt.invert=function(bn,Dt){return[bn/dr,(0,u.qR)(Dt*dr)]},Kt}($t);var In=1+On*(2*xn-On),Gn=(0,u._I)(In)/xn;function qn(ir,dr){var Kt=(0,u._I)(In-2*xn*(0,u.g$)(dr))/xn;return[Kt*(0,u.g$)(ir*=xn),Gn-Kt*(0,u.W8)(ir)]}return qn.invert=function(ir,dr){var Kt=Gn-dr,bn=(0,u.WE)(ir,(0,u.a2)(Kt))*(0,u.kq)(Kt);return Kt*xn<0&&(bn-=u.pi*(0,u.kq)(ir)*(0,u.kq)(Kt)),[bn/xn,(0,u.qR)((In-(ir*ir+Kt*Kt)*xn*xn)/(2*xn))]},qn}function gt(){return je(lt).scale(155.424).center([0,33.6442])}function dt(){return gt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var at=e(86420);function kt(){var $t,rn,On,xn,In,Gn,qn=dt(),ir=gt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),dr=gt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kt={point:function(Ut,en){Gn=[Ut,en]}};function bn(Ut){var en=Ut[0],gn=Ut[1];return Gn=null,On.point(en,gn),Gn||(xn.point(en,gn),Gn)||(In.point(en,gn),Gn)}function Dt(){return $t=rn=null,bn}return bn.invert=function(Ut){var en=qn.scale(),gn=qn.translate(),vn=(Ut[0]-gn[0])/en,Mn=(Ut[1]-gn[1])/en;return(Mn>=.12&&Mn<.234&&vn>=-.425&&vn<-.214?ir:Mn>=.166&&Mn<.234&&vn>=-.214&&vn<-.115?dr:qn).invert(Ut)},bn.stream=function(Ut){return $t&&rn===Ut?$t:(en=[qn.stream(rn=Ut),ir.stream(Ut),dr.stream(Ut)],gn=en.length,$t={point:function(vn,Mn){for(var yn=-1;++yn<gn;)en[yn].point(vn,Mn)},sphere:function(){for(var vn=-1;++vn<gn;)en[vn].sphere()},lineStart:function(){for(var vn=-1;++vn<gn;)en[vn].lineStart()},lineEnd:function(){for(var vn=-1;++vn<gn;)en[vn].lineEnd()},polygonStart:function(){for(var vn=-1;++vn<gn;)en[vn].polygonStart()},polygonEnd:function(){for(var vn=-1;++vn<gn;)en[vn].polygonEnd()}});var en,gn},bn.precision=function(Ut){return arguments.length?(qn.precision(Ut),ir.precision(Ut),dr.precision(Ut),Dt()):qn.precision()},bn.scale=function(Ut){return arguments.length?(qn.scale(Ut),ir.scale(.35*Ut),dr.scale(Ut),bn.translate(qn.translate())):qn.scale()},bn.translate=function(Ut){if(!arguments.length)return qn.translate();var en=qn.scale(),gn=+Ut[0],vn=+Ut[1];return On=qn.translate(Ut).clipExtent([[gn-.455*en,vn-.238*en],[gn+.455*en,vn+.238*en]]).stream(Kt),xn=ir.translate([gn-.307*en,vn+.201*en]).clipExtent([[gn-.425*en+u.Gg,vn+.12*en+u.Gg],[gn-.214*en-u.Gg,vn+.234*en-u.Gg]]).stream(Kt),In=dr.translate([gn-.205*en,vn+.212*en]).clipExtent([[gn-.214*en+u.Gg,vn+.166*en+u.Gg],[gn-.115*en-u.Gg,vn+.234*en-u.Gg]]).stream(Kt),Dt()},bn.fitExtent=function(Ut,en){return(0,at.QX)(bn,Ut,en)},bn.fitSize=function(Ut,en){return(0,at.UV)(bn,Ut,en)},bn.fitWidth=function(Ut,en){return(0,at.Qx)(bn,Ut,en)},bn.fitHeight=function(Ut,en){return(0,at.OW)(bn,Ut,en)},bn.scale(1070)}var wt=e(54724),Et=e(69020),Tt=e(92992);function At($t,rn){return[$t,(0,u.Yz)((0,u.a6)((u.or+rn)/2))]}function Nt(){return Wt(At).scale(961/u.kD)}function Wt($t){var rn,On,xn,In=(0,qe.c)($t),Gn=In.center,qn=In.scale,ir=In.translate,dr=In.clipExtent,Kt=null;function bn(){var Dt=u.pi*qn(),Ut=In((0,Tt.c)(In.rotate()).invert([0,0]));return dr(Kt==null?[[Ut[0]-Dt,Ut[1]-Dt],[Ut[0]+Dt,Ut[1]+Dt]]:$t===At?[[Math.max(Ut[0]-Dt,Kt),rn],[Math.min(Ut[0]+Dt,On),xn]]:[[Kt,Math.max(Ut[1]-Dt,rn)],[On,Math.min(Ut[1]+Dt,xn)]])}return In.scale=function(Dt){return arguments.length?(qn(Dt),bn()):qn()},In.translate=function(Dt){return arguments.length?(ir(Dt),bn()):ir()},In.center=function(Dt){return arguments.length?(Gn(Dt),bn()):Gn()},In.clipExtent=function(Dt){return arguments.length?(Dt==null?Kt=rn=On=xn=null:(Kt=+Dt[0][0],rn=+Dt[0][1],On=+Dt[1][0],xn=+Dt[1][1]),bn()):Kt==null?null:[[Kt,rn],[On,xn]]},bn()}function on($t){return(0,u.a6)((u.or+$t)/2)}function cn($t,rn){var On=(0,u.W8)($t),xn=$t===rn?(0,u.g$)($t):(0,u.Yz)(On/(0,u.W8)(rn))/(0,u.Yz)(on(rn)/on($t)),In=On*(0,u.g3)(on($t),xn)/xn;if(!xn)return At;function Gn(qn,ir){In>0?ir<-u.or+u.Gg&&(ir=-u.or+u.Gg):ir>u.or-u.Gg&&(ir=u.or-u.Gg);var dr=In/(0,u.g3)(on(ir),xn);return[dr*(0,u.g$)(xn*qn),In-dr*(0,u.W8)(xn*qn)]}return Gn.invert=function(qn,ir){var dr=In-ir,Kt=(0,u.kq)(xn)*(0,u._I)(qn*qn+dr*dr),bn=(0,u.WE)(qn,(0,u.a2)(dr))*(0,u.kq)(dr);return dr*xn<0&&(bn-=u.pi*(0,u.kq)(qn)*(0,u.kq)(dr)),[bn/xn,2*(0,u.MQ)((0,u.g3)(In/Kt,1/xn))-u.or]},Gn}function un(){return je(cn).scale(109.5).parallels([30,30])}At.invert=function($t,rn){return[$t,2*(0,u.MQ)((0,u.oN)(rn))-u.or]};var Xt=e(69604);function tn($t,rn){var On=(0,u.W8)($t),xn=$t===rn?(0,u.g$)($t):(On-(0,u.W8)(rn))/(rn-$t),In=On/xn+$t;if((0,u.a2)(xn)<u.Gg)return Xt.u;function Gn(qn,ir){var dr=In-ir,Kt=xn*qn;return[dr*(0,u.g$)(Kt),In-dr*(0,u.W8)(Kt)]}return Gn.invert=function(qn,ir){var dr=In-ir,Kt=(0,u.WE)(qn,(0,u.a2)(dr))*(0,u.kq)(dr);return dr*xn<0&&(Kt-=u.pi*(0,u.kq)(qn)*(0,u.kq)(dr)),[Kt/xn,In-(0,u.kq)(xn)*(0,u._I)(qn*qn+dr*dr)]},Gn}function kn(){return je(tn).scale(131.154).center([0,13.9389])}var fn=1.340264,Qt=-.081106,pn=893e-6,nn=.003796,sn=(0,u._I)(3)/2;function Sn($t,rn){var On=(0,u.qR)(sn*(0,u.g$)(rn)),xn=On*On,In=xn*xn*xn;return[$t*(0,u.W8)(On)/(sn*(fn+3*Qt*xn+In*(7*pn+9*nn*xn))),On*(fn+Qt*xn+In*(pn+nn*xn))]}function wn(){return(0,qe.c)(Sn).scale(177.158)}Sn.invert=function($t,rn){for(var On,xn=rn,In=xn*xn,Gn=In*In*In,qn=0;qn<12&&(Gn=(In=(xn-=On=(xn*(fn+Qt*In+Gn*(pn+nn*In))-rn)/(fn+3*Qt*In+Gn*(7*pn+9*nn*In)))*xn)*In*In,!((0,u.a2)(On)<u.a8));++qn);return[sn*$t*(fn+3*Qt*In+Gn*(7*pn+9*nn*In))/(0,u.W8)(xn),(0,u.qR)((0,u.g$)(xn)/sn)]};var Dn=e(53285),Tn=e(15196);function Pn(){var $t,rn,On,xn,In,Gn,qn,ir=1,dr=0,Kt=0,bn=1,Dt=1,Ut=0,en=null,gn=1,vn=1,Mn=(0,Tn.s)({point:function(Vt,an){var En=qt([Vt,an]);this.stream.point(En[0],En[1])}}),yn=re.c;function hn(){return gn=ir*bn,vn=ir*Dt,Gn=qn=null,qt}function qt(Vt){var an=Vt[0]*gn,En=Vt[1]*vn;if(Ut){var Fn=En*$t-an*rn;an=an*$t+En*rn,En=Fn}return[an+dr,En+Kt]}return qt.invert=function(Vt){var an=Vt[0]-dr,En=Vt[1]-Kt;if(Ut){var Fn=En*$t+an*rn;an=an*$t-En*rn,En=Fn}return[an/gn,En/vn]},qt.stream=function(Vt){return Gn&&qn===Vt?Gn:Gn=Mn(yn(qn=Vt))},qt.postclip=function(Vt){return arguments.length?(yn=Vt,en=On=xn=In=null,hn()):yn},qt.clipExtent=function(Vt){return arguments.length?(yn=Vt==null?(en=On=xn=In=null,re.c):(0,s.c)(en=+Vt[0][0],On=+Vt[0][1],xn=+Vt[1][0],In=+Vt[1][1]),hn()):en==null?null:[[en,On],[xn,In]]},qt.scale=function(Vt){return arguments.length?(ir=+Vt,hn()):ir},qt.translate=function(Vt){return arguments.length?(dr=+Vt[0],Kt=+Vt[1],hn()):[dr,Kt]},qt.angle=function(Vt){return arguments.length?(Ut=Vt%360*u.qw,rn=(0,u.g$)(Ut),$t=(0,u.W8)(Ut),hn()):Ut*u.oh},qt.reflectX=function(Vt){return arguments.length?(bn=Vt?-1:1,hn()):bn<0},qt.reflectY=function(Vt){return arguments.length?(Dt=Vt?-1:1,hn()):Dt<0},qt.fitExtent=function(Vt,an){return(0,at.QX)(qt,Vt,an)},qt.fitSize=function(Vt,an){return(0,at.UV)(qt,Vt,an)},qt.fitWidth=function(Vt,an){return(0,at.Qx)(qt,Vt,an)},qt.fitHeight=function(Vt,an){return(0,at.OW)(qt,Vt,an)},qt}var Nn=e(47984),$n=e(4888),pr=e(62280);function Hn($t,rn){var On=(0,u.W8)(rn),xn=1+(0,u.W8)($t)*On;return[On*(0,u.g$)($t)/xn,(0,u.g$)(rn)/xn]}function Qn(){return(0,qe.c)(Hn).scale(250).clipAngle(142)}function er($t,rn){return[(0,u.Yz)((0,u.a6)((u.or+rn)/2)),-$t]}function ur(){var $t=Wt(er),rn=$t.center,On=$t.rotate;return $t.center=function(xn){return arguments.length?rn([-xn[1],xn[0]]):[(xn=rn())[1],-xn[0]]},$t.rotate=function(xn){return arguments.length?On([xn[0],xn[1],xn.length>2?xn[2]+90:90]):[(xn=On())[0],xn[1],xn[2]-90]},On([0,0,90]).scale(159.155)}Hn.invert=(0,pr.g)(function($t){return 2*(0,u.MQ)($t)}),er.invert=function($t,rn){return[-rn,2*(0,u.MQ)((0,u.oN)($t))-u.or]}},27284:function(U,C,e){e.d(C,{c:function(){return k}});var T=e(64528);function k(o,_){var b=o[0]*T.qw,f=o[1]*T.qw,s=_[0]*T.qw,t=_[1]*T.qw,i=(0,T.W8)(f),r=(0,T.g$)(f),n=(0,T.W8)(t),a=(0,T.g$)(t),l=i*(0,T.W8)(b),u=i*(0,T.g$)(b),h=n*(0,T.W8)(s),c=n*(0,T.g$)(s),x=2*(0,T.qR)((0,T._I)((0,T.SD)(t-f)+i*n*(0,T.SD)(s-b))),p=(0,T.g$)(x),v=x?function(g){var y=(0,T.g$)(g*=x)/p,m=(0,T.g$)(x-g)/p,w=m*l+y*h,d=m*u+y*c,S=m*r+y*a;return[(0,T.WE)(d,w)*T.oh,(0,T.WE)(S,(0,T._I)(w*w+d*d))*T.oh]}:function(){return[b*T.oh,f*T.oh]};return v.distance=x,v}},64528:function(U,C,e){e.d(C,{Gg:function(){return T},Km:function(){return l},MQ:function(){return r},SD:function(){return w},W8:function(){return a},WE:function(){return n},Yz:function(){return h},_I:function(){return v},a2:function(){return i},a6:function(){return g},a8:function(){return k},g$:function(){return x},g3:function(){return c},kD:function(){return f},kq:function(){return p},mE:function(){return y},oN:function(){return u},oh:function(){return s},or:function(){return _},pi:function(){return o},qR:function(){return m},qw:function(){return t},wL:function(){return b}});var T=1e-6,k=1e-12,o=Math.PI,_=o/2,b=o/4,f=2*o,s=180/o,t=o/180,i=Math.abs,r=Math.atan,n=Math.atan2,a=Math.cos,l=Math.ceil,u=Math.exp,h=Math.log,c=Math.pow,x=Math.sin,p=Math.sign||function(d){return d>0?1:d<0?-1:0},v=Math.sqrt,g=Math.tan;function y(d){return d>1?0:d<-1?o:Math.acos(d)}function m(d){return d>1?_:d<-1?-_:Math.asin(d)}function w(d){return(d=x(d/2))*d}},70932:function(U,C,e){function T(){}e.d(C,{c:function(){return T}})},73784:function(U,C,e){var T=e(70932),k=1/0,o=k,_=-k,b=_,f={point:function(s,t){s<k&&(k=s),s>_&&(_=s),t<o&&(o=t),t>b&&(b=t)},lineStart:T.c,lineEnd:T.c,polygonStart:T.c,polygonEnd:T.c,result:function(){var s=[[k,o],[_,b]];return _=b=-(o=k=1/0),s}};C.c=f},41860:function(U,C,e){e.d(C,{c:function(){return k}});var T=e(64528);function k(o,_){return(0,T.a2)(o[0]-_[0])<T.Gg&&(0,T.a2)(o[1]-_[1])<T.Gg}},58196:function(U,C,e){e.d(C,{c:function(){return f}});var T=e(88728),k=e(84220),o=e(64528),_=(0,T.c)();function b(s){return(0,o.a2)(s[0])<=o.pi?s[0]:(0,o.kq)(s[0])*(((0,o.a2)(s[0])+o.pi)%o.kD-o.pi)}function f(s,t){var i=b(t),r=t[1],n=(0,o.g$)(r),a=[(0,o.g$)(i),-(0,o.W8)(i),0],l=0,u=0;_.reset(),n===1?r=o.or+o.Gg:n===-1&&(r=-o.or-o.Gg);for(var h=0,c=s.length;h<c;++h)if(p=(x=s[h]).length)for(var x,p,v=x[p-1],g=b(v),y=v[1]/2+o.wL,m=(0,o.g$)(y),w=(0,o.W8)(y),d=0;d<p;++d,g=A,m=P,w=O,v=S){var S=x[d],A=b(S),E=S[1]/2+o.wL,P=(0,o.g$)(E),O=(0,o.W8)(E),I=A-g,D=I>=0?1:-1,V=D*I,z=V>o.pi,j=m*P;if(_.add((0,o.WE)(j*D*(0,o.g$)(V),w*O+j*(0,o.W8)(V))),l+=z?I+D*o.kD:I,z^g>=i^A>=i){var X=(0,k.CW)((0,k.ux)(v),(0,k.ux)(S));(0,k.cJ)(X);var F=(0,k.CW)(a,X);(0,k.cJ)(F);var H=(z^I>=0?-1:1)*(0,o.qR)(F[2]);(r>H||r===H&&(X[0]||X[1]))&&(u+=z^I>=0?1:-1)}}return(l<-o.Gg||l<o.Gg&&_<-o.Gg)^1&u}},62280:function(U,C,e){e.d(C,{a:function(){return k},g:function(){return o}});var T=e(64528);function k(_){return function(b,f){var s=(0,T.W8)(b),t=(0,T.W8)(f),i=_(s*t);return[i*t*(0,T.g$)(b),i*(0,T.g$)(f)]}}function o(_){return function(b,f){var s=(0,T._I)(b*b+f*f),t=_(s),i=(0,T.g$)(t),r=(0,T.W8)(t);return[(0,T.WE)(b*i,s*r),(0,T.qR)(s&&f*i/s)]}}},54724:function(U,C,e){e.d(C,{c:function(){return b},y:function(){return _}});var T=e(64528),k=e(62280),o=e(87952),_=(0,k.a)(function(f){return(0,T._I)(2/(1+f))});function b(){return(0,o.c)(_).scale(124.75).clipAngle(179.999)}_.invert=(0,k.g)(function(f){return 2*(0,T.qR)(f/2)})},69020:function(U,C,e){e.d(C,{O:function(){return _},c:function(){return b}});var T=e(64528),k=e(62280),o=e(87952),_=(0,k.a)(function(f){return(f=(0,T.mE)(f))&&f/(0,T.g$)(f)});function b(){return(0,o.c)(_).scale(79.4188).clipAngle(179.999)}_.invert=(0,k.g)(function(f){return f})},69604:function(U,C,e){e.d(C,{c:function(){return o},u:function(){return k}});var T=e(87952);function k(_,b){return[_,b]}function o(){return(0,T.c)(k).scale(152.63)}k.invert=k},86420:function(U,C,e){e.d(C,{OW:function(){return s},QX:function(){return _},Qx:function(){return f},UV:function(){return b}});var T=e(16016),k=e(73784);function o(t,i,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,T.c)(r,t.stream(k.c)),i(k.c.result()),n!=null&&t.clipExtent(n),t}function _(t,i,r){return o(t,function(n){var a=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(a/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),h=+i[0][0]+(a-u*(n[1][0]+n[0][0]))/2,c=+i[0][1]+(l-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([h,c])},r)}function b(t,i,r){return _(t,[[0,0],i],r)}function f(t,i,r){return o(t,function(n){var a=+i,l=a/(n[1][0]-n[0][0]),u=(a-l*(n[1][0]+n[0][0]))/2,h=-l*n[0][1];t.scale(150*l).translate([u,h])},r)}function s(t,i,r){return o(t,function(n){var a=+i,l=a/(n[1][1]-n[0][1]),u=-l*n[0][0],h=(a-l*(n[1][1]+n[0][1]))/2;t.scale(150*l).translate([u,h])},r)}},53285:function(U,C,e){e.d(C,{Y:function(){return _},c:function(){return b}});var T=e(64528),k=e(62280),o=e(87952);function _(f,s){var t=(0,T.W8)(s),i=(0,T.W8)(f)*t;return[t*(0,T.g$)(f)/i,(0,T.g$)(s)/i]}function b(){return(0,o.c)(_).scale(144.049).clipAngle(60)}_.invert=(0,k.g)(T.MQ)},87952:function(U,C,e){e.d(C,{c:function(){return x},U:function(){return p}});var T=e(78284),k=e(2728),o=e(21676),_=e(68120),b=e(7376),f=e(64528),s=e(92992),t=e(15196),i=e(86420),r=e(84220),n=16,a=(0,f.W8)(30*f.qw);function l(v,g){return+g?function(y,m){function w(d,S,A,E,P,O,I,D,V,z,j,X,F,H){var W=I-d,ie=D-S,te=W*W+ie*ie;if(te>4*m&&F--){var Q=E+z,ne=P+j,$=O+X,J=(0,f._I)(Q*Q+ne*ne+$*$),re=(0,f.qR)($/=J),se=(0,f.a2)((0,f.a2)($)-1)<f.Gg||(0,f.a2)(A-V)<f.Gg?(A+V)/2:(0,f.WE)(ne,Q),ue=y(se,re),he=ue[0],pe=ue[1],ge=he-d,ye=pe-S,be=ie*ge-W*ye;(be*be/te>m||(0,f.a2)((W*ge+ie*ye)/te-.5)>.3||E*z+P*j+O*X<a)&&(w(d,S,A,E,P,O,he,pe,se,Q/=J,ne/=J,$,F,H),H.point(he,pe),w(he,pe,se,Q,ne,$,I,D,V,z,j,X,F,H))}}return function(d){var S,A,E,P,O,I,D,V,z,j,X,F,H={point:W,lineStart:ie,lineEnd:Q,polygonStart:function(){d.polygonStart(),H.lineStart=ne},polygonEnd:function(){d.polygonEnd(),H.lineStart=ie}};function W(re,se){re=y(re,se),d.point(re[0],re[1])}function ie(){V=NaN,H.point=te,d.lineStart()}function te(re,se){var ue=(0,r.ux)([re,se]),he=y(re,se);w(V,z,D,j,X,F,V=he[0],z=he[1],D=re,j=ue[0],X=ue[1],F=ue[2],n,d),d.point(V,z)}function Q(){H.point=W,d.lineEnd()}function ne(){ie(),H.point=$,H.lineEnd=J}function $(re,se){te(S=re,se),A=V,E=z,P=j,O=X,I=F,H.point=te}function J(){w(V,z,D,j,X,F,A,E,S,P,O,I,n,d),H.lineEnd=Q,Q()}return H}}(v,g):function(y){return(0,t.s)({point:function(m,w){m=y(m,w),this.stream.point(m[0],m[1])}})}(v)}var u=(0,t.s)({point:function(v,g){this.stream.point(v*f.qw,g*f.qw)}});function h(v,g,y,m,w){function d(S,A){return[g+v*(S*=m),y-v*(A*=w)]}return d.invert=function(S,A){return[(S-g)/v*m,(y-A)/v*w]},d}function c(v,g,y,m,w,d){var S=(0,f.W8)(d),A=(0,f.g$)(d),E=S*v,P=A*v,O=S/v,I=A/v,D=(A*y-S*g)/v,V=(A*g+S*y)/v;function z(j,X){return[E*(j*=m)-P*(X*=w)+g,y-P*j-E*X]}return z.invert=function(j,X){return[m*(O*j-I*X+D),w*(V-I*j-O*X)]},z}function x(v){return p(function(){return v})()}function p(v){var g,y,m,w,d,S,A,E,P,O,I=150,D=480,V=250,z=0,j=0,X=0,F=0,H=0,W=0,ie=1,te=1,Q=null,ne=T.c,$=null,J=b.c,re=.5;function se(ge){return E(ge[0]*f.qw,ge[1]*f.qw)}function ue(ge){return(ge=E.invert(ge[0],ge[1]))&&[ge[0]*f.oh,ge[1]*f.oh]}function he(){var ge=c(I,0,0,ie,te,W).apply(null,g(z,j)),ye=(W?c:h)(I,D-ge[0],V-ge[1],ie,te,W);return y=(0,s.O)(X,F,H),A=(0,_.c)(g,ye),E=(0,_.c)(y,A),S=l(A,re),pe()}function pe(){return P=O=null,se}return se.stream=function(ge){return P&&O===ge?P:P=u(function(ye){return(0,t.s)({point:function(be,Te){var Se=ye(be,Te);return this.stream.point(Se[0],Se[1])}})}(y)(ne(S(J(O=ge)))))},se.preclip=function(ge){return arguments.length?(ne=ge,Q=void 0,pe()):ne},se.postclip=function(ge){return arguments.length?(J=ge,$=m=w=d=null,pe()):J},se.clipAngle=function(ge){return arguments.length?(ne=+ge?(0,k.c)(Q=ge*f.qw):(Q=null,T.c),pe()):Q*f.oh},se.clipExtent=function(ge){return arguments.length?(J=ge==null?($=m=w=d=null,b.c):(0,o.c)($=+ge[0][0],m=+ge[0][1],w=+ge[1][0],d=+ge[1][1]),pe()):$==null?null:[[$,m],[w,d]]},se.scale=function(ge){return arguments.length?(I=+ge,he()):I},se.translate=function(ge){return arguments.length?(D=+ge[0],V=+ge[1],he()):[D,V]},se.center=function(ge){return arguments.length?(z=ge[0]%360*f.qw,j=ge[1]%360*f.qw,he()):[z*f.oh,j*f.oh]},se.rotate=function(ge){return arguments.length?(X=ge[0]%360*f.qw,F=ge[1]%360*f.qw,H=ge.length>2?ge[2]%360*f.qw:0,he()):[X*f.oh,F*f.oh,H*f.oh]},se.angle=function(ge){return arguments.length?(W=ge%360*f.qw,he()):W*f.oh},se.reflectX=function(ge){return arguments.length?(ie=ge?-1:1,he()):ie<0},se.reflectY=function(ge){return arguments.length?(te=ge?-1:1,he()):te<0},se.precision=function(ge){return arguments.length?(S=l(A,re=ge*ge),pe()):(0,f._I)(re)},se.fitExtent=function(ge,ye){return(0,i.QX)(se,ge,ye)},se.fitSize=function(ge,ye){return(0,i.UV)(se,ge,ye)},se.fitWidth=function(ge,ye){return(0,i.Qx)(se,ge,ye)},se.fitHeight=function(ge,ye){return(0,i.OW)(se,ge,ye)},function(){return g=v.apply(this,arguments),se.invert=g.invert&&ue,he()}}},47984:function(U,C,e){e.d(C,{c:function(){return _},g:function(){return o}});var T=e(87952),k=e(64528);function o(b,f){var s=f*f,t=s*s;return[b*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),f*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function _(){return(0,T.c)(o).scale(175.295)}o.invert=function(b,f){var s,t=f,i=25;do{var r=t*t,n=r*r;t-=s=(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))-f)/(1.007226+r*(.045255+n*(.259866*r-.311325-.06507600000000001*n)))}while((0,k.a2)(s)>k.Gg&&--i>0);return[b/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},4888:function(U,C,e){e.d(C,{c:function(){return b},t:function(){return _}});var T=e(64528),k=e(62280),o=e(87952);function _(f,s){return[(0,T.W8)(s)*(0,T.g$)(f),(0,T.g$)(s)]}function b(){return(0,o.c)(_).scale(249.5).clipAngle(90+T.Gg)}_.invert=(0,k.g)(T.qR)},92992:function(U,C,e){e.d(C,{O:function(){return _},c:function(){return t}});var T=e(68120),k=e(64528);function o(i,r){return[(0,k.a2)(i)>k.pi?i+Math.round(-i/k.kD)*k.kD:i,r]}function _(i,r,n){return(i%=k.kD)?r||n?(0,T.c)(f(i),s(r,n)):f(i):r||n?s(r,n):o}function b(i){return function(r,n){return[(r+=i)>k.pi?r-k.kD:r<-k.pi?r+k.kD:r,n]}}function f(i){var r=b(i);return r.invert=b(-i),r}function s(i,r){var n=(0,k.W8)(i),a=(0,k.g$)(i),l=(0,k.W8)(r),u=(0,k.g$)(r);function h(c,x){var p=(0,k.W8)(x),v=(0,k.W8)(c)*p,g=(0,k.g$)(c)*p,y=(0,k.g$)(x),m=y*n+v*a;return[(0,k.WE)(g*l-m*u,v*n-y*a),(0,k.qR)(m*l+g*u)]}return h.invert=function(c,x){var p=(0,k.W8)(x),v=(0,k.W8)(c)*p,g=(0,k.g$)(c)*p,y=(0,k.g$)(x),m=y*l-g*u;return[(0,k.WE)(g*l+y*u,v*n+m*a),(0,k.qR)(m*n-v*a)]},h}function t(i){function r(n){return(n=i(n[0]*k.qw,n[1]*k.qw))[0]*=k.oh,n[1]*=k.oh,n}return i=_(i[0]*k.qw,i[1]*k.qw,i.length>2?i[2]*k.qw:0),r.invert=function(n){return(n=i.invert(n[0]*k.qw,n[1]*k.qw))[0]*=k.oh,n[1]*=k.oh,n},r}o.invert=o},16016:function(U,C,e){function T(s,t){s&&o.hasOwnProperty(s.type)&&o[s.type](s,t)}e.d(C,{c:function(){return f}});var k={Feature:function(s,t){T(s.geometry,t)},FeatureCollection:function(s,t){for(var i=s.features,r=-1,n=i.length;++r<n;)T(i[r].geometry,t)}},o={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)s=i[r],t.point(s[0],s[1],s[2])},LineString:function(s,t){_(s.coordinates,t,0)},MultiLineString:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)_(i[r],t,0)},Polygon:function(s,t){b(s.coordinates,t)},MultiPolygon:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)b(i[r],t)},GeometryCollection:function(s,t){for(var i=s.geometries,r=-1,n=i.length;++r<n;)T(i[r],t)}};function _(s,t,i){var r,n=-1,a=s.length-i;for(t.lineStart();++n<a;)r=s[n],t.point(r[0],r[1],r[2]);t.lineEnd()}function b(s,t){var i=-1,r=s.length;for(t.polygonStart();++i<r;)_(s[i],t,1);t.polygonEnd()}function f(s,t){s&&k.hasOwnProperty(s.type)?k[s.type](s,t):T(s,t)}},15196:function(U,C,e){function T(_){return{stream:k(_)}}function k(_){return function(b){var f=new o;for(var s in _)f[s]=_[s];return f.stream=b,f}}function o(){}e.d(C,{c:function(){return T},s:function(){return k}}),o.prototype={constructor:o,point:function(_,b){this.stream.point(_,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(U,C,e){function T(oe,de){return oe.parent===de.parent?1:2}function k(oe,de){return oe+de.x}function o(oe,de){return Math.max(oe,de.y)}function _(){var oe=T,de=1,Ce=1,_e=!1;function Ae(Le){var ze,Re=0;Le.eachAfter(function(Pe){var Ue=Pe.children;Ue?(Pe.x=function(We){return We.reduce(k,0)/We.length}(Ue),Pe.y=function(We){return 1+We.reduce(o,0)}(Ue)):(Pe.x=ze?Re+=oe(Pe,ze):0,Pe.y=0,ze=Pe)});var ve=function(Pe){for(var Ue;Ue=Pe.children;)Pe=Ue[0];return Pe}(Le),ke=function(Pe){for(var Ue;Ue=Pe.children;)Pe=Ue[Ue.length-1];return Pe}(Le),Ee=ve.x-oe(ve,ke)/2,De=ke.x+oe(ke,ve)/2;return Le.eachAfter(_e?function(Pe){Pe.x=(Pe.x-Le.x)*de,Pe.y=(Le.y-Pe.y)*Ce}:function(Pe){Pe.x=(Pe.x-Ee)/(De-Ee)*de,Pe.y=(1-(Le.y?Pe.y/Le.y:1))*Ce})}return Ae.separation=function(Le){return arguments.length?(oe=Le,Ae):oe},Ae.size=function(Le){return arguments.length?(_e=!1,de=+Le[0],Ce=+Le[1],Ae):_e?null:[de,Ce]},Ae.nodeSize=function(Le){return arguments.length?(_e=!0,de=+Le[0],Ce=+Le[1],Ae):_e?[de,Ce]:null},Ae}function b(oe){var de=0,Ce=oe.children,_e=Ce&&Ce.length;if(_e)for(;--_e>=0;)de+=Ce[_e].value;else de=1;oe.value=de}function f(oe,de){var Ce,_e,Ae,Le,ze,Re=new r(oe),ve=+oe.value&&(Re.value=oe.value),ke=[Re];for(de==null&&(de=s);Ce=ke.pop();)if(ve&&(Ce.value=+Ce.data.value),(Ae=de(Ce.data))&&(ze=Ae.length))for(Ce.children=new Array(ze),Le=ze-1;Le>=0;--Le)ke.push(_e=Ce.children[Le]=new r(Ae[Le])),_e.parent=Ce,_e.depth=Ce.depth+1;return Re.eachBefore(i)}function s(oe){return oe.children}function t(oe){oe.data=oe.data.data}function i(oe){var de=0;do oe.height=de;while((oe=oe.parent)&&oe.height<++de)}function r(oe){this.data=oe,this.depth=this.height=0,this.parent=null}e.r(C),e.d(C,{cluster:function(){return _},hierarchy:function(){return f},pack:function(){return I},packEnclose:function(){return a},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return ne},tree:function(){return pe},treemap:function(){return Se},treemapBinary:function(){return Fe},treemapDice:function(){return X},treemapResquarify:function(){return le},treemapSlice:function(){return ge},treemapSliceDice:function(){return xe},treemapSquarify:function(){return Te}}),r.prototype=f.prototype={constructor:r,count:function(){return this.eachAfter(b)},each:function(oe){var de,Ce,_e,Ae,Le=this,ze=[Le];do for(de=ze.reverse(),ze=[];Le=de.pop();)if(oe(Le),Ce=Le.children)for(_e=0,Ae=Ce.length;_e<Ae;++_e)ze.push(Ce[_e]);while(ze.length);return this},eachAfter:function(oe){for(var de,Ce,_e,Ae=this,Le=[Ae],ze=[];Ae=Le.pop();)if(ze.push(Ae),de=Ae.children)for(Ce=0,_e=de.length;Ce<_e;++Ce)Le.push(de[Ce]);for(;Ae=ze.pop();)oe(Ae);return this},eachBefore:function(oe){for(var de,Ce,_e=this,Ae=[_e];_e=Ae.pop();)if(oe(_e),de=_e.children)for(Ce=de.length-1;Ce>=0;--Ce)Ae.push(de[Ce]);return this},sum:function(oe){return this.eachAfter(function(de){for(var Ce=+oe(de.data)||0,_e=de.children,Ae=_e&&_e.length;--Ae>=0;)Ce+=_e[Ae].value;de.value=Ce})},sort:function(oe){return this.eachBefore(function(de){de.children&&de.children.sort(oe)})},path:function(oe){for(var de=this,Ce=function(Le,ze){if(Le===ze)return Le;var Re=Le.ancestors(),ve=ze.ancestors(),ke=null;for(Le=Re.pop(),ze=ve.pop();Le===ze;)ke=Le,Le=Re.pop(),ze=ve.pop();return ke}(de,oe),_e=[de];de!==Ce;)de=de.parent,_e.push(de);for(var Ae=_e.length;oe!==Ce;)_e.splice(Ae,0,oe),oe=oe.parent;return _e},ancestors:function(){for(var oe=this,de=[oe];oe=oe.parent;)de.push(oe);return de},descendants:function(){var oe=[];return this.each(function(de){oe.push(de)}),oe},leaves:function(){var oe=[];return this.eachBefore(function(de){de.children||oe.push(de)}),oe},links:function(){var oe=this,de=[];return oe.each(function(Ce){Ce!==oe&&de.push({source:Ce.parent,target:Ce})}),de},copy:function(){return f(this).eachBefore(t)}};var n=Array.prototype.slice;function a(oe){for(var de,Ce,_e=0,Ae=(oe=function(ze){for(var Re,ve,ke=ze.length;ke;)ve=Math.random()*ke--|0,Re=ze[ke],ze[ke]=ze[ve],ze[ve]=Re;return ze}(n.call(oe))).length,Le=[];_e<Ae;)de=oe[_e],Ce&&h(Ce,de)?++_e:(Ce=x(Le=l(Le,de)),_e=0);return Ce}function l(oe,de){var Ce,_e;if(c(de,oe))return[de];for(Ce=0;Ce<oe.length;++Ce)if(u(de,oe[Ce])&&c(p(oe[Ce],de),oe))return[oe[Ce],de];for(Ce=0;Ce<oe.length-1;++Ce)for(_e=Ce+1;_e<oe.length;++_e)if(u(p(oe[Ce],oe[_e]),de)&&u(p(oe[Ce],de),oe[_e])&&u(p(oe[_e],de),oe[Ce])&&c(v(oe[Ce],oe[_e],de),oe))return[oe[Ce],oe[_e],de];throw new Error}function u(oe,de){var Ce=oe.r-de.r,_e=de.x-oe.x,Ae=de.y-oe.y;return Ce<0||Ce*Ce<_e*_e+Ae*Ae}function h(oe,de){var Ce=oe.r-de.r+1e-6,_e=de.x-oe.x,Ae=de.y-oe.y;return Ce>0&&Ce*Ce>_e*_e+Ae*Ae}function c(oe,de){for(var Ce=0;Ce<de.length;++Ce)if(!h(oe,de[Ce]))return!1;return!0}function x(oe){switch(oe.length){case 1:return{x:(de=oe[0]).x,y:de.y,r:de.r};case 2:return p(oe[0],oe[1]);case 3:return v(oe[0],oe[1],oe[2])}var de}function p(oe,de){var Ce=oe.x,_e=oe.y,Ae=oe.r,Le=de.x,ze=de.y,Re=de.r,ve=Le-Ce,ke=ze-_e,Ee=Re-Ae,De=Math.sqrt(ve*ve+ke*ke);return{x:(Ce+Le+ve/De*Ee)/2,y:(_e+ze+ke/De*Ee)/2,r:(De+Ae+Re)/2}}function v(oe,de,Ce){var _e=oe.x,Ae=oe.y,Le=oe.r,ze=de.x,Re=de.y,ve=de.r,ke=Ce.x,Ee=Ce.y,De=Ce.r,Pe=_e-ze,Ue=_e-ke,We=Ae-Re,$e=Ae-Ee,ot=ve-Le,st=De-Le,mt=_e*_e+Ae*Ae-Le*Le,_t=mt-ze*ze-Re*Re+ve*ve,yt=mt-ke*ke-Ee*Ee+De*De,it=Ue*We-Pe*$e,tt=(We*yt-$e*_t)/(2*it)-_e,Pt=($e*ot-We*st)/it,Rt=(Ue*_t-Pe*yt)/(2*it)-Ae,Ft=(Pe*st-Ue*ot)/it,Ot=Pt*Pt+Ft*Ft-1,Xe=2*(Le+tt*Pt+Rt*Ft),Je=tt*tt+Rt*Rt-Le*Le,Ve=-(Ot?(Xe+Math.sqrt(Xe*Xe-4*Ot*Je))/(2*Ot):Je/Xe);return{x:_e+tt+Pt*Ve,y:Ae+Rt+Ft*Ve,r:Ve}}function g(oe,de,Ce){var _e,Ae,Le,ze,Re=oe.x-de.x,ve=oe.y-de.y,ke=Re*Re+ve*ve;ke?(Ae=de.r+Ce.r,Ae*=Ae,ze=oe.r+Ce.r,Ae>(ze*=ze)?(_e=(ke+ze-Ae)/(2*ke),Le=Math.sqrt(Math.max(0,ze/ke-_e*_e)),Ce.x=oe.x-_e*Re-Le*ve,Ce.y=oe.y-_e*ve+Le*Re):(_e=(ke+Ae-ze)/(2*ke),Le=Math.sqrt(Math.max(0,Ae/ke-_e*_e)),Ce.x=de.x+_e*Re-Le*ve,Ce.y=de.y+_e*ve+Le*Re)):(Ce.x=de.x+Ce.r,Ce.y=de.y)}function y(oe,de){var Ce=oe.r+de.r-1e-6,_e=de.x-oe.x,Ae=de.y-oe.y;return Ce>0&&Ce*Ce>_e*_e+Ae*Ae}function m(oe){var de=oe._,Ce=oe.next._,_e=de.r+Ce.r,Ae=(de.x*Ce.r+Ce.x*de.r)/_e,Le=(de.y*Ce.r+Ce.y*de.r)/_e;return Ae*Ae+Le*Le}function w(oe){this._=oe,this.next=null,this.previous=null}function d(oe){if(!(Ae=oe.length))return 0;var de,Ce,_e,Ae,Le,ze,Re,ve,ke,Ee,De;if((de=oe[0]).x=0,de.y=0,!(Ae>1))return de.r;if(Ce=oe[1],de.x=-Ce.r,Ce.x=de.r,Ce.y=0,!(Ae>2))return de.r+Ce.r;g(Ce,de,_e=oe[2]),de=new w(de),Ce=new w(Ce),_e=new w(_e),de.next=_e.previous=Ce,Ce.next=de.previous=_e,_e.next=Ce.previous=de;e:for(Re=3;Re<Ae;++Re){g(de._,Ce._,_e=oe[Re]),_e=new w(_e),ve=Ce.next,ke=de.previous,Ee=Ce._.r,De=de._.r;do if(Ee<=De){if(y(ve._,_e._)){Ce=ve,de.next=Ce,Ce.previous=de,--Re;continue e}Ee+=ve._.r,ve=ve.next}else{if(y(ke._,_e._)){(de=ke).next=Ce,Ce.previous=de,--Re;continue e}De+=ke._.r,ke=ke.previous}while(ve!==ke.next);for(_e.previous=de,_e.next=Ce,de.next=Ce.previous=Ce=_e,Le=m(de);(_e=_e.next)!==Ce;)(ze=m(_e))<Le&&(de=_e,Le=ze);Ce=de.next}for(de=[Ce._],_e=Ce;(_e=_e.next)!==Ce;)de.push(_e._);for(_e=a(de),Re=0;Re<Ae;++Re)(de=oe[Re]).x-=_e.x,de.y-=_e.y;return _e.r}function S(oe){return d(oe),oe}function A(oe){if(typeof oe!="function")throw new Error;return oe}function E(){return 0}function P(oe){return function(){return oe}}function O(oe){return Math.sqrt(oe.value)}function I(){var oe=null,de=1,Ce=1,_e=E;function Ae(Le){return Le.x=de/2,Le.y=Ce/2,oe?Le.eachBefore(D(oe)).eachAfter(V(_e,.5)).eachBefore(z(1)):Le.eachBefore(D(O)).eachAfter(V(E,1)).eachAfter(V(_e,Le.r/Math.min(de,Ce))).eachBefore(z(Math.min(de,Ce)/(2*Le.r))),Le}return Ae.radius=function(Le){return arguments.length?(oe=(ze=Le)==null?null:A(ze),Ae):oe;var ze},Ae.size=function(Le){return arguments.length?(de=+Le[0],Ce=+Le[1],Ae):[de,Ce]},Ae.padding=function(Le){return arguments.length?(_e=typeof Le=="function"?Le:P(+Le),Ae):_e},Ae}function D(oe){return function(de){de.children||(de.r=Math.max(0,+oe(de)||0))}}function V(oe,de){return function(Ce){if(_e=Ce.children){var _e,Ae,Le,ze=_e.length,Re=oe(Ce)*de||0;if(Re)for(Ae=0;Ae<ze;++Ae)_e[Ae].r+=Re;if(Le=d(_e),Re)for(Ae=0;Ae<ze;++Ae)_e[Ae].r-=Re;Ce.r=Le+Re}}}function z(oe){return function(de){var Ce=de.parent;de.r*=oe,Ce&&(de.x=Ce.x+oe*de.x,de.y=Ce.y+oe*de.y)}}function j(oe){oe.x0=Math.round(oe.x0),oe.y0=Math.round(oe.y0),oe.x1=Math.round(oe.x1),oe.y1=Math.round(oe.y1)}function X(oe,de,Ce,_e,Ae){for(var Le,ze=oe.children,Re=-1,ve=ze.length,ke=oe.value&&(_e-de)/oe.value;++Re<ve;)(Le=ze[Re]).y0=Ce,Le.y1=Ae,Le.x0=de,Le.x1=de+=Le.value*ke}function F(){var oe=1,de=1,Ce=0,_e=!1;function Ae(Le){var ze=Le.height+1;return Le.x0=Le.y0=Ce,Le.x1=oe,Le.y1=de/ze,Le.eachBefore(function(Re,ve){return function(ke){ke.children&&X(ke,ke.x0,Re*(ke.depth+1)/ve,ke.x1,Re*(ke.depth+2)/ve);var Ee=ke.x0,De=ke.y0,Pe=ke.x1-Ce,Ue=ke.y1-Ce;Pe<Ee&&(Ee=Pe=(Ee+Pe)/2),Ue<De&&(De=Ue=(De+Ue)/2),ke.x0=Ee,ke.y0=De,ke.x1=Pe,ke.y1=Ue}}(de,ze)),_e&&Le.eachBefore(j),Le}return Ae.round=function(Le){return arguments.length?(_e=!!Le,Ae):_e},Ae.size=function(Le){return arguments.length?(oe=+Le[0],de=+Le[1],Ae):[oe,de]},Ae.padding=function(Le){return arguments.length?(Ce=+Le,Ae):Ce},Ae}var H="$",W={depth:-1},ie={};function te(oe){return oe.id}function Q(oe){return oe.parentId}function ne(){var oe=te,de=Q;function Ce(_e){var Ae,Le,ze,Re,ve,ke,Ee,De=_e.length,Pe=new Array(De),Ue={};for(Le=0;Le<De;++Le)Ae=_e[Le],ve=Pe[Le]=new r(Ae),(ke=oe(Ae,Le,_e))!=null&&(ke+="")&&(Ue[Ee=H+(ve.id=ke)]=Ee in Ue?ie:ve);for(Le=0;Le<De;++Le)if(ve=Pe[Le],(ke=de(_e[Le],Le,_e))!=null&&(ke+="")){if(!(Re=Ue[H+ke]))throw new Error("missing: "+ke);if(Re===ie)throw new Error("ambiguous: "+ke);Re.children?Re.children.push(ve):Re.children=[ve],ve.parent=Re}else{if(ze)throw new Error("multiple roots");ze=ve}if(!ze)throw new Error("no root");if(ze.parent=W,ze.eachBefore(function(We){We.depth=We.parent.depth+1,--De}).eachBefore(i),ze.parent=null,De>0)throw new Error("cycle");return ze}return Ce.id=function(_e){return arguments.length?(oe=A(_e),Ce):oe},Ce.parentId=function(_e){return arguments.length?(de=A(_e),Ce):de},Ce}function $(oe,de){return oe.parent===de.parent?1:2}function J(oe){var de=oe.children;return de?de[0]:oe.t}function re(oe){var de=oe.children;return de?de[de.length-1]:oe.t}function se(oe,de,Ce){var _e=Ce/(de.i-oe.i);de.c-=_e,de.s+=Ce,oe.c+=_e,de.z+=Ce,de.m+=Ce}function ue(oe,de,Ce){return oe.a.parent===de.parent?oe.a:Ce}function he(oe,de){this._=oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=de}function pe(){var oe=$,de=1,Ce=1,_e=null;function Ae(ve){var ke=function(st){for(var mt,_t,yt,it,tt,Pt=new he(st,0),Rt=[Pt];mt=Rt.pop();)if(yt=mt._.children)for(mt.children=new Array(tt=yt.length),it=tt-1;it>=0;--it)Rt.push(_t=mt.children[it]=new he(yt[it],it)),_t.parent=mt;return(Pt.parent=new he(null,0)).children=[Pt],Pt}(ve);if(ke.eachAfter(Le),ke.parent.m=-ke.z,ke.eachBefore(ze),_e)ve.eachBefore(Re);else{var Ee=ve,De=ve,Pe=ve;ve.eachBefore(function(st){st.x<Ee.x&&(Ee=st),st.x>De.x&&(De=st),st.depth>Pe.depth&&(Pe=st)});var Ue=Ee===De?1:oe(Ee,De)/2,We=Ue-Ee.x,$e=de/(De.x+Ue+We),ot=Ce/(Pe.depth||1);ve.eachBefore(function(st){st.x=(st.x+We)*$e,st.y=st.depth*ot})}return ve}function Le(ve){var ke=ve.children,Ee=ve.parent.children,De=ve.i?Ee[ve.i-1]:null;if(ke){(function(Ue){for(var We,$e=0,ot=0,st=Ue.children,mt=st.length;--mt>=0;)(We=st[mt]).z+=$e,We.m+=$e,$e+=We.s+(ot+=We.c)})(ve);var Pe=(ke[0].z+ke[ke.length-1].z)/2;De?(ve.z=De.z+oe(ve._,De._),ve.m=ve.z-Pe):ve.z=Pe}else De&&(ve.z=De.z+oe(ve._,De._));ve.parent.A=function(Ue,We,$e){if(We){for(var ot,st=Ue,mt=Ue,_t=We,yt=st.parent.children[0],it=st.m,tt=mt.m,Pt=_t.m,Rt=yt.m;_t=re(_t),st=J(st),_t&&st;)yt=J(yt),(mt=re(mt)).a=Ue,(ot=_t.z+Pt-st.z-it+oe(_t._,st._))>0&&(se(ue(_t,Ue,$e),Ue,ot),it+=ot,tt+=ot),Pt+=_t.m,it+=st.m,Rt+=yt.m,tt+=mt.m;_t&&!re(mt)&&(mt.t=_t,mt.m+=Pt-tt),st&&!J(yt)&&(yt.t=st,yt.m+=it-Rt,$e=Ue)}return $e}(ve,De,ve.parent.A||Ee[0])}function ze(ve){ve._.x=ve.z+ve.parent.m,ve.m+=ve.parent.m}function Re(ve){ve.x*=de,ve.y=ve.depth*Ce}return Ae.separation=function(ve){return arguments.length?(oe=ve,Ae):oe},Ae.size=function(ve){return arguments.length?(_e=!1,de=+ve[0],Ce=+ve[1],Ae):_e?null:[de,Ce]},Ae.nodeSize=function(ve){return arguments.length?(_e=!0,de=+ve[0],Ce=+ve[1],Ae):_e?[de,Ce]:null},Ae}function ge(oe,de,Ce,_e,Ae){for(var Le,ze=oe.children,Re=-1,ve=ze.length,ke=oe.value&&(Ae-Ce)/oe.value;++Re<ve;)(Le=ze[Re]).x0=de,Le.x1=_e,Le.y0=Ce,Le.y1=Ce+=Le.value*ke}he.prototype=Object.create(r.prototype);var ye=(1+Math.sqrt(5))/2;function be(oe,de,Ce,_e,Ae,Le){for(var ze,Re,ve,ke,Ee,De,Pe,Ue,We,$e,ot,st=[],mt=de.children,_t=0,yt=0,it=mt.length,tt=de.value;_t<it;){ve=Ae-Ce,ke=Le-_e;do Ee=mt[yt++].value;while(!Ee&&yt<it);for(De=Pe=Ee,ot=Ee*Ee*($e=Math.max(ke/ve,ve/ke)/(tt*oe)),We=Math.max(Pe/ot,ot/De);yt<it;++yt){if(Ee+=Re=mt[yt].value,Re<De&&(De=Re),Re>Pe&&(Pe=Re),ot=Ee*Ee*$e,(Ue=Math.max(Pe/ot,ot/De))>We){Ee-=Re;break}We=Ue}st.push(ze={value:Ee,dice:ve<ke,children:mt.slice(_t,yt)}),ze.dice?X(ze,Ce,_e,Ae,tt?_e+=ke*Ee/tt:Le):ge(ze,Ce,_e,tt?Ce+=ve*Ee/tt:Ae,Le),tt-=Ee,_t=yt}return st}var Te=function oe(de){function Ce(_e,Ae,Le,ze,Re){be(de,_e,Ae,Le,ze,Re)}return Ce.ratio=function(_e){return oe((_e=+_e)>1?_e:1)},Ce}(ye);function Se(){var oe=Te,de=!1,Ce=1,_e=1,Ae=[0],Le=E,ze=E,Re=E,ve=E,ke=E;function Ee(Pe){return Pe.x0=Pe.y0=0,Pe.x1=Ce,Pe.y1=_e,Pe.eachBefore(De),Ae=[0],de&&Pe.eachBefore(j),Pe}function De(Pe){var Ue=Ae[Pe.depth],We=Pe.x0+Ue,$e=Pe.y0+Ue,ot=Pe.x1-Ue,st=Pe.y1-Ue;ot<We&&(We=ot=(We+ot)/2),st<$e&&($e=st=($e+st)/2),Pe.x0=We,Pe.y0=$e,Pe.x1=ot,Pe.y1=st,Pe.children&&(Ue=Ae[Pe.depth+1]=Le(Pe)/2,We+=ke(Pe)-Ue,$e+=ze(Pe)-Ue,(ot-=Re(Pe)-Ue)<We&&(We=ot=(We+ot)/2),(st-=ve(Pe)-Ue)<$e&&($e=st=($e+st)/2),oe(Pe,We,$e,ot,st))}return Ee.round=function(Pe){return arguments.length?(de=!!Pe,Ee):de},Ee.size=function(Pe){return arguments.length?(Ce=+Pe[0],_e=+Pe[1],Ee):[Ce,_e]},Ee.tile=function(Pe){return arguments.length?(oe=A(Pe),Ee):oe},Ee.padding=function(Pe){return arguments.length?Ee.paddingInner(Pe).paddingOuter(Pe):Ee.paddingInner()},Ee.paddingInner=function(Pe){return arguments.length?(Le=typeof Pe=="function"?Pe:P(+Pe),Ee):Le},Ee.paddingOuter=function(Pe){return arguments.length?Ee.paddingTop(Pe).paddingRight(Pe).paddingBottom(Pe).paddingLeft(Pe):Ee.paddingTop()},Ee.paddingTop=function(Pe){return arguments.length?(ze=typeof Pe=="function"?Pe:P(+Pe),Ee):ze},Ee.paddingRight=function(Pe){return arguments.length?(Re=typeof Pe=="function"?Pe:P(+Pe),Ee):Re},Ee.paddingBottom=function(Pe){return arguments.length?(ve=typeof Pe=="function"?Pe:P(+Pe),Ee):ve},Ee.paddingLeft=function(Pe){return arguments.length?(ke=typeof Pe=="function"?Pe:P(+Pe),Ee):ke},Ee}function Fe(oe,de,Ce,_e,Ae){var Le,ze,Re=oe.children,ve=Re.length,ke=new Array(ve+1);for(ke[0]=ze=Le=0;Le<ve;++Le)ke[Le+1]=ze+=Re[Le].value;(function Ee(De,Pe,Ue,We,$e,ot,st){if(De>=Pe-1){var mt=Re[De];return mt.x0=We,mt.y0=$e,mt.x1=ot,void(mt.y1=st)}for(var _t=ke[De],yt=Ue/2+_t,it=De+1,tt=Pe-1;it<tt;){var Pt=it+tt>>>1;ke[Pt]<yt?it=Pt+1:tt=Pt}yt-ke[it-1]<ke[it]-yt&&De+1<it&&--it;var Rt=ke[it]-_t,Ft=Ue-Rt;if(ot-We>st-$e){var Ot=(We*Ft+ot*Rt)/Ue;Ee(De,it,Rt,We,$e,Ot,st),Ee(it,Pe,Ft,Ot,$e,ot,st)}else{var Xe=($e*Ft+st*Rt)/Ue;Ee(De,it,Rt,We,$e,ot,Xe),Ee(it,Pe,Ft,We,Xe,ot,st)}})(0,ve,oe.value,de,Ce,_e,Ae)}function xe(oe,de,Ce,_e,Ae){(1&oe.depth?ge:X)(oe,de,Ce,_e,Ae)}var le=function oe(de){function Ce(_e,Ae,Le,ze,Re){if((ve=_e._squarify)&&ve.ratio===de)for(var ve,ke,Ee,De,Pe,Ue=-1,We=ve.length,$e=_e.value;++Ue<We;){for(Ee=(ke=ve[Ue]).children,De=ke.value=0,Pe=Ee.length;De<Pe;++De)ke.value+=Ee[De].value;ke.dice?X(ke,Ae,Le,ze,Le+=(Re-Le)*ke.value/$e):ge(ke,Ae,Le,Ae+=(ze-Ae)*ke.value/$e,Re),$e-=ke.value}else _e._squarify=ve=be(de,_e,Ae,Le,ze,Re),ve.ratio=de}return Ce.ratio=function(_e){return oe((_e=+_e)>1?_e:1)},Ce}(ye)},10132:function(U,C,e){e.d(C,{ak:function(){return h}});var T=Math.PI,k=2*T,o=1e-6,_=k-o;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function f(){return new b}b.prototype=f.prototype={constructor:b,moveTo:function(c,x){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,x){this._+="L"+(this._x1=+c)+","+(this._y1=+x)},quadraticCurveTo:function(c,x,p,v){this._+="Q"+ +c+","+ +x+","+(this._x1=+p)+","+(this._y1=+v)},bezierCurveTo:function(c,x,p,v,g,y){this._+="C"+ +c+","+ +x+","+ +p+","+ +v+","+(this._x1=+g)+","+(this._y1=+y)},arcTo:function(c,x,p,v,g){c=+c,x=+x,p=+p,v=+v,g=+g;var y=this._x1,m=this._y1,w=p-c,d=v-x,S=y-c,A=m-x,E=S*S+A*A;if(g<0)throw new Error("negative radius: "+g);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=x);else if(E>o)if(Math.abs(A*w-d*S)>o&&g){var P=p-y,O=v-m,I=w*w+d*d,D=P*P+O*O,V=Math.sqrt(I),z=Math.sqrt(E),j=g*Math.tan((T-Math.acos((I+E-D)/(2*V*z)))/2),X=j/z,F=j/V;Math.abs(X-1)>o&&(this._+="L"+(c+X*S)+","+(x+X*A)),this._+="A"+g+","+g+",0,0,"+ +(A*P>S*O)+","+(this._x1=c+F*w)+","+(this._y1=x+F*d)}else this._+="L"+(this._x1=c)+","+(this._y1=x)},arc:function(c,x,p,v,g,y){c=+c,x=+x,y=!!y;var m=(p=+p)*Math.cos(v),w=p*Math.sin(v),d=c+m,S=x+w,A=1^y,E=y?v-g:g-v;if(p<0)throw new Error("negative radius: "+p);this._x1===null?this._+="M"+d+","+S:(Math.abs(this._x1-d)>o||Math.abs(this._y1-S)>o)&&(this._+="L"+d+","+S),p&&(E<0&&(E=E%k+k),E>_?this._+="A"+p+","+p+",0,1,"+A+","+(c-m)+","+(x-w)+"A"+p+","+p+",0,1,"+A+","+(this._x1=d)+","+(this._y1=S):E>o&&(this._+="A"+p+","+p+",0,"+ +(E>=T)+","+A+","+(this._x1=c+p*Math.cos(g))+","+(this._y1=x+p*Math.sin(g))))},rect:function(c,x,p,v){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)+"h"+ +p+"v"+ +v+"h"+-p+"Z"},toString:function(){return this._}};var s=f,t=Array.prototype.slice;function i(c){return function(){return c}}function r(c){return c[0]}function n(c){return c[1]}function a(c){return c.source}function l(c){return c.target}function u(c,x,p,v,g){c.moveTo(x,p),c.bezierCurveTo(x=(x+v)/2,p,x,g,v,g)}function h(){return function(c){var x=a,p=l,v=r,g=n,y=null;function m(){var w,d=t.call(arguments),S=x.apply(this,d),A=p.apply(this,d);if(y||(y=w=s()),c(y,+v.apply(this,(d[0]=S,d)),+g.apply(this,d),+v.apply(this,(d[0]=A,d)),+g.apply(this,d)),w)return y=null,w+""||null}return m.source=function(w){return arguments.length?(x=w,m):x},m.target=function(w){return arguments.length?(p=w,m):p},m.x=function(w){return arguments.length?(v=typeof w=="function"?w:i(+w),m):v},m.y=function(w){return arguments.length?(g=typeof w=="function"?w:i(+w),m):g},m.context=function(w){return arguments.length?(y=w??null,m):y},m}(u)}},94336:function(U,C,e){e.d(C,{Yn:function(){return a},m_:function(){return r},E9:function(){return l}});var T=e(8208),k=e(58931),o=e(46192),_=e(68936),b=e(32171),f=e(53528);function s(it){if(0<=it.y&&it.y<100){var tt=new Date(-1,it.m,it.d,it.H,it.M,it.S,it.L);return tt.setFullYear(it.y),tt}return new Date(it.y,it.m,it.d,it.H,it.M,it.S,it.L)}function t(it){if(0<=it.y&&it.y<100){var tt=new Date(Date.UTC(-1,it.m,it.d,it.H,it.M,it.S,it.L));return tt.setUTCFullYear(it.y),tt}return new Date(Date.UTC(it.y,it.m,it.d,it.H,it.M,it.S,it.L))}function i(it,tt,Pt){return{y:it,m:tt,d:Pt,H:0,M:0,S:0,L:0}}function r(it){var tt=it.dateTime,Pt=it.date,Rt=it.time,Ft=it.periods,Ot=it.days,Xe=it.shortDays,Je=it.months,Ve=it.shortMonths,Ke=g(Ft),ft=y(Ft),ut=g(Ot),xt=y(Ot),bt=g(Xe),qe=y(Xe),je=g(Je),lt=y(Je),gt=g(Ve),dt=y(Ve),at={a:function(Nt){return Xe[Nt.getDay()]},A:function(Nt){return Ot[Nt.getDay()]},b:function(Nt){return Ve[Nt.getMonth()]},B:function(Nt){return Je[Nt.getMonth()]},c:null,d:ne,e:ne,f:ue,H:$,I:J,j:re,L:se,m:he,M:pe,p:function(Nt){return Ft[+(Nt.getHours()>=12)]},q:function(Nt){return 1+~~(Nt.getMonth()/3)},Q:_t,s:yt,S:ge,u:ye,U:be,V:Te,w:Se,W:Fe,x:null,X:null,y:xe,Y:le,Z:oe,"%":mt},kt={a:function(Nt){return Xe[Nt.getUTCDay()]},A:function(Nt){return Ot[Nt.getUTCDay()]},b:function(Nt){return Ve[Nt.getUTCMonth()]},B:function(Nt){return Je[Nt.getUTCMonth()]},c:null,d:de,e:de,f:ze,H:Ce,I:_e,j:Ae,L:Le,m:Re,M:ve,p:function(Nt){return Ft[+(Nt.getUTCHours()>=12)]},q:function(Nt){return 1+~~(Nt.getUTCMonth()/3)},Q:_t,s:yt,S:ke,u:Ee,U:De,V:Pe,w:Ue,W:We,x:null,X:null,y:$e,Y:ot,Z:st,"%":mt},wt={a:function(Nt,Wt,on){var cn=bt.exec(Wt.slice(on));return cn?(Nt.w=qe[cn[0].toLowerCase()],on+cn[0].length):-1},A:function(Nt,Wt,on){var cn=ut.exec(Wt.slice(on));return cn?(Nt.w=xt[cn[0].toLowerCase()],on+cn[0].length):-1},b:function(Nt,Wt,on){var cn=gt.exec(Wt.slice(on));return cn?(Nt.m=dt[cn[0].toLowerCase()],on+cn[0].length):-1},B:function(Nt,Wt,on){var cn=je.exec(Wt.slice(on));return cn?(Nt.m=lt[cn[0].toLowerCase()],on+cn[0].length):-1},c:function(Nt,Wt,on){return At(Nt,tt,Wt,on)},d:V,e:V,f:W,H:j,I:j,j:z,L:H,m:D,M:X,p:function(Nt,Wt,on){var cn=Ke.exec(Wt.slice(on));return cn?(Nt.p=ft[cn[0].toLowerCase()],on+cn[0].length):-1},q:I,Q:te,s:Q,S:F,u:w,U:d,V:S,w:m,W:A,x:function(Nt,Wt,on){return At(Nt,Pt,Wt,on)},X:function(Nt,Wt,on){return At(Nt,Rt,Wt,on)},y:P,Y:E,Z:O,"%":ie};function Et(Nt,Wt){return function(on){var cn,un,Xt,tn=[],kn=-1,fn=0,Qt=Nt.length;for(on instanceof Date||(on=new Date(+on));++kn<Qt;)Nt.charCodeAt(kn)===37&&(tn.push(Nt.slice(fn,kn)),(un=u[cn=Nt.charAt(++kn)])!=null?cn=Nt.charAt(++kn):un=cn==="e"?" ":"0",(Xt=Wt[cn])&&(cn=Xt(on,un)),tn.push(cn),fn=kn+1);return tn.push(Nt.slice(fn,kn)),tn.join("")}}function Tt(Nt,Wt){return function(on){var cn,un,Xt=i(1900,void 0,1);if(At(Xt,Nt,on+="",0)!=on.length)return null;if("Q"in Xt)return new Date(Xt.Q);if("s"in Xt)return new Date(1e3*Xt.s+("L"in Xt?Xt.L:0));if(Wt&&!("Z"in Xt)&&(Xt.Z=0),"p"in Xt&&(Xt.H=Xt.H%12+12*Xt.p),Xt.m===void 0&&(Xt.m="q"in Xt?Xt.q:0),"V"in Xt){if(Xt.V<1||Xt.V>53)return null;"w"in Xt||(Xt.w=1),"Z"in Xt?(un=(cn=t(i(Xt.y,0,1))).getUTCDay(),cn=un>4||un===0?T.ot.ceil(cn):(0,T.ot)(cn),cn=k.c.offset(cn,7*(Xt.V-1)),Xt.y=cn.getUTCFullYear(),Xt.m=cn.getUTCMonth(),Xt.d=cn.getUTCDate()+(Xt.w+6)%7):(un=(cn=s(i(Xt.y,0,1))).getDay(),cn=un>4||un===0?o.qT.ceil(cn):(0,o.qT)(cn),cn=_.c.offset(cn,7*(Xt.V-1)),Xt.y=cn.getFullYear(),Xt.m=cn.getMonth(),Xt.d=cn.getDate()+(Xt.w+6)%7)}else("W"in Xt||"U"in Xt)&&("w"in Xt||(Xt.w="u"in Xt?Xt.u%7:"W"in Xt?1:0),un="Z"in Xt?t(i(Xt.y,0,1)).getUTCDay():s(i(Xt.y,0,1)).getDay(),Xt.m=0,Xt.d="W"in Xt?(Xt.w+6)%7+7*Xt.W-(un+5)%7:Xt.w+7*Xt.U-(un+6)%7);return"Z"in Xt?(Xt.H+=Xt.Z/100|0,Xt.M+=Xt.Z%100,t(Xt)):s(Xt)}}function At(Nt,Wt,on,cn){for(var un,Xt,tn=0,kn=Wt.length,fn=on.length;tn<kn;){if(cn>=fn)return-1;if((un=Wt.charCodeAt(tn++))===37){if(un=Wt.charAt(tn++),!(Xt=wt[un in u?Wt.charAt(tn++):un])||(cn=Xt(Nt,on,cn))<0)return-1}else if(un!=on.charCodeAt(cn++))return-1}return cn}return at.x=Et(Pt,at),at.X=Et(Rt,at),at.c=Et(tt,at),kt.x=Et(Pt,kt),kt.X=Et(Rt,kt),kt.c=Et(tt,kt),{format:function(Nt){var Wt=Et(Nt+="",at);return Wt.toString=function(){return Nt},Wt},parse:function(Nt){var Wt=Tt(Nt+="",!1);return Wt.toString=function(){return Nt},Wt},utcFormat:function(Nt){var Wt=Et(Nt+="",kt);return Wt.toString=function(){return Nt},Wt},utcParse:function(Nt){var Wt=Tt(Nt+="",!0);return Wt.toString=function(){return Nt},Wt}}}var n,a,l,u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,c=/^%/,x=/[\\^$*+?|[\]().{}]/g;function p(it,tt,Pt){var Rt=it<0?"-":"",Ft=(Rt?-it:it)+"",Ot=Ft.length;return Rt+(Ot<Pt?new Array(Pt-Ot+1).join(tt)+Ft:Ft)}function v(it){return it.replace(x,"\\$&")}function g(it){return new RegExp("^(?:"+it.map(v).join("|")+")","i")}function y(it){for(var tt={},Pt=-1,Rt=it.length;++Pt<Rt;)tt[it[Pt].toLowerCase()]=Pt;return tt}function m(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+1));return Rt?(it.w=+Rt[0],Pt+Rt[0].length):-1}function w(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+1));return Rt?(it.u=+Rt[0],Pt+Rt[0].length):-1}function d(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.U=+Rt[0],Pt+Rt[0].length):-1}function S(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.V=+Rt[0],Pt+Rt[0].length):-1}function A(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.W=+Rt[0],Pt+Rt[0].length):-1}function E(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+4));return Rt?(it.y=+Rt[0],Pt+Rt[0].length):-1}function P(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.y=+Rt[0]+(+Rt[0]>68?1900:2e3),Pt+Rt[0].length):-1}function O(it,tt,Pt){var Rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(tt.slice(Pt,Pt+6));return Rt?(it.Z=Rt[1]?0:-(Rt[2]+(Rt[3]||"00")),Pt+Rt[0].length):-1}function I(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+1));return Rt?(it.q=3*Rt[0]-3,Pt+Rt[0].length):-1}function D(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.m=Rt[0]-1,Pt+Rt[0].length):-1}function V(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.d=+Rt[0],Pt+Rt[0].length):-1}function z(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+3));return Rt?(it.m=0,it.d=+Rt[0],Pt+Rt[0].length):-1}function j(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.H=+Rt[0],Pt+Rt[0].length):-1}function X(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.M=+Rt[0],Pt+Rt[0].length):-1}function F(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+2));return Rt?(it.S=+Rt[0],Pt+Rt[0].length):-1}function H(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+3));return Rt?(it.L=+Rt[0],Pt+Rt[0].length):-1}function W(it,tt,Pt){var Rt=h.exec(tt.slice(Pt,Pt+6));return Rt?(it.L=Math.floor(Rt[0]/1e3),Pt+Rt[0].length):-1}function ie(it,tt,Pt){var Rt=c.exec(tt.slice(Pt,Pt+1));return Rt?Pt+Rt[0].length:-1}function te(it,tt,Pt){var Rt=h.exec(tt.slice(Pt));return Rt?(it.Q=+Rt[0],Pt+Rt[0].length):-1}function Q(it,tt,Pt){var Rt=h.exec(tt.slice(Pt));return Rt?(it.s=+Rt[0],Pt+Rt[0].length):-1}function ne(it,tt){return p(it.getDate(),tt,2)}function $(it,tt){return p(it.getHours(),tt,2)}function J(it,tt){return p(it.getHours()%12||12,tt,2)}function re(it,tt){return p(1+_.c.count((0,b.c)(it),it),tt,3)}function se(it,tt){return p(it.getMilliseconds(),tt,3)}function ue(it,tt){return se(it,tt)+"000"}function he(it,tt){return p(it.getMonth()+1,tt,2)}function pe(it,tt){return p(it.getMinutes(),tt,2)}function ge(it,tt){return p(it.getSeconds(),tt,2)}function ye(it){var tt=it.getDay();return tt===0?7:tt}function be(it,tt){return p(o.uU.count((0,b.c)(it)-1,it),tt,2)}function Te(it,tt){var Pt=it.getDay();return it=Pt>=4||Pt===0?(0,o.kD)(it):o.kD.ceil(it),p(o.kD.count((0,b.c)(it),it)+((0,b.c)(it).getDay()===4),tt,2)}function Se(it){return it.getDay()}function Fe(it,tt){return p(o.qT.count((0,b.c)(it)-1,it),tt,2)}function xe(it,tt){return p(it.getFullYear()%100,tt,2)}function le(it,tt){return p(it.getFullYear()%1e4,tt,4)}function oe(it){var tt=it.getTimezoneOffset();return(tt>0?"-":(tt*=-1,"+"))+p(tt/60|0,"0",2)+p(tt%60,"0",2)}function de(it,tt){return p(it.getUTCDate(),tt,2)}function Ce(it,tt){return p(it.getUTCHours(),tt,2)}function _e(it,tt){return p(it.getUTCHours()%12||12,tt,2)}function Ae(it,tt){return p(1+k.c.count((0,f.c)(it),it),tt,3)}function Le(it,tt){return p(it.getUTCMilliseconds(),tt,3)}function ze(it,tt){return Le(it,tt)+"000"}function Re(it,tt){return p(it.getUTCMonth()+1,tt,2)}function ve(it,tt){return p(it.getUTCMinutes(),tt,2)}function ke(it,tt){return p(it.getUTCSeconds(),tt,2)}function Ee(it){var tt=it.getUTCDay();return tt===0?7:tt}function De(it,tt){return p(T.EV.count((0,f.c)(it)-1,it),tt,2)}function Pe(it,tt){var Pt=it.getUTCDay();return it=Pt>=4||Pt===0?(0,T.yA)(it):T.yA.ceil(it),p(T.yA.count((0,f.c)(it),it)+((0,f.c)(it).getUTCDay()===4),tt,2)}function Ue(it){return it.getUTCDay()}function We(it,tt){return p(T.ot.count((0,f.c)(it)-1,it),tt,2)}function $e(it,tt){return p(it.getUTCFullYear()%100,tt,2)}function ot(it,tt){return p(it.getUTCFullYear()%1e4,tt,4)}function st(){return"+0000"}function mt(){return"%"}function _t(it){return+it}function yt(it){return Math.floor(+it/1e3)}n=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),a=n.format,n.parse,l=n.utcFormat,n.utcParse},68936:function(U,C,e){e.d(C,{m:function(){return _}});var T=e(81628),k=e(69792),o=(0,T.c)(function(b){b.setHours(0,0,0,0)},function(b,f){b.setDate(b.getDate()+f)},function(b,f){return(f-b-(f.getTimezoneOffset()-b.getTimezoneOffset())*k.iy)/k.SK},function(b){return b.getDate()-1});C.c=o;var _=o.range},69792:function(U,C,e){e.d(C,{KK:function(){return b},SK:function(){return _},cg:function(){return o},iy:function(){return k},yc:function(){return T}});var T=1e3,k=6e4,o=36e5,_=864e5,b=6048e5},73220:function(U,C,e){e.r(C),e.d(C,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return T.c},timeMillisecond:function(){return o},timeMilliseconds:function(){return _},timeMinute:function(){return r},timeMinutes:function(){return n},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return p},timeMonths:function(){return v},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return g.c},timeYears:function(){return g.Q},utcDay:function(){return E.c},utcDays:function(){return E.o},utcFriday:function(){return P.od},utcFridays:function(){return P.iG},utcHour:function(){return S},utcHours:function(){return A},utcMillisecond:function(){return o},utcMilliseconds:function(){return _},utcMinute:function(){return m},utcMinutes:function(){return w},utcMonday:function(){return P.ot},utcMondays:function(){return P.iO},utcMonth:function(){return I},utcMonths:function(){return D},utcSaturday:function(){return P.Ad},utcSaturdays:function(){return P.K8},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return P.EV},utcSundays:function(){return P.Wq},utcThursday:function(){return P.yA},utcThursdays:function(){return P.ob},utcTuesday:function(){return P.sG},utcTuesdays:function(){return P.kl},utcWednesday:function(){return P._6},utcWednesdays:function(){return P.W_},utcWeek:function(){return P.EV},utcWeeks:function(){return P.Wq},utcYear:function(){return V.c},utcYears:function(){return V.i}});var T=e(81628),k=(0,T.c)(function(){},function(z,j){z.setTime(+z+j)},function(z,j){return j-z});k.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,T.c)(function(j){j.setTime(Math.floor(j/z)*z)},function(j,X){j.setTime(+j+X*z)},function(j,X){return(X-j)/z}):k:null};var o=k,_=k.range,b=e(69792),f=(0,T.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,j){z.setTime(+z+j*b.yc)},function(z,j){return(j-z)/b.yc},function(z){return z.getUTCSeconds()}),s=f,t=f.range,i=(0,T.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc)},function(z,j){z.setTime(+z+j*b.iy)},function(z,j){return(j-z)/b.iy},function(z){return z.getMinutes()}),r=i,n=i.range,a=(0,T.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.yc-z.getMinutes()*b.iy)},function(z,j){z.setTime(+z+j*b.cg)},function(z,j){return(j-z)/b.cg},function(z){return z.getHours()}),l=a,u=a.range,h=e(68936),c=e(46192),x=(0,T.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,j){z.setMonth(z.getMonth()+j)},function(z,j){return j.getMonth()-z.getMonth()+12*(j.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),p=x,v=x.range,g=e(32171),y=(0,T.c)(function(z){z.setUTCSeconds(0,0)},function(z,j){z.setTime(+z+j*b.iy)},function(z,j){return(j-z)/b.iy},function(z){return z.getUTCMinutes()}),m=y,w=y.range,d=(0,T.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,j){z.setTime(+z+j*b.cg)},function(z,j){return(j-z)/b.cg},function(z){return z.getUTCHours()}),S=d,A=d.range,E=e(58931),P=e(8208),O=(0,T.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,j){z.setUTCMonth(z.getUTCMonth()+j)},function(z,j){return j.getUTCMonth()-z.getUTCMonth()+12*(j.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),I=O,D=O.range,V=e(53528)},81628:function(U,C,e){e.d(C,{c:function(){return o}});var T=new Date,k=new Date;function o(_,b,f,s){function t(i){return _(i=arguments.length===0?new Date:new Date(+i)),i}return t.floor=function(i){return _(i=new Date(+i)),i},t.ceil=function(i){return _(i=new Date(i-1)),b(i,1),_(i),i},t.round=function(i){var r=t(i),n=t.ceil(i);return i-r<n-i?r:n},t.offset=function(i,r){return b(i=new Date(+i),r==null?1:Math.floor(r)),i},t.range=function(i,r,n){var a,l=[];if(i=t.ceil(i),n=n==null?1:Math.floor(n),!(i<r&&n>0))return l;do l.push(a=new Date(+i)),b(i,n),_(i);while(a<i&&i<r);return l},t.filter=function(i){return o(function(r){if(r>=r)for(;_(r),!i(r);)r.setTime(r-1)},function(r,n){if(r>=r)if(n<0)for(;++n<=0;)for(;b(r,-1),!i(r););else for(;--n>=0;)for(;b(r,1),!i(r););})},f&&(t.count=function(i,r){return T.setTime(+i),k.setTime(+r),_(T),_(k),Math.floor(f(T,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(s?function(r){return s(r)%i==0}:function(r){return t.count(0,r)%i==0}):t:null}),t}},58931:function(U,C,e){e.d(C,{o:function(){return _}});var T=e(81628),k=e(69792),o=(0,T.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCDate(b.getUTCDate()+f)},function(b,f){return(f-b)/k.SK},function(b){return b.getUTCDate()-1});C.c=o;var _=o.range},8208:function(U,C,e){e.d(C,{Ad:function(){return r},EV:function(){return _},K8:function(){return x},W_:function(){return u},Wq:function(){return n},_6:function(){return s},iG:function(){return c},iO:function(){return a},kl:function(){return l},ob:function(){return h},od:function(){return i},ot:function(){return b},sG:function(){return f},yA:function(){return t}});var T=e(81628),k=e(69792);function o(p){return(0,T.c)(function(v){v.setUTCDate(v.getUTCDate()-(v.getUTCDay()+7-p)%7),v.setUTCHours(0,0,0,0)},function(v,g){v.setUTCDate(v.getUTCDate()+7*g)},function(v,g){return(g-v)/k.KK})}var _=o(0),b=o(1),f=o(2),s=o(3),t=o(4),i=o(5),r=o(6),n=_.range,a=b.range,l=f.range,u=s.range,h=t.range,c=i.range,x=r.range},53528:function(U,C,e){e.d(C,{i:function(){return o}});var T=e(81628),k=(0,T.c)(function(_){_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},function(_,b){_.setUTCFullYear(_.getUTCFullYear()+b)},function(_,b){return b.getUTCFullYear()-_.getUTCFullYear()},function(_){return _.getUTCFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,T.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/_)*_),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCFullYear(b.getUTCFullYear()+f*_)}):null},C.c=k;var o=k.range},46192:function(U,C,e){e.d(C,{Ab:function(){return n},Mf:function(){return f},Oc:function(){return l},QP:function(){return a},Wc:function(){return r},aI:function(){return x},eC:function(){return h},eg:function(){return s},iB:function(){return i},kD:function(){return t},qT:function(){return b},sJ:function(){return c},sn:function(){return u},uU:function(){return _}});var T=e(81628),k=e(69792);function o(p){return(0,T.c)(function(v){v.setDate(v.getDate()-(v.getDay()+7-p)%7),v.setHours(0,0,0,0)},function(v,g){v.setDate(v.getDate()+7*g)},function(v,g){return(g-v-(g.getTimezoneOffset()-v.getTimezoneOffset())*k.iy)/k.KK})}var _=o(0),b=o(1),f=o(2),s=o(3),t=o(4),i=o(5),r=o(6),n=_.range,a=b.range,l=f.range,u=s.range,h=t.range,c=i.range,x=r.range},32171:function(U,C,e){e.d(C,{Q:function(){return o}});var T=e(81628),k=(0,T.c)(function(_){_.setMonth(0,1),_.setHours(0,0,0,0)},function(_,b){_.setFullYear(_.getFullYear()+b)},function(_,b){return b.getFullYear()-_.getFullYear()},function(_){return _.getFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,T.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/_)*_),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,f){b.setFullYear(b.getFullYear()+f*_)}):null},C.c=k;var o=k.range},64348:function(U,C,e){var T=e(39640)(),k=e(53664),o=T&&k("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch{o=!1}var _=k("%SyntaxError%"),b=k("%TypeError%"),f=e(2304);U.exports=function(s,t,i){if(!s||typeof s!="object"&&typeof s!="function")throw new b("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!f&&f(s,t);if(o)o(s,t,{configurable:a===null&&u?u.configurable:!a,enumerable:r===null&&u?u.enumerable:!r,value:i,writable:n===null&&u?u.writable:!n});else{if(!l&&(r||n||a))throw new _("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[t]=i}}},81288:function(U,C,e){var T=e(41820),k=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o=Object.prototype.toString,_=Array.prototype.concat,b=Object.defineProperty,f=e(39640)(),s=b&&f,t=function(r,n,a,l){if(n in r){if(l===!0){if(r[n]===a)return}else if(typeof(u=l)!="function"||o.call(u)!=="[object Function]"||!l())return}var u;s?b(r,n,{configurable:!0,enumerable:!1,value:a,writable:!0}):r[n]=a},i=function(r,n){var a=arguments.length>2?arguments[2]:{},l=T(n);k&&(l=_.call(l,Object.getOwnPropertySymbols(n)));for(var u=0;u<l.length;u+=1)t(r,l[u],n[l[u]],a[l[u]])};i.supportsDescriptors=!!s,U.exports=i},31264:function(U){U.exports=function(){for(var C=0;C<arguments.length;C++)if(arguments[C]!==void 0)return arguments[C]}},63768:function(U){U.exports=T;var C=(T.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function T(o,_){Array.isArray(o)&&(o=o.join(", "));var b,f={},s=16,t=.05;_&&(_.length===2&&typeof _[0]=="number"?b=k(_):Array.isArray(_)?b=_:(_.o?b=k(_.o):_.pairs&&(b=_.pairs),_.fontSize&&(s=_.fontSize),_.threshold!=null&&(t=_.threshold))),b||(b=e),C.font=s+"px "+o;for(var i=0;i<b.length;i++){var r=b[i],n=C.measureText(r[0]).width+C.measureText(r[1]).width,a=C.measureText(r).width;if(Math.abs(n-a)>s*t){var l=(a-n)/s;f[r]=1e3*l}}return f}function k(o){for(var _=[],b=o[0];b<=o[1];b++)for(var f=String.fromCharCode(b),s=o[0];s<o[1];s++){var t=f+String.fromCharCode(s);_.push(t)}return _}T.createPairs=k,T.ascii=e},22235:function(U,C,e){var T=e(49972),k=e(48816),o={M:"moveTo",C:"bezierCurveTo"};U.exports=function(_,b){_.beginPath(),k(T(b)).forEach(function(f){var s=f[0],t=f.slice(1);_[o[s]].apply(_,t)}),_.closePath()}},72512:function(U){U.exports=function(C){switch(C){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(U){function C(e,T,k){var o=0|e[k];if(o<=0)return[];var _,b=new Array(o);if(k===e.length-1)for(_=0;_<o;++_)b[_]=T;else for(_=0;_<o;++_)b[_]=C(e,T,k+1);return b}U.exports=function(e,T){switch(T===void 0&&(T=0),typeof e){case"number":if(e>0)return function(k,o){var _,b;for(_=new Array(k),b=0;b<k;++b)_[b]=o;return _}(0|e,T);break;case"object":if(typeof e.length=="number")return C(e,T,0)}return[]}},28912:function(U){function C(S,A,E){E=E||2;var P,O,I,D,V,z,j,X=A&&A.length,F=X?A[0]*E:S.length,H=e(S,0,F,E,!0),W=[];if(!H||H.next===H.prev)return W;if(X&&(H=function(te,Q,ne,$){var J,re,se,ue=[];for(J=0,re=Q.length;J<re;J++)(se=e(te,Q[J]*$,J<re-1?Q[J+1]*$:te.length,$,!1))===se.next&&(se.steiner=!0),ue.push(n(se));for(ue.sort(s),J=0;J<ue.length;J++)t(ue[J],ne),ne=T(ne,ne.next);return ne}(S,A,H,E)),S.length>80*E){P=I=S[0],O=D=S[1];for(var ie=E;ie<F;ie+=E)(V=S[ie])<P&&(P=V),(z=S[ie+1])<O&&(O=z),V>I&&(I=V),z>D&&(D=z);j=(j=Math.max(I-P,D-O))!==0?1/j:0}return k(H,W,E,P,O,j),W}function e(S,A,E,P,O){var I,D;if(O===d(S,A,E,P)>0)for(I=A;I<E;I+=P)D=y(I,S[I],S[I+1],D);else for(I=E-P;I>=A;I-=P)D=y(I,S[I],S[I+1],D);return D&&h(D,D.next)&&(m(D),D=D.next),D}function T(S,A){if(!S)return S;A||(A=S);var E,P=S;do if(E=!1,P.steiner||!h(P,P.next)&&u(P.prev,P,P.next)!==0)P=P.next;else{if(m(P),(P=A=P.prev)===P.next)break;E=!0}while(E||P!==A);return A}function k(S,A,E,P,O,I,D){if(S){!D&&I&&function(X,F,H,W){var ie=X;do ie.z===null&&(ie.z=r(ie.x,ie.y,F,H,W)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==X);ie.prevZ.nextZ=null,ie.prevZ=null,function(te){var Q,ne,$,J,re,se,ue,he,pe=1;do{for(ne=te,te=null,re=null,se=0;ne;){for(se++,$=ne,ue=0,Q=0;Q<pe&&(ue++,$=$.nextZ);Q++);for(he=pe;ue>0||he>0&&$;)ue!==0&&(he===0||!$||ne.z<=$.z)?(J=ne,ne=ne.nextZ,ue--):(J=$,$=$.nextZ,he--),re?re.nextZ=J:te=J,J.prevZ=re,re=J;ne=$}re.nextZ=null,pe*=2}while(se>1)}(ie)}(S,P,O,I);for(var V,z,j=S;S.prev!==S.next;)if(V=S.prev,z=S.next,I?_(S,P,O,I):o(S))A.push(V.i/E),A.push(S.i/E),A.push(z.i/E),m(S),S=z.next,j=z.next;else if((S=z)===j){D?D===1?k(S=b(T(S),A,E),A,E,P,O,I,2):D===2&&f(S,A,E,P,O,I):k(T(S),A,E,P,O,I,1);break}}}function o(S){var A=S.prev,E=S,P=S.next;if(u(A,E,P)>=0)return!1;for(var O=S.next.next;O!==S.prev;){if(a(A.x,A.y,E.x,E.y,P.x,P.y,O.x,O.y)&&u(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function _(S,A,E,P){var O=S.prev,I=S,D=S.next;if(u(O,I,D)>=0)return!1;for(var V=O.x<I.x?O.x<D.x?O.x:D.x:I.x<D.x?I.x:D.x,z=O.y<I.y?O.y<D.y?O.y:D.y:I.y<D.y?I.y:D.y,j=O.x>I.x?O.x>D.x?O.x:D.x:I.x>D.x?I.x:D.x,X=O.y>I.y?O.y>D.y?O.y:D.y:I.y>D.y?I.y:D.y,F=r(V,z,A,E,P),H=r(j,X,A,E,P),W=S.prevZ,ie=S.nextZ;W&&W.z>=F&&ie&&ie.z<=H;){if(W!==S.prev&&W!==S.next&&a(O.x,O.y,I.x,I.y,D.x,D.y,W.x,W.y)&&u(W.prev,W,W.next)>=0||(W=W.prevZ,ie!==S.prev&&ie!==S.next&&a(O.x,O.y,I.x,I.y,D.x,D.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;W&&W.z>=F;){if(W!==S.prev&&W!==S.next&&a(O.x,O.y,I.x,I.y,D.x,D.y,W.x,W.y)&&u(W.prev,W,W.next)>=0)return!1;W=W.prevZ}for(;ie&&ie.z<=H;){if(ie!==S.prev&&ie!==S.next&&a(O.x,O.y,I.x,I.y,D.x,D.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function b(S,A,E){var P=S;do{var O=P.prev,I=P.next.next;!h(O,I)&&c(O,P,P.next,I)&&v(O,I)&&v(I,O)&&(A.push(O.i/E),A.push(P.i/E),A.push(I.i/E),m(P),m(P.next),P=S=I),P=P.next}while(P!==S);return T(P)}function f(S,A,E,P,O,I){var D=S;do{for(var V=D.next.next;V!==D.prev;){if(D.i!==V.i&&l(D,V)){var z=g(D,V);return D=T(D,D.next),z=T(z,z.next),k(D,A,E,P,O,I),void k(z,A,E,P,O,I)}V=V.next}D=D.next}while(D!==S)}function s(S,A){return S.x-A.x}function t(S,A){if(A=function(P,O){var I,D=O,V=P.x,z=P.y,j=-1/0;do{if(z<=D.y&&z>=D.next.y&&D.next.y!==D.y){var X=D.x+(z-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(X<=V&&X>j){if(j=X,X===V){if(z===D.y)return D;if(z===D.next.y)return D.next}I=D.x<D.next.x?D:D.next}}D=D.next}while(D!==O);if(!I)return null;if(V===j)return I;var F,H=I,W=I.x,ie=I.y,te=1/0;D=I;do V>=D.x&&D.x>=W&&V!==D.x&&a(z<ie?V:j,z,W,ie,z<ie?j:V,z,D.x,D.y)&&(F=Math.abs(z-D.y)/(V-D.x),v(D,P)&&(F<te||F===te&&(D.x>I.x||D.x===I.x&&i(I,D)))&&(I=D,te=F)),D=D.next;while(D!==H);return I}(S,A),A){var E=g(A,S);T(A,A.next),T(E,E.next)}}function i(S,A){return u(S.prev,S,A.prev)<0&&u(A.next,S,S.next)<0}function r(S,A,E,P,O){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*O)|S<<8))|S<<4))|S<<2))|S<<1))|(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-P)*O)|A<<8))|A<<4))|A<<2))|A<<1))<<1}function n(S){var A=S,E=S;do(A.x<E.x||A.x===E.x&&A.y<E.y)&&(E=A),A=A.next;while(A!==S);return E}function a(S,A,E,P,O,I,D,V){return(O-D)*(A-V)-(S-D)*(I-V)>=0&&(S-D)*(P-V)-(E-D)*(A-V)>=0&&(E-D)*(I-V)-(O-D)*(P-V)>=0}function l(S,A){return S.next.i!==A.i&&S.prev.i!==A.i&&!function(E,P){var O=E;do{if(O.i!==E.i&&O.next.i!==E.i&&O.i!==P.i&&O.next.i!==P.i&&c(O,O.next,E,P))return!0;O=O.next}while(O!==E);return!1}(S,A)&&(v(S,A)&&v(A,S)&&function(E,P){var O=E,I=!1,D=(E.x+P.x)/2,V=(E.y+P.y)/2;do O.y>V!=O.next.y>V&&O.next.y!==O.y&&D<(O.next.x-O.x)*(V-O.y)/(O.next.y-O.y)+O.x&&(I=!I),O=O.next;while(O!==E);return I}(S,A)&&(u(S.prev,S,A.prev)||u(S,A.prev,A))||h(S,A)&&u(S.prev,S,S.next)>0&&u(A.prev,A,A.next)>0)}function u(S,A,E){return(A.y-S.y)*(E.x-A.x)-(A.x-S.x)*(E.y-A.y)}function h(S,A){return S.x===A.x&&S.y===A.y}function c(S,A,E,P){var O=p(u(S,A,E)),I=p(u(S,A,P)),D=p(u(E,P,S)),V=p(u(E,P,A));return O!==I&&D!==V||!(O!==0||!x(S,E,A))||!(I!==0||!x(S,P,A))||!(D!==0||!x(E,S,P))||!(V!==0||!x(E,A,P))}function x(S,A,E){return A.x<=Math.max(S.x,E.x)&&A.x>=Math.min(S.x,E.x)&&A.y<=Math.max(S.y,E.y)&&A.y>=Math.min(S.y,E.y)}function p(S){return S>0?1:S<0?-1:0}function v(S,A){return u(S.prev,S,S.next)<0?u(S,A,S.next)>=0&&u(S,S.prev,A)>=0:u(S,A,S.prev)<0||u(S,S.next,A)<0}function g(S,A){var E=new w(S.i,S.x,S.y),P=new w(A.i,A.x,A.y),O=S.next,I=A.prev;return S.next=A,A.prev=S,E.next=O,O.prev=E,P.next=E,E.prev=P,I.next=P,P.prev=I,P}function y(S,A,E,P){var O=new w(S,A,E);return P?(O.next=P.next,O.prev=P,P.next.prev=O,P.next=O):(O.prev=O,O.next=O),O}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function w(S,A,E){this.i=S,this.x=A,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function d(S,A,E,P){for(var O=0,I=A,D=E-P;I<E;I+=P)O+=(S[D]-S[I])*(S[I+1]+S[D+1]),D=I;return O}U.exports=C,U.exports.default=C,C.deviation=function(S,A,E,P){var O=A&&A.length,I=O?A[0]*E:S.length,D=Math.abs(d(S,0,I,E));if(O)for(var V=0,z=A.length;V<z;V++){var j=A[V]*E,X=V<z-1?A[V+1]*E:S.length;D-=Math.abs(d(S,j,X,E))}var F=0;for(V=0;V<P.length;V+=3){var H=P[V]*E,W=P[V+1]*E,ie=P[V+2]*E;F+=Math.abs((S[H]-S[ie])*(S[W+1]-S[H+1])-(S[H]-S[W])*(S[ie+1]-S[H+1]))}return D===0&&F===0?0:Math.abs((F-D)/D)},C.flatten=function(S){for(var A=S[0][0].length,E={vertices:[],holes:[],dimensions:A},P=0,O=0;O<S.length;O++){for(var I=0;I<S[O].length;I++)for(var D=0;D<A;D++)E.vertices.push(S[O][I][D]);O>0&&(P+=S[O-1].length,E.holes.push(P))}return E}},6688:function(U,C,e){var T=e(78484);U.exports=function(k,o){var _,b=[],f=[],s=[],t={},i=[];function r(v){s[v]=!1,t.hasOwnProperty(v)&&Object.keys(t[v]).forEach(function(g){delete t[v][g],s[g]&&r(g)})}function n(v){var g,y,m=!1;for(f.push(v),s[v]=!0,g=0;g<i[v].length;g++)(y=i[v][g])===_?(a(_,f),m=!0):s[y]||(m=n(y));if(m)r(v);else for(g=0;g<i[v].length;g++){y=i[v][g];var w=t[y];w||(w={},t[y]=w),w[y]=!0}return f.pop(),m}function a(v,g){var y=[].concat(g).concat(v);o?o(n):b.push(y)}function l(v){(function(E){for(var P=0;P<k.length;P++)P<E&&(k[P]=[]),k[P]=k[P].filter(function(O){return O>=E})})(v);for(var g,y=T(k).components.filter(function(E){return E.length>1}),m=1/0,w=0;w<y.length;w++)for(var d=0;d<y[w].length;d++)y[w][d]<m&&(m=y[w][d],g=w);var S=y[g];if(!S)return!1;var A=k.map(function(E,P){return S.indexOf(P)===-1?[]:E.filter(function(O){return S.indexOf(O)!==-1})});return{leastVertex:m,adjList:A}}_=0;for(var u=k.length;_<u;){var h=l(_);if(_=h.leastVertex,i=h.adjList){for(var c=0;c<i.length;c++)for(var x=0;x<i[c].length;x++){var p=i[c][x];s[+p]=!1,t[p]={}}n(_),_+=1}else _=u}return o?void 0:b}},41476:function(U,C,e){var T=e(9252);U.exports=function(){return T(this).length=0,this}},74772:function(U,C,e){U.exports=e(44716)()?Array.from:e(80816)},44716:function(U){U.exports=function(){var C,e,T=Array.from;return typeof T=="function"&&(e=T(C=["raz","dwa"]),!!(e&&e!==C&&e[1]==="dwa"))}},80816:function(U,C,e){var T=e(92664).iterator,k=e(60948),o=e(17024),_=e(81304),b=e(34044),f=e(9252),s=e(42584),t=e(29768),i=Array.isArray,r=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},a=Object.defineProperty;U.exports=function(l){var u,h,c,x,p,v,g,y,m,w,d=arguments[1],S=arguments[2];if(l=Object(f(l)),s(d)&&b(d),this&&this!==Array&&o(this))u=this;else{if(!d){if(k(l))return(p=l.length)!==1?Array.apply(null,l):((x=new Array(1))[0]=l[0],x);if(i(l)){for(x=new Array(p=l.length),h=0;h<p;++h)x[h]=l[h];return x}}x=[]}if(!i(l)){if((m=l[T])!==void 0){for(g=b(m).call(l),u&&(x=new u),y=g.next(),h=0;!y.done;)w=d?r.call(d,S,y.value,h):y.value,u?(n.value=w,a(x,h,n)):x[h]=w,y=g.next(),++h;p=h}else if(t(l)){for(p=l.length,u&&(x=new u),h=0,c=0;h<p;++h)w=l[h],h+1<p&&(v=w.charCodeAt(0))>=55296&&v<=56319&&(w+=l[++h]),w=d?r.call(d,S,w,c):w,u?(n.value=w,a(x,c,n)):x[c]=w,++c;p=c}}if(p===void 0)for(p=_(l.length),u&&(x=new u(p)),h=0;h<p;++h)w=d?r.call(d,S,l[h],h):l[h],u?(n.value=w,a(x,h,n)):x[h]=w;return u&&(n.value=null,x.length=p),x}},60948:function(U){var C=Object.prototype.toString,e=C.call(function(){return arguments}());U.exports=function(T){return C.call(T)===e}},17024:function(U){var C=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);U.exports=function(T){return typeof T=="function"&&e(C.call(T))}},33208:function(U){U.exports=function(){}},85608:function(U,C,e){U.exports=e(37328)()?Math.sign:e(92928)},37328:function(U){U.exports=function(){var C=Math.sign;return typeof C=="function"&&C(10)===1&&C(-20)===-1}},92928:function(U){U.exports=function(C){return C=Number(C),isNaN(C)||C===0?C:C>0?1:-1}},96936:function(U,C,e){var T=e(85608),k=Math.abs,o=Math.floor;U.exports=function(_){return isNaN(_)?0:(_=Number(_))!==0&&isFinite(_)?T(_)*o(k(_)):_}},81304:function(U,C,e){var T=e(96936),k=Math.max;U.exports=function(o){return k(0,T(o))}},14428:function(U,C,e){var T=e(34044),k=e(9252),o=Function.prototype.bind,_=Function.prototype.call,b=Object.keys,f=Object.prototype.propertyIsEnumerable;U.exports=function(s,t){return function(i,r){var n,a=arguments[2],l=arguments[3];return i=Object(k(i)),T(r),n=b(i),l&&n.sort(typeof l=="function"?o.call(l,i):void 0),typeof s!="function"&&(s=n[s]),_.call(s,n,function(u,h){return f.call(i,u)?_.call(r,a,i[u],u,i,h):t})}}},38452:function(U,C,e){U.exports=e(96276)()?Object.assign:e(81892)},96276:function(U){U.exports=function(){var C,e=Object.assign;return typeof e=="function"&&(e(C={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),C.foo+C.bar+C.trzy==="razdwatrzy")}},81892:function(U,C,e){var T=e(54768),k=e(9252),o=Math.max;U.exports=function(_,b){var f,s,t,i=o(arguments.length,2);for(_=Object(k(_)),t=function(r){try{_[r]=b[r]}catch(n){f||(f=n)}},s=1;s<i;++s)T(b=arguments[s]).forEach(t);if(f!==void 0)throw f;return _}},95920:function(U,C,e){var T=e(74772),k=e(38452),o=e(9252);U.exports=function(_){var b=Object(o(_)),f=arguments[1],s=Object(arguments[2]);if(b!==_&&!f)return b;var t={};return f?T(f,function(i){(s.ensure||i in _)&&(t[i]=_[i])}):k(t,_),t}},14452:function(U,C,e){var T,k,o,_,b=Object.create;e(63092)()||(T=e(8672)),U.exports=T?T.level!==1?b:(k={},o={},_={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(f){o[f]=f!=="__proto__"?_:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,o),Object.defineProperty(T,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(f,s){return b(f===null?k:f,s)}):b},42748:function(U,C,e){U.exports=e(14428)("forEach")},69127:function(U,C,e){var T=e(42584),k={function:!0,object:!0};U.exports=function(o){return T(o)&&k[typeof o]||!1}},42584:function(U,C,e){var T=e(33208)();U.exports=function(k){return k!==T&&k!==null}},54768:function(U,C,e){U.exports=e(87888)()?Object.keys:e(89592)},87888:function(U){U.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(U,C,e){var T=e(42584),k=Object.keys;U.exports=function(o){return k(T(o)?Object(o):o)}},84323:function(U,C,e){var T=e(34044),k=e(42748),o=Function.prototype.call;U.exports=function(_,b){var f={},s=arguments[2];return T(b),k(_,function(t,i,r,n){f[i]=o.call(b,s,t,i,r,n)}),f}},50868:function(U,C,e){var T=e(42584),k=Array.prototype.forEach,o=Object.create;U.exports=function(_){var b=o(null);return k.call(arguments,function(f){T(f)&&function(s,t){var i;for(i in s)t[i]=s[i]}(Object(f),b)}),b}},69932:function(U,C,e){U.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(U){var C=Object.create,e=Object.getPrototypeOf,T={};U.exports=function(){var k=Object.setPrototypeOf;return typeof k=="function"&&e(k((arguments[0]||C)(null),T))===T}},8672:function(U,C,e){var T,k,o,_,b=e(69127),f=e(9252),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};T=function(r,n){if(f(r),n===null||b(n))return r;throw new TypeError("Prototype must be null or an object")},U.exports=(k=function(){var r,n=Object.create(null),a={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(r=l.set).call(n,a)}catch{}if(Object.getPrototypeOf(n)===a)return{set:r,level:2}}return n.__proto__=a,Object.getPrototypeOf(n)===a?{level:2}:((n={}).__proto__=a,Object.getPrototypeOf(n)===a&&{level:1})}(),k?(k.level===2?k.set?(_=k.set,o=function(r,n){return _.call(T(r,n),n),r}):o=function(r,n){return T(r,n).__proto__=n,r}:o=function r(n,a){var l;return T(n,a),(l=s.call(r.nullPolyfill,n))&&delete r.nullPolyfill.__proto__,a===null&&(a=r.nullPolyfill),n.__proto__=a,l&&t(r.nullPolyfill,"__proto__",i),n},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null),e(14452)},34044:function(U){U.exports=function(C){if(typeof C!="function")throw new TypeError(C+" is not a function");return C}},92584:function(U,C,e){var T=e(69127);U.exports=function(k){if(!T(k))throw new TypeError(k+" is not an Object");return k}},9252:function(U,C,e){var T=e(42584);U.exports=function(k){if(!T(k))throw new TypeError("Cannot use null or undefined");return k}},71056:function(U,C,e){U.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(U){var C="razdwatrzy";U.exports=function(){return typeof C.contains=="function"&&C.contains("dwa")===!0&&C.contains("foo")===!1}},93040:function(U){var C=String.prototype.indexOf;U.exports=function(e){return C.call(this,e,arguments[1])>-1}},29768:function(U){var C=Object.prototype.toString,e=C.call("");U.exports=function(T){return typeof T=="string"||T&&typeof T=="object"&&(T instanceof String||C.call(T)===e)||!1}},82252:function(U){var C=Object.create(null),e=Math.random;U.exports=function(){var T;do T=e().toString(36).slice(2);while(C[T]);return T}},52104:function(U,C,e){var T,k=e(69932),o=e(71056),_=e(21092),b=e(92664),f=e(85512),s=Object.defineProperty;T=U.exports=function(t,i){if(!(this instanceof T))throw new TypeError("Constructor requires 'new'");f.call(this,t),i=i?o.call(i,"key+value")?"key+value":o.call(i,"key")?"key":"value":"value",s(this,"__kind__",_("",i))},k&&k(T,f),delete T.prototype.constructor,T.prototype=Object.create(f.prototype,{_resolve:_(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),s(T.prototype,b.toStringTag,_("c","Array Iterator"))},76024:function(U,C,e){var T=e(60948),k=e(34044),o=e(29768),_=e(76252),b=Array.isArray,f=Function.prototype.call,s=Array.prototype.some;U.exports=function(t,i){var r,n,a,l,u,h,c,x,p=arguments[2];if(b(t)||T(t)?r="array":o(t)?r="string":t=_(t),k(i),a=function(){l=!0},r!=="array")if(r!=="string")for(n=t.next();!n.done;){if(f.call(i,p,n.value,a),l)return;n=t.next()}else for(h=t.length,u=0;u<h&&(c=t[u],u+1<h&&(x=c.charCodeAt(0))>=55296&&x<=56319&&(c+=t[++u]),f.call(i,p,c,a),!l);++u);else s.call(t,function(v){return f.call(i,p,v,a),l})}},76252:function(U,C,e){var T=e(60948),k=e(29768),o=e(52104),_=e(80940),b=e(52891),f=e(92664).iterator;U.exports=function(s){return typeof b(s)[f]=="function"?s[f]():T(s)?new o(s):k(s)?new _(s):new o(s)}},85512:function(U,C,e){var T,k=e(41476),o=e(38452),_=e(34044),b=e(9252),f=e(21092),s=e(27940),t=e(92664),i=Object.defineProperty,r=Object.defineProperties;U.exports=T=function(n,a){if(!(this instanceof T))throw new TypeError("Constructor requires 'new'");r(this,{__list__:f("w",b(n)),__context__:f("w",a),__nextIndex__:f("w",0)}),a&&(_(a.on),a.on("_add",this._onAdd),a.on("_delete",this._onDelete),a.on("_clear",this._onClear))},delete T.prototype.constructor,r(T.prototype,o({_next:f(function(){var n;if(this.__list__)return this.__redo__&&(n=this.__redo__.shift())!==void 0?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:f(function(){return this._createResult(this._next())}),_createResult:f(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:f(function(n){return this.__list__[n]}),_unBind:f(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:f(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:f(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(a,l){a>=n&&(this.__redo__[l]=++a)},this),this.__redo__.push(n)):i(this,"__redo__",f("c",[n])))}),_onDelete:f(function(n){var a;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((a=this.__redo__.indexOf(n))!==-1&&this.__redo__.splice(a,1),this.__redo__.forEach(function(l,u){l>n&&(this.__redo__[u]=--l)},this)))}),_onClear:f(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(T.prototype,t.iterator,f(function(){return this}))},76368:function(U,C,e){var T=e(60948),k=e(42584),o=e(29768),_=e(92664).iterator,b=Array.isArray;U.exports=function(f){return!(!k(f)||!b(f)&&!o(f)&&!T(f)&&typeof f[_]!="function")}},80940:function(U,C,e){var T,k=e(69932),o=e(21092),_=e(92664),b=e(85512),f=Object.defineProperty;T=U.exports=function(s){if(!(this instanceof T))throw new TypeError("Constructor requires 'new'");s=String(s),b.call(this,s),f(this,"__length__",o("",s.length))},k&&k(T,b),delete T.prototype.constructor,T.prototype=Object.create(b.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(s){var t,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),f(T.prototype,_.toStringTag,o("c","String Iterator"))},52891:function(U,C,e){var T=e(76368);U.exports=function(k){if(!T(k))throw new TypeError(k+" is not iterable");return k}},60964:function(U){function C(e,T){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),o=1;o<arguments.length;o++){var _=arguments[o];if(_!=null)for(var b=Object.keys(Object(_)),f=0,s=b.length;f<s;f++){var t=b[f],i=Object.getOwnPropertyDescriptor(_,t);i!==void 0&&i.enumerable&&(k[t]=_[t])}}return k}U.exports={assign:C,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:C})}}},92664:function(U,C,e){U.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(U,C,e){var T=e(12296),k={object:!0,symbol:!0};U.exports=function(){var o,_=T.Symbol;if(typeof _!="function")return!1;o=_("test symbol");try{String(o)}catch{return!1}return!!k[typeof _.iterator]&&!!k[typeof _.toPrimitive]&&!!k[typeof _.toStringTag]}},53908:function(U){U.exports=function(C){return!!C&&(typeof C=="symbol"||!!C.constructor&&C.constructor.name==="Symbol"&&C[C.constructor.toStringTag]==="Symbol")}},96863:function(U,C,e){var T=e(21092),k=Object.create,o=Object.defineProperty,_=Object.prototype,b=k(null);U.exports=function(f){for(var s,t,i=0;b[f+(i||"")];)++i;return b[f+=i||""]=!0,o(_,s="@@"+f,T.gs(null,function(r){t||(t=!0,o(this,s,T(r)),t=!1)})),s}},53540:function(U,C,e){var T=e(21092),k=e(12296).Symbol;U.exports=function(o){return Object.defineProperties(o,{hasInstance:T("",k&&k.hasInstance||o("hasInstance")),isConcatSpreadable:T("",k&&k.isConcatSpreadable||o("isConcatSpreadable")),iterator:T("",k&&k.iterator||o("iterator")),match:T("",k&&k.match||o("match")),replace:T("",k&&k.replace||o("replace")),search:T("",k&&k.search||o("search")),species:T("",k&&k.species||o("species")),split:T("",k&&k.split||o("split")),toPrimitive:T("",k&&k.toPrimitive||o("toPrimitive")),toStringTag:T("",k&&k.toStringTag||o("toStringTag")),unscopables:T("",k&&k.unscopables||o("unscopables"))})}},73852:function(U,C,e){var T=e(21092),k=e(63948),o=Object.create(null);U.exports=function(_){return Object.defineProperties(_,{for:T(function(b){return o[b]?o[b]:o[b]=_(String(b))}),keyFor:T(function(b){var f;for(f in k(b),o)if(o[f]===b)return f})})}},18376:function(U,C,e){var T,k,o,_=e(21092),b=e(63948),f=e(12296).Symbol,s=e(96863),t=e(53540),i=e(73852),r=Object.create,n=Object.defineProperties,a=Object.defineProperty;if(typeof f=="function")try{String(f()),o=!0}catch{}else f=null;k=function(l){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return T(l)},U.exports=T=function l(u){var h;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return o?f(u):(h=r(k.prototype),u=u===void 0?"":String(u),n(h,{__description__:_("",u),__name__:_("",s(u))}))},t(T),i(T),n(k.prototype,{constructor:_(T),toString:_("",function(){return this.__name__})}),n(T.prototype,{toString:_(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:_(function(){return b(this)})}),a(T.prototype,T.toPrimitive,_("",function(){var l=b(this);return typeof l=="symbol"?l:l.toString()})),a(T.prototype,T.toStringTag,_("c","Symbol")),a(k.prototype,T.toStringTag,_("c",T.prototype[T.toStringTag])),a(k.prototype,T.toPrimitive,_("c",T.prototype[T.toPrimitive]))},63948:function(U,C,e){var T=e(53908);U.exports=function(k){if(!T(k))throw new TypeError(k+" is not a symbol");return k}},60463:function(U,C,e){U.exports=e(96979)()?WeakMap:e(64864)},96979:function(U){U.exports=function(){var C,e;if(typeof WeakMap!="function")return!1;try{C=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(C)==="[object WeakMap]"&&typeof C.set=="function"&&C.set({},1)===C&&typeof C.delete=="function"&&typeof C.has=="function"&&C.get(e)==="one"}},69876:function(U){U.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(U,C,e){var T,k=e(42584),o=e(69932),_=e(92584),b=e(9252),f=e(82252),s=e(21092),t=e(76252),i=e(76024),r=e(92664).toStringTag,n=e(69876),a=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;U.exports=T=function(){var c,x=arguments[0];if(!(this instanceof T))throw new TypeError("Constructor requires 'new'");return c=n&&o&&WeakMap!==T?o(new WeakMap,h(this)):this,k(x)&&(a(x)||(x=t(x))),l(c,"__weakMapData__",s("c","$weakMap$"+f())),x&&i(x,function(p){b(p),c.set(p[0],p[1])}),c},n&&(o&&o(T,WeakMap),T.prototype=Object.create(WeakMap.prototype,{constructor:s(T)})),Object.defineProperties(T.prototype,{delete:s(function(c){return!!u.call(_(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(_(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(_(c),this.__weakMapData__)}),set:s(function(c,x){return l(_(c),this.__weakMapData__,s("c",x)),this}),toString:s(function(){return"[object WeakMap]"})}),l(T.prototype,r,s("c","WeakMap"))},61252:function(U){var C,e=typeof Reflect=="object"?Reflect:null,T=e&&typeof e.apply=="function"?e.apply:function(u,h,c){return Function.prototype.apply.call(u,h,c)};C=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function o(){o.init.call(this)}U.exports=o,U.exports.once=function(u,h){return new Promise(function(c,x){function p(g){u.removeListener(h,v),x(g)}function v(){typeof u.removeListener=="function"&&u.removeListener("error",p),c([].slice.call(arguments))}l(u,h,v,{once:!0}),h!=="error"&&function(g,y,m){typeof g.on=="function"&&l(g,"error",y,{once:!0})}(u,p)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var _=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function f(u){return u._maxListeners===void 0?o.defaultMaxListeners:u._maxListeners}function s(u,h,c,x){var p,v,g,y;if(b(c),(v=u._events)===void 0?(v=u._events=Object.create(null),u._eventsCount=0):(v.newListener!==void 0&&(u.emit("newListener",h,c.listener?c.listener:c),v=u._events),g=v[h]),g===void 0)g=v[h]=c,++u._eventsCount;else if(typeof g=="function"?g=v[h]=x?[c,g]:[g,c]:x?g.unshift(c):g.push(c),(p=f(u))>0&&g.length>p&&!g.warned){g.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=h,m.count=g.length,y=m,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,h,c){var x={fired:!1,wrapFn:void 0,target:u,type:h,listener:c},p=t.bind(x);return p.listener=c,x.wrapFn=p,p}function r(u,h,c){var x=u._events;if(x===void 0)return[];var p=x[h];return p===void 0?[]:typeof p=="function"?c?[p.listener||p]:[p]:c?function(v){for(var g=new Array(v.length),y=0;y<g.length;++y)g[y]=v[y].listener||v[y];return g}(p):a(p,p.length)}function n(u){var h=this._events;if(h!==void 0){var c=h[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function a(u,h){for(var c=new Array(h),x=0;x<h;++x)c[x]=u[x];return c}function l(u,h,c,x){if(typeof u.on=="function")x.once?u.once(h,c):u.on(h,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(h,function p(v){x.once&&u.removeEventListener(h,p),c(v)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");_=u}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(u){for(var h=[],c=1;c<arguments.length;c++)h.push(arguments[c]);var x=u==="error",p=this._events;if(p!==void 0)x=x&&p.error===void 0;else if(!x)return!1;if(x){var v;if(h.length>0&&(v=h[0]),v instanceof Error)throw v;var g=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw g.context=v,g}var y=p[u];if(y===void 0)return!1;if(typeof y=="function")T(y,this,h);else{var m=y.length,w=a(y,m);for(c=0;c<m;++c)T(w[c],this,h)}return!0},o.prototype.addListener=function(u,h){return s(this,u,h,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(u,h){return s(this,u,h,!0)},o.prototype.once=function(u,h){return b(h),this.on(u,i(this,u,h)),this},o.prototype.prependOnceListener=function(u,h){return b(h),this.prependListener(u,i(this,u,h)),this},o.prototype.removeListener=function(u,h){var c,x,p,v,g;if(b(h),(x=this._events)===void 0)return this;if((c=x[u])===void 0)return this;if(c===h||c.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete x[u],x.removeListener&&this.emit("removeListener",u,c.listener||h));else if(typeof c!="function"){for(p=-1,v=c.length-1;v>=0;v--)if(c[v]===h||c[v].listener===h){g=c[v].listener,p=v;break}if(p<0)return this;p===0?c.shift():function(y,m){for(;m+1<y.length;m++)y[m]=y[m+1];y.pop()}(c,p),c.length===1&&(x[u]=c[0]),x.removeListener!==void 0&&this.emit("removeListener",u,g||h)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(u){var h,c,x;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var p,v=Object.keys(c);for(x=0;x<v.length;++x)(p=v[x])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=c[u])=="function")this.removeListener(u,h);else if(h!==void 0)for(x=h.length-1;x>=0;x--)this.removeListener(u,h[x]);return this},o.prototype.listeners=function(u){return r(this,u,!0)},o.prototype.rawListeners=function(u){return r(this,u,!1)},o.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):n.call(u,h)},o.prototype.listenerCount=n,o.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]}},39072:function(U){var C=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};U.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return C()}try{return __global__||C()}finally{delete Object.prototype.__global__}}()},12296:function(U,C,e){U.exports=e(45072)()?globalThis:e(39072)},45072:function(U){U.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(U,C,e){var T=e(94576);U.exports=function(k){var o=typeof k;if(o==="string"){var _=k;if((k=+k)==0&&T(_))return!1}else if(o!=="number")return!1;return k-k<1}},47520:function(U,C,e){var T=e(72512);U.exports=function(k,o,_){if(!k)throw new TypeError("must specify data as first parameter");if(_=0|+(_||0),Array.isArray(k)&&k[0]&&typeof k[0][0]=="number"){var b,f,s,t,i=k[0].length,r=k.length*i;o&&typeof o!="string"||(o=new(T(o||"float32"))(r+_));var n=o.length-_;if(r!==n)throw new Error("source length "+r+" ("+i+"x"+k.length+") does not match destination length "+n);for(b=0,s=_;b<k.length;b++)for(f=0;f<i;f++)o[s++]=k[b][f]===null?NaN:k[b][f]}else if(o&&typeof o!="string")o.set(k,_);else{var a=T(o||"float32");if(Array.isArray(k)||o==="array")for(b=0,s=_,t=(o=new a(k.length+_)).length;s<t;s++,b++)o[s]=k[b]===null?NaN:k[b];else _===0?o=new a(k):(o=new a(k.length+_)).set(k,_)}return o}},33888:function(U,C,e){var T=e(49395),k=[32,126];U.exports=function(o){var _=(o=o||{}).shape?o.shape:o.canvas?[o.canvas.width,o.canvas.height]:[512,512],b=o.canvas||document.createElement("canvas"),f=o.font,s=typeof o.step=="number"?[o.step,o.step]:o.step||[32,32],t=o.chars||k;if(f&&typeof f!="string"&&(f=T(f)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],r=t[0],n=0;r<=t[1];r++)i[n++]=String.fromCharCode(r);t=i}}else t=String(t).split("");_=_.slice(),b.width=_[0],b.height=_[1];var a=b.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,b.width,b.height),a.font=f,a.textAlign="center",a.textBaseline="middle",a.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(r=0;r<t.length;r++)a.fillText(t[r],l,u),(l+=s[0])>_[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return b}},71920:function(U){function C(o,_){_||(_={}),(typeof o=="string"||Array.isArray(o))&&(_.family=o);var b=Array.isArray(_.family)?_.family.join(", "):_.family;if(!b)throw Error("`family` must be defined");var f=_.size||_.fontSize||_.em||48,s=_.weight||_.fontWeight||"",t=(o=[_.style||_.fontStyle||"",s,f].join(" ")+"px "+b,_.origin||"top");if(C.cache[b]&&f<=C.cache[b].em)return e(C.cache[b],t);var i=_.canvas||C.canvas,r=i.getContext("2d"),n={upper:_.upper!==void 0?_.upper:"H",lower:_.lower!==void 0?_.lower:"x",descent:_.descent!==void 0?_.descent:"p",ascent:_.ascent!==void 0?_.ascent:"h",tittle:_.tittle!==void 0?_.tittle:"i",overshoot:_.overshoot!==void 0?_.overshoot:"O"},a=Math.ceil(1.5*f);i.height=a,i.width=.5*a,r.font=o;var l="H",u={top:0};r.clearRect(0,0,a,a),r.textBaseline="top",r.fillStyle="black",r.fillText(l,0,0);var h=T(r.getImageData(0,0,a,a));r.clearRect(0,0,a,a),r.textBaseline="bottom",r.fillText(l,0,a);var c=T(r.getImageData(0,0,a,a));u.lineHeight=u.bottom=a-c+h,r.clearRect(0,0,a,a),r.textBaseline="alphabetic",r.fillText(l,0,a);var x=a-T(r.getImageData(0,0,a,a))-1+h;u.baseline=u.alphabetic=x,r.clearRect(0,0,a,a),r.textBaseline="middle",r.fillText(l,0,.5*a);var p=T(r.getImageData(0,0,a,a));u.median=u.middle=a-p-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="hanging",r.fillText(l,0,.5*a);var v=T(r.getImageData(0,0,a,a));u.hanging=a-v-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="ideographic",r.fillText(l,0,a);var g=T(r.getImageData(0,0,a,a));if(u.ideographic=a-g-1+h,n.upper&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.upper,0,0),u.upper=T(r.getImageData(0,0,a,a)),u.capHeight=u.baseline-u.upper),n.lower&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.lower,0,0),u.lower=T(r.getImageData(0,0,a,a)),u.xHeight=u.baseline-u.lower),n.tittle&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.tittle,0,0),u.tittle=T(r.getImageData(0,0,a,a))),n.ascent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.ascent,0,0),u.ascent=T(r.getImageData(0,0,a,a))),n.descent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.descent,0,0),u.descent=k(r.getImageData(0,0,a,a))),n.overshoot){r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(n.overshoot,0,0);var y=k(r.getImageData(0,0,a,a));u.overshoot=y-x}for(var m in u)u[m]/=f;return u.em=f,C.cache[b]=u,e(u,t)}function e(o,_){var b={};for(var f in typeof _=="string"&&(_=o[_]),o)f!=="em"&&(b[f]=o[f]-_);return b}function T(o){for(var _=o.height,b=o.data,f=3;f<b.length;f+=4)if(b[f]!==0)return Math.floor(.25*(f-3)/_)}function k(o){for(var _=o.height,b=o.data,f=b.length-1;f>0;f-=4)if(b[f]!==0)return Math.floor(.25*(f-3)/_)}U.exports=C,C.canvas=document.createElement("canvas"),C.cache={}},46492:function(U,C,e){var T=e(90720),k=Object.prototype.toString,o=Object.prototype.hasOwnProperty;U.exports=function(_,b,f){if(!T(b))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=f),k.call(_)==="[object Array]"?function(t,i,r){for(var n=0,a=t.length;n<a;n++)o.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(_,b,s):typeof _=="string"?function(t,i,r){for(var n=0,a=t.length;n<a;n++)r==null?i(t.charAt(n),n,t):i.call(r,t.charAt(n),n,t)}(_,b,s):function(t,i,r){for(var n in t)o.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(_,b,s)}},74336:function(U){var C=Object.prototype.toString,e=Math.max,T=function(k,o){for(var _=[],b=0;b<k.length;b+=1)_[b]=k[b];for(var f=0;f<o.length;f+=1)_[f+k.length]=o[f];return _};U.exports=function(k){var o=this;if(typeof o!="function"||C.apply(o)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var _,b=function(r,n){for(var a=[],l=1,u=0;l<r.length;l+=1,u+=1)a[u]=r[l];return a}(arguments),f=e(0,o.length-b.length),s=[],t=0;t<f;t++)s[t]="$"+t;if(_=Function("binder","return function ("+function(r,n){for(var a="",l=0;l<r.length;l+=1)a+=r[l],l+1<r.length&&(a+=",");return a}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof _){var r=o.apply(this,T(b,arguments));return Object(r)===r?r:this}return o.apply(k,T(b,arguments))}),o.prototype){var i=function(){};i.prototype=o.prototype,_.prototype=new i,i.prototype=null}return _}},8844:function(U,C,e){var T=e(74336);U.exports=Function.prototype.bind||T},13380:function(U){U.exports=function(C,e){if(typeof C!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var T=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(T.width=e.width),typeof e.height=="number"&&(T.height=e.height);var k,o=e;try{var _=[C];C.indexOf("webgl")===0&&_.push("experimental-"+C);for(var b=0;b<_.length;b++)if(k=T.getContext(_[b],o))return k}catch{k=null}return k||null}},53664:function(U,C,e){var T,k=SyntaxError,o=Function,_=TypeError,b=function(P){try{return o('"use strict"; return ('+P+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var s=function(){throw new _},t=f?function(){try{return s}catch{try{return f(arguments,"callee").get}catch{return s}}}():s,i=e(71080)(),r=e(69572)(),n=Object.getPrototypeOf||(r?function(P){return P.__proto__}:null),a={},l=typeof Uint8Array<"u"&&n?n(Uint8Array):T,u={"%AggregateError%":typeof AggregateError>"u"?T:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?T:ArrayBuffer,"%ArrayIteratorPrototype%":i&&n?n([][Symbol.iterator]()):T,"%AsyncFromSyncIteratorPrototype%":T,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?T:Atomics,"%BigInt%":typeof BigInt>"u"?T:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?T:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?T:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?T:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?T:Float32Array,"%Float64Array%":typeof Float64Array>"u"?T:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?T:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?T:Int8Array,"%Int16Array%":typeof Int16Array>"u"?T:Int16Array,"%Int32Array%":typeof Int32Array>"u"?T:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&n?n(n([][Symbol.iterator]())):T,"%JSON%":typeof JSON=="object"?JSON:T,"%Map%":typeof Map>"u"?T:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&n?n(new Map()[Symbol.iterator]()):T,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?T:Promise,"%Proxy%":typeof Proxy>"u"?T:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?T:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?T:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&n?n(new Set()[Symbol.iterator]()):T,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?T:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&n?n(""[Symbol.iterator]()):T,"%Symbol%":i?Symbol:T,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array>"u"?T:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?T:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?T:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?T:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?T:WeakMap,"%WeakRef%":typeof WeakRef>"u"?T:WeakRef,"%WeakSet%":typeof WeakSet>"u"?T:WeakSet};if(n)try{null.error}catch(P){var h=n(n(P));u["%Error.prototype%"]=h}var c=function P(O){var I;if(O==="%AsyncFunction%")I=b("async function () {}");else if(O==="%GeneratorFunction%")I=b("function* () {}");else if(O==="%AsyncGeneratorFunction%")I=b("async function* () {}");else if(O==="%AsyncGenerator%"){var D=P("%AsyncGeneratorFunction%");D&&(I=D.prototype)}else if(O==="%AsyncIteratorPrototype%"){var V=P("%AsyncGenerator%");V&&n&&(I=n(V.prototype))}return u[O]=I,I},x={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},p=e(8844),v=e(92064),g=p.call(Function.call,Array.prototype.concat),y=p.call(Function.apply,Array.prototype.splice),m=p.call(Function.call,String.prototype.replace),w=p.call(Function.call,String.prototype.slice),d=p.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,E=function(P,O){var I,D=P;if(v(x,D)&&(D="%"+(I=x[D])[0]+"%"),v(u,D)){var V=u[D];if(V===a&&(V=c(D)),V===void 0&&!O)throw new _("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:I,name:D,value:V}}throw new k("intrinsic "+P+" does not exist!")};U.exports=function(P,O){if(typeof P!="string"||P.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new _('"allowMissing" argument must be a boolean');if(d(/^%?[^%]*%?$/,P)===null)throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=function($){var J=w($,0,1),re=w($,-1);if(J==="%"&&re!=="%")throw new k("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&J!=="%")throw new k("invalid intrinsic syntax, expected opening `%`");var se=[];return m($,S,function(ue,he,pe,ge){se[se.length]=pe?m(ge,A,"$1"):he||ue}),se}(P),D=I.length>0?I[0]:"",V=E("%"+D+"%",O),z=V.name,j=V.value,X=!1,F=V.alias;F&&(D=F[0],y(I,g([0,1],F)));for(var H=1,W=!0;H<I.length;H+=1){var ie=I[H],te=w(ie,0,1),Q=w(ie,-1);if((te==='"'||te==="'"||te==="`"||Q==='"'||Q==="'"||Q==="`")&&te!==Q)throw new k("property names with quotes must have matching quotes");if(ie!=="constructor"&&W||(X=!0),v(u,z="%"+(D+="."+ie)+"%"))j=u[z];else if(j!=null){if(!(ie in j)){if(!O)throw new _("base intrinsic for "+P+" exists, but the property is not available.");return}if(f&&H+1>=I.length){var ne=f(j,ie);j=(W=!!ne)&&"get"in ne&&!("originalValue"in ne.get)?ne.get:j[ie]}else W=v(j,ie),j=j[ie];W&&!X&&(u[z]=j)}}return j}},12408:function(U){U.exports=function(C,e){var T=e[0],k=e[1],o=e[2],_=e[3],b=e[4],f=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15];return C[0]=f*(n*c-a*h)-r*(s*c-t*h)+u*(s*a-t*n),C[1]=-(k*(n*c-a*h)-r*(o*c-_*h)+u*(o*a-_*n)),C[2]=k*(s*c-t*h)-f*(o*c-_*h)+u*(o*t-_*s),C[3]=-(k*(s*a-t*n)-f*(o*a-_*n)+r*(o*t-_*s)),C[4]=-(b*(n*c-a*h)-i*(s*c-t*h)+l*(s*a-t*n)),C[5]=T*(n*c-a*h)-i*(o*c-_*h)+l*(o*a-_*n),C[6]=-(T*(s*c-t*h)-b*(o*c-_*h)+l*(o*t-_*s)),C[7]=T*(s*a-t*n)-b*(o*a-_*n)+i*(o*t-_*s),C[8]=b*(r*c-a*u)-i*(f*c-t*u)+l*(f*a-t*r),C[9]=-(T*(r*c-a*u)-i*(k*c-_*u)+l*(k*a-_*r)),C[10]=T*(f*c-t*u)-b*(k*c-_*u)+l*(k*t-_*f),C[11]=-(T*(f*a-t*r)-b*(k*a-_*r)+i*(k*t-_*f)),C[12]=-(b*(r*h-n*u)-i*(f*h-s*u)+l*(f*n-s*r)),C[13]=T*(r*h-n*u)-i*(k*h-o*u)+l*(k*n-o*r),C[14]=-(T*(f*h-s*u)-b*(k*h-o*u)+l*(k*s-o*f)),C[15]=T*(f*n-s*r)-b*(k*n-o*r)+i*(k*s-o*f),C}},76860:function(U){U.exports=function(C){var e=new Float32Array(16);return e[0]=C[0],e[1]=C[1],e[2]=C[2],e[3]=C[3],e[4]=C[4],e[5]=C[5],e[6]=C[6],e[7]=C[7],e[8]=C[8],e[9]=C[9],e[10]=C[10],e[11]=C[11],e[12]=C[12],e[13]=C[13],e[14]=C[14],e[15]=C[15],e}},64492:function(U){U.exports=function(C,e){return C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},54212:function(U){U.exports=function(){var C=new Float32Array(16);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},70800:function(U){U.exports=function(C){var e=C[0],T=C[1],k=C[2],o=C[3],_=C[4],b=C[5],f=C[6],s=C[7],t=C[8],i=C[9],r=C[10],n=C[11],a=C[12],l=C[13],u=C[14],h=C[15];return(e*b-T*_)*(r*h-n*u)-(e*f-k*_)*(i*h-n*l)+(e*s-o*_)*(i*u-r*l)+(T*f-k*b)*(t*h-n*a)-(T*s-o*b)*(t*u-r*a)+(k*s-o*f)*(t*l-i*a)}},61784:function(U){U.exports=function(C,e){var T=e[0],k=e[1],o=e[2],_=e[3],b=T+T,f=k+k,s=o+o,t=T*b,i=k*b,r=k*f,n=o*b,a=o*f,l=o*s,u=_*b,h=_*f,c=_*s;return C[0]=1-r-l,C[1]=i+c,C[2]=n-h,C[3]=0,C[4]=i-c,C[5]=1-t-l,C[6]=a+u,C[7]=0,C[8]=n+h,C[9]=a-u,C[10]=1-t-r,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},91616:function(U){U.exports=function(C,e,T){var k,o,_,b=T[0],f=T[1],s=T[2],t=Math.sqrt(b*b+f*f+s*s);return Math.abs(t)<1e-6?null:(b*=t=1/t,f*=t,s*=t,k=Math.sin(e),_=1-(o=Math.cos(e)),C[0]=b*b*_+o,C[1]=f*b*_+s*k,C[2]=s*b*_-f*k,C[3]=0,C[4]=b*f*_-s*k,C[5]=f*f*_+o,C[6]=s*f*_+b*k,C[7]=0,C[8]=b*s*_+f*k,C[9]=f*s*_-b*k,C[10]=s*s*_+o,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C)}},51944:function(U){U.exports=function(C,e,T){var k=e[0],o=e[1],_=e[2],b=e[3],f=k+k,s=o+o,t=_+_,i=k*f,r=k*s,n=k*t,a=o*s,l=o*t,u=_*t,h=b*f,c=b*s,x=b*t;return C[0]=1-(a+u),C[1]=r+x,C[2]=n-c,C[3]=0,C[4]=r-x,C[5]=1-(i+u),C[6]=l+h,C[7]=0,C[8]=n+c,C[9]=l-h,C[10]=1-(i+a),C[11]=0,C[12]=T[0],C[13]=T[1],C[14]=T[2],C[15]=1,C}},69444:function(U){U.exports=function(C,e){return C[0]=e[0],C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=e[1],C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=e[2],C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},48268:function(U){U.exports=function(C,e){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=e[0],C[13]=e[1],C[14]=e[2],C[15]=1,C}},21856:function(U){U.exports=function(C,e){var T=Math.sin(e),k=Math.cos(e);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=k,C[6]=T,C[7]=0,C[8]=0,C[9]=-T,C[10]=k,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},79216:function(U){U.exports=function(C,e){var T=Math.sin(e),k=Math.cos(e);return C[0]=k,C[1]=0,C[2]=-T,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=T,C[9]=0,C[10]=k,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},57736:function(U){U.exports=function(C,e){var T=Math.sin(e),k=Math.cos(e);return C[0]=k,C[1]=T,C[2]=0,C[3]=0,C[4]=-T,C[5]=k,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},38848:function(U){U.exports=function(C,e,T,k,o,_,b){var f=1/(T-e),s=1/(o-k),t=1/(_-b);return C[0]=2*_*f,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=2*_*s,C[6]=0,C[7]=0,C[8]=(T+e)*f,C[9]=(o+k)*s,C[10]=(b+_)*t,C[11]=-1,C[12]=0,C[13]=0,C[14]=b*_*2*t,C[15]=0,C}},36635:function(U){U.exports=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}},36524:function(U,C,e){U.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(U){U.exports=function(C,e){var T=e[0],k=e[1],o=e[2],_=e[3],b=e[4],f=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15],x=T*f-k*b,p=T*s-o*b,v=T*t-_*b,g=k*s-o*f,y=k*t-_*f,m=o*t-_*s,w=i*u-r*l,d=i*h-n*l,S=i*c-a*l,A=r*h-n*u,E=r*c-a*u,P=n*c-a*h,O=x*P-p*E+v*A+g*S-y*d+m*w;return O?(O=1/O,C[0]=(f*P-s*E+t*A)*O,C[1]=(o*E-k*P-_*A)*O,C[2]=(u*m-h*y+c*g)*O,C[3]=(n*y-r*m-a*g)*O,C[4]=(s*S-b*P-t*d)*O,C[5]=(T*P-o*S+_*d)*O,C[6]=(h*v-l*m-c*p)*O,C[7]=(i*m-n*v+a*p)*O,C[8]=(b*E-f*S+t*w)*O,C[9]=(k*S-T*E-_*w)*O,C[10]=(l*y-u*v+c*x)*O,C[11]=(r*v-i*y-a*x)*O,C[12]=(f*d-b*A-s*w)*O,C[13]=(T*A-k*d+o*w)*O,C[14]=(u*p-l*g-h*x)*O,C[15]=(i*g-r*p+n*x)*O,C):null}},56508:function(U,C,e){var T=e(36635);U.exports=function(k,o,_,b){var f,s,t,i,r,n,a,l,u,h,c=o[0],x=o[1],p=o[2],v=b[0],g=b[1],y=b[2],m=_[0],w=_[1],d=_[2];return Math.abs(c-m)<1e-6&&Math.abs(x-w)<1e-6&&Math.abs(p-d)<1e-6?T(k):(a=c-m,l=x-w,u=p-d,f=g*(u*=h=1/Math.sqrt(a*a+l*l+u*u))-y*(l*=h),s=y*(a*=h)-v*u,t=v*l-g*a,(h=Math.sqrt(f*f+s*s+t*t))?(f*=h=1/h,s*=h,t*=h):(f=0,s=0,t=0),i=l*t-u*s,r=u*f-a*t,n=a*s-l*f,(h=Math.sqrt(i*i+r*r+n*n))?(i*=h=1/h,r*=h,n*=h):(i=0,r=0,n=0),k[0]=f,k[1]=i,k[2]=a,k[3]=0,k[4]=s,k[5]=r,k[6]=l,k[7]=0,k[8]=t,k[9]=n,k[10]=u,k[11]=0,k[12]=-(f*c+s*x+t*p),k[13]=-(i*c+r*x+n*p),k[14]=-(a*c+l*x+u*p),k[15]=1,k)}},80944:function(U){U.exports=function(C,e,T){var k=e[0],o=e[1],_=e[2],b=e[3],f=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],a=e[10],l=e[11],u=e[12],h=e[13],c=e[14],x=e[15],p=T[0],v=T[1],g=T[2],y=T[3];return C[0]=p*k+v*f+g*r+y*u,C[1]=p*o+v*s+g*n+y*h,C[2]=p*_+v*t+g*a+y*c,C[3]=p*b+v*i+g*l+y*x,p=T[4],v=T[5],g=T[6],y=T[7],C[4]=p*k+v*f+g*r+y*u,C[5]=p*o+v*s+g*n+y*h,C[6]=p*_+v*t+g*a+y*c,C[7]=p*b+v*i+g*l+y*x,p=T[8],v=T[9],g=T[10],y=T[11],C[8]=p*k+v*f+g*r+y*u,C[9]=p*o+v*s+g*n+y*h,C[10]=p*_+v*t+g*a+y*c,C[11]=p*b+v*i+g*l+y*x,p=T[12],v=T[13],g=T[14],y=T[15],C[12]=p*k+v*f+g*r+y*u,C[13]=p*o+v*s+g*n+y*h,C[14]=p*_+v*t+g*a+y*c,C[15]=p*b+v*i+g*l+y*x,C}},97688:function(U){U.exports=function(C,e,T,k,o,_,b){var f=1/(e-T),s=1/(k-o),t=1/(_-b);return C[0]=-2*f,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*s,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*t,C[11]=0,C[12]=(e+T)*f,C[13]=(o+k)*s,C[14]=(b+_)*t,C[15]=1,C}},51296:function(U){U.exports=function(C,e,T,k,o){var _=1/Math.tan(e/2),b=1/(k-o);return C[0]=_/T,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=_,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=(o+k)*b,C[11]=-1,C[12]=0,C[13]=0,C[14]=2*o*k*b,C[15]=0,C}},63688:function(U){U.exports=function(C,e,T,k){var o=Math.tan(e.upDegrees*Math.PI/180),_=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),s=2/(b+f),t=2/(o+_);return C[0]=s,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=t,C[6]=0,C[7]=0,C[8]=-(b-f)*s*.5,C[9]=(o-_)*t*.5,C[10]=k/(T-k),C[11]=-1,C[12]=0,C[13]=0,C[14]=k*T/(T-k),C[15]=0,C}},30016:function(U){U.exports=function(C,e,T,k){var o,_,b,f,s,t,i,r,n,a,l,u,h,c,x,p,v,g,y,m,w,d,S,A,E=k[0],P=k[1],O=k[2],I=Math.sqrt(E*E+P*P+O*O);return Math.abs(I)<1e-6?null:(E*=I=1/I,P*=I,O*=I,o=Math.sin(T),b=1-(_=Math.cos(T)),f=e[0],s=e[1],t=e[2],i=e[3],r=e[4],n=e[5],a=e[6],l=e[7],u=e[8],h=e[9],c=e[10],x=e[11],p=E*E*b+_,v=P*E*b+O*o,g=O*E*b-P*o,y=E*P*b-O*o,m=P*P*b+_,w=O*P*b+E*o,d=E*O*b+P*o,S=P*O*b-E*o,A=O*O*b+_,C[0]=f*p+r*v+u*g,C[1]=s*p+n*v+h*g,C[2]=t*p+a*v+c*g,C[3]=i*p+l*v+x*g,C[4]=f*y+r*m+u*w,C[5]=s*y+n*m+h*w,C[6]=t*y+a*m+c*w,C[7]=i*y+l*m+x*w,C[8]=f*d+r*S+u*A,C[9]=s*d+n*S+h*A,C[10]=t*d+a*S+c*A,C[11]=i*d+l*S+x*A,e!==C&&(C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C)}},15456:function(U){U.exports=function(C,e,T){var k=Math.sin(T),o=Math.cos(T),_=e[4],b=e[5],f=e[6],s=e[7],t=e[8],i=e[9],r=e[10],n=e[11];return e!==C&&(C[0]=e[0],C[1]=e[1],C[2]=e[2],C[3]=e[3],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[4]=_*o+t*k,C[5]=b*o+i*k,C[6]=f*o+r*k,C[7]=s*o+n*k,C[8]=t*o-_*k,C[9]=i*o-b*k,C[10]=r*o-f*k,C[11]=n*o-s*k,C}},64840:function(U){U.exports=function(C,e,T){var k=Math.sin(T),o=Math.cos(T),_=e[0],b=e[1],f=e[2],s=e[3],t=e[8],i=e[9],r=e[10],n=e[11];return e!==C&&(C[4]=e[4],C[5]=e[5],C[6]=e[6],C[7]=e[7],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=_*o-t*k,C[1]=b*o-i*k,C[2]=f*o-r*k,C[3]=s*o-n*k,C[8]=_*k+t*o,C[9]=b*k+i*o,C[10]=f*k+r*o,C[11]=s*k+n*o,C}},4192:function(U){U.exports=function(C,e,T){var k=Math.sin(T),o=Math.cos(T),_=e[0],b=e[1],f=e[2],s=e[3],t=e[4],i=e[5],r=e[6],n=e[7];return e!==C&&(C[8]=e[8],C[9]=e[9],C[10]=e[10],C[11]=e[11],C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15]),C[0]=_*o+t*k,C[1]=b*o+i*k,C[2]=f*o+r*k,C[3]=s*o+n*k,C[4]=t*o-_*k,C[5]=i*o-b*k,C[6]=r*o-f*k,C[7]=n*o-s*k,C}},68152:function(U){U.exports=function(C,e,T){var k=T[0],o=T[1],_=T[2];return C[0]=e[0]*k,C[1]=e[1]*k,C[2]=e[2]*k,C[3]=e[3]*k,C[4]=e[4]*o,C[5]=e[5]*o,C[6]=e[6]*o,C[7]=e[7]*o,C[8]=e[8]*_,C[9]=e[9]*_,C[10]=e[10]*_,C[11]=e[11]*_,C[12]=e[12],C[13]=e[13],C[14]=e[14],C[15]=e[15],C}},89412:function(U){U.exports=function(C){return"mat4("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+", "+C[6]+", "+C[7]+", "+C[8]+", "+C[9]+", "+C[10]+", "+C[11]+", "+C[12]+", "+C[13]+", "+C[14]+", "+C[15]+")"}},35176:function(U){U.exports=function(C,e,T){var k,o,_,b,f,s,t,i,r,n,a,l,u=T[0],h=T[1],c=T[2];return e===C?(C[12]=e[0]*u+e[4]*h+e[8]*c+e[12],C[13]=e[1]*u+e[5]*h+e[9]*c+e[13],C[14]=e[2]*u+e[6]*h+e[10]*c+e[14],C[15]=e[3]*u+e[7]*h+e[11]*c+e[15]):(k=e[0],o=e[1],_=e[2],b=e[3],f=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],a=e[10],l=e[11],C[0]=k,C[1]=o,C[2]=_,C[3]=b,C[4]=f,C[5]=s,C[6]=t,C[7]=i,C[8]=r,C[9]=n,C[10]=a,C[11]=l,C[12]=k*u+f*h+r*c+e[12],C[13]=o*u+s*h+n*c+e[13],C[14]=_*u+t*h+a*c+e[14],C[15]=b*u+i*h+l*c+e[15]),C}},86520:function(U){U.exports=function(C,e){if(C===e){var T=e[1],k=e[2],o=e[3],_=e[6],b=e[7],f=e[11];C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=T,C[6]=e[9],C[7]=e[13],C[8]=k,C[9]=_,C[11]=e[14],C[12]=o,C[13]=b,C[14]=f}else C[0]=e[0],C[1]=e[4],C[2]=e[8],C[3]=e[12],C[4]=e[1],C[5]=e[5],C[6]=e[9],C[7]=e[13],C[8]=e[2],C[9]=e[6],C[10]=e[10],C[11]=e[14],C[12]=e[3],C[13]=e[7],C[14]=e[11],C[15]=e[15];return C}},23352:function(U,C,e){var T=e(42771),k=e(55616),o=e(28624),_=e(55212),b=e(60463),f=e(72160),s=e(33888),t=e(14144),i=e(51160),r=e(58908),n=e(65819),a=e(23464),l=e(63768),u=e(50896),h=e(71920),c=e(47520),x=e(308).nextPow2,p=new b,v=!1;if(document.body){var g=document.body.appendChild(document.createElement("div"));g.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(g).fontStretch&&(v=!0),document.body.removeChild(g)}var y=function(m){(function(w){return typeof w=="function"&&w._gl&&w.prop&&w.texture&&w.buffer})(m)?(m={regl:m},this.gl=m.regl._gl):this.gl=_(m),this.shader=p.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=m.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),p.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(m)?m:{})};y.prototype.createShader=function(){var m=this.regl,w=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(d,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(d,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(d,S){return S.atlas.texture},charStep:function(d,S){return S.atlas.step},em:function(d,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:m,draw:w,atlas:{}}},y.prototype.update=function(m){var w=this;if(typeof m=="string")m={text:m};else if(!m)return;(m=k(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(m.opacity)?this.opacity=m.opacity.map(function(de){return parseFloat(de)}):this.opacity=parseFloat(m.opacity)),m.viewport!=null&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),m.kerning!=null&&(this.kerning=m.kerning),m.offset!=null&&(typeof m.offset=="number"&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=y.baseFontSize+"px sans-serif");var d,S=!1,A=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(de,Ce){if(typeof de=="string")try{de=T.parse(de)}catch{de=T.parse(y.baseFontSize+"px "+de)}else{var _e=de.style,Ae=de.weight,Le=de.stretch,ze=de.variant;de=T.parse(T.stringify(de)),_e&&(de.style=_e),Ae&&(de.weight=Ae),Le&&(de.stretch=Le),ze&&(de.variant=ze)}var Re=T.stringify({size:y.baseFontSize,family:de.family,stretch:v?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style}),ve=n(de.size),ke=Math.round(ve[0]*a(ve[1]));if(ke!==w.fontSize[Ce]&&(A=!0,w.fontSize[Ce]=ke),!(w.font[Ce]&&Re==w.font[Ce].baseString||(S=!0,w.font[Ce]=y.fonts[Re],w.font[Ce]))){var Ee=de.family.join(", "),De=[de.style];de.style!=de.variant&&De.push(de.variant),de.variant!=de.weight&&De.push(de.weight),v&&de.weight!=de.stretch&&De.push(de.stretch),w.font[Ce]={baseString:Re,family:Ee,weight:de.weight,stretch:de.stretch,style:de.style,variant:de.variant,width:{},kerning:{},metrics:h(Ee,{origin:"top",fontSize:y.baseFontSize,fontStyle:De.join(" ")})},y.fonts[Re]=w.font[Ce]}}),(S||A)&&this.font.forEach(function(de,Ce){var _e=T.stringify({size:w.fontSize[Ce],family:de.family,stretch:v?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style});if(w.fontAtlas[Ce]=w.shader.atlas[_e],!w.fontAtlas[Ce]){var Ae=de.metrics;w.shader.atlas[_e]=w.fontAtlas[Ce]={fontString:_e,step:2*Math.ceil(w.fontSize[Ce]*Ae.bottom*.5),em:w.fontSize[Ce],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}m.text==null&&(m.text=w.text)}),typeof m.text=="string"&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),P=0;P<E.length;P++)E[P]=m.text;m.text=E}if(m.text!=null||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var O=1;O<m.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+m.text[O-1].length,this.count+=m.text[O].length,this.counts.push(m.text[O].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];d=[],this.font.forEach(function(de,Ce){y.atlasContext.font=de.baseString;for(var _e=w.fontAtlas[Ce],Ae=0;Ae<w.text.length;Ae++){var Le=w.text.charAt(Ae);if(_e.ids[Le]==null&&(_e.ids[Le]=_e.chars.length,_e.chars.push(Le),d.push(Le)),de.width[Le]==null&&(de.width[Le]=y.atlasContext.measureText(Le).width/y.baseFontSize,w.kerning)){var ze=[];for(var Re in de.width)ze.push(Re+Le,Le+Re);u(de.kerning,l(de.family,{pairs:ze}))}}})}if(m.position)if(m.position.length>2){for(var I=!m.position[0].length,D=t.mallocFloat(2*this.count),V=0,z=0;V<this.counts.length;V++){var j=this.counts[V];if(I)for(var X=0;X<j;X++)D[z++]=m.position[2*V],D[z++]=m.position[2*V+1];else for(var F=0;F<j;F++)D[z++]=m.position[V][0],D[z++]=m.position[V][1]}this.position.call?this.position({type:"float",data:D}):this.position=this.regl.buffer({type:"float",data:D}),t.freeFloat(D)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var H=t.mallocUint8(this.count),W=t.mallocFloat(2*this.count);this.textWidth=[];for(var ie=0,te=0;ie<this.counts.length;ie++){for(var Q=this.counts[ie],ne=this.font[ie]||this.font[0],$=this.fontAtlas[ie]||this.fontAtlas[0],J=0;J<Q;J++){var re=this.text.charAt(te),se=this.text.charAt(te-1);if(H[te]=$.ids[re],W[2*te]=ne.width[re],J){var ue=W[2*te-2],he=W[2*te],pe=W[2*te-1]+.5*ue+.5*he;if(this.kerning){var ge=ne.kerning[se+re];ge&&(pe+=.001*ge)}W[2*te+1]=pe}else W[2*te+1]=.5*W[2*te];te++}this.textWidth.push(W.length?.5*W[2*te-2]+W[2*te-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:H,type:"uint8",usage:"stream"}),this.sizeBuffer({data:W,type:"float",usage:"stream"}),t.freeUint8(H),t.freeFloat(W),d.length&&this.font.forEach(function(de,Ce){var _e=w.fontAtlas[Ce],Ae=_e.step,Le=Math.floor(y.maxAtlasSize/Ae),ze=Math.min(Le,_e.chars.length),Re=Math.ceil(_e.chars.length/ze),ve=x(ze*Ae),ke=x(Re*Ae);_e.width=ve,_e.height=ke,_e.rows=Re,_e.cols=ze,_e.em&&_e.texture({data:s({canvas:y.atlasCanvas,font:_e.fontString,chars:_e.chars,shape:[ve,ke],step:[Ae,Ae]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(de,Ce){var _e=Array.isArray(w.align)?w.align.length>1?w.align[Ce]:w.align[0]:w.align;if(typeof _e=="number")return _e;switch(_e){case"right":case"end":return-de;case"center":case"centre":case"middle":return .5*-de}return 0})),this.baseline==null&&m.baseline==null&&(m.baseline=0),m.baseline!=null&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(de,Ce){var _e=(w.font[Ce]||w.font[0]).metrics,Ae=0;return Ae+=.5*_e.bottom,-1*(Ae+=typeof de=="number"?de-_e.baseline:-_e[de])})),m.color!=null)if(m.color||(m.color="transparent"),typeof m.color!="string"&&isNaN(m.color)){var ye;if(typeof m.color[0]=="number"&&m.color.length>this.counts.length){var be=m.color.length;ye=t.mallocUint8(be);for(var Te=(m.color.subarray||m.color.slice).bind(m.color),Se=0;Se<be;Se+=4)ye.set(f(Te(Se,Se+4),"uint8"),Se)}else{var Fe=m.color.length;ye=t.mallocUint8(4*Fe);for(var xe=0;xe<Fe;xe++)ye.set(f(m.color[xe]||0,"uint8"),4*xe)}this.color=ye}else this.color=f(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var le=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(le);for(var oe=0;oe<this.batch.length;oe++)this.batch[oe]={count:this.counts.length>1?this.counts[oe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[oe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*oe,4*oe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[oe]:this.opacity,baseline:this.baselineOffset[oe]!=null?this.baselineOffset[oe]:this.baselineOffset[0],align:this.align?this.alignOffset[oe]!=null?this.alignOffset[oe]:this.alignOffset[0]:0,atlas:this.fontAtlas[oe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*oe,2*oe+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},U.exports=y},55212:function(U,C,e){var T=e(55616);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var f=b.container.getBoundingClientRect();b.canvas.width=b.width||f.right-f.left,b.canvas.height=b.height||f.bottom-f.top}}function o(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function _(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}U.exports=function(b){var f;if(b?typeof b=="string"&&(b={container:b}):b={},(b=o(b)||typeof(f=b).nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"?{container:b}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(b)?{gl:b}:T(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var s=document.querySelector(b.container);if(!s)throw Error("Element "+b.container+" is not found");b.container=s}o(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=_(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=_(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},26444:function(U){U.exports=function(C){typeof C=="string"&&(C=[C]);for(var e=[].slice.call(arguments,1),T=[],k=0;k<C.length-1;k++)T.push(C[k],e[k]||"");return T.push(C[k]),T.join("")}},2304:function(U,C,e){var T=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(T)try{T([],"length")}catch{T=null}U.exports=T},52264:function(U,C,e){var T,k=e(24200);T=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:k,U.exports=T},89184:function(U,C,e){var T=e(24200);U.exports=T&&function(){var k=!1;try{var o=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{k=!1}return k}()},39640:function(U,C,e){var T=e(53664)("%Object.defineProperty%",!0),k=function(){if(T)try{return T({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return T([],"length",{value:1}).length!==1}catch{return!0}},U.exports=k},69572:function(U){var C={foo:{}},e=Object;U.exports=function(){return{__proto__:C}.foo===C.foo&&!({__proto__:null}instanceof e)}},71080:function(U,C,e){var T=typeof Symbol<"u"&&Symbol,k=e(89320);U.exports=function(){return typeof T=="function"&&typeof Symbol=="function"&&typeof T("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&k()}},89320:function(U){U.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var C={},e=Symbol("test"),T=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(T)!=="[object Symbol]")return!1;for(e in C[e]=42,C)return!1;if(typeof Object.keys=="function"&&Object.keys(C).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(C).length!==0)return!1;var k=Object.getOwnPropertySymbols(C);if(k.length!==1||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(C,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(C,e);if(o.value!==42||o.enumerable!==!0)return!1}return!0}},46672:function(U,C,e){var T=e(89320);U.exports=function(){return T()&&!!Symbol.toStringTag}},92064:function(U,C,e){var T=Function.prototype.call,k=Object.prototype.hasOwnProperty,o=e(8844);U.exports=o.call(T,k)},35984:function(U,C){C.read=function(e,T,k,o,_){var b,f,s=8*_-o-1,t=(1<<s)-1,i=t>>1,r=-7,n=k?_-1:0,a=k?-1:1,l=e[T+n];for(n+=a,b=l&(1<<-r)-1,l>>=-r,r+=s;r>0;b=256*b+e[T+n],n+=a,r-=8);for(f=b&(1<<-r)-1,b>>=-r,r+=o;r>0;f=256*f+e[T+n],n+=a,r-=8);if(b===0)b=1-i;else{if(b===t)return f?NaN:1/0*(l?-1:1);f+=Math.pow(2,o),b-=i}return(l?-1:1)*f*Math.pow(2,b-o)},C.write=function(e,T,k,o,_,b){var f,s,t,i=8*b-_-1,r=(1<<i)-1,n=r>>1,a=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=o?0:b-1,u=o?1:-1,h=T<0||T===0&&1/T<0?1:0;for(T=Math.abs(T),isNaN(T)||T===1/0?(s=isNaN(T)?1:0,f=r):(f=Math.floor(Math.log(T)/Math.LN2),T*(t=Math.pow(2,-f))<1&&(f--,t*=2),(T+=f+n>=1?a/t:a*Math.pow(2,1-n))*t>=2&&(f++,t/=2),f+n>=r?(s=0,f=r):f+n>=1?(s=(T*t-1)*Math.pow(2,_),f+=n):(s=T*Math.pow(2,n-1)*Math.pow(2,_),f=0));_>=8;e[k+l]=255&s,l+=u,s/=256,_-=8);for(f=f<<_|s,i+=_;i>0;e[k+l]=255&f,l+=u,f/=256,i-=8);e[k+l-u]|=128*h}},6768:function(U){typeof Object.create=="function"?U.exports=function(C,e){e&&(C.super_=e,C.prototype=Object.create(e.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(C,e){if(e){C.super_=e;var T=function(){};T.prototype=e.prototype,C.prototype=new T,C.prototype.constructor=C}}},91148:function(U,C,e){var T=e(46672)(),k=e(99676)("Object.prototype.toString"),o=function(f){return!(T&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&k(f)==="[object Arguments]"},_=function(f){return!!o(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&k(f)!=="[object Array]"&&k(f.callee)==="[object Function]"},b=function(){return o(arguments)}();o.isLegacyArguments=_,U.exports=b?o:_},24200:function(U){U.exports=!0},90720:function(U){var C,e,T=Function.prototype.toString,k=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof k=="function"&&typeof Object.defineProperty=="function")try{C=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,C)}catch(n){n!==e&&(k=null)}else k=null;var o=/^\s*class\b/,_=function(n){try{var a=T.call(n);return o.test(a)}catch{return!1}},b=function(n){try{return!_(n)&&(T.call(n),!0)}catch{return!1}},f=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var r=document.all;f.call(r)===f.call(document.all)&&(i=function(n){if((t||!n)&&(n===void 0||typeof n=="object"))try{var a=f.call(n);return(a==="[object HTMLAllCollection]"||a==="[object HTML document.all class]"||a==="[object HTMLCollection]"||a==="[object Object]")&&n("")==null}catch{}return!1})}U.exports=k?function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;try{k(n,null,C)}catch(a){if(a!==e)return!1}return!_(n)&&b(n)}:function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;if(s)return b(n);if(_(n))return!1;var a=f.call(n);return!(a!=="[object Function]"&&a!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(a))&&b(n)}},84420:function(U,C,e){var T,k=Object.prototype.toString,o=Function.prototype.toString,_=/^\s*(?:function)?\*/,b=e(46672)(),f=Object.getPrototypeOf;U.exports=function(s){if(typeof s!="function")return!1;if(_.test(o.call(s)))return!0;if(!b)return k.call(s)==="[object GeneratorFunction]";if(!f)return!1;if(T===void 0){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();T=!!t&&f(t)}return f(s)===T}},96604:function(U){U.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(U){U.exports=function(C){return C!=C}},1560:function(U,C,e){var T=e(57916),k=e(81288),o=e(85992),_=e(57740),b=e(59736),f=T(_(),Number);k(f,{getPolyfill:_,implementation:o,shim:b}),U.exports=f},57740:function(U,C,e){var T=e(85992);U.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:T}},59736:function(U,C,e){var T=e(81288),k=e(57740);U.exports=function(){var o=k();return T(Number,{isNaN:o},{isNaN:function(){return Number.isNaN!==o}}),o}},18400:function(U){U.exports=function(C){var e=typeof C;return C!==null&&(e==="object"||e==="function")}},58908:function(U){var C=Object.prototype.toString;U.exports=function(e){var T;return C.call(e)==="[object Object]"&&((T=Object.getPrototypeOf(e))===null||T===Object.getPrototypeOf({}))}},94576:function(U){U.exports=function(C){for(var e,T=C.length,k=0;k<T;k++)if(((e=C.charCodeAt(k))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(U){U.exports=function(C){return typeof C=="string"&&(C=C.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(C)&&/[\dz]$/i.test(C)&&C.length>4))}},7728:function(U,C,e){var T=e(46492),k=e(63436),o=e(99676),_=o("Object.prototype.toString"),b=e(46672)(),f=e(2304),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=o("Array.prototype.indexOf",!0)||function(l,u){for(var h=0;h<l.length;h+=1)if(l[h]===u)return h;return-1},r=o("String.prototype.slice"),n={},a=Object.getPrototypeOf;b&&f&&a&&T(t,function(l){var u=new s[l];if(Symbol.toStringTag in u){var h=a(u),c=f(h,Symbol.toStringTag);if(!c){var x=a(h);c=f(x,Symbol.toStringTag)}n[l]=c.get}}),U.exports=function(l){if(!l||typeof l!="object")return!1;if(!b||!(Symbol.toStringTag in l)){var u=r(_(l),8,-1);return i(t,u)>-1}return!!f&&function(h){var c=!1;return T(n,function(x,p){if(!c)try{c=x.call(h)===p}catch{}}),c}(l)}},76244:function(U){U.exports=Math.log2||function(C){return Math.log(C)*Math.LOG2E}},62644:function(U,C,e){U.exports=function(k,o){o||(o=k,k=window);var _=0,b=0,f=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(v){var g=!1;return"altKey"in v&&(g=g||v.altKey!==s.alt,s.alt=!!v.altKey),"shiftKey"in v&&(g=g||v.shiftKey!==s.shift,s.shift=!!v.shiftKey),"ctrlKey"in v&&(g=g||v.ctrlKey!==s.control,s.control=!!v.ctrlKey),"metaKey"in v&&(g=g||v.metaKey!==s.meta,s.meta=!!v.metaKey),g}function r(v,g){var y=T.x(g),m=T.y(g);"buttons"in g&&(v=0|g.buttons),(v!==_||y!==b||m!==f||i(g))&&(_=0|v,b=y||0,f=m||0,o&&o(_,b,f,s))}function n(v){r(0,v)}function a(){(_||b||f||s.shift||s.alt||s.meta||s.control)&&(b=f=0,_=0,s.shift=s.alt=s.control=s.meta=!1,o&&o(0,0,0,s))}function l(v){i(v)&&o&&o(_,b,f,s)}function u(v){T.buttons(v)===0?r(0,v):r(_,v)}function h(v){r(_|T.buttons(v),v)}function c(v){r(_&~T.buttons(v),v)}function x(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",h),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",n),k.addEventListener("mouseenter",n),k.addEventListener("mouseout",n),k.addEventListener("mouseover",n),k.addEventListener("blur",a),k.addEventListener("keyup",l),k.addEventListener("keydown",l),k.addEventListener("keypress",l),k!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}x();var p={element:k};return Object.defineProperties(p,{enabled:{get:function(){return t},set:function(v){v?x():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",h),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",n),k.removeEventListener("mouseenter",n),k.removeEventListener("mouseout",n),k.removeEventListener("mouseover",n),k.removeEventListener("blur",a),k.removeEventListener("keyup",l),k.removeEventListener("keydown",l),k.removeEventListener("keypress",l),k!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return _},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),p};var T=e(93784)},29128:function(U){var C={left:0,top:0};U.exports=function(e,T,k){T=T||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var o,_=e.clientX||0,b=e.clientY||0,f=(o=T)===window||o===document||o===document.body?C:o.getBoundingClientRect();return k[0]=_-f.left,k[1]=b-f.top,k}},93784:function(U,C){function e(T){return T.target||T.srcElement||window}C.buttons=function(T){if(typeof T=="object"){if("buttons"in T)return T.buttons;if("which"in T){if((k=T.which)===2)return 4;if(k===3)return 2;if(k>0)return 1<<k-1}else if("button"in T){var k;if((k=T.button)===1)return 4;if(k===2)return 2;if(k>=0)return 1<<k}}return 0},C.element=e,C.x=function(T){if(typeof T=="object"){if("offsetX"in T)return T.offsetX;var k=e(T).getBoundingClientRect();return T.clientX-k.left}return 0},C.y=function(T){if(typeof T=="object"){if("offsetY"in T)return T.offsetY;var k=e(T).getBoundingClientRect();return T.clientY-k.top}return 0}},97264:function(U,C,e){var T=e(23464);U.exports=function(k,o,_){typeof k=="function"&&(_=!!o,o=k,k=window);var b=T("ex",k),f=function(s){_&&s.preventDefault();var t=s.deltaX||0,i=s.deltaY||0,r=s.deltaZ||0,n=1;switch(s.deltaMode){case 1:n=b;break;case 2:n=window.innerHeight}if(i*=n,r*=n,(t*=n)||i||r)return o(t,i,r,s)};return k.addEventListener("wheel",f),f}},88324:function(U,C,e){var T;(function(k,o,_){o[k]=o[k]||function(){var b,f,s,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(y,m,w,d){return Object.defineProperty(y,m,{value:w,writable:!0,configurable:d!==!1})}}catch{b=function(m,w,d){return m[w]=d,m}}function r(y,m){s.add(y,m),f||(f=i(s.drain))}function n(y){var m,w=typeof y;return y==null||w!="object"&&w!="function"||(m=y.then),typeof m=="function"&&m}function a(){for(var y=0;y<this.chain.length;y++)l(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function l(y,m,w){var d,S;try{m===!1?w.reject(y.msg):(d=m===!0?y.msg:m.call(void 0,y.msg))===w.promise?w.reject(TypeError("Promise-chain cycle")):(S=n(d))?S.call(d,w.resolve,w.reject):w.resolve(d)}catch(A){w.reject(A)}}function u(y){var m,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(m=n(y))?r(function(){var d=new x(w);try{m.call(y,function(){u.apply(d,arguments)},function(){h.apply(d,arguments)})}catch(S){h.call(d,S)}}):(w.msg=y,w.state=1,w.chain.length>0&&r(a,w))}catch(d){h.call(new x(w),d)}}}function h(y){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=y,m.state=2,m.chain.length>0&&r(a,m))}function c(y,m,w,d){for(var S=0;S<m.length;S++)(function(A){y.resolve(m[A]).then(function(E){w(A,E)},d)})(S)}function x(y){this.def=y,this.triggered=!1}function p(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new p(this);this.then=function(w,d){var S={success:typeof w!="function"||w,failure:typeof d=="function"&&d};return S.promise=new this.constructor(function(A,E){if(typeof A!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=A,S.reject=E}),m.chain.push(S),m.state!==0&&r(a,m),S.promise},this.catch=function(w){return this.then(void 0,w)};try{y.call(void 0,function(w){u.call(m,w)},function(w){h.call(m,w)})}catch(w){h.call(m,w)}}s=function(){var y,m,w;function d(S,A){this.fn=S,this.self=A,this.next=void 0}return{add:function(S,A){w=new d(S,A),m?m.next=w:y=w,m=w,w=void 0},drain:function(){var S=y;for(y=m=f=void 0;S;)S.fn.call(S.self),S=S.next}}}();var g=b({},"constructor",v,!1);return v.prototype=g,b(g,"__NPO__",0,!1),b(v,"resolve",function(y){return y&&typeof y=="object"&&y.__NPO__===1?y:new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");m(y)})}),b(v,"reject",function(y){return new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");w(y)})}),b(v,"all",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):y.length===0?m.resolve([]):new m(function(w,d){if(typeof w!="function"||typeof d!="function")throw TypeError("Not a function");var S=y.length,A=Array(S),E=0;c(m,y,function(P,O){A[P]=O,++E===S&&w(A)},d)})}),b(v,"race",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(w,d){if(typeof w!="function"||typeof d!="function")throw TypeError("Not a function");c(m,y,function(S,A){w(A)},d)})}),v}(),U.exports?U.exports=o[k]:(T=(function(){return o[k]}).call(C,e,C,U))===void 0||(U.exports=T)})("Promise",e.g!==void 0?e.g:this)},48816:function(U){var C=Math.PI,e=b(120);function T(f,s,t,i){return["C",f,s,t,i,t,i]}function k(f,s,t,i,r,n){return["C",f/3+.6666666666666666*t,s/3+.6666666666666666*i,r/3+.6666666666666666*t,n/3+.6666666666666666*i,r,n]}function o(f,s,t,i,r,n,a,l,u,h){if(h)S=h[0],A=h[1],w=h[2],d=h[3];else{var c=_(f,s,-r);f=c.x,s=c.y;var x=(f-(l=(c=_(l,u,-r)).x))/2,p=(s-(u=c.y))/2,v=x*x/(t*t)+p*p/(i*i);v>1&&(t*=v=Math.sqrt(v),i*=v);var g=t*t,y=i*i,m=(n==a?-1:1)*Math.sqrt(Math.abs((g*y-g*p*p-y*x*x)/(g*p*p+y*x*x)));m==1/0&&(m=1);var w=m*t*p/i+(f+l)/2,d=m*-i*x/t+(s+u)/2,S=Math.asin(((s-d)/i).toFixed(9)),A=Math.asin(((u-d)/i).toFixed(9));(S=f<w?C-S:S)<0&&(S=2*C+S),(A=l<w?C-A:A)<0&&(A=2*C+A),a&&S>A&&(S-=2*C),!a&&A>S&&(A-=2*C)}if(Math.abs(A-S)>e){var E=A,P=l,O=u;A=S+e*(a&&A>S?1:-1);var I=o(l=w+t*Math.cos(A),u=d+i*Math.sin(A),t,i,r,0,a,P,O,[A,E,w,d])}var D=Math.tan((A-S)/4),V=4/3*t*D,z=4/3*i*D,j=[2*f-(f+V*Math.sin(S)),2*s-(s-z*Math.cos(S)),l+V*Math.sin(A),u-z*Math.cos(A),l,u];if(h)return j;I&&(j=j.concat(I));for(var X=0;X<j.length;){var F=_(j[X],j[X+1],r);j[X++]=F.x,j[X++]=F.y}return j}function _(f,s,t){return{x:f*Math.cos(t)-s*Math.sin(t),y:f*Math.sin(t)+s*Math.cos(t)}}function b(f){return f*(C/180)}U.exports=function(f){for(var s,t=[],i=0,r=0,n=0,a=0,l=null,u=null,h=0,c=0,x=0,p=f.length;x<p;x++){var v=f[x],g=v[0];switch(g){case"M":n=v[1],a=v[2];break;case"A":(v=o(h,c,v[1],v[2],b(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(t.push(v.splice(0,7)),v.unshift("C"));break;case"S":var y=h,m=c;s!="C"&&s!="S"||(y+=y-i,m+=m-r),v=["C",y,m,v[1],v[2],v[3],v[4]];break;case"T":s=="Q"||s=="T"?(l=2*h-l,u=2*c-u):(l=h,u=c),v=k(h,c,l,u,v[1],v[2]);break;case"Q":l=v[1],u=v[2],v=k(h,c,v[1],v[2],v[3],v[4]);break;case"L":v=T(h,c,v[1],v[2]);break;case"H":v=T(h,c,v[1],c);break;case"V":v=T(h,c,h,v[1]);break;case"Z":v=T(h,c,n,a)}s=g,h=v[v.length-2],c=v[v.length-1],v.length>4?(i=v[v.length-4],r=v[v.length-3]):(i=h,r=c),t.push(v)}return t}},50896:function(U){var C=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;U.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var o={},_=0;_<10;_++)o["_"+String.fromCharCode(_)]=_;if(Object.getOwnPropertyNames(o).map(function(f){return o[f]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(f){b[f]=f}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(k,o){for(var _,b,f=function(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(k),s=1;s<arguments.length;s++){for(var t in _=Object(arguments[s]))e.call(_,t)&&(f[t]=_[t]);if(C){b=C(_);for(var i=0;i<b.length;i++)T.call(_,b[i])&&(f[b[i]]=_[b[i]])}}return f}},76835:function(U){var C=function(e){return e!=e};U.exports=function(e,T){return e===0&&T===0?1/e==1/T:e===T||!(!C(e)||!C(T))}},39896:function(U,C,e){var T=e(81288),k=e(57916),o=e(76835),_=e(66148),b=e(16408),f=k(_(),Object);T(f,{getPolyfill:_,implementation:o,shim:b}),U.exports=f},66148:function(U,C,e){var T=e(76835);U.exports=function(){return typeof Object.is=="function"?Object.is:T}},16408:function(U,C,e){var T=e(66148),k=e(81288);U.exports=function(){var o=T();return k(Object,{is:o},{is:function(){return Object.is!==o}}),o}},32764:function(U,C,e){var T;if(!Object.keys){var k=Object.prototype.hasOwnProperty,o=Object.prototype.toString,_=e(97344),b=Object.prototype.propertyIsEnumerable,f=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(a){var l=a.constructor;return l&&l.prototype===a},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var a in window)try{if(!r["$"+a]&&k.call(window,a)&&window[a]!==null&&typeof window[a]=="object")try{i(window[a])}catch{return!0}}catch{return!0}return!1}();T=function(a){var l=a!==null&&typeof a=="object",u=o.call(a)==="[object Function]",h=_(a),c=l&&o.call(a)==="[object String]",x=[];if(!l&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var p=s&&u;if(c&&a.length>0&&!k.call(a,0))for(var v=0;v<a.length;++v)x.push(String(v));if(h&&a.length>0)for(var g=0;g<a.length;++g)x.push(String(g));else for(var y in a)p&&y==="prototype"||!k.call(a,y)||x.push(String(y));if(f)for(var m=function(d){if(typeof window>"u"||!n)return i(d);try{return i(d)}catch{return!1}}(a),w=0;w<t.length;++w)m&&t[w]==="constructor"||!k.call(a,t[w])||x.push(t[w]);return x}}U.exports=T},41820:function(U,C,e){var T=Array.prototype.slice,k=e(97344),o=Object.keys,_=o?function(f){return o(f)}:e(32764),b=Object.keys;_.shim=function(){if(Object.keys){var f=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);f||(Object.keys=function(s){return k(s)?b(T.call(s)):b(s)})}else Object.keys=_;return Object.keys||_},U.exports=_},97344:function(U){var C=Object.prototype.toString;U.exports=function(e){var T=C.call(e),k=T==="[object Arguments]";return k||(k=T!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&C.call(e.callee)==="[object Function]"),k}},32868:function(U){function C(k,o){if(typeof k!="string")return[k];var _=[k];typeof o=="string"||Array.isArray(o)?o={brackets:o}:o||(o={});var b=o.brackets?Array.isArray(o.brackets)?o.brackets:[o.brackets]:["{}","[]","()"],f=o.escape||"___",s=!!o.flat;b.forEach(function(i){var r=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),n=[];function a(l,u,h){var c=_.push(l.slice(i[0].length,-i[1].length))-1;return n.push(c),f+c+f}_.forEach(function(l,u){for(var h,c=0;l!=h;)if(h=l,l=l.replace(r,a),c++>1e4)throw Error("References have circular dependency. Please, check them.");_[u]=l}),n=n.reverse(),_=_.map(function(l){return n.forEach(function(u){l=l.replace(new RegExp("(\\"+f+u+"\\"+f+")","g"),i[0]+"$1"+i[1])}),l})});var t=new RegExp("\\"+f+"([0-9]+)\\"+f);return s?_:function i(r,n,a){for(var l,u=[],h=0;l=t.exec(r);){if(h++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,l.index)),u.push(i(n[l[1]],n)),r=r.slice(l.index+l[0].length)}return u.push(r),u}(_[0],_)}function e(k,o){if(o&&o.flat){var _,b=o&&o.escape||"___",f=k[0];if(!f)return"";for(var s=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;f!=_;){if(t++>1e4)throw Error("Circular references in "+k);_=f,f=f.replace(s,i)}return f}return k.reduce(function r(n,a){return Array.isArray(a)&&(a=a.reduce(r,"")),n+a},"");function i(r,n){if(k[n]==null)throw Error("Reference "+n+"is undefined");return k[n]}}function T(k,o){return Array.isArray(k)?e(k,o):C(k,o)}T.parse=C,T.stringify=e,U.exports=T},51160:function(U,C,e){var T=e(55616);U.exports=function(k){var o;return arguments.length>1&&(k=arguments),typeof k=="string"?k=k.split(/\s/).map(parseFloat):typeof k=="number"&&(k=[k]),k.length&&typeof k[0]=="number"?o=k.length===1?{width:k[0],height:k[0],x:0,y:0}:k.length===2?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(o={x:(k=T(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},k.width==null?k.right?o.width=k.right-o.x:o.width=0:o.width=k.width,k.height==null?k.bottom?o.height=k.bottom-o.y:o.height=0:o.height=k.height),o}},21984:function(U){U.exports=function(k){var o=[];return k.replace(e,function(_,b,f){var s=b.toLowerCase();for(f=function(t){var i=t.match(T);return i?i.map(Number):[]}(f),s=="m"&&f.length>2&&(o.push([b].concat(f.splice(0,2))),s="l",b=b=="m"?"l":"L");;){if(f.length==C[s])return f.unshift(b),o.push(f);if(f.length<C[s])throw new Error("malformed path data");o.push([b].concat(f.splice(0,C[s])))}}),o};var C={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,T=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(U){U.exports=function(C,e){e||(e=[0,""]),C=String(C);var T=parseFloat(C,10);return e[0]=T,e[1]=C.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(U,C,e){var T=e(4168);(function(){var k,o,_,b,f,s;typeof performance<"u"&&performance!==null&&performance.now?U.exports=function(){return performance.now()}:T!=null&&T.hrtime?(U.exports=function(){return(k()-f)/1e6},o=T.hrtime,b=(k=function(){var t;return 1e9*(t=o())[0]+t[1]})(),s=1e9*T.uptime(),f=b-s):Date.now?(U.exports=function(){return Date.now()-_},_=Date.now()):(U.exports=function(){return new Date().getTime()-_},_=new Date().getTime())}).call(this)},55616:function(U){U.exports=function(T,k,o){var _,b,f={};if(typeof k=="string"&&(k=e(k)),Array.isArray(k)){var s={};for(b=0;b<k.length;b++)s[k[b]]=!0;k=s}for(_ in k)k[_]=e(k[_]);var t={};for(_ in k){var i=k[_];if(Array.isArray(i))for(b=0;b<i.length;b++){var r=i[b];if(o&&(t[r]=!0),r in T){if(f[_]=T[r],o)for(var n=b;n<i.length;n++)t[i[n]]=!0;break}}else _ in T&&(k[_]&&(f[_]=T[_]),o&&(t[_]=!0))}if(o)for(_ in T)t[_]||(f[_]=T[_]);return f};var C={};function e(T){return C[T]?C[T]:(typeof T=="string"&&(T=C[T]=T.split(/\s*,\s*|\s+/)),T)}},61456:function(U){U.exports=function(C,e,T,k){var o=C[0],_=C[1],b=!1;T===void 0&&(T=0),k===void 0&&(k=e.length);for(var f=k-T,s=0,t=f-1;s<f;t=s++){var i=e[s+T][0],r=e[s+T][1],n=e[t+T][0],a=e[t+T][1];r>_!=a>_&&o<(n-i)*(_-r)/(a-r)+i&&(b=!b)}return b}},14756:function(U,C,e){var T,k=e(7688),o=e(28648),_=e(72200),b=e(11403),f=e(82368),s=e(17792),t=!1,i=o();function r(n,a,l){var u=T.segments(n),h=T.segments(a),c=l(T.combine(u,h));return T.polygon(c)}T={buildLog:function(n){return n===!0?t=k():n===!1&&(t=!1),t!==!1&&t.list},epsilon:function(n){return i.epsilon(n)},segments:function(n){var a=_(!0,i,t);return n.regions.forEach(a.addRegion),{segments:a.calculate(n.inverted),inverted:n.inverted}},combine:function(n,a){return{combined:_(!1,i,t).calculate(n.segments,n.inverted,a.segments,a.inverted),inverted1:n.inverted,inverted2:a.inverted}},selectUnion:function(n){return{segments:f.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:f.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:f.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:f.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:f.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:b(n.segments,i,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return s.toPolygon(T,n)},polygonToGeoJSON:function(n){return s.fromPolygon(T,i,n)},union:function(n,a){return r(n,a,T.selectUnion)},intersect:function(n,a){return r(n,a,T.selectIntersect)},difference:function(n,a){return r(n,a,T.selectDifference)},differenceRev:function(n,a){return r(n,a,T.selectDifferenceRev)},xor:function(n,a){return r(n,a,T.selectXor)}},typeof window=="object"&&(window.PolyBool=T),U.exports=T},7688:function(U){U.exports=function(){var C,e=0,T=!1;function k(o,_){return C.list.push({type:o,data:_?JSON.parse(JSON.stringify(_)):void 0}),C}return C={list:[],segmentId:function(){return e++},checkIntersection:function(o,_){return k("check",{seg1:o,seg2:_})},segmentChop:function(o,_){return k("div_seg",{seg:o,pt:_}),k("chop",{seg:o,pt:_})},statusRemove:function(o){return k("pop_seg",{seg:o})},segmentUpdate:function(o){return k("seg_update",{seg:o})},segmentNew:function(o,_){return k("new_seg",{seg:o,primary:_})},segmentRemove:function(o){return k("rem_seg",{seg:o})},tempStatus:function(o,_,b){return k("temp_status",{seg:o,above:_,below:b})},rewind:function(o){return k("rewind",{seg:o})},status:function(o,_,b){return k("status",{seg:o,above:_,below:b})},vert:function(o){return o===T?C:(T=o,k("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),k("log",{txt:o})},reset:function(){return k("reset")},selected:function(o){return k("selected",{segs:o})},chainStart:function(o){return k("chain_start",{seg:o})},chainRemoveHead:function(o,_){return k("chain_rem_head",{index:o,pt:_})},chainRemoveTail:function(o,_){return k("chain_rem_tail",{index:o,pt:_})},chainNew:function(o,_){return k("chain_new",{pt1:o,pt2:_})},chainMatch:function(o){return k("chain_match",{index:o})},chainClose:function(o){return k("chain_close",{index:o})},chainAddHead:function(o,_){return k("chain_add_head",{index:o,pt:_})},chainAddTail:function(o,_){return k("chain_add_tail",{index:o,pt:_})},chainConnect:function(o,_){return k("chain_con",{index1:o,index2:_})},chainReverse:function(o){return k("chain_rev",{index:o})},chainJoin:function(o,_){return k("chain_join",{index1:o,index2:_})},done:function(){return k("done")}}}},28648:function(U){U.exports=function(C){typeof C!="number"&&(C=1e-10);var e={epsilon:function(T){return typeof T=="number"&&(C=T),C},pointAboveOrOnLine:function(T,k,o){var _=k[0],b=k[1],f=o[0],s=o[1],t=T[0];return(f-_)*(T[1]-b)-(s-b)*(t-_)>=-C},pointBetween:function(T,k,o){var _=T[1]-k[1],b=o[0]-k[0],f=T[0]-k[0],s=o[1]-k[1],t=f*b+_*s;return!(t<C||t-(b*b+s*s)>-C)},pointsSameX:function(T,k){return Math.abs(T[0]-k[0])<C},pointsSameY:function(T,k){return Math.abs(T[1]-k[1])<C},pointsSame:function(T,k){return e.pointsSameX(T,k)&&e.pointsSameY(T,k)},pointsCompare:function(T,k){return e.pointsSameX(T,k)?e.pointsSameY(T,k)?0:T[1]<k[1]?-1:1:T[0]<k[0]?-1:1},pointsCollinear:function(T,k,o){var _=T[0]-k[0],b=T[1]-k[1],f=k[0]-o[0],s=k[1]-o[1];return Math.abs(_*s-f*b)<C},linesIntersect:function(T,k,o,_){var b=k[0]-T[0],f=k[1]-T[1],s=_[0]-o[0],t=_[1]-o[1],i=b*t-f*s;if(Math.abs(i)<C)return!1;var r=T[0]-o[0],n=T[1]-o[1],a=(s*n-t*r)/i,l=(b*n-f*r)/i,u={alongA:0,alongB:0,pt:[T[0]+a*b,T[1]+a*f]};return u.alongA=a<=-C?-2:a<C?-1:a-1<=-C?0:a-1<C?1:2,u.alongB=l<=-C?-2:l<C?-1:l-1<=-C?0:l-1<C?1:2,u},pointInsideRegion:function(T,k){for(var o=T[0],_=T[1],b=k[k.length-1][0],f=k[k.length-1][1],s=!1,t=0;t<k.length;t++){var i=k[t][0],r=k[t][1];r-_>C!=f-_>C&&(b-i)*(_-r)/(f-r)+i-o>C&&(s=!s),b=i,f=r}return s}};return e}},17792:function(U){var C={toPolygon:function(e,T){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function f(i){var r=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[r]})}for(var s=f(b[0]),t=1;t<b.length;t++)s=e.selectDifference(e.combine(s,f(b[t])));return s}if(T.type==="Polygon")return e.polygon(k(T.coordinates));if(T.type==="MultiPolygon"){for(var o=e.segments({inverted:!1,regions:[]}),_=0;_<T.coordinates.length;_++)o=e.selectUnion(e.combine(o,k(T.coordinates[_])));return e.polygon(o)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,T,k){function o(l,u){return T.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function _(l){return{region:l,children:[]}}k=e.polygon(e.segments(k));var b=_(null);function f(l,u){for(var h=0;h<l.children.length;h++)if(o(u,(x=l.children[h]).region))return void f(x,u);var c=_(u);for(h=0;h<l.children.length;h++){var x;o((x=l.children[h]).region,u)&&(c.children.push(x),l.children.splice(h,1),h--)}l.children.push(c)}for(var s=0;s<k.regions.length;s++){var t=k.regions[s];t.length<3||f(b,t)}function i(l,u){for(var h=0,c=l[l.length-1][0],x=l[l.length-1][1],p=[],v=0;v<l.length;v++){var g=l[v][0],y=l[v][1];p.push([g,y]),h+=y*c-g*x,c=g,x=y}return h<0!==u&&p.reverse(),p.push([p[0][0],p[0][1]]),p}var r=[];function n(l){var u=[i(l.region,!1)];r.push(u);for(var h=0;h<l.children.length;h++)u.push(a(l.children[h]))}function a(l){for(var u=0;u<l.children.length;u++)n(l.children[u]);return i(l.region,!0)}for(s=0;s<b.children.length;s++)n(b.children[s]);return r.length<=0?{type:"Polygon",coordinates:[]}:r.length==1?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}};U.exports=C},72200:function(U,C,e){var T=e(48088);U.exports=function(k,o,_){function b(n,a,l){return{id:_?_.segmentId():-1,start:n,end:a,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var f=T.create();function s(n,a){f.insertBefore(n,function(l){return u=n.isStart,h=n.pt,c=a,x=l.isStart,p=l.pt,v=l.other.pt,((g=o.pointsCompare(h,p))!==0?g:o.pointsSame(c,v)?0:u!==x?u?1:-1:o.pointAboveOrOnLine(c,x?p:v,x?v:p)?1:-1)<0;var u,h,c,x,p,v,g})}function t(n,a){var l=function(u,h){var c=T.node({isStart:!0,pt:u.start,seg:u,primary:h,other:null,status:null});return s(c,u.end),c}(n,a);return function(u,h,c){var x=T.node({isStart:!1,pt:h.end,seg:h,primary:c,other:u,status:null});u.other=x,s(x,u.pt)}(l,n,a),l}function i(n,a){var l=b(a,n.seg.end,n.seg);return function(u,h){_&&_.segmentChop(u.seg,h),u.other.remove(),u.seg.end=h,u.other.pt=h,s(u.other,u.pt)}(n,a),t(l,n.primary)}function r(n,a){var l=T.create();function u(E){return l.findTransition(function(P){var O,I,D,V,z,j;return O=E,I=P.ev,D=O.seg.start,V=O.seg.end,z=I.seg.start,j=I.seg.end,(o.pointsCollinear(D,z,j)?o.pointsCollinear(V,z,j)||o.pointAboveOrOnLine(V,z,j)?1:-1:o.pointAboveOrOnLine(D,z,j)?1:-1)>0})}function h(E,P){var O=E.seg,I=P.seg,D=O.start,V=O.end,z=I.start,j=I.end;_&&_.checkIntersection(O,I);var X=o.linesIntersect(D,V,z,j);if(X===!1){if(!o.pointsCollinear(D,V,z)||o.pointsSame(D,j)||o.pointsSame(V,z))return!1;var F=o.pointsSame(D,z),H=o.pointsSame(V,j);if(F&&H)return P;var W=!F&&o.pointBetween(D,z,j),ie=!H&&o.pointBetween(V,z,j);if(F)return ie?i(P,V):i(E,j),P;W&&(H||(ie?i(P,V):i(E,j)),i(P,D))}else X.alongA===0&&(X.alongB===-1?i(E,z):X.alongB===0?i(E,X.pt):X.alongB===1&&i(E,j)),X.alongB===0&&(X.alongA===-1?i(P,D):X.alongA===0?i(P,X.pt):X.alongA===1&&i(P,V));return!1}for(var c=[];!f.isEmpty();){var x=f.getHead();if(_&&_.vert(x.pt[0]),x.isStart){let E=function(){if(v){var P=h(x,v);if(P)return P}return!!g&&h(x,g)};var A=E;_&&_.segmentNew(x.seg,x.primary);var p=u(x),v=p.before?p.before.ev:null,g=p.after?p.after.ev:null;_&&_.tempStatus(x.seg,!!v&&v.seg,!!g&&g.seg);var y,m,w=E();if(w&&(k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below)&&(w.seg.myFill.above=!w.seg.myFill.above):w.seg.otherFill=x.seg.myFill,_&&_.segmentUpdate(w.seg),x.other.remove(),x.remove()),f.getHead()!==x){_&&_.rewind(x.seg);continue}k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=g?g.seg.myFill.above:n,x.seg.myFill.above=m?!x.seg.myFill.below:x.seg.myFill.below):x.seg.otherFill===null&&(y=g?x.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:x.primary?a:n,x.seg.otherFill={above:y,below:y}),_&&_.status(x.seg,!!v&&v.seg,!!g&&g.seg),x.other.status=p.insert(T.node({ev:x}))}else{var d=x.status;if(d===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(d.prev)&&l.exists(d.next)&&h(d.prev.ev,d.next.ev),_&&_.statusRemove(d.ev.seg),d.remove(),!x.primary){var S=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=S}c.push(x.seg)}f.getHead().remove()}return _&&_.done(),c}return k?{addRegion:function(n){for(var a,l,u,h=n[n.length-1],c=0;c<n.length;c++){a=h,h=n[c];var x=o.pointsCompare(a,h);x!==0&&t((l=x<0?a:h,u=x<0?h:a,{id:_?_.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return r(n,!1)}}:{calculate:function(n,a,l,u){return n.forEach(function(h){t(b(h.start,h.end,h),!0)}),l.forEach(function(h){t(b(h.start,h.end,h),!1)}),r(a,u)}}}},48088:function(U){U.exports={create:function(){var C={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==C.root},isEmpty:function(){return C.root.next===null},getHead:function(){return C.root.next},insertBefore:function(e,T){for(var k=C.root,o=C.root.next;o!==null;){if(T(o))return e.prev=o.prev,e.next=o,o.prev.next=e,void(o.prev=e);k=o,o=o.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var T=C.root,k=C.root.next;k!==null&&!e(k);)T=k,k=k.next;return{before:T===C.root?null:T,after:k,insert:function(o){return o.prev=T,o.next=k,T.next=o,k!==null&&(k.prev=o),o}}}};return C},node:function(C){return C.prev=null,C.next=null,C.remove=function(){C.prev.next=C.next,C.next&&(C.next.prev=C.prev),C.prev=null,C.next=null},C}}},11403:function(U){U.exports=function(C,e,T){var k=[],o=[];return C.forEach(function(_){var b=_.start,f=_.end;if(e.pointsSame(b,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{T&&T.chainStart(_);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=s,r=0;r<k.length;r++){var n=(c=k[r])[0],a=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(n,b)){if(d(r,!0,!0))break}else if(e.pointsSame(n,f)){if(d(r,!0,!1))break}else if(e.pointsSame(a,b)){if(d(r,!1,!0))break}else if(e.pointsSame(a,f)&&d(r,!1,!1))break}if(i===s)return k.push([b,f]),void(T&&T.chainNew(b,f));if(i===t){T&&T.chainMatch(s.index);var l=s.index,u=s.matches_pt1?f:b,h=s.matches_head,c=k[l],x=h?c[0]:c[c.length-1],p=h?c[1]:c[c.length-2],v=h?c[c.length-1]:c[0],g=h?c[c.length-2]:c[1];return e.pointsCollinear(p,x,u)&&(h?(T&&T.chainRemoveHead(s.index,u),c.shift()):(T&&T.chainRemoveTail(s.index,u),c.pop()),x=p),e.pointsSame(v,u)?(k.splice(l,1),e.pointsCollinear(g,v,x)&&(h?(T&&T.chainRemoveTail(s.index,x),c.pop()):(T&&T.chainRemoveHead(s.index,x),c.shift())),T&&T.chainClose(s.index),void o.push(c)):void(h?(T&&T.chainAddHead(s.index,u),c.unshift(u)):(T&&T.chainAddTail(s.index,u),c.push(u)))}var y=s.index,m=t.index;T&&T.chainConnect(y,m);var w=k[y].length<k[m].length;s.matches_head?t.matches_head?w?(S(y),A(y,m)):(S(m),A(m,y)):A(m,y):t.matches_head?A(y,m):w?(S(y),A(m,y)):(S(m),A(y,m))}function d(E,P,O){return i.index=E,i.matches_head=P,i.matches_pt1=O,i===s?(i=t,!1):(i=null,!0)}function S(E){T&&T.chainReverse(E),k[E].reverse()}function A(E,P){var O=k[E],I=k[P],D=O[O.length-1],V=O[O.length-2],z=I[0],j=I[1];e.pointsCollinear(V,D,z)&&(T&&T.chainRemoveTail(E,D),O.pop(),D=V),e.pointsCollinear(D,z,j)&&(T&&T.chainRemoveHead(P,z),I.shift()),T&&T.chainJoin(E,P),k[E]=O.concat(I),k.splice(P,1)}}),o}},82368:function(U){function C(T,k,o){var _=[];return T.forEach(function(b){var f=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);k[f]!==0&&_.push({id:o?o.segmentId():-1,start:b.start,end:b.end,myFill:{above:k[f]===1,below:k[f]===2},otherFill:null})}),o&&o.selected(_),_}var e={union:function(T,k){return C(T,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(T,k){return C(T,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(T,k){return C(T,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(T,k){return C(T,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(T,k){return C(T,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};U.exports=e},9696:function(U,C,e){var T=e(29936).Transform,k=e(55619);function o(){T.call(this,{readableObjectMode:!0})}function _(b,f,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,f&&(this.code=f),s&&(this.statusCode=s)}o.prototype=Object.create(T.prototype),o.prototype.constructor=o,k(o.prototype),C.gS=function(b,f,s){for(var t=f,i=0;i<s.length;)if(b[t++]!==s[i++])return!1;return!0},C.wR=function(b,f){var s=[],t=0;if(f&&f==="hex")for(;t<b.length;)s.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)s.push(255&b.charCodeAt(t));return s},C.Bz=function(b,f){return b[f]|b[f+1]<<8},C.eW=function(b,f){return b[f+1]|b[f]<<8},C.st=function(b,f){return b[f]|b[f+1]<<8|b[f+2]<<16|16777216*b[f+3]},C.eI=function(b,f){return b[f+3]|b[f+2]<<8|b[f+1]<<16|16777216*b[f]},_.prototype=Object.create(Error.prototype),_.prototype.constructor=_},11688:function(U){function C(k,o){var _=new Error(k);return _.code=o,_}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function T(k,o,_){this.input=k.subarray(o,_),this.start=o;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw C("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}T.prototype.each=function(k){this.aborted=!1;var o=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:o}];this.ifds_to_read.length>0&&!this.aborted;){var _=this.ifds_to_read.shift();_.offset&&this.scan_ifd(_.id,_.offset,k)}},T.prototype.read_uint16=function(k){var o=this.input;if(k+2>o.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?256*o[k]+o[k+1]:o[k]+256*o[k+1]},T.prototype.read_uint32=function(k){var o=this.input;if(k+4>o.length)throw C("unexpected EOF","EBADDATA");return this.big_endian?16777216*o[k]+65536*o[k+1]+256*o[k+2]+o[k+3]:o[k]+256*o[k+1]+65536*o[k+2]+16777216*o[k+3]},T.prototype.is_subifd_link=function(k,o){return k===0&&o===34665||k===0&&o===34853||k===34665&&o===40965},T.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},T.prototype.exif_format_read=function(k,o){var _;switch(k){case 1:case 2:return this.input[o];case 6:return(_=this.input[o])|33554430*(128&_);case 3:return this.read_uint16(o);case 8:return(_=this.read_uint16(o))|131070*(32768&_);case 4:return this.read_uint32(o);case 9:return 0|this.read_uint32(o);default:return null}},T.prototype.scan_ifd=function(k,o,_){var b=this.read_uint16(o);o+=2;for(var f=0;f<b;f++){var s=this.read_uint16(o),t=this.read_uint16(o+2),i=this.read_uint32(o+4),r=this.exif_format_length(t),n=i*r,a=n<=4?o+8:this.read_uint32(o+8),l=!1;if(a+n>this.input.length)throw C("unexpected EOF","EBADDATA");for(var u=[],h=a,c=0;c<i;c++,h+=r){var x=this.exif_format_read(t,h);if(x===null){u=null;break}u.push(x)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(k,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),_({is_big_endian:this.big_endian,ifd:k,tag:s,format:t,count:i,entry_offset:o+this.start,data_length:n,data_offset:a+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);o+=12}k===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(o)})},U.exports.ExifParser=T,U.exports.get_orientation=function(k){var o=0;try{return new T(k,0,k.length).each(function(_){if(_.ifd===0&&_.tag===274&&Array.isArray(_.value))return o=_.value[0],!1}),o}catch{return-1}}},44600:function(U,C,e){var T=e(9696).eW,k=e(9696).eI;function o(i,r){if(i.length<4+r)return null;var n=k(i,r);return i.length<n+r||n<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(r+4,r+8)),data:i.slice(r+8,r+n),end:r+n}}function _(i,r){for(var n=0;;){var a=o(i,n);if(!a)break;switch(a.boxtype){case"ispe":r.sizes.push({width:k(a.data,4),height:k(a.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&a.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&a.data[0]})}n=a.end}}function b(i,r,n){for(var a=0,l=0;l<n;l++)a=256*a+(i[r+l]||0);return a}function f(i,r){for(var n=i[4]>>4&15,a=15&i[4],l=i[5]>>4&15,u=T(i,6),h=8,c=0;c<u;c++){var x=T(i,h),p=T(i,h+=2),v=b(i,h+=2,l),g=T(i,h+=l);if(h+=2,p===0&&g===1){var y=b(i,h,n),m=b(i,h+n,a);r.item_loc[x]={length:m,offset:y+v}}h+=g*(n+a)}}function s(i,r){for(var n=T(i,4),a=6,l=0;l<n;l++){var u=o(i,a);if(!u)break;if(u.boxtype==="infe"){for(var h=T(u.data,4),c="",x=8;x<u.data.length&&u.data[x];x++)c+=String.fromCharCode(u.data[x]);r.item_inf[c]=h}a=u.end}}function t(i,r){for(var n=0;;){var a=o(i,n);if(!a)break;a.boxtype==="ipco"&&_(a.data,r),n=a.end}}U.exports.unbox=o,U.exports.readSizeFromMeta=function(i){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(x,p){for(var v=4;;){var g=o(x,v);if(!g)break;g.boxtype==="iprp"&&t(g.data,p),g.boxtype==="iloc"&&f(g.data,p),g.boxtype==="iinf"&&s(g.data,p),v=g.end}}(i,r),r.sizes.length){var n,a,l,u=(a=(n=r.sizes).reduce(function(x,p){return x.width>p.width||x.width===p.width&&x.height>p.height?x:p}),l=n.reduce(function(x,p){return x.height>p.height||x.height===p.height&&x.width>p.width?x:p}),a.width>l.height||a.width===l.height&&a.height>l.width?a:l),h=1;r.transforms.forEach(function(x){var p={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(x.type==="imir"&&(h=x.value===0?v[h]:p[h=p[h=v[h]]]),x.type==="irot")for(var g=0;g<x.value;g++)h=p[h]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?h:null,variants:r.sizes,exif_location:c}}},U.exports.getMimeType=function(i){var r=String.fromCharCode.apply(null,i.slice(0,4)),n={};n[r]=!0;for(var a=8;a<i.length;a+=4)n[String.fromCharCode.apply(null,i.slice(a,a+4))]=!0;if(n.mif1||n.msf1||n.miaf)return r==="avif"||r==="avis"||r==="avio"?{type:"avif",mime:"image/avif"}:r==="heic"||r==="heix"?{type:"heic",mime:"image/heic"}:r==="hevc"||r==="hevx"?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).eI,_=e(44600),b=e(11688),f=T("ftyp");U.exports=function(s){if(k(s,4,f)){var t=_.unbox(s,0);if(t){var i=_.getMimeType(t.data);if(i){for(var r,n=t.end;;){var a=_.unbox(s,n);if(!a)break;if(n=a.end,a.boxtype==="mdat")return;if(a.boxtype==="meta"){r=a.data;break}}if(r){var l=_.readSizeFromMeta(r);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var h=o(s,l.exif_location.offset),c=s.slice(l.exif_location.offset+h+4,l.exif_location.offset+l.exif_location.length),x=b.get_orientation(c);x>0&&(u.orientation=x)}return u}}}}}}},38728:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).Bz,_=T("BM");U.exports=function(b){if(!(b.length<26)&&k(b,0,_))return{width:o(b,18),height:o(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).Bz,_=T("GIF87a"),b=T("GIF89a");U.exports=function(f){if(!(f.length<10)&&(k(f,0,_)||k(f,0,b)))return{width:o(f,6),height:o(f,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(U,C,e){var T=e(9696).Bz;U.exports=function(k){var o=T(k,0),_=T(k,2),b=T(k,4);if(o===0&&_===1&&b){for(var f=[],s={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,r=k[6+16*t+1]||256,n={width:i,height:r};f.push(n),(i>s.width||r>s.height)&&(s=n)}return{width:s.width,height:s.height,variants:f,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(U,C,e){var T=e(9696).eW,k=e(9696).wR,o=e(9696).gS,_=e(11688),b=k("Exif\0\0");U.exports=function(f){if(!(f.length<2)&&f[0]===255&&f[1]===216&&f[2]===255)for(var s=2;;){for(;;){if(f.length-s<2)return;if(f[s++]===255)break}for(var t,i,r=f[s++];r===255;)r=f[s++];if(208<=r&&r<=217||r===1)t=0;else{if(!(192<=r&&r<=254)||f.length-s<2)return;t=T(f,s)-2,s+=2}if(r===217||r===218)return;if(r===225&&t>=10&&o(f,s,b)&&(i=_.get_orientation(f.slice(s+6,s+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(f.length-s<t)return;var n={width:T(f,s+3),height:T(f,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}s+=t}}},37276:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).eI,_=T(`PNG\r

`),b=T("IHDR");U.exports=function(f){if(!(f.length<24)&&k(f,0,_)&&k(f,12,b))return{width:o(f,16),height:o(f,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).eI,_=T("8BPS\0");U.exports=function(b){if(!(b.length<22)&&k(b,0,_))return{width:o(b,18),height:o(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(U){function C(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,T=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,o=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,_=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function f(s){return b.test(s)?s.match(b)[0]:"px"}U.exports=function(s){if(function(v){var g,y=0,m=v.length;for(v[0]===239&&v[1]===187&&v[2]===191&&(y=3);y<m&&((g=v[y])===32||g===9||g===13||g===10);)y++;return y!==m&&v[y]===60}(s)){for(var t="",i=0;i<s.length;i++)t+=String.fromCharCode(s[i]);var r=(t.match(e)||[""])[0];if(T.test(r)){var n=function(v){var g=v.match(k),y=v.match(o),m=v.match(_);return{width:g&&(g[1]||g[2]),height:y&&(y[1]||y[2]),viewbox:m&&(m[1]||m[2])}}(r),a=parseFloat(n.width),l=parseFloat(n.height);if(n.width&&n.height)return!C(a)||!C(l)?void 0:{width:a,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(n.width),hUnits:f(n.height)};var u=(n.viewbox||"").split(" "),h={width:u[2],height:u[3]},c=parseFloat(h.width),x=parseFloat(h.height);if(C(c)&&C(x)&&f(h.width)===f(h.height)){var p=c/x;return n.width?C(a)?{width:a,height:a/p,type:"svg",mime:"image/svg+xml",wUnits:f(n.width),hUnits:f(n.width)}:void 0:n.height?C(l)?{width:l*p,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(n.height),hUnits:f(n.height)}:void 0:{width:c,height:x,type:"svg",mime:"image/svg+xml",wUnits:f(h.width),hUnits:f(h.height)}}}}}},98792:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).Bz,_=e(9696).eW,b=e(9696).st,f=e(9696).eI,s=T("II*\0"),t=T("MM\0*");function i(a,l,u){return u?_(a,l):o(a,l)}function r(a,l,u){return u?f(a,l):b(a,l)}function n(a,l,u){var h=i(a,l+2,u);return r(a,l+4,u)!==1||h!==3&&h!==4?null:h===3?i(a,l+8,u):r(a,l+8,u)}U.exports=function(a){if(!(a.length<8)&&(k(a,0,s)||k(a,0,t))){var l=a[0]===77,u=r(a,4,l)-8;if(!(u<0)){var h=u+8;if(!(a.length-h<2)){var c=12*i(a,h+0,l);if(!(c<=0||(h+=2,a.length-h<c))){var x,p,v,g;for(x=0;x<c;x+=12)(g=i(a,h+x,l))===256?p=n(a,h+x,l):g===257&&(v=n(a,h+x,l));return p&&v?{width:p,height:v,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(U,C,e){var T=e(9696).wR,k=e(9696).gS,o=e(9696).Bz,_=e(9696).st,b=e(11688),f=T("RIFF"),s=T("WEBP");function t(n,a){if(n[a+3]===157&&n[a+4]===1&&n[a+5]===42)return{width:16383&o(n,a+6),height:16383&o(n,a+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(n,a){if(n[a]===47){var l=_(n,a+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(n,a){return{width:1+(n[a+6]<<16|n[a+5]<<8|n[a+4]),height:1+(n[a+9]<<a|n[a+8]<<8|n[a+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}U.exports=function(n){if(!(n.length<16)&&(k(n,0,f)||k(n,8,s))){var a=12,l=null,u=0,h=_(n,4)+8;if(!(h>n.length)){for(;a+8<h;)if(n[a]!==0){var c=String.fromCharCode.apply(null,n.slice(a,a+4)),x=_(n,a+4);c==="VP8 "&&x>=10?l=l||t(n,a+8):c==="VP8L"&&x>=9?l=l||i(n,a+8):c==="VP8X"&&x>=10?l=l||r(n,a+8):c==="EXIF"&&(u=b.get_orientation(n.slice(a+8,a+8+x)),a=1/0),a+=8+x}else a++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(U,C,e){U.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(U,C,e){var T=e(87480);U.exports=function(k){return function(o){for(var _=Object.keys(T),b=0;b<_.length;b++){var f=T[_[b]](o);if(f)return f}return null}(k)},U.exports.parsers=T},4168:function(U){var C,e,T=U.exports={};function k(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function _(l){if(C===setTimeout)return setTimeout(l,0);if((C===k||!C)&&setTimeout)return C=setTimeout,setTimeout(l,0);try{return C(l,0)}catch{try{return C.call(null,l,0)}catch{return C.call(this,l,0)}}}(function(){try{C=typeof setTimeout=="function"?setTimeout:k}catch{C=k}try{e=typeof clearTimeout=="function"?clearTimeout:o}catch{e=o}})();var b,f=[],s=!1,t=-1;function i(){s&&b&&(s=!1,b.length?f=b.concat(f):t=-1,f.length&&r())}function r(){if(!s){var l=_(i);s=!0;for(var u=f.length;u;){for(b=f,f=[];++t<u;)b&&b[t].run();t=-1,u=f.length}b=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(l)}}function n(l,u){this.fun=l,this.array=u}function a(){}T.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)u[h-1]=arguments[h];f.push(new n(l,u)),f.length!==1||s||_(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=a,T.addListener=a,T.once=a,T.off=a,T.removeListener=a,T.removeAllListeners=a,T.emit=a,T.prependListener=a,T.prependOnceListener=a,T.listeners=function(l){return[]},T.binding=function(l){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(l){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},3951:function(U,C,e){for(var T=e(41984),k=typeof window>"u"?e.g:window,o=["moz","webkit"],_="AnimationFrame",b=k["request"+_],f=k["cancel"+_]||k["cancelRequest"+_],s=0;!b&&s<o.length;s++)b=k[o[s]+"Request"+_],f=k[o[s]+"Cancel"+_]||k[o[s]+"CancelRequest"+_];if(!b||!f){var t=0,i=0,r=[];b=function(n){if(r.length===0){var a=T(),l=Math.max(0,16.666666666666668-(a-t));t=l+a,setTimeout(function(){var u=r.slice(0);r.length=0;for(var h=0;h<u.length;h++)if(!u[h].cancelled)try{u[h].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return r.push({handle:++i,callback:n,cancelled:!1}),i},f=function(n){for(var a=0;a<r.length;a++)r[a].handle===n&&(r[a].cancelled=!0)}}U.exports=function(n){return b.call(k,n)},U.exports.cancel=function(){f.apply(k,arguments)},U.exports.polyfill=function(n){n||(n=k),n.requestAnimationFrame=b,n.cancelAnimationFrame=f}},24544:function(U,C,e){var T=e(76752),k=e(72160),o=e(45223),_=e(55616),b=e(50896),f=e(47520),s=e(37816),t=s.float32,i=s.fract32;U.exports=function(n,a){if(typeof n=="function"?(a||(a={}),a.regl=n):a=n,a.length&&(a.positions=a),!(n=a.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,h,c,x,p,v=n._gl,g={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=n.buffer({usage:"static",type:"float",data:r}),S(a),l=n({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(E,P){return[P.viewport.x,P.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,P){return 4*P.offset},divisor:1},position:{buffer:u,offset:function(E,P){return 8*P.offset},divisor:1},positionFract:{buffer:h,offset:function(E,P){return 8*P.offset},divisor:1},error:{buffer:x,offset:function(E,P){return 16*P.offset},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:r.length}),b(m,{update:S,draw:w,destroy:A,regl:n,gl:v,canvas:v.canvas,groups:y}),m;function m(E){E?S(E):E===null&&A(),w()}function w(E){if(typeof E=="number")return d(E);E&&!Array.isArray(E)&&(E=[E]),n._refresh(),y.forEach(function(P,O){P&&(E&&(E[O]?P.draw=!0:P.draw=!1),P.draw?d(O):P.draw=!0)})}function d(E){typeof E=="number"&&(E=y[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],l(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var P=0,O=0;if(m.groups=y=E.map(function(F,H){var W=y[H];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=_(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),W||(y[H]=W={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},g,F)),o(W,F,[{lineWidth:function(ie){return .5*+ie},capSize:function(ie){return .5*+ie},opacity:parseFloat,errors:function(ie){return ie=f(ie),O+=ie.length,ie},positions:function(ie,te){return ie=f(ie,"float64"),te.count=Math.floor(ie.length/2),te.bounds=T(ie,2),te.offset=P,P+=te.count,ie}},{color:function(ie,te){var Q=te.count;if(ie||(ie="transparent"),!Array.isArray(ie)||typeof ie[0]=="number"){var ne=ie;ie=Array(Q);for(var $=0;$<Q;$++)ie[$]=ne}if(ie.length<Q)throw Error("Not enough colors");for(var J=new Uint8Array(4*Q),re=0;re<Q;re++){var se=k(ie[re],"uint8");J.set(se,4*re)}return J},range:function(ie,te,Q){var ne=te.bounds;return ie||(ie=ne),te.scale=[1/(ie[2]-ie[0]),1/(ie[3]-ie[1])],te.translate=[-ie[0],-ie[1]],te.scaleFract=i(te.scale),te.translateFract=i(te.translate),ie},viewport:function(ie){var te;return Array.isArray(ie)?te={x:ie[0],y:ie[1],width:ie[2]-ie[0],height:ie[3]-ie[1]}:ie?(te={x:ie.x||ie.left||0,y:ie.y||ie.top||0},ie.right?te.width=ie.right-te.x:te.width=ie.w||ie.width||0,ie.bottom?te.height=ie.bottom-te.y:te.height=ie.h||ie.height||0):te={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},te}}])),W}),P||O){var I=y.reduce(function(F,H,W){return F+(H?H.count:0)},0),D=new Float64Array(2*I),V=new Uint8Array(4*I),z=new Float32Array(4*I);y.forEach(function(F,H){if(F){var W=F.positions,ie=F.count,te=F.offset,Q=F.color,ne=F.errors;ie&&(V.set(Q,4*te),z.set(ne,4*te),D.set(W,2*te))}});var j=t(D);u(j);var X=i(D,j);h(X),c(V),x(z)}}}function A(){u.destroy(),h.destroy(),c.destroy(),x.destroy(),p.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(U,C,e){var T=e(72160),k=e(76752),o=e(50896),_=e(55616),b=e(47520),f=e(28912),s=e(71152),t=e(37816),i=t.float32,r=t.fract32,n=e(60463),a=e(51160),l=e(10272);function u(h,c){if(!(this instanceof u))return new u(h,c);if(typeof h=="function"?(c||(c={}),c.regl=h):c=h,c.length&&(c.positions=c),!(h=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=u.shaders.has(h)?u.shaders.get(h):u.shaders.set(h,u.createShaders(h)).get(h),this.update(c)}U.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new n,u.createShaders=function(h){var c,x=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),p={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(g,y){return y.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(g,y){return[y.viewport.x,y.viewport.y,g.viewportWidth,g.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(g,y){return!y.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},v=h(o({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:x,divisor:0,stride:8,offset:0},lineTop:{buffer:x,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},p));try{c=h(o({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:x,divisor:0,stride:8,offset:0},lineTop:{buffer:x,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},p))}catch{c=v}return{fill:h({primitive:"triangle",elements:function(g,y){return y.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(g,y){return[y.viewport.x,y.viewport.y,g.viewportWidth,g.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:p.blend,depth:{enable:!1},scissor:p.scissor,stencil:p.stencil,viewport:p.viewport}),rect:v,miter:c}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var h,c=[],x=arguments.length;x--;)c[x]=arguments[x];c.length&&(h=this).update.apply(h,c),this.draw()},u.prototype.draw=function(){for(var h=this,c=[],x=arguments.length;x--;)c[x]=arguments[x];return(c.length?c:this.passes).forEach(function(p,v){var g;if(p&&Array.isArray(p))return(g=h).draw.apply(g,p);typeof p=="number"&&(p=h.passes[p]),p&&p.count>1&&p.opacity&&(h.regl._refresh(),p.fill&&p.triangles&&p.triangles.length>2&&h.shaders.fill(p),p.thickness&&(p.scale[0]*p.viewport.width>u.precisionThreshold||p.scale[1]*p.viewport.height>u.precisionThreshold||p.join==="rect"||!p.join&&(p.thickness<=2||p.count>=u.maxPoints)?h.shaders.rect(p):h.shaders.miter(p)))}),this},u.prototype.update=function(h){var c=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var x=this.regl,p=this.gl;if(h.forEach(function(w,d){var S=c.passes[d];if(w!==void 0)if(w!==null){if(typeof w[0]=="number"&&(w={positions:w}),w=_(w,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),S||(c.passes[d]=S={id:d,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:x.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:x.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},w=o({},u.defaults,w)),w.thickness!=null&&(S.thickness=parseFloat(w.thickness)),w.opacity!=null&&(S.opacity=parseFloat(w.opacity)),w.miterLimit!=null&&(S.miterLimit=parseFloat(w.miterLimit)),w.overlay!=null&&(S.overlay=!!w.overlay,d<u.maxLines&&(S.depth=2*(u.maxLines-1-d%u.maxLines)/u.maxLines-1)),w.join!=null&&(S.join=w.join),w.hole!=null&&(S.hole=w.hole),w.fill!=null&&(S.fill=w.fill?T(w.fill,"uint8"):null),w.viewport!=null&&(S.viewport=a(w.viewport)),S.viewport||(S.viewport=a([p.drawingBufferWidth,p.drawingBufferHeight])),w.close!=null&&(S.close=w.close),w.positions===null&&(w.positions=[]),w.positions){var A,E;if(w.positions.x&&w.positions.y){var P=w.positions.x,O=w.positions.y;E=S.count=Math.max(P.length,O.length),A=new Float64Array(2*E);for(var I=0;I<E;I++)A[2*I]=P[I],A[2*I+1]=O[I]}else A=b(w.positions,"float64"),E=S.count=Math.floor(A.length/2);var D=S.bounds=k(A,2);if(S.fill){for(var V=[],z={},j=0,X=0,F=0,H=S.count;X<H;X++){var W=A[2*X],ie=A[2*X+1];isNaN(W)||isNaN(ie)||W==null||ie==null?(W=A[2*j],ie=A[2*j+1],z[X]=j):j=X,V[F++]=W,V[F++]=ie}if(w.splitNull){S.count-1 in z||(z[S.count]=S.count-1);var te=Object.keys(z).map(Number).sort(function(_t,yt){return _t-yt}),Q=[],ne=0,$=S.hole!=null?S.hole[0]:null;if($!=null){var J=l(te,function(_t){return _t>=$});(te=te.slice(0,J)).push($)}for(var re=function(_t){var yt=V.slice(2*ne,2*te[_t]).concat($?V.slice(2*$):[]),it=(S.hole||[]).map(function(Pt){return Pt-$+(te[_t]-ne)}),tt=f(yt,it);tt=tt.map(function(Pt){return Pt+ne+(Pt+ne<te[_t]?0:$-te[_t])}),Q.push.apply(Q,tt),ne=te[_t]+1},se=0;se<te.length;se++)re(se);for(var ue=0,he=Q.length;ue<he;ue++)z[Q[ue]]!=null&&(Q[ue]=z[Q[ue]]);S.triangles=Q}else{for(var pe=f(V,S.hole||[]),ge=0,ye=pe.length;ge<ye;ge++)z[pe[ge]]!=null&&(pe[ge]=z[pe[ge]]);S.triangles=pe}}var be=new Float64Array(A);s(be,2,D);var Te=new Float64Array(2*E+6);S.close?A[0]===A[2*E-2]&&A[1]===A[2*E-1]?(Te[0]=be[2*E-4],Te[1]=be[2*E-3]):(Te[0]=be[2*E-2],Te[1]=be[2*E-1]):(Te[0]=be[0],Te[1]=be[1]),Te.set(be,2),S.close?A[0]===A[2*E-2]&&A[1]===A[2*E-1]?(Te[2*E+2]=be[2],Te[2*E+3]=be[3],S.count-=1):(Te[2*E+2]=be[0],Te[2*E+3]=be[1],Te[2*E+4]=be[2],Te[2*E+5]=be[3]):(Te[2*E+2]=be[2*E-2],Te[2*E+3]=be[2*E-1],Te[2*E+4]=be[2*E-2],Te[2*E+5]=be[2*E-1]);var Se=i(Te);S.positionBuffer(Se);var Fe=r(Te,Se);S.positionFractBuffer(Fe)}if(w.range?S.range=w.range:S.range||(S.range=S.bounds),(w.range||w.positions)&&S.count){var xe=S.bounds,le=xe[2]-xe[0],oe=xe[3]-xe[1],de=S.range[2]-S.range[0],Ce=S.range[3]-S.range[1];S.scale=[le/de,oe/Ce],S.translate=[-S.range[0]/de+xe[0]/de||0,-S.range[1]/Ce+xe[1]/Ce||0],S.scaleFract=r(S.scale),S.translateFract=r(S.translate)}if(w.dashes){var _e,Ae=0;if(!w.dashes||w.dashes.length<2)Ae=1,_e=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ae=0;for(var Le=0;Le<w.dashes.length;++Le)Ae+=w.dashes[Le];_e=new Uint8Array(Ae*u.dashMult);for(var ze=0,Re=255,ve=0;ve<2;ve++)for(var ke=0;ke<w.dashes.length;++ke){for(var Ee=0,De=w.dashes[ke]*u.dashMult*.5;Ee<De;++Ee)_e[ze++]=Re;Re^=255}}S.dashLength=Ae,S.dashTexture({channels:1,data:_e,width:_e.length,height:1,mag:"linear",min:"linear"},0,0)}if(w.color){var Pe=S.count,Ue=w.color;Ue||(Ue="transparent");var We=new Uint8Array(4*Pe+4);if(Array.isArray(Ue)&&typeof Ue[0]!="number"){for(var $e=0;$e<Pe;$e++){var ot=T(Ue[$e],"uint8");We.set(ot,4*$e)}We.set(T(Ue[0],"uint8"),4*Pe)}else for(var st=T(Ue,"uint8"),mt=0;mt<Pe+1;mt++)We.set(st,4*mt);S.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}else c.passes[d]=null}),h.length<this.passes.length){for(var v=h.length;v<this.passes.length;v++){var g=this.passes[v];g&&(g.colorBuffer.destroy(),g.positionBuffer.destroy(),g.dashTexture.destroy())}this.passes.length=h.length}for(var y=[],m=0;m<this.passes.length;m++)this.passes[m]!==null&&y.push(this.passes[m]);return this.passes=y,this}},u.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(U,C,e){function T(v,g){return function(y){if(Array.isArray(y))return y}(v)||function(y,m){var w=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(w!=null){var d,S,A,E,P=[],O=!0,I=!1;try{if(A=(w=w.call(y)).next,m!==0)for(;!(O=(d=A.call(w)).done)&&(P.push(d.value),P.length!==m);O=!0);}catch(D){I=!0,S=D}finally{try{if(!O&&w.return!=null&&(E=w.return(),Object(E)!==E))return}finally{if(I)throw S}}return P}}(v,g)||k(v,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(v,g){if(v){if(typeof v=="string")return o(v,g);var y=Object.prototype.toString.call(v).slice(8,-1);return y==="Object"&&v.constructor&&(y=v.constructor.name),y==="Map"||y==="Set"?Array.from(v):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?o(v,g):void 0}}function o(v,g){(g==null||g>v.length)&&(g=v.length);for(var y=0,m=new Array(g);y<g;y++)m[y]=v[y];return m}var _=e(72160),b=e(76752),f=e(3808),s=e(3108),t=e(50896),i=e(26444),r=e(55616),n=e(45223),a=e(47520),l=e(96604),u=e(37816),h=e(51160),c=x;function x(v,g){var y=this;if(!(this instanceof x))return new x(v,g);typeof v=="function"?(g||(g={}),g.regl=v):(g=v,v=null),g&&g.length&&(g.positions=g);var m,w=(v=g.regl)._gl,d=[];this.tooManyColors=l,m=v.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:v,gl:w,groups:[],markerCache:[null],markerTextures:[null],palette:d,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:w.canvas}),this.update(g);var S={uniforms:{constPointSize:!!g.constPointSize,opacity:v.prop("opacity"),paletteSize:function(P,O){return[y.tooManyColors?0:255,m.height]},pixelRatio:v.context("pixelRatio"),scale:v.prop("scale"),scaleFract:v.prop("scaleFract"),translate:v.prop("translate"),translateFract:v.prop("translateFract"),markerTexture:v.prop("markerTexture"),paletteTexture:m},attributes:{x:function(P,O){return O.xAttr||{buffer:O.positionBuffer,stride:8,offset:0}},y:function(P,O){return O.yAttr||{buffer:O.positionBuffer,stride:8,offset:4}},xFract:function(P,O){return O.xAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:0}},yFract:function(P,O){return O.yAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:4}},size:function(P,O){return O.size.length?{buffer:O.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*O.size/y.maxSize)]}},borderSize:function(P,O){return O.borderSize.length?{buffer:O.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*O.borderSize/y.maxSize)]}},colorId:function(P,O){return O.color.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?d.slice(4*O.color,4*O.color+4):[O.color]}},borderColorId:function(P,O){return O.borderColor.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?d.slice(4*O.borderColor,4*O.borderColor+4):[O.borderColor]}},isActive:function(P,O){return O.activation===!0?{constant:[1]}:O.activation?O.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:v.prop("viewport")},viewport:v.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:v.prop("elements"),count:v.prop("count"),offset:v.prop("offset"),primitive:"points"},A=t({},S);A.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),A.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=v(A);var E=t({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(E.frag=E.frag.replace("smoothstep","smoothStep"),A.frag=A.frag.replace("smoothstep","smoothStep")),this.drawCircle=v(E)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var v=this,g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var w=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var d=0;d<y.length;d++)this.drawItem(d,y[d]);else w.forEach(function(S,A){v.drawItem(A)});return this},x.prototype.drawItem=function(v,g){var y,m=this.groups,w=m[v];if(typeof g=="number"&&(v=g,w=m[g],g=null),w&&w.count&&w.opacity){w.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,w,g));for(var d=[],S=1;S<w.activation.length;S++)w.activation[S]&&(w.activation[S]===!0||w.activation[S].data.length)&&d.push.apply(d,function(A){if(Array.isArray(A))return o(A)}(y=this.getMarkerDrawOptions(S,w,g))||function(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}(y)||k(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());d.length&&this.drawMarker(d)}},x.prototype.getMarkerDrawOptions=function(v,g,y){var m=g.range,w=g.tree,d=g.viewport,S=g.activation,A=g.selectionBuffer,E=g.count;if(this.regl,!w)return y?[t({},g,{markerTexture:this.markerTextures[v],activation:S[v],count:y.length,elements:y,offset:0})]:[t({},g,{markerTexture:this.markerTextures[v],activation:S[v],offset:0})];var P=[],O=w.range(m,{lod:!0,px:[(m[2]-m[0])/d.width,(m[3]-m[1])/d.height]});if(y){for(var I=S[v].data,D=new Uint8Array(E),V=0;V<y.length;V++){var z=y[V];D[z]=I?I[z]:1}A.subdata(D)}for(var j=O.length;j--;){var X=T(O[j],2),F=X[0],H=X[1];P.push(t({},g,{markerTexture:this.markerTextures[v],activation:y?A:S[v],offset:F,count:H-F}))}return P},x.prototype.update=function(){for(var v=this,g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var w=this.groups,d=this.gl,S=this.regl,A=this.maxSize,E=this.maxColors,P=this.palette;this.groups=w=y.map(function(O,I){var D=w[I];if(O===void 0)return D;O===null?O={positions:null}:typeof O=="function"?O={ondraw:O}:typeof O[0]=="number"&&(O={positions:O}),(O=r(O,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(O.positions=[]),O.tooManyColors!=null&&(v.tooManyColors=O.tooManyColors),D||(w[I]=D={id:I,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},O=t({},x.defaults,O)),O.positions&&!("marker"in O)&&(O.marker=D.marker,delete D.marker),O.marker&&!("positions"in O)&&(O.positions=D.positions,delete D.positions);var V=0,z=0;if(n(D,O,[{snap:!0,size:function(ye,be){return ye==null&&(ye=x.defaults.size),V+=ye&&ye.length?1:0,ye},borderSize:function(ye,be){return ye==null&&(ye=x.defaults.borderSize),V+=ye&&ye.length?1:0,ye},opacity:parseFloat,color:function(ye,be){return ye==null&&(ye=x.defaults.color),ye=v.updateColor(ye),z++,ye},borderColor:function(ye,be){return ye==null&&(ye=x.defaults.borderColor),ye=v.updateColor(ye),z++,ye},bounds:function(ye,be,Te){return"range"in Te||(Te.range=null),ye},positions:function(ye,be,Te){var Se=be.snap,Fe=be.positionBuffer,xe=be.positionFractBuffer,le=be.selectionBuffer;if(ye.x||ye.y)return ye.x.length?be.xAttr={buffer:S.buffer(ye.x),offset:0,stride:4,count:ye.x.length}:be.xAttr={buffer:ye.x.buffer,offset:4*ye.x.offset||0,stride:4*(ye.x.stride||1),count:ye.x.count},ye.y.length?be.yAttr={buffer:S.buffer(ye.y),offset:0,stride:4,count:ye.y.length}:be.yAttr={buffer:ye.y.buffer,offset:4*ye.y.offset||0,stride:4*(ye.y.stride||1),count:ye.y.count},be.count=Math.max(be.xAttr.count,be.yAttr.count),ye;ye=a(ye,"float64");var oe=be.count=Math.floor(ye.length/2),de=be.bounds=oe?b(ye,2):null;if(Te.range||be.range||(delete be.range,Te.range=de),Te.marker||be.marker||(delete be.marker,Te.marker=null),Se&&(Se===!0||oe>Se)?be.tree=s(ye,{bounds:de}):Se&&Se.length&&(be.tree=Se),be.tree){var Ce={primitive:"points",usage:"static",data:be.tree,type:"uint32"};be.elements?be.elements(Ce):be.elements=S.elements(Ce)}var _e=u.float32(ye);return Fe({data:_e,usage:"dynamic"}),xe({data:u.fract32(ye,_e),usage:"dynamic"}),le({data:new Uint8Array(oe),type:"uint8",usage:"stream"}),ye}},{marker:function(ye,be,Te){var Se=be.activation;if(Se.forEach(function(_e){return _e&&_e.destroy&&_e.destroy()}),Se.length=0,ye&&typeof ye[0]!="number"){for(var Fe=[],xe=0,le=Math.min(ye.length,be.count);xe<le;xe++){var oe=v.addMarker(ye[xe]);Fe[oe]||(Fe[oe]=new Uint8Array(be.count)),Fe[oe][xe]=1}for(var de=0;de<Fe.length;de++)if(Fe[de]){var Ce={data:Fe[de],type:"uint8",usage:"static"};Se[de]?Se[de](Ce):Se[de]=S.buffer(Ce),Se[de].data=Fe[de]}}else Se[v.addMarker(ye)]=!0;return ye},range:function(ye,be,Te){var Se=be.bounds;if(Se)return ye||(ye=Se),be.scale=[1/(ye[2]-ye[0]),1/(ye[3]-ye[1])],be.translate=[-ye[0],-ye[1]],be.scaleFract=u.fract(be.scale),be.translateFract=u.fract(be.translate),ye},viewport:function(ye){return h(ye||[d.drawingBufferWidth,d.drawingBufferHeight])}}]),V){var j=D,X=j.count,F=j.size,H=j.borderSize,W=j.sizeBuffer,ie=new Uint8Array(2*X);if(F.length||H.length)for(var te=0;te<X;te++)ie[2*te]=Math.round(255*(F[te]==null?F:F[te])/A),ie[2*te+1]=Math.round(255*(H[te]==null?H:H[te])/A);W({data:ie,usage:"dynamic"})}if(z){var Q,ne=D,$=ne.count,J=ne.color,re=ne.borderColor,se=ne.colorBuffer;if(v.tooManyColors){if(J.length||re.length){Q=new Uint8Array(8*$);for(var ue=0;ue<$;ue++){var he=J[ue];Q[8*ue]=P[4*he],Q[8*ue+1]=P[4*he+1],Q[8*ue+2]=P[4*he+2],Q[8*ue+3]=P[4*he+3];var pe=re[ue];Q[8*ue+4]=P[4*pe],Q[8*ue+5]=P[4*pe+1],Q[8*ue+6]=P[4*pe+2],Q[8*ue+7]=P[4*pe+3]}}}else if(J.length||re.length){Q=new Uint8Array(4*$+2);for(var ge=0;ge<$;ge++)J[ge]!=null&&(Q[4*ge]=J[ge]%E,Q[4*ge+1]=Math.floor(J[ge]/E)),re[ge]!=null&&(Q[4*ge+2]=re[ge]%E,Q[4*ge+3]=Math.floor(re[ge]/E))}se({data:Q||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return D})}},x.prototype.addMarker=function(v){var g,y=this.markerTextures,m=this.regl,w=this.markerCache,d=v==null?0:w.indexOf(v);if(d>=0)return d;if(v instanceof Uint8Array||v instanceof Uint8ClampedArray)g=v;else{g=new Uint8Array(v.length);for(var S=0,A=v.length;S<A;S++)g[S]=255*v[S]}var E=Math.floor(Math.sqrt(g.length));return d=y.length,w.push(v),y.push(m.texture({channels:1,data:g,radius:E,mag:"linear",min:"linear"})),d},x.prototype.updateColor=function(v){var g=this.paletteIds,y=this.palette,m=this.maxColors;Array.isArray(v)||(v=[v]);var w=[];if(typeof v[0]=="number"){var d=[];if(Array.isArray(v))for(var S=0;S<v.length;S+=4)d.push(v.slice(S,S+4));else for(var A=0;A<v.length;A+=4)d.push(v.subarray(A,A+4));v=d}for(var E=0;E<v.length;E++){var P=v[E];P=_(P,"uint8");var O=f(P,!1);if(g[O]==null){var I=y.length;g[O]=Math.floor(I/4),y[I]=P[0],y[I+1]=P[1],y[I+2]=P[2],y[I+3]=P[3]}w[E]=g[O]}return!this.tooManyColors&&y.length>4*m&&(this.tooManyColors=!0),this.updatePalette(y),w.length===1?w[0]:w},x.prototype.updatePalette=function(v){if(!this.tooManyColors){var g=this.maxColors,y=this.paletteTexture,m=Math.ceil(.25*v.length/g);if(m>1)for(var w=.25*(v=v.slice()).length%g;w<m*g;w++)v.push(0,0,0,0);y.height<m&&y.resize(g,m),y.subimage({width:Math.min(.25*v.length,g),height:m,data:v},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(v){v.sizeBuffer.destroy(),v.positionBuffer.destroy(),v.positionFractBuffer.destroy(),v.colorBuffer.destroy(),v.activation.forEach(function(g){return g&&g.destroy&&g.destroy()}),v.selectionBuffer.destroy(),v.elements&&v.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(v){return v&&v.destroy&&v.destroy()}),this};var p=e(50896);U.exports=function(v,g){var y=new c(v,g),m=y.render.bind(y);return p(m,{render:m,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),m}},55795:function(U,C,e){var T=e(38540),k=e(55616),o=e(76752),_=e(3951),b=e(67752),f=e(51160),s=e(47520);function t(a,l){if(!(this instanceof t))return new t(a);this.traces=[],this.passes={},this.regl=a,this.scatter=T(a),this.canvas=this.scatter.canvas}function i(a,l,u){return(a.id!=null?a.id:a)<<16|(255&l)<<8|255&u}function r(a,l,u){var h,c,x,p,v=a[l],g=a[u];return v.length>2?(v[0],v[2],h=v[1],c=v[3]):v.length?(h=v[0],c=v[1]):(v.x,h=v.y,v.x,v.width,c=v.y+v.height),g.length>2?(x=g[0],p=g[2],g[1],g[3]):g.length?(x=g[0],p=g[1]):(x=g.x,g.y,p=g.x+g.width,g.y,g.height),[x,h,p,c]}function n(a){if(typeof a=="number")return[a,a,a,a];if(a.length===2)return[a[0],a[1],a[0],a[1]];var l=f(a);return[l.x,l.y,l.x+l.width,l.y+l.height]}U.exports=t,t.prototype.render=function(){for(var a,l=this,u=[],h=arguments.length;h--;)u[h]=arguments[h];return u.length&&(a=this).update.apply(a,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=_(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,_(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=0;h<l.length;h++)this.updateItem(h,l[h]);this.traces=this.traces.filter(Boolean);for(var c=[],x=0,p=0;p<this.traces.length;p++){for(var v=this.traces[p],g=this.traces[p].passes,y=0;y<g.length;y++)c.push(this.passes[g[y]]);v.passOffset=x,x+=v.passes.length}return(a=this.scatter).update.apply(a,c),this}},t.prototype.updateItem=function(a,l){var u=this.regl;if(l===null)return this.traces[a]=null,this;if(!l)return this;var h,c=k(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),x=this.traces[a]||(this.traces[a]={id:a,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:f([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(x.color=c.color),c.size!=null&&(x.size=c.size),c.marker!=null&&(x.marker=c.marker),c.borderColor!=null&&(x.borderColor=c.borderColor),c.borderSize!=null&&(x.borderSize=c.borderSize),c.opacity!=null&&(x.opacity=c.opacity),c.viewport&&(x.viewport=f(c.viewport)),c.diagonal!=null&&(x.diagonal=c.diagonal),c.upper!=null&&(x.upper=c.upper),c.lower!=null&&(x.lower=c.lower),c.data){x.buffer(s(c.data)),x.columns=c.data.length,x.count=c.data[0].length,x.bounds=[];for(var p=0;p<x.columns;p++)x.bounds[p]=o(c.data[p],1)}c.range&&(x.range=c.range,h=x.range&&typeof x.range[0]!="number"),c.domain&&(x.domain=c.domain);var v=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===x.columns&&typeof c.padding[c.padding.length-1]=="number"?(x.padding=c.padding.map(n),v=!0):x.padding=n(c.padding));var g=x.columns,y=x.count,m=x.viewport.width,w=x.viewport.height,d=x.viewport.x,S=x.viewport.y,A=m/g,E=w/g;x.passes=[];for(var P=0;P<g;P++)for(var O=0;O<g;O++)if((x.diagonal||O!==P)&&(x.upper||!(P>O))&&(x.lower||!(P<O))){var I=i(x.id,P,O),D=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?D.positions={x:{buffer:x.buffer,offset:O,count:y,stride:g},y:{buffer:x.buffer,offset:P,count:y,stride:g}}:D.positions={x:{buffer:x.buffer,offset:O*y,count:y},y:{buffer:x.buffer,offset:P*y,count:y}},D.bounds=r(x.bounds,P,O)),c.domain||c.viewport||c.data){var V=v?r(x.padding,P,O):x.padding;if(x.domain){var z=r(x.domain,P,O),j=z[0],X=z[1],F=z[2],H=z[3];D.viewport=[d+j*m+V[0],S+X*w+V[1],d+F*m-V[2],S+H*w-V[3]]}else D.viewport=[d+O*A+A*V[0],S+P*E+E*V[1],d+(O+1)*A-A*V[2],S+(P+1)*E-E*V[3]]}c.color&&(D.color=x.color),c.size&&(D.size=x.size),c.marker&&(D.marker=x.marker),c.borderSize&&(D.borderSize=x.borderSize),c.borderColor&&(D.borderColor=x.borderColor),c.opacity&&(D.opacity=x.opacity),c.range&&(D.range=h?r(x.range,P,O):x.range||D.bounds),x.passes.push(I)}return this},t.prototype.draw=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=[],c=0;c<l.length;c++)if(typeof l[c]=="number"){var x=this.traces[l[c]],p=x.passes,v=x.passOffset;h.push.apply(h,b(v,v+p.length))}else if(l[c].length){var g=l[c],y=this.traces[c],m=y.passes,w=y.passOffset;m=m.map(function(d,S){h[w+S]=g})}(a=this.scatter).draw.apply(a,h)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(a){a.buffer&&a.buffer.destroy&&a.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(U){U.exports=function(){function C(Ve,Ke){this.id=re++,this.type=Ve,this.data=Ke}function e(Ve){if(Ve.length===0)return[];var Ke=Ve.charAt(0),ft=Ve.charAt(Ve.length-1);if(1<Ve.length&&Ke===ft&&(Ke==='"'||Ke==="'"))return['"'+Ve.substr(1,Ve.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ke=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ve))return e(Ve.substr(0,Ke.index)).concat(e(Ke[1])).concat(e(Ve.substr(Ke.index+Ke[0].length)));if((Ke=Ve.split(".")).length===1)return['"'+Ve.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ve=[],ft=0;ft<Ke.length;++ft)Ve=Ve.concat(e(Ke[ft]));return Ve}function T(Ve){return"["+e(Ve).join("][")+"]"}function k(Ve){return typeof Ve=="string"?Ve.split():Ve}function o(Ve){return typeof Ve=="string"?document.querySelector(Ve):Ve}function _(Ve){var Ke,ft,ut,xt,bt=Ve||{};Ve={};var qe=[],je=[],lt=typeof window>"u"?1:window.devicePixelRatio,gt=!1,dt={},at=function(wt){},kt=function(){};if(typeof bt=="string"?Ke=document.querySelector(bt):typeof bt=="object"&&(typeof bt.nodeName=="string"&&typeof bt.appendChild=="function"&&typeof bt.getBoundingClientRect=="function"?Ke=bt:typeof bt.drawArrays=="function"||typeof bt.drawElements=="function"?ut=(xt=bt).canvas:("gl"in bt?xt=bt.gl:"canvas"in bt?ut=o(bt.canvas):"container"in bt&&(ft=o(bt.container)),"attributes"in bt&&(Ve=bt.attributes),"extensions"in bt&&(qe=k(bt.extensions)),"optionalExtensions"in bt&&(je=k(bt.optionalExtensions)),"onDone"in bt&&(at=bt.onDone),"profile"in bt&&(gt=!!bt.profile),"pixelRatio"in bt&&(lt=+bt.pixelRatio),"cachedCode"in bt&&(dt=bt.cachedCode))),Ke&&(Ke.nodeName.toLowerCase()==="canvas"?ut=Ke:ft=Ke),!xt){if(!ut){if(!(Ke=function(wt,Et,Tt){function At(){var on=window.innerWidth,cn=window.innerHeight;wt!==document.body&&(on=(cn=Wt.getBoundingClientRect()).right-cn.left,cn=cn.bottom-cn.top),Wt.width=Tt*on,Wt.height=Tt*cn}var Nt,Wt=document.createElement("canvas");return J(Wt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),wt.appendChild(Wt),wt===document.body&&(Wt.style.position="absolute",J(wt.style,{margin:0,padding:0})),wt!==document.body&&typeof ResizeObserver=="function"?(Nt=new ResizeObserver(function(){setTimeout(At)})).observe(wt):window.addEventListener("resize",At,!1),At(),{canvas:Wt,onDestroy:function(){Nt?Nt.disconnect():window.removeEventListener("resize",At),wt.removeChild(Wt)}}}(ft||document.body,0,lt)))return null;ut=Ke.canvas,kt=Ke.onDestroy}Ve.premultipliedAlpha===void 0&&(Ve.premultipliedAlpha=!0),xt=function(wt,Et){function Tt(At){try{return wt.getContext(At,Et)}catch{return null}}return Tt("webgl")||Tt("experimental-webgl")||Tt("webgl-experimental")}(ut,Ve)}return xt?{gl:xt,canvas:ut,container:ft,extensions:qe,optionalExtensions:je,pixelRatio:lt,profile:gt,cachedCode:dt,onDone:at,onDestroy:kt}:(kt(),at("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Ve,Ke){for(var ft=Array(Ve),ut=0;ut<Ve;++ut)ft[ut]=Ke(ut);return ft}function f(Ve){var Ke,ft;return Ke=(65535<Ve)<<4,Ke|=ft=(255<(Ve>>>=Ke))<<3,(Ke|=ft=(15<(Ve>>>=ft))<<2)|(ft=(3<(Ve>>>=ft))<<1)|Ve>>>ft>>1}function s(){function Ve(ut){e:{for(var xt=16;268435456>=xt;xt*=16)if(ut<=xt){ut=xt;break e}ut=0}return 0<(xt=ft[f(ut)>>2]).length?xt.pop():new ArrayBuffer(ut)}function Ke(ut){ft[f(ut.byteLength)>>2].push(ut)}var ft=b(8,function(){return[]});return{alloc:Ve,free:Ke,allocType:function(ut,xt){var bt=null;switch(ut){case 5120:bt=new Int8Array(Ve(xt),0,xt);break;case 5121:bt=new Uint8Array(Ve(xt),0,xt);break;case 5122:bt=new Int16Array(Ve(2*xt),0,xt);break;case 5123:bt=new Uint16Array(Ve(2*xt),0,xt);break;case 5124:bt=new Int32Array(Ve(4*xt),0,xt);break;case 5125:bt=new Uint32Array(Ve(4*xt),0,xt);break;case 5126:bt=new Float32Array(Ve(4*xt),0,xt);break;default:return null}return bt.length!==xt?bt.subarray(0,xt):bt},freeType:function(ut){Ke(ut.buffer)}}}function t(Ve){return!!Ve&&typeof Ve=="object"&&Array.isArray(Ve.shape)&&Array.isArray(Ve.stride)&&typeof Ve.offset=="number"&&Ve.shape.length===Ve.stride.length&&(Array.isArray(Ve.data)||ye(Ve.data))}function i(Ve,Ke,ft,ut,xt,bt){for(var qe=0;qe<Ke;++qe)for(var je=Ve[qe],lt=0;lt<ft;++lt)for(var gt=je[lt],dt=0;dt<ut;++dt)xt[bt++]=gt[dt]}function r(Ve,Ke,ft,ut,xt){for(var bt=1,qe=ft+1;qe<Ke.length;++qe)bt*=Ke[qe];var je=Ke[ft];if(Ke.length-ft==4){var lt=Ke[ft+1],gt=Ke[ft+2];for(Ke=Ke[ft+3],qe=0;qe<je;++qe)i(Ve[qe],lt,gt,Ke,ut,xt),xt+=bt}else for(qe=0;qe<je;++qe)r(Ve[qe],Ke,ft+1,ut,xt),xt+=bt}function n(Ve){return 0|Se[Object.prototype.toString.call(Ve)]}function a(Ve,Ke){for(var ft=0;ft<Ke.length;++ft)Ve[ft]=Ke[ft]}function l(Ve,Ke,ft,ut,xt,bt,qe){for(var je=0,lt=0;lt<ft;++lt)for(var gt=0;gt<ut;++gt)Ve[je++]=Ke[xt*lt+bt*gt+qe]}function u(Ve,Ke,ft,ut){function xt(at){this.id=lt++,this.buffer=Ve.createBuffer(),this.type=at,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ft.profile&&(this.stats={size:0})}function bt(at,kt,wt){at.byteLength=kt.byteLength,Ve.bufferData(at.type,kt,wt)}function qe(at,kt,wt,Et,Tt,At){if(at.usage=wt,Array.isArray(kt)){if(at.dtype=Et||5126,0<kt.length)if(Array.isArray(kt[0])){Tt=oe(kt);for(var Nt=Et=1;Nt<Tt.length;++Nt)Et*=Tt[Nt];at.dimension=Et,bt(at,kt=le(kt,Tt,at.dtype),wt),At?at.persistentData=kt:pe.freeType(kt)}else typeof kt[0]=="number"?(at.dimension=Tt,a(Tt=pe.allocType(at.dtype,kt.length),kt),bt(at,Tt,wt),At?at.persistentData=Tt:pe.freeType(Tt)):ye(kt[0])&&(at.dimension=kt[0].length,at.dtype=Et||n(kt[0])||5126,bt(at,kt=le(kt,[kt.length,kt[0].length],at.dtype),wt),At?at.persistentData=kt:pe.freeType(kt))}else if(ye(kt))at.dtype=Et||n(kt),at.dimension=Tt,bt(at,kt,wt),At&&(at.persistentData=new Uint8Array(new Uint8Array(kt.buffer)));else if(t(kt)){Tt=kt.shape;var Wt=kt.stride,on=(Nt=kt.offset,0),cn=0,un=0,Xt=0;Tt.length===1?(on=Tt[0],cn=1,un=Wt[0],Xt=0):Tt.length===2&&(on=Tt[0],cn=Tt[1],un=Wt[0],Xt=Wt[1]),at.dtype=Et||n(kt.data)||5126,at.dimension=cn,l(Tt=pe.allocType(at.dtype,on*cn),kt.data,on,cn,un,Xt,Nt),bt(at,Tt,wt),At?at.persistentData=Tt:pe.freeType(Tt)}else kt instanceof ArrayBuffer&&(at.dtype=5121,at.dimension=Tt,bt(at,kt,wt),At&&(at.persistentData=new Uint8Array(new Uint8Array(kt))))}function je(at){Ke.bufferCount--,ut(at),Ve.deleteBuffer(at.buffer),at.buffer=null,delete gt[at.id]}var lt=0,gt={};xt.prototype.bind=function(){Ve.bindBuffer(this.type,this.buffer)},xt.prototype.destroy=function(){je(this)};var dt=[];return ft.profile&&(Ke.getTotalBufferSize=function(){var at=0;return Object.keys(gt).forEach(function(kt){at+=gt[kt].stats.size}),at}),{create:function(at,kt,wt,Et){function Tt(Nt){var Wt=35044,on=null,cn=0,un=0,Xt=1;return Array.isArray(Nt)||ye(Nt)||t(Nt)||Nt instanceof ArrayBuffer?on=Nt:typeof Nt=="number"?cn=0|Nt:Nt&&("data"in Nt&&(on=Nt.data),"usage"in Nt&&(Wt=xe[Nt.usage]),"type"in Nt&&(un=Fe[Nt.type]),"dimension"in Nt&&(Xt=0|Nt.dimension),"length"in Nt&&(cn=0|Nt.length)),At.bind(),on?qe(At,on,Wt,un,Xt,Et):(cn&&Ve.bufferData(At.type,cn,Wt),At.dtype=un||5121,At.usage=Wt,At.dimension=Xt,At.byteLength=cn),ft.profile&&(At.stats.size=At.byteLength*de[At.dtype]),Tt}Ke.bufferCount++;var At=new xt(kt);return gt[At.id]=At,wt||Tt(at),Tt._reglType="buffer",Tt._buffer=At,Tt.subdata=function(Nt,Wt){var on,cn=0|(Wt||0);if(At.bind(),ye(Nt)||Nt instanceof ArrayBuffer)Ve.bufferSubData(At.type,cn,Nt);else if(Array.isArray(Nt)){if(0<Nt.length)if(typeof Nt[0]=="number"){var un=pe.allocType(At.dtype,Nt.length);a(un,Nt),Ve.bufferSubData(At.type,cn,un),pe.freeType(un)}else(Array.isArray(Nt[0])||ye(Nt[0]))&&(on=oe(Nt),un=le(Nt,on,At.dtype),Ve.bufferSubData(At.type,cn,un),pe.freeType(un))}else if(t(Nt)){on=Nt.shape;var Xt=Nt.stride,tn=un=0,kn=0,fn=0;on.length===1?(un=on[0],tn=1,kn=Xt[0],fn=0):on.length===2&&(un=on[0],tn=on[1],kn=Xt[0],fn=Xt[1]),on=Array.isArray(Nt.data)?At.dtype:n(Nt.data),l(on=pe.allocType(on,un*tn),Nt.data,un,tn,kn,fn,Nt.offset),Ve.bufferSubData(At.type,cn,on),pe.freeType(on)}return Tt},ft.profile&&(Tt.stats=At.stats),Tt.destroy=function(){je(At)},Tt},createStream:function(at,kt){var wt=dt.pop();return wt||(wt=new xt(at)),wt.bind(),qe(wt,kt,35040,0,1,!1),wt},destroyStream:function(at){dt.push(at)},clear:function(){be(gt).forEach(je),dt.forEach(je)},getBuffer:function(at){return at&&at._buffer instanceof xt?at._buffer:null},restore:function(){be(gt).forEach(function(at){at.buffer=Ve.createBuffer(),Ve.bindBuffer(at.type,at.buffer),Ve.bufferData(at.type,at.persistentData||at.byteLength,at.usage)})},_initBuffer:qe}}function h(Ve,Ke,ft,ut){function xt(at){this.id=lt++,je[this.id]=this,this.buffer=at,this.primType=4,this.type=this.vertCount=0}function bt(at,kt,wt,Et,Tt,At,Nt){var Wt;if(at.buffer.bind(),kt?((Wt=Nt)||ye(kt)&&(!t(kt)||ye(kt.data))||(Wt=Ke.oes_element_index_uint?5125:5123),ft._initBuffer(at.buffer,kt,wt,Wt,3)):(Ve.bufferData(34963,At,wt),at.buffer.dtype=Wt||5121,at.buffer.usage=wt,at.buffer.dimension=3,at.buffer.byteLength=At),Wt=Nt,!Nt){switch(at.buffer.dtype){case 5121:case 5120:Wt=5121;break;case 5123:case 5122:Wt=5123;break;case 5125:case 5124:Wt=5125}at.buffer.dtype=Wt}at.type=Wt,0>(kt=Tt)&&(kt=at.buffer.byteLength,Wt===5123?kt>>=1:Wt===5125&&(kt>>=2)),at.vertCount=kt,kt=Et,0>Et&&(kt=4,(Et=at.buffer.dimension)===1&&(kt=0),Et===2&&(kt=1),Et===3&&(kt=4)),at.primType=kt}function qe(at){ut.elementsCount--,delete je[at.id],at.buffer.destroy(),at.buffer=null}var je={},lt=0,gt={uint8:5121,uint16:5123};Ke.oes_element_index_uint&&(gt.uint32=5125),xt.prototype.bind=function(){this.buffer.bind()};var dt=[];return{create:function(at,kt){function wt(At){if(At)if(typeof At=="number")Et(At),Tt.primType=4,Tt.vertCount=0|At,Tt.type=5121;else{var Nt=null,Wt=35044,on=-1,cn=-1,un=0,Xt=0;Array.isArray(At)||ye(At)||t(At)?Nt=At:("data"in At&&(Nt=At.data),"usage"in At&&(Wt=xe[At.usage]),"primitive"in At&&(on=Ce[At.primitive]),"count"in At&&(cn=0|At.count),"type"in At&&(Xt=gt[At.type]),"length"in At?un=0|At.length:(un=cn,Xt===5123||Xt===5122?un*=2:Xt!==5125&&Xt!==5124||(un*=4))),bt(Tt,Nt,Wt,on,cn,un,Xt)}else Et(),Tt.primType=4,Tt.vertCount=0,Tt.type=5121;return wt}var Et=ft.create(null,34963,!0),Tt=new xt(Et._buffer);return ut.elementsCount++,wt(at),wt._reglType="elements",wt._elements=Tt,wt.subdata=function(At,Nt){return Et.subdata(At,Nt),wt},wt.destroy=function(){qe(Tt)},wt},createStream:function(at){var kt=dt.pop();return kt||(kt=new xt(ft.create(null,34963,!0,!1)._buffer)),bt(kt,at,35040,-1,-1,0,0),kt},destroyStream:function(at){dt.push(at)},getElements:function(at){return typeof at=="function"&&at._elements instanceof xt?at._elements:null},clear:function(){be(je).forEach(qe)}}}function c(Ve){for(var Ke=pe.allocType(5123,Ve.length),ft=0;ft<Ve.length;++ft)if(isNaN(Ve[ft]))Ke[ft]=65535;else if(Ve[ft]===1/0)Ke[ft]=31744;else if(Ve[ft]===-1/0)Ke[ft]=64512;else{_e[0]=Ve[ft];var ut=(bt=Ae[0])>>>31<<15,xt=(bt<<1>>>24)-127,bt=bt>>13&1023;Ke[ft]=-24>xt?ut:-14>xt?ut+(bt+1024>>-14-xt):15<xt?ut+31744:ut+(xt+15<<10)+bt}return Ke}function x(Ve){return Array.isArray(Ve)||ye(Ve)}function p(Ve){return"[object "+Ve+"]"}function v(Ve){return Array.isArray(Ve)&&(Ve.length===0||typeof Ve[0]=="number")}function g(Ve){return!(!Array.isArray(Ve)||Ve.length===0||!x(Ve[0]))}function y(Ve){return Object.prototype.toString.call(Ve)}function m(Ve){if(!Ve)return!1;var Ke=y(Ve);return 0<=We.indexOf(Ke)||v(Ve)||g(Ve)||t(Ve)}function w(Ve,Ke){Ve.type===36193?(Ve.data=c(Ke),pe.freeType(Ke)):Ve.data=Ke}function d(Ve,Ke,ft,ut,xt,bt){if(Ve=ot[Ve]!==void 0?ot[Ve]:Re[Ve]*$e[Ke],bt&&(Ve*=6),xt){for(ut=0;1<=ft;)ut+=Ve*ft*ft,ft/=2;return ut}return Ve*ft*ut}function S(Ve,Ke,ft,ut,xt,bt,qe){function je(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function lt(Kt,bn){Kt.internalformat=bn.internalformat,Kt.format=bn.format,Kt.type=bn.type,Kt.compressed=bn.compressed,Kt.premultiplyAlpha=bn.premultiplyAlpha,Kt.flipY=bn.flipY,Kt.unpackAlignment=bn.unpackAlignment,Kt.colorSpace=bn.colorSpace,Kt.width=bn.width,Kt.height=bn.height,Kt.channels=bn.channels}function gt(Kt,bn){if(typeof bn=="object"&&bn){"premultiplyAlpha"in bn&&(Kt.premultiplyAlpha=bn.premultiplyAlpha),"flipY"in bn&&(Kt.flipY=bn.flipY),"alignment"in bn&&(Kt.unpackAlignment=bn.alignment),"colorSpace"in bn&&(Kt.colorSpace=Tn[bn.colorSpace]),"type"in bn&&(Kt.type=Pn[bn.type]);var Dt=Kt.width,Ut=Kt.height,en=Kt.channels,gn=!1;"shape"in bn?(Dt=bn.shape[0],Ut=bn.shape[1],bn.shape.length===3&&(en=bn.shape[2],gn=!0)):("radius"in bn&&(Dt=Ut=bn.radius),"width"in bn&&(Dt=bn.width),"height"in bn&&(Ut=bn.height),"channels"in bn&&(en=bn.channels,gn=!0)),Kt.width=0|Dt,Kt.height=0|Ut,Kt.channels=0|en,Dt=!1,"format"in bn&&(Dt=bn.format,Ut=Kt.internalformat=Nn[Dt],Kt.format=On[Ut],Dt in Pn&&!("type"in bn)&&(Kt.type=Pn[Dt]),Dt in $n&&(Kt.compressed=!0),Dt=!0),!gn&&Dt?Kt.channels=Re[Kt.format]:gn&&!Dt&&Kt.channels!==ze[Kt.format]&&(Kt.format=Kt.internalformat=ze[Kt.channels])}}function dt(Kt){Ve.pixelStorei(37440,Kt.flipY),Ve.pixelStorei(37441,Kt.premultiplyAlpha),Ve.pixelStorei(37443,Kt.colorSpace),Ve.pixelStorei(3317,Kt.unpackAlignment)}function at(){je.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function kt(Kt,bn){var Dt=null;if(m(bn)?Dt=bn:bn&&(gt(Kt,bn),"x"in bn&&(Kt.xOffset=0|bn.x),"y"in bn&&(Kt.yOffset=0|bn.y),m(bn.data)&&(Dt=bn.data)),bn.copy){var Ut=xt.viewportWidth,en=xt.viewportHeight;Kt.width=Kt.width||Ut-Kt.xOffset,Kt.height=Kt.height||en-Kt.yOffset,Kt.needsCopy=!0}else if(Dt){if(ye(Dt))Kt.channels=Kt.channels||4,Kt.data=Dt,"type"in bn||Kt.type!==5121||(Kt.type=0|Se[Object.prototype.toString.call(Dt)]);else if(v(Dt)){switch(Kt.channels=Kt.channels||4,en=(Ut=Dt).length,Kt.type){case 5121:case 5123:case 5125:case 5126:(en=pe.allocType(Kt.type,en)).set(Ut),Kt.data=en;break;case 36193:Kt.data=c(Ut)}Kt.alignment=1,Kt.needsFree=!0}else if(t(Dt)){Ut=Dt.data,Array.isArray(Ut)||Kt.type!==5121||(Kt.type=0|Se[Object.prototype.toString.call(Ut)]),en=Dt.shape;var gn,vn,Mn,yn,hn=Dt.stride;en.length===3?(Mn=en[2],yn=hn[2]):yn=Mn=1,gn=en[0],vn=en[1],en=hn[0],hn=hn[1],Kt.alignment=1,Kt.width=gn,Kt.height=vn,Kt.channels=Mn,Kt.format=Kt.internalformat=ze[Mn],Kt.needsFree=!0,gn=yn,Dt=Dt.offset,Mn=Kt.width,yn=Kt.height,vn=Kt.channels;for(var qt=pe.allocType(Kt.type===36193?5126:Kt.type,Mn*yn*vn),Vt=0,an=0;an<yn;++an)for(var En=0;En<Mn;++En)for(var Fn=0;Fn<vn;++Fn)qt[Vt++]=Ut[en*En+hn*an+gn*Fn+Dt];w(Kt,qt)}else if(y(Dt)===ve||y(Dt)===ke||y(Dt)===Ee)y(Dt)===ve||y(Dt)===ke?Kt.element=Dt:Kt.element=Dt.canvas,Kt.width=Kt.element.width,Kt.height=Kt.element.height,Kt.channels=4;else if(y(Dt)===De)Kt.element=Dt,Kt.width=Dt.width,Kt.height=Dt.height,Kt.channels=4;else if(y(Dt)===Pe)Kt.element=Dt,Kt.width=Dt.naturalWidth,Kt.height=Dt.naturalHeight,Kt.channels=4;else if(y(Dt)===Ue)Kt.element=Dt,Kt.width=Dt.videoWidth,Kt.height=Dt.videoHeight,Kt.channels=4;else if(g(Dt)){for(Ut=Kt.width||Dt[0].length,en=Kt.height||Dt.length,hn=Kt.channels,hn=x(Dt[0][0])?hn||Dt[0][0].length:hn||1,gn=Te.shape(Dt),Mn=1,yn=0;yn<gn.length;++yn)Mn*=gn[yn];Mn=pe.allocType(Kt.type===36193?5126:Kt.type,Mn),Te.flatten(Dt,gn,"",Mn),w(Kt,Mn),Kt.alignment=1,Kt.width=Ut,Kt.height=en,Kt.channels=hn,Kt.format=Kt.internalformat=ze[hn],Kt.needsFree=!0}}else Kt.width=Kt.width||1,Kt.height=Kt.height||1,Kt.channels=Kt.channels||4}function wt(Kt,bn,Dt,Ut,en){var gn=Kt.element,vn=Kt.data,Mn=Kt.internalformat,yn=Kt.format,hn=Kt.type,qt=Kt.width,Vt=Kt.height;dt(Kt),gn?Ve.texSubImage2D(bn,en,Dt,Ut,yn,hn,gn):Kt.compressed?Ve.compressedTexSubImage2D(bn,en,Dt,Ut,Mn,qt,Vt,vn):Kt.needsCopy?(ut(),Ve.copyTexSubImage2D(bn,en,Dt,Ut,Kt.xOffset,Kt.yOffset,qt,Vt)):Ve.texSubImage2D(bn,en,Dt,Ut,qt,Vt,yn,hn,vn)}function Et(){return xn.pop()||new at}function Tt(Kt){Kt.needsFree&&pe.freeType(Kt.data),at.call(Kt),xn.push(Kt)}function At(){je.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Nt(Kt,bn,Dt){var Ut=Kt.images[0]=Et();Kt.mipmask=1,Ut.width=Kt.width=bn,Ut.height=Kt.height=Dt,Ut.channels=Kt.channels=4}function Wt(Kt,bn){var Dt=null;if(m(bn))lt(Dt=Kt.images[0]=Et(),Kt),kt(Dt,bn),Kt.mipmask=1;else if(gt(Kt,bn),Array.isArray(bn.mipmap))for(var Ut=bn.mipmap,en=0;en<Ut.length;++en)lt(Dt=Kt.images[en]=Et(),Kt),Dt.width>>=en,Dt.height>>=en,kt(Dt,Ut[en]),Kt.mipmask|=1<<en;else lt(Dt=Kt.images[0]=Et(),Kt),kt(Dt,bn),Kt.mipmask=1;lt(Kt,Kt.images[0])}function on(Kt,bn){for(var Dt=Kt.images,Ut=0;Ut<Dt.length&&Dt[Ut];++Ut){var en=Dt[Ut],gn=bn,vn=Ut,Mn=en.element,yn=en.data,hn=en.internalformat,qt=en.format,Vt=en.type,an=en.width,En=en.height;dt(en),Mn?Ve.texImage2D(gn,vn,qt,qt,Vt,Mn):en.compressed?Ve.compressedTexImage2D(gn,vn,hn,an,En,0,yn):en.needsCopy?(ut(),Ve.copyTexImage2D(gn,vn,qt,en.xOffset,en.yOffset,an,En,0)):Ve.texImage2D(gn,vn,qt,an,En,0,qt,Vt,yn||null)}}function cn(){var Kt=In.pop()||new At;je.call(Kt);for(var bn=Kt.mipmask=0;16>bn;++bn)Kt.images[bn]=null;return Kt}function un(Kt){for(var bn=Kt.images,Dt=0;Dt<bn.length;++Dt)bn[Dt]&&Tt(bn[Dt]),bn[Dt]=null;In.push(Kt)}function Xt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function tn(Kt,bn){"min"in bn&&(Kt.minFilter=Dn[bn.min],0<=Le.indexOf(Kt.minFilter)&&!("faces"in bn)&&(Kt.genMipmaps=!0)),"mag"in bn&&(Kt.magFilter=wn[bn.mag]);var Dt=Kt.wrapS,Ut=Kt.wrapT;if("wrap"in bn){var en=bn.wrap;typeof en=="string"?Dt=Ut=Sn[en]:Array.isArray(en)&&(Dt=Sn[en[0]],Ut=Sn[en[1]])}else"wrapS"in bn&&(Dt=Sn[bn.wrapS]),"wrapT"in bn&&(Ut=Sn[bn.wrapT]);if(Kt.wrapS=Dt,Kt.wrapT=Ut,"anisotropic"in bn&&(Kt.anisotropic=bn.anisotropic),"mipmap"in bn){switch(Dt=!1,typeof bn.mipmap){case"string":Kt.mipmapHint=sn[bn.mipmap],Dt=Kt.genMipmaps=!0;break;case"boolean":Dt=Kt.genMipmaps=bn.mipmap;break;case"object":Kt.genMipmaps=!1,Dt=!0}!Dt||"min"in bn||(Kt.minFilter=9984)}}function kn(Kt,bn){Ve.texParameteri(bn,10241,Kt.minFilter),Ve.texParameteri(bn,10240,Kt.magFilter),Ve.texParameteri(bn,10242,Kt.wrapS),Ve.texParameteri(bn,10243,Kt.wrapT),Ke.ext_texture_filter_anisotropic&&Ve.texParameteri(bn,34046,Kt.anisotropic),Kt.genMipmaps&&(Ve.hint(33170,Kt.mipmapHint),Ve.generateMipmap(bn))}function fn(Kt){je.call(this),this.mipmask=0,this.internalformat=6408,this.id=Gn++,this.refCount=1,this.target=Kt,this.texture=Ve.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Xt,qe.profile&&(this.stats={size:0})}function Qt(Kt){Ve.activeTexture(33984),Ve.bindTexture(Kt.target,Kt.texture)}function pn(){var Kt=dr[0];Kt?Ve.bindTexture(Kt.target,Kt.texture):Ve.bindTexture(3553,null)}function nn(Kt){var bn=Kt.texture,Dt=Kt.unit,Ut=Kt.target;0<=Dt&&(Ve.activeTexture(33984+Dt),Ve.bindTexture(Ut,null),dr[Dt]=null),Ve.deleteTexture(bn),Kt.texture=null,Kt.params=null,Kt.pixels=null,Kt.refCount=0,delete qn[Kt.id],bt.textureCount--}var sn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Sn={repeat:10497,clamp:33071,mirror:33648},wn={nearest:9728,linear:9729},Dn=J({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},wn),Tn={none:0,browser:37444},Pn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Nn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},$n={};Ke.ext_srgb&&(Nn.srgb=35904,Nn.srgba=35906),Ke.oes_texture_float&&(Pn.float32=Pn.float=5126),Ke.oes_texture_half_float&&(Pn.float16=Pn["half float"]=36193),Ke.webgl_depth_texture&&(J(Nn,{depth:6402,"depth stencil":34041}),J(Pn,{uint16:5123,uint32:5125,"depth stencil":34042})),Ke.webgl_compressed_texture_s3tc&&J($n,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ke.webgl_compressed_texture_atc&&J($n,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ke.webgl_compressed_texture_pvrtc&&J($n,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ke.webgl_compressed_texture_etc1&&($n["rgb etc1"]=36196);var pr=Array.prototype.slice.call(Ve.getParameter(34467));Object.keys($n).forEach(function(Kt){var bn=$n[Kt];0<=pr.indexOf(bn)&&(Nn[Kt]=bn)});var Hn=Object.keys(Nn);ft.textureFormats=Hn;var Qn=[];Object.keys(Nn).forEach(function(Kt){Qn[Nn[Kt]]=Kt});var er=[];Object.keys(Pn).forEach(function(Kt){er[Pn[Kt]]=Kt});var ur=[];Object.keys(wn).forEach(function(Kt){ur[wn[Kt]]=Kt});var $t=[];Object.keys(Dn).forEach(function(Kt){$t[Dn[Kt]]=Kt});var rn=[];Object.keys(Sn).forEach(function(Kt){rn[Sn[Kt]]=Kt});var On=Hn.reduce(function(Kt,bn){var Dt=Nn[bn];return Dt===6409||Dt===6406||Dt===6409||Dt===6410||Dt===6402||Dt===34041||Ke.ext_srgb&&(Dt===35904||Dt===35906)?Kt[Dt]=Dt:Dt===32855||0<=bn.indexOf("rgba")?Kt[Dt]=6408:Kt[Dt]=6407,Kt},{}),xn=[],In=[],Gn=0,qn={},ir=ft.maxTextureUnits,dr=Array(ir).map(function(){return null});return J(fn.prototype,{bind:function(){this.bindCount+=1;var Kt=this.unit;if(0>Kt){for(var bn=0;bn<ir;++bn){var Dt=dr[bn];if(Dt){if(0<Dt.bindCount)continue;Dt.unit=-1}dr[bn]=this,Kt=bn;break}qe.profile&&bt.maxTextureUnits<Kt+1&&(bt.maxTextureUnits=Kt+1),this.unit=Kt,Ve.activeTexture(33984+Kt),Ve.bindTexture(this.target,this.texture)}return Kt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&nn(this)}}),qe.profile&&(bt.getTotalTextureSize=function(){var Kt=0;return Object.keys(qn).forEach(function(bn){Kt+=qn[bn].stats.size}),Kt}),{create2D:function(Kt,bn){function Dt(en,gn){var vn=Ut.texInfo;Xt.call(vn);var Mn=cn();return typeof en=="number"?Nt(Mn,0|en,typeof gn=="number"?0|gn:0|en):en?(tn(vn,en),Wt(Mn,en)):Nt(Mn,1,1),vn.genMipmaps&&(Mn.mipmask=(Mn.width<<1)-1),Ut.mipmask=Mn.mipmask,lt(Ut,Mn),Ut.internalformat=Mn.internalformat,Dt.width=Mn.width,Dt.height=Mn.height,Qt(Ut),on(Mn,3553),kn(vn,3553),pn(),un(Mn),qe.profile&&(Ut.stats.size=d(Ut.internalformat,Ut.type,Mn.width,Mn.height,vn.genMipmaps,!1)),Dt.format=Qn[Ut.internalformat],Dt.type=er[Ut.type],Dt.mag=ur[vn.magFilter],Dt.min=$t[vn.minFilter],Dt.wrapS=rn[vn.wrapS],Dt.wrapT=rn[vn.wrapT],Dt}var Ut=new fn(3553);return qn[Ut.id]=Ut,bt.textureCount++,Dt(Kt,bn),Dt.subimage=function(en,gn,vn,Mn){gn|=0,vn|=0,Mn|=0;var yn=Et();return lt(yn,Ut),yn.width=0,yn.height=0,kt(yn,en),yn.width=yn.width||(Ut.width>>Mn)-gn,yn.height=yn.height||(Ut.height>>Mn)-vn,Qt(Ut),wt(yn,3553,gn,vn,Mn),pn(),Tt(yn),Dt},Dt.resize=function(en,gn){var vn=0|en,Mn=0|gn||vn;if(vn===Ut.width&&Mn===Ut.height)return Dt;Dt.width=Ut.width=vn,Dt.height=Ut.height=Mn,Qt(Ut);for(var yn=0;Ut.mipmask>>yn;++yn){var hn=vn>>yn,qt=Mn>>yn;if(!hn||!qt)break;Ve.texImage2D(3553,yn,Ut.format,hn,qt,0,Ut.format,Ut.type,null)}return pn(),qe.profile&&(Ut.stats.size=d(Ut.internalformat,Ut.type,vn,Mn,!1,!1)),Dt},Dt._reglType="texture2d",Dt._texture=Ut,qe.profile&&(Dt.stats=Ut.stats),Dt.destroy=function(){Ut.decRef()},Dt},createCube:function(Kt,bn,Dt,Ut,en,gn){function vn(hn,qt,Vt,an,En,Fn){var Rn,jn=Mn.texInfo;for(Xt.call(jn),Rn=0;6>Rn;++Rn)yn[Rn]=cn();if(typeof hn!="number"&&hn){if(typeof hn=="object")if(qt)Wt(yn[0],hn),Wt(yn[1],qt),Wt(yn[2],Vt),Wt(yn[3],an),Wt(yn[4],En),Wt(yn[5],Fn);else if(tn(jn,hn),gt(Mn,hn),"faces"in hn)for(hn=hn.faces,Rn=0;6>Rn;++Rn)lt(yn[Rn],Mn),Wt(yn[Rn],hn[Rn]);else for(Rn=0;6>Rn;++Rn)Wt(yn[Rn],hn)}else for(hn=0|hn||1,Rn=0;6>Rn;++Rn)Nt(yn[Rn],hn,hn);for(lt(Mn,yn[0]),Mn.mipmask=jn.genMipmaps?(yn[0].width<<1)-1:yn[0].mipmask,Mn.internalformat=yn[0].internalformat,vn.width=yn[0].width,vn.height=yn[0].height,Qt(Mn),Rn=0;6>Rn;++Rn)on(yn[Rn],34069+Rn);for(kn(jn,34067),pn(),qe.profile&&(Mn.stats.size=d(Mn.internalformat,Mn.type,vn.width,vn.height,jn.genMipmaps,!0)),vn.format=Qn[Mn.internalformat],vn.type=er[Mn.type],vn.mag=ur[jn.magFilter],vn.min=$t[jn.minFilter],vn.wrapS=rn[jn.wrapS],vn.wrapT=rn[jn.wrapT],Rn=0;6>Rn;++Rn)un(yn[Rn]);return vn}var Mn=new fn(34067);qn[Mn.id]=Mn,bt.cubeCount++;var yn=Array(6);return vn(Kt,bn,Dt,Ut,en,gn),vn.subimage=function(hn,qt,Vt,an,En){Vt|=0,an|=0,En|=0;var Fn=Et();return lt(Fn,Mn),Fn.width=0,Fn.height=0,kt(Fn,qt),Fn.width=Fn.width||(Mn.width>>En)-Vt,Fn.height=Fn.height||(Mn.height>>En)-an,Qt(Mn),wt(Fn,34069+hn,Vt,an,En),pn(),Tt(Fn),vn},vn.resize=function(hn){if((hn|=0)!==Mn.width){vn.width=Mn.width=hn,vn.height=Mn.height=hn,Qt(Mn);for(var qt=0;6>qt;++qt)for(var Vt=0;Mn.mipmask>>Vt;++Vt)Ve.texImage2D(34069+qt,Vt,Mn.format,hn>>Vt,hn>>Vt,0,Mn.format,Mn.type,null);return pn(),qe.profile&&(Mn.stats.size=d(Mn.internalformat,Mn.type,vn.width,vn.height,!1,!0)),vn}},vn._reglType="textureCube",vn._texture=Mn,qe.profile&&(vn.stats=Mn.stats),vn.destroy=function(){Mn.decRef()},vn},clear:function(){for(var Kt=0;Kt<ir;++Kt)Ve.activeTexture(33984+Kt),Ve.bindTexture(3553,null),dr[Kt]=null;be(qn).forEach(nn),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Kt){return null},restore:function(){for(var Kt=0;Kt<ir;++Kt){var bn=dr[Kt];bn&&(bn.bindCount=0,bn.unit=-1,dr[Kt]=null)}be(qn).forEach(function(Dt){Dt.texture=Ve.createTexture(),Ve.bindTexture(Dt.target,Dt.texture);for(var Ut=0;32>Ut;++Ut)if(Dt.mipmask&1<<Ut)if(Dt.target===3553)Ve.texImage2D(3553,Ut,Dt.internalformat,Dt.width>>Ut,Dt.height>>Ut,0,Dt.internalformat,Dt.type,null);else for(var en=0;6>en;++en)Ve.texImage2D(34069+en,Ut,Dt.internalformat,Dt.width>>Ut,Dt.height>>Ut,0,Dt.internalformat,Dt.type,null);kn(Dt.texInfo,Dt.target)})},refresh:function(){for(var Kt=0;Kt<ir;++Kt){var bn=dr[Kt];bn&&(bn.bindCount=0,bn.unit=-1,dr[Kt]=null),Ve.activeTexture(33984+Kt),Ve.bindTexture(3553,null),Ve.bindTexture(34067,null)}}}}function A(Ve,Ke,ft,ut,xt,bt){function qe(fn,Qt,pn){this.target=fn,this.texture=Qt,this.renderbuffer=pn;var nn=fn=0;Qt?(fn=Qt.width,nn=Qt.height):pn&&(fn=pn.width,nn=pn.height),this.width=fn,this.height=nn}function je(fn){fn&&(fn.texture&&fn.texture._texture.decRef(),fn.renderbuffer&&fn.renderbuffer._renderbuffer.decRef())}function lt(fn,Qt,pn){fn&&(fn.texture?fn.texture._texture.refCount+=1:fn.renderbuffer._renderbuffer.refCount+=1)}function gt(fn,Qt){Qt&&(Qt.texture?Ve.framebufferTexture2D(36160,fn,Qt.target,Qt.texture._texture.texture,0):Ve.framebufferRenderbuffer(36160,fn,36161,Qt.renderbuffer._renderbuffer.renderbuffer))}function dt(fn){var Qt=3553,pn=null,nn=null,sn=fn;return typeof fn=="object"&&(sn=fn.data,"target"in fn&&(Qt=0|fn.target)),(fn=sn._reglType)==="texture2d"||fn==="textureCube"?pn=sn:fn==="renderbuffer"&&(nn=sn,Qt=36161),new qe(Qt,pn,nn)}function at(fn,Qt,pn,nn,sn){return pn?((fn=ut.create2D({width:fn,height:Qt,format:nn,type:sn}))._texture.refCount=0,new qe(3553,fn,null)):((fn=xt.create({width:fn,height:Qt,format:nn}))._renderbuffer.refCount=0,new qe(36161,null,fn))}function kt(fn){return fn&&(fn.texture||fn.renderbuffer)}function wt(fn,Qt,pn){fn&&(fn.texture?fn.texture.resize(Qt,pn):fn.renderbuffer&&fn.renderbuffer.resize(Qt,pn),fn.width=Qt,fn.height=pn)}function Et(){this.id=tn++,kn[this.id]=this,this.framebuffer=Ve.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Tt(fn){fn.colorAttachments.forEach(je),je(fn.depthAttachment),je(fn.stencilAttachment),je(fn.depthStencilAttachment)}function At(fn){Ve.deleteFramebuffer(fn.framebuffer),fn.framebuffer=null,bt.framebufferCount--,delete kn[fn.id]}function Nt(fn){var Qt;Ve.bindFramebuffer(36160,fn.framebuffer);var pn=fn.colorAttachments;for(Qt=0;Qt<pn.length;++Qt)gt(36064+Qt,pn[Qt]);for(Qt=pn.length;Qt<ft.maxColorAttachments;++Qt)Ve.framebufferTexture2D(36160,36064+Qt,3553,null,0);Ve.framebufferTexture2D(36160,33306,3553,null,0),Ve.framebufferTexture2D(36160,36096,3553,null,0),Ve.framebufferTexture2D(36160,36128,3553,null,0),gt(36096,fn.depthAttachment),gt(36128,fn.stencilAttachment),gt(33306,fn.depthStencilAttachment),Ve.checkFramebufferStatus(36160),Ve.isContextLost(),Ve.bindFramebuffer(36160,on.next?on.next.framebuffer:null),on.cur=on.next,Ve.getError()}function Wt(fn,Qt){function pn(sn,Sn){var wn,Dn=0,Tn=0,Pn=!0,Nn=!0;wn=null;var $n=!0,pr="rgba",Hn="uint8",Qn=1,er=null,ur=null,$t=null,rn=!1;typeof sn=="number"?(Dn=0|sn,Tn=0|Sn||Dn):sn?("shape"in sn?(Dn=(Tn=sn.shape)[0],Tn=Tn[1]):("radius"in sn&&(Dn=Tn=sn.radius),"width"in sn&&(Dn=sn.width),"height"in sn&&(Tn=sn.height)),("color"in sn||"colors"in sn)&&(wn=sn.color||sn.colors,Array.isArray(wn)),wn||("colorCount"in sn&&(Qn=0|sn.colorCount),"colorTexture"in sn&&($n=!!sn.colorTexture,pr="rgba4"),"colorType"in sn&&(Hn=sn.colorType,!$n)&&(Hn==="half float"||Hn==="float16"?pr="rgba16f":Hn!=="float"&&Hn!=="float32"||(pr="rgba32f")),"colorFormat"in sn&&(pr=sn.colorFormat,0<=cn.indexOf(pr)?$n=!0:0<=un.indexOf(pr)&&($n=!1))),("depthTexture"in sn||"depthStencilTexture"in sn)&&(rn=!(!sn.depthTexture&&!sn.depthStencilTexture)),"depth"in sn&&(typeof sn.depth=="boolean"?Pn=sn.depth:(er=sn.depth,Nn=!1)),"stencil"in sn&&(typeof sn.stencil=="boolean"?Nn=sn.stencil:(ur=sn.stencil,Pn=!1)),"depthStencil"in sn&&(typeof sn.depthStencil=="boolean"?Pn=Nn=sn.depthStencil:($t=sn.depthStencil,Nn=Pn=!1))):Dn=Tn=1;var On=null,xn=null,In=null,Gn=null;if(Array.isArray(wn))On=wn.map(dt);else if(wn)On=[dt(wn)];else for(On=Array(Qn),wn=0;wn<Qn;++wn)On[wn]=at(Dn,Tn,$n,pr,Hn);for(Dn=Dn||On[0].width,Tn=Tn||On[0].height,er?xn=dt(er):Pn&&!Nn&&(xn=at(Dn,Tn,rn,"depth","uint32")),ur?In=dt(ur):Nn&&!Pn&&(In=at(Dn,Tn,!1,"stencil","uint8")),$t?Gn=dt($t):!er&&!ur&&Nn&&Pn&&(Gn=at(Dn,Tn,rn,"depth stencil","depth stencil")),Pn=null,wn=0;wn<On.length;++wn)lt(On[wn]),On[wn]&&On[wn].texture&&(Nn=_t[On[wn].texture._texture.format]*yt[On[wn].texture._texture.type],Pn===null&&(Pn=Nn));return lt(xn),lt(In),lt(Gn),Tt(nn),nn.width=Dn,nn.height=Tn,nn.colorAttachments=On,nn.depthAttachment=xn,nn.stencilAttachment=In,nn.depthStencilAttachment=Gn,pn.color=On.map(kt),pn.depth=kt(xn),pn.stencil=kt(In),pn.depthStencil=kt(Gn),pn.width=nn.width,pn.height=nn.height,Nt(nn),pn}var nn=new Et;return bt.framebufferCount++,pn(fn,Qt),J(pn,{resize:function(sn,Sn){var wn=Math.max(0|sn,1),Dn=Math.max(0|Sn||wn,1);if(wn===nn.width&&Dn===nn.height)return pn;for(var Tn=nn.colorAttachments,Pn=0;Pn<Tn.length;++Pn)wt(Tn[Pn],wn,Dn);return wt(nn.depthAttachment,wn,Dn),wt(nn.stencilAttachment,wn,Dn),wt(nn.depthStencilAttachment,wn,Dn),nn.width=pn.width=wn,nn.height=pn.height=Dn,Nt(nn),pn},_reglType:"framebuffer",_framebuffer:nn,destroy:function(){At(nn),Tt(nn)},use:function(sn){on.setFBO({framebuffer:pn},sn)}})}var on={cur:null,next:null,dirty:!1,setFBO:null},cn=["rgba"],un=["rgba4","rgb565","rgb5 a1"];Ke.ext_srgb&&un.push("srgba"),Ke.ext_color_buffer_half_float&&un.push("rgba16f","rgb16f"),Ke.webgl_color_buffer_float&&un.push("rgba32f");var Xt=["uint8"];Ke.oes_texture_half_float&&Xt.push("half float","float16"),Ke.oes_texture_float&&Xt.push("float","float32");var tn=0,kn={};return J(on,{getFramebuffer:function(fn){return typeof fn=="function"&&fn._reglType==="framebuffer"&&(fn=fn._framebuffer)instanceof Et?fn:null},create:Wt,createCube:function(fn){function Qt(nn){var sn,Sn={color:null},wn=0,Dn=null;sn="rgba";var Tn="uint8",Pn=1;if(typeof nn=="number"?wn=0|nn:nn?("shape"in nn?wn=nn.shape[0]:("radius"in nn&&(wn=0|nn.radius),"width"in nn?wn=0|nn.width:"height"in nn&&(wn=0|nn.height)),("color"in nn||"colors"in nn)&&(Dn=nn.color||nn.colors,Array.isArray(Dn)),Dn||("colorCount"in nn&&(Pn=0|nn.colorCount),"colorType"in nn&&(Tn=nn.colorType),"colorFormat"in nn&&(sn=nn.colorFormat)),"depth"in nn&&(Sn.depth=nn.depth),"stencil"in nn&&(Sn.stencil=nn.stencil),"depthStencil"in nn&&(Sn.depthStencil=nn.depthStencil)):wn=1,Dn)if(Array.isArray(Dn))for(nn=[],sn=0;sn<Dn.length;++sn)nn[sn]=Dn[sn];else nn=[Dn];else for(nn=Array(Pn),Dn={radius:wn,format:sn,type:Tn},sn=0;sn<Pn;++sn)nn[sn]=ut.createCube(Dn);for(Sn.color=Array(nn.length),sn=0;sn<nn.length;++sn)Pn=nn[sn],wn=wn||Pn.width,Sn.color[sn]={target:34069,data:nn[sn]};for(sn=0;6>sn;++sn){for(Pn=0;Pn<nn.length;++Pn)Sn.color[Pn].target=34069+sn;0<sn&&(Sn.depth=pn[0].depth,Sn.stencil=pn[0].stencil,Sn.depthStencil=pn[0].depthStencil),pn[sn]?pn[sn](Sn):pn[sn]=Wt(Sn)}return J(Qt,{width:wn,height:wn,color:nn})}var pn=Array(6);return Qt(fn),J(Qt,{faces:pn,resize:function(nn){var sn=0|nn;if(sn===Qt.width)return Qt;var Sn=Qt.color;for(nn=0;nn<Sn.length;++nn)Sn[nn].resize(sn);for(nn=0;6>nn;++nn)pn[nn].resize(sn);return Qt.width=Qt.height=sn,Qt},_reglType:"framebufferCube",destroy:function(){pn.forEach(function(nn){nn.destroy()})}})},clear:function(){be(kn).forEach(At)},restore:function(){on.cur=null,on.next=null,on.dirty=!0,be(kn).forEach(function(fn){fn.framebuffer=Ve.createFramebuffer(),Nt(fn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function P(Ve,Ke,ft,ut,xt,bt,qe){function je(){this.id=++dt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var wt=Ke.oes_vertex_array_object;this.vao=wt?wt.createVertexArrayOES():null,at[this.id]=this,this.buffers=[]}var lt=ft.maxAttributes,gt=Array(lt);for(ft=0;ft<lt;++ft)gt[ft]=new E;var dt=0,at={},kt={Record:E,scope:{},state:gt,currentVAO:null,targetVAO:null,restore:Ke.oes_vertex_array_object?function(){Ke.oes_vertex_array_object&&be(at).forEach(function(wt){wt.refresh()})}:function(){},createVAO:function(wt){function Et(At){var Nt;Array.isArray(At)?(Nt=At,Tt.elements&&Tt.ownsElements&&Tt.elements.destroy(),Tt.elements=null,Tt.ownsElements=!1,Tt.offset=0,Tt.count=0,Tt.instances=-1,Tt.primitive=4):(At.elements?(Nt=At.elements,Tt.ownsElements?(typeof Nt=="function"&&Nt._reglType==="elements"?Tt.elements.destroy():Tt.elements(Nt),Tt.ownsElements=!1):bt.getElements(At.elements)?(Tt.elements=At.elements,Tt.ownsElements=!1):(Tt.elements=bt.create(At.elements),Tt.ownsElements=!0)):(Tt.elements=null,Tt.ownsElements=!1),Nt=At.attributes,Tt.offset=0,Tt.count=-1,Tt.instances=-1,Tt.primitive=4,Tt.elements&&(Tt.count=Tt.elements._elements.vertCount,Tt.primitive=Tt.elements._elements.primType),"offset"in At&&(Tt.offset=0|At.offset),"count"in At&&(Tt.count=0|At.count),"instances"in At&&(Tt.instances=0|At.instances),"primitive"in At&&(Tt.primitive=Ce[At.primitive])),At={};var Wt=Tt.attributes;Wt.length=Nt.length;for(var on=0;on<Nt.length;++on){var cn,un=Nt[on],Xt=Wt[on]=new E,tn=un.data||un;Array.isArray(tn)||ye(tn)||t(tn)?(Tt.buffers[on]&&(cn=Tt.buffers[on],ye(tn)&&cn._buffer.byteLength>=tn.byteLength?cn.subdata(tn):(cn.destroy(),Tt.buffers[on]=null)),Tt.buffers[on]||(cn=Tt.buffers[on]=xt.create(un,34962,!1,!0)),Xt.buffer=xt.getBuffer(cn),Xt.size=0|Xt.buffer.dimension,Xt.normalized=!1,Xt.type=Xt.buffer.dtype,Xt.offset=0,Xt.stride=0,Xt.divisor=0,Xt.state=1,At[on]=1):xt.getBuffer(un)?(Xt.buffer=xt.getBuffer(un),Xt.size=0|Xt.buffer.dimension,Xt.normalized=!1,Xt.type=Xt.buffer.dtype,Xt.offset=0,Xt.stride=0,Xt.divisor=0,Xt.state=1):xt.getBuffer(un.buffer)?(Xt.buffer=xt.getBuffer(un.buffer),Xt.size=0|(+un.size||Xt.buffer.dimension),Xt.normalized=!!un.normalized||!1,Xt.type="type"in un?Fe[un.type]:Xt.buffer.dtype,Xt.offset=0|(un.offset||0),Xt.stride=0|(un.stride||0),Xt.divisor=0|(un.divisor||0),Xt.state=1):"x"in un&&(Xt.x=+un.x||0,Xt.y=+un.y||0,Xt.z=+un.z||0,Xt.w=+un.w||0,Xt.state=2)}for(cn=0;cn<Tt.buffers.length;++cn)!At[cn]&&Tt.buffers[cn]&&(Tt.buffers[cn].destroy(),Tt.buffers[cn]=null);return Tt.refresh(),Et}var Tt=new je;return ut.vaoCount+=1,Et.destroy=function(){for(var At=0;At<Tt.buffers.length;++At)Tt.buffers[At]&&Tt.buffers[At].destroy();Tt.buffers.length=0,Tt.ownsElements&&(Tt.elements.destroy(),Tt.elements=null,Tt.ownsElements=!1),Tt.destroy()},Et._vao=Tt,Et._reglType="vao",Et(wt)},getVAO:function(wt){return typeof wt=="function"&&wt._vao?wt._vao:null},destroyBuffer:function(wt){for(var Et=0;Et<gt.length;++Et){var Tt=gt[Et];Tt.buffer===wt&&(Ve.disableVertexAttribArray(Et),Tt.buffer=null)}},setVAO:Ke.oes_vertex_array_object?function(wt){if(wt!==kt.currentVAO){var Et=Ke.oes_vertex_array_object;wt?Et.bindVertexArrayOES(wt.vao):Et.bindVertexArrayOES(null),kt.currentVAO=wt}}:function(wt){if(wt!==kt.currentVAO){if(wt)wt.bindAttrs();else{for(var Et=Ke.angle_instanced_arrays,Tt=0;Tt<gt.length;++Tt){var At=gt[Tt];At.buffer?(Ve.enableVertexAttribArray(Tt),At.buffer.bind(),Ve.vertexAttribPointer(Tt,At.size,At.type,At.normalized,At.stride,At.offfset),Et&&At.divisor&&Et.vertexAttribDivisorANGLE(Tt,At.divisor)):(Ve.disableVertexAttribArray(Tt),Ve.vertexAttrib4f(Tt,At.x,At.y,At.z,At.w))}qe.elements?Ve.bindBuffer(34963,qe.elements.buffer.buffer):Ve.bindBuffer(34963,null)}kt.currentVAO=wt}},clear:Ke.oes_vertex_array_object?function(){be(at).forEach(function(wt){wt.destroy()})}:function(){}};return je.prototype.bindAttrs=function(){for(var wt=Ke.angle_instanced_arrays,Et=this.attributes,Tt=0;Tt<Et.length;++Tt){var At=Et[Tt];At.buffer?(Ve.enableVertexAttribArray(Tt),Ve.bindBuffer(34962,At.buffer.buffer),Ve.vertexAttribPointer(Tt,At.size,At.type,At.normalized,At.stride,At.offset),wt&&At.divisor&&wt.vertexAttribDivisorANGLE(Tt,At.divisor)):(Ve.disableVertexAttribArray(Tt),Ve.vertexAttrib4f(Tt,At.x,At.y,At.z,At.w))}for(wt=Et.length;wt<lt;++wt)Ve.disableVertexAttribArray(wt);(wt=bt.getElements(this.elements))?Ve.bindBuffer(34963,wt.buffer.buffer):Ve.bindBuffer(34963,null)},je.prototype.refresh=function(){var wt=Ke.oes_vertex_array_object;wt&&(wt.bindVertexArrayOES(this.vao),this.bindAttrs(),kt.currentVAO=null,wt.bindVertexArrayOES(null))},je.prototype.destroy=function(){if(this.vao){var wt=Ke.oes_vertex_array_object;this===kt.currentVAO&&(kt.currentVAO=null,wt.bindVertexArrayOES(null)),wt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),at[this.id]&&(delete at[this.id],--ut.vaoCount)},kt}function O(Ve,Ke,ft,ut){function xt(Et,Tt,At,Nt){this.name=Et,this.id=Tt,this.location=At,this.info=Nt}function bt(Et,Tt){for(var At=0;At<Et.length;++At)if(Et[At].id===Tt.id)return void(Et[At].location=Tt.location);Et.push(Tt)}function qe(Et,Tt,At){if(!(Wt=(At=Et===35632?gt:dt)[Tt])){var Nt=Ke.str(Tt),Wt=Ve.createShader(Et);Ve.shaderSource(Wt,Nt),Ve.compileShader(Wt),At[Tt]=Wt}return Wt}function je(Et,Tt){this.id=wt++,this.fragId=Et,this.vertId=Tt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ut.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function lt(Et,Tt,At){var Nt;Nt=qe(35632,Et.fragId);var Wt=qe(35633,Et.vertId);if(Tt=Et.program=Ve.createProgram(),Ve.attachShader(Tt,Nt),Ve.attachShader(Tt,Wt),At)for(Nt=0;Nt<At.length;++Nt)Wt=At[Nt],Ve.bindAttribLocation(Tt,Wt[0],Wt[1]);Ve.linkProgram(Tt),Wt=Ve.getProgramParameter(Tt,35718),ut.profile&&(Et.stats.uniformsCount=Wt);var on=Et.uniforms;for(Nt=0;Nt<Wt;++Nt)if(At=Ve.getActiveUniform(Tt,Nt))if(1<At.size)for(var cn=0;cn<At.size;++cn){var un=At.name.replace("[0]","["+cn+"]");bt(on,new xt(un,Ke.id(un),Ve.getUniformLocation(Tt,un),At))}else bt(on,new xt(At.name,Ke.id(At.name),Ve.getUniformLocation(Tt,At.name),At));for(Wt=Ve.getProgramParameter(Tt,35721),ut.profile&&(Et.stats.attributesCount=Wt),Et=Et.attributes,Nt=0;Nt<Wt;++Nt)(At=Ve.getActiveAttrib(Tt,Nt))&&bt(Et,new xt(At.name,Ke.id(At.name),Ve.getAttribLocation(Tt,At.name),At))}var gt={},dt={},at={},kt=[],wt=0;return ut.profile&&(ft.getMaxUniformsCount=function(){var Et=0;return kt.forEach(function(Tt){Tt.stats.uniformsCount>Et&&(Et=Tt.stats.uniformsCount)}),Et},ft.getMaxAttributesCount=function(){var Et=0;return kt.forEach(function(Tt){Tt.stats.attributesCount>Et&&(Et=Tt.stats.attributesCount)}),Et}),{clear:function(){var Et=Ve.deleteShader.bind(Ve);be(gt).forEach(Et),gt={},be(dt).forEach(Et),dt={},kt.forEach(function(Tt){Ve.deleteProgram(Tt.program)}),kt.length=0,at={},ft.shaderCount=0},program:function(Et,Tt,At,Nt){var Wt=at[Tt];Wt||(Wt=at[Tt]={});var on=Wt[Et];if(on&&(on.refCount++,!Nt))return on;var cn=new je(Tt,Et);return ft.shaderCount++,lt(cn,At,Nt),on||(Wt[Et]=cn),kt.push(cn),J(cn,{destroy:function(){if(cn.refCount--,0>=cn.refCount){Ve.deleteProgram(cn.program);var un=kt.indexOf(cn);kt.splice(un,1),ft.shaderCount--}0>=Wt[cn.vertId].refCount&&(Ve.deleteShader(dt[cn.vertId]),delete dt[cn.vertId],delete at[cn.fragId][cn.vertId]),Object.keys(at[cn.fragId]).length||(Ve.deleteShader(gt[cn.fragId]),delete gt[cn.fragId],delete at[cn.fragId])}})},restore:function(){gt={},dt={};for(var Et=0;Et<kt.length;++Et)lt(kt[Et],null,kt[Et].attributes.map(function(Tt){return[Tt.location,Tt.name]}))},shader:qe,frag:-1,vert:-1}}function I(Ve,Ke,ft,ut,xt,bt,qe){function je(lt){var gt;gt=Ke.next===null?5121:Ke.next.colorAttachments[0].texture._texture.type;var dt=0,at=0,kt=ut.framebufferWidth,wt=ut.framebufferHeight,Et=null;return ye(lt)?Et=lt:lt&&(dt=0|lt.x,at=0|lt.y,kt=0|(lt.width||ut.framebufferWidth-dt),wt=0|(lt.height||ut.framebufferHeight-at),Et=lt.data||null),ft(),lt=kt*wt*4,Et||(gt===5121?Et=new Uint8Array(lt):gt===5126&&(Et=Et||new Float32Array(lt))),Ve.pixelStorei(3333,4),Ve.readPixels(dt,at,kt,wt,6408,gt,Et),Et}return function(lt){return lt&&"framebuffer"in lt?function(gt){var dt;return Ke.setFBO({framebuffer:gt.framebuffer},function(){dt=je(gt)}),dt}(lt):je(lt)}}function D(Ve,Ke){return Ve>>>Ke|Ve<<32-Ke}function V(Ve,Ke){var ft=(65535&Ve)+(65535&Ke);return(Ve>>16)+(Ke>>16)+(ft>>16)<<16|65535&ft}function z(Ve){return Array.prototype.slice.call(Ve)}function j(Ve){return z(Ve).join("")}function X(Ve){function Ke(){var dt=[],at=[];return J(function(){dt.push.apply(dt,z(arguments))},{def:function(){var kt="v"+xt++;return at.push(kt),0<arguments.length&&(dt.push(kt,"="),dt.push.apply(dt,z(arguments)),dt.push(";")),kt},toString:function(){return j([0<at.length?"var "+at.join(",")+";":"",j(dt)])}})}function ft(){function dt(Tt,At){kt(Tt,At,"=",at.def(Tt,At),";")}var at=Ke(),kt=Ke(),wt=at.toString,Et=kt.toString;return J(function(){at.apply(at,z(arguments))},{def:at.def,entry:at,exit:kt,save:dt,set:function(Tt,At,Nt){dt(Tt,At),at(Tt,At,"=",Nt,";")},toString:function(){return wt()+Et()}})}var ut=Ve&&Ve.cache,xt=0,bt=[],qe=[],je=[],lt=Ke(),gt={};return{global:lt,link:function(dt,at){var kt=at&&at.stable;if(!kt){for(var wt=0;wt<qe.length;++wt)if(qe[wt]===dt&&!je[wt])return bt[wt]}return wt="g"+xt++,bt.push(wt),qe.push(dt),je.push(kt),wt},block:Ke,proc:function(dt,at){function kt(){var At="a"+wt.length;return wt.push(At),At}var wt=[];at=at||0;for(var Et=0;Et<at;++Et)kt();var Tt=(Et=ft()).toString;return gt[dt]=J(Et,{arg:kt,toString:function(){return j(["function(",wt.join(),"){",Tt(),"}"])}})},scope:ft,cond:function(){var dt=j(arguments),at=ft(),kt=ft(),wt=at.toString,Et=kt.toString;return J(at,{then:function(){return at.apply(at,z(arguments)),this},else:function(){return kt.apply(kt,z(arguments)),this},toString:function(){var Tt=Et();return Tt&&(Tt="else{"+Tt+"}"),j(["if(",dt,"){",wt(),"}",Tt])}})},compile:function(){var dt=['"use strict";',lt,"return {"];Object.keys(gt).forEach(function(wt){dt.push('"',wt,'":',gt[wt].toString(),",")}),dt.push("}");var at,kt=j(dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return ut&&(at=function(wt){for(var Et,Tt="",At=0;At<wt.length;At++)Et=wt.charCodeAt(At),Tt+="0123456789abcdef".charAt(Et>>>4&15)+"0123456789abcdef".charAt(15&Et);return Tt}(function(wt){for(var Et=Array(wt.length>>2),Tt=0;Tt<Et.length;Tt++)Et[Tt]=0;for(Tt=0;Tt<8*wt.length;Tt+=8)Et[Tt>>5]|=(255&wt.charCodeAt(Tt/8))<<24-Tt%32;var At,Nt,Wt,on,cn,un,Xt,tn,kn,fn,Qt,pn=8*wt.length;for(wt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Tt=Array(64),Et[pn>>5]|=128<<24-pn%32,Et[15+(pn+64>>9<<4)]=pn,tn=0;tn<Et.length;tn+=16){for(pn=wt[0],At=wt[1],Nt=wt[2],Wt=wt[3],on=wt[4],cn=wt[5],un=wt[6],Xt=wt[7],kn=0;64>kn;kn++){var nn;16>kn?Tt[kn]=Et[kn+tn]:(fn=kn,Qt=V(Qt=D(Qt=Tt[kn-2],17)^D(Qt,19)^Qt>>>10,Tt[kn-7]),nn=D(nn=Tt[kn-15],7)^D(nn,18)^nn>>>3,Tt[fn]=V(V(Qt,nn),Tt[kn-16])),fn=V(V(V(V(Xt,fn=D(fn=on,6)^D(fn,11)^D(fn,25)),on&cn^~on&un),it[kn]),Tt[kn]),Qt=V(Xt=D(Xt=pn,2)^D(Xt,13)^D(Xt,22),pn&At^pn&Nt^At&Nt),Xt=un,un=cn,cn=on,on=V(Wt,fn),Wt=Nt,Nt=At,At=pn,pn=V(fn,Qt)}wt[0]=V(pn,wt[0]),wt[1]=V(At,wt[1]),wt[2]=V(Nt,wt[2]),wt[3]=V(Wt,wt[3]),wt[4]=V(on,wt[4]),wt[5]=V(cn,wt[5]),wt[6]=V(un,wt[6]),wt[7]=V(Xt,wt[7])}for(Et="",Tt=0;Tt<32*wt.length;Tt+=8)Et+=String.fromCharCode(wt[Tt>>5]>>>24-Tt%32&255);return Et}(function(wt){for(var Et,Tt,At="",Nt=-1;++Nt<wt.length;)Et=wt.charCodeAt(Nt),Tt=Nt+1<wt.length?wt.charCodeAt(Nt+1):0,55296<=Et&&56319>=Et&&56320<=Tt&&57343>=Tt&&(Et=65536+((1023&Et)<<10)+(1023&Tt),Nt++),127>=Et?At+=String.fromCharCode(Et):2047>=Et?At+=String.fromCharCode(192|Et>>>6&31,128|63&Et):65535>=Et?At+=String.fromCharCode(224|Et>>>12&15,128|Et>>>6&63,128|63&Et):2097151>=Et&&(At+=String.fromCharCode(240|Et>>>18&7,128|Et>>>12&63,128|Et>>>6&63,128|63&Et));return At}(kt))),ut[at])?ut[at].apply(null,qe):(kt=Function.apply(null,bt.concat(kt)),ut&&(ut[at]=kt),kt.apply(null,qe))}}}function F(Ve){return Array.isArray(Ve)||ye(Ve)||t(Ve)}function H(Ve){return Ve.sort(function(Ke,ft){return Ke==="viewport"?-1:ft==="viewport"?1:Ke<ft?-1:1})}function W(Ve,Ke,ft,ut){this.thisDep=Ve,this.contextDep=Ke,this.propDep=ft,this.append=ut}function ie(Ve){return Ve&&!(Ve.thisDep||Ve.contextDep||Ve.propDep)}function te(Ve){return new W(!1,!1,!1,Ve)}function Q(Ve,Ke){var ft=Ve.type;if(ft===0)return new W(!0,1<=(ft=Ve.data.length),2<=ft,Ke);if(ft===4)return new W((ft=Ve.data).thisDep,ft.contextDep,ft.propDep,Ke);if(ft===5)return new W(!1,!1,!1,Ke);if(ft===6){for(var ut=ft=!1,xt=!1,bt=0;bt<Ve.data.length;++bt){var qe=Ve.data[bt];qe.type===1?xt=!0:qe.type===2?ut=!0:qe.type===3?ft=!0:qe.type===0?(ft=!0,1<=(qe=qe.data)&&(ut=!0),2<=qe&&(xt=!0)):qe.type===4&&(ft=ft||qe.data.thisDep,ut=ut||qe.data.contextDep,xt=xt||qe.data.propDep)}return new W(ft,ut,xt,Ke)}return new W(ft===3,ft===2,ft===1,Ke)}function ne(Ve,Ke,ft,ut,xt,bt,qe,je,lt,gt,dt,at,kt,wt,Et,Tt){function At(Dt){return Dt.replace(".","_")}function Nt(Dt,Ut,en){var gn=At(Dt);Gn.push(Dt),In[gn]=xn[gn]=!!en,qn[gn]=Ut}function Wt(Dt,Ut,en){var gn=At(Dt);Gn.push(Dt),Array.isArray(en)?(xn[gn]=en.slice(),In[gn]=en.slice()):xn[gn]=In[gn]=en,ir[gn]=Ut}function on(){var Dt=X({cache:Et}),Ut=Dt.link,en=Dt.global;Dt.id=bn++,Dt.batchId="0";var gn=Ut(dr),vn=Dt.shared={props:"a0"};Object.keys(dr).forEach(function(Vt){vn[Vt]=en.def(gn,".",Vt)});var Mn=Dt.next={},yn=Dt.current={};Object.keys(ir).forEach(function(Vt){Array.isArray(xn[Vt])&&(Mn[Vt]=en.def(vn.next,".",Vt),yn[Vt]=en.def(vn.current,".",Vt))});var hn=Dt.constants={};Object.keys(Kt).forEach(function(Vt){hn[Vt]=en.def(JSON.stringify(Kt[Vt]))}),Dt.invoke=function(Vt,an){switch(an.type){case 0:var En=["this",vn.context,vn.props,Dt.batchId];return Vt.def(Ut(an.data),".call(",En.slice(0,Math.max(an.data.length+1,4)),")");case 1:return Vt.def(vn.props,an.data);case 2:return Vt.def(vn.context,an.data);case 3:return Vt.def("this",an.data);case 4:return an.data.append(Dt,Vt),an.data.ref;case 5:return an.data.toString();case 6:return an.data.map(function(Fn){return Dt.invoke(Vt,Fn)})}},Dt.attribCache={};var qt={};return Dt.scopeAttrib=function(Vt){if((Vt=Ke.id(Vt))in qt)return qt[Vt];var an=gt.scope[Vt];return an||(an=gt.scope[Vt]=new er),qt[Vt]=Ut(an)},Dt}function cn(Dt,Ut){var en=Dt.static,gn=Dt.dynamic;if("framebuffer"in en){var vn=en.framebuffer;return vn?(vn=je.getFramebuffer(vn),te(function(yn,hn){var qt=yn.link(vn),Vt=yn.shared;return hn.set(Vt.framebuffer,".next",qt),Vt=Vt.context,hn.set(Vt,".framebufferWidth",qt+".width"),hn.set(Vt,".framebufferHeight",qt+".height"),qt})):te(function(yn,hn){var qt=yn.shared;return hn.set(qt.framebuffer,".next","null"),qt=qt.context,hn.set(qt,".framebufferWidth",qt+".drawingBufferWidth"),hn.set(qt,".framebufferHeight",qt+".drawingBufferHeight"),"null"})}if("framebuffer"in gn){var Mn=gn.framebuffer;return Q(Mn,function(yn,hn){var qt=yn.invoke(hn,Mn),Vt=yn.shared,an=Vt.framebuffer;return qt=hn.def(an,".getFramebuffer(",qt,")"),hn.set(an,".next",qt),Vt=Vt.context,hn.set(Vt,".framebufferWidth",qt+"?"+qt+".width:"+Vt+".drawingBufferWidth"),hn.set(Vt,".framebufferHeight",qt+"?"+qt+".height:"+Vt+".drawingBufferHeight"),qt})}return null}function un(Dt,Ut,en){function gn(Vt){if(Vt in vn){var an=Ke.id(vn[Vt]);return(Vt=te(function(){return an})).id=an,Vt}if(Vt in Mn){var En=Mn[Vt];return Q(En,function(Fn,Rn){var jn=Fn.invoke(Rn,En);return Rn.def(Fn.shared.strings,".id(",jn,")")})}return null}var vn=Dt.static,Mn=Dt.dynamic,yn=gn("frag"),hn=gn("vert"),qt=null;return ie(yn)&&ie(hn)?(qt=dt.program(hn.id,yn.id,null,en),Dt=te(function(Vt,an){return Vt.link(qt)})):Dt=new W(yn&&yn.thisDep||hn&&hn.thisDep,yn&&yn.contextDep||hn&&hn.contextDep,yn&&yn.propDep||hn&&hn.propDep,function(Vt,an){var En,Fn,Rn=Vt.shared.shader;return En=yn?yn.append(Vt,an):an.def(Rn,".","frag"),Fn=hn?hn.append(Vt,an):an.def(Rn,".","vert"),an.def(Rn+".program("+Fn+","+En+")")}),{frag:yn,vert:hn,progVar:Dt,program:qt}}function Xt(Dt,Ut){function en(jn,tr){if(jn in gn){var Zn=0|gn[jn];return tr?Mn.offset=Zn:Mn.instances=Zn,te(function(Yn,Jn){return tr&&(Yn.OFFSET=Zn),Zn})}if(jn in vn){var nr=vn[jn];return Q(nr,function(Yn,Jn){var cr=Yn.invoke(Jn,nr);return tr&&(Yn.OFFSET=cr),cr})}if(tr){if(qt)return te(function(Yn,Jn){return Yn.OFFSET=0});if(yn)return new W(hn.thisDep,hn.contextDep,hn.propDep,function(Yn,Jn){return Jn.def(Yn.shared.vao+".currentVAO?"+Yn.shared.vao+".currentVAO.offset:0")})}else if(yn)return new W(hn.thisDep,hn.contextDep,hn.propDep,function(Yn,Jn){return Jn.def(Yn.shared.vao+".currentVAO?"+Yn.shared.vao+".currentVAO.instances:-1")});return null}var gn=Dt.static,vn=Dt.dynamic,Mn={},yn=!1,hn=function(){if("vao"in gn){var jn=gn.vao;return jn!==null&&gt.getVAO(jn)===null&&(jn=gt.createVAO(jn)),yn=!0,Mn.vao=jn,te(function(Zn){var nr=gt.getVAO(jn);return nr?Zn.link(nr):"null"})}if("vao"in vn){yn=!0;var tr=vn.vao;return Q(tr,function(Zn,nr){var Yn=Zn.invoke(nr,tr);return nr.def(Zn.shared.vao+".getVAO("+Yn+")")})}return null}(),qt=!1,Vt=function(){if("elements"in gn){var jn=gn.elements;if(Mn.elements=jn,F(jn)){var tr=Mn.elements=bt.create(jn,!0);jn=bt.getElements(tr),qt=!0}else jn&&(jn=bt.getElements(jn),qt=!0);return tr=te(function(nr,Yn){if(jn){var Jn=nr.link(jn);return nr.ELEMENTS=Jn}return nr.ELEMENTS=null}),tr.value=jn,tr}if("elements"in vn){qt=!0;var Zn=vn.elements;return Q(Zn,function(nr,Yn){var Jn=(cr=nr.shared).isBufferArgs,cr=cr.elements,Tr=nr.invoke(Yn,Zn),gr=Yn.def("null");return Jn=Yn.def(Jn,"(",Tr,")"),Tr=nr.cond(Jn).then(gr,"=",cr,".createStream(",Tr,");").else(gr,"=",cr,".getElements(",Tr,");"),Yn.entry(Tr),Yn.exit(nr.cond(Jn).then(cr,".destroyStream(",gr,");")),nr.ELEMENTS=gr})}return yn?new W(hn.thisDep,hn.contextDep,hn.propDep,function(nr,Yn){return Yn.def(nr.shared.vao+".currentVAO?"+nr.shared.elements+".getElements("+nr.shared.vao+".currentVAO.elements):null")}):null}(),an=en("offset",!0),En=function(){if("primitive"in gn){var jn=gn.primitive;return Mn.primitive=jn,te(function(Zn,nr){return Ce[jn]})}if("primitive"in vn){var tr=vn.primitive;return Q(tr,function(Zn,nr){var Yn=Zn.constants.primTypes,Jn=Zn.invoke(nr,tr);return nr.def(Yn,"[",Jn,"]")})}return qt?ie(Vt)?Vt.value?te(function(Zn,nr){return nr.def(Zn.ELEMENTS,".primType")}):te(function(){return 4}):new W(Vt.thisDep,Vt.contextDep,Vt.propDep,function(Zn,nr){var Yn=Zn.ELEMENTS;return nr.def(Yn,"?",Yn,".primType:",4)}):yn?new W(hn.thisDep,hn.contextDep,hn.propDep,function(Zn,nr){return nr.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.primitive:4")}):null}(),Fn=function(){if("count"in gn){var jn=0|gn.count;return Mn.count=jn,te(function(){return jn})}if("count"in vn){var tr=vn.count;return Q(tr,function(Zn,nr){return Zn.invoke(nr,tr)})}return qt?ie(Vt)?Vt?an?new W(an.thisDep,an.contextDep,an.propDep,function(Zn,nr){return nr.def(Zn.ELEMENTS,".vertCount-",Zn.OFFSET)}):te(function(Zn,nr){return nr.def(Zn.ELEMENTS,".vertCount")}):te(function(){return-1}):new W(Vt.thisDep||an.thisDep,Vt.contextDep||an.contextDep,Vt.propDep||an.propDep,function(Zn,nr){var Yn=Zn.ELEMENTS;return Zn.OFFSET?nr.def(Yn,"?",Yn,".vertCount-",Zn.OFFSET,":-1"):nr.def(Yn,"?",Yn,".vertCount:-1")}):yn?new W(hn.thisDep,hn.contextDep,hn.propDep,function(Zn,nr){return nr.def(Zn.shared.vao,".currentVAO?",Zn.shared.vao,".currentVAO.count:-1")}):null}(),Rn=en("instances",!1);return{elements:Vt,primitive:En,count:Fn,instances:Rn,offset:an,vao:hn,vaoActive:yn,elementsActive:qt,static:Mn}}function tn(Dt,Ut){var en=Dt.static,gn=Dt.dynamic,vn={};return Object.keys(en).forEach(function(Mn){var yn=en[Mn],hn=Ke.id(Mn),qt=new er;if(F(yn))qt.state=1,qt.buffer=xt.getBuffer(xt.create(yn,34962,!1,!0)),qt.type=0;else if(an=xt.getBuffer(yn))qt.state=1,qt.buffer=an,qt.type=0;else if("constant"in yn){var Vt=yn.constant;qt.buffer="null",qt.state=2,typeof Vt=="number"?qt.x=Vt:tt.forEach(function(Zn,nr){nr<Vt.length&&(qt[Zn]=Vt[nr])})}else{var an=F(yn.buffer)?xt.getBuffer(xt.create(yn.buffer,34962,!1,!0)):xt.getBuffer(yn.buffer),En=0|yn.offset,Fn=0|yn.stride,Rn=0|yn.size,jn=!!yn.normalized,tr=0;"type"in yn&&(tr=Fe[yn.type]),yn=0|yn.divisor,qt.buffer=an,qt.state=1,qt.size=Rn,qt.normalized=jn,qt.type=tr||an.dtype,qt.offset=En,qt.stride=Fn,qt.divisor=yn}vn[Mn]=te(function(Zn,nr){var Yn=Zn.attribCache;if(hn in Yn)return Yn[hn];var Jn={isStream:!1};return Object.keys(qt).forEach(function(cr){Jn[cr]=qt[cr]}),qt.buffer&&(Jn.buffer=Zn.link(qt.buffer),Jn.type=Jn.type||Jn.buffer+".dtype"),Yn[hn]=Jn})}),Object.keys(gn).forEach(function(Mn){var yn=gn[Mn];vn[Mn]=Q(yn,function(hn,qt){function Vt(Yn){qt(jn[Yn],"=",an,".",Yn,"|0;")}var an=hn.invoke(qt,yn),En=hn.shared,Fn=hn.constants,Rn=En.isBufferArgs,jn=(En=En.buffer,{isStream:qt.def(!1)}),tr=new er;tr.state=1,Object.keys(tr).forEach(function(Yn){jn[Yn]=qt.def(""+tr[Yn])});var Zn=jn.buffer,nr=jn.type;return qt("if(",Rn,"(",an,")){",jn.isStream,"=true;",Zn,"=",En,".createStream(",34962,",",an,");",nr,"=",Zn,".dtype;","}else{",Zn,"=",En,".getBuffer(",an,");","if(",Zn,"){",nr,"=",Zn,".dtype;",'}else if("constant" in ',an,"){",jn.state,"=",2,";","if(typeof "+an+'.constant === "number"){',jn[tt[0]],"=",an,".constant;",tt.slice(1).map(function(Yn){return jn[Yn]}).join("="),"=0;","}else{",tt.map(function(Yn,Jn){return jn[Yn]+"="+an+".constant.length>"+Jn+"?"+an+".constant["+Jn+"]:0;"}).join(""),"}}else{","if(",Rn,"(",an,".buffer)){",Zn,"=",En,".createStream(",34962,",",an,".buffer);","}else{",Zn,"=",En,".getBuffer(",an,".buffer);","}",nr,'="type" in ',an,"?",Fn.glTypes,"[",an,".type]:",Zn,".dtype;",jn.normalized,"=!!",an,".normalized;"),Vt("size"),Vt("offset"),Vt("stride"),Vt("divisor"),qt("}}"),qt.exit("if(",jn.isStream,"){",En,".destroyStream(",Zn,");","}"),jn})}),vn}function kn(Dt,Ut,en,gn,vn){function Mn(tr){var Zn=hn[tr];Zn&&(Vt[tr]=Zn)}var yn=function(tr,Zn){if(typeof(nr=tr.static).frag=="string"&&typeof nr.vert=="string"){if(0<Object.keys(Zn.dynamic).length)return null;var nr=Zn.static,Yn=Object.keys(nr);if(0<Yn.length&&typeof nr[Yn[0]]=="number"){for(var Jn=[],cr=0;cr<Yn.length;++cr)Jn.push([0|nr[Yn[cr]],Yn[cr]]);return Jn}}return null}(Dt,Ut),hn=function(tr,Zn,nr){function Yn(gr){if(gr in Jn){var ar=Jn[gr];gr=!0;var xr,Cr,Nr=0|ar.x,xi=0|ar.y;return"width"in ar?xr=0|ar.width:gr=!1,"height"in ar?Cr=0|ar.height:gr=!1,new W(!gr&&Zn&&Zn.thisDep,!gr&&Zn&&Zn.contextDep,!gr&&Zn&&Zn.propDep,function(Ji,gi){var Oi=Ji.shared.context,Pa=xr;"width"in ar||(Pa=gi.def(Oi,".","framebufferWidth","-",Nr));var jr=Cr;return"height"in ar||(jr=gi.def(Oi,".","framebufferHeight","-",xi)),[Nr,xi,Pa,jr]})}if(gr in cr){var Li=cr[gr];return gr=Q(Li,function(Ji,gi){var Oi=Ji.invoke(gi,Li),Pa=Ji.shared.context,jr=gi.def(Oi,".x|0"),$i=gi.def(Oi,".y|0");return[jr,$i,gi.def('"width" in ',Oi,"?",Oi,".width|0:","(",Pa,".","framebufferWidth","-",jr,")"),Oi=gi.def('"height" in ',Oi,"?",Oi,".height|0:","(",Pa,".","framebufferHeight","-",$i,")")]}),Zn&&(gr.thisDep=gr.thisDep||Zn.thisDep,gr.contextDep=gr.contextDep||Zn.contextDep,gr.propDep=gr.propDep||Zn.propDep),gr}return Zn?new W(Zn.thisDep,Zn.contextDep,Zn.propDep,function(Ji,gi){var Oi=Ji.shared.context;return[0,0,gi.def(Oi,".","framebufferWidth"),gi.def(Oi,".","framebufferHeight")]}):null}var Jn=tr.static,cr=tr.dynamic;if(tr=Yn("viewport")){var Tr=tr;tr=new W(tr.thisDep,tr.contextDep,tr.propDep,function(gr,ar){var xr=Tr.append(gr,ar),Cr=gr.shared.context;return ar.set(Cr,".viewportWidth",xr[2]),ar.set(Cr,".viewportHeight",xr[3]),xr})}return{viewport:tr,scissor_box:Yn("scissor.box")}}(Dt,En=cn(Dt)),qt=Xt(Dt),Vt=function(tr,Zn){var nr=tr.static,Yn=tr.dynamic,Jn={};return Gn.forEach(function(cr){function Tr(ar,xr){if(cr in nr){var Cr=ar(nr[cr]);Jn[gr]=te(function(){return Cr})}else if(cr in Yn){var Nr=Yn[cr];Jn[gr]=Q(Nr,function(xi,Li){return xr(xi,Li,xi.invoke(Li,Nr))})}}var gr=At(cr);switch(cr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Tr(function(ar){return ar},function(ar,xr,Cr){return Cr});case"depth.func":return Tr(function(ar){return Ft[ar]},function(ar,xr,Cr){return xr.def(ar.constants.compareFuncs,"[",Cr,"]")});case"depth.range":return Tr(function(ar){return ar},function(ar,xr,Cr){return[xr.def("+",Cr,"[0]"),xr=xr.def("+",Cr,"[1]")]});case"blend.func":return Tr(function(ar){return[Rt["srcRGB"in ar?ar.srcRGB:ar.src],Rt["dstRGB"in ar?ar.dstRGB:ar.dst],Rt["srcAlpha"in ar?ar.srcAlpha:ar.src],Rt["dstAlpha"in ar?ar.dstAlpha:ar.dst]]},function(ar,xr,Cr){function Nr(gi,Oi){return xr.def('"',gi,Oi,'" in ',Cr,"?",Cr,".",gi,Oi,":",Cr,".",gi)}ar=ar.constants.blendFuncs;var xi=Nr("src","RGB"),Li=Nr("dst","RGB"),Ji=(xi=xr.def(ar,"[",xi,"]"),xr.def(ar,"[",Nr("src","Alpha"),"]"));return[xi,Li=xr.def(ar,"[",Li,"]"),Ji,ar=xr.def(ar,"[",Nr("dst","Alpha"),"]")]});case"blend.equation":return Tr(function(ar){return typeof ar=="string"?[ur[ar],ur[ar]]:typeof ar=="object"?[ur[ar.rgb],ur[ar.alpha]]:void 0},function(ar,xr,Cr){var Nr=ar.constants.blendEquations,xi=xr.def(),Li=xr.def();return(ar=ar.cond("typeof ",Cr,'==="string"')).then(xi,"=",Li,"=",Nr,"[",Cr,"];"),ar.else(xi,"=",Nr,"[",Cr,".rgb];",Li,"=",Nr,"[",Cr,".alpha];"),xr(ar),[xi,Li]});case"blend.color":return Tr(function(ar){return b(4,function(xr){return+ar[xr]})},function(ar,xr,Cr){return b(4,function(Nr){return xr.def("+",Cr,"[",Nr,"]")})});case"stencil.mask":return Tr(function(ar){return 0|ar},function(ar,xr,Cr){return xr.def(Cr,"|0")});case"stencil.func":return Tr(function(ar){return[Ft[ar.cmp||"keep"],ar.ref||0,"mask"in ar?ar.mask:-1]},function(ar,xr,Cr){return[ar=xr.def('"cmp" in ',Cr,"?",ar.constants.compareFuncs,"[",Cr,".cmp]",":",7680),xr.def(Cr,".ref|0"),xr=xr.def('"mask" in ',Cr,"?",Cr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Tr(function(ar){return[cr==="stencil.opBack"?1029:1028,Ot[ar.fail||"keep"],Ot[ar.zfail||"keep"],Ot[ar.zpass||"keep"]]},function(ar,xr,Cr){function Nr(Li){return xr.def('"',Li,'" in ',Cr,"?",xi,"[",Cr,".",Li,"]:",7680)}var xi=ar.constants.stencilOps;return[cr==="stencil.opBack"?1029:1028,Nr("fail"),Nr("zfail"),Nr("zpass")]});case"polygonOffset.offset":return Tr(function(ar){return[0|ar.factor,0|ar.units]},function(ar,xr,Cr){return[xr.def(Cr,".factor|0"),xr=xr.def(Cr,".units|0")]});case"cull.face":return Tr(function(ar){var xr=0;return ar==="front"?xr=1028:ar==="back"&&(xr=1029),xr},function(ar,xr,Cr){return xr.def(Cr,'==="front"?',1028,":",1029)});case"frontFace":return Tr(function(ar){return Xe[ar]},function(ar,xr,Cr){return xr.def(Cr+'==="cw"?2304:2305')});case"colorMask":return Tr(function(ar){return ar.map(function(xr){return!!xr})},function(ar,xr,Cr){return b(4,function(Nr){return"!!"+Cr+"["+Nr+"]"})});case"sample.coverage":return Tr(function(ar){return["value"in ar?ar.value:1,!!ar.invert]},function(ar,xr,Cr){return[xr.def('"value" in ',Cr,"?+",Cr,".value:1"),xr=xr.def("!!",Cr,".invert")]})}}),Jn}(Dt),an=un(Dt,0,yn);Mn("viewport"),Mn(At("scissor.box"));var En,Fn=0<Object.keys(Vt).length;if((En={framebuffer:En,draw:qt,shader:an,state:Vt,dirty:Fn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(tr){var Zn,nr=tr.static;if(tr=tr.dynamic,"profile"in nr){var Yn=!!nr.profile;(Zn=te(function(cr,Tr){return Yn})).enable=Yn}else if("profile"in tr){var Jn=tr.profile;Zn=Q(Jn,function(cr,Tr){return cr.invoke(Tr,Jn)})}return Zn}(Dt),En.uniforms=function(tr,Zn){var nr=tr.static,Yn=tr.dynamic,Jn={};return Object.keys(nr).forEach(function(cr){var Tr,gr=nr[cr];if(typeof gr=="number"||typeof gr=="boolean")Tr=te(function(){return gr});else if(typeof gr=="function"){var ar=gr._reglType;ar==="texture2d"||ar==="textureCube"?Tr=te(function(xr){return xr.link(gr)}):ar!=="framebuffer"&&ar!=="framebufferCube"||(Tr=te(function(xr){return xr.link(gr.color[0])}))}else x(gr)&&(Tr=te(function(xr){return xr.global.def("[",b(gr.length,function(Cr){return gr[Cr]}),"]")}));Tr.value=gr,Jn[cr]=Tr}),Object.keys(Yn).forEach(function(cr){var Tr=Yn[cr];Jn[cr]=Q(Tr,function(gr,ar){return gr.invoke(ar,Tr)})}),Jn}(en),En.drawVAO=En.scopeVAO=qt.vao,!En.drawVAO&&an.program&&!yn&&ft.angle_instanced_arrays&&qt.static.elements){var Rn=!0;if(Dt=an.program.attributes.map(function(tr){return tr=Ut.static[tr],Rn=Rn&&!!tr,tr}),Rn&&0<Dt.length){var jn=gt.getVAO(gt.createVAO({attributes:Dt,elements:qt.static.elements}));En.drawVAO=new W(null,null,null,function(tr,Zn){return tr.link(jn)}),En.useVAO=!0}}return yn?En.useVAO=!0:En.attributes=tn(Ut),En.context=function(tr){var Zn=tr.static,nr=tr.dynamic,Yn={};return Object.keys(Zn).forEach(function(Jn){var cr=Zn[Jn];Yn[Jn]=te(function(Tr,gr){return typeof cr=="number"||typeof cr=="boolean"?""+cr:Tr.link(cr)})}),Object.keys(nr).forEach(function(Jn){var cr=nr[Jn];Yn[Jn]=Q(cr,function(Tr,gr){return Tr.invoke(gr,cr)})}),Yn}(gn),En}function fn(Dt,Ut,en){var gn=Dt.shared.context,vn=Dt.scope();Object.keys(en).forEach(function(Mn){Ut.save(gn,"."+Mn);var yn=en[Mn].append(Dt,Ut);Array.isArray(yn)?vn(gn,".",Mn,"=[",yn.join(),"];"):vn(gn,".",Mn,"=",yn,";")}),Ut(vn)}function Qt(Dt,Ut,en,gn){var vn,Mn=(hn=Dt.shared).gl,yn=hn.framebuffer;rn&&(vn=Ut.def(hn.extensions,".webgl_draw_buffers"));var hn=(qt=Dt.constants).drawBuffer,qt=qt.backBuffer;Dt=en?en.append(Dt,Ut):Ut.def(yn,".next"),gn||Ut("if(",Dt,"!==",yn,".cur){"),Ut("if(",Dt,"){",Mn,".bindFramebuffer(",36160,",",Dt,".framebuffer);"),rn&&Ut(vn,".drawBuffersWEBGL(",hn,"[",Dt,".colorAttachments.length]);"),Ut("}else{",Mn,".bindFramebuffer(",36160,",null);"),rn&&Ut(vn,".drawBuffersWEBGL(",qt,");"),Ut("}",yn,".cur=",Dt,";"),gn||Ut("}")}function pn(Dt,Ut,en){var gn=Dt.shared,vn=gn.gl,Mn=Dt.current,yn=Dt.next,hn=gn.current,qt=gn.next,Vt=Dt.cond(hn,".dirty");Gn.forEach(function(an){var En,Fn;if(!((an=At(an))in en.state))if(an in yn){En=yn[an],Fn=Mn[an];var Rn=b(xn[an].length,function(jn){return Vt.def(En,"[",jn,"]")});Vt(Dt.cond(Rn.map(function(jn,tr){return jn+"!=="+Fn+"["+tr+"]"}).join("||")).then(vn,".",ir[an],"(",Rn,");",Rn.map(function(jn,tr){return Fn+"["+tr+"]="+jn}).join(";"),";"))}else En=Vt.def(qt,".",an),Rn=Dt.cond(En,"!==",hn,".",an),Vt(Rn),an in qn?Rn(Dt.cond(En).then(vn,".enable(",qn[an],");").else(vn,".disable(",qn[an],");"),hn,".",an,"=",En,";"):Rn(vn,".",ir[an],"(",En,");",hn,".",an,"=",En,";")}),Object.keys(en.state).length===0&&Vt(hn,".dirty=false;"),Ut(Vt)}function nn(Dt,Ut,en,gn){var vn,Mn=Dt.shared,yn=Dt.current,hn=Mn.current,qt=Mn.gl;H(Object.keys(en)).forEach(function(Vt){var an=en[Vt];if(!gn||gn(an)){var En=an.append(Dt,Ut);if(qn[Vt]){var Fn=qn[Vt];ie(an)?(vn=Dt.link(En,{stable:!0}),Ut(Dt.cond(vn).then(qt,".enable(",Fn,");").else(qt,".disable(",Fn,");")),Ut(hn,".",Vt,"=",vn,";")):(Ut(Dt.cond(En).then(qt,".enable(",Fn,");").else(qt,".disable(",Fn,");")),Ut(hn,".",Vt,"=",En,";"))}else if(x(En)){var Rn=yn[Vt];Ut(qt,".",ir[Vt],"(",En,");",En.map(function(jn,tr){return Rn+"["+tr+"]="+jn}).join(";"),";")}else ie(an)?(vn=Dt.link(En,{stable:!0}),Ut(qt,".",ir[Vt],"(",vn,");",hn,".",Vt,"=",vn,";")):Ut(qt,".",ir[Vt],"(",En,");",hn,".",Vt,"=",En,";")}})}function sn(Dt,Ut){$t&&(Dt.instancing=Ut.def(Dt.shared.extensions,".angle_instanced_arrays"))}function Sn(Dt,Ut,en,gn,vn){function Mn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function yn(tr){tr(Vt=Ut.def(),"=",Mn(),";"),typeof vn=="string"?tr(Fn,".count+=",vn,";"):tr(Fn,".count++;"),wt&&(gn?tr(an=Ut.def(),"=",jn,".getNumPendingQueries();"):tr(jn,".beginQuery(",Fn,");"))}function hn(tr){tr(Fn,".cpuTime+=",Mn(),"-",Vt,";"),wt&&(gn?tr(jn,".pushScopeStats(",an,",",jn,".getNumPendingQueries(),",Fn,");"):tr(jn,".endQuery();"))}function qt(tr){var Zn=Ut.def(Rn,".profile");Ut(Rn,".profile=",tr,";"),Ut.exit(Rn,".profile=",Zn,";")}var Vt,an,En=Dt.shared,Fn=Dt.stats,Rn=En.current,jn=En.timer;if(en=en.profile){if(ie(en))return void(en.enable?(yn(Ut),hn(Ut.exit),qt("true")):qt("false"));qt(en=en.append(Dt,Ut))}else en=Ut.def(Rn,".profile");yn(En=Dt.block()),Ut("if(",en,"){",En,"}"),hn(Dt=Dt.block()),Ut.exit("if(",en,"){",Dt,"}")}function wn(Dt,Ut,en,gn,vn){function Mn(hn,qt,Vt){function an(){Ut("if(!",jn,".buffer){",Fn,".enableVertexAttribArray(",Rn,");}");var Yn,Jn=Vt.type;Yn=Vt.size?Ut.def(Vt.size,"||",qt):qt,Ut("if(",jn,".type!==",Jn,"||",jn,".size!==",Yn,"||",nr.map(function(cr){return jn+"."+cr+"!=="+Vt[cr]}).join("||"),"){",Fn,".bindBuffer(",34962,",",tr,".buffer);",Fn,".vertexAttribPointer(",[Rn,Yn,Jn,Vt.normalized,Vt.stride,Vt.offset],");",jn,".type=",Jn,";",jn,".size=",Yn,";",nr.map(function(cr){return jn+"."+cr+"="+Vt[cr]+";"}).join(""),"}"),$t&&(Jn=Vt.divisor,Ut("if(",jn,".divisor!==",Jn,"){",Dt.instancing,".vertexAttribDivisorANGLE(",[Rn,Jn],");",jn,".divisor=",Jn,";}"))}function En(){Ut("if(",jn,".buffer){",Fn,".disableVertexAttribArray(",Rn,");",jn,".buffer=null;","}if(",tt.map(function(Yn,Jn){return jn+"."+Yn+"!=="+Zn[Jn]}).join("||"),"){",Fn,".vertexAttrib4f(",Rn,",",Zn,");",tt.map(function(Yn,Jn){return jn+"."+Yn+"="+Zn[Jn]+";"}).join(""),"}")}var Fn=yn.gl,Rn=Ut.def(hn,".location"),jn=Ut.def(yn.attributes,"[",Rn,"]");hn=Vt.state;var tr=Vt.buffer,Zn=[Vt.x,Vt.y,Vt.z,Vt.w],nr=["buffer","normalized","offset","stride"];hn===1?an():hn===2?En():(Ut("if(",hn,"===",1,"){"),an(),Ut("}else{"),En(),Ut("}"))}var yn=Dt.shared;gn.forEach(function(hn){var qt,Vt=hn.name,an=en.attributes[Vt];if(an){if(!vn(an))return;qt=an.append(Dt,Ut)}else{if(!vn(Je))return;var En=Dt.scopeAttrib(Vt);qt={},Object.keys(new er).forEach(function(Fn){qt[Fn]=Ut.def(En,".",Fn)})}Mn(Dt.link(hn),function(Fn){switch(Fn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(hn.info.type),qt)})}function Dn(Dt,Ut,en,gn,vn,Mn){for(var yn,hn=Dt.shared,qt=hn.gl,Vt=0;Vt<gn.length;++Vt){var an,En=(jn=gn[Vt]).name,Fn=jn.info.type,Rn=en.uniforms[En],jn=Dt.link(jn)+".location";if(Rn){if(!vn(Rn))continue;if(ie(Rn)){if(En=Rn.value,Fn===35678||Fn===35680)Ut(qt,".uniform1i(",jn,",",(Fn=Dt.link(En._texture||En.color[0]._texture))+".bind());"),Ut.exit(Fn,".unbind();");else if(Fn===35674||Fn===35675||Fn===35676)Rn=2,Fn===35675?Rn=3:Fn===35676&&(Rn=4),Ut(qt,".uniformMatrix",Rn,"fv(",jn,",false,",En=Dt.global.def("new Float32Array(["+Array.prototype.slice.call(En)+"])"),");");else{switch(Fn){case 5126:yn="1f";break;case 35664:yn="2f";break;case 35665:yn="3f";break;case 35666:yn="4f";break;case 35670:case 5124:yn="1i";break;case 35671:case 35667:yn="2i";break;case 35672:case 35668:yn="3i";break;case 35673:case 35669:yn="4i"}Ut(qt,".uniform",yn,"(",jn,",",x(En)?Array.prototype.slice.call(En):En,");")}continue}an=Rn.append(Dt,Ut)}else{if(!vn(Je))continue;an=Ut.def(hn.uniforms,"[",Ke.id(En),"]")}switch(Fn===35678?Ut("if(",an,"&&",an,'._reglType==="framebuffer"){',an,"=",an,".color[0];","}"):Fn===35680&&Ut("if(",an,"&&",an,'._reglType==="framebufferCube"){',an,"=",an,".color[0];","}"),En=1,Fn){case 35678:case 35680:Fn=Ut.def(an,"._texture"),Ut(qt,".uniform1i(",jn,",",Fn,".bind());"),Ut.exit(Fn,".unbind();");continue;case 5124:case 35670:yn="1i";break;case 35667:case 35671:yn="2i",En=2;break;case 35668:case 35672:yn="3i",En=3;break;case 35669:case 35673:yn="4i",En=4;break;case 5126:yn="1f";break;case 35664:yn="2f",En=2;break;case 35665:yn="3f",En=3;break;case 35666:yn="4f",En=4;break;case 35674:yn="Matrix2fv";break;case 35675:yn="Matrix3fv";break;case 35676:yn="Matrix4fv"}if(yn.charAt(0)==="M"){Ut(qt,".uniform",yn,"(",jn,","),jn=Math.pow(Fn-35674+2,2);var tr=Dt.global.def("new Float32Array(",jn,")");Array.isArray(an)?Ut("false,(",b(jn,function(nr){return tr+"["+nr+"]="+an[nr]}),",",tr,")"):Ut("false,(Array.isArray(",an,")||",an," instanceof Float32Array)?",an,":(",b(jn,function(nr){return tr+"["+nr+"]="+an+"["+nr+"]"}),",",tr,")"),Ut(");")}else{if(1<En){Fn=[];var Zn=[];for(Rn=0;Rn<En;++Rn)Array.isArray(an)?Zn.push(an[Rn]):Zn.push(Ut.def(an+"["+Rn+"]")),Mn&&Fn.push(Ut.def());Mn&&Ut("if(!",Dt.batchId,"||",Fn.map(function(nr,Yn){return nr+"!=="+Zn[Yn]}).join("||"),"){",Fn.map(function(nr,Yn){return nr+"="+Zn[Yn]+";"}).join("")),Ut(qt,".uniform",yn,"(",jn,",",Zn.join(","),");")}else Mn&&(Fn=Ut.def(),Ut("if(!",Dt.batchId,"||",Fn,"!==",an,"){",Fn,"=",an,";")),Ut(qt,".uniform",yn,"(",jn,",",an,");");Mn&&Ut("}")}}}function Tn(Dt,Ut,en,gn){function vn(Jn){var cr=Fn[Jn];return cr?cr.contextDep&&gn.contextDynamic||cr.propDep?cr.append(Dt,en):cr.append(Dt,Ut):Ut.def(En,".",Jn)}function Mn(){function Jn(){en(qt,".drawElementsInstancedANGLE(",[jn,Zn,nr,tr+"<<(("+nr+"-5121)>>1)",hn],");")}function cr(){en(qt,".drawArraysInstancedANGLE(",[jn,tr,Zn,hn],");")}Rn&&Rn!=="null"?Yn?Jn():(en("if(",Rn,"){"),Jn(),en("}else{"),cr(),en("}")):cr()}function yn(){function Jn(){en(an+".drawElements("+[jn,Zn,nr,tr+"<<(("+nr+"-5121)>>1)"]+");")}function cr(){en(an+".drawArrays("+[jn,tr,Zn]+");")}Rn&&Rn!=="null"?Yn?Jn():(en("if(",Rn,"){"),Jn(),en("}else{"),cr(),en("}")):cr()}var hn,qt,Vt=Dt.shared,an=Vt.gl,En=Vt.draw,Fn=gn.draw,Rn=function(){var Jn=Fn.elements,cr=Ut;return Jn?((Jn.contextDep&&gn.contextDynamic||Jn.propDep)&&(cr=en),Jn=Jn.append(Dt,cr),Fn.elementsActive&&cr("if("+Jn+")"+an+".bindBuffer(34963,"+Jn+".buffer.buffer);")):(Jn=cr.def(),cr(Jn,"=",En,".","elements",";","if(",Jn,"){",an,".bindBuffer(",34963,",",Jn,".buffer.buffer);}","else if(",Vt.vao,".currentVAO){",Jn,"=",Dt.shared.elements+".getElements("+Vt.vao,".currentVAO.elements);",On?"":"if("+Jn+")"+an+".bindBuffer(34963,"+Jn+".buffer.buffer);","}")),Jn}(),jn=vn("primitive"),tr=vn("offset"),Zn=function(){var Jn=Fn.count,cr=Ut;return Jn?((Jn.contextDep&&gn.contextDynamic||Jn.propDep)&&(cr=en),Jn=Jn.append(Dt,cr)):Jn=cr.def(En,".","count"),Jn}();if(typeof Zn=="number"){if(Zn===0)return}else en("if(",Zn,"){"),en.exit("}");$t&&(hn=vn("instances"),qt=Dt.instancing);var nr=Rn+".type",Yn=Fn.elements&&ie(Fn.elements)&&!Fn.vaoActive;$t&&(typeof hn!="number"||0<=hn)?typeof hn=="string"?(en("if(",hn,">0){"),Mn(),en("}else if(",hn,"<0){"),yn(),en("}")):Mn():yn()}function Pn(Dt,Ut,en,gn,vn){return vn=(Ut=on()).proc("body",vn),$t&&(Ut.instancing=vn.def(Ut.shared.extensions,".angle_instanced_arrays")),Dt(Ut,vn,en,gn),Ut.compile().body}function Nn(Dt,Ut,en,gn){sn(Dt,Ut),en.useVAO?en.drawVAO?Ut(Dt.shared.vao,".setVAO(",en.drawVAO.append(Dt,Ut),");"):Ut(Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"):(Ut(Dt.shared.vao,".setVAO(null);"),wn(Dt,Ut,en,gn.attributes,function(){return!0})),Dn(Dt,Ut,en,gn.uniforms,function(){return!0},!1),Tn(Dt,Ut,Ut,en)}function $n(Dt,Ut,en,gn){function vn(){return!0}Dt.batchId="a1",sn(Dt,Ut),wn(Dt,Ut,en,gn.attributes,vn),Dn(Dt,Ut,en,gn.uniforms,vn,!1),Tn(Dt,Ut,Ut,en)}function pr(Dt,Ut,en,gn){function vn(En){return En.contextDep&&yn||En.propDep}function Mn(En){return!vn(En)}sn(Dt,Ut);var yn=en.contextDep,hn=Ut.def(),qt=Ut.def();Dt.shared.props=qt,Dt.batchId=hn;var Vt=Dt.scope(),an=Dt.scope();Ut(Vt.entry,"for(",hn,"=0;",hn,"<","a1",";++",hn,"){",qt,"=","a0","[",hn,"];",an,"}",Vt.exit),en.needsContext&&fn(Dt,an,en.context),en.needsFramebuffer&&Qt(Dt,an,en.framebuffer),nn(Dt,an,en.state,vn),en.profile&&vn(en.profile)&&Sn(Dt,an,en,!1,!0),gn?(en.useVAO?en.drawVAO?vn(en.drawVAO)?an(Dt.shared.vao,".setVAO(",en.drawVAO.append(Dt,an),");"):Vt(Dt.shared.vao,".setVAO(",en.drawVAO.append(Dt,Vt),");"):Vt(Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"):(Vt(Dt.shared.vao,".setVAO(null);"),wn(Dt,Vt,en,gn.attributes,Mn),wn(Dt,an,en,gn.attributes,vn)),Dn(Dt,Vt,en,gn.uniforms,Mn,!1),Dn(Dt,an,en,gn.uniforms,vn,!0),Tn(Dt,Vt,an,en)):(Ut=Dt.global.def("{}"),gn=en.shader.progVar.append(Dt,an),qt=an.def(gn,".id"),Vt=an.def(Ut,"[",qt,"]"),an(Dt.shared.gl,".useProgram(",gn,".program);","if(!",Vt,"){",Vt,"=",Ut,"[",qt,"]=",Dt.link(function(En){return Pn($n,Dt,en,En,2)}),"(",gn,");}",Vt,".call(this,a0[",hn,"],",hn,");"))}function Hn(Dt,Ut){function en(hn){var qt=Ut.shader[hn];qt&&(qt=qt.append(Dt,gn),isNaN(qt)?gn.set(vn.shader,"."+hn,qt):gn.set(vn.shader,"."+hn,Dt.link(qt,{stable:!0})))}var gn=Dt.proc("scope",3);Dt.batchId="a2";var vn=Dt.shared,Mn=vn.current;if(fn(Dt,gn,Ut.context),Ut.framebuffer&&Ut.framebuffer.append(Dt,gn),H(Object.keys(Ut.state)).forEach(function(hn){var qt=Ut.state[hn],Vt=qt.append(Dt,gn);x(Vt)?Vt.forEach(function(an,En){isNaN(an)?gn.set(Dt.next[hn],"["+En+"]",an):gn.set(Dt.next[hn],"["+En+"]",Dt.link(an,{stable:!0}))}):ie(qt)?gn.set(vn.next,"."+hn,Dt.link(Vt,{stable:!0})):gn.set(vn.next,"."+hn,Vt)}),Sn(Dt,gn,Ut,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(hn){var qt=Ut.draw[hn];qt&&(qt=qt.append(Dt,gn),isNaN(qt)?gn.set(vn.draw,"."+hn,qt):gn.set(vn.draw,"."+hn,Dt.link(qt),{stable:!0}))}),Object.keys(Ut.uniforms).forEach(function(hn){var qt=Ut.uniforms[hn].append(Dt,gn);Array.isArray(qt)&&(qt="["+qt.map(function(Vt){return isNaN(Vt)?Vt:Dt.link(Vt,{stable:!0})})+"]"),gn.set(vn.uniforms,"["+Dt.link(Ke.id(hn),{stable:!0})+"]",qt)}),Object.keys(Ut.attributes).forEach(function(hn){var qt=Ut.attributes[hn].append(Dt,gn),Vt=Dt.scopeAttrib(hn);Object.keys(new er).forEach(function(an){gn.set(Vt,"."+an,qt[an])})}),Ut.scopeVAO){var yn=Ut.scopeVAO.append(Dt,gn);isNaN(yn)?gn.set(vn.vao,".targetVAO",yn):gn.set(vn.vao,".targetVAO",Dt.link(yn,{stable:!0}))}en("vert"),en("frag"),0<Object.keys(Ut.state).length&&(gn(Mn,".dirty=true;"),gn.exit(Mn,".dirty=true;")),gn("a1(",Dt.shared.context,",a0,",Dt.batchId,");")}function Qn(Dt,Ut,en){var gn=Ut.static[en];if(gn&&function(an){if(typeof an=="object"&&!x(an)){for(var En=Object.keys(an),Fn=0;Fn<En.length;++Fn)if(se.isDynamic(an[En[Fn]]))return!0;return!1}}(gn)){var vn=Dt.global,Mn=Object.keys(gn),yn=!1,hn=!1,qt=!1,Vt=Dt.global.def("{}");Mn.forEach(function(an){var En=gn[an];if(se.isDynamic(En))typeof En=="function"&&(En=gn[an]=se.unbox(En)),an=Q(En,null),yn=yn||an.thisDep,qt=qt||an.propDep,hn=hn||an.contextDep;else{switch(vn(Vt,".",an,"="),typeof En){case"number":vn(En);break;case"string":vn('"',En,'"');break;case"object":Array.isArray(En)&&vn("[",En.join(),"]");break;default:vn(Dt.link(En))}vn(";")}}),Ut.dynamic[en]=new se.DynamicVariable(4,{thisDep:yn,contextDep:hn,propDep:qt,ref:Vt,append:function(an,En){Mn.forEach(function(Fn){var Rn=gn[Fn];se.isDynamic(Rn)&&(Rn=an.invoke(En,Rn),En(Vt,".",Fn,"=",Rn,";"))})}}),delete Ut.static[en]}}var er=gt.Record,ur={add:32774,subtract:32778,"reverse subtract":32779};ft.ext_blend_minmax&&(ur.min=32775,ur.max=32776);var $t=ft.angle_instanced_arrays,rn=ft.webgl_draw_buffers,On=ft.oes_vertex_array_object,xn={dirty:!0,profile:Tt.profile},In={},Gn=[],qn={},ir={};Nt("dither",3024),Nt("blend.enable",3042),Wt("blend.color","blendColor",[0,0,0,0]),Wt("blend.equation","blendEquationSeparate",[32774,32774]),Wt("blend.func","blendFuncSeparate",[1,0,1,0]),Nt("depth.enable",2929,!0),Wt("depth.func","depthFunc",513),Wt("depth.range","depthRange",[0,1]),Wt("depth.mask","depthMask",!0),Wt("colorMask","colorMask",[!0,!0,!0,!0]),Nt("cull.enable",2884),Wt("cull.face","cullFace",1029),Wt("frontFace","frontFace",2305),Wt("lineWidth","lineWidth",1),Nt("polygonOffset.enable",32823),Wt("polygonOffset.offset","polygonOffset",[0,0]),Nt("sample.alpha",32926),Nt("sample.enable",32928),Wt("sample.coverage","sampleCoverage",[1,!1]),Nt("stencil.enable",2960),Wt("stencil.mask","stencilMask",-1),Wt("stencil.func","stencilFunc",[519,0,-1]),Wt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Wt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Nt("scissor.enable",3089),Wt("scissor.box","scissor",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]),Wt("viewport","viewport",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]);var dr={gl:Ve,context:kt,strings:Ke,next:In,current:xn,draw:at,elements:bt,buffer:xt,shader:dt,attributes:gt.state,vao:gt,uniforms:lt,framebuffer:je,extensions:ft,timer:wt,isBufferArgs:F},Kt={primTypes:Ce,compareFuncs:Ft,blendFuncs:Rt,blendEquations:ur,stencilOps:Ot,glTypes:Fe,orientationType:Xe};rn&&(Kt.backBuffer=[1029],Kt.drawBuffer=b(ut.maxDrawbuffers,function(Dt){return Dt===0?[0]:b(Dt,function(Ut){return 36064+Ut})}));var bn=0;return{next:In,current:xn,procs:function(){var Dt=on(),Ut=Dt.proc("poll"),en=Dt.proc("refresh"),gn=Dt.block();Ut(gn),en(gn);var vn,Mn=(qt=Dt.shared).gl,yn=qt.next,hn=qt.current;gn(hn,".dirty=false;"),Qt(Dt,Ut),Qt(Dt,en,null,!0),$t&&(vn=Dt.link($t)),ft.oes_vertex_array_object&&en(Dt.link(ft.oes_vertex_array_object),".bindVertexArrayOES(null);");var qt=en.def(qt.attributes),Vt=en.def(0),an=Dt.cond(Vt,".buffer");an.then(Mn,".enableVertexAttribArray(i);",Mn,".bindBuffer(",34962,",",Vt,".buffer.buffer);",Mn,".vertexAttribPointer(i,",Vt,".size,",Vt,".type,",Vt,".normalized,",Vt,".stride,",Vt,".offset);").else(Mn,".disableVertexAttribArray(i);",Mn,".vertexAttrib4f(i,",Vt,".x,",Vt,".y,",Vt,".z,",Vt,".w);",Vt,".buffer=null;");var En=Dt.link(ut.maxAttributes,{stable:!0});return en("for(var i=0;i<",En,";++i){",Vt,"=",qt,"[i];",an,"}"),$t&&en("for(var i=0;i<",En,";++i){",vn,".vertexAttribDivisorANGLE(i,",qt,"[i].divisor);","}"),en(Dt.shared.vao,".currentVAO=null;",Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"),Object.keys(qn).forEach(function(Fn){var Rn=qn[Fn],jn=gn.def(yn,".",Fn),tr=Dt.block();tr("if(",jn,"){",Mn,".enable(",Rn,")}else{",Mn,".disable(",Rn,")}",hn,".",Fn,"=",jn,";"),en(tr),Ut("if(",jn,"!==",hn,".",Fn,"){",tr,"}")}),Object.keys(ir).forEach(function(Fn){var Rn,jn,tr=ir[Fn],Zn=xn[Fn],nr=Dt.block();nr(Mn,".",tr,"("),x(Zn)?(tr=Zn.length,Rn=Dt.global.def(yn,".",Fn),jn=Dt.global.def(hn,".",Fn),nr(b(tr,function(Yn){return Rn+"["+Yn+"]"}),");",b(tr,function(Yn){return jn+"["+Yn+"]="+Rn+"["+Yn+"];"}).join("")),Ut("if(",b(tr,function(Yn){return Rn+"["+Yn+"]!=="+jn+"["+Yn+"]"}).join("||"),"){",nr,"}")):(Rn=gn.def(yn,".",Fn),jn=gn.def(hn,".",Fn),nr(Rn,");",hn,".",Fn,"=",Rn,";"),Ut("if(",Rn,"!==",jn,"){",nr,"}")),en(nr)}),Dt.compile()}(),compile:function(Dt,Ut,en,gn,vn){var Mn=on();Mn.stats=Mn.link(vn),Object.keys(Ut.static).forEach(function(hn){Qn(Mn,Ut,hn)}),Pt.forEach(function(hn){Qn(Mn,Dt,hn)});var yn=kn(Dt,Ut,en,gn);return yn.shader.program&&(yn.shader.program.attributes.sort(function(hn,qt){return hn.name<qt.name?-1:1}),yn.shader.program.uniforms.sort(function(hn,qt){return hn.name<qt.name?-1:1})),function(hn,qt){var Vt=hn.proc("draw",1);sn(hn,Vt),fn(hn,Vt,qt.context),Qt(hn,Vt,qt.framebuffer),pn(hn,Vt,qt),nn(hn,Vt,qt.state),Sn(hn,Vt,qt,!1,!0);var an=qt.shader.progVar.append(hn,Vt);if(Vt(hn.shared.gl,".useProgram(",an,".program);"),qt.shader.program)Nn(hn,Vt,qt,qt.shader.program);else{Vt(hn.shared.vao,".setVAO(null);");var En=hn.global.def("{}"),Fn=Vt.def(an,".id"),Rn=Vt.def(En,"[",Fn,"]");Vt(hn.cond(Rn).then(Rn,".call(this,a0);").else(Rn,"=",En,"[",Fn,"]=",hn.link(function(jn){return Pn(Nn,hn,qt,jn,1)}),"(",an,");",Rn,".call(this,a0);"))}0<Object.keys(qt.state).length&&Vt(hn.shared.current,".dirty=true;"),hn.shared.vao&&Vt(hn.shared.vao,".setVAO(null);")}(Mn,yn),Hn(Mn,yn),function(hn,qt){function Vt(Zn){return Zn.contextDep&&En||Zn.propDep}var an=hn.proc("batch",2);hn.batchId="0",sn(hn,an);var En=!1,Fn=!0;Object.keys(qt.context).forEach(function(Zn){En=En||qt.context[Zn].propDep}),En||(fn(hn,an,qt.context),Fn=!1);var Rn=!1;if((jn=qt.framebuffer)?(jn.propDep?En=Rn=!0:jn.contextDep&&En&&(Rn=!0),Rn||Qt(hn,an,jn)):Qt(hn,an,null),qt.state.viewport&&qt.state.viewport.propDep&&(En=!0),pn(hn,an,qt),nn(hn,an,qt.state,function(Zn){return!Vt(Zn)}),qt.profile&&Vt(qt.profile)||Sn(hn,an,qt,!1,"a1"),qt.contextDep=En,qt.needsContext=Fn,qt.needsFramebuffer=Rn,(Fn=qt.shader.progVar).contextDep&&En||Fn.propDep)pr(hn,an,qt,null);else if(Fn=Fn.append(hn,an),an(hn.shared.gl,".useProgram(",Fn,".program);"),qt.shader.program)pr(hn,an,qt,qt.shader.program);else{an(hn.shared.vao,".setVAO(null);");var jn=hn.global.def("{}"),tr=(Rn=an.def(Fn,".id"),an.def(jn,"[",Rn,"]"));an(hn.cond(tr).then(tr,".call(this,a0,a1);").else(tr,"=",jn,"[",Rn,"]=",hn.link(function(Zn){return Pn(pr,hn,qt,Zn,2)}),"(",Fn,");",tr,".call(this,a0,a1);"))}0<Object.keys(qt.state).length&&an(hn.shared.current,".dirty=true;"),hn.shared.vao&&an(hn.shared.vao,".setVAO(null);")}(Mn,yn),J(Mn.compile(),{destroy:function(){yn.shader.program.destroy()}})}}}function $(Ve,Ke){for(var ft=0;ft<Ve.length;++ft)if(Ve[ft]===Ke)return ft;return-1}var J=function(Ve,Ke){for(var ft=Object.keys(Ke),ut=0;ut<ft.length;++ut)Ve[ft[ut]]=Ke[ft[ut]];return Ve},re=0,se={DynamicVariable:C,define:function(Ve,Ke){return new C(Ve,T(Ke+""))},isDynamic:function(Ve){return typeof Ve=="function"&&!Ve._reglType||Ve instanceof C},unbox:function Ve(Ke,ft){return typeof Ke=="function"?new C(0,Ke):typeof Ke=="number"||typeof Ke=="boolean"?new C(5,Ke):Array.isArray(Ke)?new C(6,Ke.map(function(ut,xt){return Ve(ut)})):Ke instanceof C?Ke:void 0},accessor:T},ue={next:typeof requestAnimationFrame=="function"?function(Ve){return requestAnimationFrame(Ve)}:function(Ve){return setTimeout(Ve,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ve){return cancelAnimationFrame(Ve)}:clearTimeout},he=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=s();pe.zero=s();var ge=function(Ve,Ke){var ft=1;Ke.ext_texture_filter_anisotropic&&(ft=Ve.getParameter(34047));var ut=1,xt=1;Ke.webgl_draw_buffers&&(ut=Ve.getParameter(34852),xt=Ve.getParameter(36063));var bt=!!Ke.oes_texture_float;if(bt){bt=Ve.createTexture(),Ve.bindTexture(3553,bt),Ve.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var qe=Ve.createFramebuffer();if(Ve.bindFramebuffer(36160,qe),Ve.framebufferTexture2D(36160,36064,3553,bt,0),Ve.bindTexture(3553,null),Ve.checkFramebufferStatus(36160)!==36053)bt=!1;else{Ve.viewport(0,0,1,1),Ve.clearColor(1,0,0,1),Ve.clear(16384);var je=pe.allocType(5126,4);Ve.readPixels(0,0,1,1,6408,5126,je),Ve.getError()?bt=!1:(Ve.deleteFramebuffer(qe),Ve.deleteTexture(bt),bt=je[0]===1),pe.freeType(je)}}return je=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(je=Ve.createTexture(),qe=pe.allocType(5121,36),Ve.activeTexture(33984),Ve.bindTexture(34067,je),Ve.texImage2D(34069,0,6408,3,3,0,6408,5121,qe),pe.freeType(qe),Ve.bindTexture(34067,null),Ve.deleteTexture(je),je=!Ve.getError()),{colorBits:[Ve.getParameter(3410),Ve.getParameter(3411),Ve.getParameter(3412),Ve.getParameter(3413)],depthBits:Ve.getParameter(3414),stencilBits:Ve.getParameter(3415),subpixelBits:Ve.getParameter(3408),extensions:Object.keys(Ke).filter(function(lt){return!!Ke[lt]}),maxAnisotropic:ft,maxDrawbuffers:ut,maxColorAttachments:xt,pointSizeDims:Ve.getParameter(33901),lineWidthDims:Ve.getParameter(33902),maxViewportDims:Ve.getParameter(3386),maxCombinedTextureUnits:Ve.getParameter(35661),maxCubeMapSize:Ve.getParameter(34076),maxRenderbufferSize:Ve.getParameter(34024),maxTextureUnits:Ve.getParameter(34930),maxTextureSize:Ve.getParameter(3379),maxAttributes:Ve.getParameter(34921),maxVertexUniforms:Ve.getParameter(36347),maxVertexTextureUnits:Ve.getParameter(35660),maxVaryingVectors:Ve.getParameter(36348),maxFragmentUniforms:Ve.getParameter(36349),glsl:Ve.getParameter(35724),renderer:Ve.getParameter(7937),vendor:Ve.getParameter(7936),version:Ve.getParameter(7938),readFloat:bt,npotTextureCube:je}},ye=function(Ve){return Ve instanceof Uint8Array||Ve instanceof Uint16Array||Ve instanceof Uint32Array||Ve instanceof Int8Array||Ve instanceof Int16Array||Ve instanceof Int32Array||Ve instanceof Float32Array||Ve instanceof Float64Array||Ve instanceof Uint8ClampedArray},be=function(Ve){return Object.keys(Ve).map(function(Ke){return Ve[Ke]})},Te={shape:function(Ve){for(var Ke=[];Ve.length;Ve=Ve[0])Ke.push(Ve.length);return Ke},flatten:function(Ve,Ke,ft,ut){var xt=1;if(Ke.length)for(var bt=0;bt<Ke.length;++bt)xt*=Ke[bt];else xt=0;switch(ft=ut||pe.allocType(ft,xt),Ke.length){case 0:break;case 1:for(ut=Ke[0],Ke=0;Ke<ut;++Ke)ft[Ke]=Ve[Ke];break;case 2:for(ut=Ke[0],Ke=Ke[1],bt=xt=0;bt<ut;++bt)for(var qe=Ve[bt],je=0;je<Ke;++je)ft[xt++]=qe[je];break;case 3:i(Ve,Ke[0],Ke[1],Ke[2],ft,0);break;default:r(Ve,Ke,0,ft,0)}return ft}},Se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Fe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},xe={dynamic:35048,stream:35040,static:35044},le=Te.flatten,oe=Te.shape,de=[];de[5120]=1,de[5122]=2,de[5124]=4,de[5121]=1,de[5123]=2,de[5125]=4,de[5126]=4;var Ce={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=new Float32Array(1),Ae=new Uint32Array(_e.buffer),Le=[9984,9986,9985,9987],ze=[0,6409,6410,6407,6408],Re={};Re[6409]=Re[6406]=Re[6402]=1,Re[34041]=Re[6410]=2,Re[6407]=Re[35904]=3,Re[6408]=Re[35906]=4;var ve=p("HTMLCanvasElement"),ke=p("OffscreenCanvas"),Ee=p("CanvasRenderingContext2D"),De=p("ImageBitmap"),Pe=p("HTMLImageElement"),Ue=p("HTMLVideoElement"),We=Object.keys(Se).concat([ve,ke,Ee,De,Pe,Ue]),$e=[];$e[5121]=1,$e[5126]=4,$e[36193]=2,$e[5123]=2,$e[5125]=4;var ot=[];ot[32854]=2,ot[32855]=2,ot[36194]=2,ot[34041]=4,ot[33776]=.5,ot[33777]=.5,ot[33778]=1,ot[33779]=1,ot[35986]=.5,ot[35987]=1,ot[34798]=1,ot[35840]=.5,ot[35841]=.25,ot[35842]=.5,ot[35843]=.25,ot[36196]=.5;var st=[];st[32854]=2,st[32855]=2,st[36194]=2,st[33189]=2,st[36168]=1,st[34041]=4,st[35907]=4,st[34836]=16,st[34842]=8,st[34843]=6;var mt=function(Ve,Ke,ft,ut,xt){function bt(at){this.id=gt++,this.refCount=1,this.renderbuffer=at,this.format=32854,this.height=this.width=0,xt.profile&&(this.stats={size:0})}function qe(at){var kt=at.renderbuffer;Ve.bindRenderbuffer(36161,null),Ve.deleteRenderbuffer(kt),at.renderbuffer=null,at.refCount=0,delete dt[at.id],ut.renderbufferCount--}var je={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ke.ext_srgb&&(je.srgba=35907),Ke.ext_color_buffer_half_float&&(je.rgba16f=34842,je.rgb16f=34843),Ke.webgl_color_buffer_float&&(je.rgba32f=34836);var lt=[];Object.keys(je).forEach(function(at){lt[je[at]]=at});var gt=0,dt={};return bt.prototype.decRef=function(){0>=--this.refCount&&qe(this)},xt.profile&&(ut.getTotalRenderbufferSize=function(){var at=0;return Object.keys(dt).forEach(function(kt){at+=dt[kt].stats.size}),at}),{create:function(at,kt){function wt(Tt,At){var Nt=0,Wt=0,on=32854;if(typeof Tt=="object"&&Tt?("shape"in Tt?(Nt=0|(Wt=Tt.shape)[0],Wt=0|Wt[1]):("radius"in Tt&&(Nt=Wt=0|Tt.radius),"width"in Tt&&(Nt=0|Tt.width),"height"in Tt&&(Wt=0|Tt.height)),"format"in Tt&&(on=je[Tt.format])):typeof Tt=="number"?(Nt=0|Tt,Wt=typeof At=="number"?0|At:Nt):Tt||(Nt=Wt=1),Nt!==Et.width||Wt!==Et.height||on!==Et.format)return wt.width=Et.width=Nt,wt.height=Et.height=Wt,Et.format=on,Ve.bindRenderbuffer(36161,Et.renderbuffer),Ve.renderbufferStorage(36161,on,Nt,Wt),xt.profile&&(Et.stats.size=st[Et.format]*Et.width*Et.height),wt.format=lt[Et.format],wt}var Et=new bt(Ve.createRenderbuffer());return dt[Et.id]=Et,ut.renderbufferCount++,wt(at,kt),wt.resize=function(Tt,At){var Nt=0|Tt,Wt=0|At||Nt;return Nt===Et.width&&Wt===Et.height||(wt.width=Et.width=Nt,wt.height=Et.height=Wt,Ve.bindRenderbuffer(36161,Et.renderbuffer),Ve.renderbufferStorage(36161,Et.format,Nt,Wt),xt.profile&&(Et.stats.size=st[Et.format]*Et.width*Et.height)),wt},wt._reglType="renderbuffer",wt._renderbuffer=Et,xt.profile&&(wt.stats=Et.stats),wt.destroy=function(){Et.decRef()},wt},clear:function(){be(dt).forEach(qe)},restore:function(){be(dt).forEach(function(at){at.renderbuffer=Ve.createRenderbuffer(),Ve.bindRenderbuffer(36161,at.renderbuffer),Ve.renderbufferStorage(36161,at.format,at.width,at.height)}),Ve.bindRenderbuffer(36161,null)}}},_t=[];_t[6408]=4,_t[6407]=3;var yt=[];yt[5121]=1,yt[5126]=4,yt[36193]=2;var it=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],tt=["x","y","z","w"],Pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Rt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ot={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Xe={cw:2304,ccw:2305},Je=new W(!1,!1,!1,function(){});return function(Ve){function Ke(){if($n.length===0)cn&&cn.update(),er=null;else{er=ue.next(Ke),dt();for(var $t=$n.length-1;0<=$t;--$t){var rn=$n[$t];rn&&rn(kn,null,0)}wt.flush(),cn&&cn.update()}}function ft(){!er&&0<$n.length&&(er=ue.next(Ke))}function ut(){er&&(ue.cancel(Ke),er=null)}function xt($t){$t.preventDefault(),ut(),pr.forEach(function(rn){rn()})}function bt($t){wt.getError(),Tt.restore(),sn.restore(),Qt.restore(),Sn.restore(),wn.restore(),Dn.restore(),nn.restore(),cn&&cn.restore(),Tn.procs.refresh(),ft(),Hn.forEach(function(rn){rn()})}function qe($t){function rn(Dt,Ut){var en={},gn={};return Object.keys(Dt).forEach(function(vn){var Mn=Dt[vn];if(se.isDynamic(Mn))gn[vn]=se.unbox(Mn,vn);else{if(Ut&&Array.isArray(Mn)){for(var yn=0;yn<Mn.length;++yn)if(se.isDynamic(Mn[yn]))return void(gn[vn]=se.unbox(Mn,vn))}en[vn]=Mn}}),{dynamic:gn,static:en}}var On=rn($t.context||{},!0),xn=rn($t.uniforms||{},!0),In=rn($t.attributes||{},!1);$t=rn(function(Dt){function Ut(gn){if(gn in en){var vn=en[gn];delete en[gn],Object.keys(vn).forEach(function(Mn){en[gn+"."+Mn]=vn[Mn]})}}var en=J({},Dt);return delete en.uniforms,delete en.attributes,delete en.context,delete en.vao,"stencil"in en&&en.stencil.op&&(en.stencil.opBack=en.stencil.opFront=en.stencil.op,delete en.stencil.op),Ut("blend"),Ut("depth"),Ut("cull"),Ut("stencil"),Ut("polygonOffset"),Ut("scissor"),Ut("sample"),"vao"in Dt&&(en.vao=Dt.vao),en}($t),!1);var Gn={gpuTime:0,cpuTime:0,count:0},qn=Tn.compile($t,In,xn,On,Gn),ir=qn.draw,dr=qn.batch,Kt=qn.scope,bn=[];return J(function(Dt,Ut){var en;if(typeof Dt=="function")return Kt.call(this,null,Dt,0);if(typeof Ut=="function")if(typeof Dt=="number")for(en=0;en<Dt;++en)Kt.call(this,null,Ut,en);else{if(!Array.isArray(Dt))return Kt.call(this,Dt,Ut,0);for(en=0;en<Dt.length;++en)Kt.call(this,Dt[en],Ut,en)}else if(typeof Dt=="number"){if(0<Dt)return dr.call(this,function(gn){for(;bn.length<gn;)bn.push(null);return bn}(0|Dt),0|Dt)}else{if(!Array.isArray(Dt))return ir.call(this,Dt);if(Dt.length)return dr.call(this,Dt,Dt.length)}},{stats:Gn,destroy:function(){qn.destroy()}})}function je($t,rn){var On=0;Tn.procs.poll();var xn=rn.color;xn&&(wt.clearColor(+xn[0]||0,+xn[1]||0,+xn[2]||0,+xn[3]||0),On|=16384),"depth"in rn&&(wt.clearDepth(+rn.depth),On|=256),"stencil"in rn&&(wt.clearStencil(0|rn.stencil),On|=1024),wt.clear(On)}function lt($t){return $n.push($t),ft(),{cancel:function(){var rn=$($n,$t);$n[rn]=function On(){var xn=$($n,On);$n[xn]=$n[$n.length-1],--$n.length,0>=$n.length&&ut()}}}}function gt(){var $t=Pn.viewport,rn=Pn.scissor_box;$t[0]=$t[1]=rn[0]=rn[1]=0,kn.viewportWidth=kn.framebufferWidth=kn.drawingBufferWidth=$t[2]=rn[2]=wt.drawingBufferWidth,kn.viewportHeight=kn.framebufferHeight=kn.drawingBufferHeight=$t[3]=rn[3]=wt.drawingBufferHeight}function dt(){kn.tick+=1,kn.time=kt(),gt(),Tn.procs.poll()}function at(){Sn.refresh(),gt(),Tn.procs.refresh(),cn&&cn.update()}function kt(){return(he()-un)/1e3}if(!(Ve=_(Ve)))return null;var wt=Ve.gl,Et=wt.getContextAttributes();wt.isContextLost();var Tt=function($t,rn){function On(qn){var ir;qn=qn.toLowerCase();try{ir=xn[qn]=$t.getExtension(qn)}catch{}return!!ir}for(var xn={},In=0;In<rn.extensions.length;++In){var Gn=rn.extensions[In];if(!On(Gn))return rn.onDestroy(),rn.onDone('"'+Gn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return rn.optionalExtensions.forEach(On),{extensions:xn,restore:function(){Object.keys(xn).forEach(function(qn){if(xn[qn]&&!On(qn))throw Error("(regl): error restoring extension "+qn)})}}}(wt,Ve);if(!Tt)return null;var At=function(){var $t={"":0},rn=[""];return{id:function(On){var xn=$t[On];return xn||(xn=$t[On]=rn.length,rn.push(On),xn)},str:function(On){return rn[On]}}}(),Nt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Wt=Ve.cachedCode||{},on=Tt.extensions,cn=function($t,rn){function On(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function xn(bn,Dt,Ut){var en=qn.pop()||new On;en.startQueryIndex=bn,en.endQueryIndex=Dt,en.sum=0,en.stats=Ut,ir.push(en)}if(!rn.ext_disjoint_timer_query)return null;var In=[],Gn=[],qn=[],ir=[],dr=[],Kt=[];return{beginQuery:function(bn){var Dt=In.pop()||rn.ext_disjoint_timer_query.createQueryEXT();rn.ext_disjoint_timer_query.beginQueryEXT(35007,Dt),Gn.push(Dt),xn(Gn.length-1,Gn.length,bn)},endQuery:function(){rn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:xn,update:function(){var bn,Dt;if((bn=Gn.length)!==0){Kt.length=Math.max(Kt.length,bn+1),dr.length=Math.max(dr.length,bn+1),dr[0]=0;var Ut=Kt[0]=0;for(Dt=bn=0;Dt<Gn.length;++Dt){var en=Gn[Dt];rn.ext_disjoint_timer_query.getQueryObjectEXT(en,34919)?(Ut+=rn.ext_disjoint_timer_query.getQueryObjectEXT(en,34918),In.push(en)):Gn[bn++]=en,dr[Dt+1]=Ut,Kt[Dt+1]=bn}for(Gn.length=bn,Dt=bn=0;Dt<ir.length;++Dt){var gn=(Ut=ir[Dt]).startQueryIndex;en=Ut.endQueryIndex,Ut.sum+=dr[en]-dr[gn],gn=Kt[gn],(en=Kt[en])===gn?(Ut.stats.gpuTime+=Ut.sum/1e6,qn.push(Ut)):(Ut.startQueryIndex=gn,Ut.endQueryIndex=en,ir[bn++]=Ut)}ir.length=bn}},getNumPendingQueries:function(){return Gn.length},clear:function(){In.push.apply(In,Gn);for(var bn=0;bn<In.length;bn++)rn.ext_disjoint_timer_query.deleteQueryEXT(In[bn]);Gn.length=0,In.length=0},restore:function(){Gn.length=0,In.length=0}}}(0,on),un=he(),Xt=wt.drawingBufferWidth,tn=wt.drawingBufferHeight,kn={tick:0,time:0,viewportWidth:Xt,viewportHeight:tn,framebufferWidth:Xt,framebufferHeight:tn,drawingBufferWidth:Xt,drawingBufferHeight:tn,pixelRatio:Ve.pixelRatio},fn=(Xt={elements:null,primitive:4,count:-1,offset:0,instances:-1},ge(wt,on)),Qt=u(wt,Nt,Ve,function($t){return nn.destroyBuffer($t)}),pn=h(wt,on,Qt,Nt),nn=P(wt,on,fn,Nt,Qt,pn,Xt),sn=O(wt,At,Nt,Ve),Sn=S(wt,on,fn,function(){Tn.procs.poll()},kn,Nt,Ve),wn=mt(wt,on,0,Nt,Ve),Dn=A(wt,on,fn,Sn,wn,Nt),Tn=ne(wt,At,on,fn,Qt,pn,0,Dn,{},nn,sn,Xt,kn,cn,Wt,Ve),Pn=(At=I(wt,Dn,Tn.procs.poll,kn),Tn.next),Nn=wt.canvas,$n=[],pr=[],Hn=[],Qn=[Ve.onDestroy],er=null;Nn&&(Nn.addEventListener("webglcontextlost",xt,!1),Nn.addEventListener("webglcontextrestored",bt,!1));var ur=Dn.setFBO=qe({framebuffer:se.define.call(null,1,"framebuffer")});return at(),Et=J(qe,{clear:function($t){if("framebuffer"in $t)if($t.framebuffer&&$t.framebuffer_reglType==="framebufferCube")for(var rn=0;6>rn;++rn)ur(J({framebuffer:$t.framebuffer.faces[rn]},$t),je);else ur($t,je);else je(0,$t)},prop:se.define.bind(null,1),context:se.define.bind(null,2),this:se.define.bind(null,3),draw:qe({}),buffer:function($t){return Qt.create($t,34962,!1,!1)},elements:function($t){return pn.create($t,!1)},texture:Sn.create2D,cube:Sn.createCube,renderbuffer:wn.create,framebuffer:Dn.create,framebufferCube:Dn.createCube,vao:nn.createVAO,attributes:Et,frame:lt,on:function($t,rn){var On;switch($t){case"frame":return lt(rn);case"lost":On=pr;break;case"restore":On=Hn;break;case"destroy":On=Qn}return On.push(rn),{cancel:function(){for(var xn=0;xn<On.length;++xn)if(On[xn]===rn){On[xn]=On[On.length-1],On.pop();break}}}},limits:fn,hasExtension:function($t){return 0<=fn.extensions.indexOf($t.toLowerCase())},read:At,destroy:function(){$n.length=0,ut(),Nn&&(Nn.removeEventListener("webglcontextlost",xt),Nn.removeEventListener("webglcontextrestored",bt)),sn.clear(),Dn.clear(),wn.clear(),nn.clear(),Sn.clear(),pn.clear(),Qt.clear(),cn&&cn.clear(),Qn.forEach(function($t){$t()})},_gl:wt,_refresh:at,poll:function(){dt(),cn&&cn.update()},now:kt,stats:Nt,getCachedCode:function(){return Wt},preloadCachedCode:function($t){Object.entries($t).forEach(function(rn){Wt[rn[0]]=rn[1]})}}),Ve.onDone(null,Et),Et}}()},30456:function(U,C,e){var T=e(33576),k=T.Buffer;function o(b,f){for(var s in b)f[s]=b[s]}function _(b,f,s){return k(b,f,s)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?U.exports=T:(o(T,C),C.Buffer=_),_.prototype=Object.create(k.prototype),o(k,_),_.from=function(b,f,s){if(typeof b=="number")throw new TypeError("Argument must not be a number");return k(b,f,s)},_.alloc=function(b,f,s){if(typeof b!="number")throw new TypeError("Argument must be a number");var t=k(b);return f!==void 0?typeof s=="string"?t.fill(f,s):t.fill(f):t.fill(0),t},_.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return k(b)},_.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return T.SlowBuffer(b)}},14500:function(U,C,e){var T=e(53664),k=e(64348),o=e(39640)(),_=e(2304),b=T("%TypeError%"),f=T("%Math.floor%");U.exports=function(s,t){if(typeof s!="function")throw new b("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||f(t)!==t)throw new b("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],r=!0,n=!0;if("length"in s&&_){var a=_(s,"length");a&&!a.configurable&&(r=!1),a&&!a.writable&&(n=!1)}return(r||n||!i)&&(o?k(s,"length",t,!0,!0):k(s,"length",t)),s}},29936:function(U,C,e){U.exports=k;var T=e(61252).EventEmitter;function k(){T.call(this)}e(6768)(k,T),k.Readable=e(12348),k.Writable=e(11288),k.Duplex=e(15316),k.Transform=e(22477),k.PassThrough=e(27136),k.finished=e(15932),k.pipeline=e(38180),k.Stream=k,k.prototype.pipe=function(o,_){var b=this;function f(l){o.writable&&o.write(l)===!1&&b.pause&&b.pause()}function s(){b.readable&&b.resume&&b.resume()}b.on("data",f),o.on("drain",s),o._isStdio||_&&_.end===!1||(b.on("end",i),b.on("close",r));var t=!1;function i(){t||(t=!0,o.end())}function r(){t||(t=!0,typeof o.destroy=="function"&&o.destroy())}function n(l){if(a(),T.listenerCount(this,"error")===0)throw l}function a(){b.removeListener("data",f),o.removeListener("drain",s),b.removeListener("end",i),b.removeListener("close",r),b.removeListener("error",n),o.removeListener("error",n),b.removeListener("end",a),b.removeListener("close",a),o.removeListener("close",a)}return b.on("error",n),o.on("error",n),b.on("end",a),b.on("close",a),o.on("close",a),o.emit("pipe",b),o}},92784:function(U){var C={};function e(k,o,_){_||(_=Error);var b=function(f){var s,t;function i(r,n,a){return f.call(this,function(l,u,h){return typeof o=="string"?o:o(l,u,h)}(r,n,a))||this}return t=f,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,i}(_);b.prototype.name=_.name,b.prototype.code=k,C[k]=b}function T(k,o){if(Array.isArray(k)){var _=k.length;return k=k.map(function(b){return String(b)}),_>2?"one of ".concat(o," ").concat(k.slice(0,_-1).join(", "),", or ")+k[_-1]:_===2?"one of ".concat(o," ").concat(k[0]," or ").concat(k[1]):"of ".concat(o," ").concat(k[0])}return"of ".concat(o," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,o){return'The value "'+o+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,o,_){var b,f,s,t,i;if(typeof o=="string"&&(f="not ",o.substr(0,4)===f)?(b="must not be",o=o.replace(/^not /,"")):b="must be",function(n,a,l){return(l===void 0||l>n.length)&&(l=n.length),n.substring(l-9,l)===a}(k," argument"))s="The ".concat(k," ").concat(b," ").concat(T(o,"type"));else{var r=(typeof i!="number"&&(i=0),i+1>(t=k).length||t.indexOf(".",i)===-1?"argument":"property");s='The "'.concat(k,'" ').concat(r," ").concat(b," ").concat(T(o,"type"))}return s+". Received type ".concat(typeof _)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.i=C},15316:function(U,C,e){var T=e(4168),k=Object.keys||function(n){var a=[];for(var l in n)a.push(l);return a};U.exports=t;var o=e(12348),_=e(11288);e(6768)(t,o);for(var b=k(_.prototype),f=0;f<b.length;f++){var s=b[f];t.prototype[s]||(t.prototype[s]=_.prototype[s])}function t(n){if(!(this instanceof t))return new t(n);o.call(this,n),_.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||T.nextTick(r,this)}function r(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},27136:function(U,C,e){U.exports=k;var T=e(22477);function k(o){if(!(this instanceof k))return new k(o);T.call(this,o)}e(6768)(k,T),k.prototype._transform=function(o,_,b){b(null,o)}},12348:function(U,C,e){var T,k=e(4168);U.exports=w,w.ReadableState=m,e(61252).EventEmitter;var o,_=function(te,Q){return te.listeners(Q).length},b=e(4776),f=e(33576).Buffer,s=e.g.Uint8Array||function(){},t=e(19768);o=t&&t.debuglog?t.debuglog("stream"):function(){};var i,r,n,a=e(47264),l=e(55324),u=e(24888).getHighWaterMark,h=e(92784).i,c=h.ERR_INVALID_ARG_TYPE,x=h.ERR_STREAM_PUSH_AFTER_EOF,p=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(w,b);var g=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function m(te,Q,ne){T=T||e(15316),te=te||{},typeof ne!="boolean"&&(ne=Q instanceof T),this.objectMode=!!te.objectMode,ne&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=u(this,te,"readableHighWaterMark",ne),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(i||(i=e(86032).o),this.decoder=new i(te.encoding),this.encoding=te.encoding)}function w(te){if(T=T||e(15316),!(this instanceof w))return new w(te);var Q=this instanceof T;this._readableState=new m(te,this,Q),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),b.call(this)}function d(te,Q,ne,$,J){o("readableAddChunk",Q);var re,se=te._readableState;if(Q===null)se.reading=!1,function(ue,he){if(o("onEofChunk"),!he.ended){if(he.decoder){var pe=he.decoder.end();pe&&pe.length&&(he.buffer.push(pe),he.length+=he.objectMode?1:pe.length)}he.ended=!0,he.sync?P(ue):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,O(ue)))}}(te,se);else if(J||(re=function(ue,he){var pe,ge;return ge=he,f.isBuffer(ge)||ge instanceof s||typeof he=="string"||he===void 0||ue.objectMode||(pe=new c("chunk",["string","Buffer","Uint8Array"],he)),pe}(se,Q)),re)g(te,re);else if(se.objectMode||Q&&Q.length>0)if(typeof Q=="string"||se.objectMode||Object.getPrototypeOf(Q)===f.prototype||(Q=function(ue){return f.from(ue)}(Q)),$)se.endEmitted?g(te,new v):S(te,se,Q,!0);else if(se.ended)g(te,new x);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!ne?(Q=se.decoder.write(Q),se.objectMode||Q.length!==0?S(te,se,Q,!1):I(te,se)):S(te,se,Q,!1)}else $||(se.reading=!1,I(te,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function S(te,Q,ne,$){Q.flowing&&Q.length===0&&!Q.sync?(Q.awaitDrain=0,te.emit("data",ne)):(Q.length+=Q.objectMode?1:ne.length,$?Q.buffer.unshift(ne):Q.buffer.push(ne),Q.needReadable&&P(te)),I(te,Q)}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),w.prototype.destroy=l.destroy,w.prototype._undestroy=l.undestroy,w.prototype._destroy=function(te,Q){Q(te)},w.prototype.push=function(te,Q){var ne,$=this._readableState;return $.objectMode?ne=!0:typeof te=="string"&&((Q=Q||$.defaultEncoding)!==$.encoding&&(te=f.from(te,Q),Q=""),ne=!0),d(this,te,Q,!1,ne)},w.prototype.unshift=function(te){return d(this,te,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(te){i||(i=e(86032).o);var Q=new i(te);this._readableState.decoder=Q,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,$="";ne!==null;)$+=Q.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),$!==""&&this._readableState.buffer.push($),this._readableState.length=$.length,this};var A=1073741824;function E(te,Q){return te<=0||Q.length===0&&Q.ended?0:Q.objectMode?1:te!=te?Q.flowing&&Q.length?Q.buffer.head.data.length:Q.length:(te>Q.highWaterMark&&(Q.highWaterMark=function(ne){return ne>=A?ne=A:(ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++),ne}(te)),te<=Q.length?te:Q.ended?Q.length:(Q.needReadable=!0,0))}function P(te){var Q=te._readableState;o("emitReadable",Q.needReadable,Q.emittedReadable),Q.needReadable=!1,Q.emittedReadable||(o("emitReadable",Q.flowing),Q.emittedReadable=!0,k.nextTick(O,te))}function O(te){var Q=te._readableState;o("emitReadable_",Q.destroyed,Q.length,Q.ended),Q.destroyed||!Q.length&&!Q.ended||(te.emit("readable"),Q.emittedReadable=!1),Q.needReadable=!Q.flowing&&!Q.ended&&Q.length<=Q.highWaterMark,X(te)}function I(te,Q){Q.readingMore||(Q.readingMore=!0,k.nextTick(D,te,Q))}function D(te,Q){for(;!Q.reading&&!Q.ended&&(Q.length<Q.highWaterMark||Q.flowing&&Q.length===0);){var ne=Q.length;if(o("maybeReadMore read 0"),te.read(0),ne===Q.length)break}Q.readingMore=!1}function V(te){var Q=te._readableState;Q.readableListening=te.listenerCount("readable")>0,Q.resumeScheduled&&!Q.paused?Q.flowing=!0:te.listenerCount("data")>0&&te.resume()}function z(te){o("readable nexttick read 0"),te.read(0)}function j(te,Q){o("resume",Q.reading),Q.reading||te.read(0),Q.resumeScheduled=!1,te.emit("resume"),X(te),Q.flowing&&!Q.reading&&te.read(0)}function X(te){var Q=te._readableState;for(o("flow",Q.flowing);Q.flowing&&te.read()!==null;);}function F(te,Q){return Q.length===0?null:(Q.objectMode?ne=Q.buffer.shift():!te||te>=Q.length?(ne=Q.decoder?Q.buffer.join(""):Q.buffer.length===1?Q.buffer.first():Q.buffer.concat(Q.length),Q.buffer.clear()):ne=Q.buffer.consume(te,Q.decoder),ne);var ne}function H(te){var Q=te._readableState;o("endReadable",Q.endEmitted),Q.endEmitted||(Q.ended=!0,k.nextTick(W,Q,te))}function W(te,Q){if(o("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,Q.readable=!1,Q.emit("end"),te.autoDestroy)){var ne=Q._writableState;(!ne||ne.autoDestroy&&ne.finished)&&Q.destroy()}}function ie(te,Q){for(var ne=0,$=te.length;ne<$;ne++)if(te[ne]===Q)return ne;return-1}w.prototype.read=function(te){o("read",te),te=parseInt(te,10);var Q=this._readableState,ne=te;if(te!==0&&(Q.emittedReadable=!1),te===0&&Q.needReadable&&((Q.highWaterMark!==0?Q.length>=Q.highWaterMark:Q.length>0)||Q.ended))return o("read: emitReadable",Q.length,Q.ended),Q.length===0&&Q.ended?H(this):P(this),null;if((te=E(te,Q))===0&&Q.ended)return Q.length===0&&H(this),null;var $,J=Q.needReadable;return o("need readable",J),(Q.length===0||Q.length-te<Q.highWaterMark)&&o("length less than watermark",J=!0),Q.ended||Q.reading?o("reading or ended",J=!1):J&&(o("do read"),Q.reading=!0,Q.sync=!0,Q.length===0&&(Q.needReadable=!0),this._read(Q.highWaterMark),Q.sync=!1,Q.reading||(te=E(ne,Q))),($=te>0?F(te,Q):null)===null?(Q.needReadable=Q.length<=Q.highWaterMark,te=0):(Q.length-=te,Q.awaitDrain=0),Q.length===0&&(Q.ended||(Q.needReadable=!0),ne!==te&&Q.ended&&H(this)),$!==null&&this.emit("data",$),$},w.prototype._read=function(te){g(this,new p("_read()"))},w.prototype.pipe=function(te,Q){var ne=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=te;break;case 1:$.pipes=[$.pipes,te];break;default:$.pipes.push(te)}$.pipesCount+=1,o("pipe count=%d opts=%j",$.pipesCount,Q);var J=Q&&Q.end===!1||te===k.stdout||te===k.stderr?be:re;function re(){o("onend"),te.end()}$.endEmitted?k.nextTick(J):ne.once("end",J),te.on("unpipe",function Te(Se,Fe){o("onunpipe"),Se===ne&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,o("cleanup"),te.removeListener("close",ge),te.removeListener("finish",ye),te.removeListener("drain",se),te.removeListener("error",pe),te.removeListener("unpipe",Te),ne.removeListener("end",re),ne.removeListener("end",be),ne.removeListener("data",he),ue=!0,!$.awaitDrain||te._writableState&&!te._writableState.needDrain||se())});var se=function(Te){return function(){var Se=Te._readableState;o("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&_(Te,"data")&&(Se.flowing=!0,X(Te))}}(ne);te.on("drain",se);var ue=!1;function he(Te){o("ondata");var Se=te.write(Te);o("dest.write",Se),Se===!1&&(($.pipesCount===1&&$.pipes===te||$.pipesCount>1&&ie($.pipes,te)!==-1)&&!ue&&(o("false write response, pause",$.awaitDrain),$.awaitDrain++),ne.pause())}function pe(Te){o("onerror",Te),be(),te.removeListener("error",pe),_(te,"error")===0&&g(te,Te)}function ge(){te.removeListener("finish",ye),be()}function ye(){o("onfinish"),te.removeListener("close",ge),be()}function be(){o("unpipe"),ne.unpipe(te)}return ne.on("data",he),function(Te,Se,Fe){if(typeof Te.prependListener=="function")return Te.prependListener(Se,Fe);Te._events&&Te._events[Se]?Array.isArray(Te._events[Se])?Te._events[Se].unshift(Fe):Te._events[Se]=[Fe,Te._events[Se]]:Te.on(Se,Fe)}(te,"error",pe),te.once("close",ge),te.once("finish",ye),te.emit("pipe",ne),$.flowing||(o("pipe resume"),ne.resume()),te},w.prototype.unpipe=function(te){var Q=this._readableState,ne={hasUnpiped:!1};if(Q.pipesCount===0)return this;if(Q.pipesCount===1)return te&&te!==Q.pipes||(te||(te=Q.pipes),Q.pipes=null,Q.pipesCount=0,Q.flowing=!1,te&&te.emit("unpipe",this,ne)),this;if(!te){var $=Q.pipes,J=Q.pipesCount;Q.pipes=null,Q.pipesCount=0,Q.flowing=!1;for(var re=0;re<J;re++)$[re].emit("unpipe",this,{hasUnpiped:!1});return this}var se=ie(Q.pipes,te);return se===-1||(Q.pipes.splice(se,1),Q.pipesCount-=1,Q.pipesCount===1&&(Q.pipes=Q.pipes[0]),te.emit("unpipe",this,ne)),this},w.prototype.on=function(te,Q){var ne=b.prototype.on.call(this,te,Q),$=this._readableState;return te==="data"?($.readableListening=this.listenerCount("readable")>0,$.flowing!==!1&&this.resume()):te==="readable"&&($.endEmitted||$.readableListening||($.readableListening=$.needReadable=!0,$.flowing=!1,$.emittedReadable=!1,o("on readable",$.length,$.reading),$.length?P(this):$.reading||k.nextTick(z,this))),ne},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function(te,Q){var ne=b.prototype.removeListener.call(this,te,Q);return te==="readable"&&k.nextTick(V,this),ne},w.prototype.removeAllListeners=function(te){var Q=b.prototype.removeAllListeners.apply(this,arguments);return te!=="readable"&&te!==void 0||k.nextTick(V,this),Q},w.prototype.resume=function(){var te=this._readableState;return te.flowing||(o("resume"),te.flowing=!te.readableListening,function(Q,ne){ne.resumeScheduled||(ne.resumeScheduled=!0,k.nextTick(j,Q,ne))}(this,te)),te.paused=!1,this},w.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},w.prototype.wrap=function(te){var Q=this,ne=this._readableState,$=!1;for(var J in te.on("end",function(){if(o("wrapped end"),ne.decoder&&!ne.ended){var se=ne.decoder.end();se&&se.length&&Q.push(se)}Q.push(null)}),te.on("data",function(se){o("wrapped data"),ne.decoder&&(se=ne.decoder.write(se)),ne.objectMode&&se==null||(ne.objectMode||se&&se.length)&&(Q.push(se)||($=!0,te.pause()))}),te)this[J]===void 0&&typeof te[J]=="function"&&(this[J]=function(se){return function(){return te[se].apply(te,arguments)}}(J));for(var re=0;re<y.length;re++)te.on(y[re],this.emit.bind(this,y[re]));return this._read=function(se){o("wrapped _read",se),$&&($=!1,te.resume())},this},typeof Symbol=="function"&&(w.prototype[Symbol.asyncIterator]=function(){return r===void 0&&(r=e(60328)),r(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),w._fromList=F,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(w.from=function(te,Q){return n===void 0&&(n=e(90555)),n(w,te,Q)})},22477:function(U,C,e){U.exports=t;var T=e(92784).i,k=T.ERR_METHOD_NOT_IMPLEMENTED,o=T.ERR_MULTIPLE_CALLBACK,_=T.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=T.ERR_TRANSFORM_WITH_LENGTH_0,f=e(15316);function s(n,a){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new o);l.writechunk=null,l.writecb=null,a!=null&&this.push(a),u(n);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);f.call(this,n),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",i)}function i(){var n=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(a,l){r(n,a,l)})}function r(n,a,l){if(a)return n.emit("error",a);if(l!=null&&n.push(l),n._writableState.length)throw new b;if(n._transformState.transforming)throw new _;return n.push(null)}e(6768)(t,f),t.prototype.push=function(n,a){return this._transformState.needTransform=!1,f.prototype.push.call(this,n,a)},t.prototype._transform=function(n,a,l){l(new k("_transform()"))},t.prototype._write=function(n,a,l){var u=this._transformState;if(u.writecb=l,u.writechunk=n,u.writeencoding=a,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(n){var a=this._transformState;a.writechunk===null||a.transforming?a.needTransform=!0:(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform))},t.prototype._destroy=function(n,a){f.prototype._destroy.call(this,n,function(l){a(l)})}},11288:function(U,C,e){var T,k=e(4168);function o(I){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(V,z,j){var X=V.entry;for(V.entry=null;X;){var F=X.callback;z.pendingcb--,F(void 0),X=X.next}z.corkedRequestsFree.next=V})(D,I)}}U.exports=w,w.WritableState=m;var _,b={deprecate:e(96656)},f=e(4776),s=e(33576).Buffer,t=e.g.Uint8Array||function(){},i=e(55324),r=e(24888).getHighWaterMark,n=e(92784).i,a=n.ERR_INVALID_ARG_TYPE,l=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,h=n.ERR_STREAM_CANNOT_PIPE,c=n.ERR_STREAM_DESTROYED,x=n.ERR_STREAM_NULL_VALUES,p=n.ERR_STREAM_WRITE_AFTER_END,v=n.ERR_UNKNOWN_ENCODING,g=i.errorOrDestroy;function y(){}function m(I,D,V){T=T||e(15316),I=I||{},typeof V!="boolean"&&(V=D instanceof T),this.objectMode=!!I.objectMode,V&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=r(this,I,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=I.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(X,F){var H=X._writableState,W=H.sync,ie=H.writecb;if(typeof ie!="function")throw new u;if(function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}(H),F)(function(Q,ne,$,J,re){--ne.pendingcb,$?(k.nextTick(re,J),k.nextTick(O,Q,ne),Q._writableState.errorEmitted=!0,g(Q,J)):(re(J),Q._writableState.errorEmitted=!0,g(Q,J),O(Q,ne))})(X,H,W,F,ie);else{var te=E(H)||X.destroyed;te||H.corked||H.bufferProcessing||!H.bufferedRequest||A(X,H),W?k.nextTick(S,X,H,te,ie):S(X,H,te,ie)}})(D,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function w(I){var D=this instanceof(T=T||e(15316));if(!D&&!_.call(w,this))return new w(I);this._writableState=new m(I,this,D),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),f.call(this)}function d(I,D,V,z,j,X,F){D.writelen=z,D.writecb=F,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new c("write")):V?I._writev(j,D.onwrite):I._write(j,X,D.onwrite),D.sync=!1}function S(I,D,V,z){V||function(j,X){X.length===0&&X.needDrain&&(X.needDrain=!1,j.emit("drain"))}(I,D),D.pendingcb--,z(),O(I,D)}function A(I,D){D.bufferProcessing=!0;var V=D.bufferedRequest;if(I._writev&&V&&V.next){var z=D.bufferedRequestCount,j=new Array(z),X=D.corkedRequestsFree;X.entry=V;for(var F=0,H=!0;V;)j[F]=V,V.isBuf||(H=!1),V=V.next,F+=1;j.allBuffers=H,d(I,D,!0,D.length,j,"",X.finish),D.pendingcb++,D.lastBufferedRequest=null,X.next?(D.corkedRequestsFree=X.next,X.next=null):D.corkedRequestsFree=new o(D),D.bufferedRequestCount=0}else{for(;V;){var W=V.chunk,ie=V.encoding,te=V.callback;if(d(I,D,!1,D.objectMode?1:W.length,W,ie,te),V=V.next,D.bufferedRequestCount--,D.writing)break}V===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=V,D.bufferProcessing=!1}function E(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function P(I,D){I._final(function(V){D.pendingcb--,V&&g(I,V),D.prefinished=!0,I.emit("prefinish"),O(I,D)})}function O(I,D){var V=E(D);if(V&&(function(j,X){X.prefinished||X.finalCalled||(typeof j._final!="function"||X.destroyed?(X.prefinished=!0,j.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,k.nextTick(P,j,X)))}(I,D),D.pendingcb===0&&(D.finished=!0,I.emit("finish"),D.autoDestroy))){var z=I._readableState;(!z||z.autoDestroy&&z.endEmitted)&&I.destroy()}return V}e(6768)(w,f),m.prototype.getBuffer=function(){for(var I=this.bufferedRequest,D=[];I;)D.push(I),I=I.next;return D},function(){try{Object.defineProperty(m.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(I){return!!_.call(this,I)||this===w&&I&&I._writableState instanceof m}})):_=function(I){return I instanceof this},w.prototype.pipe=function(){g(this,new h)},w.prototype.write=function(I,D,V){var z,j=this._writableState,X=!1,F=!j.objectMode&&(z=I,s.isBuffer(z)||z instanceof t);return F&&!s.isBuffer(I)&&(I=function(H){return s.from(H)}(I)),typeof D=="function"&&(V=D,D=null),F?D="buffer":D||(D=j.defaultEncoding),typeof V!="function"&&(V=y),j.ending?function(H,W){var ie=new p;g(H,ie),k.nextTick(W,ie)}(this,V):(F||function(H,W,ie,te){var Q;return ie===null?Q=new x:typeof ie=="string"||W.objectMode||(Q=new a("chunk",["string","Buffer"],ie)),!Q||(g(H,Q),k.nextTick(te,Q),!1)}(this,j,I,V))&&(j.pendingcb++,X=function(H,W,ie,te,Q,ne){if(!ie){var $=function(ue,he,pe){return ue.objectMode||ue.decodeStrings===!1||typeof he!="string"||(he=s.from(he,pe)),he}(W,te,Q);te!==$&&(ie=!0,Q="buffer",te=$)}var J=W.objectMode?1:te.length;W.length+=J;var re=W.length<W.highWaterMark;if(re||(W.needDrain=!0),W.writing||W.corked){var se=W.lastBufferedRequest;W.lastBufferedRequest={chunk:te,encoding:Q,isBuf:ie,callback:ne,next:null},se?se.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else d(H,W,!1,J,te,Q,ne);return re}(this,j,F,I,D,V)),X},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||A(this,I))},w.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new v(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(I,D,V){V(new l("_write()"))},w.prototype._writev=null,w.prototype.end=function(I,D,V){var z=this._writableState;return typeof I=="function"?(V=I,I=null,D=null):typeof D=="function"&&(V=D,D=null),I!=null&&this.write(I,D),z.corked&&(z.corked=1,this.uncork()),z.ending||function(j,X,F){X.ending=!0,O(j,X),F&&(X.finished?k.nextTick(F):j.once("finish",F)),X.ended=!0,j.writable=!1}(this,z,V),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),w.prototype.destroy=i.destroy,w.prototype._undestroy=i.undestroy,w.prototype._destroy=function(I,D){D(I)}},60328:function(U,C,e){var T,k=e(4168);function o(x,p,v){return p in x?Object.defineProperty(x,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[p]=v,x}var _=e(15932),b=Symbol("lastResolve"),f=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),r=Symbol("handlePromise"),n=Symbol("stream");function a(x,p){return{value:x,done:p}}function l(x){var p=x[b];if(p!==null){var v=x[n].read();v!==null&&(x[i]=null,x[b]=null,x[f]=null,p(a(v,!1)))}}function u(x){k.nextTick(l,x)}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((o(T={get stream(){return this[n]},next:function(){var x=this,p=this[s];if(p!==null)return Promise.reject(p);if(this[t])return Promise.resolve(a(void 0,!0));if(this[n].destroyed)return new Promise(function(m,w){k.nextTick(function(){x[s]?w(x[s]):m(a(void 0,!0))})});var v,g=this[i];if(g)v=new Promise(function(m,w){return function(d,S){m.then(function(){w[t]?d(a(void 0,!0)):w[r](d,S)},S)}}(g,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(a(y,!1));v=new Promise(this[r])}return this[i]=v,v}},Symbol.asyncIterator,function(){return this}),o(T,"return",function(){var x=this;return new Promise(function(p,v){x[n].destroy(null,function(g){g?v(g):p(a(void 0,!0))})})}),T),h);U.exports=function(x){var p,v=Object.create(c,(o(p={},n,{value:x,writable:!0}),o(p,b,{value:null,writable:!0}),o(p,f,{value:null,writable:!0}),o(p,s,{value:null,writable:!0}),o(p,t,{value:x._readableState.endEmitted,writable:!0}),o(p,r,{value:function(g,y){var m=v[n].read();m?(v[i]=null,v[b]=null,v[f]=null,g(a(m,!1))):(v[b]=g,v[f]=y)},writable:!0}),p));return v[i]=null,_(x,function(g){if(g&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=v[f];return y!==null&&(v[i]=null,v[b]=null,v[f]=null,y(g)),void(v[s]=g)}var m=v[b];m!==null&&(v[i]=null,v[b]=null,v[f]=null,m(a(void 0,!0))),v[t]=!0}),x.on("readable",u.bind(null,v)),v}},47264:function(U,C,e){function T(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),i.push.apply(i,r)}return i}function k(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function o(s,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}var _=e(33576).Buffer,b=e(21576).inspect,f=b&&b.custom||"inspect";U.exports=function(){function s(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var t,i;return t=s,i=[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,a=""+n.data;n=n.next;)a+=r+n.data;return a}},{key:"concat",value:function(r){if(this.length===0)return _.alloc(0);for(var n,a,l,u=_.allocUnsafe(r>>>0),h=this.head,c=0;h;)n=h.data,a=u,l=c,_.prototype.copy.call(n,a,l),c+=h.data.length,h=h.next;return u}},{key:"consume",value:function(r,n){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):a=r===this.head.data.length?this.shift():n?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,a=1,l=n.data;for(r-=l.length;n=n.next;){var u=n.data,h=r>u.length?u.length:r;if(h===u.length?l+=u:l+=u.slice(0,r),(r-=h)==0){h===u.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=u.slice(h));break}++a}return this.length-=a,l}},{key:"_getBuffer",value:function(r){var n=_.allocUnsafe(r),a=this.head,l=1;for(a.data.copy(n),r-=a.data.length;a=a.next;){var u=a.data,h=r>u.length?u.length:r;if(u.copy(n,n.length-r,0,h),(r-=h)==0){h===u.length?(++l,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=u.slice(h));break}++l}return this.length-=l,n}},{key:f,value:function(r,n){return b(this,function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?T(Object(u),!0).forEach(function(h){k(a,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):T(Object(u)).forEach(function(h){Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(u,h))})}return a}({},n,{depth:0,customInspect:!1}))}}],i&&o(t.prototype,i),s}()},55324:function(U,C,e){var T=e(4168);function k(b,f){_(b,f),o(b)}function o(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function _(b,f){b.emit("error",f)}U.exports={destroy:function(b,f){var s=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(f?f(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,T.nextTick(_,this,b)):T.nextTick(_,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(r){!f&&r?s._writableState?s._writableState.errorEmitted?T.nextTick(o,s):(s._writableState.errorEmitted=!0,T.nextTick(k,s,r)):T.nextTick(k,s,r):f?(T.nextTick(o,s),f(r)):T.nextTick(o,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,f){var s=b._readableState,t=b._writableState;s&&s.autoDestroy||t&&t.autoDestroy?b.destroy(f):b.emit("error",f)}}},15932:function(U,C,e){var T=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function k(){}U.exports=function o(_,b,f){if(typeof b=="function")return o(_,null,b);b||(b={}),f=function(x){var p=!1;return function(){if(!p){p=!0;for(var v=arguments.length,g=new Array(v),y=0;y<v;y++)g[y]=arguments[y];x.apply(this,g)}}}(f||k);var s=b.readable||b.readable!==!1&&_.readable,t=b.writable||b.writable!==!1&&_.writable,i=function(){_.writable||n()},r=_._writableState&&_._writableState.finished,n=function(){t=!1,r=!0,s||f.call(_)},a=_._readableState&&_._readableState.endEmitted,l=function(){s=!1,a=!0,t||f.call(_)},u=function(x){f.call(_,x)},h=function(){var x;return s&&!a?(_._readableState&&_._readableState.ended||(x=new T),f.call(_,x)):t&&!r?(_._writableState&&_._writableState.ended||(x=new T),f.call(_,x)):void 0},c=function(){_.req.on("finish",n)};return function(x){return x.setHeader&&typeof x.abort=="function"}(_)?(_.on("complete",n),_.on("abort",h),_.req?c():_.on("request",c)):t&&!_._writableState&&(_.on("end",i),_.on("close",i)),_.on("end",l),_.on("finish",n),b.error!==!1&&_.on("error",u),_.on("close",h),function(){_.removeListener("complete",n),_.removeListener("abort",h),_.removeListener("request",c),_.req&&_.req.removeListener("finish",n),_.removeListener("end",i),_.removeListener("close",i),_.removeListener("finish",n),_.removeListener("end",l),_.removeListener("error",u),_.removeListener("close",h)}}},90555:function(U){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(U,C,e){var T,k=e(92784).i,o=k.ERR_MISSING_ARGS,_=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function f(t){t()}function s(t,i){return t.pipe(i)}U.exports=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n,a=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new o("streams");var l=i.map(function(u,h){var c=h<i.length-1;return function(x,p,v,g){g=function(w){var d=!1;return function(){d||(d=!0,w.apply(void 0,arguments))}}(g);var y=!1;x.on("close",function(){y=!0}),T===void 0&&(T=e(15932)),T(x,{readable:p,writable:v},function(w){if(w)return g(w);y=!0,g()});var m=!1;return function(w){if(!y&&!m)return m=!0,function(d){return d.setHeader&&typeof d.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void g(w||new _("pipe"))}}(u,c,h>0,function(x){n||(n=x),x&&l.forEach(f),c||(l.forEach(f),a(n))})});return i.reduce(s)}},24888:function(U,C,e){var T=e(92784).i.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:function(k,o,_,b){var f=function(s,t,i){return s.highWaterMark!=null?s.highWaterMark:t?s[i]:null}(o,b,_);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new T(b?_:"highWaterMark",f);return Math.floor(f)}return k.objectMode?16:16384}}},4776:function(U,C,e){U.exports=e(61252).EventEmitter},86032:function(U,C,e){var T=e(30456).Buffer,k=T.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(a){var l;switch(this.encoding=function(u){var h=function(c){if(!c)return"utf8";for(var x;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(x)return;c=(""+c).toLowerCase(),x=!0}}(u);if(typeof h!="string"&&(T.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return h||u}(a),this.encoding){case"utf16le":this.text=f,this.end=s,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=t,this.end=i,l=3;break;default:return this.write=r,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=T.allocUnsafe(l)}function _(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function b(a){var l=this.lastTotal-this.lastNeed,u=function(h,c,x){if((192&c[0])!=128)return h.lastNeed=0,"";if(h.lastNeed>1&&c.length>1){if((192&c[1])!=128)return h.lastNeed=1,"";if(h.lastNeed>2&&c.length>2&&(192&c[2])!=128)return h.lastNeed=2,""}}(this,a);return u!==void 0?u:this.lastNeed<=a.length?(a.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,l,0,a.length),void(this.lastNeed-=a.length))}function f(a,l){if((a.length-l)%2==0){var u=a.toString("utf16le",l);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",l,a.length-1)}function s(a){var l=a&&a.length?this.write(a):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function t(a,l){var u=(a.length-l)%3;return u===0?a.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",l,a.length-u))}function i(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function r(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}C.o=o,o.prototype.write=function(a){if(a.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(a))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<a.length?l?l+this.text(a,u):this.text(a,u):l||""},o.prototype.end=function(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+"":l},o.prototype.text=function(a,l){var u=function(c,x,p){var v=x.length-1;if(v<p)return 0;var g=_(x[v]);return g>=0?(g>0&&(c.lastNeed=g-1),g):--v<p||g===-2?0:(g=_(x[v]))>=0?(g>0&&(c.lastNeed=g-2),g):--v<p||g===-2?0:(g=_(x[v]))>=0?(g>0&&(g===2?g=0:c.lastNeed=g-3),g):0}(this,a,l);if(!this.lastNeed)return a.toString("utf8",l);this.lastTotal=u;var h=a.length-(u-this.lastNeed);return a.copy(this.lastChar,0,h),a.toString("utf8",l,h)},o.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},55619:function(U,C,e){var T=e(45408),k=e(86844)("stream-parser");U.exports=function(c){var x=c&&typeof c._transform=="function",p=c&&typeof c._write=="function";if(!x&&!p)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,x&&(c._passthrough=r),x?c._transform=a:c._write=n};var o=-1,_=0,b=1,f=2;function s(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=o,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,x){T(!this._parserCallback,'there is already a "callback" set!'),T(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=_}function i(c,x){T(!this._parserCallback,'there is already a "callback" set!'),T(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=b}function r(c,x){T(!this._parserCallback,'There is already a "callback" set!'),T(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=f}function n(c,x,p){this._parserInit||s(this),k("write(%o bytes)",c.length),typeof x=="function"&&(p=x),u(this,c,null,p)}function a(c,x,p){this._parserInit||s(this),k("transform(%o bytes)",c.length),typeof x!="function"&&(x=this._parserOutput),u(this,c,x,p)}function l(c,x,p,v){if(c._parserBytesLeft-=x.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===_?(c._parserBuffers.push(x),c._parserBuffered+=x.length):c._parserState===f&&p(x),c._parserBytesLeft!==0)return v;var g=c._parserCallback;if(g&&c._parserState===_&&c._parserBuffers.length>1&&(x=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==_&&(x=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=o,c._parserBuffers.splice(0),g){var y=[];x&&y.push(x),p&&y.push(p);var m=g.length>y.length;m&&y.push(h(v));var w=g.apply(c,y);if(!m||v===w)return v}}var u=h(function c(x,p,v,g){return x._parserBytesLeft<=0?g(new Error("got data but not currently parsing anything")):p.length<=x._parserBytesLeft?function(){return l(x,p,v,g)}:function(){var y=p.slice(0,x._parserBytesLeft);return l(x,y,v,function(m){return m?g(m):p.length>y.length?function(){return c(x,p.slice(y.length),v,g)}:void 0})}});function h(c){return function(){for(var x=c.apply(this,arguments);typeof x=="function";)x=x();return x}}},86844:function(U,C,e){var T=e(4168);function k(){var o;try{o=C.storage.debug}catch{}return!o&&T!==void 0&&"env"in T&&(o=T.env.DEBUG),o}(C=U.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},C.formatArgs=function(o){var _=this.useColors;if(o[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+o[0]+(_?"%c ":" ")+"+"+C.humanize(this.diff),_){var b="color: "+this.color;o.splice(1,0,b,"color: inherit");var f=0,s=0;o[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(f++,t==="%c"&&(s=f))}),o.splice(s,0,b)}},C.save=function(o){try{o==null?C.storage.removeItem("debug"):C.storage.debug=o}catch{}},C.load=k,C.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},C.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),C.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],C.formatters.j=function(o){try{return JSON.stringify(o)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},C.enable(k())},89416:function(U,C,e){var T;function k(o){function _(){if(_.enabled){var b=_,f=+new Date,s=f-(T||f);b.diff=s,b.prev=T,b.curr=f,T=f;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=C.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(n,a){if(n==="%%")return n;r++;var l=C.formatters[a];if(typeof l=="function"){var u=t[r];n=l.call(b,u),t.splice(r,1),r--}return n}),C.formatArgs.call(b,t),(_.log||C.log||console.log.bind(console)).apply(b,t)}}return _.namespace=o,_.enabled=C.enabled(o),_.useColors=C.useColors(),_.color=function(b){var f,s=0;for(f in b)s=(s<<5)-s+b.charCodeAt(f),s|=0;return C.colors[Math.abs(s)%C.colors.length]}(o),typeof C.init=="function"&&C.init(_),_}(C=U.exports=k.debug=k.default=k).coerce=function(o){return o instanceof Error?o.stack||o.message:o},C.disable=function(){C.enable("")},C.enable=function(o){C.save(o),C.names=[],C.skips=[];for(var _=(typeof o=="string"?o:"").split(/[\s,]+/),b=_.length,f=0;f<b;f++)_[f]&&((o=_[f].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+o.substr(1)+"$")):C.names.push(new RegExp("^"+o+"$")))},C.enabled=function(o){var _,b;for(_=0,b=C.skips.length;_<b;_++)if(C.skips[_].test(o))return!1;for(_=0,b=C.names.length;_<b;_++)if(C.names[_].test(o))return!0;return!1},C.humanize=e(93744),C.names=[],C.skips=[],C.formatters={}},93744:function(U){var C=1e3,e=60*C,T=60*e,k=24*T;function o(_,b,f){if(!(_<b))return _<1.5*b?Math.floor(_/b)+" "+f:Math.ceil(_/b)+" "+f+"s"}U.exports=function(_,b){b=b||{};var f,s=typeof _;if(s==="string"&&_.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*k;case"hours":case"hour":case"hrs":case"hr":case"h":return r*T;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*C;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(_);if(s==="number"&&isNaN(_)===!1)return b.long?o(f=_,k,"day")||o(f,T,"hour")||o(f,e,"minute")||o(f,C,"second")||f+" ms":function(t){return t>=k?Math.round(t/k)+"d":t>=T?Math.round(t/T)+"h":t>=e?Math.round(t/e)+"m":t>=C?Math.round(t/C)+"s":t+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},39956:function(U,C,e){var T=e(32868);U.exports=function(k,o,_){if(k==null)throw Error("First argument should be a string");if(o==null)throw Error("Separator should be a string or a RegExp");_?(typeof _=="string"||Array.isArray(_))&&(_={ignore:_}):_={},_.escape==null&&(_.escape=!0),_.ignore==null?_.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof _.ignore=="string"&&(_.ignore=[_.ignore]),_.ignore=_.ignore.map(function(n){return n.length===1&&(n+=n),n}));var b=T.parse(k,{flat:!0,brackets:_.ignore}),f=b[0].split(o);if(_.escape){for(var s=[],t=0;t<f.length;t++){var i=f[t],r=f[t+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(s.push(i+o+r),t++):s.push(i)}f=s}for(t=0;t<f.length;t++)b[0]=f[t],f[t]=T.stringify(b,{flat:!0});return f}},78484:function(U){U.exports=function(C){for(var e=C.length,T=new Array(e),k=new Array(e),o=new Array(e),_=new Array(e),b=new Array(e),f=new Array(e),s=0;s<e;++s)T[s]=-1,k[s]=0,o[s]=!1,_[s]=0,b[s]=-1,f[s]=[];var t,i=0,r=[],n=[];function a(h){var c=[h],x=[h];for(T[h]=k[h]=i,o[h]=!0,i+=1;x.length>0;){h=x[x.length-1];var p=C[h];if(_[h]<p.length){for(var v=_[h];v<p.length;++v){var g=p[v];if(T[g]<0){T[g]=k[g]=i,o[g]=!0,i+=1,c.push(g),x.push(g);break}o[g]&&(k[h]=0|Math.min(k[h],k[g])),b[g]>=0&&f[h].push(b[g])}_[h]=v}else{if(k[h]===T[h]){var y=[],m=[],w=0;for(v=c.length-1;v>=0;--v){var d=c[v];if(o[d]=!1,y.push(d),m.push(f[d]),w+=f[d].length,b[d]=r.length,d===h){c.length=v;break}}r.push(y);var S=new Array(w);for(v=0;v<m.length;v++)for(var A=0;A<m[v].length;A++)S[--w]=m[v][A];n.push(S)}x.pop()}}}for(s=0;s<e;++s)T[s]<0&&a(s);for(s=0;s<n.length;s++){var l=n[s];if(l.length!==0){l.sort(function(h,c){return h-c}),t=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&t.push(l[u]);n[s]=t}}return{components:r,adjacencyList:n}}},92848:function(U,C,e){e.r(C);var T=2*Math.PI,k=function(b,f,s,t,i,r,n){var a=b.x,l=b.y;return{x:t*(a*=f)-i*(l*=s)+r,y:i*a+t*l+n}},o=function(b,f){var s=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),t=Math.cos(b),i=Math.sin(b),r=Math.cos(b+f),n=Math.sin(b+f);return[{x:t-i*s,y:i+t*s},{x:r+n*s,y:n-r*s},{x:r,y:n}]},_=function(b,f,s,t){var i=b*s+f*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-f*s<0?-1:1)*Math.acos(i)};C.default=function(b){var f=b.px,s=b.py,t=b.cx,i=b.cy,r=b.rx,n=b.ry,a=b.xAxisRotation,l=a===void 0?0:a,u=b.largeArcFlag,h=u===void 0?0:u,c=b.sweepFlag,x=c===void 0?0:c,p=[];if(r===0||n===0)return[];var v=Math.sin(l*T/360),g=Math.cos(l*T/360),y=g*(f-t)/2+v*(s-i)/2,m=-v*(f-t)/2+g*(s-i)/2;if(y===0&&m===0)return[];r=Math.abs(r),n=Math.abs(n);var w=Math.pow(y,2)/Math.pow(r,2)+Math.pow(m,2)/Math.pow(n,2);w>1&&(r*=Math.sqrt(w),n*=Math.sqrt(w));var d=function(z,j,X,F,H,W,ie,te,Q,ne,$,J){var re=Math.pow(H,2),se=Math.pow(W,2),ue=Math.pow($,2),he=Math.pow(J,2),pe=re*se-re*he-se*ue;pe<0&&(pe=0),pe/=re*he+se*ue;var ge=(pe=Math.sqrt(pe)*(ie===te?-1:1))*H/W*J,ye=pe*-W/H*$,be=ne*ge-Q*ye+(z+X)/2,Te=Q*ge+ne*ye+(j+F)/2,Se=($-ge)/H,Fe=(J-ye)/W,xe=(-$-ge)/H,le=(-J-ye)/W,oe=_(1,0,Se,Fe),de=_(Se,Fe,xe,le);return te===0&&de>0&&(de-=T),te===1&&de<0&&(de+=T),[be,Te,oe,de]}(f,s,t,i,r,n,h,x,v,g,y,m),S=function(z,j){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(X,F){var H=[],W=!0,ie=!1,te=void 0;try{for(var Q,ne=X[Symbol.iterator]();!(W=(Q=ne.next()).done)&&(H.push(Q.value),!F||H.length!==F);W=!0);}catch($){ie=!0,te=$}finally{try{!W&&ne.return&&ne.return()}finally{if(ie)throw te}}return H}(z,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(d,4),A=S[0],E=S[1],P=S[2],O=S[3],I=Math.abs(O)/(T/4);Math.abs(1-I)<1e-7&&(I=1);var D=Math.max(Math.ceil(I),1);O/=D;for(var V=0;V<D;V++)p.push(o(P,O)),P+=O;return p.map(function(z){var j=k(z[0],r,n,g,v,A,E),X=j.x,F=j.y,H=k(z[1],r,n,g,v,A,E),W=H.x,ie=H.y,te=k(z[2],r,n,g,v,A,E);return{x1:X,y1:F,x2:W,y2:ie,x:te.x,y:te.y}})}},74840:function(U,C,e){var T=e(21984),k=e(49972),o=e(41976),_=e(53520),b=e(45408);U.exports=function(f){if(Array.isArray(f)&&f.length===1&&typeof f[0]=="string"&&(f=f[0]),typeof f=="string"&&(b(_(f),"String is not an SVG path."),f=T(f)),b(Array.isArray(f),"Argument should be a string or an array of path segments."),f=k(f),!(f=o(f)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,i=f.length;t<i;t++)for(var r=f[t].slice(1),n=0;n<r.length;n+=2)r[n+0]<s[0]&&(s[0]=r[n+0]),r[n+1]<s[1]&&(s[1]=r[n+1]),r[n+0]>s[2]&&(s[2]=r[n+0]),r[n+1]>s[3]&&(s[3]=r[n+1]);return s}},41976:function(U,C,e){U.exports=function(_){for(var b,f=[],s=0,t=0,i=0,r=0,n=null,a=null,l=0,u=0,h=0,c=_.length;h<c;h++){var x=_[h],p=x[0];switch(p){case"M":i=x[1],r=x[2];break;case"A":var v=T({px:l,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!v.length)continue;for(var g,y=0;y<v.length;y++)x=["C",(g=v[y]).x1,g.y1,g.x2,g.y2,g.x,g.y],y<v.length-1&&f.push(x);break;case"S":var m=l,w=u;b!="C"&&b!="S"||(m+=m-s,w+=w-t),x=["C",m,w,x[1],x[2],x[3],x[4]];break;case"T":b=="Q"||b=="T"?(n=2*l-n,a=2*u-a):(n=l,a=u),x=o(l,u,n,a,x[1],x[2]);break;case"Q":n=x[1],a=x[2],x=o(l,u,x[1],x[2],x[3],x[4]);break;case"L":x=k(l,u,x[1],x[2]);break;case"H":x=k(l,u,x[1],u);break;case"V":x=k(l,u,l,x[1]);break;case"Z":x=k(l,u,i,r)}b=p,l=x[x.length-2],u=x[x.length-1],x.length>4?(s=x[x.length-4],t=x[x.length-3]):(s=l,t=u),f.push(x)}return f};var T=e(92848);function k(_,b,f,s){return["C",_,b,f,s,f,s]}function o(_,b,f,s,t,i){return["C",_/3+.6666666666666666*f,b/3+.6666666666666666*s,t/3+.6666666666666666*f,i/3+.6666666666666666*s,t,i]}},20472:function(U,C,e){var T,k=e(74840),o=e(21984),_=e(22235),b=e(53520),f=e(29620),s=document.createElement("canvas"),t=s.getContext("2d");U.exports=function(i,r){if(!b(i))throw Error("Argument should be valid svg path string");var n,a;r||(r={}),r.shape?(n=r.shape[0],a=r.shape[1]):(n=s.width=r.w||r.width||200,a=s.height=r.h||r.height||200);var l=Math.min(n,a),u=r.stroke||0,h=r.viewbox||r.viewBox||k(i),c=[n/(h[2]-h[0]),a/(h[3]-h[1])],x=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,a),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*n,.5*a),t.scale(x,x),function(){if(T!=null)return T;var g=document.createElement("canvas").getContext("2d");if(g.canvas.width=g.canvas.height=1,!window.Path2D)return T=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");g.fillStyle="black",g.fill(y);var m=g.getImageData(0,0,1,1);return T=m&&m.data&&m.data[3]===255}()){var p=new Path2D(i);t.fill(p),u&&t.stroke(p)}else{var v=o(i);_(t,v),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),f(t,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:.5*l})}},49760:function(U,C,e){var T;(function(k){var o=/^\s+/,_=/\s+$/,b=0,f=k.round,s=k.min,t=k.max,i=k.random;function r($,J){if(J=J||{},($=$||"")instanceof r)return $;if(!(this instanceof r))return new r($,J);var re=function(se){var ue,he,pe,ge={r:0,g:0,b:0},ye=1,be=null,Te=null,Se=null,Fe=!1,xe=!1;return typeof se=="string"&&(se=function(le){le=le.replace(o,"").replace(_,"").toLowerCase();var oe,de=!1;if(P[le])le=P[le],de=!0;else if(le=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(oe=Q.rgb.exec(le))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=Q.rgba.exec(le))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=Q.hsl.exec(le))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=Q.hsla.exec(le))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=Q.hsv.exec(le))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=Q.hsva.exec(le))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=Q.hex8.exec(le))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),a:H(oe[4]),format:de?"name":"hex8"}:(oe=Q.hex6.exec(le))?{r:z(oe[1]),g:z(oe[2]),b:z(oe[3]),format:de?"name":"hex"}:(oe=Q.hex4.exec(le))?{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),a:H(oe[4]+""+oe[4]),format:de?"name":"hex8"}:!!(oe=Q.hex3.exec(le))&&{r:z(oe[1]+""+oe[1]),g:z(oe[2]+""+oe[2]),b:z(oe[3]+""+oe[3]),format:de?"name":"hex"}}(se)),typeof se=="object"&&(ne(se.r)&&ne(se.g)&&ne(se.b)?(ue=se.r,he=se.g,pe=se.b,ge={r:255*D(ue,255),g:255*D(he,255),b:255*D(pe,255)},Fe=!0,xe=String(se.r).substr(-1)==="%"?"prgb":"rgb"):ne(se.h)&&ne(se.s)&&ne(se.v)?(be=X(se.s),Te=X(se.v),ge=function(le,oe,de){le=6*D(le,360),oe=D(oe,100),de=D(de,100);var Ce=k.floor(le),_e=le-Ce,Ae=de*(1-oe),Le=de*(1-_e*oe),ze=de*(1-(1-_e)*oe),Re=Ce%6;return{r:255*[de,Le,Ae,Ae,ze,de][Re],g:255*[ze,de,de,Le,Ae,Ae][Re],b:255*[Ae,Ae,ze,de,de,Le][Re]}}(se.h,be,Te),Fe=!0,xe="hsv"):ne(se.h)&&ne(se.s)&&ne(se.l)&&(be=X(se.s),Se=X(se.l),ge=function(le,oe,de){var Ce,_e,Ae;function Le(ve,ke,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?ve+6*(ke-ve)*Ee:Ee<.5?ke:Ee<2/3?ve+(ke-ve)*(2/3-Ee)*6:ve}if(le=D(le,360),oe=D(oe,100),de=D(de,100),oe===0)Ce=_e=Ae=de;else{var ze=de<.5?de*(1+oe):de+oe-de*oe,Re=2*de-ze;Ce=Le(Re,ze,le+1/3),_e=Le(Re,ze,le),Ae=Le(Re,ze,le-1/3)}return{r:255*Ce,g:255*_e,b:255*Ae}}(se.h,be,Se),Fe=!0,xe="hsl"),se.hasOwnProperty("a")&&(ye=se.a)),ye=I(ye),{ok:Fe,format:se.format||xe,r:s(255,t(ge.r,0)),g:s(255,t(ge.g,0)),b:s(255,t(ge.b,0)),a:ye}}($);this._originalInput=$,this._r=re.r,this._g=re.g,this._b=re.b,this._a=re.a,this._roundA=f(100*this._a)/100,this._format=J.format||re.format,this._gradientType=J.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=re.ok,this._tc_id=b++}function n($,J,re){$=D($,255),J=D(J,255),re=D(re,255);var se,ue,he=t($,J,re),pe=s($,J,re),ge=(he+pe)/2;if(he==pe)se=ue=0;else{var ye=he-pe;switch(ue=ge>.5?ye/(2-he-pe):ye/(he+pe),he){case $:se=(J-re)/ye+(J<re?6:0);break;case J:se=(re-$)/ye+2;break;case re:se=($-J)/ye+4}se/=6}return{h:se,s:ue,l:ge}}function a($,J,re){$=D($,255),J=D(J,255),re=D(re,255);var se,ue,he=t($,J,re),pe=s($,J,re),ge=he,ye=he-pe;if(ue=he===0?0:ye/he,he==pe)se=0;else{switch(he){case $:se=(J-re)/ye+(J<re?6:0);break;case J:se=(re-$)/ye+2;break;case re:se=($-J)/ye+4}se/=6}return{h:se,s:ue,v:ge}}function l($,J,re,se){var ue=[j(f($).toString(16)),j(f(J).toString(16)),j(f(re).toString(16))];return se&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function u($,J,re,se){return[j(F(se)),j(f($).toString(16)),j(f(J).toString(16)),j(f(re).toString(16))].join("")}function h($,J){J=J===0?0:J||10;var re=r($).toHsl();return re.s-=J/100,re.s=V(re.s),r(re)}function c($,J){J=J===0?0:J||10;var re=r($).toHsl();return re.s+=J/100,re.s=V(re.s),r(re)}function x($){return r($).desaturate(100)}function p($,J){J=J===0?0:J||10;var re=r($).toHsl();return re.l+=J/100,re.l=V(re.l),r(re)}function v($,J){J=J===0?0:J||10;var re=r($).toRgb();return re.r=t(0,s(255,re.r-f(-J/100*255))),re.g=t(0,s(255,re.g-f(-J/100*255))),re.b=t(0,s(255,re.b-f(-J/100*255))),r(re)}function g($,J){J=J===0?0:J||10;var re=r($).toHsl();return re.l-=J/100,re.l=V(re.l),r(re)}function y($,J){var re=r($).toHsl(),se=(re.h+J)%360;return re.h=se<0?360+se:se,r(re)}function m($){var J=r($).toHsl();return J.h=(J.h+180)%360,r(J)}function w($){var J=r($).toHsl(),re=J.h;return[r($),r({h:(re+120)%360,s:J.s,l:J.l}),r({h:(re+240)%360,s:J.s,l:J.l})]}function d($){var J=r($).toHsl(),re=J.h;return[r($),r({h:(re+90)%360,s:J.s,l:J.l}),r({h:(re+180)%360,s:J.s,l:J.l}),r({h:(re+270)%360,s:J.s,l:J.l})]}function S($){var J=r($).toHsl(),re=J.h;return[r($),r({h:(re+72)%360,s:J.s,l:J.l}),r({h:(re+216)%360,s:J.s,l:J.l})]}function A($,J,re){J=J||6,re=re||30;var se=r($).toHsl(),ue=360/re,he=[r($)];for(se.h=(se.h-(ue*J>>1)+720)%360;--J;)se.h=(se.h+ue)%360,he.push(r(se));return he}function E($,J){J=J||6;for(var re=r($).toHsv(),se=re.h,ue=re.s,he=re.v,pe=[],ge=1/J;J--;)pe.push(r({h:se,s:ue,v:he})),he=(he+ge)%1;return pe}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return(299*$.r+587*$.g+114*$.b)/1e3},getLuminance:function(){var $,J,re,se=this.toRgb();return $=se.r/255,J=se.g/255,re=se.b/255,.2126*($<=.03928?$/12.92:k.pow(($+.055)/1.055,2.4))+.7152*(J<=.03928?J/12.92:k.pow((J+.055)/1.055,2.4))+.0722*(re<=.03928?re/12.92:k.pow((re+.055)/1.055,2.4))},setAlpha:function($){return this._a=I($),this._roundA=f(100*this._a)/100,this},toHsv:function(){var $=a(this._r,this._g,this._b);return{h:360*$.h,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=a(this._r,this._g,this._b),J=f(360*$.h),re=f(100*$.s),se=f(100*$.v);return this._a==1?"hsv("+J+", "+re+"%, "+se+"%)":"hsva("+J+", "+re+"%, "+se+"%, "+this._roundA+")"},toHsl:function(){var $=n(this._r,this._g,this._b);return{h:360*$.h,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=n(this._r,this._g,this._b),J=f(360*$.h),re=f(100*$.s),se=f(100*$.l);return this._a==1?"hsl("+J+", "+re+"%, "+se+"%)":"hsla("+J+", "+re+"%, "+se+"%, "+this._roundA+")"},toHex:function($){return l(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return function(J,re,se,ue,he){var pe=[j(f(J).toString(16)),j(f(re).toString(16)),j(f(se).toString(16)),j(F(ue))];return he&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*D(this._r,255))+"%",g:f(100*D(this._g,255))+"%",b:f(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(100*D(this._r,255))+"%, "+f(100*D(this._g,255))+"%, "+f(100*D(this._b,255))+"%)":"rgba("+f(100*D(this._r,255))+"%, "+f(100*D(this._g,255))+"%, "+f(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(O[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function($){var J="#"+u(this._r,this._g,this._b,this._a),re=J,se=this._gradientType?"GradientType = 1, ":"";if($){var ue=r($);re="#"+u(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+se+"startColorstr="+J+",endColorstr="+re+")"},toString:function($){var J=!!$;$=$||this._format;var re=!1,se=this._a<1&&this._a>=0;return J||!se||$!=="hex"&&$!=="hex6"&&$!=="hex3"&&$!=="hex4"&&$!=="hex8"&&$!=="name"?($==="rgb"&&(re=this.toRgbString()),$==="prgb"&&(re=this.toPercentageRgbString()),$!=="hex"&&$!=="hex6"||(re=this.toHexString()),$==="hex3"&&(re=this.toHexString(!0)),$==="hex4"&&(re=this.toHex8String(!0)),$==="hex8"&&(re=this.toHex8String()),$==="name"&&(re=this.toName()),$==="hsl"&&(re=this.toHslString()),$==="hsv"&&(re=this.toHsvString()),re||this.toHexString()):$==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function($,J){var re=$.apply(null,[this].concat([].slice.call(J)));return this._r=re._r,this._g=re._g,this._b=re._b,this.setAlpha(re._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function($,J){return $.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},r.fromRatio=function($,J){if(typeof $=="object"){var re={};for(var se in $)$.hasOwnProperty(se)&&(re[se]=se==="a"?$[se]:X($[se]));$=re}return r($,J)},r.equals=function($,J){return!(!$||!J)&&r($).toRgbString()==r(J).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function($,J,re){re=re===0?0:re||50;var se=r($).toRgb(),ue=r(J).toRgb(),he=re/100;return r({r:(ue.r-se.r)*he+se.r,g:(ue.g-se.g)*he+se.g,b:(ue.b-se.b)*he+se.b,a:(ue.a-se.a)*he+se.a})},r.readability=function($,J){var re=r($),se=r(J);return(k.max(re.getLuminance(),se.getLuminance())+.05)/(k.min(re.getLuminance(),se.getLuminance())+.05)},r.isReadable=function($,J,re){var se,ue,he,pe,ge,ye=r.readability($,J);switch(ue=!1,(he=re,(pe=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(ge=(he.size||"small").toLowerCase())!=="small"&&ge!=="large"&&(ge="small"),se={level:pe,size:ge}).level+se.size){case"AAsmall":case"AAAlarge":ue=ye>=4.5;break;case"AAlarge":ue=ye>=3;break;case"AAAsmall":ue=ye>=7}return ue},r.mostReadable=function($,J,re){var se,ue,he,pe,ge=null,ye=0;ue=(re=re||{}).includeFallbackColors,he=re.level,pe=re.size;for(var be=0;be<J.length;be++)(se=r.readability($,J[be]))>ye&&(ye=se,ge=r(J[be]));return r.isReadable($,ge,{level:he,size:pe})||!ue?ge:(re.includeFallbackColors=!1,r.mostReadable($,["#fff","#000"],re))};var P=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=r.hexNames=function($){var J={};for(var re in $)$.hasOwnProperty(re)&&(J[$[re]]=re);return J}(P);function I($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function D($,J){(function(se){return typeof se=="string"&&se.indexOf(".")!=-1&&parseFloat(se)===1})($)&&($="100%");var re=function(se){return typeof se=="string"&&se.indexOf("%")!=-1}($);return $=s(J,t(0,parseFloat($))),re&&($=parseInt($*J,10)/100),k.abs($-J)<1e-6?1:$%J/parseFloat(J)}function V($){return s(1,t(0,$))}function z($){return parseInt($,16)}function j($){return $.length==1?"0"+$:""+$}function X($){return $<=1&&($=100*$+"%"),$}function F($){return k.round(255*parseFloat($)).toString(16)}function H($){return z($)/255}var W,ie,te,Q=(ie="[\\s|\\(]+("+(W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",te="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+ie),rgba:new RegExp("rgba"+te),hsl:new RegExp("hsl"+ie),hsla:new RegExp("hsla"+te),hsv:new RegExp("hsv"+ie),hsva:new RegExp("hsva"+te),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ne($){return!!Q.CSS_UNIT.exec($)}U.exports?U.exports=r:(T=(function(){return r}).call(C,e,C,U))===void 0||(U.exports=T)})(Math)},37816:function(U){U.exports=e,U.exports.float32=U.exports.float=e,U.exports.fract32=U.exports.fract=function(T,k){if(T.length){if(T instanceof Float32Array)return new Float32Array(T.length);k instanceof Float32Array||(k=e(T));for(var o=0,_=k.length;o<_;o++)k[o]=T[o]-k[o];return k}return e(T-e(T))};var C=new Float32Array(1);function e(T){return T.length?T instanceof Float32Array?T:new Float32Array(T):(C[0]=T,C[0])}},23464:function(U,C,e){var T=e(65819);U.exports=_;var k=96;function o(b,f){var s=T(getComputedStyle(b).getPropertyValue(f));return s[0]*_(s[1],b)}function _(b,f){switch(f=f||document.body,b=(b||"px").trim().toLowerCase(),f!==window&&f!==document||(f=document.body),b){case"%":return f.clientHeight/100;case"ch":case"ex":return function(s,t){var i=document.createElement("div");i.style["font-size"]="128"+s,t.appendChild(i);var r=o(i,"font-size")/128;return t.removeChild(i),r}(b,f);case"em":return o(f,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},55712:function(U,C,e){function T(_){return _}function k(_,b){return typeof b=="string"&&(b=_.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(f){return o(_,f)})}:o(_,b)}function o(_,b){var f=b.id,s=b.bbox,t=b.properties==null?{}:b.properties,i=function(r,n){var a=function(v){if(v==null)return T;var g,y,m=v.scale[0],w=v.scale[1],d=v.translate[0],S=v.translate[1];return function(A,E){E||(g=y=0);var P=2,O=A.length,I=new Array(O);for(I[0]=(g+=A[0])*m+d,I[1]=(y+=A[1])*w+S;P<O;)I[P]=A[P],++P;return I}}(r.transform),l=r.arcs;function u(v,g){g.length&&g.pop();for(var y=l[v<0?~v:v],m=0,w=y.length;m<w;++m)g.push(a(y[m],m));v<0&&function(d,S){for(var A,E=d.length,P=E-S;P<--E;)A=d[P],d[P++]=d[E],d[E]=A}(g,w)}function h(v){return a(v)}function c(v){for(var g=[],y=0,m=v.length;y<m;++y)u(v[y],g);return g.length<2&&g.push(g[0]),g}function x(v){for(var g=c(v);g.length<4;)g.push(g[0]);return g}function p(v){return v.map(x)}return function v(g){var y,m=g.type;switch(m){case"GeometryCollection":return{type:m,geometries:g.geometries.map(v)};case"Point":y=h(g.coordinates);break;case"MultiPoint":y=g.coordinates.map(h);break;case"LineString":y=c(g.arcs);break;case"MultiLineString":y=g.arcs.map(c);break;case"Polygon":y=p(g.arcs);break;case"MultiPolygon":y=g.arcs.map(p);break;default:return null}return{type:m,coordinates:y}}(n)}(_,b);return f==null&&s==null?{type:"Feature",properties:t,geometry:i}:s==null?{type:"Feature",id:f,properties:t,geometry:i}:{type:"Feature",id:f,bbox:s,properties:t,geometry:i}}e.d(C,{NO:function(){return k}})},73384:function(U,C,e){var T=e(54612);U.exports=function(k){if(typeof k!="function"||!hasOwnProperty.call(k,"length"))return!1;try{if(typeof k.length!="number"||typeof k.call!="function"||typeof k.apply!="function")return!1}catch{return!1}return!T(k)}},57980:function(U,C,e){var T=e(81680),k=e(7328),o=e(33940),_=e(18856),b=function(f,s){return f.replace("%v",_(s))};U.exports=function(f,s,t){if(!k(t))throw new TypeError(b(s,f));if(!T(f)){if("default"in t)return t.default;if(t.isOptional)return null}var i=o(t.errorMessage);throw T(i)||(i=s),new TypeError(b(i,f))}},32336:function(U){U.exports=function(C){try{return C.toString()}catch{try{return String(C)}catch{return null}}}},18856:function(U,C,e){var T=e(32336),k=/[\n\r\u2028\u2029]/g;U.exports=function(o){var _=T(o);return _===null?"<Non-coercible to string value>":(_.length>100&&(_=_.slice(0,99)+""),_=_.replace(k,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(U,C,e){var T=e(81680),k={object:!0,function:!0,undefined:!0};U.exports=function(o){return!!T(o)&&hasOwnProperty.call(k,typeof o)}},87396:function(U,C,e){var T=e(57980),k=e(85488);U.exports=function(o){return k(o)?o:T(o,"%v is not a plain function",arguments[1])}},85488:function(U,C,e){var T=e(73384),k=/^\s*class[\s{/}]/,o=Function.prototype.toString;U.exports=function(_){return!!T(_)&&!k.test(o.call(_))}},54612:function(U,C,e){var T=e(7328);U.exports=function(k){if(!T(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},33940:function(U,C,e){var T=e(81680),k=e(7328),o=Object.prototype.toString;U.exports=function(_){if(!T(_))return null;if(k(_)){var b=_.toString;if(typeof b!="function"||b===o)return null}try{return""+_}catch{return null}}},18496:function(U,C,e){var T=e(57980),k=e(81680);U.exports=function(o){return k(o)?o:T(o,"Cannot use %v",arguments[1])}},81680:function(U){U.exports=function(C){return C!=null}},14144:function(U,C,e){var T=e(308),k=e(10352),o=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var _=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=k([32,0])),s.BIGUINT64||(s.BIGUINT64=k([32,0])),s.BIGINT64||(s.BIGINT64=k([32,0])),s.BUFFER||(s.BUFFER=k([32,0]));var t=s.DATA,i=s.BUFFER;function r(S){if(S){var A=S.length||S.byteLength,E=T.log2(A);t[E].push(S)}}function n(S){S=T.nextPow2(S);var A=T.log2(S),E=t[A];return E.length>0?E.pop():new ArrayBuffer(S)}function a(S){return new Uint8Array(n(S),0,S)}function l(S){return new Uint16Array(n(2*S),0,S)}function u(S){return new Uint32Array(n(4*S),0,S)}function h(S){return new Int8Array(n(S),0,S)}function c(S){return new Int16Array(n(2*S),0,S)}function x(S){return new Int32Array(n(4*S),0,S)}function p(S){return new Float32Array(n(4*S),0,S)}function v(S){return new Float64Array(n(8*S),0,S)}function g(S){return _?new Uint8ClampedArray(n(S),0,S):a(S)}function y(S){return b?new BigUint64Array(n(8*S),0,S):null}function m(S){return f?new BigInt64Array(n(8*S),0,S):null}function w(S){return new DataView(n(S),0,S)}function d(S){S=T.nextPow2(S);var A=T.log2(S),E=i[A];return E.length>0?E.pop():new o(S)}C.free=function(S){if(o.isBuffer(S))i[T.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var A=S.length||S.byteLength,E=0|T.log2(A);t[E].push(S)}},C.freeUint8=C.freeUint16=C.freeUint32=C.freeBigUint64=C.freeInt8=C.freeInt16=C.freeInt32=C.freeBigInt64=C.freeFloat32=C.freeFloat=C.freeFloat64=C.freeDouble=C.freeUint8Clamped=C.freeDataView=function(S){r(S.buffer)},C.freeArrayBuffer=r,C.freeBuffer=function(S){i[T.log2(S.length)].push(S)},C.malloc=function(S,A){if(A===void 0||A==="arraybuffer")return n(S);switch(A){case"uint8":return a(S);case"uint16":return l(S);case"uint32":return u(S);case"int8":return h(S);case"int16":return c(S);case"int32":return x(S);case"float":case"float32":return p(S);case"double":case"float64":return v(S);case"uint8_clamped":return g(S);case"bigint64":return m(S);case"biguint64":return y(S);case"buffer":return d(S);case"data":case"dataview":return w(S);default:return null}return null},C.mallocArrayBuffer=n,C.mallocUint8=a,C.mallocUint16=l,C.mallocUint32=u,C.mallocInt8=h,C.mallocInt16=c,C.mallocInt32=x,C.mallocFloat32=C.mallocFloat=p,C.mallocFloat64=C.mallocDouble=v,C.mallocUint8Clamped=g,C.mallocBigUint64=y,C.mallocBigInt64=m,C.mallocDataView=w,C.mallocBuffer=d,C.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},92384:function(U){var C=/[\'\"]/;U.exports=function(e){return e?(C.test(e.charAt(0))&&(e=e.substr(1)),C.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(U){U.exports=function(C,e,T){Array.isArray(T)||(T=[].slice.call(arguments,2));for(var k=0,o=T.length;k<o;k++){var _=T[k];for(var b in _)if((e[b]===void 0||Array.isArray(e[b])||C[b]!==e[b])&&b in e){var f;if(_[b]===!0)f=e[b];else if(_[b]===!1||typeof _[b]=="function"&&(f=_[b](e[b],C,e))===void 0)continue;C[b]=f}}return C}},96656:function(U,C,e){function T(k){try{if(!e.g.localStorage)return!1}catch{return!1}var o=e.g.localStorage[k];return o!=null&&String(o).toLowerCase()==="true"}U.exports=function(k,o){if(T("noDeprecation"))return k;var _=!1;return function(){if(!_){if(T("throwDeprecation"))throw new Error(o);T("traceDeprecation")?console.trace(o):console.warn(o),_=!0}return k.apply(this,arguments)}}},75272:function(U){U.exports=function(C){return C&&typeof C=="object"&&typeof C.copy=="function"&&typeof C.fill=="function"&&typeof C.readUInt8=="function"}},41088:function(U,C,e){var T=e(91148),k=e(84420),o=e(96632),_=e(7728);function b(D){return D.call.bind(D)}var f=typeof BigInt<"u",s=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),r=b(String.prototype.valueOf),n=b(Boolean.prototype.valueOf);if(f)var a=b(BigInt.prototype.valueOf);if(s)var l=b(Symbol.prototype.valueOf);function u(D,V){if(typeof D!="object")return!1;try{return V(D),!0}catch{return!1}}function h(D){return t(D)==="[object Map]"}function c(D){return t(D)==="[object Set]"}function x(D){return t(D)==="[object WeakMap]"}function p(D){return t(D)==="[object WeakSet]"}function v(D){return t(D)==="[object ArrayBuffer]"}function g(D){return typeof ArrayBuffer<"u"&&(v.working?v(D):D instanceof ArrayBuffer)}function y(D){return t(D)==="[object DataView]"}function m(D){return typeof DataView<"u"&&(y.working?y(D):D instanceof DataView)}C.isArgumentsObject=T,C.isGeneratorFunction=k,C.isTypedArray=_,C.isPromise=function(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"},C.isArrayBufferView=function(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):_(D)||m(D)},C.isUint8Array=function(D){return o(D)==="Uint8Array"},C.isUint8ClampedArray=function(D){return o(D)==="Uint8ClampedArray"},C.isUint16Array=function(D){return o(D)==="Uint16Array"},C.isUint32Array=function(D){return o(D)==="Uint32Array"},C.isInt8Array=function(D){return o(D)==="Int8Array"},C.isInt16Array=function(D){return o(D)==="Int16Array"},C.isInt32Array=function(D){return o(D)==="Int32Array"},C.isFloat32Array=function(D){return o(D)==="Float32Array"},C.isFloat64Array=function(D){return o(D)==="Float64Array"},C.isBigInt64Array=function(D){return o(D)==="BigInt64Array"},C.isBigUint64Array=function(D){return o(D)==="BigUint64Array"},h.working=typeof Map<"u"&&h(new Map),C.isMap=function(D){return typeof Map<"u"&&(h.working?h(D):D instanceof Map)},c.working=typeof Set<"u"&&c(new Set),C.isSet=function(D){return typeof Set<"u"&&(c.working?c(D):D instanceof Set)},x.working=typeof WeakMap<"u"&&x(new WeakMap),C.isWeakMap=function(D){return typeof WeakMap<"u"&&(x.working?x(D):D instanceof WeakMap)},p.working=typeof WeakSet<"u"&&p(new WeakSet),C.isWeakSet=function(D){return p(D)},v.working=typeof ArrayBuffer<"u"&&v(new ArrayBuffer),C.isArrayBuffer=g,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),C.isDataView=m;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function d(D){return t(D)==="[object SharedArrayBuffer]"}function S(D){return w!==void 0&&(d.working===void 0&&(d.working=d(new w)),d.working?d(D):D instanceof w)}function A(D){return u(D,i)}function E(D){return u(D,r)}function P(D){return u(D,n)}function O(D){return f&&u(D,a)}function I(D){return s&&u(D,l)}C.isSharedArrayBuffer=S,C.isAsyncFunction=function(D){return t(D)==="[object AsyncFunction]"},C.isMapIterator=function(D){return t(D)==="[object Map Iterator]"},C.isSetIterator=function(D){return t(D)==="[object Set Iterator]"},C.isGeneratorObject=function(D){return t(D)==="[object Generator]"},C.isWebAssemblyCompiledModule=function(D){return t(D)==="[object WebAssembly.Module]"},C.isNumberObject=A,C.isStringObject=E,C.isBooleanObject=P,C.isBigIntObject=O,C.isSymbolObject=I,C.isBoxedPrimitive=function(D){return A(D)||E(D)||P(D)||O(D)||I(D)},C.isAnyArrayBuffer=function(D){return typeof Uint8Array<"u"&&(g(D)||S(D))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(C,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})},35840:function(U,C,e){var T=e(4168),k=Object.getOwnPropertyDescriptors||function(I){for(var D=Object.keys(I),V={},z=0;z<D.length;z++)V[D[z]]=Object.getOwnPropertyDescriptor(I,D[z]);return V},o=/%[sdj%]/g;C.format=function(I){if(!x(I)){for(var D=[],V=0;V<arguments.length;V++)D.push(s(arguments[V]));return D.join(" ")}V=1;for(var z=arguments,j=z.length,X=String(I).replace(o,function(H){if(H==="%%")return"%";if(V>=j)return H;switch(H){case"%s":return String(z[V++]);case"%d":return Number(z[V++]);case"%j":try{return JSON.stringify(z[V++])}catch{return"[Circular]"}default:return H}}),F=z[V];V<j;F=z[++V])h(F)||!g(F)?X+=" "+F:X+=" "+s(F);return X},C.deprecate=function(I,D){if(T!==void 0&&T.noDeprecation===!0)return I;if(T===void 0)return function(){return C.deprecate(I,D).apply(this,arguments)};var V=!1;return function(){if(!V){if(T.throwDeprecation)throw new Error(D);T.traceDeprecation?console.trace(D):console.error(D),V=!0}return I.apply(this,arguments)}};var _={},b=/^$/;if(T.env.NODE_DEBUG){var f=T.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+f+"$","i")}function s(I,D){var V={seen:[],stylize:i};return arguments.length>=3&&(V.depth=arguments[2]),arguments.length>=4&&(V.colors=arguments[3]),u(D)?V.showHidden=D:D&&C._extend(V,D),p(V.showHidden)&&(V.showHidden=!1),p(V.depth)&&(V.depth=2),p(V.colors)&&(V.colors=!1),p(V.customInspect)&&(V.customInspect=!0),V.colors&&(V.stylize=t),r(V,I,V.depth)}function t(I,D){var V=s.styles[D];return V?"\x1B["+s.colors[V][0]+"m"+I+"\x1B["+s.colors[V][1]+"m":I}function i(I,D){return I}function r(I,D,V){if(I.customInspect&&D&&w(D.inspect)&&D.inspect!==C.inspect&&(!D.constructor||D.constructor.prototype!==D)){var z=D.inspect(V,I);return x(z)||(z=r(I,z,V)),z}var j=function(ne,$){if(p($))return ne.stylize("undefined","undefined");if(x($)){var J="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ne.stylize(J,"string")}return c($)?ne.stylize(""+$,"number"):u($)?ne.stylize(""+$,"boolean"):h($)?ne.stylize("null","null"):void 0}(I,D);if(j)return j;var X=Object.keys(D),F=function(ne){var $={};return ne.forEach(function(J,re){$[J]=!0}),$}(X);if(I.showHidden&&(X=Object.getOwnPropertyNames(D)),m(D)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return n(D);if(X.length===0){if(w(D)){var H=D.name?": "+D.name:"";return I.stylize("[Function"+H+"]","special")}if(v(D))return I.stylize(RegExp.prototype.toString.call(D),"regexp");if(y(D))return I.stylize(Date.prototype.toString.call(D),"date");if(m(D))return n(D)}var W,ie="",te=!1,Q=["{","}"];return l(D)&&(te=!0,Q=["[","]"]),w(D)&&(ie=" [Function"+(D.name?": "+D.name:"")+"]"),v(D)&&(ie=" "+RegExp.prototype.toString.call(D)),y(D)&&(ie=" "+Date.prototype.toUTCString.call(D)),m(D)&&(ie=" "+n(D)),X.length!==0||te&&D.length!=0?V<0?v(D)?I.stylize(RegExp.prototype.toString.call(D),"regexp"):I.stylize("[Object]","special"):(I.seen.push(D),W=te?function(ne,$,J,re,se){for(var ue=[],he=0,pe=$.length;he<pe;++he)E($,String(he))?ue.push(a(ne,$,J,re,String(he),!0)):ue.push("");return se.forEach(function(ge){ge.match(/^\d+$/)||ue.push(a(ne,$,J,re,ge,!0))}),ue}(I,D,V,F,X):X.map(function(ne){return a(I,D,V,F,ne,te)}),I.seen.pop(),function(ne,$,J){return ne.reduce(function(re,se){return se.indexOf(`
`),re+se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?J[0]+($===""?"":$+`
 `)+" "+ne.join(`,
  `)+" "+J[1]:J[0]+$+" "+ne.join(", ")+" "+J[1]}(W,ie,Q)):Q[0]+ie+Q[1]}function n(I){return"["+Error.prototype.toString.call(I)+"]"}function a(I,D,V,z,j,X){var F,H,W;if((W=Object.getOwnPropertyDescriptor(D,j)||{value:D[j]}).get?H=W.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):W.set&&(H=I.stylize("[Setter]","special")),E(z,j)||(F="["+j+"]"),H||(I.seen.indexOf(W.value)<0?(H=h(V)?r(I,W.value,null):r(I,W.value,V-1)).indexOf(`
`)>-1&&(H=X?H.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):`
`+H.split(`
`).map(function(ie){return"   "+ie}).join(`
`)):H=I.stylize("[Circular]","special")),p(F)){if(X&&j.match(/^\d+$/))return H;(F=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=I.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=I.stylize(F,"string"))}return F+": "+H}function l(I){return Array.isArray(I)}function u(I){return typeof I=="boolean"}function h(I){return I===null}function c(I){return typeof I=="number"}function x(I){return typeof I=="string"}function p(I){return I===void 0}function v(I){return g(I)&&d(I)==="[object RegExp]"}function g(I){return typeof I=="object"&&I!==null}function y(I){return g(I)&&d(I)==="[object Date]"}function m(I){return g(I)&&(d(I)==="[object Error]"||I instanceof Error)}function w(I){return typeof I=="function"}function d(I){return Object.prototype.toString.call(I)}function S(I){return I<10?"0"+I.toString(10):I.toString(10)}C.debuglog=function(I){if(I=I.toUpperCase(),!_[I])if(b.test(I)){var D=T.pid;_[I]=function(){var V=C.format.apply(C,arguments);console.error("%s %d: %s",I,D,V)}}else _[I]=function(){};return _[I]},C.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},C.types=e(41088),C.isArray=l,C.isBoolean=u,C.isNull=h,C.isNullOrUndefined=function(I){return I==null},C.isNumber=c,C.isString=x,C.isSymbol=function(I){return typeof I=="symbol"},C.isUndefined=p,C.isRegExp=v,C.types.isRegExp=v,C.isObject=g,C.isDate=y,C.types.isDate=y,C.isError=m,C.types.isNativeError=m,C.isFunction=w,C.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||I===void 0},C.isBuffer=e(75272);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(I,D){return Object.prototype.hasOwnProperty.call(I,D)}C.log=function(){var I,D;console.log("%s - %s",(D=[S((I=new Date).getHours()),S(I.getMinutes()),S(I.getSeconds())].join(":"),[I.getDate(),A[I.getMonth()],D].join(" ")),C.format.apply(C,arguments))},C.inherits=e(6768),C._extend=function(I,D){if(!D||!g(D))return I;for(var V=Object.keys(D),z=V.length;z--;)I[V[z]]=D[V[z]];return I};var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O(I,D){if(!I){var V=new Error("Promise was rejected with a falsy value");V.reason=I,I=V}return D(I)}C.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(P&&I[P]){var D;if(typeof(D=I[P])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(D,P,{value:D,enumerable:!1,writable:!1,configurable:!0}),D}function D(){for(var V,z,j=new Promise(function(H,W){V=H,z=W}),X=[],F=0;F<arguments.length;F++)X.push(arguments[F]);X.push(function(H,W){H?z(H):V(W)});try{I.apply(this,X)}catch(H){z(H)}return j}return Object.setPrototypeOf(D,Object.getPrototypeOf(I)),P&&Object.defineProperty(D,P,{value:D,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(D,k(I))},C.promisify.custom=P,C.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function D(){for(var V=[],z=0;z<arguments.length;z++)V.push(arguments[z]);var j=V.pop();if(typeof j!="function")throw new TypeError("The last argument must be of type Function");var X=this,F=function(){return j.apply(X,arguments)};I.apply(this,V).then(function(H){T.nextTick(F.bind(null,null,H))},function(H){T.nextTick(O.bind(null,H,F))})}return Object.setPrototypeOf(D,Object.getPrototypeOf(I)),Object.defineProperties(D,k(I)),D}},5408:function(U,C,e){var T=e(13380);U.exports=function(k){return T("webgl",k)}},96632:function(U,C,e){var T=e(46492),k=e(63436),o=e(57916),_=e(99676),b=e(2304),f=_("Object.prototype.toString"),s=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,i=k(),r=_("String.prototype.slice"),n=Object.getPrototypeOf,a=_("Array.prototype.indexOf",!0)||function(u,h){for(var c=0;c<u.length;c+=1)if(u[c]===h)return c;return-1},l={__proto__:null};T(i,s&&b&&n?function(u){var h=new t[u];if(Symbol.toStringTag in h){var c=n(h),x=b(c,Symbol.toStringTag);if(!x){var p=n(c);x=b(p,Symbol.toStringTag)}l["$"+u]=o(x.get)}}:function(u){var h=new t[u],c=h.slice||h.set;c&&(l["$"+u]=o(c))}),U.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var h=r(f(u),8,-1);return a(i,h)>-1?h:h==="Object"&&function(c){var x=!1;return T(l,function(p,v){if(!x)try{p(c),x=r(v,1)}catch{}}),x}(u)}return b?function(c){var x=!1;return T(l,function(p,v){if(!x)try{"$"+p(c)===v&&(x=r(v,1))}catch{}}),x}(u):null}},67020:function(U,C,e){var T=e(38700),k=e(50896),o=T.instance();function _(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}_.prototype=new T.baseCalendar,k(_.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,a){if(typeof n=="string"){var l=n.match(f);return l?l[0]:""}var u=this._validateYear(n),h=n.month(),c=""+this.toChineseMonth(u,h);return a&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,h)&&(c+="i"),c},monthNames:function(n){if(typeof n=="string"){var a=n.match(s);return a?a[0]:""}var l=this._validateYear(n),u=n.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h=""+h),h},monthNamesShort:function(n){if(typeof n=="string"){var a=n.match(t);return a?a[0]:""}var l=this._validateYear(n),u=n.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h=""+h),h},parseMonth:function(n,a){n=this._validateYear(n);var l,u=parseInt(a);if(isNaN(u))a[0]===""&&(l=!0,a=a.substring(1)),a[a.length-1]===""&&(a=a.substring(0,a.length-1)),u=1+["","","","","","","","","","","",""].indexOf(a);else{var h=a[a.length-1];l=h==="i"||h==="I"}return this.toMonthIndex(n,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,a){if(n.year&&(n=n.year()),typeof n!="number"||n<1888||n>2111)throw a.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,a,l){var u=this.intercalaryMonth(n);if(l&&a!==u||a<1||a>12)throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&a<=u?a-1:a:a-1},toChineseMonth:function(n,a){n.year&&(a=(n=n.year()).month());var l=this.intercalaryMonth(n);if(a<0||a>(l?12:11))throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?a<l?a+1:a:a+1},intercalaryMonth:function(n){return n=this._validateYear(n),i[n-i[0]]>>13},isIntercalaryMonth:function(n,a){n.year&&(a=(n=n.year()).month());var l=this.intercalaryMonth(n);return!!l&&l===a},leapYear:function(n){return this.intercalaryMonth(n)!==0},weekOfYear:function(n,a,l){var u,h=this._validateYear(n,T.local.invalidyear),c=r[h-r[0]],x=c>>9&4095,p=c>>5&15,v=31&c;(u=o.newDate(x,p,v)).add(4-(u.dayOfWeek()||7),"d");var g=this.toJD(n,a,l)-u.toJD();return 1+Math.floor(g/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,a){n.year&&(a=n.month(),n=n.year()),n=this._validateYear(n);var l=i[n-i[0]];if(a>(l>>13?12:11))throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-a?30:29},weekDay:function(n,a,l){return(this.dayOfWeek(n,a,l)||7)<6},toJD:function(n,a,l){var u=this._validate(n,c,l,T.local.invalidDate);n=this._validateYear(u.year()),a=u.month(),l=u.day();var h=this.isIntercalaryMonth(n,a),c=this.toChineseMonth(n,a),x=function(p,v,g,y,m){var w,d,S;if(typeof p=="object")d=p,w=v||{};else{var A;if(!(typeof p=="number"&&p>=1888&&p<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof v=="number"&&v>=1&&v<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof g=="number"&&g>=1&&g<=30))throw new Error("Lunar day outside range 1 - 30");typeof y=="object"?(A=!1,w=y):(A=!!y,w={}),d={year:p,month:v,day:g,isIntercalary:A}}S=d.day-1;var E,P=i[d.year-i[0]],O=P>>13;E=O&&(d.month>O||d.isIntercalary)?d.month:d.month-1;for(var I=0;I<E;I++)S+=P&1<<12-I?30:29;var D=r[d.year-r[0]],V=new Date(D>>9&4095,(D>>5&15)-1,(31&D)+S);return w.year=V.getFullYear(),w.month=1+V.getMonth(),w.day=V.getDate(),w}(n,c,l,h);return o.toJD(x.year,x.month,x.day)},fromJD:function(n){var a=o.fromJD(n),l=function(h,c,x,p){var v,g;if(typeof h=="object")v=h,g=c||{};else{if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof x=="number"&&x>=1&&x<=31))throw new Error("Solar day outside range 1 - 31");v={year:h,month:c,day:x},g={}}var y=r[v.year-r[0]],m=v.year<<9|v.month<<5|v.day;g.year=m>=y?v.year:v.year-1,y=r[g.year-r[0]];var w,d=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(v.year,v.month-1,v.day);w=Math.round((S-d)/864e5);var A,E=i[g.year-i[0]];for(A=0;A<13;A++){var P=E&1<<12-A?30:29;if(w<P)break;w-=P}var O=E>>13;return!O||A<O?(g.isIntercalary=!1,g.month=1+A):A===O?(g.isIntercalary=!0,g.month=A):(g.isIntercalary=!1,g.month=A),g.day=1+w,g}(a.year(),a.month(),a.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(n){var a=n.match(b),l=this._validateYear(+a[1]),u=+a[2],h=!!a[3],c=this.toMonthIndex(l,u,h),x=+a[4];return this.newDate(l,c,x)},add:function(n,a,l){var u=n.year(),h=n.month(),c=this.isIntercalaryMonth(u,h),x=this.toChineseMonth(u,h),p=Object.getPrototypeOf(_.prototype).add.call(this,n,a,l);if(l==="y"){var v=p.year(),g=p.month(),y=this.isIntercalaryMonth(v,x),m=c&&y?this.toMonthIndex(v,x,!0):this.toMonthIndex(v,x,!1);m!==g&&p.month(m)}return p}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,s=/^??[]?/m,t=/^??[]?/m;T.calendars.chinese=_;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(U,C,e){var T=e(38700),k=e(50896);function o(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,T.local.invalidYear);return(_=b.year()+(b.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear),13},weekOfYear:function(_,b,f){var s=this.newDate(_,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var f=this._validate(_,b,this.minDay,T.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(_,b,f){return(this.dayOfWeek(_,b,f)||7)<6},toJD:function(_,b,f){var s=this._validate(_,b,f,T.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var b=Math.floor(_)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(_)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(f,s,t)}}),T.calendars.coptic=o},55668:function(U,C,e){var T=e(38700),k=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,T.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,T.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,T.local.invalidYear),400},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,T.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,f,s){return(this._validate(b,f,s,T.local.invalidDate).day()+1)%8},weekDay:function(b,f,s){var t=this.dayOfWeek(b,f,s);return t>=2&&t<=6},extraInfo:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);return{century:_[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);return b=t.year()+(t.year()<0?1:0),f=t.month(),(s=t.day())+(f>1?16:0)+(f>2?32*(f-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(b/400)+1;b-=400*(f-1),b+=b>15?16:0;var s=Math.floor(b/32)+1,t=b-32*(s-1)+1;return this.newDate(f<=0?f-1:f,s,t)}});var _={20:"Fruitbat",21:"Anchovy"};T.calendars.discworld=o},65168:function(U,C,e){var T=e(38700),k=e(50896);function o(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,T.local.invalidYear);return(_=b.year()+(b.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear),13},weekOfYear:function(_,b,f){var s=this.newDate(_,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var f=this._validate(_,b,this.minDay,T.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(_,b,f){return(this.dayOfWeek(_,b,f)||7)<6},toJD:function(_,b,f){var s=this._validate(_,b,f,T.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var b=Math.floor(_)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(_)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(f,s,t)}}),T.calendars.ethiopian=o},2084:function(U,C,e){var T=e(38700),k=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function _(b,f){return b-f*Math.floor(b/f)}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(b){return _(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,T.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,f){return b.year&&(f=b.month(),b=b.year()),this._validate(b,f,this.minDay,T.local.invalidMonth),f===12&&this.leapYear(b)||f===8&&_(this.daysInYear(b),10)===5?30:f===9&&_(this.daysInYear(b),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==6},extraInfo:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);b=t.year(),f=t.month(),s=t.day();var i=b<=0?b+1:b,r=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(f<7){for(var n=7;n<=this.monthsInYear(b);n++)r+=this.daysInMonth(b,n);for(n=1;n<f;n++)r+=this.daysInMonth(b,n)}else for(n=7;n<f;n++)r+=this.daysInMonth(b,n);return r},_delay1:function(b){var f=Math.floor((235*b-234)/19),s=12084+13753*f,t=29*f+Math.floor(s/25920);return _(3*(t+1),7)<3&&t++,t},_delay2:function(b){var f=this._delay1(b-1),s=this._delay1(b);return this._delay1(b+1)-s==356?2:s-f==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var f=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var s=b<this.toJD(f,1,1)?7:1;b>this.toJD(f,s,this.daysInMonth(f,s));)s++;var t=b-this.toJD(f,s,1)+1;return this.newDate(f,s,t)}}),T.calendars.hebrew=o},26368:function(U,C,e){var T=e(38700),k=e(50896);function o(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_){return(11*this._validate(_,this.minMonth,this.minDay,T.local.invalidYear).year()+14)%30<11},weekOfYear:function(_,b,f){var s=this.newDate(_,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){return this.leapYear(_)?355:354},daysInMonth:function(_,b){var f=this._validate(_,b,this.minDay,T.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(_,b,f){return this.dayOfWeek(_,b,f)!==5},toJD:function(_,b,f){var s=this._validate(_,b,f,T.local.invalidDate);return _=s.year(),b=s.month(),_=_<=0?_+1:_,(f=s.day())+Math.ceil(29.5*(b-1))+354*(_-1)+Math.floor((3+11*_)/30)+this.jdEpoch-1},fromJD:function(_){_=Math.floor(_)+.5;var b=Math.floor((30*(_-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var f=Math.min(12,Math.ceil((_-29-this.toJD(b,1,1))/29.5)+1),s=_-this.toJD(b,f,1)+1;return this.newDate(b,f,s)}}),T.calendars.islamic=o},24747:function(U,C,e){var T=e(38700),k=e(50896);function o(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var b=this._validate(_,this.minMonth,this.minDay,T.local.invalidYear);return(_=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(_,b,f){var s=this.newDate(_,b,f);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,b){var f=this._validate(_,b,this.minDay,T.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(_,b,f){return(this.dayOfWeek(_,b,f)||7)<6},toJD:function(_,b,f){var s=this._validate(_,b,f,T.local.invalidDate);return _=s.year(),b=s.month(),f=s.day(),_<0&&_++,b<=2&&(_--,b+=12),Math.floor(365.25*(_+4716))+Math.floor(30.6001*(b+1))+f-1524.5},fromJD:function(_){var b=Math.floor(_+.5)+1524,f=Math.floor((b-122.1)/365.25),s=Math.floor(365.25*f),t=Math.floor((b-s)/30.6001),i=t-Math.floor(t<14?1:13),r=f-Math.floor(i>2?4716:4715),n=b-s-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,i,n)}}),T.calendars.julian=o},65616:function(U,C,e){var T=e(38700),k=e(50896);function o(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function _(f,s){return f-s*Math.floor(f/s)}function b(f,s){return _(f-1,s)+1}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,T.local.invalidYear),!1},formatYear:function(f){f=this._validate(f,this.minMonth,this.minDay,T.local.invalidYear).year();var s=Math.floor(f/400);return f%=400,f+=f<0?400:0,s+"."+Math.floor(f/20)+"."+f%20},forYear:function(f){if((f=f.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<f.length;t++){var i=parseInt(f[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,T.local.invalidYear),18},weekOfYear:function(f,s,t){return this._validate(f,s,t,T.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,T.local.invalidYear),360},daysInMonth:function(f,s){return this._validate(f,s,this.minDay,T.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,s,t){return this._validate(f,s,t,T.local.invalidDate).day()},weekDay:function(f,s,t){return this._validate(f,s,t,T.local.invalidDate),!0},extraInfo:function(f,s,t){var i=this._validate(f,s,t,T.local.invalidDate).toJD(),r=this._toHaab(i),n=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(f){var s=_(8+(f-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,_(s,20)]},_toTzolkin:function(f){return[b(20+(f-=this.jdEpoch),20),b(f+4,13)]},toJD:function(f,s,t){var i=this._validate(f,s,t,T.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var s=Math.floor(f/360);f%=360,f+=f<0?360:0;var t=Math.floor(f/20),i=f%20;return this.newDate(s,t,i)}}),T.calendars.mayan=o},30632:function(U,C,e){var T=e(38700),k=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar;var _=T.instance("gregorian");k(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear);return _.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,T.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),r=1;r<t.month();r++)i+=this.daysPerMonth[r-1];return i+_.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var f=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(f+1,1,1);)f++;for(var s=b-Math.floor(this.toJD(f,1,1)+.5)+1,t=1;s>this.daysInMonth(f,t);)s-=this.daysInMonth(f,t),t++;return this.newDate(f,t,s)}}),T.calendars.nanakshahi=o},73040:function(U,C,e){var T=e(38700),k=e(50896);function o(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(_){return this.daysInYear(_)!==this.daysPerYear},weekOfYear:function(_,b,f){var s=this.newDate(_,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){if(_=this._validate(_,this.minMonth,this.minDay,T.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[_]===void 0)return this.daysPerYear;for(var b=0,f=this.minMonth;f<=12;f++)b+=this.NEPALI_CALENDAR_DATA[_][f];return b},daysInMonth:function(_,b){return _.year&&(b=_.month(),_=_.year()),this._validate(_,b,this.minDay,T.local.invalidMonth),this.NEPALI_CALENDAR_DATA[_]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[_][b]},weekDay:function(_,b,f){return this.dayOfWeek(_,b,f)!==6},toJD:function(_,b,f){var s=this._validate(_,b,f,T.local.invalidDate);_=s.year(),b=s.month(),f=s.day();var t=T.instance(),i=0,r=b,n=_;this._createMissingCalendarData(_);var a=_-(r>9||r===9&&f>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(b!==9&&(i=f,r--);r!==9;)r<=0&&(r=12,n--),i+=this.NEPALI_CALENDAR_DATA[n][r],r--;return b===9?(i+=f-this.NEPALI_CALENDAR_DATA[n][0])<0&&(i+=t.daysInYear(a)):i+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(a,1,1).add(i,"d").toJD()},fromJD:function(_){var b=T.instance().fromJD(_),f=b.year(),s=b.dayOfYear(),t=f+56;this._createMissingCalendarData(t);for(var i=9,r=this.NEPALI_CALENDAR_DATA[t][0],n=this.NEPALI_CALENDAR_DATA[t][i]-r+1;s>n;)++i>12&&(i=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][i];var a=this.NEPALI_CALENDAR_DATA[t][i]-(n-s);return this.newDate(t,i,a)},_createMissingCalendarData:function(_){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var f=_-1;f<_+2;f++)this.NEPALI_CALENDAR_DATA[f]===void 0&&(this.NEPALI_CALENDAR_DATA[f]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),T.calendars.nepali=o},1104:function(U,C,e){var T=e(38700),k=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function _(b,f){return b-f*Math.floor(b/f)}o.prototype=new T.baseCalendar,k(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return 682*((f.year()-(f.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,T.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);b=t.year(),f=t.month(),s=t.day();var i=b-(b>=0?474:473),r=474+_(i,2820);return s+(f<=7?31*(f-1):30*(f-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var f=(b=Math.floor(b)+.5)-this.toJD(475,1,1),s=Math.floor(f/1029983),t=_(f,1029983),i=2820;if(t!==1029982){var r=Math.floor(t/366),n=_(t,366);i=Math.floor((2134*r+2816*n+2815)/1028522)+r+1}var a=i+2820*s+474;a=a<=0?a-1:a;var l=b-this.toJD(a,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),h=b-this.toJD(a,u,1)+1;return this.newDate(a,u,h)}}),T.calendars.persian=o,T.calendars.jalali=o},51456:function(U,C,e){var T=e(38700),k=e(50896),o=T.instance();function _(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}_.prototype=new T.baseCalendar,k(_.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return b=this._t2gYear(f.year()),o.leapYear(b)},weekOfYear:function(b,f,s){var t=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return b=this._t2gYear(t.year()),o.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,T.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);return b=this._t2gYear(t.year()),o.toJD(b,t.month(),t.day())},fromJD:function(b){var f=o.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),T.calendars.taiwan=_},4592:function(U,C,e){var T=e(38700),k=e(50896),o=T.instance();function _(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}_.prototype=new T.baseCalendar,k(_.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return b=this._t2gYear(f.year()),o.leapYear(b)},weekOfYear:function(b,f,s){var t=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return b=this._t2gYear(t.year()),o.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,T.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate);return b=this._t2gYear(t.year()),o.toJD(b,t.month(),t.day())},fromJD:function(b){var f=o.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),T.calendars.thai=_},45348:function(U,C,e){var T=e(38700),k=e(50896);function o(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar,k(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,T.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var f=0,s=1;s<=12;s++)f+=this.daysInMonth(b,s);return f},daysInMonth:function(b,f){for(var s=this._validate(b,f,this.minDay,T.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<_.length;i++){if(_[i]>s)return _[t]-_[t-1];t++}return 30},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var t=this._validate(b,f,s,T.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+_[i-1]-1+24e5-.5},fromJD:function(b){for(var f=b-24e5+.5,s=0,t=0;t<_.length&&!(_[t]>f);t++)s++;var i=s+15292,r=Math.floor((i-1)/12),n=r+1,a=i-12*r,l=f-_[s-1]+1;return this.newDate(n,a,l)},isValid:function(b,f,s){var t=T.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=b.year!=null?b.year:b)>=1276&&b<=1500),t},_validate:function(b,f,s,t){var i=T.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),T.calendars.ummalqura=o;var _=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(U,C,e){var T=e(50896);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(t,i,r,n){if(this._calendar=t,this._year=i,this._month=r,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function _(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function f(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}T(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var r=this._localCals[t+"-"+i];if(!r&&this.calendars[t]&&(r=new this.calendars[t](i),this._localCals[t+"-"+i]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,i,r,n,a){return(n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance()).newDate(t,i,r)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,i){return function(r){for(var n="",a=0;r>0;){var l=r%10;n=(l===0?"":t[l]+i[a])+n,a++,r=Math.floor(r/10)}return n.indexOf(t[1]+i[1])===0&&(n=n.substr(1)),n||t[0]}}}),T(o.prototype,{newDate:function(t,i,r){return this._calendar.newDate(t??this,i,r)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,i,r){if(!this._calendar.isValid(t,i,r))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+_(Math.abs(this.year()),4)+"-"+_(this.month(),2)+"-"+_(this.day(),2)}}),T(b.prototype,{_validateLevel:0,newDate:function(t,i,r){return t==null?this.today():(t.year&&(this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),r=t.day(),i=t.month(),t=t.year()),new o(this,t,i,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+_(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,i){var r=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,i,r){return this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,i,r){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,r),i,r)},_add:function(t,i,r){if(this._validateLevel++,r==="d"||r==="w"){var n=t.toJD()+i*(r==="w"?this.daysInWeek():1),a=t.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var l=t.year()+(r==="y"?i:0),u=t.monthOfYear()+(r==="m"?i:0);a=t.day(),r==="y"?(t.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):r==="m"&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var x=c.monthsInYear(l);u>x-1+c.minMonth;)l++,u-=x,x=c.monthsInYear(l)}(this),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var h=[l,this.fromMonthOfYear(l,u),a];return this._validateLevel--,h}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,r,n){if(!(this.hasYearZero||n!=="y"&&n!=="m"||i[0]!==0&&t.year()>0==i[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],l=r<0?-1:1;i=this._add(t,r*a[0]+l*a[1],a[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,r){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var n=r==="y"?i:t.year(),a=r==="m"?i:t.month(),l=r==="d"?i:t.day();return r!=="y"&&r!=="m"||(l=Math.min(l,this.daysInMonth(n,a))),t.date(n,a,l)},isValid:function(t,i,r){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var a=this.newDate(t,i,this.minDay);n=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(a)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,i,r,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,i,r))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(t,i,r);return this._validateLevel--,a}catch(l){throw this._validateLevel--,l}}}),f.prototype=new b,T(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,r){var n=this.newDate(t,i,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(t,i,r){return(this.dayOfWeek(t,i,r)||7)<6},toJD:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=n.year(),i=n.month(),r=n.day(),t<0&&t++,i<3&&(i+=12,t--);var a=Math.floor(t/100),l=2-a+Math.floor(a/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+r+l-1524.5},fromJD:function(t){var i=Math.floor(t+.5),r=Math.floor((i-186721625e-2)/36524.25),n=1524+(r=i+1+r-Math.floor(r/4)),a=Math.floor((n-122.1)/365.25),l=Math.floor(365.25*a),u=Math.floor((n-l)/30.6001),h=n-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),x=a-(c>2.5?4716:4715);return x<=0&&x--,this.newDate(x,c,h)},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=U.exports=new k;s.cdate=o,s.baseCalendar=b,s.calendars.gregorian=f},15168:function(U,C,e){var T=e(50896),k=e(38700);T(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],T(k.cdate.prototype,{formatDate:function(o,_){return typeof o!="string"&&(_=o,o=""),this._calendar.formatDate(o||"",this,_)}}),T(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,_,b){if(typeof o!="string"&&(b=_,_=o,o=""),!_)return"";if(_.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var f,s,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,n=b.monthNumbers||this.local.monthNumbers,a=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(d,S){for(var A=1;w+A<o.length&&o.charAt(w+A)===d;)A++;return w+=A-1,Math.floor(A/(S||1))>1}),h=function(d,S,A,E){var P=""+S;if(u(d,E))for(;P.length<A;)P="0"+P;return P},c=this,x=function(d){return typeof n=="function"?n.call(c,d,u("m")):g(h("m",d.month(),2))},p=function(d,S){return S?typeof l=="function"?l.call(c,d):l[d.month()-c.minMonth]:typeof a=="function"?a.call(c,d):a[d.month()-c.minMonth]},v=this.local.digits,g=function(d){return b.localNumbers&&v?v(d):d},y="",m=!1,w=0;w<o.length;w++)if(m)o.charAt(w)!=="'"||u("'")?y+=o.charAt(w):m=!1;else switch(o.charAt(w)){case"d":y+=g(h("d",_.day(),2));break;case"D":y+=(f=_.dayOfWeek(),s=i,t=r,u("D")?t[f]:s[f]);break;case"o":y+=h("o",_.dayOfYear(),3);break;case"w":y+=h("w",_.weekOfYear(),2);break;case"m":y+=x(_);break;case"M":y+=p(_,u("M"));break;case"y":y+=u("y",2)?_.year():(_.year()%100<10?"0":"")+_.year()%100;break;case"Y":u("Y",2),y+=_.formatYear();break;case"J":y+=_.toJD();break;case"@":y+=(_.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(_.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":m=!0;break;default:y+=o.charAt(w)}return y},parseDate:function(o,_,b){if(_==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if((_=typeof _=="object"?_.toString():_+"")==="")return null;o=o||this.local.dateFormat;var f=(b=b||{}).shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var s=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,r=b.monthNumbers||this.local.monthNumbers,n=b.monthNamesShort||this.local.monthNamesShort,a=b.monthNames||this.local.monthNames,l=-1,u=-1,h=-1,c=-1,x=-1,p=!1,v=!1,g=function(D,V){for(var z=1;P+z<o.length&&o.charAt(P+z)===D;)z++;return P+=z-1,Math.floor(z/(V||1))>1},y=function(D,V){var z=g(D,V),j=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],X=new RegExp("^-?\\d{1,"+j+"}"),F=_.substring(E).match(X);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},m=this,w=function(){if(typeof r=="function"){g("m");var D=r.call(m,_.substring(E));return E+=D.length,D}return y("m")},d=function(D,V,z,j){for(var X=g(D,j)?z:V,F=0;F<X.length;F++)if(_.substr(E,X[F].length).toLowerCase()===X[F].toLowerCase())return E+=X[F].length,F+m.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof a=="function"){var D=g("M")?a.call(m,_.substring(E)):n.call(m,_.substring(E));return E+=D.length,D}return d("M",n,a)},A=function(){if(_.charAt(E)!==o.charAt(P))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,P=0;P<o.length;P++)if(v)o.charAt(P)!=="'"||g("'")?A():v=!1;else switch(o.charAt(P)){case"d":c=y("d");break;case"D":d("D",s,t);break;case"o":x=y("o");break;case"w":y("w");break;case"m":h=w();break;case"M":h=S();break;case"y":var O=P;p=!g("y",2),P=O,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":l=y("J")+.5,_.charAt(E)==="."&&(E++,y("J"));break;case"@":l=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=_.length;break;case"'":g("'")?A():v=!0;break;default:A()}if(E<_.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&p&&(u+=f===-1?1900:this.today().year()-this.today().year()%100-(u<=f?0:100)),typeof h=="string"&&(h=i.call(this,u,h)),x>-1){h=1,c=x;for(var I=this.daysInMonth(u,h);c>I;I=this.daysInMonth(u,h))h++,c-=I}return l>-1?this.fromJD(l):this.newDate(u,h,c)},determineDate:function(o,_,b,f,s){b&&typeof b!="object"&&(s=f,f=b,b=null),typeof f!="string"&&(s=f,f="");var t=this;return _=_?_.newDate():null,o==null?_:typeof o=="string"?function(i){try{return t.parseDate(f,i,s)}catch{}for(var r=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,a=n.exec(i);a;)r.add(parseInt(a[1],10),a[2]||"d"),a=n.exec(i);return r}(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?_:t.today().add(o,"d"):t.newDate(o)}})},21576:function(){},19768:function(){},63436:function(U,C,e){var T=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;U.exports=function(){for(var o=[],_=0;_<T.length;_++)typeof k[T[_]]=="function"&&(o[o.length]=T[_]);return o}},67756:function(U,C,e){function T(pe,ge,ye){pe.prototype=ge.prototype=ye,ye.constructor=pe}function k(pe,ge){var ye=Object.create(pe.prototype);for(var be in ge)ye[be]=ge[be];return ye}function o(){}e.d(C,{qy:function(){return he},Gz:function(){return te}});var _=.7,b=1/_,f="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(f,",").concat(f,",").concat(f,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),a=new RegExp("^rgba\\(".concat(f,",").concat(f,",").concat(f,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(){return this.rgb().formatHex()}function p(){return this.rgb().formatRgb()}function v(pe){var ge,ye;return pe=(pe+"").trim().toLowerCase(),(ge=i.exec(pe))?(ye=ge[1].length,ge=parseInt(ge[1],16),ye===6?g(ge):ye===3?new w(ge>>8&15|ge>>4&240,ge>>4&15|240&ge,(15&ge)<<4|15&ge,1):ye===8?y(ge>>24&255,ge>>16&255,ge>>8&255,(255&ge)/255):ye===4?y(ge>>12&15|ge>>8&240,ge>>8&15|ge>>4&240,ge>>4&15|240&ge,((15&ge)<<4|15&ge)/255):null):(ge=r.exec(pe))?new w(ge[1],ge[2],ge[3],1):(ge=n.exec(pe))?new w(255*ge[1]/100,255*ge[2]/100,255*ge[3]/100,1):(ge=a.exec(pe))?y(ge[1],ge[2],ge[3],ge[4]):(ge=l.exec(pe))?y(255*ge[1]/100,255*ge[2]/100,255*ge[3]/100,ge[4]):(ge=u.exec(pe))?O(ge[1],ge[2]/100,ge[3]/100,1):(ge=h.exec(pe))?O(ge[1],ge[2]/100,ge[3]/100,ge[4]):c.hasOwnProperty(pe)?g(c[pe]):pe==="transparent"?new w(NaN,NaN,NaN,0):null}function g(pe){return new w(pe>>16&255,pe>>8&255,255&pe,1)}function y(pe,ge,ye,be){return be<=0&&(pe=ge=ye=NaN),new w(pe,ge,ye,be)}function m(pe,ge,ye,be){return arguments.length===1?((Te=pe)instanceof o||(Te=v(Te)),Te?new w((Te=Te.rgb()).r,Te.g,Te.b,Te.opacity):new w):new w(pe,ge,ye,be??1);var Te}function w(pe,ge,ye,be){this.r=+pe,this.g=+ge,this.b=+ye,this.opacity=+be}function d(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b))}function S(){var pe=A(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function A(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function E(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function P(pe){return((pe=E(pe))<16?"0":"")+pe.toString(16)}function O(pe,ge,ye,be){return be<=0?pe=ge=ye=NaN:ye<=0||ye>=1?pe=ge=NaN:ge<=0&&(pe=NaN),new D(pe,ge,ye,be)}function I(pe){if(pe instanceof D)return new D(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof o||(pe=v(pe)),!pe)return new D;if(pe instanceof D)return pe;var ge=(pe=pe.rgb()).r/255,ye=pe.g/255,be=pe.b/255,Te=Math.min(ge,ye,be),Se=Math.max(ge,ye,be),Fe=NaN,xe=Se-Te,le=(Se+Te)/2;return xe?(Fe=ge===Se?(ye-be)/xe+6*(ye<be):ye===Se?(be-ge)/xe+2:(ge-ye)/xe+4,xe/=le<.5?Se+Te:2-Se-Te,Fe*=60):xe=le>0&&le<1?0:Fe,new D(Fe,xe,le,pe.opacity)}function D(pe,ge,ye,be){this.h=+pe,this.s=+ge,this.l=+ye,this.opacity=+be}function V(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function z(pe){return Math.max(0,Math.min(1,pe||0))}function j(pe,ge,ye){return 255*(pe<60?ge+(ye-ge)*pe/60:pe<180?ye:pe<240?ge+(ye-ge)*(240-pe)/60:ge)}T(o,v,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:x,formatHex:x,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:p,toString:p}),T(w,m,k(o,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new w(E(this.r),E(this.g),E(this.b),A(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d,formatHex:d,formatHex8:function(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b)).concat(P(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),T(D,function(pe,ge,ye,be){return arguments.length===1?I(pe):new D(pe,ge,ye,be??1)},k(o,{brighter:function(pe){return pe=pe==null?b:Math.pow(b,pe),new D(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new D(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),ge=isNaN(pe)||isNaN(this.s)?0:this.s,ye=this.l,be=ye+(ye<.5?ye:1-ye)*ge,Te=2*ye-be;return new w(j(pe>=240?pe-240:pe+120,Te,be),j(pe,Te,be),j(pe<120?pe+240:pe-120,Te,be),this.opacity)},clamp:function(){return new D(V(this.h),z(this.s),z(this.l),A(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=A(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var X=function(pe){return function(){return pe}};function F(pe,ge){var ye=ge-pe;return ye?function(be,Te){return function(Se){return be+Se*Te}}(pe,ye):X(isNaN(pe)?ge:pe)}var H=function pe(ge){var ye=function(Te){return(Te=+Te)==1?F:function(Se,Fe){return Fe-Se?function(xe,le,oe){return xe=Math.pow(xe,oe),le=Math.pow(le,oe)-xe,oe=1/oe,function(de){return Math.pow(xe+de*le,oe)}}(Se,Fe,Te):X(isNaN(Se)?Fe:Se)}}(ge);function be(Te,Se){var Fe=ye((Te=m(Te)).r,(Se=m(Se)).r),xe=ye(Te.g,Se.g),le=ye(Te.b,Se.b),oe=F(Te.opacity,Se.opacity);return function(de){return Te.r=Fe(de),Te.g=xe(de),Te.b=le(de),Te.opacity=oe(de),Te+""}}return be.gamma=pe,be}(1);function W(pe,ge){var ye,be=ge?ge.length:0,Te=pe?Math.min(be,pe.length):0,Se=new Array(Te),Fe=new Array(be);for(ye=0;ye<Te;++ye)Se[ye]=he(pe[ye],ge[ye]);for(;ye<be;++ye)Fe[ye]=ge[ye];return function(xe){for(ye=0;ye<Te;++ye)Fe[ye]=Se[ye](xe);return Fe}}function ie(pe,ge){var ye=new Date;return pe=+pe,ge=+ge,function(be){return ye.setTime(pe*(1-be)+ge*be),ye}}function te(pe,ge){return pe=+pe,ge=+ge,function(ye){return pe*(1-ye)+ge*ye}}function Q(pe){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},Q(pe)}function ne(pe,ge){var ye,be={},Te={};for(ye in pe!==null&&Q(pe)==="object"||(pe={}),ge!==null&&Q(ge)==="object"||(ge={}),ge)ye in pe?be[ye]=he(pe[ye],ge[ye]):Te[ye]=ge[ye];return function(Se){for(ye in be)Te[ye]=be[ye](Se);return Te}}var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J=new RegExp($.source,"g");function re(pe,ge){var ye,be,Te,Se=$.lastIndex=J.lastIndex=0,Fe=-1,xe=[],le=[];for(pe+="",ge+="";(ye=$.exec(pe))&&(be=J.exec(ge));)(Te=be.index)>Se&&(Te=ge.slice(Se,Te),xe[Fe]?xe[Fe]+=Te:xe[++Fe]=Te),(ye=ye[0])===(be=be[0])?xe[Fe]?xe[Fe]+=be:xe[++Fe]=be:(xe[++Fe]=null,le.push({i:Fe,x:te(ye,be)})),Se=J.lastIndex;return Se<ge.length&&(Te=ge.slice(Se),xe[Fe]?xe[Fe]+=Te:xe[++Fe]=Te),xe.length<2?le[0]?function(oe){return function(de){return oe(de)+""}}(le[0].x):function(oe){return function(){return oe}}(ge):(ge=le.length,function(oe){for(var de,Ce=0;Ce<ge;++Ce)xe[(de=le[Ce]).i]=de.x(oe);return xe.join("")})}function se(pe,ge){ge||(ge=[]);var ye,be=pe?Math.min(ge.length,pe.length):0,Te=ge.slice();return function(Se){for(ye=0;ye<be;++ye)Te[ye]=pe[ye]*(1-Se)+ge[ye]*Se;return Te}}function ue(pe){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},ue(pe)}function he(pe,ge){var ye,be,Te=ue(ge);return ge==null||Te==="boolean"?X(ge):(Te==="number"?te:Te==="string"?(ye=v(ge))?(ge=ye,H):re:ge instanceof v?H:ge instanceof Date?ie:(be=ge,!ArrayBuffer.isView(be)||be instanceof DataView?Array.isArray(ge)?W:typeof ge.valueOf!="function"&&typeof ge.toString!="function"||isNaN(ge)?ne:te:se))(pe,ge)}},30584:function(U){U.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(U){U.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(U){U.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(U){U.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(U){U.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(U){U.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ne={};function Ze(U){var C=Ne[U];if(C!==void 0)return C.exports;var e=Ne[U]={exports:{}};return me[U].call(e.exports,e,e.exports,Ze),e.exports}return Ze.n=function(U){var C=U&&U.__esModule?function(){return U.default}:function(){return U};return Ze.d(C,{a:C}),C},Ze.d=function(U,C){for(var e in C)Ze.o(C,e)&&!Ze.o(U,e)&&Object.defineProperty(U,e,{enumerable:!0,get:C[e]})},Ze.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Ze.o=function(U,C){return Object.prototype.hasOwnProperty.call(U,C)},Ze.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},Ze(13792)}()})})(j_);var d6=j_.exports;const U_=S2(d6);var ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(B){return this.listeners.add(B),this.onSubscribe(),()=>{this.listeners.delete(B),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sh=typeof window>"u"||"Deno"in globalThis;function El(){}function g6(B,Z){return typeof B=="function"?B(Z):B}function pv(B){return typeof B=="number"&&B>=0&&B!==1/0}function V_(B,Z){return Math.max(B+(Z||0)-Date.now(),0)}function oh(B,Z){return typeof B=="function"?B(Z):B}function ru(B,Z){return typeof B=="function"?B(Z):B}function c2(B,Z){const{type:me="all",exact:Ne,fetchStatus:Ze,predicate:U,queryKey:C,stale:e}=B;if(C){if(Ne){if(Z.queryHash!==xm(C,Z.options))return!1}else if(!qp(Z.queryKey,C))return!1}if(me!=="all"){const T=Z.isActive();if(me==="active"&&!T||me==="inactive"&&T)return!1}return!(typeof e=="boolean"&&Z.isStale()!==e||Ze&&Ze!==Z.state.fetchStatus||U&&!U(Z))}function f2(B,Z){const{exact:me,status:Ne,predicate:Ze,mutationKey:U}=B;if(U){if(!Z.options.mutationKey)return!1;if(me){if(Hp(Z.options.mutationKey)!==Hp(U))return!1}else if(!qp(Z.options.mutationKey,U))return!1}return!(Ne&&Z.state.status!==Ne||Ze&&!Ze(Z))}function xm(B,Z){return((Z==null?void 0:Z.queryKeyHashFn)||Hp)(B)}function Hp(B){return JSON.stringify(B,(Z,me)=>gv(me)?Object.keys(me).sort().reduce((Ne,Ze)=>(Ne[Ze]=me[Ze],Ne),{}):me)}function qp(B,Z){return B===Z?!0:typeof B!=typeof Z?!1:B&&Z&&typeof B=="object"&&typeof Z=="object"?!Object.keys(Z).some(me=>!qp(B[me],Z[me])):!1}function H_(B,Z){if(B===Z)return B;const me=h2(B)&&h2(Z);if(me||gv(B)&&gv(Z)){const Ne=me?B:Object.keys(B),Ze=Ne.length,U=me?Z:Object.keys(Z),C=U.length,e=me?[]:{};let T=0;for(let k=0;k<C;k++){const o=me?k:U[k];(!me&&Ne.includes(o)||me)&&B[o]===void 0&&Z[o]===void 0?(e[o]=void 0,T++):(e[o]=H_(B[o],Z[o]),e[o]===B[o]&&B[o]!==void 0&&T++)}return Ze===C&&T===Ze?B:e}return Z}function dv(B,Z){if(!Z||Object.keys(B).length!==Object.keys(Z).length)return!1;for(const me in B)if(B[me]!==Z[me])return!1;return!0}function h2(B){return Array.isArray(B)&&B.length===Object.keys(B).length}function gv(B){if(!p2(B))return!1;const Z=B.constructor;if(Z===void 0)return!0;const me=Z.prototype;return!(!p2(me)||!me.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(B)!==Object.prototype)}function p2(B){return Object.prototype.toString.call(B)==="[object Object]"}function v6(B){return new Promise(Z=>{setTimeout(Z,B)})}function vv(B,Z,me){return typeof me.structuralSharing=="function"?me.structuralSharing(B,Z):me.structuralSharing!==!1?H_(B,Z):Z}function m6(B,Z,me=0){const Ne=[...B,Z];return me&&Ne.length>me?Ne.slice(1):Ne}function y6(B,Z,me=0){const Ne=[Z,...B];return me&&Ne.length>me?Ne.slice(0,-1):Ne}var q_=Symbol();function G_(B,Z){return!B.queryFn&&(Z!=null&&Z.initialPromise)?()=>Z.initialPromise:!B.queryFn||B.queryFn===q_?()=>Promise.reject(new Error(`Missing queryFn: '${B.queryHash}'`)):B.queryFn}var nf,dc,sh,y2,x6=(y2=class extends ed{constructor(){super();Jr(this,nf);Jr(this,dc);Jr(this,sh);Ur(this,sh,Z=>{if(!Sh&&window.addEventListener){const me=()=>Z();return window.addEventListener("visibilitychange",me,!1),()=>{window.removeEventListener("visibilitychange",me)}}})}onSubscribe(){Vn(this,dc)||this.setEventListener(Vn(this,sh))}onUnsubscribe(){var Z;this.hasListeners()||((Z=Vn(this,dc))==null||Z.call(this),Ur(this,dc,void 0))}setEventListener(Z){var me;Ur(this,sh,Z),(me=Vn(this,dc))==null||me.call(this),Ur(this,dc,Z(Ne=>{typeof Ne=="boolean"?this.setFocused(Ne):this.onFocus()}))}setFocused(Z){Vn(this,nf)!==Z&&(Ur(this,nf,Z),this.onFocus())}onFocus(){const Z=this.isFocused();this.listeners.forEach(me=>{me(Z)})}isFocused(){var Z;return typeof Vn(this,nf)=="boolean"?Vn(this,nf):((Z=globalThis.document)==null?void 0:Z.visibilityState)!=="hidden"}},nf=new WeakMap,dc=new WeakMap,sh=new WeakMap,y2),bm=new x6,lh,gc,uh,x2,b6=(x2=class extends ed{constructor(){super();Jr(this,lh,!0);Jr(this,gc);Jr(this,uh);Ur(this,uh,Z=>{if(!Sh&&window.addEventListener){const me=()=>Z(!0),Ne=()=>Z(!1);return window.addEventListener("online",me,!1),window.addEventListener("offline",Ne,!1),()=>{window.removeEventListener("online",me),window.removeEventListener("offline",Ne)}}})}onSubscribe(){Vn(this,gc)||this.setEventListener(Vn(this,uh))}onUnsubscribe(){var Z;this.hasListeners()||((Z=Vn(this,gc))==null||Z.call(this),Ur(this,gc,void 0))}setEventListener(Z){var me;Ur(this,uh,Z),(me=Vn(this,gc))==null||me.call(this),Ur(this,gc,Z(this.setOnline.bind(this)))}setOnline(Z){Vn(this,lh)!==Z&&(Ur(this,lh,Z),this.listeners.forEach(Ne=>{Ne(Z)}))}isOnline(){return Vn(this,lh)}},lh=new WeakMap,gc=new WeakMap,uh=new WeakMap,x2),V0=new b6;function _6(B){return Math.min(1e3*2**B,3e4)}function W_(B){return(B??"online")==="online"?V0.isOnline():!0}var Y_=class{constructor(B){this.revert=B==null?void 0:B.revert,this.silent=B==null?void 0:B.silent}};function x1(B){return B instanceof Y_}function X_(B){let Z=!1,me=0,Ne=!1,Ze,U,C;const e=new Promise((r,n)=>{U=r,C=n}),T=r=>{var n;Ne||(s(new Y_(r)),(n=B.abort)==null||n.call(B))},k=()=>{Z=!0},o=()=>{Z=!1},_=()=>bm.isFocused()&&(B.networkMode==="always"||V0.isOnline())&&B.canRun(),b=()=>W_(B.networkMode)&&B.canRun(),f=r=>{var n;Ne||(Ne=!0,(n=B.onSuccess)==null||n.call(B,r),Ze==null||Ze(),U(r))},s=r=>{var n;Ne||(Ne=!0,(n=B.onError)==null||n.call(B,r),Ze==null||Ze(),C(r))},t=()=>new Promise(r=>{var n;Ze=a=>{(Ne||_())&&r(a)},(n=B.onPause)==null||n.call(B)}).then(()=>{var r;Ze=void 0,Ne||(r=B.onContinue)==null||r.call(B)}),i=()=>{if(Ne)return;let r;const n=me===0?B.initialPromise:void 0;try{r=n??B.fn()}catch(a){r=Promise.reject(a)}Promise.resolve(r).then(f).catch(a=>{var x;if(Ne)return;const l=B.retry??(Sh?0:3),u=B.retryDelay??_6,h=typeof u=="function"?u(me,a):u,c=l===!0||typeof l=="number"&&me<l||typeof l=="function"&&l(me,a);if(Z||!c){s(a);return}me++,(x=B.onFail)==null||x.call(B,me,a),v6(h).then(()=>_()?void 0:t()).then(()=>{Z?s(a):i()})})};return{promise:e,cancel:T,continue:()=>(Ze==null||Ze(),e),cancelRetry:k,continueRetry:o,canStart:b,start:()=>(b()?i():t().then(i),e)}}function w6(){let B=[],Z=0,me=b=>{b()},Ne=b=>{b()},Ze=b=>setTimeout(b,0);const U=b=>{Ze=b},C=b=>{let f;Z++;try{f=b()}finally{Z--,Z||k()}return f},e=b=>{Z?B.push(b):Ze(()=>{me(b)})},T=b=>(...f)=>{e(()=>{b(...f)})},k=()=>{const b=B;B=[],b.length&&Ze(()=>{Ne(()=>{b.forEach(f=>{me(f)})})})};return{batch:C,batchCalls:T,schedule:e,setNotifyFunction:b=>{me=b},setBatchNotifyFunction:b=>{Ne=b},setScheduler:U}}var Lo=w6(),rf,b2,Z_=(b2=class{constructor(){Jr(this,rf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pv(this.gcTime)&&Ur(this,rf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(B){this.gcTime=Math.max(this.gcTime||0,B??(Sh?1/0:5*60*1e3))}clearGcTimeout(){Vn(this,rf)&&(clearTimeout(Vn(this,rf)),Ur(this,rf,void 0))}},rf=new WeakMap,b2),ch,fh,Sl,Yo,Gp,af,eu,Fu,_2,T6=(_2=class extends Z_{constructor(Z){super();Jr(this,eu);Jr(this,ch);Jr(this,fh);Jr(this,Sl);Jr(this,Yo);Jr(this,Gp);Jr(this,af);Ur(this,af,!1),Ur(this,Gp,Z.defaultOptions),this.setOptions(Z.options),this.observers=[],Ur(this,Sl,Z.cache),this.queryKey=Z.queryKey,this.queryHash=Z.queryHash,Ur(this,ch,Z.state||k6(this.options)),this.state=Vn(this,ch),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var Z;return(Z=Vn(this,Yo))==null?void 0:Z.promise}setOptions(Z){this.options={...Vn(this,Gp),...Z},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Vn(this,Sl).remove(this)}setData(Z,me){const Ne=vv(this.state.data,Z,this.options);return mi(this,eu,Fu).call(this,{data:Ne,type:"success",dataUpdatedAt:me==null?void 0:me.updatedAt,manual:me==null?void 0:me.manual}),Ne}setState(Z,me){mi(this,eu,Fu).call(this,{type:"setState",state:Z,setStateOptions:me})}cancel(Z){var Ne,Ze;const me=(Ne=Vn(this,Yo))==null?void 0:Ne.promise;return(Ze=Vn(this,Yo))==null||Ze.cancel(Z),me?me.then(El).catch(El):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Vn(this,ch))}isActive(){return this.observers.some(Z=>ru(Z.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(Z=>Z.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(Z=0){return this.state.isInvalidated||this.state.data===void 0||!V_(this.state.dataUpdatedAt,Z)}onFocus(){var me;const Z=this.observers.find(Ne=>Ne.shouldFetchOnWindowFocus());Z==null||Z.refetch({cancelRefetch:!1}),(me=Vn(this,Yo))==null||me.continue()}onOnline(){var me;const Z=this.observers.find(Ne=>Ne.shouldFetchOnReconnect());Z==null||Z.refetch({cancelRefetch:!1}),(me=Vn(this,Yo))==null||me.continue()}addObserver(Z){this.observers.includes(Z)||(this.observers.push(Z),this.clearGcTimeout(),Vn(this,Sl).notify({type:"observerAdded",query:this,observer:Z}))}removeObserver(Z){this.observers.includes(Z)&&(this.observers=this.observers.filter(me=>me!==Z),this.observers.length||(Vn(this,Yo)&&(Vn(this,af)?Vn(this,Yo).cancel({revert:!0}):Vn(this,Yo).cancelRetry()),this.scheduleGc()),Vn(this,Sl).notify({type:"observerRemoved",query:this,observer:Z}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mi(this,eu,Fu).call(this,{type:"invalidate"})}fetch(Z,me){var T,k,o;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(me!=null&&me.cancelRefetch))this.cancel({silent:!0});else if(Vn(this,Yo))return Vn(this,Yo).continueRetry(),Vn(this,Yo).promise}if(Z&&this.setOptions(Z),!this.options.queryFn){const _=this.observers.find(b=>b.options.queryFn);_&&this.setOptions(_.options)}const Ne=new AbortController,Ze=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ur(this,af,!0),Ne.signal)})},U=()=>{const _=G_(this.options,me),b={queryKey:this.queryKey,meta:this.meta};return Ze(b),Ur(this,af,!1),this.options.persister?this.options.persister(_,b,this):_(b)},C={fetchOptions:me,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:U};Ze(C),(T=this.options.behavior)==null||T.onFetch(C,this),Ur(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((k=C.fetchOptions)==null?void 0:k.meta))&&mi(this,eu,Fu).call(this,{type:"fetch",meta:(o=C.fetchOptions)==null?void 0:o.meta});const e=_=>{var b,f,s,t;x1(_)&&_.silent||mi(this,eu,Fu).call(this,{type:"error",error:_}),x1(_)||((f=(b=Vn(this,Sl).config).onError)==null||f.call(b,_,this),(t=(s=Vn(this,Sl).config).onSettled)==null||t.call(s,this.state.data,_,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ur(this,Yo,X_({initialPromise:me==null?void 0:me.initialPromise,fn:C.fetchFn,abort:Ne.abort.bind(Ne),onSuccess:_=>{var b,f,s,t;if(_===void 0){e(new Error(`${this.queryHash} data is undefined`));return}this.setData(_),(f=(b=Vn(this,Sl).config).onSuccess)==null||f.call(b,_,this),(t=(s=Vn(this,Sl).config).onSettled)==null||t.call(s,_,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:e,onFail:(_,b)=>{mi(this,eu,Fu).call(this,{type:"failed",failureCount:_,error:b})},onPause:()=>{mi(this,eu,Fu).call(this,{type:"pause"})},onContinue:()=>{mi(this,eu,Fu).call(this,{type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay,networkMode:C.options.networkMode,canRun:()=>!0})),Vn(this,Yo).start()}},ch=new WeakMap,fh=new WeakMap,Sl=new WeakMap,Yo=new WeakMap,Gp=new WeakMap,af=new WeakMap,eu=new WeakSet,Fu=function(Z){const me=Ne=>{switch(Z.type){case"failed":return{...Ne,fetchFailureCount:Z.failureCount,fetchFailureReason:Z.error};case"pause":return{...Ne,fetchStatus:"paused"};case"continue":return{...Ne,fetchStatus:"fetching"};case"fetch":return{...Ne,...K_(Ne.data,this.options),fetchMeta:Z.meta??null};case"success":return{...Ne,data:Z.data,dataUpdateCount:Ne.dataUpdateCount+1,dataUpdatedAt:Z.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!Z.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const Ze=Z.error;return x1(Ze)&&Ze.revert&&Vn(this,fh)?{...Vn(this,fh),fetchStatus:"idle"}:{...Ne,error:Ze,errorUpdateCount:Ne.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:Ne.fetchFailureCount+1,fetchFailureReason:Ze,fetchStatus:"idle",status:"error"};case"invalidate":return{...Ne,isInvalidated:!0};case"setState":return{...Ne,...Z.state}}};this.state=me(this.state),Lo.batch(()=>{this.observers.forEach(Ne=>{Ne.onQueryUpdate()}),Vn(this,Sl).notify({query:this,type:"updated",action:Z})})},_2);function K_(B,Z){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W_(Z.networkMode)?"fetching":"paused",...B===void 0&&{error:null,status:"pending"}}}function k6(B){const Z=typeof B.initialData=="function"?B.initialData():B.initialData,me=Z!==void 0,Ne=me?typeof B.initialDataUpdatedAt=="function"?B.initialDataUpdatedAt():B.initialDataUpdatedAt:0;return{data:Z,dataUpdateCount:0,dataUpdatedAt:me?Ne??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:me?"success":"pending",fetchStatus:"idle"}}var _u,w2,A6=(w2=class extends ed{constructor(Z={}){super();Jr(this,_u);this.config=Z,Ur(this,_u,new Map)}build(Z,me,Ne){const Ze=me.queryKey,U=me.queryHash??xm(Ze,me);let C=this.get(U);return C||(C=new T6({cache:this,queryKey:Ze,queryHash:U,options:Z.defaultQueryOptions(me),state:Ne,defaultOptions:Z.getQueryDefaults(Ze)}),this.add(C)),C}add(Z){Vn(this,_u).has(Z.queryHash)||(Vn(this,_u).set(Z.queryHash,Z),this.notify({type:"added",query:Z}))}remove(Z){const me=Vn(this,_u).get(Z.queryHash);me&&(Z.destroy(),me===Z&&Vn(this,_u).delete(Z.queryHash),this.notify({type:"removed",query:Z}))}clear(){Lo.batch(()=>{this.getAll().forEach(Z=>{this.remove(Z)})})}get(Z){return Vn(this,_u).get(Z)}getAll(){return[...Vn(this,_u).values()]}find(Z){const me={exact:!0,...Z};return this.getAll().find(Ne=>c2(me,Ne))}findAll(Z={}){const me=this.getAll();return Object.keys(Z).length>0?me.filter(Ne=>c2(Z,Ne)):me}notify(Z){Lo.batch(()=>{this.listeners.forEach(me=>{me(Z)})})}onFocus(){Lo.batch(()=>{this.getAll().forEach(Z=>{Z.onFocus()})})}onOnline(){Lo.batch(()=>{this.getAll().forEach(Z=>{Z.onOnline()})})}},_u=new WeakMap,w2),wu,cs,of,Tu,uc,T2,M6=(T2=class extends Z_{constructor(Z){super();Jr(this,Tu);Jr(this,wu);Jr(this,cs);Jr(this,of);this.mutationId=Z.mutationId,Ur(this,cs,Z.mutationCache),Ur(this,wu,[]),this.state=Z.state||S6(),this.setOptions(Z.options),this.scheduleGc()}setOptions(Z){this.options=Z,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(Z){Vn(this,wu).includes(Z)||(Vn(this,wu).push(Z),this.clearGcTimeout(),Vn(this,cs).notify({type:"observerAdded",mutation:this,observer:Z}))}removeObserver(Z){Ur(this,wu,Vn(this,wu).filter(me=>me!==Z)),this.scheduleGc(),Vn(this,cs).notify({type:"observerRemoved",mutation:this,observer:Z})}optionalRemove(){Vn(this,wu).length||(this.state.status==="pending"?this.scheduleGc():Vn(this,cs).remove(this))}continue(){var Z;return((Z=Vn(this,of))==null?void 0:Z.continue())??this.execute(this.state.variables)}async execute(Z){var Ze,U,C,e,T,k,o,_,b,f,s,t,i,r,n,a,l,u,h,c;Ur(this,of,X_({fn:()=>this.options.mutationFn?this.options.mutationFn(Z):Promise.reject(new Error("No mutationFn found")),onFail:(x,p)=>{mi(this,Tu,uc).call(this,{type:"failed",failureCount:x,error:p})},onPause:()=>{mi(this,Tu,uc).call(this,{type:"pause"})},onContinue:()=>{mi(this,Tu,uc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Vn(this,cs).canRun(this)}));const me=this.state.status==="pending",Ne=!Vn(this,of).canStart();try{if(!me){mi(this,Tu,uc).call(this,{type:"pending",variables:Z,isPaused:Ne}),await((U=(Ze=Vn(this,cs).config).onMutate)==null?void 0:U.call(Ze,Z,this));const p=await((e=(C=this.options).onMutate)==null?void 0:e.call(C,Z));p!==this.state.context&&mi(this,Tu,uc).call(this,{type:"pending",context:p,variables:Z,isPaused:Ne})}const x=await Vn(this,of).start();return await((k=(T=Vn(this,cs).config).onSuccess)==null?void 0:k.call(T,x,Z,this.state.context,this)),await((_=(o=this.options).onSuccess)==null?void 0:_.call(o,x,Z,this.state.context)),await((f=(b=Vn(this,cs).config).onSettled)==null?void 0:f.call(b,x,null,this.state.variables,this.state.context,this)),await((t=(s=this.options).onSettled)==null?void 0:t.call(s,x,null,Z,this.state.context)),mi(this,Tu,uc).call(this,{type:"success",data:x}),x}catch(x){try{throw await((r=(i=Vn(this,cs).config).onError)==null?void 0:r.call(i,x,Z,this.state.context,this)),await((a=(n=this.options).onError)==null?void 0:a.call(n,x,Z,this.state.context)),await((u=(l=Vn(this,cs).config).onSettled)==null?void 0:u.call(l,void 0,x,this.state.variables,this.state.context,this)),await((c=(h=this.options).onSettled)==null?void 0:c.call(h,void 0,x,Z,this.state.context)),x}finally{mi(this,Tu,uc).call(this,{type:"error",error:x})}}finally{Vn(this,cs).runNext(this)}}},wu=new WeakMap,cs=new WeakMap,of=new WeakMap,Tu=new WeakSet,uc=function(Z){const me=Ne=>{switch(Z.type){case"failed":return{...Ne,failureCount:Z.failureCount,failureReason:Z.error};case"pause":return{...Ne,isPaused:!0};case"continue":return{...Ne,isPaused:!1};case"pending":return{...Ne,context:Z.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:Z.isPaused,status:"pending",variables:Z.variables,submittedAt:Date.now()};case"success":return{...Ne,data:Z.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...Ne,data:void 0,error:Z.error,failureCount:Ne.failureCount+1,failureReason:Z.error,isPaused:!1,status:"error"}}};this.state=me(this.state),Lo.batch(()=>{Vn(this,wu).forEach(Ne=>{Ne.onMutationUpdate(Z)}),Vn(this,cs).notify({mutation:this,type:"updated",action:Z})})},T2);function S6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rl,Wp,k2,E6=(k2=class extends ed{constructor(Z={}){super();Jr(this,rl);Jr(this,Wp);this.config=Z,Ur(this,rl,new Map),Ur(this,Wp,Date.now())}build(Z,me,Ne){const Ze=new M6({mutationCache:this,mutationId:++Ud(this,Wp)._,options:Z.defaultMutationOptions(me),state:Ne});return this.add(Ze),Ze}add(Z){const me=a0(Z),Ne=Vn(this,rl).get(me)??[];Ne.push(Z),Vn(this,rl).set(me,Ne),this.notify({type:"added",mutation:Z})}remove(Z){var Ne;const me=a0(Z);if(Vn(this,rl).has(me)){const Ze=(Ne=Vn(this,rl).get(me))==null?void 0:Ne.filter(U=>U!==Z);Ze&&(Ze.length===0?Vn(this,rl).delete(me):Vn(this,rl).set(me,Ze))}this.notify({type:"removed",mutation:Z})}canRun(Z){var Ne;const me=(Ne=Vn(this,rl).get(a0(Z)))==null?void 0:Ne.find(Ze=>Ze.state.status==="pending");return!me||me===Z}runNext(Z){var Ne;const me=(Ne=Vn(this,rl).get(a0(Z)))==null?void 0:Ne.find(Ze=>Ze!==Z&&Ze.state.isPaused);return(me==null?void 0:me.continue())??Promise.resolve()}clear(){Lo.batch(()=>{this.getAll().forEach(Z=>{this.remove(Z)})})}getAll(){return[...Vn(this,rl).values()].flat()}find(Z){const me={exact:!0,...Z};return this.getAll().find(Ne=>f2(me,Ne))}findAll(Z={}){return this.getAll().filter(me=>f2(Z,me))}notify(Z){Lo.batch(()=>{this.listeners.forEach(me=>{me(Z)})})}resumePausedMutations(){const Z=this.getAll().filter(me=>me.state.isPaused);return Lo.batch(()=>Promise.all(Z.map(me=>me.continue().catch(El))))}},rl=new WeakMap,Wp=new WeakMap,k2);function a0(B){var Z;return((Z=B.options.scope)==null?void 0:Z.id)??String(B.mutationId)}function L6(B){return{onFetch:(Z,me)=>{const Ne=async()=>{var s,t,i,r,n;const Ze=Z.options,U=(i=(t=(s=Z.fetchOptions)==null?void 0:s.meta)==null?void 0:t.fetchMore)==null?void 0:i.direction,C=((r=Z.state.data)==null?void 0:r.pages)||[],e=((n=Z.state.data)==null?void 0:n.pageParams)||[],T={pages:[],pageParams:[]};let k=!1;const o=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(Z.signal.aborted?k=!0:Z.signal.addEventListener("abort",()=>{k=!0}),Z.signal)})},_=G_(Z.options,Z.fetchOptions),b=async(a,l,u)=>{if(k)return Promise.reject();if(l==null&&a.pages.length)return Promise.resolve(a);const h={queryKey:Z.queryKey,pageParam:l,direction:u?"backward":"forward",meta:Z.options.meta};o(h);const c=await _(h),{maxPages:x}=Z.options,p=u?y6:m6;return{pages:p(a.pages,c,x),pageParams:p(a.pageParams,l,x)}};let f;if(U&&C.length){const a=U==="backward",l=a?C6:d2,u={pages:C,pageParams:e},h=l(Ze,u);f=await b(u,h,a)}else{f=await b(T,e[0]??Ze.initialPageParam);const a=B??C.length;for(let l=1;l<a;l++){const u=d2(Ze,f);if(u==null)break;f=await b(f,u)}}return f};Z.options.persister?Z.fetchFn=()=>{var Ze,U;return(U=(Ze=Z.options).persister)==null?void 0:U.call(Ze,Ne,{queryKey:Z.queryKey,meta:Z.options.meta,signal:Z.signal},me)}:Z.fetchFn=Ne}}}function d2(B,{pages:Z,pageParams:me}){const Ne=Z.length-1;return Z.length>0?B.getNextPageParam(Z[Ne],Z,me[Ne],me):void 0}function C6(B,{pages:Z,pageParams:me}){var Ne;return Z.length>0?(Ne=B.getPreviousPageParam)==null?void 0:Ne.call(B,Z[0],Z,me[0],me):void 0}var La,vc,mc,hh,ph,yc,dh,gh,A2,P6=(A2=class{constructor(B={}){Jr(this,La);Jr(this,vc);Jr(this,mc);Jr(this,hh);Jr(this,ph);Jr(this,yc);Jr(this,dh);Jr(this,gh);Ur(this,La,B.queryCache||new A6),Ur(this,vc,B.mutationCache||new E6),Ur(this,mc,B.defaultOptions||{}),Ur(this,hh,new Map),Ur(this,ph,new Map),Ur(this,yc,0)}mount(){Ud(this,yc)._++,Vn(this,yc)===1&&(Ur(this,dh,bm.subscribe(async B=>{B&&(await this.resumePausedMutations(),Vn(this,La).onFocus())})),Ur(this,gh,V0.subscribe(async B=>{B&&(await this.resumePausedMutations(),Vn(this,La).onOnline())})))}unmount(){var B,Z;Ud(this,yc)._--,Vn(this,yc)===0&&((B=Vn(this,dh))==null||B.call(this),Ur(this,dh,void 0),(Z=Vn(this,gh))==null||Z.call(this),Ur(this,gh,void 0))}isFetching(B){return Vn(this,La).findAll({...B,fetchStatus:"fetching"}).length}isMutating(B){return Vn(this,vc).findAll({...B,status:"pending"}).length}getQueryData(B){var me;const Z=this.defaultQueryOptions({queryKey:B});return(me=Vn(this,La).get(Z.queryHash))==null?void 0:me.state.data}ensureQueryData(B){const Z=this.getQueryData(B.queryKey);if(Z===void 0)return this.fetchQuery(B);{const me=this.defaultQueryOptions(B),Ne=Vn(this,La).build(this,me);return B.revalidateIfStale&&Ne.isStaleByTime(oh(me.staleTime,Ne))&&this.prefetchQuery(me),Promise.resolve(Z)}}getQueriesData(B){return Vn(this,La).findAll(B).map(({queryKey:Z,state:me})=>{const Ne=me.data;return[Z,Ne]})}setQueryData(B,Z,me){const Ne=this.defaultQueryOptions({queryKey:B}),Ze=Vn(this,La).get(Ne.queryHash),U=Ze==null?void 0:Ze.state.data,C=g6(Z,U);if(C!==void 0)return Vn(this,La).build(this,Ne).setData(C,{...me,manual:!0})}setQueriesData(B,Z,me){return Lo.batch(()=>Vn(this,La).findAll(B).map(({queryKey:Ne})=>[Ne,this.setQueryData(Ne,Z,me)]))}getQueryState(B){var me;const Z=this.defaultQueryOptions({queryKey:B});return(me=Vn(this,La).get(Z.queryHash))==null?void 0:me.state}removeQueries(B){const Z=Vn(this,La);Lo.batch(()=>{Z.findAll(B).forEach(me=>{Z.remove(me)})})}resetQueries(B,Z){const me=Vn(this,La),Ne={type:"active",...B};return Lo.batch(()=>(me.findAll(B).forEach(Ze=>{Ze.reset()}),this.refetchQueries(Ne,Z)))}cancelQueries(B={},Z={}){const me={revert:!0,...Z},Ne=Lo.batch(()=>Vn(this,La).findAll(B).map(Ze=>Ze.cancel(me)));return Promise.all(Ne).then(El).catch(El)}invalidateQueries(B={},Z={}){return Lo.batch(()=>{if(Vn(this,La).findAll(B).forEach(Ne=>{Ne.invalidate()}),B.refetchType==="none")return Promise.resolve();const me={...B,type:B.refetchType??B.type??"active"};return this.refetchQueries(me,Z)})}refetchQueries(B={},Z){const me={...Z,cancelRefetch:(Z==null?void 0:Z.cancelRefetch)??!0},Ne=Lo.batch(()=>Vn(this,La).findAll(B).filter(Ze=>!Ze.isDisabled()).map(Ze=>{let U=Ze.fetch(void 0,me);return me.throwOnError||(U=U.catch(El)),Ze.state.fetchStatus==="paused"?Promise.resolve():U}));return Promise.all(Ne).then(El)}fetchQuery(B){const Z=this.defaultQueryOptions(B);Z.retry===void 0&&(Z.retry=!1);const me=Vn(this,La).build(this,Z);return me.isStaleByTime(oh(Z.staleTime,me))?me.fetch(Z):Promise.resolve(me.state.data)}prefetchQuery(B){return this.fetchQuery(B).then(El).catch(El)}fetchInfiniteQuery(B){return B.behavior=L6(B.pages),this.fetchQuery(B)}prefetchInfiniteQuery(B){return this.fetchInfiniteQuery(B).then(El).catch(El)}resumePausedMutations(){return V0.isOnline()?Vn(this,vc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Vn(this,La)}getMutationCache(){return Vn(this,vc)}getDefaultOptions(){return Vn(this,mc)}setDefaultOptions(B){Ur(this,mc,B)}setQueryDefaults(B,Z){Vn(this,hh).set(Hp(B),{queryKey:B,defaultOptions:Z})}getQueryDefaults(B){const Z=[...Vn(this,hh).values()];let me={};return Z.forEach(Ne=>{qp(B,Ne.queryKey)&&(me={...me,...Ne.defaultOptions})}),me}setMutationDefaults(B,Z){Vn(this,ph).set(Hp(B),{mutationKey:B,defaultOptions:Z})}getMutationDefaults(B){const Z=[...Vn(this,ph).values()];let me={};return Z.forEach(Ne=>{qp(B,Ne.mutationKey)&&(me={...me,...Ne.defaultOptions})}),me}defaultQueryOptions(B){if(B._defaulted)return B;const Z={...Vn(this,mc).queries,...this.getQueryDefaults(B.queryKey),...B,_defaulted:!0};return Z.queryHash||(Z.queryHash=xm(Z.queryKey,Z)),Z.refetchOnReconnect===void 0&&(Z.refetchOnReconnect=Z.networkMode!=="always"),Z.throwOnError===void 0&&(Z.throwOnError=!!Z.suspense),!Z.networkMode&&Z.persister&&(Z.networkMode="offlineFirst"),Z.enabled!==!0&&Z.queryFn===q_&&(Z.enabled=!1),Z}defaultMutationOptions(B){return B!=null&&B._defaulted?B:{...Vn(this,mc).mutations,...(B==null?void 0:B.mutationKey)&&this.getMutationDefaults(B.mutationKey),...B,_defaulted:!0}}clear(){Vn(this,La).clear(),Vn(this,vc).clear()}},La=new WeakMap,vc=new WeakMap,mc=new WeakMap,hh=new WeakMap,ph=new WeakMap,yc=new WeakMap,dh=new WeakMap,gh=new WeakMap,A2),Fs,yi,Yp,fs,sf,vh,ku,Xp,mh,yh,lf,uf,xc,xh,Vi,vp,mv,yv,xv,bv,_v,wv,Tv,J_,M2,O6=(M2=class extends ed{constructor(Z,me){super();Jr(this,Vi);Jr(this,Fs);Jr(this,yi);Jr(this,Yp);Jr(this,fs);Jr(this,sf);Jr(this,vh);Jr(this,ku);Jr(this,Xp);Jr(this,mh);Jr(this,yh);Jr(this,lf);Jr(this,uf);Jr(this,xc);Jr(this,xh,new Set);this.options=me,Ur(this,Fs,Z),Ur(this,ku,null),this.bindMethods(),this.setOptions(me)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Vn(this,yi).addObserver(this),g2(Vn(this,yi),this.options)?mi(this,Vi,vp).call(this):this.updateResult(),mi(this,Vi,bv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kv(Vn(this,yi),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kv(Vn(this,yi),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mi(this,Vi,_v).call(this),mi(this,Vi,wv).call(this),Vn(this,yi).removeObserver(this)}setOptions(Z,me){const Ne=this.options,Ze=Vn(this,yi);if(this.options=Vn(this,Fs).defaultQueryOptions(Z),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ru(this.options.enabled,Vn(this,yi))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mi(this,Vi,Tv).call(this),Vn(this,yi).setOptions(this.options),Ne._defaulted&&!dv(this.options,Ne)&&Vn(this,Fs).getQueryCache().notify({type:"observerOptionsUpdated",query:Vn(this,yi),observer:this});const U=this.hasListeners();U&&v2(Vn(this,yi),Ze,this.options,Ne)&&mi(this,Vi,vp).call(this),this.updateResult(me),U&&(Vn(this,yi)!==Ze||ru(this.options.enabled,Vn(this,yi))!==ru(Ne.enabled,Vn(this,yi))||oh(this.options.staleTime,Vn(this,yi))!==oh(Ne.staleTime,Vn(this,yi)))&&mi(this,Vi,mv).call(this);const C=mi(this,Vi,yv).call(this);U&&(Vn(this,yi)!==Ze||ru(this.options.enabled,Vn(this,yi))!==ru(Ne.enabled,Vn(this,yi))||C!==Vn(this,xc))&&mi(this,Vi,xv).call(this,C)}getOptimisticResult(Z){const me=Vn(this,Fs).getQueryCache().build(Vn(this,Fs),Z),Ne=this.createResult(me,Z);return z6(this,Ne)&&(Ur(this,fs,Ne),Ur(this,vh,this.options),Ur(this,sf,Vn(this,yi).state)),Ne}getCurrentResult(){return Vn(this,fs)}trackResult(Z,me){const Ne={};return Object.keys(Z).forEach(Ze=>{Object.defineProperty(Ne,Ze,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(Ze),me==null||me(Ze),Z[Ze])})}),Ne}trackProp(Z){Vn(this,xh).add(Z)}getCurrentQuery(){return Vn(this,yi)}refetch({...Z}={}){return this.fetch({...Z})}fetchOptimistic(Z){const me=Vn(this,Fs).defaultQueryOptions(Z),Ne=Vn(this,Fs).getQueryCache().build(Vn(this,Fs),me);return Ne.isFetchingOptimistic=!0,Ne.fetch().then(()=>this.createResult(Ne,me))}fetch(Z){return mi(this,Vi,vp).call(this,{...Z,cancelRefetch:Z.cancelRefetch??!0}).then(()=>(this.updateResult(),Vn(this,fs)))}createResult(Z,me){var c;const Ne=Vn(this,yi),Ze=this.options,U=Vn(this,fs),C=Vn(this,sf),e=Vn(this,vh),k=Z!==Ne?Z.state:Vn(this,Yp),{state:o}=Z;let _={...o},b=!1,f;if(me._optimisticResults){const x=this.hasListeners(),p=!x&&g2(Z,me),v=x&&v2(Z,Ne,me,Ze);(p||v)&&(_={..._,...K_(o.data,Z.options)}),me._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:s,errorUpdatedAt:t,status:i}=_;if(me.select&&_.data!==void 0)if(U&&_.data===(C==null?void 0:C.data)&&me.select===Vn(this,Xp))f=Vn(this,mh);else try{Ur(this,Xp,me.select),f=me.select(_.data),f=vv(U==null?void 0:U.data,f,me),Ur(this,mh,f),Ur(this,ku,null)}catch(x){Ur(this,ku,x)}else f=_.data;if(me.placeholderData!==void 0&&f===void 0&&i==="pending"){let x;if(U!=null&&U.isPlaceholderData&&me.placeholderData===(e==null?void 0:e.placeholderData))x=U.data;else if(x=typeof me.placeholderData=="function"?me.placeholderData((c=Vn(this,yh))==null?void 0:c.state.data,Vn(this,yh)):me.placeholderData,me.select&&x!==void 0)try{x=me.select(x),Ur(this,ku,null)}catch(p){Ur(this,ku,p)}x!==void 0&&(i="success",f=vv(U==null?void 0:U.data,x,me),b=!0)}Vn(this,ku)&&(s=Vn(this,ku),f=Vn(this,mh),t=Date.now(),i="error");const r=_.fetchStatus==="fetching",n=i==="pending",a=i==="error",l=n&&r,u=f!==void 0;return{status:i,fetchStatus:_.fetchStatus,isPending:n,isSuccess:i==="success",isError:a,isInitialLoading:l,isLoading:l,data:f,dataUpdatedAt:_.dataUpdatedAt,error:s,errorUpdatedAt:t,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>k.dataUpdateCount||_.errorUpdateCount>k.errorUpdateCount,isFetching:r,isRefetching:r&&!n,isLoadingError:a&&!u,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:a&&u,isStale:_m(Z,me),refetch:this.refetch}}updateResult(Z){const me=Vn(this,fs),Ne=this.createResult(Vn(this,yi),this.options);if(Ur(this,sf,Vn(this,yi).state),Ur(this,vh,this.options),Vn(this,sf).data!==void 0&&Ur(this,yh,Vn(this,yi)),dv(Ne,me))return;Ur(this,fs,Ne);const Ze={},U=()=>{if(!me)return!0;const{notifyOnChangeProps:C}=this.options,e=typeof C=="function"?C():C;if(e==="all"||!e&&!Vn(this,xh).size)return!0;const T=new Set(e??Vn(this,xh));return this.options.throwOnError&&T.add("error"),Object.keys(Vn(this,fs)).some(k=>{const o=k;return Vn(this,fs)[o]!==me[o]&&T.has(o)})};(Z==null?void 0:Z.listeners)!==!1&&U()&&(Ze.listeners=!0),mi(this,Vi,J_).call(this,{...Ze,...Z})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mi(this,Vi,bv).call(this)}},Fs=new WeakMap,yi=new WeakMap,Yp=new WeakMap,fs=new WeakMap,sf=new WeakMap,vh=new WeakMap,ku=new WeakMap,Xp=new WeakMap,mh=new WeakMap,yh=new WeakMap,lf=new WeakMap,uf=new WeakMap,xc=new WeakMap,xh=new WeakMap,Vi=new WeakSet,vp=function(Z){mi(this,Vi,Tv).call(this);let me=Vn(this,yi).fetch(this.options,Z);return Z!=null&&Z.throwOnError||(me=me.catch(El)),me},mv=function(){mi(this,Vi,_v).call(this);const Z=oh(this.options.staleTime,Vn(this,yi));if(Sh||Vn(this,fs).isStale||!pv(Z))return;const Ne=V_(Vn(this,fs).dataUpdatedAt,Z)+1;Ur(this,lf,setTimeout(()=>{Vn(this,fs).isStale||this.updateResult()},Ne))},yv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Vn(this,yi)):this.options.refetchInterval)??!1},xv=function(Z){mi(this,Vi,wv).call(this),Ur(this,xc,Z),!(Sh||ru(this.options.enabled,Vn(this,yi))===!1||!pv(Vn(this,xc))||Vn(this,xc)===0)&&Ur(this,uf,setInterval(()=>{(this.options.refetchIntervalInBackground||bm.isFocused())&&mi(this,Vi,vp).call(this)},Vn(this,xc)))},bv=function(){mi(this,Vi,mv).call(this),mi(this,Vi,xv).call(this,mi(this,Vi,yv).call(this))},_v=function(){Vn(this,lf)&&(clearTimeout(Vn(this,lf)),Ur(this,lf,void 0))},wv=function(){Vn(this,uf)&&(clearInterval(Vn(this,uf)),Ur(this,uf,void 0))},Tv=function(){const Z=Vn(this,Fs).getQueryCache().build(Vn(this,Fs),this.options);if(Z===Vn(this,yi))return;const me=Vn(this,yi);Ur(this,yi,Z),Ur(this,Yp,Z.state),this.hasListeners()&&(me==null||me.removeObserver(this),Z.addObserver(this))},J_=function(Z){Lo.batch(()=>{Z.listeners&&this.listeners.forEach(me=>{me(Vn(this,fs))}),Vn(this,Fs).getQueryCache().notify({query:Vn(this,yi),type:"observerResultsUpdated"})})},M2);function I6(B,Z){return ru(Z.enabled,B)!==!1&&B.state.data===void 0&&!(B.state.status==="error"&&Z.retryOnMount===!1)}function g2(B,Z){return I6(B,Z)||B.state.data!==void 0&&kv(B,Z,Z.refetchOnMount)}function kv(B,Z,me){if(ru(Z.enabled,B)!==!1){const Ne=typeof me=="function"?me(B):me;return Ne==="always"||Ne!==!1&&_m(B,Z)}return!1}function v2(B,Z,me,Ne){return(B!==Z||ru(Ne.enabled,B)===!1)&&(!me.suspense||B.state.status!=="error")&&_m(B,me)}function _m(B,Z){return ru(Z.enabled,B)!==!1&&B.isStaleByTime(oh(Z.staleTime,B))}function z6(B,Z){return!dv(B.getCurrentResult(),Z)}var $_=ps.createContext(void 0),D6=B=>{const Z=ps.useContext($_);if(!Z)throw new Error("No QueryClient set, use QueryClientProvider to set one");return Z},R6=({client:B,children:Z})=>(ps.useEffect(()=>(B.mount(),()=>{B.unmount()}),[B]),ju.jsx($_.Provider,{value:B,children:Z})),Q_=ps.createContext(!1),F6=()=>ps.useContext(Q_);Q_.Provider;function B6(){let B=!1;return{clearReset:()=>{B=!1},reset:()=>{B=!0},isReset:()=>B}}var N6=ps.createContext(B6()),j6=()=>ps.useContext(N6);function U6(B,Z){return typeof B=="function"?B(...Z):!!B}var V6=(B,Z)=>{(B.suspense||B.throwOnError)&&(Z.isReset()||(B.retryOnMount=!1))},H6=B=>{ps.useEffect(()=>{B.clearReset()},[B])},q6=({result:B,errorResetBoundary:Z,throwOnError:me,query:Ne})=>B.isError&&!Z.isReset()&&!B.isFetching&&Ne&&U6(me,[B.error,Ne]),G6=B=>{B.suspense&&typeof B.staleTime!="number"&&(B.staleTime=1e3)},W6=(B,Z)=>(B==null?void 0:B.suspense)&&Z.isPending,Y6=(B,Z,me)=>Z.fetchOptimistic(B).catch(()=>{me.clearReset()});function X6(B,Z,me){var k,o,_,b;const Ne=D6(),Ze=F6(),U=j6(),C=Ne.defaultQueryOptions(B);(o=(k=Ne.getDefaultOptions().queries)==null?void 0:k._experimental_beforeQuery)==null||o.call(k,C),C._optimisticResults=Ze?"isRestoring":"optimistic",G6(C),V6(C,U),H6(U);const[e]=ps.useState(()=>new Z(Ne,C)),T=e.getOptimisticResult(C);if(ps.useSyncExternalStore(ps.useCallback(f=>{const s=Ze?()=>{}:e.subscribe(Lo.batchCalls(f));return e.updateResult(),s},[e,Ze]),()=>e.getCurrentResult(),()=>e.getCurrentResult()),ps.useEffect(()=>{e.setOptions(C,{listeners:!1})},[C,e]),W6(C,T))throw Y6(C,e,U);if(q6({result:T,errorResetBoundary:U,throwOnError:C.throwOnError,query:Ne.getQueryCache().get(C.queryHash)}))throw T.error;return(b=(_=Ne.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||b.call(_,C,T),C.notifyOnChangeProps?T:e.trackResult(T)}function Z6(B,Z){return X6(B,O6)}const K6="_container_11xk1_1",J6="_title_11xk1_6",m2={container:K6,title:J6},$6=new P6;function Q6(B,Z){const me={title:`Commits to the facebook/react repo (${new Date(Z[0].week*1e3).toLocaleDateString()} - ${new Date(Z[Z.length-1].week*1e3).toLocaleDateString()})`,xaxis:{title:"Week",showgrid:!0,zeroline:!1,tickformat:"%Y-%m-%d"},yaxis:{title:"Commits",showline:!1}},Ne={x:Z.map(Ze=>new Date(Ze.week*1e3)),y:Z.map(Ze=>Ze.total),text:Z.map(Ze=>`${Ze.total} commits`)};U_.newPlot(B,[Ne],me)}function e8(B,Z){const me={title:"Commits to the facebook/react repo, by day",height:350},Ne=Array.from({length:7},()=>[]);Z.forEach(U=>{U.days.forEach((C,e)=>{Ne[e].push(C)})});const Ze={z:Ne,y:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x:Z.map(U=>new Date(U.week*1e3)),type:"heatmap"};U_.newPlot(B,[Ze],me)}function t8(){const{isPending:B,error:Z,data:me}=Z6({queryKey:["repoData"],queryFn:()=>fetch("https://api.github.com/repos/facebook/react/stats/commit_activity").then(Ne=>Ne.json())});return B?"Loading...":Z?`An error has occurred: ${Z}`:ju.jsxs("main",{className:m2.container,children:[ju.jsx("h1",{className:m2.title,children:"MDN Content repo commit activity"}),ju.jsx("div",{ref:Ne=>{Ne&&Q6(Ne,me)}}),ju.jsx("div",{ref:Ne=>{Ne&&e8(Ne,me)}})]})}function n8(){return ju.jsx(R6,{client:$6,children:ju.jsx(t8,{})})}b1.createRoot(document.getElementById("root")).render(ju.jsx(n4.StrictMode,{children:ju.jsx(n8,{})}));
